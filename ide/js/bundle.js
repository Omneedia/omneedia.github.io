!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e){var i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(10),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){return function e(t,n,i){var r,o,a=window,s="application/octet-stream",l=i||s,d=t,c=!n&&!i&&d,u=document.createElement("a"),h=function(e){return String(e)},f=a.Blob||a.MozBlob||a.WebKitBlob||h,g=n||"download";if(f=f.call?f.bind(a):Blob,"true"===String(this)&&(l=(d=[d,l])[0],d=d[1]),c&&c.length<2048&&(g=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var p=new XMLHttpRequest;return p.open("GET",c,!0),p.responseType="blob",p.onload=function(t){e(t.target.response,g,s)},setTimeout(function(){p.send()},0),p}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(d)){if(!(d.length>2096103.424&&f!==h))return navigator.msSaveBlob?navigator.msSaveBlob(m(d),g):x(d);d=m(d),l=d.type||s}function m(e){for(var t=e.split(/[:;,]/),n=t[1],i="base64"==t[2]?atob:decodeURIComponent,r=i(t.pop()),o=r.length,a=0,s=new Uint8Array(o);a<o;++a)s[a]=r.charCodeAt(a);return new f([s],{type:n})}function x(e,t){if("download"in u)return u.href=e,u.setAttribute("download",g),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout(function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout(function(){a.URL.revokeObjectURL(u.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-\+]+)/,s),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(r=d instanceof f?d:new f([d],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,g);if(a.URL)x(a.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===h)try{return x("data:"+l+";base64,"+a.btoa(r))}catch(e){return x("data:"+l+","+encodeURIComponent(r))}(o=new FileReader).onload=function(e){x(this.result)},o.readAsDataURL(r)}return!0}})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e=void 0,t=void 0,n=function(){e.defaultStack.context=document.body,window.addEventListener("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){e.positionAll()},10)})},o=function(e){e.overlay.parentNode&&e.overlay.parentNode.removeChild(e.overlay)},a=function(e,t){return"object"!==(void 0===e?"undefined":r(e))&&(e={text:e}),t&&(e.type=t),{target:document.body,data:e}},s={runModules:function(t){if("init"===t){for(var n in e.modules)if(e.modules.hasOwnProperty(n)&&"function"==typeof e.modules[n].init){var r=e.modules[n].init(this);this.initModule(r)}}else{var o=this.get("_modules");for(var a in o)if(o.hasOwnProperty(a)){var s=i({_notice:this,_options:this.get()},this.get("modules")[a]);o[a].set(s),"function"==typeof o[a][t]&&o[a][t]()}}},initModule:function(e){var t=this.get("modules");t.hasOwnProperty(e.constructor.key)||(t[e.constructor.key]={});var n=i({_notice:this,_options:this.get()},t[e.constructor.key]);e.initModule(n),this.get("_modules")[e.constructor.key]=e},update:function(e){var t=this.get("hide"),n=this.get("icon");this.set(e),this.runModules("update"),this.get("hide")?t||this.queueClose():this.cancelClose(),this.queuePosition();var i=this.get("icon");return i!==n&&(!0===i&&"fontawesome5"===this.get("icons")||"string"==typeof i&&i.match(/(^| )fa[srlb]($| )/))&&(this.set({icon:!1}),this.set({icon:i})),this},open:function(){var t=this;if("opening"!==this.get("_state")){if("open"!==this.get("_state")){this.set({_state:"opening",_animatingClass:"ui-pnotify-initial-hidden"}),this.runModules("beforeOpen");var n=this.get("stack");if(!this.refs.elem.parentNode||n&&n.context&&n.context!==this.refs.elem.parentNode)if(n&&n.context)n.context.appendChild(this.refs.elem);else{if(!document.body)throw new Error("No context to open this notice in.");document.body.appendChild(this.refs.elem)}return setTimeout(function(){n&&(n.animation=!1,e.positionAll(),n.animation=!0),t.animateIn(function(){t.get("hide")&&t.queueClose(),t.set({_state:"open"}),t.runModules("afterOpen")})},0),this}this.get("hide")&&this.queueClose()}},remove:function(e){return this.close(e)},close:function(t){var n=this;if("closing"!==this.get("_state")&&"closed"!==this.get("_state"))return this.set({_state:"closing",_timerHide:!!t}),this.runModules("beforeClose"),this.get("_timer")&&clearTimeout&&(clearTimeout(this.get("_timer")),this.set({_timer:null})),this.animateOut(function(){if(n.set({_state:"closed"}),n.runModules("afterClose"),n.queuePosition(),n.get("remove")&&n.refs.elem.parentNode.removeChild(n.refs.elem),n.runModules("beforeDestroy"),n.get("destroy")&&null!==e.notices){var t=e.notices.indexOf(n);-1!==t&&e.notices.splice(t,1)}n.runModules("afterDestroy")}),this},animateIn:function(e){var t=this;this.set({_animating:"in"});var n=function n(){if(t.refs.elem.removeEventListener("transitionend",n),t.get("_animTimer")&&clearTimeout(t.get("_animTimer")),"in"===t.get("_animating")){var i=t.get("_moduleIsNoticeOpen");if(!i){var r=t.refs.elem.getBoundingClientRect();for(var o in r)if(r[o]>0){i=!0;break}}i?(e&&e.call(),t.set({_animating:!1})):t.set({_animTimer:setTimeout(n,40)})}};"fade"===this.get("animation")?(this.refs.elem.addEventListener("transitionend",n),this.set({_animatingClass:"ui-pnotify-in"}),this.refs.elem.style.opacity,this.set({_animatingClass:"ui-pnotify-in ui-pnotify-fade-in"}),this.set({_animTimer:setTimeout(n,650)})):(this.set({_animatingClass:"ui-pnotify-in"}),n())},animateOut:function(t){var n=this;this.set({_animating:"out"});var i=function i(){if(n.refs.elem.removeEventListener("transitionend",i),n.get("_animTimer")&&clearTimeout(n.get("_animTimer")),"out"===n.get("_animating")){var r=n.get("_moduleIsNoticeOpen");if(!r){var a=n.refs.elem.getBoundingClientRect();for(var s in a)if(a[s]>0){r=!0;break}}if(n.refs.elem.style.opacity&&"0"!=n.refs.elem.style.opacity&&r)n.set({_animTimer:setTimeout(i,40)});else{n.set({_animatingClass:""});var l=n.get("stack");if(l&&l.overlay){for(var d=!1,c=0;c<e.notices.length;c++){var u=e.notices[c];if(u!=n&&u.get("stack")===l&&"closed"!==u.get("_state")){d=!0;break}}d||o(l)}t&&t.call(),n.set({_animating:!1})}}};"fade"===this.get("animation")?(this.refs.elem.addEventListener("transitionend",i),this.set({_animatingClass:"ui-pnotify-in"}),this.set({_animTimer:setTimeout(i,650)})):(this.set({_animatingClass:""}),i())},position:function(){var t=this.get("stack"),n=this.refs.elem;if(t){if(t.context||(t.context=document.body),"number"!=typeof t.nextpos1&&(t.nextpos1=t.firstpos1),"number"!=typeof t.nextpos2&&(t.nextpos2=t.firstpos2),"number"!=typeof t.addpos2&&(t.addpos2=0),!n.classList.contains("ui-pnotify-in")&&!n.classList.contains("ui-pnotify-initial-hidden"))return this;var i,r,o;t.modal&&(t.overlay||(r=t,(o=document.createElement("div")).classList.add("ui-pnotify-modal-overlay"),r.context!==document.body&&(o.style.height=r.context.scrollHeight+"px",o.style.width=r.context.scrollWidth+"px"),o.addEventListener("click",function(){r.overlayClose&&e.closeStack(r)}),r.overlay=o),(i=t).overlay.parentNode!==i.context&&(i.overlay=i.context.insertBefore(i.overlay,i.context.firstChild))),n.getBoundingClientRect(),t.animation&&this.set({_moveClass:"ui-pnotify-move"});var a=t.context===document.body?window.innerHeight:t.context.scrollHeight,s=t.context===document.body?window.innerWidth:t.context.scrollWidth,l=void 0;if(t.dir1){l={down:"top",up:"bottom",left:"right",right:"left"}[t.dir1];var d=void 0;switch(t.dir1){case"down":d=n.offsetTop;break;case"up":d=a-n.scrollHeight-n.offsetTop;break;case"left":d=s-n.scrollWidth-n.offsetLeft;break;case"right":d=n.offsetLeft}void 0===t.firstpos1&&(t.firstpos1=d,t.nextpos1=t.firstpos1)}if(t.dir1&&t.dir2){var c={down:"top",up:"bottom",left:"right",right:"left"}[t.dir2],u=void 0;switch(t.dir2){case"down":u=n.offsetTop;break;case"up":u=a-n.scrollHeight-n.offsetTop;break;case"left":u=s-n.scrollWidth-n.offsetLeft;break;case"right":u=n.offsetLeft}void 0===t.firstpos2&&(t.firstpos2=u,t.nextpos2=t.firstpos2);var h=t.nextpos1+n.offsetHeight+(void 0===t.spacing1?25:t.spacing1),f=t.nextpos1+n.offsetWidth+(void 0===t.spacing1?25:t.spacing1);switch((("down"===t.dir1||"up"===t.dir1)&&h>a||("left"===t.dir1||"right"===t.dir1)&&f>s)&&(t.nextpos1=t.firstpos1,t.nextpos2+=t.addpos2+(void 0===t.spacing2?25:t.spacing2),t.addpos2=0),"number"==typeof t.nextpos2&&(n.style[c]=t.nextpos2+"px",t.animation||n.style[c]),t.dir2){case"down":case"up":n.offsetHeight+(parseFloat(n.style.marginTop,10)||0)+(parseFloat(n.style.marginBottom,10)||0)>t.addpos2&&(t.addpos2=n.offsetHeight);break;case"left":case"right":n.offsetWidth+(parseFloat(n.style.marginLeft,10)||0)+(parseFloat(n.style.marginRight,10)||0)>t.addpos2&&(t.addpos2=n.offsetWidth)}}else if(t.dir1){var g=void 0,p=void 0;switch(t.dir1){case"down":case"up":p=["left","right"],g=t.context.scrollWidth/2-n.offsetWidth/2;break;case"left":case"right":p=["top","bottom"],g=a/2-n.offsetHeight/2}n.style[p[0]]=g+"px",n.style[p[1]]="auto",t.animation||n.style[p[0]]}if(t.dir1)switch("number"==typeof t.nextpos1&&(n.style[l]=t.nextpos1+"px",t.animation||n.style[l]),t.dir1){case"down":case"up":t.nextpos1+=n.offsetHeight+(void 0===t.spacing1?25:t.spacing1);break;case"left":case"right":t.nextpos1+=n.offsetWidth+(void 0===t.spacing1?25:t.spacing1)}else{var m=s/2-n.offsetWidth/2,x=a/2-n.offsetHeight/2;n.style.left=m+"px",n.style.top=x+"px",t.animation||n.style.left}return this}},queuePosition:function(n){return t&&clearTimeout(t),n||(n=10),t=setTimeout(function(){e.positionAll()},n),this},cancelRemove:function(){return this.cancelClose()},cancelClose:function(){return this.get("_timer")&&clearTimeout(this.get("_timer")),this.get("_animTimer")&&clearTimeout(this.get("_animTimer")),"closing"===this.get("_state")&&this.set({_state:"open",_animating:!1,_animatingClass:"fade"===this.get("animation")?"ui-pnotify-in ui-pnotify-fade-in":"ui-pnotify-in"}),this},queueRemove:function(){return this.queueClose()},queueClose:function(){var e=this;return this.cancelClose(),this.set({_timer:setTimeout(function(){return e.close(!0)},isNaN(this.get("delay"))?0:this.get("delay"))}),this},addModuleClass:function(){for(var e=this.get("_moduleClasses"),t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0;r<n.length;r++){var o=n[r];-1===e.indexOf(o)&&e.push(o)}this.set({_moduleClasses:e})},removeModuleClass:function(){for(var e=this.get("_moduleClasses"),t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0;r<n.length;r++){var o=n[r],a=e.indexOf(o);-1!==a&&e.splice(a,1)}this.set({_moduleClasses:e})},hasModuleClass:function(){for(var e=this.get("_moduleClasses"),t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0;r<n.length;r++){var o=n[r];if(-1===e.indexOf(o))return!1}return!0}};function l(e,t,n,i,r){var o;if(n)var a=new n({root:r.root});return a&&a.on("init",function(e){r.initModule(e.module)}),{c:function(){o=I(),a&&a._fragment.c()},m:function(e,t){w(o,e,t),a&&a._mount(e,t)},u:function(){T(o),a&&a._unmount()},d:function(){a&&a.destroy(!1)}}}function d(e,t){var n,i,r,o;return{c:function(){n=E("div"),i=E("span"),this.h()},h:function(){i.className=r=!0===e.icon?e._icons[e.type]?e._icons[e.type]:"":e.icon,n.className=o="ui-pnotify-icon "+(e._styles.icon?e._styles.icon:"")},m:function(e,t){w(n,e,t),v(i,n)},p:function(e,t){(e.icon||e._icons||e.type)&&r!==(r=!0===t.icon?t._icons[t.type]?t._icons[t.type]:"":t.icon)&&(i.className=r),e._styles&&o!==(o="ui-pnotify-icon "+(t._styles.icon?t._styles.icon:""))&&(n.className=o)},u:function(){T(n)},d:M}}function c(e,t){var n,i;return{c:function(){n=E("noscript"),i=E("noscript")},m:function(t,r){w(n,t,r),n.insertAdjacentHTML("afterend",e.title),w(i,t,r)},p:function(e,t){e.title&&(R(n,i),n.insertAdjacentHTML("afterend",t.title))},u:function(){R(n,i),T(n),T(i)},d:M}}function u(e,t){var n;return{c:function(){n=y(e.title)},m:function(e,t){w(n,e,t)},p:function(e,t){e.title&&(n.data=t.title)},u:function(){T(n)},d:M}}function h(e,t){var n,i;return{c:function(){n=E("noscript"),i=E("noscript")},m:function(t,r){w(n,t,r),n.insertAdjacentHTML("afterend",e.text),w(i,t,r)},p:function(e,t){e.text&&(R(n,i),n.insertAdjacentHTML("afterend",t.text))},u:function(){R(n,i),T(n),T(i)},d:M}}function f(e,t){var n;return{c:function(){n=y(e.text)},m:function(e,t){w(n,e,t)},p:function(e,t){e.text&&(n.data=t.text)},u:function(){T(n)},d:M}}function g(e,t,n,i,r){var o;if(n)var a=new n({root:r.root});return a&&a.on("init",function(e){r.initModule(e.module)}),{c:function(){o=I(),a&&a._fragment.c()},m:function(e,t){w(o,e,t),a&&a._mount(e,t)},u:function(){T(o),a&&a._unmount()},d:function(){a&&a.destroy(!1)}}}function p(e){return e.titleTrusted?c:u}function m(e){return e.textTrusted?h:f}function x(t){var n,r,o,a;r=t,(n=this)._observers={pre:L(),post:L()},n._handlers=L(),n._bind=r._bind,n.options=r,n.root=r.root||n,n.store=n.root.store||r.store,this.refs={},this._state=A(((o=i({_state:"initializing",_timer:null,_animTimer:null,_animating:!1,_animatingClass:"",_moveClass:"",_timerHide:!1,_moduleClasses:[],_moduleIsNoticeOpen:!1,_modules:{},_modulesPrependContainer:e.modulesPrependContainer,_modulesAppendContainer:e.modulesAppendContainer},e.defaults)).modules=i({},e.defaults.modules),o),t.data),this._recompute({styling:1,icons:1},this._state),document.getElementById("svelte-3059224252-style")||((a=E("style")).id="svelte-3059224252-style",a.textContent='body > .ui-pnotify{position:fixed;z-index:100040}body > .ui-pnotify.ui-pnotify-modal{z-index:100042}.ui-pnotify{position:absolute;height:auto;z-index:1;display:none}.ui-pnotify.ui-pnotify-modal{z-index:3}.ui-pnotify.ui-pnotify-in{display:block}.ui-pnotify.ui-pnotify-initial-hidden{display:block;visibility:hidden}.ui-pnotify.ui-pnotify-move{transition:left .5s ease, top .5s ease, right .5s ease, bottom .5s ease}.ui-pnotify.ui-pnotify-fade-slow{transition:opacity .4s linear;opacity:0}.ui-pnotify.ui-pnotify-fade-slow.ui-pnotify.ui-pnotify-move{transition:opacity .4s linear, left .5s ease, top .5s ease, right .5s ease, bottom .5s ease}.ui-pnotify.ui-pnotify-fade-normal{transition:opacity .25s linear;opacity:0}.ui-pnotify.ui-pnotify-fade-normal.ui-pnotify.ui-pnotify-move{transition:opacity .25s linear, left .5s ease, top .5s ease, right .5s ease, bottom .5s ease}.ui-pnotify.ui-pnotify-fade-fast{transition:opacity .1s linear;opacity:0}.ui-pnotify.ui-pnotify-fade-fast.ui-pnotify.ui-pnotify-move{transition:opacity .1s linear, left .5s ease, top .5s ease, right .5s ease, bottom .5s ease}.ui-pnotify.ui-pnotify-fade-in{opacity:1}.ui-pnotify .ui-pnotify-shadow{-webkit-box-shadow:0px 6px 28px 0px rgba(0,0,0,0.1);-moz-box-shadow:0px 6px 28px 0px rgba(0,0,0,0.1);box-shadow:0px 6px 28px 0px rgba(0,0,0,0.1)}.ui-pnotify-container{background-position:0 0;padding:.8em;height:100%;margin:0}.ui-pnotify-container:after{content:" ";visibility:hidden;display:block;height:0;clear:both}.ui-pnotify-container.ui-pnotify-sharp{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.ui-pnotify-title{display:block;white-space:pre-line;margin-bottom:.4em;margin-top:0}.ui-pnotify.ui-pnotify-with-icon .ui-pnotify-title,.ui-pnotify.ui-pnotify-with-icon .ui-pnotify-text{margin-left:24px}[dir=rtl] .ui-pnotify.ui-pnotify-with-icon .ui-pnotify-title,[dir=rtl] .ui-pnotify.ui-pnotify-with-icon .ui-pnotify-text{margin-right:24px;margin-left:0}.ui-pnotify-title-bs4{font-size:1.2rem}.ui-pnotify-text{display:block;white-space:pre-line}.ui-pnotify-icon,.ui-pnotify-icon span{display:block;float:left}[dir=rtl] .ui-pnotify-icon,[dir=rtl] .ui-pnotify-icon span{float:right}.ui-pnotify-icon-bs3 > span{position:relative;top:2px}.ui-pnotify-icon-bs4 > span{position:relative;top:4px}.ui-pnotify-modal-overlay{background-color:rgba(0, 0, 0, .4);top:0;left:0;position:absolute;height:100%;width:100%;z-index:2}body > .ui-pnotify-modal-overlay{position:fixed;z-index:100041}',v(a,document.head));var s=function(){var t=this;this.on("mouseenter",function(e){if(t.get("mouseReset")&&"out"===t.get("_animating")){if(!t.get("_timerHide"))return;t.cancelClose()}t.get("hide")&&t.get("mouseReset")&&t.cancelClose()}),this.on("mouseleave",function(n){t.get("hide")&&t.get("mouseReset")&&"out"!==t.get("_animating")&&t.queueClose(),e.positionAll()});var n=this.get("stack");n&&"top"===n.push?e.notices.splice(0,0,this):e.notices.push(this),this.runModules("init"),this.set({_state:"closed"}),this.get("autoDisplay")&&this.open()}.bind(this);t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(e,t){for(var n,i,r,o,a,s,c,u,h,f,x,I,M,R=e._modulesPrependContainer,A=[],D=0;D<R.length;D+=1)A[D]=l(0,0,R[D],0,t);var F=!1!==e.icon&&d(e),L=p(e),O=L(e,t),B=m(e),N=B(e,t),H=e._modulesAppendContainer,V=[];for(D=0;D<H.length;D+=1)V[D]=g(0,0,H[D],0,t);function z(e){t.fire("mouseover",e)}function W(e){t.fire("mouseout",e)}function G(e){t.fire("mouseenter",e)}function _(e){t.fire("mouseleave",e)}function X(e){t.fire("mousemove",e)}function U(e){t.fire("mousedown",e)}function Y(e){t.fire("mouseup",e)}function q(e){t.fire("click",e)}function j(e){t.fire("dblclick",e)}function K(e){t.fire("focus",e)}function $(e){t.fire("blur",e)}function Q(e){t.fire("touchstart",e)}function Z(e){t.fire("touchmove",e)}function J(e){t.fire("touchend",e)}function ee(e){t.fire("touchcancel",e)}return{c:function(){n=E("div"),i=E("div");for(var e=0;e<A.length;e+=1)A[e].c();for(r=y("\n    "),F&&F.c(),o=y("\n    "),a=E("h4"),O.c(),c=y("\n    "),u=E("div"),N.c(),f=y("\n    "),e=0;e<V.length;e+=1)V[e].c();this.h()},h:function(){a.className=s="ui-pnotify-title "+(e._styles.title?e._styles.title:""),b(a,"display",!1===e.title?"none":"block"),u.className=h="ui-pnotify-text "+(e._styles.text?e._styles.text:""),b(u,"display",!1===e.text?"none":"block"),C(u,"role","alert"),i.className=x="\n        ui-pnotify-container\n        "+(e._styles.container?e._styles.container:"")+"\n        "+(e._styles[e.type]?e._styles[e.type]:"")+"\n        "+e.cornerClass+"\n        "+(e.shadow?"ui-pnotify-shadow":"")+"\n      ",i.style.cssText=I="\n        "+("string"==typeof e.width?"width: "+e.width+";":"")+"\n        "+("string"==typeof e.minHeight?"min-height: "+e.minHeight+";":"")+"\n      ",C(i,"role","alert"),n.className=M="\n      ui-pnotify\n      "+(!1!==e.icon?"ui-pnotify-with-icon":"")+"\n      "+(e._styles.element?e._styles.element:"")+"\n      "+e.addClass+"\n      "+e._animatingClass+"\n      "+e._moveClass+"\n      "+("fade"===e.animation?"ui-pnotify-fade-"+e.animateSpeed:"")+"\n      "+(e.stack&&e.stack.modal?"ui-pnotify-modal":"")+"\n      "+e._moduleClasses.join(" ")+"\n    ",C(n,"aria-live","assertive"),C(n,"role","alertdialog"),C(n,"ui-pnotify",!0),S(n,"mouseover",z),S(n,"mouseout",W),S(n,"mouseenter",G),S(n,"mouseleave",_),S(n,"mousemove",X),S(n,"mousedown",U),S(n,"mouseup",Y),S(n,"click",q),S(n,"dblclick",j),S(n,"focus",K),S(n,"blur",$),S(n,"touchstart",Q),S(n,"touchmove",Z),S(n,"touchend",J),S(n,"touchcancel",ee)},m:function(e,s){w(n,e,s),v(i,n);for(var l=0;l<A.length;l+=1)A[l].m(i,null);for(v(r,i),F&&F.m(i,null),v(o,i),v(a,i),O.m(a,null),t.refs.titleContainer=a,v(c,i),v(u,i),N.m(u,null),t.refs.textContainer=u,v(f,i),l=0;l<V.length;l+=1)V[l].m(i,null);t.refs.container=i,t.refs.elem=n},p:function(e,c){var f=c._modulesPrependContainer;if(e._modulesPrependContainer){for(var E=A.length;E<f.length;E+=1)A[E]=l(0,0,f[E],0,t),A[E].c(),A[E].m(i,r);for(;E<A.length;E+=1)A[E].u(),A[E].d();A.length=f.length}!1!==c.icon?F?F.p(e,c):((F=d(c)).c(),F.m(i,o)):F&&(F.u(),F.d(),F=null),L===(L=p(c))&&O?O.p(e,c):(O.u(),O.d(),(O=L(c,t)).c(),O.m(a,null)),e._styles&&s!==(s="ui-pnotify-title "+(c._styles.title?c._styles.title:""))&&(a.className=s),e.title&&b(a,"display",!1===c.title?"none":"block"),B===(B=m(c))&&N?N.p(e,c):(N.u(),N.d(),(N=B(c,t)).c(),N.m(u,null)),e._styles&&h!==(h="ui-pnotify-text "+(c._styles.text?c._styles.text:""))&&(u.className=h),e.text&&b(u,"display",!1===c.text?"none":"block");var v=c._modulesAppendContainer;if(e._modulesAppendContainer){for(E=V.length;E<v.length;E+=1)V[E]=g(0,0,v[E],0,t),V[E].c(),V[E].m(i,null);for(;E<V.length;E+=1)V[E].u(),V[E].d();V.length=v.length}(e._styles||e.type||e.cornerClass||e.shadow)&&x!==(x="\n        ui-pnotify-container\n        "+(c._styles.container?c._styles.container:"")+"\n        "+(c._styles[c.type]?c._styles[c.type]:"")+"\n        "+c.cornerClass+"\n        "+(c.shadow?"ui-pnotify-shadow":"")+"\n      ")&&(i.className=x),(e.width||e.minHeight)&&I!==(I="\n        "+("string"==typeof c.width?"width: "+c.width+";":"")+"\n        "+("string"==typeof c.minHeight?"min-height: "+c.minHeight+";":"")+"\n      ")&&(i.style.cssText=I),(e.icon||e._styles||e.addClass||e._animatingClass||e._moveClass||e.animation||e.animateSpeed||e.stack||e._moduleClasses)&&M!==(M="\n      ui-pnotify\n      "+(!1!==c.icon?"ui-pnotify-with-icon":"")+"\n      "+(c._styles.element?c._styles.element:"")+"\n      "+c.addClass+"\n      "+c._animatingClass+"\n      "+c._moveClass+"\n      "+("fade"===c.animation?"ui-pnotify-fade-"+c.animateSpeed:"")+"\n      "+(c.stack&&c.stack.modal?"ui-pnotify-modal":"")+"\n      "+c._moduleClasses.join(" ")+"\n    ")&&(n.className=M)},u:function(){T(n);for(var e=0;e<A.length;e+=1)A[e].u();for(F&&F.u(),O.u(),N.u(),e=0;e<V.length;e+=1)V[e].u()},d:function(){P(A),F&&F.d(),O.d(),t.refs.titleContainer===a&&(t.refs.titleContainer=null),N.d(),t.refs.textContainer===u&&(t.refs.textContainer=null),P(V),t.refs.container===i&&(t.refs.container=null),k(n,"mouseover",z),k(n,"mouseout",W),k(n,"mouseenter",G),k(n,"mouseleave",_),k(n,"mousemove",X),k(n,"mousedown",U),k(n,"mouseup",Y),k(n,"click",q),k(n,"dblclick",j),k(n,"focus",K),k(n,"blur",$),k(n,"touchstart",Q),k(n,"touchmove",Z),k(n,"touchend",J),k(n,"touchcancel",ee),t.refs.elem===n&&(t.refs.elem=null)}}}(this._state,this),this.root._oncreate.push(s),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,D(this._beforecreate),D(this._oncreate),D(this._aftercreate),this._lock=!1)}function E(e){return document.createElement(e)}function v(e,t){t.appendChild(e)}function y(e){return document.createTextNode(e)}function b(e,t,n){e.style.setProperty(t,n)}function C(e,t,n){e.setAttribute(t,n)}function S(e,t,n){e.addEventListener(t,n,!1)}function w(e,t,n){t.insertBefore(e,n)}function T(e){e.parentNode.removeChild(e)}function P(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function k(e,t,n){e.removeEventListener(t,n,!1)}function I(){return document.createComment("")}function M(){}function R(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function A(e){for(var t,n,i=1,r=arguments.length;i<r;i++)for(t in n=arguments[i])e[t]=n[t];return e}function D(e){for(;e&&e.length;)e.shift()()}function F(e){this.destroy=M,this.fire("destroy"),this.set=this.get=M,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function L(){return Object.create(null)}function O(e,t,n,i,r){for(var o in t)if(n[o]){var a=i[o],s=r[o],l=t[o];if(l)for(var d=0;d<l.length;d+=1){var c=l[d];c.__calling||(c.__calling=!0,c.call(e,a,s),c.__calling=!1)}}}A(x.prototype,s,{destroy:F,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1)n[i].call(this,t)},observe:function(e,t,n){var i=n&&n.defer?this._observers.post:this._observers.pre;return(i[e]||(i[e]=[])).push(t),n&&!1===n.init||(t.__calling=!0,t.call(this,this._state[e]),t.__calling=!1),{cancel:function(){var n=i[e].indexOf(t);~n&&i[e].splice(n,1)}}},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){this._set(A({},e)),this.root._lock||(this.root._lock=!0,D(this.root._beforecreate),D(this.root._oncreate),D(this.root._aftercreate),this.root._lock=!1)},teardown:F,_set:function(e){var t=this._state,n={},i=!1;for(var r in e)this._differs(e[r],t[r])&&(n[r]=i=!0);i&&(this._state=A({},t,e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(O(this,this._observers.pre,n,this._state,t),this._fragment.p(n,this._state),O(this,this._observers.post,n,this._state,t)))},_mount:function(e,t){this._fragment.m(e,t)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"===(void 0===e?"undefined":r(e))||"function"==typeof e}}),x.prototype._recompute=function(t,n){var i,o;t.styling&&this._differs(n._styles,n._styles="object"===(void 0===(i=n.styling)?"undefined":r(i))?i:e.styling[i])&&(t._styles=!0),t.icons&&this._differs(n._icons,n._icons="object"===(void 0===(o=n.icons)?"undefined":r(o))?o:e.icons[o])&&(t._icons=!0)},(e=x).VERSION="4.0.0-alpha.2",e.defaultStack={dir1:"down",dir2:"left",firstpos1:25,firstpos2:25,spacing1:36,spacing2:36,push:"bottom",context:window&&document.body},e.defaults={title:!1,titleTrusted:!1,text:!1,textTrusted:!1,styling:"brighttheme",icons:"brighttheme",addClass:"",cornerClass:"",autoDisplay:!0,width:"360px",minHeight:"16px",type:"notice",icon:!0,animation:"fade",animateSpeed:"normal",shadow:!0,hide:!0,delay:8e3,mouseReset:!0,remove:!0,destroy:!0,stack:e.defaultStack,modules:{}},e.notices=[],e.modules={},e.modulesPrependContainer=[],e.modulesAppendContainer=[],e.alert=function(t){return new e(a(t))},e.notice=function(t){return new e(a(t,"notice"))},e.info=function(t){return new e(a(t,"info"))},e.success=function(t){return new e(a(t,"success"))},e.error=function(t){return new e(a(t,"error"))},e.removeAll=function(){e.closeAll()},e.closeAll=function(){for(var t=0;t<e.notices.length;t++)e.notices[t].close&&e.notices[t].close(!1)},e.removeStack=function(t){e.closeStack(t)},e.closeStack=function(t){if(!1!==t)for(var n=0;n<e.notices.length;n++)e.notices[n].close&&e.notices[n].get("stack")===t&&e.notices[n].close(!1)},e.positionAll=function(){if(t&&clearTimeout(t),t=null,e.notices.length>0){for(var n=0;n<e.notices.length;n++){var i=e.notices[n].get("stack");i&&(i.overlay&&o(i),i.nextpos1=i.firstpos1,i.nextpos2=i.firstpos2,i.addpos2=0)}for(var r=0;r<e.notices.length;r++)e.notices[r].position()}else delete e.defaultStack.nextpos1,delete e.defaultStack.nextpos2},e.styling={brighttheme:{container:"brighttheme",notice:"brighttheme-notice",info:"brighttheme-info",success:"brighttheme-success",error:"brighttheme-error"},bootstrap3:{container:"alert",notice:"alert-warning",info:"alert-info",success:"alert-success",error:"alert-danger",icon:"ui-pnotify-icon-bs3"},bootstrap4:{container:"alert",notice:"alert-warning",info:"alert-info",success:"alert-success",error:"alert-danger",icon:"ui-pnotify-icon-bs4",title:"ui-pnotify-title-bs4"}},e.icons={brighttheme:{notice:"brighttheme-icon-notice",info:"brighttheme-icon-info",success:"brighttheme-icon-success",error:"brighttheme-icon-error"},bootstrap3:{notice:"glyphicon glyphicon-exclamation-sign",info:"glyphicon glyphicon-info-sign",success:"glyphicon glyphicon-ok-sign",error:"glyphicon glyphicon-warning-sign"},fontawesome4:{notice:"fa fa-exclamation-circle",info:"fa fa-info-circle",success:"fa fa-check-circle",error:"fa fa-exclamation-triangle"},fontawesome5:{notice:"fas fa-exclamation-circle",info:"fas fa-info-circle",success:"fas fa-check-circle",error:"fas fa-exclamation-triangle"}},window&&document.body?n():document.addEventListener("DOMContentLoaded",n)}()},function(e,t,n){(function(t){var n;e.exports=function e(t,i,r){function o(s,l){if(!i[s]){if(!t[s]){var d="function"==typeof n&&n;if(!l&&d)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n||e)},u,u.exports,e,t,i,r)}return i[s].exports}for(var a="function"==typeof n&&n,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t="classList",n="prototype",i=e.Element[n],r=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},d=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=d[n]=[],u=function(){return new d(this)};if(s[n]=Error[n],c.item=function(e){return this[e]||null},c.contains=function(e){return-1!==l(this,e+="")},c.add=function(){for(var e,t=arguments,n=0,i=t.length,r=!1;e=t[n]+"",-1===l(this,e)&&(this.push(e),r=!0),++n<i;);r&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=l(this,e);-1!==t;)this.splice(t,1),o=!0,t=l(this,e)}while(++i<r);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},r.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{r.defineProperty(i,t,h)}catch(e){void 0!==e.number&&-2146823252!==e.number||(h.enumerable=!1,r.defineProperty(i,t,h))}}else r[n].__defineGetter__&&i.__defineGetter__(t,u)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}())},{}],2:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){var r=t.createElement("html");return r.innerHTML=e,r.removeChild(r.lastChild)}var a=o[i]||o._default,s=a[0],l=a[1],d=a[2];for((r=t.createElement("div")).innerHTML=l+e+d;s--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var c=t.createDocumentFragment();r.firstChild;)c.appendChild(r.removeChild(r.firstChild));return c};var i,r=!1;"undefined"!=typeof document&&((i=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',r=!i.getElementsByTagName("link").length,i=void 0);var o={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:r?[1,"X<div>","</div>"]:[0,"",""]};o.td=o.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],o.option=o.optgroup=[1,'<select multiple="multiple">',"</select>"],o.thead=o.tbody=o.colgroup=o.caption=o.tfoot=[1,"<table>","</table>"],o.polyline=o.ellipse=o.polygon=o.circle=o.text=o.line=o.path=o.rect=o.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(e,t,n){"use strict";function i(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o=Object.keys(Object(r)),a=0,s=o.length;a<s;a++){var l=o[a],d=Object.getOwnPropertyDescriptor(r,l);void 0!==d&&d.enumerable&&(n[l]=r[l])}}return n}t.exports={assign:i,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}}},{}],4:[function(e,t,n){var i=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i,o=/(\[[^\[\]]*\])/g;function a(e,t,n){if(t.match(o))!function e(t,n,i){if(0===n.length)return t=i;var r=n.shift(),o=r.match(/^\[(.+?)\]$/);if("[]"===r)return t=t||[],Array.isArray(t)?t.push(e(null,n,i)):(t._values=t._values||[],t._values.push(e(null,n,i))),t;if(o){var a=o[1],s=+a;isNaN(s)?(t=t||{})[a]=e(t[a],n,i):(t=t||[])[s]=e(t[s],n,i)}else t[r]=e(t[r],n,i);return t}(e,function(e){var t=[],n=new RegExp(o),i=/^([^\[\]]*)/.exec(e);for(i[1]&&t.push(i[1]);null!==(i=n.exec(e));)t.push(i[1]);return t}(t),n);else{var i=e[t];i?(Array.isArray(i)||(e[t]=[i]),e[t].push(n)):e[t]=n}return e}function s(e,t,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=(n=encodeURIComponent(n)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+n}t.exports=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var n=t.hash?{}:"",o=t.serializer||(t.hash?a:s),l=e&&e.elements?e.elements:[],d=Object.create(null),c=0;c<l.length;++c){var u=l[c];if((t.disabled||!u.disabled)&&u.name&&r.test(u.nodeName)&&!i.test(u.type)){var h=u.name,f=u.value;if("checkbox"!==u.type&&"radio"!==u.type||u.checked||(f=void 0),t.empty){if("checkbox"!==u.type||u.checked||(f=""),"radio"===u.type&&(d[u.name]||u.checked?u.checked&&(d[u.name]=!0):d[u.name]=!1),!f&&"radio"==u.type)continue}else if(!f)continue;if("select-multiple"!==u.type)n=o(n,h,f);else{f=[];for(var g=u.options,p=!1,m=0;m<g.length;++m){var x=g[m],E=t.empty&&!x.value,v=x.value||E;x.selected&&v&&(p=!0,n=t.hash&&"[]"!==h.slice(h.length-2)?o(n,h+"[]",x.value):o(n,h,x.value))}!p&&t.empty&&(n=o(n,h,""))}}}if(t.empty)for(var h in d)d[h]||(n=o(n,h,""));return n}},{}],5:[function(e,n,i){(function(t){!function(e){"object"==typeof i&&void 0!==n?n.exports=e():("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).vexDialog=e()}(function(){return function t(n,i,r){function o(s,l){if(!i[s]){if(!n[s]){var d="function"==typeof e&&e;if(!l&&d)return d(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};n[s][0].call(u.exports,function(e){var t=n[s][1][e];return o(t||e)},u,u.exports,t,n,i,r)}return i[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){var r=t.createElement("html");return r.innerHTML=e,r.removeChild(r.lastChild)}var a=o[i]||o._default,s=a[0],l=a[1],d=a[2];for((r=t.createElement("div")).innerHTML=l+e+d;s--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var c=t.createDocumentFragment();r.firstChild;)c.appendChild(r.removeChild(r.firstChild));return c};var i,r=!1;"undefined"!=typeof document&&((i=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',r=!i.getElementsByTagName("link").length,i=void 0);var o={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:r?[1,"X<div>","</div>"]:[0,"",""]};o.td=o.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],o.option=o.optgroup=[1,'<select multiple="multiple">',"</select>"],o.thead=o.tbody=o.colgroup=o.caption=o.tfoot=[1,"<table>","</table>"],o.polyline=o.ellipse=o.polygon=o.circle=o.text=o.line=o.path=o.rect=o.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],2:[function(e,t,n){var i=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i,o=/(\[[^\[\]]*\])/g;function a(e,t,n){if(t.match(o))!function e(t,n,i){if(0===n.length)return t=i;var r=n.shift(),o=r.match(/^\[(.+?)\]$/);if("[]"===r)return t=t||[],Array.isArray(t)?t.push(e(null,n,i)):(t._values=t._values||[],t._values.push(e(null,n,i))),t;if(o){var a=o[1],s=+a;isNaN(s)?(t=t||{})[a]=e(t[a],n,i):(t=t||[])[s]=e(t[s],n,i)}else t[r]=e(t[r],n,i);return t}(e,function(e){var t=[],n=new RegExp(o),i=/^([^\[\]]*)/.exec(e);for(i[1]&&t.push(i[1]);null!==(i=n.exec(e));)t.push(i[1]);return t}(t),n);else{var i=e[t];i?(Array.isArray(i)||(e[t]=[i]),e[t].push(n)):e[t]=n}return e}function s(e,t,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=(n=encodeURIComponent(n)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+n}t.exports=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var n=t.hash?{}:"",o=t.serializer||(t.hash?a:s),l=e&&e.elements?e.elements:[],d=Object.create(null),c=0;c<l.length;++c){var u=l[c];if((t.disabled||!u.disabled)&&u.name&&r.test(u.nodeName)&&!i.test(u.type)){var h=u.name,f=u.value;if("checkbox"!==u.type&&"radio"!==u.type||u.checked||(f=void 0),t.empty){if("checkbox"!==u.type||u.checked||(f=""),"radio"===u.type&&(d[u.name]||u.checked?u.checked&&(d[u.name]=!0):d[u.name]=!1),!f&&"radio"==u.type)continue}else if(!f)continue;if("select-multiple"!==u.type)n=o(n,h,f);else{f=[];for(var g=u.options,p=!1,m=0;m<g.length;++m){var x=g[m],E=t.empty&&!x.value,v=x.value||E;x.selected&&v&&(p=!0,n=t.hash&&"[]"!==h.slice(h.length-2)?o(n,h+"[]",x.value):o(n,h,x.value))}!p&&t.empty&&(n=o(n,h,""))}}}if(t.empty)for(var h in d)d[h]||(n=o(n,h,""));return n}},{}],3:[function(e,t,n){var i=e("domify"),r=e("form-serialize");t.exports=function(e){var t={name:"dialog",open:function(t){var n=Object.assign({},this.defaultOptions,t);n.unsafeMessage&&!n.message?n.message=n.unsafeMessage:n.message&&(n.message=e._escapeHtml(n.message));var r=n.unsafeContent=function(e){var t=document.createElement("form");t.classList.add("vex-dialog-form");var n=document.createElement("div");n.classList.add("vex-dialog-message"),n.appendChild(e.message instanceof window.Node?e.message:i(e.message));var r=document.createElement("div");return r.classList.add("vex-dialog-input"),r.appendChild(e.input instanceof window.Node?e.input:i(e.input)),t.appendChild(n),t.appendChild(r),t}(n),o=e.open(n),a=n.beforeClose&&n.beforeClose.bind(o);if(o.options.beforeClose=function(){var e=!a||a();return e&&n.callback(this.value||!1),e}.bind(o),r.appendChild(function(e){var t=document.createElement("div");t.classList.add("vex-dialog-buttons");for(var n=0;n<e.length;n++){var i=e[n],r=document.createElement("button");r.type=i.type,r.textContent=i.text,r.className=i.className,r.classList.add("vex-dialog-button"),0===n?r.classList.add("vex-first"):n===e.length-1&&r.classList.add("vex-last"),function(e){r.addEventListener("click",function(t){e.click&&e.click.call(this,t)}.bind(this))}.bind(this)(i),t.appendChild(r)}return t}.call(o,n.buttons)),o.form=r,r.addEventListener("submit",n.onSubmit.bind(o)),n.focusFirstInput){var s=o.contentEl.querySelector("button, input, select, textarea");s&&s.focus()}return o},alert:function(e){return"string"==typeof e&&(e={message:e}),e=Object.assign({},this.defaultOptions,this.defaultAlertOptions,e),this.open(e)},confirm:function(e){if("object"!=typeof e||"function"!=typeof e.callback)throw new Error("dialog.confirm(options) requires options.callback.");return e=Object.assign({},this.defaultOptions,this.defaultConfirmOptions,e),this.open(e)},prompt:function(t){if("object"!=typeof t||"function"!=typeof t.callback)throw new Error("dialog.prompt(options) requires options.callback.");var n=Object.assign({},this.defaultOptions,this.defaultPromptOptions),i={unsafeMessage:'<label for="vex">'+e._escapeHtml(t.label||n.label)+"</label>",input:'<input name="vex" type="text" class="vex-dialog-prompt-input" placeholder="'+e._escapeHtml(t.placeholder||n.placeholder)+'" value="'+e._escapeHtml(t.value||n.value)+'" />'},r=(t=Object.assign(n,i,t)).callback;return t.callback=function(e){if("object"==typeof e){var t=Object.keys(e);e=t.length?e[t[0]]:""}r(e)},this.open(t)},buttons:{YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary",click:function(){this.value=!0}},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(){this.value=!1,this.close()}}}};return t.defaultOptions={callback:function(){},afterOpen:function(){},message:"",input:"",buttons:[t.buttons.YES,t.buttons.NO],showCloseButton:!1,onSubmit:function(e){return e.preventDefault(),this.options.input&&(this.value=r(this.form,{hash:!0})),this.close()},focusFirstInput:!0},t.defaultAlertOptions={buttons:[t.buttons.YES]},t.defaultPromptOptions={label:"Prompt:",placeholder:"",value:""},t.defaultConfirmOptions={},t}},{domify:1,"form-serialize":2}]},{},[3])(3)})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{domify:2,"form-serialize":4}],6:[function(e,t,n){var i=e("./vex");i.registerPlugin(e("vex-dialog")),t.exports=i},{"./vex":7,"vex-dialog":5}],7:[function(e,t,n){e("classlist-polyfill"),e("es6-object-assign").polyfill();var i=e("domify"),r=function(e){if(void 0!==e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}return""},o=function(e,t){if("string"==typeof t&&0!==t.length)for(var n=t.split(" "),i=0;i<n.length;i++){var r=n[i];r.length&&e.classList.add(r)}},a=function(){var e=document.createElement("div"),t={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}(),s="vex-closing",l="vex-open",d={},c=1,u=!1,h={open:function(e){var t=function(e){console.warn('The "'+e+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.'),console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};e.css&&t("css"),e.overlayCSS&&t("overlayCSS"),e.contentCSS&&t("contentCSS"),e.closeCSS&&t("closeCSS");var n={};n.id=c++,d[n.id]=n,n.isOpen=!0,n.close=function(){if(!this.isOpen)return!0;var e=this.options;if(u&&!e.escapeButtonCloses)return!1;if(!1===function(){return!e.beforeClose||e.beforeClose.call(this)}.bind(this)())return!1;this.isOpen=!1;var t=window.getComputedStyle(this.contentEl);function n(e){return"none"!==t.getPropertyValue(e+"animation-name")&&"0s"!==t.getPropertyValue(e+"animation-duration")}var i=n("")||n("-webkit-")||n("-moz-")||n("-o-"),r=function t(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(a,t),this.overlayEl.removeEventListener(a,t),delete d[this.id],this.rootEl.parentNode.removeChild(this.rootEl),this.bodyEl.removeChild(this.overlayEl),e.afterClose&&e.afterClose.call(this),0===Object.keys(d).length&&document.body.classList.remove(l))}.bind(this);return a&&i?(this.rootEl.addEventListener(a,r),this.overlayEl.addEventListener(a,r),this.rootEl.classList.add(s),this.overlayEl.classList.add(s)):r(),!0},"string"==typeof e&&(e={content:e}),e.unsafeContent&&!e.content?e.content=e.unsafeContent:e.content&&(e.content=r(e.content));var f=n.options=Object.assign({},h.defaultOptions,e),g=n.bodyEl=document.getElementsByTagName("body")[0],p=n.rootEl=document.createElement("div");p.classList.add("vex"),o(p,f.className);var m=n.overlayEl=document.createElement("div");m.classList.add("vex-overlay"),o(m,f.overlayClassName),f.overlayClosesOnClick&&p.addEventListener("click",function(e){e.target===p&&n.close()}),g.appendChild(m);var x=n.contentEl=document.createElement("div");if(x.classList.add("vex-content"),o(x,f.contentClassName),x.appendChild(f.content instanceof window.Node?f.content:i(f.content)),p.appendChild(x),f.showCloseButton){var E=n.closeEl=document.createElement("div");E.classList.add("vex-close"),o(E,f.closeClassName),E.addEventListener("click",n.close.bind(n)),x.appendChild(E)}return document.querySelector(f.appendLocation).appendChild(p),f.afterOpen&&f.afterOpen.call(n),document.body.classList.add(l),n},close:function(e){var t;if(e.id)t=e.id;else{if("string"!=typeof e)throw new TypeError("close requires a vex object or id string");t=e}return!!d[t]&&d[t].close()},closeTop:function(){var e=Object.keys(d);return!!e.length&&d[e[e.length-1]].close()},closeAll:function(){for(var e in d)this.close(e);return!0},getAll:function(){return d},getById:function(e){return d[e]}};window.addEventListener("keyup",function(e){27===e.keyCode&&(u=!0,h.closeTop(),u=!1)}),window.addEventListener("popstate",function(){h.defaultOptions.closeAllOnPopState&&h.closeAll()}),h.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0},Object.defineProperty(h,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:r}),h.registerPlugin=function(e,t){var n=e(h),i=t||n.name;if(h[i])throw new Error("Plugin "+t+" is already registered.");h[i]=n},t.exports=h},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[6])(6)}).call(this,n(0))},function(e,t,n){void 0!==e&&e.exports&&(t=e.exports=function(e,t){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),t.prefix="",t._getPrefixedKey=function(e,t){return(t=t||{}).noPrefix?e:this.prefix+e},t.set=function(e,t,n){var i=this._getPrefixedKey(e,n);try{localStorage.setItem(i,JSON.stringify({data:t}))}catch(n){console&&console.warn("Lockr didn't successfully save the '{"+e+": "+t+"}' pair, because the localStorage is full.")}},t.get=function(e,t,n){var i,r=this._getPrefixedKey(e,n);try{i=JSON.parse(localStorage.getItem(r))}catch(t){try{i=localStorage[r]?JSON.parse('{"data":"'+localStorage.getItem(r)+'"}'):null}catch(t){console&&console.warn("Lockr could not load the item with key "+e)}}return null===i?t:void 0!==i.data?i.data:t},t.sadd=function(e,n,i){var r,o=this._getPrefixedKey(e,i),a=t.smembers(e);if(a.indexOf(n)>-1)return null;try{a.push(n),r=JSON.stringify({data:a}),localStorage.setItem(o,r)}catch(t){console.log(t),console&&console.warn("Lockr didn't successfully add the "+n+" to "+e+" set, because the localStorage is full.")}},t.smembers=function(e,t){var n,i=this._getPrefixedKey(e,t);try{n=JSON.parse(localStorage.getItem(i))}catch(e){n=null}return null===n?[]:n.data||[]},t.sismember=function(e,n,i){return this._getPrefixedKey(e,i),t.smembers(e).indexOf(n)>-1},t.getAll=function(){return Object.keys(localStorage).map(function(e){return t.get(e)})},t.srem=function(e,n,i){var r,o,a=this._getPrefixedKey(e,i),s=t.smembers(e,n);(o=s.indexOf(n))>-1&&s.splice(o,1),r=JSON.stringify({data:s});try{localStorage.setItem(a,r)}catch(t){console&&console.warn("Lockr couldn't remove the "+n+" from the set "+e)}},t.rm=function(e){localStorage.removeItem(e)},t.flush=function(){localStorage.clear()},t}(0,t))},function(e,t){var n,i;Ext.define("Ext.draw.ContainerBase",{extend:"Ext.panel.Panel",requires:["Ext.window.Window"],previewTitleText:"Chart Preview",previewAltText:"Chart preview",layout:"container",addElementListener:function(){var e=this,t=arguments;e.rendered?e.el.on.apply(e.el,t):e.on("render",function(){e.el.on.apply(e.el,t)})},removeElementListener:function(){var e=arguments;this.rendered&&this.el.un.apply(this.el,e)},afterRender:function(){this.callParent(arguments),this.initAnimator()},getItems:function(){var e=this.items;return e&&e.isMixedCollection||this.initItems(),this.items},onRender:function(){this.callParent(arguments),this.element=this.el,this.innerElement=this.body},setItems:function(e){return this.items=e,e},setSurfaceSize:function(e,t){this.resizeHandler({width:e,height:t}),this.renderFrame()},onResize:function(e,t,n,i){this.callParent([e,t,n,i]),this.handleResize({width:e,height:t})},preview:function(){var e,t=this.getImage();if(Ext.isIE8)return!1;e="svg-markup"===t.type?{xtype:"container",html:t.data}:{xtype:"image",mode:"img",cls:Ext.baseCSSPrefix+"chart-image",alt:this.previewAltText,src:t.data,listeners:{afterrender:function(){var e,n=this,i=n.imgEl.dom,r="svg"===t.type?1:window.devicePixelRatio||1;i.naturalWidth&&i.naturalHeight?(e=n.getSize(),n.setWidth(Math.floor(e.width/r)),n.setHeight(Math.floor(e.height/r))):i.onload=function(){var e=i.naturalWidth,t=i.naturalHeight;n.setWidth(Math.floor(e/r)),n.setHeight(Math.floor(t/r))}}}},new Ext.window.Window({title:this.previewTitleText,closeable:!0,renderTo:Ext.getBody(),autoShow:!0,maximizeable:!0,maximized:!0,border:!0,layout:{type:"hbox",pack:"center",align:"middle"},items:{xtype:"container",items:e}})},privates:{getTargetEl:function(){return this.innerElement},reattachToBody:function(){this.pendingDetachSize&&this.handleResize(),this.pendingDetachSize=!1,this.callParent()}}}),Ext.define("Ext.draw.SurfaceBase",{extend:"Ext.Widget",getOwnerBody:function(){return this.ownerCt.body}}),Ext.define("Ext.draw.sprite.AnimationParser",function(){function e(e,t,n){return e+(t-e)*n}return{singleton:!0,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,requires:["Ext.draw.Color"],color:{parseInitial:function(e,t){return Ext.isString(e)&&(e=Ext.util.Color.create(e)),Ext.isString(t)&&(t=Ext.util.Color.create(t)),e&&e.isColor&&t&&t.isColor?[[e.r,e.g,e.b,e.a],[t.r,t.g,t.b,t.a]]:[e||t,t||e]},compute:function(t,n,i){return Ext.isArray(t)&&Ext.isArray(n)?[e(t[0],n[0],i),e(t[1],n[1],i),e(t[2],n[2],i),e(t[3],n[3],i)]:n||t},serve:function(e){return Ext.util.Color.fly(e[0],e[1],e[2],e[3]).toString()}},number:{parse:function(e){return null===e?null:+e},compute:function(t,n,i){return Ext.isNumber(t)&&Ext.isNumber(n)?e(t,n,i):n||t}},angle:{parseInitial:function(e,t){return t-e>Math.PI?t-=2*Math.PI:t-e<-Math.PI&&(t+=2*Math.PI),[e,t]},compute:function(t,n,i){return Ext.isNumber(t)&&Ext.isNumber(n)?e(t,n,i):n||t}},path:{parseInitial:function(e,t){var n,i,r,o,a,s=e.toStripes(),l=t.toStripes(),d=s.length,c=l.length,u=l[c-1],h=[u[u.length-2],u[u.length-1]];for(n=d;n<c;n++)s.push(s[d-1].slice(0));for(n=c;n<d;n++)l.push(h.slice(0));for(a=s.length,l.path=t,l.temp=new Ext.draw.Path,n=0;n<a;n++){for(r=s[n],o=l[n],d=r.length,c=o.length,l.temp.commands.push("M"),i=c;i<d;i+=6)o.push(h[0],h[1],h[0],h[1],h[0],h[1]);for(h=[(u=l[l.length-1])[u.length-2],u[u.length-1]],i=d;i<c;i+=6)r.push(h[0],h[1],h[0],h[1],h[0],h[1]);for(n=0;n<o.length;n++)o[n]-=r[n];for(n=2;n<o.length;n+=6)l.temp.commands.push("C")}return[s,l]},compute:function(e,t,n){if(n>=1)return t.path;for(var i,r,o,a=0,s=e.length,l=0,d=t.temp.params,c=0;a<s;a++)for(r=e[a],o=t[a],i=r.length,l=0;l<i;l++)d[c++]=o[l]*n+r[l];return t.temp}},data:{compute:function(e,t,n,i){var r,o,a,s=e.length-1,l=t.length-1,d=Math.max(s,l);for(i&&i!==e||(i=[]),i.length=d+1,a=0;a<=d;a++)r=e[Math.min(a,s)],o=t[Math.min(a,l)],Ext.isNumber(r)?(Ext.isNumber(o)||(o=0),i[a]=(o-r)*n+r):i[a]=o;return i}},text:{compute:function(e,t,n){return e.substr(0,Math.round(e.length*(1-n)))+t.substr(Math.round(t.length*(1-n)))}},limited:"number",limited01:"number"}}),function(){if(!Ext.global.Float32Array){var e=function(e){if("number"==typeof e)this.length=e;else if("length"in e){this.length=e.length;for(var t=0,n=e.length;t<n;t++)this[t]=+e[t]}};e.prototype=[],Ext.global.Float32Array=e}}(),Ext.define("Ext.draw.Draw",{singleton:!0,radian:Math.PI/180,pi2:2*Math.PI,reflectFn:function(e){return e},rad:function(e){return e%360*this.radian},degrees:function(e){return e/this.radian%360},isBBoxIntersect:function(e,t,n){return n=n||0,Math.max(e.x,t.x)-n>Math.min(e.x+e.width,t.x+t.width)||Math.max(e.y,t.y)-n>Math.min(e.y+e.height,t.y+t.height)},isPointInBBox:function(e,t,n){return!!n&&e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},spline:function(e){var t,n,i,r,o,a,s=e.length,l=0,d=new Float32Array(e.length),c=new Float32Array(3*e.length-2);for(d[0]=0,d[s-1]=0,t=1;t<s-1;t++)d[t]=e[t+1]+e[t-1]-2*e[t]-d[t-1],l=1/(4-l),d[t]*=l;for(t=s-2;t>0;t--)l=3.732050807568877+48.248711305964385/(-13.928203230275537+Math.pow(.07179676972449123,t)),d[t]-=d[t+1]*l;for(i=(a=e[0])-d[0],t=0,n=0;t<s-1;n+=3)o=a,r=i,i=(a=e[++t])-d[t],c[n]=o,c[n+1]=(i+2*r)/3,c[n+2]=(2*i+r)/3;return c[n]=a,c},getAnchors:function(e,t,n,i,r,o,a){a=a||4;var s,l,d,c,u,h,f,g,p,m=Math.PI,x=m/2,E=Math.abs,v=Math.sin,y=Math.cos,b=Math.atan;return s=(n-e)/a,l=(r-n)/a,i>=t&&i>=o||i<=t&&i<=o?d=c=x:(d=b((n-e)/E(i-t)),t<i&&(d=m-d),c=b((r-n)/E(i-o)),o<i&&(c=m-c)),(p=x-(d+c)%(2*m)/2)>x&&(p-=m),c+=p,u=n-s*v(d+=p),h=i+s*y(d),f=n+l*v(c),g=i+l*y(c),(i>t&&h<t||i<t&&h>t)&&(u+=E(t-h)*(u-n)/(h-i),h=t),(i>o&&g<o||i<o&&g>o)&&(f-=E(o-g)*(f-n)/(g-i),g=o),{x1:u,y1:h,x2:f,y2:g}},smooth:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=e.length,g=[],p=[];for(u=0;u<f-1&&(i=e[u],r=t[u],0!==u||(d=i,c=r,g.push(d),p.push(c),1!==f));u++){if(o=e[u+1],a=t[u+1],s=e[u+2],l=t[u+2],!Ext.isNumber(s)||!Ext.isNumber(l)){g.push(d,o,o),p.push(c,a,a);break}h=this.getAnchors(i,r,o,a,s,l,n),g.push(d,h.x1,o),p.push(c,h.y1,a),d=h.x2,c=h.y2}return{smoothX:g,smoothY:p}},beginUpdateIOS:Ext.os.is.iOS?function(){this.iosUpdateEl=Ext.getBody().createChild({"data-sticky":!0,style:"position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background: rgba(0,0,0,0.001); z-index: 100000"})}:Ext.emptyFn,endUpdateIOS:function(){this.iosUpdateEl=Ext.destroy(this.iosUpdateEl)}}),Ext.define("Ext.draw.gradient.Gradient",{requires:["Ext.draw.Color"],isGradient:!0,config:{stops:[]},applyStops:function(e){var t,n,i,r=[],o=e.length;for(t=0;t<o;t++)(i=(n=e[t]).color)&&i.isColor||(i=Ext.util.Color.fly(i||Ext.util.Color.NONE)),r.push({offset:Math.min(1,Math.max(0,"offset"in n?n.offset:n.position||0)),color:i.toString()});return r.sort(function(e,t){return e.offset-t.offset}),r},onClassExtended:function(e,t){!t.alias&&t.type&&(t.alias="gradient."+t.type)},constructor:function(e){this.initConfig(e)},generateGradient:Ext.emptyFn}),Ext.define("Ext.draw.gradient.GradientDefinition",{singleton:!0,urlStringRe:/^url\(#([\w\-]+)\)$/,gradients:{},add:function(e){var t,n,i,r=this.gradients;for(t=0,n=e.length;t<n;t++)i=e[t],Ext.isString(i.id)&&(r[i.id]=i)},get:function(e){var t,n=this.gradients,i=e.match(this.urlStringRe);return i&&i[1]&&(t=n[i[1]])&&t||e}}),Ext.define("Ext.draw.sprite.AttributeParser",{singleton:!0,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,requires:["Ext.draw.Color","Ext.draw.gradient.GradientDefinition"],default:Ext.identityFn,string:function(e){return String(e)},number:function(e){if(Ext.isNumber(+e))return e},angle:function(e){if(Ext.isNumber(e))return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},data:function(e){return Ext.isArray(e)?e.slice():e instanceof Float32Array?new Float32Array(e):void 0},bool:function(e){return!!e},color:function(e){if(e&&e.isColor)return e.toString();if(e&&e.isGradient)return e;if(!e)return Ext.util.Color.NONE;if(Ext.isString(e)){if("url"!==e.substr(0,3))return Ext.util.Color.fly(e).toString();if(e=Ext.draw.gradient.GradientDefinition.get(e),Ext.isString(e))return e}return"linear"===e.type?Ext.create("Ext.draw.gradient.Linear",e):"radial"===e.type?Ext.create("Ext.draw.gradient.Radial",e):"pattern"===e.type?Ext.create("Ext.draw.gradient.Pattern",e):Ext.util.Color.NONE},limited:function(e,t){return function(n){return n=+n,Ext.isNumber(n)?Math.min(Math.max(n,e),t):void 0}},limited01:function(e){return e=+e,Ext.isNumber(e)?Math.min(Math.max(e,0),1):void 0},enums:function(){var e,t,n={},i=Array.prototype.slice.call(arguments,0);for(e=0,t=i.length;e<t;e++)n[i[e]]=!0;return function(e){return e in n?e:void 0}}}),Ext.define("Ext.draw.sprite.AttributeDefinition",{requires:["Ext.draw.sprite.AttributeParser","Ext.draw.sprite.AnimationParser"],config:{defaults:{$value:{},lazy:!0},aliases:{},animationProcessors:{},processors:{$value:{},lazy:!0},dirtyTriggers:{},triggers:{},updaters:{}},inheritableStatics:{processorFactoryRe:/^(\w+)\(([\w\-,]*)\)$/},spriteClass:null,constructor:function(e){this.initConfig(e)},applyDefaults:function(e,t){return t=Ext.apply(t||{},this.normalize(e))},applyAliases:function(e,t){return Ext.apply(t||{},e)},applyProcessors:function(e,t){this.getAnimationProcessors();var n,i,r,o,a=t||{},s=Ext.draw.sprite.AttributeParser,l=this.self.processorFactoryRe,d={};for(i in e)"string"==typeof(o=e[i])&&((r=o.match(l))?o=s[r[1]].apply(s,r[2].split(",")):s[o]&&(d[i]=o,n=!0,o=s[o])),Ext.isFunction(o)||Ext.raise(this.spriteClass.$className+": processor '"+i+"' has not been found."),a[i]=o;return n&&this.setAnimationProcessors(d),a},applyAnimationProcessors:function(e,t){var n,i,r=Ext.draw.sprite.AnimationParser;for(n in t||(t={}),e)if("none"===(i=e[n]))t[n]=null;else if(!Ext.isString(i)||n in t)Ext.isObject(i)&&(t[n]=i);else if(i in r){for(;Ext.isString(r[i]);)i=r[i];t[n]=r[i]}return t},updateDirtyTriggers:function(e){this.setTriggers(e)},applyTriggers:function(e,t){for(var n in t||(t={}),e)t[n]=e[n].split(",");return t},applyUpdaters:function(e,t){return Ext.apply(t||{},e)},batchedNormalize:function(e,t){if(!e)return{};var n,i,r,o,a,s,l,d,c,u=this.getProcessors(),h=this.getAliases(),f=e.translation||e.translate,g={};for(r in a="rotation"in e?e.rotation:"rotate"in e?e.rotate:void 0,void 0!==(s="scaling"in e?e.scaling:"scale"in e?e.scale:void 0)&&(Ext.isNumber(s)?(g.scalingX=s,g.scalingY=s):("x"in s&&(g.scalingX=s.x),"y"in s&&(g.scalingY=s.y),"centerX"in s&&(g.scalingCenterX=s.centerX),"centerY"in s&&(g.scalingCenterY=s.centerY))),void 0!==a&&(Ext.isNumber(a)?(a=Ext.draw.Draw.rad(a),g.rotationRads=a):("rads"in a?g.rotationRads=a.rads:"degrees"in a&&(Ext.isArray(a.degrees)?g.rotationRads=Ext.Array.map(a.degrees,function(e){return Ext.draw.Draw.rad(e)}):g.rotationRads=Ext.draw.Draw.rad(a.degrees)),"centerX"in a&&(g.rotationCenterX=a.centerX),"centerY"in a&&(g.rotationCenterY=a.centerY))),void 0!==f&&("x"in f&&(g.translationX=f.x),"y"in f&&(g.translationY=f.y)),"matrix"in e&&(c=(l=Ext.draw.Matrix.create(e.matrix)).split(),g.matrix=l,g.rotationRads=c.rotation,g.rotationCenterX=0,g.rotationCenterY=0,g.scalingX=c.scaleX,g.scalingY=c.scaleY,g.scalingCenterX=0,g.scalingCenterY=0,g.translationX=c.translateX,g.translationY=c.translateY),e)if(void 0!==(o=e[r]))if(Ext.isArray(o))if(r in h&&(r=h[r]),r in u)for(g[r]=[],n=0,i=o.length;n<i;n++)void 0!==(d=u[r].call(this,o[n]))&&(g[r][n]=d);else t&&(g[r]=o);else r in h&&(r=h[r]),r in u?void 0!==(o=u[r].call(this,o))&&(g[r]=o):t&&(g[r]=o);return g},normalize:function(e,t){if(!e)return{};var n,i,r,o,a,s,l=this.getProcessors(),d=this.getAliases(),c=e.translation||e.translate,u={};for(n in r="rotation"in e?e.rotation:"rotate"in e?e.rotate:void 0,o="scaling"in e?e.scaling:"scale"in e?e.scale:void 0,c&&("x"in c&&(u.translationX=c.x),"y"in c&&(u.translationY=c.y)),void 0!==o&&(Ext.isNumber(o)?(u.scalingX=o,u.scalingY=o):("x"in o&&(u.scalingX=o.x),"y"in o&&(u.scalingY=o.y),"centerX"in o&&(u.scalingCenterX=o.centerX),"centerY"in o&&(u.scalingCenterY=o.centerY))),void 0!==r&&(Ext.isNumber(r)?(r=Ext.draw.Draw.rad(r),u.rotationRads=r):("rads"in r?u.rotationRads=r.rads:"degrees"in r&&(u.rotationRads=Ext.draw.Draw.rad(r.degrees)),"centerX"in r&&(u.rotationCenterX=r.centerX),"centerY"in r&&(u.rotationCenterY=r.centerY))),"matrix"in e&&(s=(a=Ext.draw.Matrix.create(e.matrix)).split(),u.matrix=a,u.rotationRads=s.rotation,u.rotationCenterX=0,u.rotationCenterY=0,u.scalingX=s.scaleX,u.scalingY=s.scaleY,u.scalingCenterX=0,u.scalingCenterY=0,u.translationX=s.translateX,u.translationY=s.translateY),e)void 0!==(i=e[n])&&(n in d&&(n=d[n]),n in l?void 0!==(i=l[n].call(this,i))&&(u[n]=i):t&&(u[n]=i));return u},setBypassingNormalization:function(e,t,n){return t.pushDown(e,n)},set:function(e,t,n){return n=this.normalize(n),this.setBypassingNormalization(e,t,n)}}),Ext.define("Ext.draw.Matrix",{isMatrix:!0,statics:{createAffineMatrixFromTwoPair:function(e,t,n,i,r,o,a,s){var l=n-e,d=i-t,c=a-r,u=s-o,h=1/(l*l+d*d),f=l*c+d*u,g=c*d-l*u;return new this(f*h,-g*h,g*h,f*h,(-f*e-g*t)*h+r,(g*e-f*t)*h+o)},createPanZoomFromTwoPair:function(e,t,n,i,r,o,a,s){if(2===arguments.length)return this.createPanZoomFromTwoPair.apply(this,e.concat(t));var l=n-e,d=i-t,c=.5*(e+n),u=.5*(t+i),h=a-r,f=s-o,g=.5*(r+a),p=.5*(o+s),m=l*l+d*d,x=h*h+f*f,E=Math.sqrt(x/m);return new this(E,0,0,E,g-E*c,p-E*u)},fly:(n=null,i=function(e){return n.elements=e,n},function(e){return n||(n=new Ext.draw.Matrix),n.elements=e,Ext.draw.Matrix.fly=i,n}),create:function(e){return e instanceof this?e:new this(e)}},constructor:function(e,t,n,i,r,o){e&&6===e.length?this.elements=e.slice():this.elements=void 0!==e?[e,t,n,i,r,o]:[1,0,0,1,0,0]},prepend:function(e,t,n,i,r,o){var a=this.elements,s=a[0],l=a[1],d=a[2],c=a[3],u=a[4],h=a[5];return a[0]=e*s+n*l,a[1]=t*s+i*l,a[2]=e*d+n*c,a[3]=t*d+i*c,a[4]=e*u+n*h+r,a[5]=t*u+i*h+o,this},prependMatrix:function(e){return this.prepend.apply(this,e.elements)},append:function(e,t,n,i,r,o){var a=this.elements,s=a[0],l=a[1],d=a[2],c=a[3],u=a[4],h=a[5];return a[0]=e*s+t*d,a[1]=e*l+t*c,a[2]=n*s+i*d,a[3]=n*l+i*c,a[4]=r*s+o*d+u,a[5]=r*l+o*c+h,this},appendMatrix:function(e){return this.append.apply(this,e.elements)},set:function(e,t,n,i,r,o){var a=this.elements;return a[0]=e,a[1]=t,a[2]=n,a[3]=i,a[4]=r,a[5]=o,this},inverse:function(e){var t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=1/(n*o-i*r);return n*=l,i*=l,r*=l,o*=l,e?(e.set(o,-i,-r,n,r*s-o*a,i*a-n*s),e):new Ext.draw.Matrix(o,-i,-r,n,r*s-o*a,i*a-n*s)},translate:function(e,t,n){return n?this.prepend(1,0,0,1,e,t):this.append(1,0,0,1,e,t)},scale:function(e,t,n,i,r){return null==t&&(t=e),void 0===n&&(n=0),void 0===i&&(i=0),r?this.prepend(e,0,0,t,n-n*e,i-i*t):this.append(e,0,0,t,n-n*e,i-i*t)},rotate:function(e,t,n,i){var r=Math.cos(e),o=Math.sin(e);return t=t||0,n=n||0,i?this.prepend(r,o,-o,r,t-r*t+n*o,n-r*n-t*o):this.append(r,o,-o,r,t-r*t+n*o,n-r*n-t*o)},rotateFromVector:function(e,t,n){var i=Math.sqrt(e*e+t*t),r=e/i,o=t/i;return n?this.prepend(r,o,-o,r,0,0):this.append(r,o,-o,r,0,0)},clone:function(){return new Ext.draw.Matrix(this.elements)},flipX:function(){return this.append(-1,0,0,1,0,0)},flipY:function(){return this.append(1,0,0,-1,0,0)},skewX:function(e){return this.append(1,0,Math.tan(e),1,0,0)},skewY:function(e){return this.append(1,Math.tan(e),0,1,0,0)},shearX:function(e){return this.append(1,0,e,1,0,0)},shearY:function(e){return this.append(1,e,0,1,0,0)},reset:function(){return this.set(1,0,0,1,0,0)},precisionCompensate:function(e,t){var n=this.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],d=r*o-i*a;t.b=e*r/i,t.c=e*o/a,t.d=e,t.xx=i/e,t.yy=a/e,t.dx=(l*i*o-s*i*a)/d/e,t.dy=(s*r*a-l*i*a)/d/e},precisionCompensateRect:function(e,t){var n=this.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],d=o/i;t.b=e*r/i,t.c=e*d,t.d=e*a/i,t.xx=i/e,t.yy=i/e,t.dx=(l*o-s*a)/(r*d-a)/e,t.dy=-(l*i-s*r)/(r*d-a)/e},x:function(e,t){var n=this.elements;return e*n[0]+t*n[2]+n[4]},y:function(e,t){var n=this.elements;return e*n[1]+t*n[3]+n[5]},get:function(e,t){return+this.elements[e+2*t].toFixed(4)},transformPoint:function(e){var t,n,i=this.elements;return e.isPoint?(t=e.x,n=e.y):(t=e[0],n=e[1]),[t*i[0]+n*i[2]+i[4],t*i[1]+n*i[3]+i[5]]},transformBBox:function(e,t,n){var i,r,o,a=this.elements,s=e.x,l=e.y,d=.5*e.width,c=.5*e.height,u=a[0],h=a[1],f=a[2],g=a[3],p=s+d,m=l+c;return t?(d-=t,c-=t,o=[Math.sqrt(a[0]*a[0]+a[2]*a[2]),Math.sqrt(a[1]*a[1]+a[3]*a[3])],i=Math.abs(d*u)+Math.abs(c*f)+Math.abs(o[0]*t),r=Math.abs(d*h)+Math.abs(c*g)+Math.abs(o[1]*t)):(i=Math.abs(d*u)+Math.abs(c*f),r=Math.abs(d*h)+Math.abs(c*g)),n||(n={}),n.x=p*u+m*f+a[4]-i,n.y=p*h+m*g+a[5]-r,n.width=i+i,n.height=r+r,n},transformList:function(e){var t,n,i=this.elements,r=i[0],o=i[2],a=i[4],s=i[1],l=i[3],d=i[5],c=e.length;for(n=0;n<c;n++)t=e[n],e[n]=[t[0]*r+t[1]*o+a,t[0]*s+t[1]*l+d];return e},isIdentity:function(){var e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]},isEqual:function(e){var t=e&&e.isMatrix?e.elements:e,n=this.elements;return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[3]===t[3]&&n[4]===t[4]&&n[5]===t[5]},equals:function(e){return this.isEqual(e)},toArray:function(){var e=this.elements;return[e[0],e[2],e[4],e[1],e[3],e[5]]},toVerticalArray:function(){return this.elements.slice()},toString:function(){var e=this;return[e.get(0,0),e.get(0,1),e.get(1,0),e.get(1,1),e.get(2,0),e.get(2,1)].join(",")},toContext:function(e){return e.transform.apply(e,this.elements),this},toSvg:function(){var e=this.elements;return"matrix("+e[0].toFixed(9)+","+e[1].toFixed(9)+","+e[2].toFixed(9)+","+e[3].toFixed(9)+","+e[4].toFixed(9)+","+e[5].toFixed(9)+")"},getScaleX:function(){var e=this.elements;return Math.sqrt(e[0]*e[0]+e[2]*e[2])},getScaleY:function(){var e=this.elements;return Math.sqrt(e[1]*e[1]+e[3]*e[3])},getXX:function(){return this.elements[0]},getXY:function(){return this.elements[1]},getYX:function(){return this.elements[2]},getYY:function(){return this.elements[3]},getDX:function(){return this.elements[4]},getDY:function(){return this.elements[5]},split:function(){var e=this.elements,t=e[0],n=e[1],i=e[3],r={translateX:e[4],translateY:e[5]};return r.rotate=r.rotation=Math.atan2(n,t),r.scaleX=t/Math.cos(r.rotate),r.scaleY=i/t*r.scaleX,r}},function(){function e(e,t,n){e[t]={get:function(){return this.elements[n]},set:function(e){this.elements[n]=e}}}if(Object.defineProperties){var t={};e(t,"a",0),e(t,"b",1),e(t,"c",2),e(t,"d",3),e(t,"e",4),e(t,"f",5),Object.defineProperties(this.prototype,t)}this.prototype.multiply=this.prototype.appendMatrix}),Ext.define("Ext.draw.modifier.Modifier",{mixins:{observable:"Ext.mixin.Observable"},config:{lower:null,upper:null,sprite:null},constructor:function(e){this.mixins.observable.constructor.call(this,e)},updateUpper:function(e){e&&e.setLower(this)},updateLower:function(e){e&&e.setUpper(this)},prepareAttributes:function(e){this._lower&&this._lower.prepareAttributes(e)},popUp:function(e,t){this._upper?this._upper.popUp(e,t):Ext.apply(e,t)},pushDown:function(e,t){if(this._lower)return this._lower.pushDown(e,t);for(var n in t)t[n]===e[n]&&delete t[n];return t}}),Ext.define("Ext.draw.modifier.Target",{requires:["Ext.draw.Matrix"],extend:"Ext.draw.modifier.Modifier",alias:"modifier.target",statics:{uniqueId:0},prepareAttributes:function(e){this._lower&&this._lower.prepareAttributes(e),e.attributeId="attribute-"+Ext.draw.modifier.Target.uniqueId++,e.hasOwnProperty("canvasAttributes")||(e.bbox={plain:{dirty:!0},transform:{dirty:!0}},e.dirty=!0,e.pendingUpdaters={},e.canvasAttributes={},e.matrix=new Ext.draw.Matrix,e.inverseMatrix=new Ext.draw.Matrix)},applyChanges:function(e,t){Ext.apply(e,t);var n,i,r,o,a,s,l,d,c,u=this.getSprite(),h=e.pendingUpdaters,f=u.self.def.getTriggers();for(o in t)a=!0,(n=f[o])&&u.scheduleUpdaters(e,n,[o]),e.template&&t.removeFromInstance&&t.removeFromInstance[o]&&delete e[o];if(a){if(h.canvas)for(s=h.canvas,delete h.canvas,l=0,c=s.length;l<c;l++)o=s[l],e.canvasAttributes[o]=e[o];if(e.hasOwnProperty("children"))for(l=0,c=(i=e.children).length;l<c;l++){if(r=i[l],Ext.apply(r.pendingUpdaters,h),s)for(d=0;d<s.length;d++)o=s[d],r.canvasAttributes[o]=r[o];u.callUpdaters(r)}u.setDirty(!0),u.callUpdaters(e)}},popUp:function(e,t){this.applyChanges(e,t)},pushDown:function(e,t){return this._lower&&(t=this._lower.pushDown(e,t)),this.applyChanges(e,t),t}}),Ext.define("Ext.draw.TimingFunctions",function(){var e,t,n,i=Math.pow,r=Math.sin,o=Math.cos,a=Math.sqrt,s=Math.PI,l=["quad","cube","quart","quint"],d={pow:function(e,t){return i(e,t||6)},expo:function(e){return i(2,8*(e-1))},circ:function(e){return 1-a(1-e*e)},sine:function(e){return 1-r((1-e)*s/2)},back:function(e,t){return e*e*(((t=t||1.616)+1)*e-t)},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11)return n*n-i((11-6*t-11*e)/4,2)},elastic:function(e,t){return i(2,10*--e)*o(20*e*s*(t||1)/3)}},c={};function u(e){return function(t){return i(t,e)}}function h(e,t){c[e+"In"]=function(e){return t(e)},c[e+"Out"]=function(e){return 1-t(1-e)},c[e+"InOut"]=function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}}for(n=0,t=l.length;n<t;++n)d[l[n]]=u(n+2);for(e in d)h(e,d[e]);return c.linear=Ext.identityFn,c.easeIn=c.quadIn,c.easeOut=c.quadOut,c.easeInOut=c.quadInOut,{singleton:!0,easingMap:c}},function(e){Ext.apply(e,e.easingMap)}),Ext.define("Ext.draw.Animator",{uses:["Ext.draw.Draw"],singleton:!0,frameCallbacks:{},frameCallbackId:0,scheduled:0,frameStartTimeOffset:Ext.now(),animations:[],running:!1,animationTime:function(){return Ext.AnimationQueue.frameStartTime-this.frameStartTimeOffset},add:function(e){this.contains(e)||(this.animations.push(e),this.ignite(),"fireEvent"in e&&e.fireEvent("animationstart",e))},remove:function(e){for(var t=this.animations,n=0,i=t.length;n<i;++n)if(t[n]===e)return t.splice(n,1),void("fireEvent"in e&&e.fireEvent("animationend",e))},contains:function(e){return Ext.Array.indexOf(this.animations,e)>-1},empty:function(){return 0===this.animations.length},step:function(e){for(var t,n=this.animations,i=0,r=n.length;i<r;i++)(t=n[i]).step(e),t.animating||(n.splice(i,1),i--,r--,t.fireEvent&&t.fireEvent("animationend",t))},schedule:function(e,t){t=t||this;var n="frameCallback"+this.frameCallbackId++;return Ext.isString(e)&&(e=t[e]),Ext.draw.Animator.frameCallbacks[n]={fn:e,scope:t,once:!0},this.scheduled++,Ext.draw.Animator.ignite(),n},scheduleIf:function(e,t){t=t||this;var n,i,r=Ext.draw.Animator.frameCallbacks;for(i in Ext.isString(e)&&(e=t[e]),r)if((n=r[i]).once&&n.fn===e&&n.scope===t)return null;return this.schedule(e,t)},cancel:function(e){Ext.draw.Animator.frameCallbacks[e]&&Ext.draw.Animator.frameCallbacks[e].once&&(this.scheduled--,delete Ext.draw.Animator.frameCallbacks[e])},addFrameCallback:function(e,t){t=t||this,Ext.isString(e)&&(e=t[e]);var n="frameCallback"+this.frameCallbackId++;return Ext.draw.Animator.frameCallbacks[n]={fn:e,scope:t},n},removeFrameCallback:function(e){delete Ext.draw.Animator.frameCallbacks[e]},fireFrameCallbacks:function(){var e,t,n,i=this.frameCallbacks;for(e in i)t=(n=i[e]).fn,Ext.isString(t)&&(t=n.scope[t]),t.call(n.scope),i[e]&&n.once&&(this.scheduled--,delete i[e])},handleFrame:function(){var e=this;e.step(e.animationTime()),e.fireFrameCallbacks(),!e.scheduled&&e.empty()&&(Ext.AnimationQueue.stop(e.handleFrame,e),e.running=!1,Ext.draw.Draw.endUpdateIOS())},ignite:function(){this.running||(this.running=!0,Ext.AnimationQueue.start(this.handleFrame,this),Ext.draw.Draw.beginUpdateIOS())}}),Ext.define("Ext.draw.modifier.Animation",{requires:["Ext.draw.TimingFunctions","Ext.draw.Animator"],extend:"Ext.draw.modifier.Modifier",alias:"modifier.animation",config:{easing:Ext.identityFn,duration:0,customEasings:{},customDurations:{}},constructor:function(e){var t=this;t.anyAnimation=t.anySpecialAnimations=!1,t.animating=0,t.animatingPool=[],t.callParent([e])},prepareAttributes:function(e){e.hasOwnProperty("timers")||(e.animating=!1,e.timers={},e.animationOriginal=Ext.Object.chain(e),e.animationOriginal.prototype=e),this._lower&&this._lower.prepareAttributes(e.animationOriginal)},updateSprite:function(e){this.setConfig(e.config.fx)},updateDuration:function(e){this.anyAnimation=e>0},applyEasing:function(e){return"string"==typeof e&&(e=Ext.draw.TimingFunctions.easingMap[e]),e},applyCustomEasings:function(e,t){var n,i,r,o,a,s;for(i in t=t||{},e)for(n=!0,o=e[i],r=i.split(","),"string"==typeof o&&(o=Ext.draw.TimingFunctions.easingMap[o]),a=0,s=r.length;a<s;a++)t[r[a]]=o;return n&&(this.anySpecialAnimations=n),t},setEasingOn:function(e,t){for(var n={},i=(e=Ext.Array.from(e).slice()).length,r=0;r<i;r++)n[e[r]]=t;this.setCustomEasings(n)},clearEasingOn:function(e){for(var t=0,n=(e=Ext.Array.from(e,!0)).length;t<n;t++)delete this._customEasings[e[t]]},applyCustomDurations:function(e,t){var n,i,r,o,a,s;for(i in t=t||{},e)for(n=!0,r=e[i],a=0,s=(o=i.split(",")).length;a<s;a++)t[o[a]]=r;return n&&(this.anySpecialAnimations=n),t},setDurationOn:function(e,t){for(var n={},i=0,r=(e=Ext.Array.from(e).slice()).length;i<r;i++)n[e[i]]=t;this.setCustomDurations(n)},clearDurationOn:function(e){for(var t=0,n=(e=Ext.Array.from(e,!0)).length;t<n;t++)delete this._customDurations[e[t]]},setAnimating:function(e,t){var n=this,i=n.animatingPool;if(e.animating!==t)if(e.animating=t,t)i.push(e),0===n.animating&&Ext.draw.Animator.add(n),n.animating++;else{for(var r=i.length;r--;)i[r]===e&&i.splice(r,1);n.animating=i.length}},setAttrs:function(e,t){var n,i,r,o,a,s,l,d=this,c=e.timers,u=d._sprite.self.def._animationProcessors,h=d._easing,f=d._duration,g=d._customDurations,p=d._customEasings,m=d.anySpecialAnimations,x=d.anyAnimation||m,E=e.animationOriginal,v=!1;if(!x){for(i in t)e[i]===t[i]?delete t[i]:e[i]=t[i],delete E[i],delete c[i];return t}for(i in t){if((r=t[i])!==(o=e[i])&&void 0!==o&&null!==o&&(a=u[i])){if(s=h,l=f,m&&(i in p&&(s=p[i]),i in g&&(l=g[i])),(o&&o.isGradient||r&&r.isGradient)&&(l=0),l){if(c[i]||(c[i]={}),(n=c[i]).start=0,n.easing=s,n.duration=l,n.compute=a.compute,n.serve=a.serve||Ext.identityFn,n.remove=t.removeFromInstance&&t.removeFromInstance[i],a.parseInitial){var y=a.parseInitial(o,r);n.source=y[0],n.target=y[1]}else a.parse?(n.source=a.parse(o),n.target=a.parse(r)):(n.source=o,n.target=r);E[i]=r,delete t[i],v=!0;continue}delete E[i]}else delete E[i];delete c[i]}return v&&!e.animating&&d.setAnimating(e,!0),t},updateAttributes:function(e){if(!e.animating)return{};var t,n,i,r={},o=!1,a=e.timers,s=e.animationOriginal,l=Ext.draw.Animator.animationTime();if(e.lastUpdate===l)return null;for(t in a)(n=a[t]).start?i=(l-n.start)/n.duration:(n.start=l,i=0),i>=1?(r[t]=s[t],delete s[t],a[t].remove&&(r.removeFromInstance=r.removeFromInstance||{},r.removeFromInstance[t]=!0),delete a[t]):(r[t]=n.serve(n.compute(n.source,n.target,n.easing(i),e[t])),o=!0);return e.lastUpdate=l,this.setAnimating(e,o),r},pushDown:function(e,t){return t=this.callParent([e.animationOriginal,t]),this.setAttrs(e,t)},popUp:function(e,t){return e=e.prototype,t=this.setAttrs(e,t),this._upper?this._upper.popUp(e,t):Ext.apply(e,t)},step:function(e){for(var t,n,i=this.animatingPool.slice(),r=i.length,o=0;o<r;o++)t=i[o],(n=this.updateAttributes(t))&&this._upper&&this._upper.popUp(t,n)},stop:function(){this.step();var e,t,n=this.animatingPool;for(e=0,t=n.length;e<t;e++)n[e].animating=!1;this.animatingPool.length=0,this.animating=0,Ext.draw.Animator.remove(this)},destroy:function(){this.stop(),this.callParent()}}),Ext.define("Ext.draw.modifier.Highlight",{extend:"Ext.draw.modifier.Modifier",alias:"modifier.highlight",config:{enabled:!1,highlightStyle:null},preFx:!0,applyHighlightStyle:function(e,t){return t=t||{},this.getSprite()?Ext.apply(t,this.getSprite().self.def.normalize(e)):Ext.apply(t,e),t},prepareAttributes:function(e){e.hasOwnProperty("highlightOriginal")||(e.highlighted=!1,e.highlightOriginal=Ext.Object.chain(e),e.highlightOriginal.prototype=e,e.highlightOriginal.removeFromInstance={}),this._lower&&this._lower.prepareAttributes(e.highlightOriginal)},updateSprite:function(e,t){e&&(this.getHighlightStyle()&&(this._highlightStyle=e.self.def.normalize(this.getHighlightStyle())),this.setHighlightStyle(e.config.highlight)),e.self.def.setConfig({defaults:{highlighted:!1},processors:{highlighted:"bool"}}),this.setSprite(e)},filterChanges:function(e,t){var n,i=e.highlightOriginal,r=this.getHighlightStyle();if(e.highlighted)for(n in t)r.hasOwnProperty(n)&&(i[n]=t[n],delete t[n]);for(n in t)"highlighted"!==n&&i[n]===t[n]&&delete t[n];return t},pushDown:function(e,t){var n,i,r,o,a=this.getHighlightStyle(),s=e.highlightOriginal,l=s.removeFromInstance;if(t.hasOwnProperty("highlighted")){if(n=t.highlighted,delete t.highlighted,this._lower&&(t=this._lower.pushDown(s,t)),t=this.filterChanges(e,t),n!==e.highlighted){if(n)for(i in a)i in t?s[i]=t[i]:(r=e.template&&e.template.ownAttr)&&!e.prototype.hasOwnProperty(i)?(l[i]=!0,s[i]=r.animationOriginal[i]):((o=s.timers[i])&&o.remove&&(l[i]=!0),s[i]=e[i]),s[i]!==a[i]&&(t[i]=a[i]);else{for(i in a)i in t||(t[i]=s[i]),delete s[i];t.removeFromInstance=t.removeFromInstance||{},Ext.apply(t.removeFromInstance,l),s.removeFromInstance={}}t.highlighted=n}}else this._lower&&(t=this._lower.pushDown(s,t)),t=this.filterChanges(e,t);return t},popUp:function(e,t){t=this.filterChanges(e,t),Ext.draw.modifier.Modifier.prototype.popUp.call(this,e,t)}}),Ext.define("Ext.draw.sprite.Sprite",{alias:"sprite.sprite",mixins:{observable:"Ext.mixin.Observable"},requires:["Ext.draw.Draw","Ext.draw.gradient.Gradient","Ext.draw.sprite.AttributeDefinition","Ext.draw.modifier.Target","Ext.draw.modifier.Animation","Ext.draw.modifier.Highlight"],isSprite:!0,statics:{defaultHitTestOptions:{fill:!0,stroke:!0},debug:!1},inheritableStatics:{def:{processors:{debug:"default",strokeStyle:"color",fillStyle:"color",strokeOpacity:"limited01",fillOpacity:"limited01",lineWidth:"number",lineCap:"enums(butt,round,square)",lineJoin:"enums(round,bevel,miter)",lineDash:"data",lineDashOffset:"number",miterLimit:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",shadowBlur:"number",globalAlpha:"limited01",globalCompositeOperation:"enums(source-over,destination-over,source-in,destination-in,source-out,destination-out,source-atop,destination-atop,lighter,xor,copy)",hidden:"bool",transformFillStroke:"bool",zIndex:"number",translationX:"number",translationY:"number",rotationRads:"number",rotationCenterX:"number",rotationCenterY:"number",scalingX:"number",scalingY:"number",scalingCenterX:"number",scalingCenterY:"number",constrainGradients:"bool"},aliases:{stroke:"strokeStyle",fill:"fillStyle",color:"fillStyle","stroke-width":"lineWidth","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","text-anchor":"textAlign",opacity:"globalAlpha",translateX:"translationX",translateY:"translationY",rotateRads:"rotationRads",rotateCenterX:"rotationCenterX",rotateCenterY:"rotationCenterY",scaleX:"scalingX",scaleY:"scalingY",scaleCenterX:"scalingCenterX",scaleCenterY:"scalingCenterY"},defaults:{hidden:!1,zIndex:0,strokeStyle:"none",fillStyle:"none",lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowColor:"none",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,globalAlpha:1,strokeOpacity:1,fillOpacity:1,transformFillStroke:!1,translationX:0,translationY:0,rotationRads:0,rotationCenterX:null,rotationCenterY:null,scalingX:1,scalingY:1,scalingCenterX:null,scalingCenterY:null,constrainGradients:!1},triggers:{zIndex:"zIndex",globalAlpha:"canvas",globalCompositeOperation:"canvas",transformFillStroke:"canvas",strokeStyle:"canvas",fillStyle:"canvas",strokeOpacity:"canvas",fillOpacity:"canvas",lineWidth:"canvas",lineCap:"canvas",lineJoin:"canvas",lineDash:"canvas",lineDashOffset:"canvas",miterLimit:"canvas",shadowColor:"canvas",shadowOffsetX:"canvas",shadowOffsetY:"canvas",shadowBlur:"canvas",translationX:"transform",translationY:"transform",rotationRads:"transform",rotationCenterX:"transform",rotationCenterY:"transform",scalingX:"transform",scalingY:"transform",scalingCenterX:"transform",scalingCenterY:"transform",constrainGradients:"canvas"},updaters:{bbox:"bboxUpdater",zIndex:function(e){e.dirtyZIndex=!0},transform:function(e){e.dirtyTransform=!0,e.bbox.transform.dirty=!0}}}},config:{parent:null,surface:null},onClassExtended:function(e,t){var n,i=e.superclass.self.def.initialConfig,r=t.inheritableStatics&&t.inheritableStatics.def;r?(n=Ext.Object.merge({},i,r),e.def=new Ext.draw.sprite.AttributeDefinition(n),delete t.inheritableStatics.def):e.def=new Ext.draw.sprite.AttributeDefinition(i),e.def.spriteClass=e},constructor:function(e){if("Ext.draw.sprite.Sprite"===Ext.getClassName(this))throw"Ext.draw.sprite.Sprite is an abstract class";var t,n=this,i=n.self.def,r=i.getDefaults();e=Ext.isObject(e)?e:{},n.id=e.id||Ext.id(null,"ext-sprite-"),n.attr={},n.mixins.observable.constructor.apply(n,arguments),t=Ext.Array.from(e.modifiers,!0),n.prepareModifiers(t),n.initializeAttributes(),n.setAttributes(r,!0);var o=i.getProcessors();for(var a in e)a in o&&n["get"+a.charAt(0).toUpperCase()+a.substr(1)]&&Ext.raise("The "+n.$className+" sprite has both a config and an attribute with the same name: "+a+".");n.setAttributes(e)},getDirty:function(){return this.attr.dirty},setDirty:function(e){if(this.attr.dirty=e,e){var t=this.getParent();t&&t.setDirty(!0)}},addModifier:function(e,t){var n=this;return e instanceof Ext.draw.modifier.Modifier||(e=Ext.factory(e,null,null,"modifier")),e.setSprite(n),e.preFx||e.config&&e.config.preFx?(n.fx._lower&&n.fx._lower.setUpper(e),e.setUpper(n.fx)):(n.topModifier._lower.setUpper(e),e.setUpper(n.topModifier)),t&&n.initializeAttributes(),e},prepareModifiers:function(e){var t,n,i=this;for(i.topModifier=new Ext.draw.modifier.Target({sprite:i}),i.fx=new Ext.draw.modifier.Animation({sprite:i}),i.fx.setUpper(i.topModifier),t=0,n=e.length;t<n;t++)i.addModifier(e[t],!1)},getAnimation:function(){return this.fx},setAnimation:function(e){this.fx.setConfig(e)},initializeAttributes:function(){this.topModifier.prepareAttributes(this.attr)},callUpdaters:function(e){var t,n,i,r=this,o=(e=e||this.attr).pendingUpdaters,a=r.self.def.getUpdaters(),s=!1,l=!1;r.callUpdaters=Ext.emptyFn;do{for(n in s=!1,o)s=!0,t=o[n],delete o[n],"string"==typeof(i=a[n])&&(i=r[i]),i&&i.call(r,e,t);l=l||s}while(s);delete r.callUpdaters,l&&r.setDirty(!0)},callUpdater:function(e,t,n){this.scheduleUpdater(e,t,n),this.callUpdaters(e)},scheduleUpdaters:function(e,t,n){var i;if(e=e||this.attr,n)for(var r=0,o=t.length;r<o;r++)i=t[r],this.scheduleUpdater(e,i,n);else for(i in t)n=t[i],this.scheduleUpdater(e,i,n)},scheduleUpdater:function(e,t,n){n=n||[];var i=(e=e||this.attr).pendingUpdaters;t in i?n.length&&(i[t]=Ext.Array.merge(i[t],n)):i[t]=n},setAttributes:function(e,t,n){var i,r,o,a,s=this,l=s.attr;if(s.isDestroyed&&Ext.Error.raise("Setting attributes of a destroyed sprite."),t)if(n)s.topModifier.pushDown(l,e);else{for(r in a={},e)(o=e[r])!==l[r]&&(a[r]=o);s.topModifier.pushDown(l,a)}else i=s.self.def.normalize(e),s.topModifier.pushDown(l,i)},setAttributesBypassingNormalization:function(e,t){return this.setAttributes(e,!0,t)},bboxUpdater:function(e){var t=0!==e.rotationRads,n=1!==e.scalingX||1!==e.scalingY,i=null===e.rotationCenterX||null===e.rotationCenterY,r=null===e.scalingCenterX||null===e.scalingCenterY;e.bbox.plain.dirty=!0,e.bbox.transform.dirty=!0,(t&&i||n&&r)&&this.scheduleUpdater(e,"transform")},getBBox:function(e){var t=this.attr.bbox,n=t.plain,i=t.transform;return n.dirty&&(this.updatePlainBBox(n),n.dirty=!1),e?n:(this.applyTransformations(),i.dirty&&(this.updateTransformedBBox(i,n),i.dirty=!1),i)},updatePlainBBox:Ext.emptyFn,updateTransformedBBox:function(e,t){this.attr.matrix.transformBBox(t,0,e)},getBBoxCenter:function(e){var t=this.getBBox(e);return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},hide:function(){return this.attr.hidden=!0,this.setDirty(!0),this},show:function(){return this.attr.hidden=!1,this.setDirty(!0),this},useAttributes:function(e,t){this.applyTransformations();var n,i=this.attr.canvasAttributes,r=i.strokeStyle,o=i.fillStyle,a=i.lineDash,s=i.lineDashOffset;for(n in r&&(r.isGradient?(e.strokeStyle="black",e.strokeGradient=r):e.strokeGradient=!1),o&&(o.isGradient?(e.fillStyle="black",e.fillGradient=o):e.fillGradient=!1),a&&e.setLineDash(a),Ext.isNumber(s)&&Ext.isNumber(e.lineDashOffset)&&(e.lineDashOffset=s),i)void 0!==i[n]&&i[n]!==e[n]&&(e[n]=i[n]);this.setGradientBBox(e,t)},setGradientBBox:function(e,t){var n=this.attr;n.constrainGradients?e.setGradientBBox({x:t[0],y:t[1],width:t[2],height:t[3]}):e.setGradientBBox(this.getBBox(n.transformFillStroke))},applyTransformations:function(e){if(e||this.attr.dirtyTransform){var t,n,i=this.attr,r=this.getBBoxCenter(!0),o=r[0],a=r[1],s=i.translationX,l=i.translationY,d=i.scalingX,c=null===i.scalingY?i.scalingX:i.scalingY,u=null===i.scalingCenterX?o:i.scalingCenterX,h=null===i.scalingCenterY?a:i.scalingCenterY,f=i.rotationRads,g=null===i.rotationCenterX?o:i.rotationCenterX,p=null===i.rotationCenterY?a:i.rotationCenterY,m=Math.cos(f),x=Math.sin(f);1===d&&1===c&&(u=0,h=0),0===f&&(g=0,p=0),t=u*(1-d)-g,n=h*(1-c)-p,i.matrix.elements=[m*d,x*d,-x*c,m*c,m*t-x*n+g+s,x*t+m*n+p+l],i.matrix.inverse(i.inverseMatrix),i.dirtyTransform=!1,i.bbox.transform.dirty=!0}},transform:function(e,t){var n,i=this.attr,r=i.matrix;return n=e&&e.isMatrix?e.elements:e,Ext.isArray(n)&&6===n.length||Ext.raise("An instance of Ext.draw.Matrix or an array of 6 numbers is expected."),r.prepend.apply(r,n.slice()),r.inverse(i.inverseMatrix),t&&this.updateTransformAttributes(),i.dirtyTransform=!1,i.bbox.transform.dirty=!0,this.setDirty(!0),this},updateTransformAttributes:function(){var e=this.attr,t=e.matrix.split();e.rotationRads=t.rotate,e.rotationCenterX=0,e.rotationCenterY=0,e.scalingX=t.scaleX,e.scalingY=t.scaleY,e.scalingCenterX=0,e.scalingCenterY=0,e.translationX=t.translateX,e.translationY=t.translateY},resetTransform:function(e){var t=this.attr;return t.matrix.reset(),t.inverseMatrix.reset(),e||this.updateTransformAttributes(),t.dirtyTransform=!1,t.bbox.transform.dirty=!0,this.setDirty(!0),this},setTransform:function(e,t){return this.resetTransform(!0),this.transform.call(this,e,t),this},preRender:Ext.emptyFn,render:Ext.emptyFn,renderBBox:function(e,t){var n=this.getBBox();t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(n.x+n.width,n.y),t.lineTo(n.x+n.width,n.y+n.height),t.lineTo(n.x,n.y+n.height),t.closePath(),t.strokeStyle="red",t.strokeOpacity=1,t.lineWidth=.5,t.stroke()},hitTest:function(e,t){if(this.isVisible()){var n=e[0],i=e[1],r=this.getBBox();if(r&&n>=r.x&&n<=r.x+r.width&&i>=r.y&&i<=r.y+r.height)return{sprite:this}}return null},isVisible:function(){var e=this.attr,t=this.getParent(),n=t&&(t.isSurface||t.isVisible())&&!e.hidden&&e.globalAlpha,i=Ext.util.Color.NONE,r=Ext.util.Color.RGBA_NONE,o=e.fillOpacity&&e.fillStyle!==i&&e.fillStyle!==r,a=e.strokeOpacity&&e.strokeStyle!==i&&e.strokeStyle!==r;return!!(n&&(o||a))},repaint:function(){var e=this.getSurface();e&&e.renderFrame()},remove:function(){var e=this.getSurface();return e&&e.isSurface?e.remove(this):null},destroy:function(){for(var e,t=this,n=t.topModifier;n;)e=n,n=n._lower,e.destroy();delete t.attr,t.remove(),!1!==t.fireEvent("beforedestroy",t)&&t.fireEvent("destroy",t),t.callParent()}},function(){this.def=new Ext.draw.sprite.AttributeDefinition(this.def),this.def.spriteClass=this}),Ext.define("Ext.draw.Path",{requires:["Ext.draw.Draw"],statics:{pathRe:/,?([achlmqrstvxz]),?/gi,pathRe2:/-/gi,pathSplitRe:/\s|,/g},svgString:"",constructor:function(e){var t=this;t.commands=[],t.params=[],t.cursor=null,t.startX=0,t.startY=0,e&&t.fromSvgString(e)},clear:function(){var e=this;e.params.length=0,e.commands.length=0,e.cursor=null,e.startX=0,e.startY=0,e.dirt()},dirt:function(){this.svgString=""},moveTo:function(e,t){var n=this;n.cursor||(n.cursor=[e,t]),n.params.push(e,t),n.commands.push("M"),n.startX=e,n.startY=t,n.cursor[0]=e,n.cursor[1]=t,n.dirt()},lineTo:function(e,t){var n=this;n.cursor?(n.params.push(e,t),n.commands.push("L")):(n.cursor=[e,t],n.params.push(e,t),n.commands.push("M")),n.cursor[0]=e,n.cursor[1]=t,n.dirt()},bezierCurveTo:function(e,t,n,i,r,o){var a=this;a.cursor||a.moveTo(e,t),a.params.push(e,t,n,i,r,o),a.commands.push("C"),a.cursor[0]=r,a.cursor[1]=o,a.dirt()},quadraticCurveTo:function(e,t,n,i){var r=this;r.cursor||r.moveTo(e,t),r.bezierCurveTo((2*e+r.cursor[0])/3,(2*t+r.cursor[1])/3,(2*e+n)/3,(2*t+i)/3,n,i)},closePath:function(){this.cursor&&(this.cursor=null,this.commands.push("Z"),this.dirt())},arcTo:function(e,t,n,i,r,o,a){var s=this;if(void 0===o&&(o=r),void 0===a&&(a=0),s.cursor)if(0!==r&&0!==o){n-=e,i-=t;var l,d,c,u,h,f,g,p,m,x=s.cursor[0]-e,E=s.cursor[1]-t,v=n*E-i*x,y=Math.sqrt(x*x+E*E),b=Math.sqrt(n*n+i*i);if(0!==v){if(o!==r){l=Math.cos(a),d=Math.sin(a);var C=(c=l/r)*x+(u=d/o)*E;E=(h=-d/r)*x+(f=l/o)*E,x=C,C=c*n+u*i,i=h*n+f*i,n=C}else x/=r,E/=o,n/=r,i/=o;p=x*b+n*y,m=E*b+i*y;var S=((p*=g=1/(Math.sin(.5*Math.asin(Math.abs(v)/(y*b)))*Math.sqrt(p*p+m*m)))*x+(m*=g)*E)/(x*x+E*E),w=(p*n+m*i)/(n*n+i*i),T=x*S-p,P=E*S-m,k=n*w-p,I=i*w-m,M=Math.atan2(P,T),R=Math.atan2(I,k);v>0?R<M&&(R+=2*Math.PI):M<R&&(M+=2*Math.PI),o!==r?(p=l*p*r-d*m*o+e,m=d*m*o+l*m*o+t,s.lineTo(l*r*T-d*o*P+p,d*r*T+l*o*P+m),s.ellipse(p,m,r,o,a,M,R,v<0)):(p=p*r+e,m=m*o+t,s.lineTo(r*T+p,o*P+m),s.ellipse(p,m,r,o,a,M,R,v<0))}else s.lineTo(e,t)}else s.lineTo(e,t);else s.moveTo(e,t)},ellipse:function(e,t,n,i,r,o,a,s){var l,d,c,u=this,h=u.params,f=h.length;if(a-o>=2*Math.PI)return u.ellipse(e,t,n,i,r,o,o+Math.PI,s),void u.ellipse(e,t,n,i,r,o+Math.PI,a,s);if(s)for(o<a&&(o+=2*Math.PI),l=u.approximateArc(h,e,t,n,i,r,a,o),d=f,c=h.length-2;d<c;d+=2,c-=2){var g=h[d];h[d]=h[c],h[c]=g,g=h[d+1],h[d+1]=h[c+1],h[c+1]=g}else a<o&&(a+=2*Math.PI),l=u.approximateArc(h,e,t,n,i,r,o,a);for(u.cursor?(u.cursor[0]=h[h.length-2],u.cursor[1]=h[h.length-1],u.commands.push("L")):(u.cursor=[h[h.length-2],h[h.length-1]],u.commands.push("M")),d=2;d<l;d+=6)u.commands.push("C");u.dirt()},arc:function(e,t,n,i,r,o){this.ellipse(e,t,n,n,0,i,r,o)},rect:function(e,t,n,i){if(0!=n&&0!=i){var r=this;r.moveTo(e,t),r.lineTo(e+n,t),r.lineTo(e+n,t+i),r.lineTo(e,t+i),r.closePath()}},approximateArc:function(e,t,n,i,r,o,a,s){var l,d,c,u,h,f,g=Math.cos(o),p=Math.sin(o),m=Math.cos(a),x=Math.sin(a),E=g*m*i-p*x*r,v=-g*x*i-p*m*r,y=p*m*i+g*x*r,b=-p*x*i+g*m*r,C=Math.PI/2,S=2,w=E,T=v,P=y,k=b,I=.547443256150549;for((s-=a)<0&&(s+=2*Math.PI),e.push(E+t,y+n);s>=C;)e.push(w+T*I+t,P+k*I+n,w*I+T+t,P*I+k+n,T+t,k+n),S+=6,s-=C,l=w,w=T,T=-l,l=P,P=k,k=-l;return s&&(d=(.3294738052815987+.012120855841304373*s)*s,h=(c=Math.cos(s))+d*(u=Math.sin(s)),f=u-d*c,e.push(w+T*d+t,P+k*d+n,w*h+T*f+t,P*h+k*f+n,w*c+T*u+t,P*c+k*u+n),S+=6),S},arcSvg:function(e,t,n,i,r,o,a){e<0&&(e=-e),t<0&&(t=-t);var s=this.cursor[0],l=this.cursor[1],d=(s-o)/2,c=(l-a)/2,u=Math.cos(n),h=Math.sin(n),f=d*u+c*h,g=-d*h+c*u,p=f/e,m=g/t,x=p*p+m*m,E=.5*(s+o),v=.5*(l+a),y=0,b=0;x>=1?(e*=x=Math.sqrt(x),t*=x):(x=Math.sqrt(1/x-1),i===r&&(x=-x),E+=u*(y=x*e*m)-h*(b=-x*t*p),v+=h*y+u*b);var C=Math.atan2((g-b)/t,(f-y)/e),S=Math.atan2((-g-b)/t,(-f-y)/e)-C;r?S<=0&&(S+=2*Math.PI):S>=0&&(S-=2*Math.PI),this.ellipse(E,v,e,t,n,C,C+S,1-r)},fromSvgString:function(e){if(e){var t,n,i,r,o,a=this,s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0,A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},l="",d=0,c=0,u=!1;for(Ext.isString(e)?t=e.replace(Ext.draw.Path.pathRe," $1 ").replace(Ext.draw.Path.pathRe2," -").split(Ext.draw.Path.pathSplitRe):Ext.isArray(e)&&(t=e.join(",").split(Ext.draw.Path.pathSplitRe)),r=0,o=0;r<t.length;r++)""!==t[r]&&(t[o++]=t[r]);for(t.length=o,a.clear(),r=0;r<t.length;)switch(l=u,(u=t[r]).toUpperCase()!==u,r++,u){case"M":for(a.moveTo(d=+t[r],c=+t[r+1]),r+=2;r<o&&!s.hasOwnProperty(t[r]);)a.lineTo(d=+t[r],c=+t[r+1]),r+=2;break;case"L":for(a.lineTo(d=+t[r],c=+t[r+1]),r+=2;r<o&&!s.hasOwnProperty(t[r]);)a.lineTo(d=+t[r],c=+t[r+1]),r+=2;break;case"A":for(;r<o&&!s.hasOwnProperty(t[r]);)a.arcSvg(+t[r],+t[r+1],+t[r+2]*Math.PI/180,+t[r+3],+t[r+4],d=+t[r+5],c=+t[r+6]),r+=7;break;case"C":for(;r<o&&!s.hasOwnProperty(t[r]);)a.bezierCurveTo(+t[r],+t[r+1],n=+t[r+2],i=+t[r+3],d=+t[r+4],c=+t[r+5]),r+=6;break;case"Z":a.closePath();break;case"m":for(a.moveTo(d+=+t[r],c+=+t[r+1]),r+=2;r<o&&!s.hasOwnProperty(t[r]);)a.lineTo(d+=+t[r],c+=+t[r+1]),r+=2;break;case"l":for(a.lineTo(d+=+t[r],c+=+t[r+1]),r+=2;r<o&&!s.hasOwnProperty(t[r]);)a.lineTo(d+=+t[r],c+=+t[r+1]),r+=2;break;case"a":for(;r<o&&!s.hasOwnProperty(t[r]);)a.arcSvg(+t[r],+t[r+1],+t[r+2]*Math.PI/180,+t[r+3],+t[r+4],d+=+t[r+5],c+=+t[r+6]),r+=7;break;case"c":for(;r<o&&!s.hasOwnProperty(t[r]);)a.bezierCurveTo(d+ +t[r],c+ +t[r+1],n=d+ +t[r+2],i=c+ +t[r+3],d+=+t[r+4],c+=+t[r+5]),r+=6;break;case"z":a.closePath();break;case"s":for("c"!==l&&"C"!==l&&"s"!==l&&"S"!==l&&(n=d,i=c);r<o&&!s.hasOwnProperty(t[r]);)a.bezierCurveTo(d+d-n,c+c-i,n=d+ +t[r],i=c+ +t[r+1],d+=+t[r+2],c+=+t[r+3]),r+=4;break;case"S":for("c"!==l&&"C"!==l&&"s"!==l&&"S"!==l&&(n=d,i=c);r<o&&!s.hasOwnProperty(t[r]);)a.bezierCurveTo(d+d-n,c+c-i,n=+t[r],i=+t[r+1],d=+t[r+2],c=+t[r+3]),r+=4;break;case"q":for(;r<o&&!s.hasOwnProperty(t[r]);)a.quadraticCurveTo(n=d+ +t[r],i=c+ +t[r+1],d+=+t[r+2],c+=+t[r+3]),r+=4;break;case"Q":for(;r<o&&!s.hasOwnProperty(t[r]);)a.quadraticCurveTo(n=+t[r],i=+t[r+1],d=+t[r+2],c=+t[r+3]),r+=4;break;case"t":for("q"!==l&&"Q"!==l&&"t"!==l&&"T"!==l&&(n=d,i=c);r<o&&!s.hasOwnProperty(t[r]);)a.quadraticCurveTo(n=d+d-n,i=c+c-i,d+=+t[r+1],c+=+t[r+2]),r+=2;break;case"T":for("q"!==l&&"Q"!==l&&"t"!==l&&"T"!==l&&(n=d,i=c);r<o&&!s.hasOwnProperty(t[r]);)a.quadraticCurveTo(n=d+d-n,i=c+c-i,d=+t[r+1],c=+t[r+2]),r+=2;break;case"h":for(;r<o&&!s.hasOwnProperty(t[r]);)a.lineTo(d+=+t[r],c),r++;break;case"H":for(;r<o&&!s.hasOwnProperty(t[r]);)a.lineTo(d=+t[r],c),r++;break;case"v":for(;r<o&&!s.hasOwnProperty(t[r]);)a.lineTo(d,c+=+t[r]),r++;break;case"V":for(;r<o&&!s.hasOwnProperty(t[r]);)a.lineTo(d,c=+t[r]),r++}}},clone:function(){var e=this,t=new Ext.draw.Path;return t.params=e.params.slice(0),t.commands=e.commands.slice(0),t.cursor=e.cursor?e.cursor.slice(0):null,t.startX=e.startX,t.startY=e.startY,t.svgString=e.svgString,t},transform:function(e){if(!e.isIdentity()){for(var t,n,i=e.getXX(),r=e.getYX(),o=e.getDX(),a=e.getXY(),s=e.getYY(),l=e.getDY(),d=this.params,c=0,u=d.length;c<u;c+=2)t=d[c],n=d[c+1],d[c]=t*i+n*r+o,d[c+1]=t*a+n*s+l;this.dirt()}},getDimension:function(e){if(e||(e={}),!this.commands||!this.commands.length)return e.x=0,e.y=0,e.width=0,e.height=0,e;e.left=1/0,e.top=1/0,e.right=-1/0,e.bottom=-1/0;for(var t,n,i=0,r=0,o=this.commands,a=this.params,s=o.length;i<s;i++)switch(o[i]){case"M":case"L":t=a[r],n=a[r+1],e.left=Math.min(t,e.left),e.top=Math.min(n,e.top),e.right=Math.max(t,e.right),e.bottom=Math.max(n,e.bottom),r+=2;break;case"C":this.expandDimension(e,t,n,a[r],a[r+1],a[r+2],a[r+3],t=a[r+4],n=a[r+5]),r+=6}return e.x=e.left,e.y=e.top,e.width=e.right-e.left,e.height=e.bottom-e.top,e},getDimensionWithTransform:function(e,t){if(!this.commands||!this.commands.length)return t||(t={}),t.x=0,t.y=0,t.width=0,t.height=0,t;t.left=1/0,t.top=1/0,t.right=-1/0,t.bottom=-1/0;for(var n,i,r=e.getXX(),o=e.getYX(),a=e.getDX(),s=e.getXY(),l=e.getYY(),d=e.getDY(),c=0,u=0,h=this.commands,f=this.params,g=h.length;c<g;c++)switch(h[c]){case"M":case"L":n=f[u]*r+f[u+1]*o+a,i=f[u]*s+f[u+1]*l+d,t.left=Math.min(n,t.left),t.top=Math.min(i,t.top),t.right=Math.max(n,t.right),t.bottom=Math.max(i,t.bottom),u+=2;break;case"C":this.expandDimension(t,n,i,f[u]*r+f[u+1]*o+a,f[u]*s+f[u+1]*l+d,f[u+2]*r+f[u+3]*o+a,f[u+2]*s+f[u+3]*l+d,n=f[u+4]*r+f[u+5]*o+a,i=f[u+4]*s+f[u+5]*l+d),u+=6}return t||(t={}),t.x=t.left,t.y=t.top,t.width=t.right-t.left,t.height=t.bottom-t.top,t},expandDimension:function(e,t,n,i,r,o,a,s,l){var d=e.left,c=e.right,u=e.top,h=e.bottom,f=this.dim||(this.dim=[]);this.curveDimension(t,i,o,s,f),d=Math.min(d,f[0]),c=Math.max(c,f[1]),this.curveDimension(n,r,a,l,f),u=Math.min(u,f[0]),h=Math.max(h,f[1]),e.left=d,e.right=c,e.top=u,e.bottom=h},curveDimension:function(e,t,n,i,r){var o,a,s,l=3*(3*(t-n)-e+i),d=6*(e-2*t+n),c=-3*(e-t),u=Math.min(e,i),h=Math.max(e,i);if(0===l){if(0===d)return r[0]=u,void(r[1]=h);0<(o=-c/d)&&o<1&&(a=this.interpolate(e,t,n,i,o),u=Math.min(u,a),h=Math.max(h,a))}else(s=d*d-4*l*c)>=0&&(0<(o=((s=Math.sqrt(s))-d)/2/l)&&o<1&&(a=this.interpolate(e,t,n,i,o),u=Math.min(u,a),h=Math.max(h,a)),s>0&&0<(o-=s/l)&&o<1&&(a=this.interpolate(e,t,n,i,o),u=Math.min(u,a),h=Math.max(h,a)));r[0]=u,r[1]=h},interpolate:function(e,t,n,i,r){if(0===r)return e;if(1===r)return i;var o=(1-r)/r;return r*r*r*(i+o*(3*n+o*(3*t+o*e)))},fromStripes:function(e){var t,n,i,r=this,o=0,a=e.length;for(r.clear();o<a;o++)for(i=e[o],r.params.push.apply(r.params,i),r.commands.push("M"),t=2,n=i.length;t<n;t+=6)r.commands.push("C");r.cursor||(r.cursor=[]),r.cursor[0]=r.params[r.params.length-2],r.cursor[1]=r.params[r.params.length-1],r.dirt()},toStripes:function(e){var t,n,i,r,o,a,s,l,d,c=e||[],u=this.commands,h=this.params,f=u.length;for(l=0,d=0;l<f;l++)switch(u[l]){case"M":t=[a=r=h[d++],s=o=h[d++]],c.push(t);break;case"L":n=h[d++],i=h[d++],t.push((r+r+n)/3,(o+o+i)/3,(r+n+n)/3,(o+i+i)/3,r=n,o=i);break;case"C":t.push(h[d++],h[d++],h[d++],h[d++],r=h[d++],o=h[d++]);break;case"Z":n=a,i=s,t.push((r+r+n)/3,(o+o+i)/3,(r+n+n)/3,(o+i+i)/3,r=n,o=i)}return c},updateSvgString:function(){for(var e=[],t=this.commands,n=this.params,i=t.length,r=0,o=0;r<i;r++)switch(t[r]){case"M":e.push("M"+n[o]+","+n[o+1]),o+=2;break;case"L":e.push("L"+n[o]+","+n[o+1]),o+=2;break;case"C":e.push("C"+n[o]+","+n[o+1]+" "+n[o+2]+","+n[o+3]+" "+n[o+4]+","+n[o+5]),o+=6;break;case"Z":e.push("Z")}this.svgString=e.join("")},toString:function(){return this.svgString||this.updateSvgString(),this.svgString}}),Ext.define("Ext.draw.overrides.hittest.Path",{override:"Ext.draw.Path",rayOrigin:{x:-1e4,y:-1e4},isPointInPath:function(e,t){var n,i,r=this.commands,o=Ext.draw.PathUtil,a=this.rayOrigin,s=this.params,l=r.length,d=null,c=null,u=0,h=0,f=0;for(n=0,i=0;n<l;n++)switch(r[n]){case"M":null!==d&&o.linesIntersection(d,c,u,h,a.x,a.y,e,t)&&(f+=1),d=u=s[i],c=h=s[i+1],i+=2;break;case"L":o.linesIntersection(u,h,s[i],s[i+1],a.x,a.y,e,t)&&(f+=1),u=s[i],h=s[i+1],i+=2;break;case"C":f+=o.cubicLineIntersections(u,s[i],s[i+2],s[i+4],h,s[i+1],s[i+3],s[i+5],a.x,a.y,e,t).length,u=s[i+4],h=s[i+5],i+=6;break;case"Z":null!==d&&o.linesIntersection(d,c,u,h,a.x,a.y,e,t)&&(f+=1)}return f%2==1},isPointOnPath:function(e,t){var n,i,r=this.commands,o=Ext.draw.PathUtil,a=this.params,s=r.length,l=null,d=null,c=0,u=0;for(n=0,i=0;n<s;n++)switch(r[n]){case"M":if(null!==l&&o.pointOnLine(l,d,c,u,e,t))return!0;l=c=a[i],d=u=a[i+1],i+=2;break;case"L":if(o.pointOnLine(c,u,a[i],a[i+1],e,t))return!0;c=a[i],u=a[i+1],i+=2;break;case"C":if(o.pointOnCubic(c,a[i],a[i+2],a[i+4],u,a[i+1],a[i+3],a[i+5],e,t))return!0;c=a[i+4],u=a[i+5],i+=6;break;case"Z":if(null!==l&&o.pointOnLine(l,d,c,u,e,t))return!0}return!1},getSegmentIntersections:function(e,t,n,i,r,o,a,s){var l,d,c,u=arguments.length,h=Ext.draw.PathUtil,f=this.commands,g=this.params,p=f.length,m=null,x=null,E=0,v=0,y=[];for(l=0,d=0;l<p;l++)switch(f[l]){case"M":if(null!==m)switch(u){case 4:(c=h.linesIntersection(m,x,E,v,e,t,n,i))&&y.push(c);break;case 8:c=h.cubicLineIntersections(e,n,r,a,t,i,o,s,m,x,E,v),y.push.apply(y,c)}m=E=g[d],x=v=g[d+1],d+=2;break;case"L":switch(u){case 4:(c=h.linesIntersection(E,v,g[d],g[d+1],e,t,n,i))&&y.push(c);break;case 8:c=h.cubicLineIntersections(e,n,r,a,t,i,o,s,E,v,g[d],g[d+1]),y.push.apply(y,c)}E=g[d],v=g[d+1],d+=2;break;case"C":switch(u){case 4:c=h.cubicLineIntersections(E,g[d],g[d+2],g[d+4],v,g[d+1],g[d+3],g[d+5],e,t,n,i),y.push.apply(y,c);break;case 8:c=h.cubicsIntersections(E,g[d],g[d+2],g[d+4],v,g[d+1],g[d+3],g[d+5],e,n,r,a,t,i,o,s),y.push.apply(y,c)}E=g[d+4],v=g[d+5],d+=6;break;case"Z":if(null!==m)switch(u){case 4:(c=h.linesIntersection(m,x,E,v,e,t,n,i))&&y.push(c);break;case 8:c=h.cubicLineIntersections(e,n,r,a,t,i,o,s,m,x,E,v),y.push.apply(y,c)}}return y},getIntersections:function(e){var t,n,i,r=this.commands,o=this.params,a=r.length,s=null,l=null,d=0,c=0,u=[];for(t=0,n=0;t<a;t++)switch(r[t]){case"M":null!==s&&(i=e.getSegmentIntersections.call(e,s,l,d,c),u.push.apply(u,i)),s=d=o[n],l=c=o[n+1],n+=2;break;case"L":i=e.getSegmentIntersections.call(e,d,c,o[n],o[n+1]),u.push.apply(u,i),d=o[n],c=o[n+1],n+=2;break;case"C":i=e.getSegmentIntersections.call(e,d,c,o[n],o[n+1],o[n+2],o[n+3],o[n+4],o[n+5]),u.push.apply(u,i),d=o[n+4],c=o[n+5],n+=6;break;case"Z":null!==s&&(i=e.getSegmentIntersections.call(e,s,l,d,c),u.push.apply(u,i))}return u}}),Ext.define("Ext.draw.sprite.Path",{extend:"Ext.draw.sprite.Sprite",requires:["Ext.draw.Draw","Ext.draw.Path"],alias:["sprite.path","Ext.draw.Sprite"],type:"path",isPath:!0,inheritableStatics:{def:{processors:{path:function(e,t){return e instanceof Ext.draw.Path||(e=new Ext.draw.Path(e)),e}},aliases:{d:"path"},triggers:{path:"bbox"},updaters:{path:function(e){var t=e.path;t&&t.bindAttr===e||((t=new Ext.draw.Path).bindAttr=e,e.path=t),t.clear(),this.updatePath(t,e),this.scheduleUpdater(e,"bbox",["path"])}}}},updatePlainBBox:function(e){this.attr.path&&this.attr.path.getDimension(e)},updateTransformedBBox:function(e){this.attr.path&&this.attr.path.getDimensionWithTransform(this.attr.matrix,e)},render:function(e,t){var n=this.attr.matrix,i=this.attr;if(i.path&&0!==i.path.params.length){n.toContext(t),t.appendPath(i.path),t.fillStroke(i);var r=i.debug||this.statics().debug||Ext.draw.sprite.Sprite.debug;r&&(r.bbox&&this.renderBBox(e,t),r.xray&&this.renderXRay(e,t))}},renderXRay:function(e,t){var n,i,r=this.attr,o=r.matrix,a=r.inverseMatrix,s=r.path,l=s.commands,d=s.params,c=l.length,u=2*Math.PI;for(o.toContext(t),t.beginPath(),n=0,i=0;n<c;n++)switch(l[n]){case"M":case"L":t.moveTo(d[i]-2,d[i+1]-2),t.rect(d[i]-2,d[i+1]-2,4,4),i+=2;break;case"C":t.moveTo(d[i]+2,d[i+1]),t.arc(d[i],d[i+1],2,0,u,!0),i+=2,t.moveTo(d[i]+2,d[i+1]),t.arc(d[i],d[i+1],2,0,u,!0),i+=2,t.moveTo(d[i]+4,d[i+1]),t.rect(d[i]-2,d[i+1]-2,4,4),i+=2}for(a.toContext(t),t.strokeStyle="black",t.strokeOpacity=1,t.lineWidth=1,t.stroke(),o.toContext(t),t.beginPath(),n=0,i=0;n<c;n++)switch(l[n]){case"M":case"L":t.moveTo(d[i],d[i+1]),i+=2;break;case"C":t.lineTo(d[i],d[i+1]),i+=2,t.moveTo(d[i],d[i+1]),i+=2,t.lineTo(d[i],d[i+1]),i+=2}a.toContext(t),t.lineWidth=.5,t.stroke()},updatePath:function(e,t){}}),Ext.define("Ext.draw.overrides.hittest.sprite.Path",{override:"Ext.draw.sprite.Path",requires:["Ext.draw.Color"],isPointInPath:function(e,t){var n=this.attr;if(n.fillStyle===Ext.util.Color.RGBA_NONE)return this.isPointOnPath(e,t);var i,r,o=n.path;return n.matrix.isIdentity()||(i=o.params.slice(0),o.transform(n.matrix)),r=o.isPointInPath(e,t),i&&(o.params=i),r},isPointOnPath:function(e,t){var n,i,r=this.attr,o=r.path;return r.matrix.isIdentity()||(n=o.params.slice(0),o.transform(r.matrix)),i=o.isPointOnPath(e,t),n&&(o.params=n),i},hitTest:function(e,t){var n,i=this,r=i.attr,o=r.path,a=r.matrix,s=e[0],l=e[1],d=null;return i.callParent([e,t])?(t=t||Ext.draw.sprite.Sprite.defaultHitTestOptions,a.isIdentity()||(n=o.params.slice(0),o.transform(r.matrix)),t.fill&&t.stroke?r.fillStyle!==Ext.util.Color.NONE&&r.fillStyle!==Ext.util.Color.RGBA_NONE?o.isPointInPath(s,l)&&(d={sprite:i}):(o.isPointInPath(s,l)||o.isPointOnPath(s,l))&&(d={sprite:i}):t.stroke&&!t.fill?o.isPointOnPath(s,l)&&(d={sprite:i}):t.fill&&!t.stroke&&o.isPointInPath(s,l)&&(d={sprite:i}),n&&(o.params=n),d):d},getIntersections:function(e){if(!e.isSprite||!e.isPath)return[];var t,n,i,r=this.attr,o=e.attr,a=r.path,s=o.path,l=r.matrix,d=o.matrix;return l.isIdentity()||(t=a.params.slice(0),a.transform(r.matrix)),d.isIdentity()||(n=s.params.slice(0),s.transform(o.matrix)),i=a.getIntersections(s),t&&(a.params=t),n&&(s.params=n),i}}),Ext.define("Ext.draw.sprite.Circle",{extend:"Ext.draw.sprite.Path",alias:"sprite.circle",type:"circle",inheritableStatics:{def:{processors:{cx:"number",cy:"number",r:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy"},defaults:{cx:0,cy:0,r:4},triggers:{cx:"path",cy:"path",r:"path"}}},updatePlainBBox:function(e){var t=this.attr,n=t.cx,i=t.cy,r=t.r;e.x=n-r,e.y=i-r,e.width=r+r,e.height=r+r},updateTransformedBBox:function(e){var t,n,i=this.attr,r=i.cx,o=i.cy,a=i.r,s=i.matrix;t=s.getScaleX()*a,n=s.getScaleY()*a,e.x=s.x(r,o)-t,e.y=s.y(r,o)-n,e.width=t+t,e.height=n+n},updatePath:function(e,t){e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!1)}}),Ext.define("Ext.draw.sprite.Arc",{extend:"Ext.draw.sprite.Circle",alias:"sprite.arc",type:"arc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:2*Math.PI,anticlockwise:!1},triggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(e,t){e.arc(t.cx,t.cy,t.r,t.startAngle,t.endAngle,t.anticlockwise)}}),Ext.define("Ext.draw.sprite.Arrow",{extend:"Ext.draw.sprite.Path",alias:"sprite.arrow",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(e,t){var n=1.5*t.size,i=t.x-t.lineWidth/2,r=t.y;e.fromSvgString("M".concat(i-.7*n,",",r-.4*n,"l",[.6*n,0,0,.4*-n,n,.8*n,-n,.8*n,0,.4*-n,.6*-n,0],"z"))}}),Ext.define("Ext.draw.sprite.Composite",{extend:"Ext.draw.sprite.Sprite",alias:"sprite.composite",type:"composite",isComposite:!0,config:{sprites:[]},constructor:function(e){this.sprites=[],this.map={},this.callParent([e])},add:function(e){if(!e)return null;e.isSprite||(e=Ext.create("sprite."+e.type,e)),e.setParent(this),e.setSurface(this.getSurface());var t=this.attr,n=e.applyTransformations;return e.applyTransformations=function(i){e.attr.dirtyTransform&&(t.dirtyTransform=!0,t.bbox.plain.dirty=!0,t.bbox.transform.dirty=!0),n.call(e,i)},this.sprites.push(e),this.map[e.id]=e.getId(),t.bbox.plain.dirty=!0,t.bbox.transform.dirty=!0,e},removeSprite:function(e,t){var n,i,r=this;if(e){if(e.charAt&&(e=r.map[e]),!e||!e.isSprite)return null;if(e.isDestroyed||e.isDestroying)return e;if(n=e.getId(),i=r.map[n],delete r.map[n],t&&e.destroy(),!i)return e;e.setParent(null),e.setSurface(null),Ext.Array.remove(r.sprites,e),r.dirtyZIndex=!0,r.setDirty(!0)}return e||null},updateSurface:function(e){for(var t=0,n=this.sprites.length;t<n;t++)this.sprites[t].setSurface(e)},addAll:function(e){if(e.isSprite||e.type)this.add(e);else if(Ext.isArray(e))for(var t=0;t<e.length;)this.add(e[t++])},updatePlainBBox:function(e){var t,n,i,r,o=1/0,a=-1/0,s=1/0,l=-1/0;for(i=0,r=this.sprites.length;i<r;i++)(t=this.sprites[i]).applyTransformations(),o>(n=t.getBBox()).x&&(o=n.x),a<n.x+n.width&&(a=n.x+n.width),s>n.y&&(s=n.y),l<n.y+n.height&&(l=n.y+n.height);e.x=o,e.y=s,e.width=a-o,e.height=l-s},isVisible:function(){var e=this.attr,t=this.getParent();return!!(t&&(t.isSurface||t.isVisible())&&!e.hidden&&e.globalAlpha)},render:function(e,t,n){var i=this,r=i.attr,o=i.attr.matrix,a=i.sprites,s=a.length,l=0;for(o.toContext(t);l<s;l++)e.renderSprite(a[l],n);var d=r.debug||i.statics().debug||Ext.draw.sprite.Sprite.debug;d&&(r.inverseMatrix.toContext(t),d.bbox&&i.renderBBox(e,t))},destroy:function(){var e,t=this.sprites,n=t.length;for(e=0;e<n;e++)t[e].destroy();t.length=0,this.callParent()}}),Ext.define("Ext.draw.sprite.Cross",{extend:"Ext.draw.sprite.Path",alias:"sprite.cross",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(e,t){var n=t.size/1.7,i=t.x-t.lineWidth/2,r=t.y;e.fromSvgString("M".concat(i-n,",",r,"l",[-n,-n,n,-n,n,n,n,-n,n,n,-n,n,n,n,-n,n,-n,-n,-n,n,-n,-n,"z"]))}}),Ext.define("Ext.draw.sprite.Diamond",{extend:"Ext.draw.sprite.Path",alias:"sprite.diamond",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(e,t){var n=1.25*t.size,i=t.x-t.lineWidth/2,r=t.y;e.fromSvgString(["M",i,r-n,"l",n,n,-n,n,-n,-n,n,-n,"z"])}}),Ext.define("Ext.draw.sprite.Ellipse",{extend:"Ext.draw.sprite.Path",alias:"sprite.ellipse",type:"ellipse",inheritableStatics:{def:{processors:{cx:"number",cy:"number",rx:"number",ry:"number",axisRotation:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy",radiusX:"rx",radiusY:"ry"},defaults:{cx:0,cy:0,rx:1,ry:1,axisRotation:0},triggers:{cx:"path",cy:"path",rx:"path",ry:"path",axisRotation:"path"}}},updatePlainBBox:function(e){var t=this.attr,n=t.cx,i=t.cy,r=t.rx,o=t.ry;e.x=n-r,e.y=i-o,e.width=r+r,e.height=o+o},updateTransformedBBox:function(e){var t,n,i,r,o,a,s,l,d=this.attr,c=d.cx,u=d.cy,h=d.rx,f=d.ry/h,g=d.matrix.clone();g.append(1,0,0,f,0,u*(1-f)),t=g.getXX(),i=g.getYX(),o=g.getDX(),n=g.getXY(),r=g.getYY(),a=g.getDY(),s=Math.sqrt(t*t+i*i)*h,l=Math.sqrt(n*n+r*r)*h,e.x=c*t+u*i+o-s,e.y=c*n+u*r+a-l,e.width=s+s,e.height=l+l},updatePath:function(e,t){e.ellipse(t.cx,t.cy,t.rx,t.ry,t.axisRotation,0,2*Math.PI,!1)}}),Ext.define("Ext.draw.sprite.EllipticalArc",{extend:"Ext.draw.sprite.Ellipse",alias:"sprite.ellipticalArc",type:"ellipticalArc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:2*Math.PI,anticlockwise:!1},triggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(e,t){e.ellipse(t.cx,t.cy,t.rx,t.ry,t.axisRotation,t.startAngle,t.endAngle,t.anticlockwise)}}),Ext.define("Ext.draw.sprite.Rect",{extend:"Ext.draw.sprite.Path",alias:"sprite.rect",type:"rect",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number",radius:"number"},aliases:{},triggers:{x:"path",y:"path",width:"path",height:"path",radius:"path"},defaults:{x:0,y:0,width:8,height:8,radius:0}}},updatePlainBBox:function(e){var t=this.attr;e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},updateTransformedBBox:function(e,t){this.attr.matrix.transformBBox(t,this.attr.radius,e)},updatePath:function(e,t){var n=t.x,i=t.y,r=t.width,o=t.height,a=Math.min(t.radius,.5*Math.abs(o),.5*Math.abs(r));0===a?e.rect(n,i,r,o):(e.moveTo(n+a,i),e.arcTo(n+r,i,n+r,i+o,a),e.arcTo(n+r,i+o,n,i+o,a),e.arcTo(n,i+o,n,i,a),e.arcTo(n,i,n+a,i,a))}}),Ext.define("Ext.draw.sprite.Image",{extend:"Ext.draw.sprite.Rect",alias:"sprite.image",type:"image",statics:{imageLoaders:{}},inheritableStatics:{def:{processors:{src:"string"},triggers:{src:"src"},updaters:{src:"updateSource"},defaults:{src:"",width:null,height:null}}},updateSurface:function(e){e&&this.updateSource(this.attr)},updateSource:function(e){var t,n,i=e.src,r=this.getSurface(),o=Ext.draw.sprite.Image.imageLoaders[i],a=e.width,s=e.height;r&&(o?(Ext.Array.include(o.pendingSprites,this),Ext.Array.include(o.pendingSurfaces,r)):(t=new Image,o=Ext.draw.sprite.Image.imageLoaders[i]={image:t,done:!1,pendingSprites:[this],pendingSurfaces:[r]},t.width=a,t.height=s,t.onload=function(){var e;if(!o.done){for(o.done=!0,n=0;n<o.pendingSprites.length;n++)(e=o.pendingSprites[n]).destroyed||e.setDirty(!0);for(n=0;n<o.pendingSurfaces.length;n++)(e=o.pendingSurfaces[n]).destroyed||e.renderFrame()}},t.src=i))},render:function(e,t){var n,i=this.attr,r=i.matrix,o=i.src,a=i.x,s=i.y,l=i.width,d=i.height,c=Ext.draw.sprite.Image.imageLoaders[o];c&&c.done&&(r.toContext(t),n=c.image,t.drawImage(n,a,s,l||(n.naturalWidth||n.width)/e.devicePixelRatio,d||(n.naturalHeight||n.height)/e.devicePixelRatio));var u=i.debug||this.statics().debug||Ext.draw.sprite.Sprite.debug;u&&u.bbox&&this.renderBBox(e,t)},isVisible:function(){var e=this.attr,t=this.getParent();return!!(t&&(t.isSurface||t.isVisible())&&!e.hidden&&e.globalAlpha)}}),Ext.define("Ext.draw.sprite.Instancing",{extend:"Ext.draw.sprite.Sprite",alias:"sprite.instancing",type:"instancing",isInstancing:!0,config:{template:null,instances:null},instances:null,applyTemplate:function(e){Ext.isObject(e)?(e.isInstancing||e.isComposite)&&Ext.raise("Can't use an instancing or composite sprite as a template for an instancing sprite."):Ext.raise("A template of an instancing sprite must either be a sprite instance or a valid config object from which a template sprite will be created."),e.isSprite||(e.xclass||e.type||(e.type="circle"),e=Ext.create(e.xclass||"sprite."+e.type,e));var t=e.getSurface();return t&&t.remove(e),e.setParent(this),e},updateTemplate:function(e,t){t&&delete t.ownAttr,e.setSurface(this.getSurface()),e.ownAttr=e.attr,this.clearAll()},updateInstances:function(e){if(this.clearAll(),Ext.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])},updateSurface:function(e){var t=this.getTemplate();t&&!t.destroyed&&t.setSurface(e)},get:function(e){return this.instances[e]},getCount:function(){return this.instances.length},clearAll:function(){this.getTemplate().attr.children=this.instances=[],this.position=0},createInstance:function(e,t,n){return this.add(e,t,n)},add:function(e,t,n){var i=this.getTemplate(),r=i.attr,o=Ext.Object.chain(r);return i.topModifier.prepareAttributes(o),i.attr=o,i.setAttributes(e,t,n),o.template=i,this.instances.push(o),i.attr=r,this.position++,o},getBBox:function(){return null},getBBoxFor:function(e,t){var n,i=this.getTemplate(),r=i.attr;return i.attr=this.instances[e],n=i.getBBox(t),i.attr=r,n},isVisible:function(){var e=this.attr,t=this.getParent();return!!(t&&t.isSurface&&!e.hidden&&e.globalAlpha)},isInstanceVisible:function(e){var t=this.getTemplate(),n=t.attr,i=this.instances,r=!1;return!Ext.isNumber(e)||e<0||e>=i.length||!this.isVisible()?r:(t.attr=i[e],r=t.isVisible(point,options),t.attr=n,r)},render:function(e,t,n){this.getTemplate()||Ext.raise("An instancing sprite must have a template.");var i,r=this.getTemplate(),o=e.getRect(),a=this.attr.matrix,s=r.attr,l=this.instances,d=this.position;for(a.toContext(t),r.preRender(e,t,n),r.useAttributes(t,o),i=0;i<d;i++)l[i].hidden||(t.save(),r.attr=l[i],r.useAttributes(t,o),r.render(e,t,n),t.restore());r.attr=s},setAttributesFor:function(e,t,n){var i=this.getTemplate(),r=i.attr,o=this.instances[e];o&&(i.attr=o,t=n?Ext.apply({},t):i.self.def.normalize(t),i.topModifier.pushDown(o,t),i.attr=r)},destroy:function(){var e=this.getTemplate();this.instances=null,e&&e.destroy(),this.callParent()}}),Ext.define("Ext.draw.overrides.hittest.sprite.Instancing",{override:"Ext.draw.sprite.Instancing",hitTest:function(e,t){var n=this.getTemplate(),i=n.attr,r=this.instances,o=r.length,a=0,s=null;if(!this.isVisible())return s;for(;a<o;a++)if(n.attr=r[a],s=n.hitTest(e,t))return s.isInstance=!0,s.template=s.sprite,s.sprite=this,s.instance=r[a],s.index=a,s;return n.attr=i,s}}),Ext.define("Ext.draw.sprite.Line",{extend:"Ext.draw.sprite.Sprite",alias:"sprite.line",type:"line",inheritableStatics:{def:{processors:{fromX:"number",fromY:"number",toX:"number",toY:"number"},defaults:{fromX:0,fromY:0,toX:1,toY:1,strokeStyle:"black"},aliases:{x1:"fromX",y1:"fromY",x2:"toX",y2:"toY"}}},updateLineBBox:function(e,t,n,i,r,o){var a,s,l,d,c,u=this.attr,h=u.matrix,f=u.lineWidth/2;t&&(n=(c=h.transformPoint([n,i]))[0],i=c[1],r=(c=h.transformPoint([r,o]))[0],o=c[1]),a=Math.min(n,r),l=Math.max(n,r),s=Math.min(i,o),d=Math.max(i,o);var g,p,m=Math.atan2(l-a,d-s),x=Math.sin(m);a-=g=f*Math.cos(m),s-=p=f*x,l+=g,d+=p,e.x=a,e.y=s,e.width=l-a,e.height=d-s},updatePlainBBox:function(e){var t=this.attr;this.updateLineBBox(e,!1,t.fromX,t.fromY,t.toX,t.toY)},updateTransformedBBox:function(e,t){var n=this.attr;this.updateLineBBox(e,!0,n.fromX,n.fromY,n.toX,n.toY)},render:function(e,t){var n=this.attr;this.attr.matrix.toContext(t),t.beginPath(),t.moveTo(n.fromX,n.fromY),t.lineTo(n.toX,n.toY),t.stroke();var i=n.debug||this.statics().debug||Ext.draw.sprite.Sprite.debug;i&&(this.attr.inverseMatrix.toContext(t),i.bbox&&this.renderBBox(e,t))}}),Ext.define("Ext.draw.sprite.Plus",{extend:"Ext.draw.sprite.Path",alias:"sprite.plus",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(e,t){var n=t.size/1.3,i=t.x-t.lineWidth/2,r=t.y;e.fromSvgString("M".concat(i-n/2,",",r-n/2,"l",[0,-n,n,0,0,n,n,0,0,n,-n,0,0,n,-n,0,0,-n,-n,0,0,-n,"z"]))}}),Ext.define("Ext.draw.sprite.Sector",{extend:"Ext.draw.sprite.Path",alias:"sprite.sector",type:"sector",inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number"},aliases:{rho:"endRho"},triggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,bbox",endAngle:"path,bbox",startRho:"path,bbox",endRho:"path,bbox",margin:"path,bbox"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:0,startRho:0,endRho:150,margin:0,path:"M 0,0"}}},getMidAngle:function(){return this.midAngle||0},updatePath:function(e,t){var n=Math.min(t.startAngle,t.endAngle),i=Math.max(t.startAngle,t.endAngle),r=this.midAngle=.5*(n+i),o=t.margin,a=t.centerX,s=t.centerY,l=Math.min(t.startRho,t.endRho),d=Math.max(t.startRho,t.endRho);o&&(a+=o*Math.cos(r),s+=o*Math.sin(r)),e.moveTo(a+l*Math.cos(n),s+l*Math.sin(n)),e.lineTo(a+d*Math.cos(n),s+d*Math.sin(n)),e.arc(a,s,d,n,i,!1),e.lineTo(a+l*Math.cos(i),s+l*Math.sin(i)),e.arc(a,s,l,i,n,!0)}}),Ext.define("Ext.draw.sprite.Square",{extend:"Ext.draw.sprite.Path",alias:"sprite.square",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"size"}}},updatePath:function(e,t){var n=1.2*t.size,i=2*n,r=t.x-t.lineWidth/2,o=t.y;e.fromSvgString("M".concat(r-n,",",o-n,"l",[i,0,0,i,-i,0,0,-i,"z"]))}}),Ext.define("Ext.draw.TextMeasurer",{singleton:!0,requires:["Ext.util.TextMetrics"],measureDiv:null,measureCache:{},precise:Ext.isIE8,measureDivTpl:{tag:"div",style:{overflow:"hidden",position:"relative",float:"left",width:0,height:0},"data-sticky":!0,children:{tag:"div",style:{display:"block",position:"absolute",x:-1e5,y:-1e5,padding:0,margin:0,"z-index":-1e5,"white-space":"nowrap"}}},actualMeasureText:function(e,t){var n,i=Ext.draw.TextMeasurer,r=i.measureDiv;if(!r){var o=Ext.Element.create({"data-sticky":!0,style:{overflow:"hidden",position:"relative",float:"left",width:0,height:0}});i.measureDiv=r=Ext.Element.create({style:{position:"absolute",x:1e5,y:1e5,"z-index":-1e5,"white-space":"nowrap",display:"block",padding:0,margin:0}}),Ext.getBody().appendChild(o),o.appendChild(r)}return t&&r.setStyle({font:t,lineHeight:"normal"}),r.setText("("+e+")"),n=r.getSize(),r.setText("()"),n.width-=r.getSize().width,n},measureTextSingleLine:function(e,t){if(this.precise)return this.preciseMeasureTextSingleLine(e,t);e=e.toString();var n,i,r,o,a,s=this.measureCache,l=e.split(""),d=0,c=0;if(s[t]||(s[t]={}),(s=s[t])[e])return s[e];for(r=0,o=l.length;r<o;r++)(n=s[i=l[r]])||(a=this.actualMeasureText(i,t),n=s[i]=a),d+=n.width,c=Math.max(c,n.height);return s[e]={width:d,height:c}},preciseMeasureTextSingleLine:function(e,t){e=e.toString();var n=this.measureDiv||(this.measureDiv=Ext.getBody().createChild(this.measureDivTpl).down("div"));return n.setStyle({font:t||""}),Ext.util.TextMetrics.measure(n,e)},measureText:function(e,t){var n,i,r,o=e.split("\n"),a=o.length,s=0,l=0;if(1===a)return this.measureTextSingleLine(e,t);for(r=[],i=0;i<a;i++)n=this.measureTextSingleLine(o[i],t),r.push(n),s+=n.height,l=Math.max(l,n.width);return{width:l,height:s,sizes:r}}}),Ext.define("Ext.draw.sprite.Text",function(){var e={"xx-small":!0,"x-small":!0,small:!0,medium:!0,large:!0,"x-large":!0,"xx-large":!0},t={normal:!0,bold:!0,bolder:!0,lighter:!0,100:!0,200:!0,300:!0,400:!0,500:!0,600:!0,700:!0,800:!0,900:!0},n={start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},i={top:"top",hanging:"hanging",middle:"middle",center:"middle",alphabetic:"alphabetic",ideographic:"ideographic",bottom:"bottom"};return{extend:"Ext.draw.sprite.Sprite",requires:["Ext.draw.TextMeasurer","Ext.draw.Color"],alias:"sprite.text",type:"text",lineBreakRe:/\r?\n/g,statics:{debug:!1,fontSizes:e,fontWeights:t,textAlignments:n,textBaselines:i},inheritableStatics:{def:{animationProcessors:{text:"text"},processors:{x:"number",y:"number",text:"string",fontSize:function(t){return Ext.isNumber(+t)?t+"px":t.match(Ext.dom.Element.unitRe)?t:t in e?t:void 0},fontStyle:"enums(,italic,oblique)",fontVariant:"enums(,small-caps)",fontWeight:function(e){return e in t?String(e):""},fontFamily:"string",textAlign:function(e){return n[e]||"center"},textBaseline:function(e){return i[e]||"alphabetic"},font:"string",debug:"default"},aliases:{"font-size":"fontSize","font-family":"fontFamily","font-weight":"fontWeight","font-variant":"fontVariant","text-anchor":"textAlign"},defaults:{fontStyle:"",fontVariant:"",fontWeight:"",fontSize:"10px",fontFamily:"sans-serif",font:"10px sans-serif",textBaseline:"alphabetic",textAlign:"start",strokeStyle:"rgba(0, 0, 0, 0)",fillStyle:"#000",x:0,y:0,text:""},triggers:{fontStyle:"fontX,bbox",fontVariant:"fontX,bbox",fontWeight:"fontX,bbox",fontSize:"fontX,bbox",fontFamily:"fontX,bbox",font:"font,bbox,canvas",textBaseline:"bbox",textAlign:"bbox",x:"bbox",y:"bbox",text:"bbox"},updaters:{fontX:"makeFontShorthand",font:"parseFontShorthand"}}},config:{preciseMeasurement:void 0},constructor:function(e){if(e&&e.font)for(var t in e=Ext.clone(e))"font"!==t&&0===t.indexOf("font")&&delete e[t];Ext.draw.sprite.Sprite.prototype.constructor.call(this,e)},fontValuesMap:{italic:"fontStyle",oblique:"fontStyle","small-caps":"fontVariant",bold:"fontWeight",bolder:"fontWeight",lighter:"fontWeight",100:"fontWeight",200:"fontWeight",300:"fontWeight",400:"fontWeight",500:"fontWeight",600:"fontWeight",700:"fontWeight",800:"fontWeight",900:"fontWeight","xx-small":"fontSize","x-small":"fontSize",small:"fontSize",medium:"fontSize",large:"fontSize","x-large":"fontSize","xx-large":"fontSize"},makeFontShorthand:function(e){var t=[];e.fontStyle&&t.push(e.fontStyle),e.fontVariant&&t.push(e.fontVariant),e.fontWeight&&t.push(e.fontWeight),e.fontSize&&t.push(e.fontSize),e.fontFamily&&t.push(e.fontFamily),this.setAttributes({font:t.join(" ")},!0)},parseFontShorthand:function(e){for(var t,n,i,r,o=e.font,a=o.length,s={},l=this.fontValuesMap,d=0;d<a&&-1!==t;){if((t=o.indexOf(" ",d))<0)i=o.substr(d);else{if(!(t>d))continue;i=o.substr(d,t-d)}if((n=i.indexOf("/"))>0)i=i.substr(0,n);else if(0===n)continue;if("normal"!==i&&"inherit"!==i)if(r=l[i])s[r]=i;else{if(!i.match(Ext.dom.Element.unitRe)){s.fontFamily=o.substr(d);break}s.fontSize=i}d=t+1}s.fontStyle||(s.fontStyle=""),s.fontVariant||(s.fontVariant=""),s.fontWeight||(s.fontWeight=""),this.setAttributes(s,!0)},fontProperties:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,fontFamily:!0},setAttributes:function(e,t,n){var i,r;if(e&&e.font){for(i in r={},e)i in this.fontProperties||(r[i]=e[i]);e=r}this.callParent([e,t,n])},getBBox:function(e){var t=this,n=t.attr.bbox.plain,i=t.getSurface();return n.dirty&&(t.updatePlainBBox(n),n.dirty=!1),i&&i.getInherited().rtl&&i.getFlipRtlText()&&t.updatePlainBBox(n,!0),t.callParent([e])},rtlAlignments:{start:"end",center:"center",end:"start"},updatePlainBBox:function(e,t){var n,i,r=this,o=r.attr,a=o.x,s=o.y,l=[],d=o.font,c=o.text,u=o.textBaseline,h=o.textAlign,f=r.getPreciseMeasurement();t&&r.oldSize?n=r.oldSize:(i=Ext.draw.TextMeasurer.precise,Ext.isBoolean(f)&&(Ext.draw.TextMeasurer.precise=f),n=r.oldSize=Ext.draw.TextMeasurer.measureText(c,d),Ext.draw.TextMeasurer.precise=i);var g,p,m=r.getSurface(),x=m&&m.getInherited().rtl||!1,E=x&&m.getFlipRtlText(),v=n.sizes,y=n.height,b=n.width,C=v?v.length:0,S=0;switch(u){case"hanging":case"top":break;case"ideographic":case"bottom":s-=y;break;case"alphabetic":s-=.8*y;break;case"middle":s-=.5*y}switch(E&&(a=(p=m.getRect())[2]-p[0]-a,h=r.rtlAlignments[h]),h){case"start":if(x)for(;S<C;S++)g=v[S].width,l.push(-(b-g));break;case"end":if(a-=b,x)break;for(;S<C;S++)g=v[S].width,l.push(b-g);break;case"center":for(a-=.5*b;S<C;S++)g=v[S].width,l.push((x?-1:1)*(b-g)*.5)}o.textAlignOffsets=l,e.x=a,e.y=s,e.width=b,e.height=y},setText:function(e){this.setAttributes({text:e},!0)},render:function(e,t,n){var i,r,o,a,s,l=this.attr,d=Ext.draw.Matrix.fly(l.matrix.elements.slice(0)),c=this.getBBox(!0),u=l.textAlignOffsets,h=Ext.util.Color.RGBA_NONE;if(0!==l.text.length){for(a=l.text.split(this.lineBreakRe),s=c.height/a.length,i=l.bbox.plain.x,r=l.bbox.plain.y+.78*s,d.toContext(t),e.getInherited().rtl&&(i+=l.bbox.plain.width),o=0;o<a.length;o++)t.fillStyle!==h&&t.fillText(a[o],i+(u[o]||0),r+s*o),t.strokeStyle!==h&&t.strokeText(a[o],i+(u[o]||0),r+s*o);var f=l.debug||this.statics().debug||Ext.draw.sprite.Sprite.debug;f&&(this.attr.inverseMatrix.toContext(t),f.bbox&&this.renderBBox(e,t))}}}}),Ext.define("Ext.draw.sprite.Tick",{extend:"Ext.draw.sprite.Line",alias:"sprite.tick",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"tick",y:"tick",size:"tick"},updaters:{tick:function(e){var t=1.5*e.size,n=e.lineWidth/2,i=e.x,r=e.y;this.setAttributes({fromX:i-n,fromY:r-t,toX:i-n,toY:r+t})}}}}}),Ext.define("Ext.draw.sprite.Triangle",{extend:"Ext.draw.sprite.Path",alias:"sprite.triangle",inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(e,t){var n=2.2*t.size,i=t.x,r=t.y;e.fromSvgString("M".concat(i,",",r,"m0-",.48*n,"l",.5*n,",",.87*n,"-",n,",0z"))}}),Ext.define("Ext.draw.gradient.Linear",{extend:"Ext.draw.gradient.Gradient",requires:["Ext.draw.Color"],type:"linear",config:{degrees:0,radians:0},applyRadians:function(e,t){return Ext.isNumber(e)?e:t},applyDegrees:function(e,t){return Ext.isNumber(e)?e:t},updateRadians:function(e){this.setDegrees(Ext.draw.Draw.degrees(e))},updateDegrees:function(e){this.setRadians(Ext.draw.Draw.rad(e))},generateGradient:function(e,t){var n,i,r,o=this.getRadians(),a=Math.cos(o),s=Math.sin(o),l=t.width,d=t.height,c=t.x+.5*l,u=t.y+.5*d,h=this.getStops(),f=h.length;if(Ext.isNumber(c)&&Ext.isNumber(u)&&d>0&&l>0){for(i=Math.sqrt(d*d+l*l)*Math.abs(Math.cos(o-Math.atan(d/l)))/2,n=e.createLinearGradient(c+a*i,u+s*i,c-a*i,u-s*i),r=0;r<f;r++)n.addColorStop(h[r].offset,h[r].color);return n}return Ext.util.Color.NONE}}),Ext.define("Ext.draw.gradient.Radial",{extend:"Ext.draw.gradient.Gradient",type:"radial",config:{start:{x:0,y:0,r:0},end:{x:0,y:0,r:1}},applyStart:function(e,t){if(!t)return e;var n={x:t.x,y:t.y,r:t.r};return"x"in e?n.x=e.x:"centerX"in e&&(n.x=e.centerX),"y"in e?n.y=e.y:"centerY"in e&&(n.y=e.centerY),"r"in e?n.r=e.r:"radius"in e&&(n.r=e.radius),n},applyEnd:function(e,t){if(!t)return e;var n={x:t.x,y:t.y,r:t.r};return"x"in e?n.x=e.x:"centerX"in e&&(n.x=e.centerX),"y"in e?n.y=e.y:"centerY"in e&&(n.y=e.centerY),"r"in e?n.r=e.r:"radius"in e&&(n.r=e.radius),n},generateGradient:function(e,t){var n,i=this.getStart(),r=this.getEnd(),o=.5*t.width,a=.5*t.height,s=t.x+o,l=t.y+a,d=e.createRadialGradient(s+i.x*o,l+i.y*a,i.r*Math.max(o,a),s+r.x*o,l+r.y*a,r.r*Math.max(o,a)),c=this.getStops(),u=c.length;for(n=0;n<u;n++)d.addColorStop(c[n].offset,c[n].color);return d}}),Ext.define("Ext.draw.Surface",{extend:"Ext.draw.SurfaceBase",xtype:"surface",requires:["Ext.draw.sprite.*","Ext.draw.gradient.*","Ext.draw.sprite.AttributeDefinition","Ext.draw.Matrix","Ext.draw.Draw"],uses:["Ext.draw.engine.Canvas"],devicePixelRatio:window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,deprecated:{"5.1.0":{statics:{methods:{stableSort:function(e){return Ext.Array.sort(e,function(e,t){return e.attr.zIndex-t.attr.zIndex})}}}}},cls:Ext.baseCSSPrefix+"surface",config:{rect:null,background:null,items:[],dirty:!1,flipRtlText:!1},isSurface:!0,isPendingRenderFrame:!1,dirtyPredecessorCount:0,constructor:function(e){var t=this;t.predecessors=[],t.successors=[],t.map={},t.callParent([e]),t.matrix=new Ext.draw.Matrix,t.inverseMatrix=t.matrix.inverse()},roundPixel:function(e){return Math.round(this.devicePixelRatio*e)/this.devicePixelRatio},waitFor:function(e){var t=this.predecessors;Ext.Array.contains(t,e)||(t.push(e),e.successors.push(this),e.getDirty()&&this.dirtyPredecessorCount++)},updateDirty:function(e){for(var t,n=this.successors,i=n.length,r=0;r<i;r++)t=n[r],e?(t.dirtyPredecessorCount++,t.setDirty(!0)):(t.dirtyPredecessorCount--,0===t.dirtyPredecessorCount&&t.isPendingRenderFrame&&t.renderFrame())},applyBackground:function(e,t){return this.setDirty(!0),Ext.isString(e)&&(e={fillStyle:e}),Ext.factory(e,Ext.draw.sprite.Rect,t)},applyRect:function(e,t){if(!t||e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3])return Ext.isArray(e)?[e[0],e[1],e[2],e[3]]:Ext.isObject(e)?[e.x||e.left,e.y||e.top,e.width||e.right-e.left,e.height||e.bottom-e.top]:void 0},updateRect:function(e){var t=e[0],n=e[1],i=t+e[2],r=n+e[3],o=this.getBackground(),a=this.element;a.setLocalXY(Math.floor(t),Math.floor(n)),a.setSize(Math.ceil(i-Math.floor(t)),Math.ceil(r-Math.floor(n))),o&&o.setAttributes({x:0,y:0,width:Math.ceil(i-Math.floor(t)),height:Math.ceil(r-Math.floor(n))}),this.setDirty(!0)},resetTransform:function(){this.matrix.set(1,0,0,1,0,0),this.inverseMatrix.set(1,0,0,1,0,0),this.setDirty(!0)},get:function(e){return this.map[e]||this.getItems()[e]},add:function(){var e,t,n,i,r,o,a=this,s=Array.prototype.slice.call(arguments),l=Ext.isArray(s[0]),d=a.map,c=[];if(!(e=Ext.Array.clean(l?s[0]:s)).length)return c;for(r=0,o=e.length;r<o;r++)(t=e[r])&&!t.destroyed&&(n=null,t.isSprite&&!d[t.getId()]?n=t:d[t.id]||(n=this.createItem(t)),n&&(d[n.getId()]=n,c.push(n),(i=n.getSurface())&&i.isSurface&&i.remove(n),n.setParent(a),n.setSurface(a),a.onAdd(n)));return(e=a.getItems())&&e.push.apply(e,c),a.dirtyZIndex=!0,a.setDirty(!0),l||1!==c.length?c:c[0]},onAdd:Ext.emptyFn,remove:function(e,t){var n,i,r=this,o=r.clearing;if(e){if(e.charAt&&(e=r.map[e]),!e||!e.isSprite)return null;if(n=e.id,i=r.map[n],delete r.map[n],e.destroyed||e.destroying)return i&&!o&&Ext.Array.remove(r.getItems(),e),e;if(!i)return t&&e.destroy(),e;e.setParent(null),e.setSurface(null),t&&e.destroy(),o||(Ext.Array.remove(r.getItems(),e),r.dirtyZIndex=!0,r.setDirty(!0))}return e||null},removeAll:function(e){var t,n,i=this,r=i.getItems();for(i.clearing=!!e,n=r.length-1;n>=0;n--)t=r[n],e?t.destroy():(t.setParent(null),t.setSurface(null));i.clearing=!1,r.length=0,i.map={},i.dirtyZIndex=!0,i.destroying||i.setDirty(!0)},applyItems:function(e){return this.getItems()&&this.removeAll(!0),Ext.Array.from(this.add(e))},createItem:function(e){return Ext.create(e.xclass||"sprite."+e.type,e)},getBBox:function(e,t){var n,i,r=1/0,o=-1/0,a=1/0,s=-1/0,l=(e=Ext.Array.from(e)).length;for(i=0;i<l;i++)r>(n=e[i].getBBox(t)).x&&(r=n.x),o<n.x+n.width&&(o=n.x+n.width),a>n.y&&(a=n.y),s<n.y+n.height&&(s=n.y+n.height);return{x:r,y:a,width:o-r,height:s-a}},emptyRect:[0,0,0,0],getEventXY:function(e){var t,n=this.getInherited().rtl,i=e.getXY(),r=this.getOwnerBody(),o=r.getXY(),a=this.getRect()||this.emptyRect,s=[];return n?(t=r.getWidth(),s[0]=o[0]-i[0]-a[0]+t):s[0]=i[0]-o[0]-a[0],s[1]=i[1]-o[1]-a[1],s},clear:Ext.emptyFn,orderByZIndex:function(){var e,t,n=this.getItems(),i=!1;if(this.getDirty()){for(e=0,t=n.length;e<t;e++)if(n[e].attr.dirtyZIndex){i=!0;break}for(i&&(Ext.Array.sort(n,function(e,t){return e.attr.zIndex-t.attr.zIndex}),this.setDirty(!0)),e=0,t=n.length;e<t;e++)n[e].attr.dirtyZIndex=!1}},repaint:function(){var e=this;e.repaint=Ext.emptyFn,Ext.defer(function(){delete e.repaint,e.element.repaint()},1)},renderFrame:function(){var e=this;if(e.element&&e.getDirty()&&e.getRect())if(e.dirtyPredecessorCount>0)e.isPendingRenderFrame=!0;else{var t,n,i,r=e.getBackground(),o=e.getItems();if(e.orderByZIndex(),e.getDirty()){for(e.clear(),e.clearTransform(),r&&e.renderSprite(r),n=0,i=o.length;n<i;n++){if(t=o[n],!1===e.renderSprite(t))return;t.attr.textPositionCount=e.textPosition}e.setDirty(!1)}}},renderSprite:Ext.emptyFn,clearTransform:Ext.emptyFn,destroy:function(){var e=this;e.destroying=!0,e.removeAll(!0),e.destroying=!1,e.predecessors=e.successors=null,e.hasListeners.destroy&&e.fireEvent("destroy",e),e.callParent()}}),Ext.define("Ext.draw.overrides.hittest.Surface",{override:"Ext.draw.Surface",hitTest:function(e,t){var n,i,r,o=this.getItems();for(t=t||Ext.draw.sprite.Sprite.defaultHitTestOptions,n=o.length-1;n>=0;n--)if((i=o[n]).hitTest&&(r=i.hitTest(e,t)))return r;return null},hitTestEvent:function(e,t){var n=this.getEventXY(e);return this.hitTest(n,t)}}),Ext.define("Ext.draw.engine.SvgContext",{requires:["Ext.draw.Color"],toSave:["strokeOpacity","strokeStyle","fillOpacity","fillStyle","globalAlpha","lineWidth","lineCap","lineJoin","lineDash","lineDashOffset","miterLimit","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","globalCompositeOperation","position","fillGradient","strokeGradient"],strokeOpacity:1,strokeStyle:"none",fillOpacity:1,fillStyle:"none",lineDas:[],lineDashOffset:0,globalAlpha:1,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"none",globalCompositeOperation:"src",urlStringRe:/^url\(#([\w\-]+)\)$/,constructor:function(e){var t=this;t.surface=e,t.state=[],t.matrix=new Ext.draw.Matrix,t.path=null,t.clear()},clear:function(){this.group=this.surface.mainGroup,this.position=0,this.path=null},getElement:function(e){return this.surface.getSvgElement(this.group,e,this.position++)},save:function(){var e,t,n=this.toSave,i={},r=this.getElement("g");for(t=0;t<n.length;t++)(e=n[t])in this&&(i[e]=this[e]);return this.position=0,i.matrix=this.matrix.clone(),this.state.push(i),this.group=r,r},restore:function(){for(var e,t,n=this.toSave,i=this.state.pop(),r=this.group,o=r.dom.childNodes;o.length>this.position;)r.last().destroy();for(t=0;t<n.length;t++)(e=n[t])in i?this[e]=i[e]:delete this[e];this.setTransform.apply(this,i.matrix.elements),this.group=r.getParent()},transform:function(e,t,n,i,r,o){if(this.path){var a=Ext.draw.Matrix.fly([e,t,n,i,r,o]).inverse();this.path.transform(a)}this.matrix.append(e,t,n,i,r,o)},setTransform:function(e,t,n,i,r,o){this.path&&this.path.transform(this.matrix),this.matrix.reset(),this.transform(e,t,n,i,r,o)},scale:function(e,t){this.transform(e,0,0,t,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=-Math.sin(e),r=Math.cos(e);this.transform(t,n,i,r,0,0)},translate:function(e,t){this.transform(1,0,0,1,e,t)},setGradientBBox:function(e){this.bbox=e},beginPath:function(){this.path=new Ext.draw.Path},moveTo:function(e,t){this.path||this.beginPath(),this.path.moveTo(e,t),this.path.element=null},lineTo:function(e,t){this.path||this.beginPath(),this.path.lineTo(e,t),this.path.element=null},rect:function(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()},strokeRect:function(e,t,n,i){this.beginPath(),this.rect(e,t,n,i),this.stroke()},fillRect:function(e,t,n,i){this.beginPath(),this.rect(e,t,n,i),this.fill()},closePath:function(){this.path||this.beginPath(),this.path.closePath(),this.path.element=null},arcSvg:function(e,t,n,i,r,o,a){this.path||this.beginPath(),this.path.arcSvg(e,t,n,i,r,o,a),this.path.element=null},arc:function(e,t,n,i,r,o){this.path||this.beginPath(),this.path.arc(e,t,n,i,r,o),this.path.element=null},ellipse:function(e,t,n,i,r,o,a,s){this.path||this.beginPath(),this.path.ellipse(e,t,n,i,r,o,a,s),this.path.element=null},arcTo:function(e,t,n,i,r,o,a){this.path||this.beginPath(),this.path.arcTo(e,t,n,i,r,o,a),this.path.element=null},bezierCurveTo:function(e,t,n,i,r,o){this.path||this.beginPath(),this.path.bezierCurveTo(e,t,n,i,r,o),this.path.element=null},strokeText:function(e,t,n){if(e=String(e),this.strokeStyle){var i=this.getElement("text"),r=this.surface.getSvgElement(i,"tspan",0);this.surface.setElementAttributes(i,{x:t,y:n,transform:this.matrix.toSvg(),stroke:this.strokeStyle,fill:"none",opacity:this.globalAlpha,"stroke-opacity":this.strokeOpacity,style:"font: "+this.font,"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset}),this.lineDash.length&&this.surface.setElementAttributes(i,{"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset}),r.dom.firstChild&&r.dom.removeChild(r.dom.firstChild),this.surface.setElementAttributes(r,{"alignment-baseline":"alphabetic"}),r.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(e)))}},fillText:function(e,t,n){if(e=String(e),this.fillStyle){var i=this.getElement("text"),r=this.surface.getSvgElement(i,"tspan",0);this.surface.setElementAttributes(i,{x:t,y:n,transform:this.matrix.toSvg(),fill:this.fillStyle,opacity:this.globalAlpha,"fill-opacity":this.fillOpacity,style:"font: "+this.font}),r.dom.firstChild&&r.dom.removeChild(r.dom.firstChild),this.surface.setElementAttributes(r,{"alignment-baseline":"alphabetic"}),r.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(e)))}},drawImage:function(e,t,n,i,r,o,a,s,l){var d=this.getElement("image"),c=t,u=n,h=void 0===i?e.width:i,f=void 0===r?e.height:r,g=null;void 0!==l&&(g=t+" "+n+" "+i+" "+r,c=o,u=a,h=s,f=l),d.dom.setAttributeNS("http://www.w3.org/1999/xlink","href",e.src),this.surface.setElementAttributes(d,{viewBox:g,x:c,y:u,width:h,height:f,opacity:this.globalAlpha,transform:this.matrix.toSvg()})},fill:function(){var e=this;if(e.path&&e.fillStyle){var t,n,i=e.fillGradient,r=e.path.element,o=e.bbox;r||(t=e.path.toString(),r=e.path.element=e.getElement("path"),e.surface.setElementAttributes(r,{d:t,transform:e.matrix.toSvg()})),n=i&&o?i.generateGradient(e,o):e.fillStyle,e.surface.setElementAttributes(r,{fill:n,"fill-opacity":e.fillOpacity*e.globalAlpha})}},stroke:function(){var e=this;if(e.path&&e.strokeStyle){var t,n,i=e.strokeGradient,r=e.path.element,o=e.bbox;if(!r||!e.path.svgString){if(!(t=e.path.toString()))return;r=e.path.element=e.getElement("path"),e.surface.setElementAttributes(r,{fill:"none",d:t,transform:e.matrix.toSvg()})}n=i&&o?i.generateGradient(e,o):e.strokeStyle,e.surface.setElementAttributes(r,{stroke:n,"stroke-linecap":e.lineCap,"stroke-linejoin":e.lineJoin,"stroke-width":e.lineWidth,"stroke-opacity":e.strokeOpacity*e.globalAlpha,"stroke-dasharray":e.lineDash.join(","),"stroke-dashoffset":e.lineDashOffset}),e.lineDash.length&&e.surface.setElementAttributes(r,{"stroke-dasharray":e.lineDash.join(","),"stroke-dashoffset":e.lineDashOffset})}},fillStroke:function(e,t){var n=this.fillStyle,i=this.strokeStyle,r=this.fillOpacity,o=this.strokeOpacity;void 0===t&&(t=e.transformFillStroke),t||e.inverseMatrix.toContext(this),n&&0!==r&&this.fill(),i&&0!==o&&this.stroke()},appendPath:function(e){this.path=e.clone()},setLineDash:function(e){this.lineDash=e},getLineDash:function(){return this.lineDash},createLinearGradient:function(e,t,n,i){var r=this.surface.getNextDef("linearGradient");return this.surface.setElementAttributes(r,{x1:e,y1:t,x2:n,y2:i,gradientUnits:"userSpaceOnUse"}),new Ext.draw.engine.SvgContext.Gradient(this,this.surface,r)},createRadialGradient:function(e,t,n,i,r,o){var a=this.surface.getNextDef("radialGradient");return this.surface.setElementAttributes(a,{fx:e,fy:t,cx:i,cy:r,r:o,gradientUnits:"userSpaceOnUse"}),new Ext.draw.engine.SvgContext.Gradient(this,this.surface,a,n/o)}}),Ext.define("Ext.draw.engine.SvgContext.Gradient",{isGradient:!0,constructor:function(e,t,n,i){var r=this;r.ctx=e,r.surface=t,r.element=n,r.position=0,r.compression=i||0},addColorStop:function(e,t){var n=this,i=n.surface.getSvgElement(n.element,"stop",n.position++),r=n.compression;n.surface.setElementAttributes(i,{offset:(100*((1-r)*e+r)).toFixed(2)+"%","stop-color":t,"stop-opacity":Ext.util.Color.fly(t).a.toFixed(15)})},toString:function(){for(var e=this.element.dom.childNodes;e.length>this.position;)Ext.fly(e[e.length-1]).destroy();return"url(#"+this.element.getId()+")"}}),Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.engine.SvgContext"],isSVG:!0,config:{highPrecision:!1},getElementConfig:function(){return{reference:"element",style:{position:"absolute"},children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"},children:[{tag:"svg",reference:"svgElement",namespace:"http://www.w3.org/2000/svg",width:"100%",height:"100%",version:1.1}]}]}},constructor:function(e){var t=this;t.callParent([e]),t.mainGroup=t.createSvgNode("g"),t.defsElement=t.createSvgNode("defs"),t.svgElement.appendChild(t.mainGroup),t.svgElement.appendChild(t.defsElement),t.ctx=new Ext.draw.engine.SvgContext(t)},createSvgNode:function(e){var t=document.createElementNS("http://www.w3.org/2000/svg",e);return Ext.get(t)},getSvgElement:function(e,t,n){var i,r=e.dom.childNodes,o=r.length;if(n<o){if((i=r[n]).tagName===t)return Ext.get(i);Ext.destroy(i)}else n>o&&Ext.raise("Invalid position.");return i=Ext.get(this.createSvgNode(t)),0===n?e.insertFirst(i):i.insertAfter(Ext.fly(r[n-1])),i.cache={},i},setElementAttributes:function(e,t){var n,i,r=e.dom,o=e.cache;for(n in t)i=t[n],o[n]!==i&&(o[n]=i,r.setAttribute(n,i))},getNextDef:function(e){return this.getSvgElement(this.defsElement,e,this.defsPosition++)},clearTransform:function(){this.mainGroup.set({transform:this.matrix.toSvg()})},clear:function(){this.ctx.clear(),this.removeSurplusDefs(),this.defsPosition=0},removeSurplusDefs:function(){var e,t=this.defsElement,n=t.dom.childNodes;for(e=n.length-1;e>this.defsPosition;e--)t.removeChild(n[e])},renderSprite:function(e){var t=this.getRect(),n=this.ctx;return e.attr.hidden||0===e.attr.globalAlpha?(n.save(),void n.restore()):(e.element=n.save(),e.preRender(this),e.useAttributes(n,t),!1!==e.render(this,n,[0,0,t[2],t[3]])&&(e.setDirty(!1),void n.restore()))},toSVG:function(e,t){var n,i,r,o,a=Ext.getClassName(this);for(n='<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="'+e.width+'" height="'+e.height+'">',o=0;o<t.length;o++)i=t[o],Ext.getClassName(i)===a&&(n+='<g transform="translate('+(r=i.getRect())[0]+","+r[1]+')">',n+=this.serializeNode(i.svgElement.dom),n+="</g>");return n+="</svg>"},flatten:function(e,t){var n='<?xml version="1.0" standalone="yes"?>';return n+=this.toSVG(e,t),{data:"data:image/svg+xml;utf8,"+encodeURIComponent(n),type:"svg"}},serializeNode:function(e){var t,n,i,r,o="";if(e.nodeType===document.TEXT_NODE)return e.nodeValue;if(o+="<"+e.nodeName,e.attributes.length)for(t=0,n=e.attributes.length;t<n;t++)o+=" "+(i=e.attributes[t]).name+'="'+i.value+'"';if(o+=">",e.childNodes&&e.childNodes.length)for(t=0,n=e.childNodes.length;t<n;t++)r=e.childNodes[t],o+=this.serializeNode(r);return o+="</"+e.nodeName+">"},destroy:function(){var e=this;e.ctx.destroy(),e.mainGroup.destroy(),e.defsElement.destroy(),delete e.mainGroup,delete e.defsElement,delete e.ctx,e.callParent()},remove:function(e,t){e&&e.element&&(e.element.destroy(),e.element=null),this.callParent(arguments)}}),Ext.draw||(Ext.draw={}),Ext.draw.engine||(Ext.draw.engine={}),Ext.draw.engine.excanvas=!0,document.createElement("canvas").getContext||function(){var e=Math,t=e.round,n=e.sin,i=e.cos,r=e.abs,o=e.sqrt,a=10,s=a/2;navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function l(){return this.context_||(this.context_=new A(this))}var d=Array.prototype.slice;function c(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function u(e,t,n){Ext.onReady(function(){e.namespaces[t]||e.namespaces.add(t,n,"#default#VML")})}function h(e){if(u(e,"g_vml_","urn:schemas-microsoft-com:vml"),u(e,"g_o_","urn:schemas-microsoft-com:office:office"),!e.styleSheets.ex_canvas_){var t=e.createStyleSheet();t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}h(document);var f={init:function(e){var t=e||document;t.createElement("canvas"),t.attachEvent("onreadystatechange",function(e,t,n){var i=d.call(arguments,2);return function(){return e.apply(t,i.concat(d.call(arguments)))}}(this.init_,this,t))},init_:function(e){for(var t=e.getElementsByTagName("canvas"),n=0;n<t.length;n++)this.initElement(t[n])},initElement:function(e){if(!e.getContext){e.getContext=l,h(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",g),e.attachEvent("onresize",p);var t=e.attributes;t.width&&t.width.specified?e.style.width=t.width.nodeValue+"px":e.width=e.clientWidth,t.height&&t.height.specified?e.style.height=t.height.nodeValue+"px":e.height=e.clientHeight}return e}};function g(e){var t=e.srcElement;switch(e.propertyName){case"width":t.getContext().clearRect(),t.style.width=t.attributes.width.nodeValue+"px",t.firstChild.style.width=t.clientWidth+"px";break;case"height":t.getContext().clearRect(),t.style.height=t.attributes.height.nodeValue+"px",t.firstChild.style.height=t.clientHeight+"px"}}function p(e){var t=e.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}f.init();for(var m=[],x=0;x<16;x++)for(var E=0;E<16;E++)m[16*x+E]=x.toString(16)+E.toString(16);function v(e,t){for(var n=[[1,0,0],[0,1,0],[0,0,1]],i=0;i<3;i++)for(var r=0;r<3;r++){for(var o=0,a=0;a<3;a++)o+=e[i][a]*t[a][r];n[i][r]=o}return n}function y(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineDash=e.lineDash,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.font=e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}var b={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function C(e){var t=e.indexOf("(",3),n=e.indexOf(")",t+1),i=e.substring(t+1,n).split(",");return 4==i.length&&"a"==e.charAt(3)||(i[3]=1),i}function S(e){return parseFloat(e)/100}function w(e,t,n){return Math.min(n,Math.max(t,e))}function T(e,t,n){return n<0&&n++,n>1&&n--,6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var P={};function k(e){if(e in P)return P[e];var t=1;if("#"==(e=String(e)).charAt(0))r=e;else if(/^rgb/.test(e)){for(var n,i=C(e),r="#",o=0;o<3;o++)n=-1!=i[o].indexOf("%")?Math.floor(255*S(i[o])):+i[o],r+=m[w(n,0,255)];t=+i[3]}else if(/^hsl/.test(e)){r=function(e){var t,n,i,r,o,a;if((r=parseFloat(e[0])/360%360)<0&&r++,o=w(S(e[1]),0,1),a=w(S(e[2]),0,1),0==o)t=n=i=a;else{var s=a<.5?a*(1+o):a+o-a*o,l=2*a-s;t=T(l,s,r+1/3),n=T(l,s,r),i=T(l,s,r-1/3)}return"#"+m[Math.floor(255*t)]+m[Math.floor(255*n)]+m[Math.floor(255*i)]}(i=C(e)),t=i[3]}else r=b[e]||e;return P[e]={color:r,alpha:t}}var I={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},M={};var R={butt:"flat",round:"round"};function A(e){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineDash=[],this.lineCap="butt",this.miterLimit=1*a,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=e;var t="width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;overflow:hidden;position:absolute",n=e.ownerDocument.createElement("div");n.style.cssText=t,e.appendChild(n);var i=n.cloneNode(!1);i.style.backgroundColor="red",i.style.filter="alpha(opacity=0)",e.appendChild(i),this.element_=n,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}var D=A.prototype;function F(e,t,n,i){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:n.x,cp2y:n.y,x:i.x,y:i.y}),e.currentX_=i.x,e.currentY_=i.y}function L(e,t){var n,i=k(e.strokeStyle),r=i.color,o=i.alpha*e.globalAlpha,a=e.lineScale_*e.lineWidth;a<1&&(o*=a),t.push("<g_vml_:stroke",' opacity="',o,'"',' joinstyle="',e.lineJoin,'"',' dashstyle="',e.lineDash.join(" "),'"',' miterlimit="',e.miterLimit,'"',' endcap="',(n=e.lineCap,R[n]||"square"),'"',' weight="',a,'px"',' color="',r,'" />')}function O(t,n,i,r){var o=t.fillStyle,s=t.arcScaleX_,l=t.arcScaleY_,d=r.x-i.x,c=r.y-i.y;if(o instanceof H){var u=0,h={x:0,y:0},f=0,g=1;if("gradient"==o.type_){var p=o.x0_/s,m=o.y0_/l,x=o.x1_/s,E=o.y1_/l,v=B(t,p,m),y=B(t,x,E),b=y.x-v.x,C=y.y-v.y;(u=180*Math.atan2(b,C)/Math.PI)<0&&(u+=360),u<1e-6&&(u=0)}else{h={x:((v=B(t,o.x0_,o.y0_)).x-i.x)/d,y:(v.y-i.y)/c},d/=s*a,c/=l*a;var S=e.max(d,c);f=2*o.r0_/S,g=2*o.r1_/S-f}var w=o.colors_;w.sort(function(e,t){return e.offset-t.offset});for(var T=w.length,P=w[0].color,I=w[T-1].color,M=w[0].alpha*t.globalAlpha,R=w[T-1].alpha*t.globalAlpha,A=[],D=0;D<T;D++){var F=w[D];A.push(F.offset*g+f+" "+F.color)}n.push('<g_vml_:fill type="',o.type_,'"',' method="none" focus="100%"',' color="',P,'"',' color2="',I,'"',' colors="',A.join(","),'"',' opacity="',R,'"',' g_o_:opacity2="',M,'"',' angle="',u,'"',' focusposition="',h.x,",",h.y,'" />')}else if(o instanceof V){if(d&&c){var L=-i.x,O=-i.y;n.push("<g_vml_:fill",' position="',L/d*s*s,",",O/c*l*l,'"',' type="tile"',' src="',o.src_,'" />')}}else{var N=k(t.fillStyle),z=N.color,W=N.alpha*t.globalAlpha;n.push('<g_vml_:fill color="',z,'" opacity="',W,'" />')}}function B(e,t,n){var i=e.m_;return{x:a*(t*i[0][0]+n*i[1][0]+i[2][0])-s,y:a*(t*i[0][1]+n*i[1][1]+i[2][1])-s}}function N(e,t,n){if(function(e){return isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])}(t)&&(e.m_=t,n)){var i=t[0][0]*t[1][1]-t[0][1]*t[1][0];e.lineScale_=o(r(i))}}function H(e){this.type_=e,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function V(e,t){switch(function(e){e&&1==e.nodeType&&"IMG"==e.tagName||z("TYPE_MISMATCH_ERR");"complete"!=e.readyState&&z("INVALID_STATE_ERR")}(e),t){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=t;break;default:z("SYNTAX_ERR")}this.src_=e.src,this.width_=e.width,this.height_=e.height}function z(e){throw new W(e)}function W(e){this.code=this[e],this.message=e+": DOM Exception "+this.code}D.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},D.beginPath=function(){this.currentPath_=[]},D.moveTo=function(e,t){var n=B(this,e,t);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},D.lineTo=function(e,t){var n=B(this,e,t);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},D.bezierCurveTo=function(e,t,n,i,r,o){var a=B(this,r,o);F(this,B(this,e,t),B(this,n,i),a)},D.quadraticCurveTo=function(e,t,n,i){var r=B(this,e,t),o=B(this,n,i),a={x:this.currentX_+2/3*(r.x-this.currentX_),y:this.currentY_+2/3*(r.y-this.currentY_)};F(this,a,{x:a.x+(o.x-this.currentX_)/3,y:a.y+(o.y-this.currentY_)/3},o)},D.arc=function(e,t,r,o,l,d){r*=a;var c=d?"at":"wa",u=e+i(o)*r-s,h=t+n(o)*r-s,f=e+i(l)*r-s,g=t+n(l)*r-s;u!=f||d||(u+=.125);var p=B(this,e,t),m=B(this,u,h),x=B(this,f,g);this.currentPath_.push({type:c,x:p.x,y:p.y,radius:r,xStart:m.x,yStart:m.y,xEnd:x.x,yEnd:x.y})},D.rect=function(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()},D.strokeRect=function(e,t,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.stroke(),this.currentPath_=r},D.fillRect=function(e,t,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.fill(),this.currentPath_=r},D.createLinearGradient=function(e,t,n,i){var r=new H("gradient");return r.x0_=e,r.y0_=t,r.x1_=n,r.y1_=i,r},D.createRadialGradient=function(e,t,n,i,r,o){var a=new H("gradientradial");return a.x0_=e,a.y0_=t,a.r0_=n,a.x1_=i,a.y1_=r,a.r1_=o,a},D.drawImage=function(e,n){var i,r,o,s,l,d,c,u,h=e.runtimeStyle.width,f=e.runtimeStyle.height;e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var g=e.width,p=e.height;if(e.runtimeStyle.width=h,e.runtimeStyle.height=f,3==arguments.length)i=arguments[1],r=arguments[2],l=d=0,c=o=g,u=s=p;else if(5==arguments.length)i=arguments[1],r=arguments[2],o=arguments[3],s=arguments[4],l=d=0,c=g,u=p;else{if(9!=arguments.length)throw Error("Invalid number of arguments");l=arguments[1],d=arguments[2],c=arguments[3],u=arguments[4],i=arguments[5],r=arguments[6],o=arguments[7],s=arguments[8]}var m=B(this,i,r),x=[],E=this.m_;x.push(" <g_vml_:group",' coordsize="',10*a,",",10*a,'"',' coordorigin="0,0"',' style="width:',t(10*E[0][0]),"px;height:",t(10*E[1][1]),"px;position:absolute;","top:",t(m.y/a),"px;left:",t(m.x/a),"px; rotation:",t(180*Math.atan(E[0][1]/E[1][1])/Math.PI),";"),x.push('" >','<g_vml_:image src="',e.src,'"',' style="width:',a*o,"px;"," height:",a*s,'px"',' cropleft="',l/g,'"',' croptop="',d/p,'"',' cropright="',(g-l-c)/g,'"',' cropbottom="',(p-d-u)/p,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",x.join(""))},D.setLineDash=function(e){1===e.length&&((e=e.slice())[1]=e[0]),this.lineDash=e},D.getLineDash=function(){return this.lineDash},D.stroke=function(e){var n=[];n.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',10,"px;height:",10,'px;left:0px;top:0px;"',' coordorigin="0,0"',' coordsize="',10*a,",",10*a,'"',' stroked="',!e,'"',' path="');for(var i={x:null,y:null},r={x:null,y:null},o=0;o<this.currentPath_.length;o++){var s=this.currentPath_[o];switch(s.type){case"moveTo":s,n.push(" m ",t(s.x),",",t(s.y));break;case"lineTo":n.push(" l ",t(s.x),",",t(s.y));break;case"close":n.push(" x "),s=null;break;case"bezierCurveTo":n.push(" c ",t(s.cp1x),",",t(s.cp1y),",",t(s.cp2x),",",t(s.cp2y),",",t(s.x),",",t(s.y));break;case"at":case"wa":n.push(" ",s.type," ",t(s.x-this.arcScaleX_*s.radius),",",t(s.y-this.arcScaleY_*s.radius)," ",t(s.x+this.arcScaleX_*s.radius),",",t(s.y+this.arcScaleY_*s.radius)," ",t(s.xStart),",",t(s.yStart)," ",t(s.xEnd),",",t(s.yEnd))}s&&((null==i.x||s.x<i.x)&&(i.x=s.x),(null==r.x||s.x>r.x)&&(r.x=s.x),(null==i.y||s.y<i.y)&&(i.y=s.y),(null==r.y||s.y>r.y)&&(r.y=s.y))}n.push(' ">'),e?O(this,n,i,r):L(this,n),n.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",n.join(""))},D.fill=function(){this.$stroke(!0)},D.closePath=function(){this.currentPath_.push({type:"close"})},D.save=function(){var e={};y(this,e),this.aStack_.push(e),this.mStack_.push(this.m_)},D.restore=function(){this.aStack_.length&&(y(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},D.translate=function(e,t){N(this,v([[1,0,0],[0,1,0],[e,t,1]],this.m_),!1)},D.rotate=function(e){var t=i(e),r=n(e);N(this,v([[t,r,0],[-r,t,0],[0,0,1]],this.m_),!1)},D.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t,N(this,v([[e,0,0],[0,t,0],[0,0,1]],this.m_),!0)},D.transform=function(e,t,n,i,r,o){N(this,v([[e,t,0],[n,i,0],[r,o,1]],this.m_),!0)},D.setTransform=function(e,t,n,i,r,o){N(this,[[e,t,0],[n,i,0],[r,o,1]],!0)},D.drawText_=function(e,n,i,r,o){var s,l=this.m_,d=0,u=1e3,h={x:0,y:0},f=[],g=function(e,t){var n={};for(var i in e)n[i]=e[i];var r=parseFloat(t.currentStyle.fontSize),o=parseFloat(e.size);return"number"==typeof e.size?n.size=e.size:-1!=e.size.indexOf("px")?n.size=o:-1!=e.size.indexOf("em")?n.size=r*o:-1!=e.size.indexOf("%")?n.size=r/100*o:-1!=e.size.indexOf("pt")?n.size=o/.75:n.size=r,n.size*=.981,n}(function(e){if(M[e])return M[e];var t=document.createElement("div").style;try{t.font=e}catch(e){}return M[e]={style:t.fontStyle||I.style,variant:t.fontVariant||I.variant,weight:t.fontWeight||I.weight,size:t.fontSize||I.size,family:t.fontFamily||I.family}}(this.font),this.element_),p=(s=g).style+" "+s.variant+" "+s.weight+" "+s.size+"px "+s.family,m=this.element_.currentStyle,x=this.textAlign.toLowerCase();switch(x){case"left":case"center":case"right":break;case"end":x="ltr"==m.direction?"right":"left";break;case"start":x="rtl"==m.direction?"right":"left";break;default:x="left"}switch(this.textBaseline){case"hanging":case"top":h.y=g.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":h.y=-g.size/3}switch(x){case"right":d=1e3,u=.05;break;case"center":d=u=500}var E=B(this,n+h.x,i+h.y);f.push('<g_vml_:line from="',-d,' 0" to="',u,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;left:0px;top:0px;">'),o?L(this,f):O(this,f,{x:-d,y:0},{x:u,y:g.size});var v=l[0][0].toFixed(3)+","+l[1][0].toFixed(3)+","+l[0][1].toFixed(3)+","+l[1][1].toFixed(3)+",0,0",y=t(E.x/a)+","+t(E.y/a);f.push('<g_vml_:skew on="t" matrix="',v,'" ',' offset="',y,'" origin="',d,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',c(e),'" style="v-text-align:',x,";font:",c(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",f.join(""))},D.fillText=function(e,t,n,i){this.drawText_(e,t,n,i,!1)},D.strokeText=function(e,t,n,i){this.drawText_(e,t,n,i,!0)},D.measureText=function(e){if(!this.textMeasureEl_){this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild}var t=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(t.createTextNode(e)),{width:this.textMeasureEl_.offsetWidth}},D.clip=function(){},D.arcTo=function(){},D.createPattern=function(e,t){return new V(e,t)},H.prototype.addColorStop=function(e,t){t=k(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})};var G=W.prototype=new Error;G.INDEX_SIZE_ERR=1,G.DOMSTRING_SIZE_ERR=2,G.HIERARCHY_REQUEST_ERR=3,G.WRONG_DOCUMENT_ERR=4,G.INVALID_CHARACTER_ERR=5,G.NO_DATA_ALLOWED_ERR=6,G.NO_MODIFICATION_ALLOWED_ERR=7,G.NOT_FOUND_ERR=8,G.NOT_SUPPORTED_ERR=9,G.INUSE_ATTRIBUTE_ERR=10,G.INVALID_STATE_ERR=11,G.SYNTAX_ERR=12,G.INVALID_MODIFICATION_ERR=13,G.NAMESPACE_ERR=14,G.INVALID_ACCESS_ERR=15,G.VALIDATION_ERR=16,G.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=f,CanvasRenderingContext2D=A,CanvasGradient=H,CanvasPattern=V,DOMException=W}(),Ext.define("Ext.draw.engine.Canvas",{extend:"Ext.draw.Surface",isCanvas:!0,requires:["Ext.draw.engine.excanvas","Ext.draw.Animator","Ext.draw.Color"],config:{highPrecision:!1},statics:{contextOverrides:{setGradientBBox:function(e){this.bbox=e},fill:function(){var e=this.fillStyle,t=this.fillGradient,n=this.fillOpacity,i=this.globalAlpha,r=this.bbox;e!==Ext.util.Color.RGBA_NONE&&0!==n&&(t&&r&&(this.fillStyle=t.generateGradient(this,r)),1!==n&&(this.globalAlpha=i*n),this.$fill(),1!==n&&(this.globalAlpha=i),t&&r&&(this.fillStyle=e))},stroke:function(){var e=this.strokeStyle,t=this.strokeGradient,n=this.strokeOpacity,i=this.globalAlpha,r=this.bbox;e!==Ext.util.Color.RGBA_NONE&&0!==n&&(t&&r&&(this.strokeStyle=t.generateGradient(this,r)),1!==n&&(this.globalAlpha=i*n),this.$stroke(),1!==n&&(this.globalAlpha=i),t&&r&&(this.strokeStyle=e))},fillStroke:function(e,t){var n=this.fillStyle,i=this.fillOpacity,r=this.strokeStyle,o=this.strokeOpacity,a=this.shadowColor,s=this.shadowBlur,l=Ext.util.Color.RGBA_NONE;void 0===t&&(t=e.transformFillStroke),t||e.inverseMatrix.toContext(this),n!==l&&0!==i&&(this.fill(),this.shadowColor=l,this.shadowBlur=0),r!==l&&0!==o&&this.stroke(),this.shadowColor=a,this.shadowBlur=s},setLineDash:function(e){this.$setLineDash&&this.$setLineDash(e)},getLineDash:function(){if(this.$getLineDash)return this.$getLineDash()},ellipse:function(e,t,n,i,r,o,a,s){var l=Math.cos(r),d=Math.sin(r);this.transform(l*n,d*n,-d*i,l*i,e,t),this.arc(0,0,1,o,a,s),this.transform(l/n,-d/i,d/n,l/i,-(l*e+d*t)/n,(d*e-l*t)/i)},appendPath:function(e){var t=this,n=0,i=0,r=e.commands,o=e.params,a=r.length;for(t.beginPath();n<a;n++)switch(r[n]){case"M":t.moveTo(o[i],o[i+1]),i+=2;break;case"L":t.lineTo(o[i],o[i+1]),i+=2;break;case"C":t.bezierCurveTo(o[i],o[i+1],o[i+2],o[i+3],o[i+4],o[i+5]),i+=6;break;case"Z":t.closePath()}},save:function(){for(var e,t=this.toSave,n=t.length,i=n&&{},r=0;r<n;r++)(e=t[r])in this&&(i[e]=this[e]);this.state.push(i),this.$save()},restore:function(){var e,t=this.state.pop();if(t)for(e in t)this[e]=t[e];this.$restore()}}},splitThreshold:3e3,toSave:["fillGradient","strokeGradient"],element:{reference:"element",children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"}}]},createCanvas:function(){var e=Ext.Element.create({tag:"canvas",cls:Ext.baseCSSPrefix+"surface-canvas"});window.G_vmlCanvasManager&&(G_vmlCanvasManager.initElement(e.dom),this.isVML=!0);var t,n=Ext.draw.engine.Canvas.contextOverrides,i=e.dom.getContext("2d");for(t in i.ellipse&&delete n.ellipse,i.state=[],i.toSave=this.toSave,n)i["$"+t]=i[t];Ext.apply(i,n),this.getHighPrecision()?this.enablePrecisionCompensation(i):this.disablePrecisionCompensation(i),this.innerElement.appendChild(e),this.canvases.push(e),this.contexts.push(i)},updateHighPrecision:function(e){var t,n,i=this.contexts,r=i.length;for(t=0;t<r;t++)n=i[t],e?this.enablePrecisionCompensation(n):this.disablePrecisionCompensation(n)},precisionNames:["rect","fillRect","strokeRect","clearRect","moveTo","lineTo","arc","arcTo","save","restore","updatePrecisionCompensate","setTransform","transform","scale","translate","rotate","quadraticCurveTo","bezierCurveTo","createLinearGradient","createRadialGradient","fillText","strokeText","drawImage"],disablePrecisionCompensation:function(e){var t,n,i=Ext.draw.engine.Canvas.contextOverrides,r=this.precisionNames,o=r.length;for(t=0;t<o;t++)(n=r[t])in i||delete e[n];this.setDirty(!0)},enablePrecisionCompensation:function(e){var t=this,n=1,i=1,r=0,o=0,a=new Ext.draw.Matrix,s=[],l={},d=Ext.draw.engine.Canvas.contextOverrides,c=e.constructor.prototype,u={toSave:t.toSave,rect:function(e,t,a,s){return c.rect.call(this,e*n+r,t*i+o,a*n,s*i)},fillRect:function(e,t,a,s){this.updatePrecisionCompensateRect(),c.fillRect.call(this,e*n+r,t*i+o,a*n,s*i),this.updatePrecisionCompensate()},strokeRect:function(e,t,a,s){this.updatePrecisionCompensateRect(),c.strokeRect.call(this,e*n+r,t*i+o,a*n,s*i),this.updatePrecisionCompensate()},clearRect:function(e,t,a,s){return c.clearRect.call(this,e*n+r,t*i+o,a*n,s*i)},moveTo:function(e,t){return c.moveTo.call(this,e*n+r,t*i+o)},lineTo:function(e,t){return c.lineTo.call(this,e*n+r,t*i+o)},arc:function(e,t,i,a,s,l){this.updatePrecisionCompensateRect(),c.arc.call(this,e*n+r,t*n+o,i*n,a,s,l),this.updatePrecisionCompensate()},arcTo:function(e,t,a,s,l){this.updatePrecisionCompensateRect(),c.arcTo.call(this,e*n+r,t*i+o,a*n+r,s*i+o,l*n),this.updatePrecisionCompensate()},save:function(){s.push(a),a=a.clone(),d.save.call(this),c.save.call(this)},restore:function(){a=s.pop(),d.restore.call(this),c.restore.call(this),this.updatePrecisionCompensate()},updatePrecisionCompensate:function(){a.precisionCompensate(t.devicePixelRatio,l),n=l.xx,i=l.yy,r=l.dx,o=l.dy,c.setTransform.call(this,t.devicePixelRatio,l.b,l.c,l.d,0,0)},updatePrecisionCompensateRect:function(){a.precisionCompensateRect(t.devicePixelRatio,l),n=l.xx,i=l.yy,r=l.dx,o=l.dy,c.setTransform.call(this,t.devicePixelRatio,l.b,l.c,l.d,0,0)},setTransform:function(e,t,n,i,r,o){a.set(e,t,n,i,r,o),this.updatePrecisionCompensate()},transform:function(e,t,n,i,r,o){a.append(e,t,n,i,r,o),this.updatePrecisionCompensate()},scale:function(e,t){this.transform(e,0,0,t,0,0)},translate:function(e,t){this.transform(1,0,0,1,e,t)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);this.transform(t,n,-n,t,0,0)},quadraticCurveTo:function(e,t,a,s){c.quadraticCurveTo.call(this,e*n+r,t*i+o,a*n+r,s*i+o)},bezierCurveTo:function(e,t,a,s,l,d){c.bezierCurveTo.call(this,e*n+r,t*i+o,a*n+r,s*i+o,l*n+r,d*i+o)},createLinearGradient:function(e,t,a,s){this.updatePrecisionCompensateRect();var l=c.createLinearGradient.call(this,e*n+r,t*i+o,a*n+r,s*i+o);return this.updatePrecisionCompensate(),l},createRadialGradient:function(e,t,i,a,s,l){this.updatePrecisionCompensateRect();var d=c.createLinearGradient.call(this,e*n+r,t*n+o,i*n,a*n+r,s*n+o,l*n);return this.updatePrecisionCompensate(),d},fillText:function(e,t,n,i){c.setTransform.apply(this,a.elements),void 0===i?c.fillText.call(this,e,t,n):c.fillText.call(this,e,t,n,i),this.updatePrecisionCompensate()},strokeText:function(e,t,n,i){c.setTransform.apply(this,a.elements),void 0===i?c.strokeText.call(this,e,t,n):c.strokeText.call(this,e,t,n,i),this.updatePrecisionCompensate()},fill:function(){var e=this.fillGradient,t=this.bbox;this.updatePrecisionCompensateRect(),e&&t&&(this.fillStyle=e.generateGradient(this,t)),c.fill.call(this),this.updatePrecisionCompensate()},stroke:function(){var e=this.strokeGradient,t=this.bbox;this.updatePrecisionCompensateRect(),e&&t&&(this.strokeStyle=e.generateGradient(this,t)),c.stroke.call(this),this.updatePrecisionCompensate()},drawImage:function(e,t,a,s,l,d,u,h,f){switch(arguments.length){case 3:return c.drawImage.call(this,e,t*n+r,a*i+o);case 5:return c.drawImage.call(this,e,t*n+r,a*i+o,s*n,l*i);case 9:return c.drawImage.call(this,e,t,a,s,l,d*n+r,u*i*o,h*n,f*i)}}};Ext.apply(e,u),this.setDirty(!0)},updateRect:function(e){this.callParent([e]);var t,n,i,r,o,a,s,l,d=this,c=Math.floor(e[0]),u=Math.floor(e[1]),h=Math.ceil(e[0]+e[2]),f=Math.ceil(e[1]+e[3]),g=d.devicePixelRatio,p=d.canvases,m=h-c,x=f-u,E=Math.round(d.splitThreshold/g),v=d.xSplits=Math.ceil(m/E),y=d.ySplits=Math.ceil(x/E);for(n=0,o=0;n<y;n++,o+=E)for(t=0,r=0;t<v;t++,r+=E)(i=n*v+t)>=p.length&&d.createCanvas(),(a=p[i].dom).style.left=r+"px",a.style.top=o+"px",(l=Math.min(E,x-o))*g!==a.height&&(a.height=l*g,a.style.height=l+"px"),(s=Math.min(E,m-r))*g!==a.width&&(a.width=s*g,a.style.width=s+"px"),d.applyDefaults(d.contexts[i]);for(d.activeCanvases=i=v*y;p.length>i;)p.pop().destroy();d.clear()},clearTransform:function(){var e,t,n,i=this,r=i.xSplits,o=i.ySplits,a=i.contexts,s=i.splitThreshold,l=i.devicePixelRatio;for(e=0;e<r;e++)for(t=0;t<o;t++)(n=a[t*r+e]).translate(-s*e,-s*t),n.scale(l,l),i.matrix.toContext(n)},renderSprite:function(e){for(var t,n,i,r,o,a,s,l,d,c,u,h=this,f=h.getRect(),g=h.matrix,p=e.getParent(),m=Ext.draw.Matrix.fly([1,0,0,1,0,0]),x=h.splitThreshold/h.devicePixelRatio,E=h.xSplits,v=h.ySplits,y=0,b=0,C=f[2],S=f[3];p&&p.isSprite;)m.prependMatrix(p.matrix||p.attr&&p.attr.matrix),p=p.getParent();if(m.prependMatrix(g),(r=e.getBBox())&&(r=m.transformBBox(r)),e.preRender(h),e.attr.hidden||0===e.attr.globalAlpha)e.setDirty(!1);else{for(c=0,n=0;c<v;c++,n+=x)for(d=0,t=0;d<E;d++,t+=x)if(u=c*E+d,i=h.contexts[u],o=Math.min(x,C-t),a=Math.min(x,S-n),s=(y=t)+o,l=(b=n)+a,!r||!(r.x>s||r.x+r.width<y||r.y>l||r.y+r.height<b)){if(i.save(),e.useAttributes(i,f),!1===e.render(h,i,[y,b,o,a]))return!1;i.restore()}e.setDirty(!1)}},flatten:function(e,t){var n,i,r,o,a,s,l=document.createElement("canvas"),d=Ext.getClassName(this),c=this.devicePixelRatio,u=l.getContext("2d");for(l.width=Math.ceil(e.width*c),l.height=Math.ceil(e.height*c),o=0;o<t.length;o++)if(n=t[o],Ext.getClassName(n)===d)for(r=n.getRect(),a=0;a<n.canvases.length;a++)s=(i=n.canvases[a]).getOffsetsTo(i.getParent()),u.drawImage(i.dom,(r[0]+s[0])*c,(r[1]+s[1])*c);return{data:l.toDataURL(),type:"png"}},applyDefaults:function(e){var t=Ext.util.Color.RGBA_NONE;e.strokeStyle=t,e.fillStyle=t,e.textAlign="start",e.textBaseline="alphabetic",e.miterLimit=1},clear:function(){var e,t,n,i=this.activeCanvases;for(e=0;e<i;e++)t=this.canvases[e].dom,(n=this.contexts[e]).setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height);this.setDirty(!0)},destroy:function(){var e,t=this,n=t.canvases,i=n.length;for(e=0;e<i;e++)t.contexts[e]=null,n[e].destroy(),n[e]=null;t.contexts=t.canvases=null,t.callParent()},privates:{initElement:function(){var e=this;e.callParent(),e.canvases=[],e.contexts=[],e.activeCanvases=e.xSplits=e.ySplits=0}}},function(){var e=this.prototype,t=1e10;Ext.os.is.Android4&&Ext.browser.is.Chrome?t=3e3:Ext.is.iOS&&(t=2200),e.splitThreshold=t}),Ext.define("Ext.draw.Container",{extend:"Ext.draw.ContainerBase",alternateClassName:"Ext.draw.Component",xtype:"draw",defaultType:"surface",isDrawContainer:!0,requires:["Ext.draw.Surface","Ext.draw.engine.Svg","Ext.draw.engine.Canvas","Ext.draw.gradient.GradientDefinition"],engine:"Ext.draw.engine.Canvas",config:{cls:Ext.baseCSSPrefix+"draw-container",resizeHandler:null,sprites:null,gradients:[],touchAction:{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1}},defaultDownloadServerUrl:"http://svg.sencha.io",supportedFormats:["png","pdf","jpeg","gif"],supportedOptions:{version:Ext.isNumber,data:Ext.isString,format:function(e){return Ext.Array.indexOf(this.supportedFormats,e)>=0},filename:Ext.isString,width:Ext.isNumber,height:Ext.isNumber,scale:Ext.isNumber,pdf:Ext.isObject,jpeg:Ext.isObject},initAnimator:function(){this.frameCallbackId=Ext.draw.Animator.addFrameCallback("renderFrame",this)},applyGradients:function(e){var t,n,i,r,o=[];if(!Ext.isArray(e))return o;for(t=0,n=e.length;t<n;t++)i=e[t],Ext.isObject(i)&&("string"!=typeof i.type&&(i.type="linear"),i.angle&&(i.degrees=i.angle,delete i.angle),Ext.isObject(i.stops)&&(i.stops=function(e){var t,n=[];for(r in e)(t=e[r]).offset=r/100,n.push(t);return n}(i.stops)),o.push(i));return Ext.draw.gradient.GradientDefinition.add(o),o},applySprites:function(e){if(e){var t,n,i,r=(e=Ext.Array.from(e)).length,o=[];for(t=0;t<r;t++)(n=(i=e[t]).surface)&&n.isSurface||(Ext.isString(n)?(n=this.getSurface(n),delete i.surface):n=this.getSurface("main")),i=n.add(i),o.push(i);return o}},resizeDelay:500,resizeTimerId:0,handleResize:function(e,t){var n=this,i=n.element,r=n.getResizeHandler()||n.defaultResizeHandler;i&&(e=e||i.getSize()).width&&e.height&&(clearTimeout(n.resizeTimerId),t?(n.resizeTimerId=0,n.fireEvent("bodyresize",n,e),!1!==r.call(n,e)&&n.renderFrame()):n.resizeTimerId=Ext.defer(n.handleResize,n.resizeDelay,n,[e,!0]))},defaultResizeHandler:function(e){this.getItems().each(function(t){t.setRect([0,0,e.width,e.height])})},getSurface:function(e){var t,n=this.getItems(),i=n.getCount();return t=this.createSurface(e),n.getCount()>i&&this.handleResize(null,!0),t},createSurface:function(e){e=this.getId()+"-"+(e||"main");var t=this.getItems().get(e);return t||(t=this.add({xclass:this.engine,id:e})),t},renderFrame:function(){var e,t,n,i=this.getItems();for(e=0,t=i.length;e<t;e++)(n=i.items[e]).isSurface&&n.renderFrame()},getImage:function(e){var t,n,i,r,o,a,s=this.innerElement.getSize(),l=Array.prototype.slice.call(this.items.items),d=this.surfaceZIndexes;for(r=1;r<l.length;r++){for(a=d[(o=l[r]).type],i=r-1;i>=0&&d[l[i].type]>a;)l[i+1]=l[i],i--;l[i+1]=o}if(o=l[0],(Ext.isIE||Ext.isEdge)&&o.isSVG)t={data:o.toSVG(s,l),type:"svg-markup"};else{if(t=o.flatten(s,l),"image"===e)return(n=new Image).src=t.data,t.data=n,t;if("stream"===e)return t.data=t.data.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),t}return t},download:function(e){var t,n,i,r=this,o=[];if(Ext.isIE8)return!1;for(n in e=Ext.apply({version:2,data:r.getImage().data},e))e.hasOwnProperty(n)&&(i=e[n],n in r.supportedOptions?r.supportedOptions[n].call(r,i)?o.push({tag:"input",type:"hidden",name:n,value:Ext.String.htmlEncode(Ext.isObject(i)?Ext.JSON.encode(i):i)}):Ext.log.error('Invalid value for image download option "'+n+'": '+i):Ext.log.error('Invalid image download option: "'+n+'"'));t=Ext.dom.Helper.markup({tag:"html",children:[{tag:"head"},{tag:"body",children:[{tag:"form",method:"POST",action:e.url||r.defaultDownloadServerUrl,children:o},{tag:"script",type:"text/javascript",children:'document.getElementsByTagName("form")[0].submit();'}]}]}),window.open("","ImageDownload_"+Date.now()).document.write(t)},destroy:function(){var e=this.frameCallbackId;e&&Ext.draw.Animator.removeFrameCallback(e),clearTimeout(this.resizeTimerId),this.resizeTimerId=0,this.callParent()}},function(){location.search.match("svg")?Ext.draw.Container.prototype.engine="Ext.draw.engine.Svg":(Ext.os.is.BlackBerry&&10===Ext.os.version.getMajor()||Ext.browser.is.AndroidStock4&&(1===Ext.os.version.getMinor()||2===Ext.os.version.getMinor()||3===Ext.os.version.getMinor()))&&(Ext.draw.Container.prototype.engine="Ext.draw.engine.Svg")}),Ext.define("Ext.chart.theme.Base",{mixins:{factoryable:"Ext.mixin.Factoryable"},requires:["Ext.draw.Color"],factoryConfig:{type:"chart.theme"},isTheme:!0,config:{baseColor:null,colors:void 0,gradients:null,chart:{defaults:{background:"white"}},axis:{defaults:{label:{x:0,y:0,textBaseline:"middle",textAlign:"center",fontSize:"default",fontFamily:"default",fontWeight:"default",fillStyle:"black"},title:{fillStyle:"black",fontSize:"default*1.23",fontFamily:"default",fontWeight:"default"},style:{strokeStyle:"black"},grid:{strokeStyle:"rgb(221, 221, 221)"}},top:{style:{textPadding:5}},bottom:{style:{textPadding:5}}},series:{defaults:{label:{fillStyle:"black",strokeStyle:"none",fontFamily:"default",fontWeight:"default",fontSize:"default*1.077",textBaseline:"middle",textAlign:"center"},labelOverflowPadding:5}},sprites:{text:{fontSize:"default",fontWeight:"default",fontFamily:"default",fillStyle:"black"}},legend:{label:{fontSize:14,fontWeight:"default",fontFamily:"default",fillStyle:"black"},border:{lineWidth:1,radius:4,fillStyle:"none",strokeStyle:"gray"},background:"white"},seriesThemes:void 0,markerThemes:{type:["circle","cross","plus","square","triangle","diamond"]},useGradients:!1,background:null},colorDefaults:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],constructor:function(e){this.initConfig(e),this.resolveDefaults()},defaultRegEx:/^default([+\-/\*]\d+(?:\.\d+)?)?$/,defaultOperators:{"*":function(e,t){return e*t},"+":function(e,t){return e+t},"-":function(e,t){return e-t}},resolveDefaults:function(){var e=this;Ext.onReady(function(){var t,n,i,r=Ext.clone(e.getSprites()),o=Ext.clone(e.getLegend()),a=Ext.clone(e.getAxis()),s=Ext.clone(e.getSeries());for(n in e.superclass.defaults||(t=Ext.getBody().createChild({tag:"div",cls:"x-component"}),e.superclass.defaults={fontFamily:t.getStyle("fontFamily"),fontWeight:t.getStyle("fontWeight"),fontSize:parseFloat(t.getStyle("fontSize")),fontVariant:t.getStyle("fontVariant"),fontStyle:t.getStyle("fontStyle")},t.destroy()),e.replaceDefaults(r.text),e.setSprites(r),e.replaceDefaults(o.label),e.setLegend(o),a)i=a[n],e.replaceDefaults(i.label),e.replaceDefaults(i.title);for(n in e.setAxis(a),s)i=s[n],e.replaceDefaults(i.label);e.setSeries(s)})},replaceDefaults:function(e){var t,n,i,r,o=this.superclass.defaults,a=this.defaultRegEx;if(Ext.isObject(e))for(t in o)(i=a.exec(e[t]))&&(n=o[t],(i=i[1])&&(r=this.defaultOperators[i.charAt(0)],n=Math.round(r(n,parseFloat(i.substr(1))))),e[t]=n)},applyBaseColor:function(e){var t,n;return e&&((n=(t=e.isColor?e:Ext.util.Color.fromString(e)).getHSL()[2])<.15?t=t.createLighter(.3):n<.3?t=t.createLighter(.15):n>.85?t=t.createDarker(.3):n>.7&&(t=t.createDarker(.15)),this.setColors([t.createDarker(.3).toString(),t.createDarker(.15).toString(),t.toString(),t.createLighter(.12).toString(),t.createLighter(.24).toString(),t.createLighter(.31).toString()])),e},applyColors:function(e){return e||this.colorDefaults},updateUseGradients:function(e){e&&this.updateGradients({type:"linear",degrees:90})},updateBackground:function(e){if(e){var t=this.getChart();t.defaults.background=e,this.setChart(t)}},updateGradients:function(e){var t,n,i,r,o,a=this.getColors(),s=[];if(Ext.isObject(e)){for(r=0,o=a&&a.length||0;r<o;r++)(n=Ext.util.Color.fromString(a[r]))&&(i=n.createLighter(.15).toString(),t=Ext.apply(Ext.Object.chain(e),{stops:[{offset:1,color:n.toString()},{offset:0,color:i.toString()}]}),s.push(t));this.setColors(s)}},applySeriesThemes:function(e){this.getBaseColor(),this.getUseGradients(),this.getGradients();var t=this.getColors();return e||(e={fillStyle:Ext.Array.clone(t),strokeStyle:Ext.Array.map(t,function(e){return Ext.util.Color.fromString(e.stops?e.stops[0].color:e).createDarker(.15).toString()})}),e}}),Ext.define("Ext.chart.theme.Default",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.default","chart.theme.Base"]}),Ext.define("Ext.chart.Markers",{extend:"Ext.draw.sprite.Instancing",isMarkers:!0,defaultCategory:"default",constructor:function(){this.callParent(arguments),this.categories={},this.revisions={}},destroy:function(){this.categories=null,this.revisions=null,this.callParent()},getMarkerFor:function(e,t){if(e in this.categories){var n=this.categories[e];if(t in n)return this.get(n[t])}},clear:function(e){(e=e||this.defaultCategory)in this.revisions?this.revisions[e]++:this.revisions[e]=1},putMarkerFor:function(e,t,n,i,r){e=e||this.defaultCategory;var o,a=this,s=a.categories[e]||(a.categories[e]={});n in s?a.setAttributesFor(s[n],t,i):(s[n]=a.getCount(),a.add(t,i)),(o=a.get(s[n]))&&(o.category=e,r||(o.revision=a.revisions[e]||(a.revisions[e]=1)))},getMarkerBBoxFor:function(e,t,n){if(e in this.categories){var i=this.categories[e];if(t in i)return this.getBBoxFor(i[t],n)}},getBBox:function(){return null},render:function(e,t,n){var i,r,o=this,a=e.getRect(),s=o.revisions,l=o.attr.matrix,d=o.getTemplate(),c=d.attr,u=o.instances.length;for(l.toContext(t),d.preRender(e,t,n),d.useAttributes(t,a),r=0;r<u;r++)(i=o.get(r)).hidden||i.revision!==s[i.category]||(t.save(),d.attr=i,d.useAttributes(t,a),d.render(e,t,n),t.restore());d.attr=c}}),Ext.define("Ext.chart.modifier.Callout",{extend:"Ext.draw.modifier.Modifier",alternateClassName:"Ext.chart.label.Callout",prepareAttributes:function(e){e.hasOwnProperty("calloutOriginal")||(e.calloutOriginal=Ext.Object.chain(e),e.calloutOriginal.prototype=e),this._lower&&this._lower.prepareAttributes(e.calloutOriginal)},setAttrs:function(e,t){var n,i,r=e.callout,o=e.calloutOriginal,a=e.bbox.plain,s=(a.width||0)+e.labelOverflowPadding,l=(a.height||0)+e.labelOverflowPadding;if("callout"in t&&(r=t.callout),"callout"in t||"calloutPlaceX"in t||"calloutPlaceY"in t||"x"in t||"y"in t){var d,c="rotationRads"in t?o.rotationRads=t.rotationRads:o.rotationRads,u="x"in t?o.x=t.x:o.x,h="y"in t?o.y=t.y:o.y,f="calloutPlaceX"in t?t.calloutPlaceX:e.calloutPlaceX,g="calloutPlaceY"in t?t.calloutPlaceY:e.calloutPlaceY,p="calloutVertical"in t?t.calloutVertical:e.calloutVertical;c%=2*Math.PI,Math.cos(c)<0&&(c=(c+Math.PI)%(2*Math.PI)),c>Math.PI&&(c-=2*Math.PI),p?(c=c*(1-r)-Math.PI/2*r,d=s,s=l,l=d):c*=1-r,t.rotationRads=c,t.x=u*(1-r)+f*r,t.y=h*(1-r)+g*r,n=f-u,i=g-h,Math.abs(i*s)>Math.abs(n*l)?i>0?(t.calloutEndX=t.x-l/2*(n/i)*r,t.calloutEndY=t.y-l/2*r):(t.calloutEndX=t.x+l/2*(n/i)*r,t.calloutEndY=t.y+l/2*r):n>0?(t.calloutEndX=t.x-s/2,t.calloutEndY=t.y-s/2*(i/n)*r):(t.calloutEndX=t.x+s/2,t.calloutEndY=t.y+s/2*(i/n)*r),t.calloutStartX&&t.calloutStartY?t.calloutHasLine=n>0&&t.calloutStartX<t.calloutEndX||n<=0&&t.calloutStartX>t.calloutEndX||i>0&&t.calloutStartY<t.calloutEndY||i<=0&&t.calloutStartY>t.calloutEndY:t.calloutHasLine=!0}return t},pushDown:function(e,t){return t=this.callParent([e.calloutOriginal,t]),this.setAttrs(e,t)},popUp:function(e,t){return e=e.prototype,t=this.setAttrs(e,t),this._upper?this._upper.popUp(e,t):Ext.apply(e,t)}}),Ext.define("Ext.chart.sprite.Label",{extend:"Ext.draw.sprite.Text",alternateClassName:"Ext.chart.label.Label",requires:["Ext.chart.modifier.Callout"],inheritableStatics:{def:{processors:{callout:"limited01",calloutHasLine:"bool",calloutPlaceX:"number",calloutPlaceY:"number",calloutStartX:"number",calloutStartY:"number",calloutEndX:"number",calloutEndY:"number",calloutColor:"color",calloutWidth:"number",calloutVertical:"bool",labelOverflowPadding:"number",display:"enums(none,under,over,rotate,insideStart,insideEnd,inside,outside)",orientation:"enums(horizontal,vertical)",renderer:"default"},defaults:{callout:0,calloutHasLine:!0,calloutPlaceX:0,calloutPlaceY:0,calloutStartX:0,calloutStartY:0,calloutEndX:0,calloutEndY:0,calloutWidth:1,calloutVertical:!1,calloutColor:"black",labelOverflowPadding:5,display:"none",orientation:"",renderer:null},triggers:{callout:"transform",calloutPlaceX:"transform",calloutPlaceY:"transform",labelOverflowPadding:"transform",calloutRotation:"transform",display:"hidden"},updaters:{hidden:function(e){e.hidden="none"===e.display}}}},config:{fx:{customDurations:{callout:200}},field:null,calloutLine:!0},applyCalloutLine:function(e){if(e)return Ext.apply({},e)},prepareModifiers:function(){this.callParent(arguments),this.calloutModifier=new Ext.chart.modifier.Callout({sprite:this}),this.fx.setUpper(this.calloutModifier),this.calloutModifier.setUpper(this.topModifier)},render:function(e,t){var n=this,i=n.attr,r=i.calloutColor;t.save(),t.globalAlpha*=i.callout,t.globalAlpha>0&&i.calloutHasLine&&(r&&r.isGradient&&(r=r.getStops()[0].color),t.strokeStyle=r,t.fillStyle=r,t.lineWidth=i.calloutWidth,t.beginPath(),t.moveTo(n.attr.calloutStartX,n.attr.calloutStartY),t.lineTo(n.attr.calloutEndX,n.attr.calloutEndY),t.stroke(),t.beginPath(),t.arc(n.attr.calloutStartX,n.attr.calloutStartY,1*i.calloutWidth,0,2*Math.PI,!0),t.fill(),t.beginPath(),t.arc(n.attr.calloutEndX,n.attr.calloutEndY,1*i.calloutWidth,0,2*Math.PI,!0),t.fill()),t.restore(),Ext.draw.sprite.Text.prototype.render.apply(n,arguments)}}),Ext.define("Ext.chart.series.Series",{requires:["Ext.chart.Markers","Ext.chart.sprite.Label","Ext.tip.ToolTip"],mixins:["Ext.mixin.Observable","Ext.mixin.Bindable"],isSeries:!0,defaultBindProperty:"store",type:null,seriesType:"sprite",identifiablePrefix:"ext-line-",observableType:"series",darkerStrokeRatio:.15,config:{chart:null,title:null,renderer:null,showInLegend:!0,triggerAfterDraw:!1,style:{},subStyle:{},themeStyle:{},colors:null,useDarkerStrokeColor:!0,store:null,label:{},labelOverflowPadding:null,showMarkers:!0,marker:null,markerSubStyle:null,itemInstancing:null,background:null,highlightItem:null,surface:null,overlaySurface:null,hidden:!1,highlight:!1,highlightCfg:{merge:function(e){return e},$value:{fillStyle:"yellow",strokeStyle:"red"}},animation:null,tooltip:null},directions:[],sprites:null,themeColorCount:function(){return 1},isStoreDependantColorCount:!1,themeMarkerCount:function(){return 0},getFields:function(e){var t,n,i,r=[];for(n=0,i=e.length;n<i;n++)t=this["get"+e[n]+"Field"](),Ext.isArray(t)?r.push.apply(r,t):r.push(t);return r},applyAnimation:function(e,t){return e?!0===e&&(e={easing:"easeInOut",duration:500}):e={duration:0},t?Ext.apply({},e,t):e},getAnimation:function(){var e=this.getChart();return e&&e.animationSuspendCount?{duration:0}:this.callParent()},updateTitle:function(){var e=this.getChart();e&&!e.isInitializing&&e.refreshLegendStore()},applyHighlight:function(e,t){return Ext.isObject(e)?e=Ext.merge({},this.config.highlightCfg,e):!0===e&&(e=this.config.highlightCfg),Ext.apply(t||{},e)},updateHighlight:function(e){this.getStyle(),Ext.Object.isEmpty(e)||this.addItemHighlight()},updateHighlightCfg:function(e){Ext.Object.equals(e,this.defaultConfig.highlightCfg)||this.addItemHighlight()},applyItemInstancing:function(e,t){return Ext.merge(t||{},e)},setAttributesForItem:function(e,t){var n,i=e&&e.sprite;if(i)if(i.itemsMarker&&"items"===e.category&&i.putMarker(e.category,t,e.index,!1,!0),i.isMarkerHolder&&"markers"===e.category)i.putMarker(e.category,t,e.index,!1,!0);else if(i.isInstancing)i.setAttributesFor(e.index,t);else if(Ext.isArray(i))for(n=0;n<i.length;n++)i[n].setAttributes(t);else i.setAttributes(t)},getBBoxForItem:function(e){return e&&e.sprite?e.sprite.itemsMarker&&"items"===e.category?e.sprite.getMarkerBBox(e.category,e.index):e.sprite instanceof Ext.draw.sprite.Instancing?e.sprite.getBBoxFor(e.index):e.sprite.getBBox():null},applyHighlightItem:function(e,t){if(e!==t){if(Ext.isObject(e)&&Ext.isObject(t)){var n=e.sprite===t.sprite,i=e.index===t.index;if(n&&i)return}return e}},updateHighlightItem:function(e,t){this.setAttributesForItem(t,{highlighted:!1}),this.setAttributesForItem(e,{highlighted:!0})},constructor:function(e){var t,n=this;(e=e||{}).tips&&(e=Ext.apply({tooltip:e.tips},e)),e.highlightCfg&&(e=Ext.apply({highlight:e.highlightCfg},e)),t="id"in e?e.id:"id"in n.config?n.config.id:n.getId(),n.setId(t),n.sprites=[],n.dataRange=[],n.mixins.observable.constructor.call(n,e),n.initBindable()},lookupViewModel:function(e){var t=this.getChart();return t?t.lookupViewModel(e):null},applyTooltip:function(e,t){var n=Ext.apply({xtype:"tooltip",renderer:Ext.emptyFn,constrainPosition:!0,shrinkWrapDock:!0,autoHide:!0,mouseOffset:[20,20]},e);return Ext.create(n)},updateTooltip:function(){this.addItemHighlight()},addItemHighlight:function(){var e=this.getChart();if(e){var t,n,i,r=e.getInteractions();for(t=0;t<r.length;t++)if((n=r[t]).isItemHighlight||n.isItemEdit){i=!0;break}i||(r.push("itemhighlight"),e.setInteractions(r))}},showTooltip:function(e,t){var n=this.getTooltip();n&&(clearTimeout(this.tooltipTimeout),n.pointerEvent=t,n.currentTarget.attach((e.sprite.length?e.sprite[0]:e.sprite).getSurface().el.dom),Ext.callback(n.renderer,n.scope,[n,e.record,e],0,this),n.isVisible()?n.handleAfterShow():n.show())},hideTooltip:function(e){var t=this.getTooltip();t&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=Ext.defer(function(){t.hide()},1))},applyStore:function(e){return e&&Ext.StoreManager.lookup(e)},getStore:function(){return this._store||this.getChart()&&this.getChart().getStore()},updateStore:function(e,t){var n,i,r,o,a=this,s=a.getChart(),l=s&&s.getStore();if((t=t||l)&&t!==e&&t.un({datachanged:"onDataChanged",update:"onDataChanged",scope:a}),e){for(e.on({datachanged:"onDataChanged",update:"onDataChanged",scope:a}),o=0,r=(n=a.getSprites()).length;o<r;o++)(i=n[o]).setStore&&i.setStore(e);a.onDataChanged()}a.fireEvent("storechange",a,e,t)},onStoreChange:function(e,t,n){this._store||this.updateStore(t,n)},coordinate:function(e,t,n){var i,r,o,a=this,s=a.getStore(),l=a.getHidden(),d=s.getData().items,c=a["get"+e+"Axis"](),u={min:1/0,max:-1/0},h=a["fieldCategory"+e]||[e],f=a.getFields(h),g={},p=a.getSprites();if(p.length>0){if(!Ext.isBoolean(l)||!l)for(i=0;i<h.length;i++)r=f[i],o=a.coordinateData(d,r,c),a.getRangeOfData(o,u),g["data"+h[i]]=o;for(a.dataRange[t]=u.min,a.dataRange[t+n]=u.max,g["dataMin"+e]=u.min,g["dataMax"+e]=u.max,c&&(c.range=null,g["range"+e]=c.getRange()),i=0;i<p.length;i++)p[i].setAttributes(g)}},coordinateData:function(e,t,n){var i,r,o=[],a=e.length,s=n&&n.getLayout();for(i=0;i<a;i++)r=e[i].data[t],Ext.isEmpty(r,!0)?o[i]=r:o[i]=s?s.getCoordFor(r,t,i,e):+r;return o},getRangeOfData:function(e,t){var n,i,r=e.length,o=t.min,a=t.max;for(n=0;n<r;n++)(i=e[n])<o&&(o=i),i>a&&(a=i);t.min=o,t.max=a},updateLabelData:function(){var e,t,n,i,r,o,a=this.getStore().getData().items,s=this.getSprites(),l=this.getLabel().getTemplate(),d=Ext.Array.from(l.getField());if(s.length&&d.length)for(e=0;e<s.length;e++){for(i=[],o=(r=s[e]).getField(),Ext.Array.indexOf(d,o)<0&&(o=d[e]),t=0,n=a.length;t<n;t++)i.push(a[t].get(o));r.setAttributes({labels:i})}},processData:function(){var e=this;if(!e.isProcessingData&&e.getStore()){var t,n,i,r=this.directions,o=r.length;for(e.isProcessingData=!0,t=0;t<o;t++)(i=e["get"+(n=r[t])+"Axis"]())?i.processData(e):e["coordinate"+n]&&e["coordinate"+n]();e.updateLabelData(),e.isProcessingData=!1}},applyBackground:function(e){return this.getChart()?(this.getSurface().setBackground(e),this.getSurface().getBackground()):e},updateChart:function(e,t){var n=this,i=n._store;t&&(t.un("axeschange","onAxesChange",n),n.clearSprites(),n.setSurface(null),n.setOverlaySurface(null),t.unregister(n),n.onChartDetached(t),i||n.updateStore(null)),e&&(n.setSurface(e.getSurface("series")),n.setOverlaySurface(e.getSurface("overlay")),e.on("axeschange","onAxesChange",n),e.getAxes()&&n.onAxesChange(e),n.onChartAttached(e),e.register(n),i||n.updateStore(e.getStore()))},onAxesChange:function(e){var t,n,i,r,o=this,a=e.getAxes(),s={},l={},d=!1,c=this.directions;for(i=0,r=c.length;i<r;i++)l[n=c[i]]=o.getFields(o["fieldCategory"+n]);for(i=0,r=a.length;i<r;i++)s[(t=a[i]).getDirection()]?s[t.getDirection()].push(t):s[t.getDirection()]=[t];for(i=0,r=c.length;i<r;i++)o["get"+(n=c[i])+"Axis"]()||s[n]&&(t=o.findMatchingAxis(s[n],l[n]))&&(o["set"+n+"Axis"](t),t.getNeedHighPrecision()&&(d=!0));this.getSurface().setHighPrecision(d)},findMatchingAxis:function(e,t){var n,i,r,o;for(r=0;r<e.length;r++){if(!(i=(n=e[r]).getFields()).length)return n;if(t)for(o=0;o<t.length;o++)if(Ext.Array.indexOf(i,t[o])>=0)return n}},onChartDetached:function(e){this.fireEvent("chartdetached",e,this),e.un("storechange","onStoreChange",this)},onChartAttached:function(e){var t=this;t.setBackground(t.getBackground()),t.fireEvent("chartattached",e,t),e.on("storechange","onStoreChange",t),t.processData()},updateOverlaySurface:function(e){e&&this.getLabel()&&this.getOverlaySurface().add(this.getLabel())},applyLabel:function(e,t){var n;return t?((n=t.getTemplate()).setAttributes(e),e&&(e.field&&(n.setField(e.field),this.updateLabelData()),e.display&&t.setAttributes({hidden:"none"===e.display})),t.setDirty(!0),this.updateLabel()):(t=new Ext.chart.Markers({zIndex:10})).setTemplate(new Ext.chart.sprite.Label(e)),t},updateLabel:function(){var e=this.getChart();e&&!e.isInitializing&&e.redraw()},createItemInstancingSprite:function(e,t){var n,i,r=new Ext.chart.Markers;return r.setAttributes({zIndex:Number.MAX_VALUE}),n=Ext.apply({},t),this.getHighlight()&&(n.highlight=this.getHighlight(),n.modifiers=["highlight"]),r.setTemplate(n),(i=r.getTemplate()).setAttributes(this.getStyle()),i.fx.on("animationstart","onSpriteAnimationStart",this),i.fx.on("animationend","onSpriteAnimationEnd",this),e.bindMarker("items",r),this.getSurface().add(r),r},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer()}},updateRenderer:function(e){var t,n=this.getChart();n&&n.isInitializing||(t=this.getSprites()).length&&(t[0].setAttributes({renderer:e||null}),n&&!n.isInitializing&&n.redraw())},updateShowMarkers:function(e){var t=this.getSprites(),n=t&&t[0],i=n&&n.getMarker("markers");i&&i.getTemplate().setAttributes({hidden:!e})},createSprite:function(){var e,t,n=this,i=n.getSurface(),r=n.getItemInstancing(),o=i.add(n.getDefaultSpriteConfig()),a=n.getMarker();return o.setAttributes(n.getStyle()),o.setSeries(n),r&&(o.itemsMarker=n.createItemInstancingSprite(o,r)),o.bindMarker&&(a&&(e=new Ext.chart.Markers,t=Ext.Object.merge({},a),n.getHighlight()&&(t.highlight=n.getHighlight(),t.modifiers=["highlight"]),e.setTemplate(t),e.getTemplate().fx.setCustomDurations({translationX:0,translationY:0}),o.dataMarker=e,o.bindMarker("markers",e),n.getOverlaySurface().add(e)),n.getLabel().getTemplate().getField()&&o.bindMarker("labels",n.getLabel())),o.setStore&&o.setStore(n.getStore()),o.fx.on("animationstart","onSpriteAnimationStart",n),o.fx.on("animationend","onSpriteAnimationEnd",n),n.sprites.push(o),o},getSprites:Ext.emptyFn,onDataChanged:function(){var e=this.getChart(),t=e&&e.getStore();this.getStore()!==t&&this.processData()},isXType:function(e){return"series"===e},getItemId:function(){return this.getId()},applyThemeStyle:function(e,t){var n,i;return i=(n=e&&e.subStyle&&e.subStyle.fillStyle)&&e.subStyle.strokeStyle,n&&!i&&(e.subStyle.strokeStyle=this.getStrokeColorsFromFillColors(n)),i=(n=e&&e.markerSubStyle&&e.markerSubStyle.fillStyle)&&e.markerSubStyle.strokeStyle,n&&!i&&(e.markerSubStyle.strokeStyle=this.getStrokeColorsFromFillColors(n)),Ext.apply(t||{},e)},applyStyle:function(e,t){var n=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));return n&&n.def&&(e=n.def.normalize(e)),Ext.apply({},e,t)},applySubStyle:function(e,t){var n=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));return n&&n.def&&(e=n.def.batchedNormalize(e,!0)),Ext.merge({},t,e)},applyMarker:function(e,t){var n=e&&e.type||t&&t.type||"circle",i=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+n));return i&&i.def&&((e=i.def.normalize(Ext.isObject(e)?e:{},!0)).type=n),Ext.merge(t||{},e)},applyMarkerSubStyle:function(e,t){var n=e&&e.type||t&&t.type||"circle",i=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+n));return i&&i.def&&(e=i.def.batchedNormalize(e,!0)),Ext.merge(t||{},e)},updateHidden:function(e){var t=this;t.getColors(),t.getSubStyle(),t.setSubStyle({hidden:e}),t.processData(),t.doUpdateStyles(),Ext.isArray(e)||t.updateLegendStore(e)},updateLegendStore:function(e,t){var n,i=this.getChart().getLegendStore(),r=this.getId();i&&(arguments.length>1?-1!==(n=i.findBy(function(e){return e.get("series")===r&&e.get("index")===t}))&&(n=i.getAt(n)):n=i.findRecord("series",r),n&&n.get("disabled")!==e&&n.set("disabled",e))},setHiddenByIndex:function(e,t){var n=this;Ext.isArray(n.getHidden())?(n.getHidden()[e]=t,n.updateHidden(n.getHidden()),n.updateLegendStore(t,e)):n.setHidden(t)},getStrokeColorsFromFillColors:function(e){var t=this.getUseDarkerStrokeColor(),n=Ext.isNumber(t)?t:this.darkerStrokeRatio;return t?Ext.Array.map(e,function(e){return e=Ext.isString(e)?e:e.stops[0].color,(e=Ext.util.Color.fromString(e)).createDarker(n).toString()}):Ext.Array.clone(e)},updateThemeColors:function(e){var t=this.getThemeStyle(),n={fillStyle:Ext.Array.clone(e),strokeStyle:this.getStrokeColorsFromFillColors(e)};t.subStyle=Ext.apply(t.subStyle||{},n),t.markerSubStyle=Ext.apply(t.markerSubStyle||{},n),this.doUpdateStyles()},themeOnlyIfConfigured:{},updateTheme:function(e){var t,n,i,r,o,a,s=this,l=e.getSeries(),d=s.getInitialConfig(),c=s.defaultConfig,u=s.self.getConfigurator().configs,h=l.defaults,f=l[s.type],g=s.themeOnlyIfConfigured;for(t in l=Ext.merge({},h,f))if(n=l[t],a=u[t],null!==n&&void 0!==n&&a){if(o=d[t],i=Ext.isObject(n),r=o===c[t],i){if(r&&g[t])continue;n=Ext.merge({},n,o)}(r||i)&&s[a.names.set](n)}},updateChartColors:function(e){this.getColors()||this.updateThemeColors(e)},updateColors:function(e){this.updateThemeColors(e)},updateStyle:function(){this.doUpdateStyles()},updateSubStyle:function(){this.doUpdateStyles()},updateThemeStyle:function(){this.doUpdateStyles()},doUpdateStyles:function(){for(var e,t=this,n=t.sprites,i=t.getItemInstancing(),r=0,o=n&&n.length,a=(t.getConfig("showMarkers",!0),t.getMarker());r<o;r++)e=t.getStyleByIndex(r),i&&n[r].itemsMarker.getTemplate().setAttributes(e),n[r].setAttributes(e),a&&n[r].dataMarker&&n[r].dataMarker.getTemplate().setAttributes(t.getMarkerStyleByIndex(r))},getStyleWithTheme:function(){var e=this.getThemeStyle(),t=e&&e.style||{};return Ext.applyIf(Ext.apply({},this.getStyle()),t)},getSubStyleWithTheme:function(){var e=this.getThemeStyle(),t=e&&e.subStyle||{};return Ext.applyIf(Ext.apply({},this.getSubStyle()),t)},getStyleByIndex:function(e){var t,n,i,r,o=this,a=o.getThemeStyle(),s={};return t=o.getStyle(),n=a&&a.style||{},i=o.styleDataForIndex(o.getSubStyle(),e),r=o.styleDataForIndex(a&&a.subStyle,e),Ext.apply(s,n),Ext.apply(s,r),Ext.apply(s,t),Ext.apply(s,i),s},getMarkerStyleByIndex:function(e){var t,n,i,r,o,a,s,l,d=this,c=d.getThemeStyle(),u={};return t=d.getStyle(),n=c&&c.style||{},(i=d.styleDataForIndex(d.getSubStyle(),e)).hasOwnProperty("hidden")&&(i.hidden=i.hidden||!this.getConfig("showMarkers",!0)),r=d.styleDataForIndex(c&&c.subStyle,e),o=d.getMarker(),a=c&&c.marker||{},s=d.getMarkerSubStyle(),l=d.styleDataForIndex(c&&c.markerSubStyle,e),Ext.apply(u,n),Ext.apply(u,r),Ext.apply(u,a),Ext.apply(u,l),Ext.apply(u,t),Ext.apply(u,i),Ext.apply(u,o),Ext.apply(u,s),u},styleDataForIndex:function(e,t){var n,i,r={};if(e)for(i in e)n=e[i],Ext.isArray(n)?r[i]=n[t%n.length]:r[i]=n;return r},getItemForPoint:Ext.emptyFn,getItemByIndex:function(e,t){var n=this,i=n.getSprites(),r=i&&i[0];if(r)return void 0===t&&r.isMarkerHolder?t=n.getItemInstancing()?"items":"markers":t&&""!==t&&"sprites"!==t||(r=i[e]),r?{series:n,category:t,index:e,record:n.getStore().getData().items[e],field:n.getYField(),sprite:r}:void 0},onSpriteAnimationStart:function(e){this.fireEvent("animationstart",this,e)},onSpriteAnimationEnd:function(e){this.fireEvent("animationend",this,e)},resolveListenerScope:function(e){var t,n=this,i=Ext._namedScopes[e],r=n.getChart();return i?i.isThis?t=n:i.isController?t=r?r.resolveListenerScope(e,!1):n:i.isSelf&&((t=r?r.resolveListenerScope(e,!1):n)!==r||r.getInheritedConfig("defaultListenerScope")||(t=n)):t=r?r.resolveListenerScope(e,!1):e||n,t},provideLegendInfo:function(e){e.push({name:this.getTitle()||this.getId(),mark:"black",disabled:this.getHidden(),series:this.getId(),index:0})},clearSprites:function(){var e,t,n,i=this.sprites;for(t=0,n=i.length;t<n;t++)(e=i[t])&&e.isSprite&&e.destroy();this.sprites=[]},destroy:function(){var e=this,t=e._store,n=e.getConfig("tooltip",!0);t&&t.getAutoDestroy()&&Ext.destroy(t),e.setChart(null),e.clearListeners(),n&&(Ext.destroy(n),clearTimeout(e.tooltipTimeout)),e.callParent()}}),Ext.define("Ext.chart.interactions.Abstract",{xtype:"interaction",mixins:{observable:"Ext.mixin.Observable"},config:{gestures:{tap:"onGesture"},chart:null,enabled:!0},throttleGap:0,stopAnimationBeforeSync:!1,constructor:function(e){var t,n=this;t="id"in(e=e||{})?e.id:"id"in n.config?n.config.id:n.getId(),n.setId(t),n.mixins.observable.constructor.call(n,e)},updateChart:function(e,t){t!==e&&(t&&(t.unregister(this),this.removeChartListener(t)),e&&(e.register(this),this.addChartListener()))},updateEnabled:function(e){var t=this.getChart();t&&(e?this.addChartListener():this.removeChartListener(t))},onGesture:Ext.emptyFn,getItemForEvent:function(e){var t=this.getChart(),n=t.getEventXY(e);return t.getItemForPoint(n[0],n[1])},getItemsForEvent:function(e){var t=this.getChart(),n=t.getEventXY(e);return t.getItemsForPoint(n[0],n[1])},addChartListener:function(){var e,t=this,n=t.getChart(),i=t.getGestures();if(t.getEnabled())for(e in t.listeners=t.listeners||{},i)r(e,i[e]);function r(e,i){n.addElementListener(e,t.listeners[e]=function(n){var r,o=t.getLocks();if(t.getEnabled()&&(!(e in o)||o[e]===t))return!1===(r=(Ext.isFunction(i)?i:t[i]).apply(this,arguments))&&n&&n.stopPropagation&&n.stopPropagation(),r},t)}},removeChartListener:function(e){var t,n,i,r=this,o=r.getGestures();if(r.listeners)for(t in o)n=t,void 0,(i=r.listeners[n])&&(e.removeElementListener(n,i),delete r.listeners[n])},lockEvents:function(){for(var e=this.getLocks(),t=Array.prototype.slice.call(arguments),n=t.length;n--;)e[t[n]]=this},unlockEvents:function(){for(var e=this.getLocks(),t=Array.prototype.slice.call(arguments),n=t.length;n--;)delete e[t[n]]},getLocks:function(){var e=this.getChart();return e.lockedEvents||(e.lockedEvents={})},doSync:function(){var e=this,t=e.getChart();e.syncTimer&&(clearTimeout(e.syncTimer),e.syncTimer=null),e.stopAnimationBeforeSync&&t.animationSuspendCount++,t.redraw(),e.stopAnimationBeforeSync&&t.animationSuspendCount--,e.syncThrottle=Date.now()+e.throttleGap},sync:function(){var e=this;if(e.throttleGap&&Ext.frameStartTime<e.syncThrottle){if(e.syncTimer)return;e.syncTimer=Ext.defer(function(){e.doSync()},e.throttleGap)}else e.doSync()},getItemId:function(){return this.getId()},isXType:function(e){return"interaction"===e},destroy:function(){this.setChart(null),delete this.listeners,this.callParent()}},function(){Ext.os.is.Android4&&(this.prototype.throttleGap=40)}),Ext.define("Ext.chart.MarkerHolder",{extend:"Ext.Mixin",mixinConfig:{id:"markerHolder",after:{constructor:"constructor",preRender:"preRender"},before:{destroy:"destroy"}},isMarkerHolder:!0,surfaceMatrix:null,inverseSurfaceMatrix:null,deprecated:{6:{methods:{getBoundMarker:{message:"Please use the 'getMarker' method instead.",fn:function(e){var t=this.boundMarkers[e];return t?[t]:t}}}}},constructor:function(){this.boundMarkers={},this.cleanRedraw=!1},bindMarker:function(e,t){var n=this,i=n.boundMarkers;t&&t.isMarkers&&(i[e]&&i[e]===t&&Ext.log.warn(n.getId()," (MarkerHolder): the Markers instance '",t.getId(),"' is already bound under the name '",e,"'."),n.releaseMarker(e),i[e]=t,t.on("destroy",n.onMarkerDestroy,n))},onMarkerDestroy:function(e){this.releaseMarker(e)},releaseMarker:function(e){var t,n=this.boundMarkers;if(e&&e.isMarkers){for(t in n)if(n[t]===e){delete n[t];break}}else e=n[t=e],delete n[t];return e||null},getMarker:function(e){return this.boundMarkers[e]||null},preRender:function(e,t,n){var i,r,o,a=this,s=a.getId(),l=a.boundMarkers,d=a.getParent();if(o=a.surfaceMatrix?a.surfaceMatrix.set(1,0,0,1,0,0):a.surfaceMatrix=new Ext.draw.Matrix,a.cleanRedraw=!a.attr.dirty,!a.cleanRedraw)for(i in l)(r=l[i])&&r.clear(s);for(;d&&d.attr&&d.attr.matrix;)o.prependMatrix(d.attr.matrix),d=d.getParent();o.prependMatrix(d.matrix),a.surfaceMatrix=o,a.inverseSurfaceMatrix=o.inverse(a.inverseSurfaceMatrix)},putMarker:function(e,t,n,i,r){var o=this.boundMarkers[e],a=this.getId();o&&o.putMarkerFor(a,t,n,i,r)},getMarkerBBox:function(e,t,n){var i=this.boundMarkers[e],r=this.getId();if(i)return i.getMarkerBBoxFor(r,t,n)},destroy:function(){var e,t=this.boundMarkers;for(e in t)t[e].destroy()}}),Ext.define("Ext.chart.axis.sprite.Axis",{extend:"Ext.draw.sprite.Sprite",alias:"sprite.axis",type:"axis",mixins:{markerHolder:"Ext.chart.MarkerHolder"},requires:["Ext.draw.sprite.Text"],inheritableStatics:{def:{processors:{grid:"bool",axisLine:"bool",minorTicks:"bool",minorTickSize:"number",majorTicks:"bool",majorTickSize:"number",length:"number",startGap:"number",endGap:"number",dataMin:"number",dataMax:"number",visibleMin:"number",visibleMax:"number",position:"enums(left,right,top,bottom,angular,radial,gauge)",minStepSize:"number",estStepSize:"number",titleOffset:"number",textPadding:"number",min:"number",max:"number",centerX:"number",centerY:"number",radius:"number",totalAngle:"number",baseRotation:"number",data:"default",enlargeEstStepSizeByText:"bool"},defaults:{grid:!1,axisLine:!0,minorTicks:!1,minorTickSize:3,majorTicks:!0,majorTickSize:5,length:0,startGap:0,endGap:0,visibleMin:0,visibleMax:1,dataMin:0,dataMax:1,position:"",minStepSize:0,estStepSize:20,min:0,max:1,centerX:0,centerY:0,radius:1,baseRotation:0,data:null,titleOffset:0,textPadding:0,scalingCenterY:0,scalingCenterX:0,strokeStyle:"black",enlargeEstStepSizeByText:!1},triggers:{minorTickSize:"bbox",majorTickSize:"bbox",position:"bbox,layout",axisLine:"bbox,layout",minorTicks:"layout",min:"layout",max:"layout",length:"layout",minStepSize:"layout",estStepSize:"layout",data:"layout",dataMin:"layout",dataMax:"layout",visibleMin:"layout",visibleMax:"layout",enlargeEstStepSizeByText:"layout"},updaters:{layout:"layoutUpdater"}}},config:{label:null,labelOffset:10,layout:null,segmenter:null,renderer:null,layoutContext:null,axis:null},thickness:0,stepSize:0,getBBox:function(){return null},defaultRenderer:function(e){return this.segmenter.renderer(e,this)},layoutUpdater:function(){var e=this,t=e.getAxis().getChart();if(!t.isInitializing){var n=e.attr,i=e.getLayout(),r=t.getInherited().rtl,o=n.dataMin+(n.dataMax-n.dataMin)*n.visibleMin,a=n.dataMin+(n.dataMax-n.dataMin)*n.visibleMax,s=n.position,l={attr:n,segmenter:e.getSegmenter(),renderer:e.defaultRenderer};"left"===s||"right"===s?(n.translationX=0,n.translationY=a*n.length/(a-o),n.scalingX=1,n.scalingY=-n.length/(a-o),n.scalingCenterY=0,n.scalingCenterX=0,e.applyTransformations(!0)):"top"!==s&&"bottom"!==s||(n.translationX=r?n.length+o*n.length/(a-o)+1:-o*n.length/(a-o),n.translationY=0,n.scalingX=(r?-1:1)*n.length/(a-o),n.scalingY=1,n.scalingCenterY=0,n.scalingCenterX=0,e.applyTransformations(!0)),i&&(i.calculateLayout(l),e.setLayoutContext(l))}},iterate:function(e,t){var n,i,r,o,a,s,l,d=Ext.Array.some,c=Math.abs;if(e.getLabel){for(e.min<e.from&&t.call(this,e.min,e.getLabel(e.min),-1,e),n=0;n<=e.steps;n++)t.call(this,e.get(n),e.getLabel(n),n,e);e.max>e.to&&t.call(this,e.max,e.getLabel(e.max),e.steps+1,e)}else{if(a=(o=this.getAxis()).floatingAxes,s=[],l=(e.to-e.from)/(e.steps+1),o.getFloating())for(r in a)s.push(a[r]);function u(e){return!s.length||d(s,function(t){return c(t-e)>l})}for(e.min<e.from&&u(e.min)&&t.call(this,e.min,e.min,-1,e),n=0;n<=e.steps;n++)u(i=e.get(n))&&t.call(this,i,i,n,e);e.max>e.to&&u(e.max)&&t.call(this,e.max,e.max,e.steps+1,e)}},renderTicks:function(e,t,n,i){var r=this,o=r.attr,a=o.position,s=o.matrix,l=.5*o.lineWidth,d=s.getXX(),c=s.getDX(),u=s.getYY(),h=s.getDY(),f=n.majorTicks,g=o.majorTickSize,p=n.minorTicks,m=o.minorTickSize;if(f)switch(a){case"right":function x(n){return function(i,r,o){i=e.roundPixel(i*u+h)+l,t.moveTo(0,i),t.lineTo(n,i)}}r.iterate(f,x(g)),p&&r.iterate(p,x(m));break;case"left":function E(n){return function(r,o,a){r=e.roundPixel(r*u+h)+l,t.moveTo(i[2]-n,r),t.lineTo(i[2],r)}}r.iterate(f,E(g)),p&&r.iterate(p,E(m));break;case"bottom":function v(n){return function(i,r,o){i=e.roundPixel(i*d+c)-l,t.moveTo(i,0),t.lineTo(i,n)}}r.iterate(f,v(g)),p&&r.iterate(p,v(m));break;case"top":function y(n){return function(r,o,a){r=e.roundPixel(r*d+c)-l,t.moveTo(r,i[3]),t.lineTo(r,i[3]-n)}}r.iterate(f,y(g)),p&&r.iterate(p,y(m));break;case"angular":r.iterate(f,function(e,n,i){e=e/(o.max+1)*Math.PI*2+o.baseRotation,t.moveTo(o.centerX+o.length*Math.cos(e),o.centerY+o.length*Math.sin(e)),t.lineTo(o.centerX+(o.length+g)*Math.cos(e),o.centerY+(o.length+g)*Math.sin(e))});break;case"gauge":var b=r.getGaugeAngles();r.iterate(f,function(e,n,i){e=(e-o.min)/(o.max-o.min+1)*o.totalAngle-o.totalAngle+b.start,t.moveTo(o.centerX+o.length*Math.cos(e),o.centerY+o.length*Math.sin(e)),t.lineTo(o.centerX+(o.length+g)*Math.cos(e),o.centerY+(o.length+g)*Math.sin(e))})}},renderLabels:function(e,t,n,i){var r,o,a,s,l,d,c,u,h=this,f=h.attr,g=.5*f.lineWidth,p=f.position,m=f.matrix,x=f.textPadding,E=m.getXX(),v=m.getDX(),y=m.getYY(),b=m.getDY(),C=0,S=n.majorTicks,w=Math.max(f.majorTickSize,f.minorTickSize)+f.lineWidth,T=Ext.draw.Draw.isBBoxIntersect,P=h.getLabel(),k=h.getLabelOffset(),I=null,M=0,R=0,A=n.segmenter,D=h.getRenderer(),F=h.getAxis(),L=F.getTitle(),O=L&&""!==L.attr.text&&L.getBBox(),B=null;if(S&&P&&!P.attr.hidden){switch(r=P.attr.font,t.font!==r&&(t.font=r),P.setAttributes({translationX:0,translationY:0},!0),P.applyTransformations(),o=P.attr.inverseMatrix.elements.slice(0),p){case"left":switch(d=O?O.x+O.width:0,P.attr.textAlign){case"start":c=e.roundPixel(d+v)-g;break;case"end":c=e.roundPixel(i[2]-w+v)-g;break;default:c=e.roundPixel(d+(i[2]-d-w)/2+v)-g}P.setAttributes({translationX:c},!0);break;case"right":switch(d=O?i[2]-O.x:0,P.attr.textAlign){case"start":c=e.roundPixel(w+v)+g;break;case"end":c=e.roundPixel(i[2]-d+v)+g;break;default:c=e.roundPixel(w+(i[2]-w-d)/2+v)+g}P.setAttributes({translationX:c},!0);break;case"top":d=O?O.y+O.height:0,P.setAttributes({translationY:e.roundPixel(d+(i[3]-d-w)/2)-g},!0);break;case"bottom":d=O?i[3]-O.y:0,P.setAttributes({translationY:e.roundPixel(w+(i[3]-w-d)/2)+g},!0);break;case"radial":P.setAttributes({translationX:f.centerX},!0);break;case"angular":case"gauge":P.setAttributes({translationY:f.centerY},!0)}if("left"===p||"right"===p?h.iterate(S,function(t,i,r){if(void 0!==i&&(l=D?Ext.callback(D,null,[F,i,n,I],0,F):A.renderer(i,n,I),I=i,P.setAttributes({text:String(l),translationY:e.roundPixel(t*y+b)},!0),P.applyTransformations(),(C=Math.max(C,P.getBBox().width+w))<=h.thickness)){if(s=Ext.draw.Matrix.fly(P.attr.matrix.elements.slice(0)),a=s.prepend.apply(s,o).transformBBox(P.getBBox(!0)),B&&!T(a,B,x))return;e.renderSprite(P),B=a,M+=a.height,R++}}):"top"===p||"bottom"===p?h.iterate(S,function(t,i,r){if(void 0!==i&&(l=D?Ext.callback(D,null,[F,i,n,I],0,F):A.renderer(i,n,I),I=i,P.setAttributes({text:String(l),translationX:e.roundPixel(t*E+v)},!0),P.applyTransformations(),(C=Math.max(C,P.getBBox().height+w))<=h.thickness)){if(s=Ext.draw.Matrix.fly(P.attr.matrix.elements.slice(0)),a=s.prepend.apply(s,o).transformBBox(P.getBBox(!0)),B&&!T(a,B,x))return;e.renderSprite(P),B=a,M+=a.width,R++}}):"radial"===p?h.iterate(S,function(t,i,r){if(void 0!==i&&(l=D?Ext.callback(D,null,[F,i,n,I],0,F):A.renderer(i,n,I),I=i,void 0!==l)){if(P.setAttributes({text:String(l),translationX:f.centerX-e.roundPixel(t)/f.max*f.length*Math.cos(f.baseRotation+Math.PI/2),translationY:f.centerY-e.roundPixel(t)/f.max*f.length*Math.sin(f.baseRotation+Math.PI/2)},!0),P.applyTransformations(),a=P.attr.matrix.transformBBox(P.getBBox(!0)),B&&!T(a,B))return;e.renderSprite(P),B=a,M+=a.width,R++}}):"angular"===p?(k+=f.majorTickSize+.5*f.lineWidth,h.iterate(S,function(t,i,r){if(void 0!==i&&(l=D?Ext.callback(D,null,[F,i,n,I],0,F):A.renderer(i,n,I),I=i,C=Math.max(C,Math.max(f.majorTickSize,f.minorTickSize)+("butt"!==f.lineCap?.5*f.lineWidth:0)),void 0!==l)){var o=t/(f.max+1)*Math.PI*2+f.baseRotation;if(P.setAttributes({text:String(l),translationX:f.centerX+(f.length+k)*Math.cos(o),translationY:f.centerY+(f.length+k)*Math.sin(o)},!0),P.applyTransformations(),a=P.attr.matrix.transformBBox(P.getBBox(!0)),B&&!T(a,B))return;e.renderSprite(P),B=a,M+=a.width,R++}})):"gauge"===p&&(u=h.getGaugeAngles(),k+=f.majorTickSize+.5*f.lineWidth,h.iterate(S,function(t,i,r){if(void 0!==i&&(l=D?Ext.callback(D,null,[F,i,n,I],0,F):A.renderer(i,n,I),I=i,void 0!==l)){var o=(t-f.min)/(f.max-f.min+1)*f.totalAngle-f.totalAngle+u.start;if(P.setAttributes({text:String(l),translationX:f.centerX+(f.length+k)*Math.cos(o),translationY:f.centerY+(f.length+k)*Math.sin(o)},!0),P.applyTransformations(),a=P.attr.matrix.transformBBox(P.getBBox(!0)),B&&!T(a,B))return;e.renderSprite(P),B=a,M+=a.width,R++}})),f.enlargeEstStepSizeByText&&R&&(M/=R,M+=w,M*=2,f.estStepSize<M&&(f.estStepSize=M)),Math.abs(h.thickness-C)>1)return h.thickness=C,f.bbox.plain.dirty=!0,f.bbox.transform.dirty=!0,h.doThicknessChanged(),!1}},renderAxisLine:function(e,t,n,i){var r,o,a=this.attr,s=.5*a.lineWidth,l=a.position;if(a.axisLine&&a.length)switch(l){case"left":r=e.roundPixel(i[2])-s,t.moveTo(r,-a.endGap),t.lineTo(r,a.length+a.startGap+1);break;case"right":t.moveTo(s,-a.endGap),t.lineTo(s,a.length+a.startGap+1);break;case"bottom":t.moveTo(-a.startGap,s),t.lineTo(a.length+a.endGap,s);break;case"top":r=e.roundPixel(i[3])-s,t.moveTo(-a.startGap,r),t.lineTo(a.length+a.endGap,r);break;case"angular":t.moveTo(a.centerX+a.length,a.centerY),t.arc(a.centerX,a.centerY,a.length,0,2*Math.PI,!0);break;case"gauge":o=this.getGaugeAngles(),t.moveTo(a.centerX+Math.cos(o.start)*a.length,a.centerY+Math.sin(o.start)*a.length),t.arc(a.centerX,a.centerY,a.length,o.start,o.end,!0)}},getGaugeAngles:function(){var e,t=this.attr.totalAngle;return e=t<=Math.PI?.5*(Math.PI-t):.5*-(2*Math.PI-t),{start:e=2*Math.PI-e,end:e-t}},renderGridLines:function(e,t,n,i){var r,o,a,s=this,l=s.getAxis(),d=s.attr,c=d.matrix,u=d.startGap,h=d.endGap,f=c.getXX(),g=c.getYY(),p=c.getDX(),m=c.getDY(),x=d.position,E=l.getGridAlignment(),v=n.majorTicks;d.grid&&v&&("left"===x||"right"===x?(a=d.min*g+m+h+u,s.iterate(v,function(e,t,n){r=e*g+m+h,s.putMarker(E+"-"+(n%2?"odd":"even"),{y:r,height:a-r},o=n,!0),a=r}),o++,r=0,s.putMarker(E+"-"+(o%2?"odd":"even"),{y:r,height:a-r},o,!0)):"top"===x||"bottom"===x?(a=d.min*f+p+u,u&&s.putMarker(E+"-even",{x:0,width:a},-1,!0),s.iterate(v,function(e,t,n){r=e*f+p+u,s.putMarker(E+"-"+(n%2?"odd":"even"),{x:r,width:a-r},o=n,!0),a=r}),o++,r=d.length+d.startGap+d.endGap,s.putMarker(E+"-"+(o%2?"odd":"even"),{x:r,width:a-r},o,!0)):"radial"===x?s.iterate(v,function(e,t,n){e&&(r=e/d.max*d.length,s.putMarker(E+"-"+(n%2?"odd":"even"),{scalingX:r,scalingY:r},n,!0),a=r)}):"angular"===x&&s.iterate(v,function(e,t,n){d.length&&(r=e/(d.max+1)*Math.PI*2+d.baseRotation,s.putMarker(E+"-"+(n%2?"odd":"even"),{rotationRads:r,rotationCenterX:0,rotationCenterY:0,scalingX:d.length,scalingY:d.length},n,!0),a=r)}))},renderLimits:function(e){var t=this,n=t.getAxis(),i=n.getChart().getInnerPadding(),r=Ext.Array.from(n.getLimits());if(r.length){var o,a,s,l,d,c,u,h,f,g=n.limits.surface.getRect(),p=t.attr,m=p.matrix,x=p.position,E=Ext.Object.chain,v=n.limits.titles;if(v.instances=[],v.position=0,"left"===x||"right"===x){for(c=0,u=r.length;c<u;c++)if(!(l=E(r[c])).line&&(l.line={}),d=(d=Ext.isString(l.value)?n.getCoordFor(l.value):l.value)*m.getYY()+m.getDY(),l.line.y=d+i.top,l.line.strokeStyle=l.line.strokeStyle||p.strokeStyle,t.putMarker("horizontal-limit-lines",l.line,c,!0),l.line.title){switch(v.add(l.line.title),o=v.getBBoxFor(v.position-1),a=l.line.title.position||("left"===x?"start":"end")){case"start":h=10;break;case"end":h=g[2]-10;break;case"middle":h=g[2]/2}v.setAttributesFor(v.position-1,{x:h,y:l.line.y-o.height/2,textAlign:a,fillStyle:l.line.title.fillStyle||l.line.strokeStyle})}}else if("top"===x||"bottom"===x){for(c=0,u=r.length;c<u;c++)if(!(l=E(r[c])).line&&(l.line={}),d=(d=Ext.isString(l.value)?n.getCoordFor(l.value):l.value)*m.getXX()+m.getDX(),l.line.x=d+i.left,l.line.strokeStyle=l.line.strokeStyle||p.strokeStyle,t.putMarker("vertical-limit-lines",l.line,c,!0),l.line.title){switch(v.add(l.line.title),o=v.getBBoxFor(v.position-1),a=l.line.title.position||("top"===x?"end":"start")){case"start":f=g[3]-o.width/2-10;break;case"end":f=o.width/2+10;break;case"middle":f=g[3]/2}v.setAttributesFor(v.position-1,{x:l.line.x+o.height/2,y:f,fillStyle:l.line.title.fillStyle||l.line.strokeStyle,rotationRads:Math.PI/2})}}else if("radial"===x)for(c=0,u=r.length;c<u;c++)!(l=E(r[c])).line&&(l.line={}),(d=Ext.isString(l.value)?n.getCoordFor(l.value):l.value)>p.max||(d=d/p.max*p.length,l.line.cx=p.centerX,l.line.cy=p.centerY,l.line.scalingX=d,l.line.scalingY=d,l.line.strokeStyle=l.line.strokeStyle||p.strokeStyle,t.putMarker("circular-limit-lines",l.line,c,!0),l.line.title&&(v.add(l.line.title),o=v.getBBoxFor(v.position-1),v.setAttributesFor(v.position-1,{x:p.centerX,y:p.centerY-d-o.height/2,fillStyle:l.line.title.fillStyle||l.line.strokeStyle})));else if("angular"===x)for(c=0,u=r.length;c<u;c++)!(l=E(r[c])).line&&(l.line={}),d=(d=Ext.isString(l.value)?n.getCoordFor(l.value):l.value)/(p.max+1)*Math.PI*2+p.baseRotation,l.line.translationX=p.centerX,l.line.translationY=p.centerY,l.line.rotationRads=d,l.line.rotationCenterX=0,l.line.rotationCenterY=0,l.line.scalingX=p.length,l.line.scalingY=p.length,l.line.strokeStyle=l.line.strokeStyle||p.strokeStyle,t.putMarker("radial-limit-lines",l.line,c,!0),l.line.title&&(v.add(l.line.title),o=v.getBBoxFor(v.position-1),s=d>-.5*Math.PI&&d<.5*Math.PI||d>1.5*Math.PI&&d<2*Math.PI?1:-1,v.setAttributesFor(v.position-1,{x:p.centerX+.5*p.length*Math.cos(d)+s*o.height/2*Math.sin(d),y:p.centerY+.5*p.length*Math.sin(d)-s*o.height/2*Math.cos(d),rotationRads:1===s?d:d-Math.PI,fillStyle:l.line.title.fillStyle||l.line.strokeStyle}))}},doThicknessChanged:function(){var e=this.getAxis();e&&e.onThicknessChanged()},render:function(e,t,n){var i=this,r=i.getLayoutContext();if(r){if(!1===i.renderLabels(e,t,r,n))return!1;t.beginPath(),i.renderTicks(e,t,r,n),i.renderAxisLine(e,t,r,n),i.renderGridLines(e,t,r,n),i.renderLimits(n),t.stroke()}}}),Ext.define("Ext.chart.axis.segmenter.Segmenter",{config:{axis:null},constructor:function(e){this.initConfig(e)},renderer:function(e,t){return String(e)},from:function(e){return e},diff:Ext.emptyFn,align:Ext.emptyFn,add:Ext.emptyFn,preferredStep:Ext.emptyFn}),Ext.define("Ext.chart.axis.segmenter.Names",{extend:"Ext.chart.axis.segmenter.Segmenter",alias:"segmenter.names",renderer:function(e,t){return e},diff:function(e,t,n){return Math.floor(t-e)},align:function(e,t,n){return Math.floor(e)},add:function(e,t,n){return e+t},preferredStep:function(e,t,n,i){return{unit:1,step:1}}}),Ext.define("Ext.chart.axis.segmenter.Numeric",{extend:"Ext.chart.axis.segmenter.Segmenter",alias:"segmenter.numeric",isNumeric:!0,renderer:function(e,t){return e.toFixed(Math.max(0,t.majorTicks.unit.fixes))},diff:function(e,t,n){return Math.floor((t-e)/n.scale)},align:function(e,t,n){var i=n.scale*t;return Math.floor(e/i)*i},add:function(e,t,n){return e+t*n.scale},preferredStep:function(e,t){var n=Math.floor(Math.log(t)*Math.LOG10E),i=Math.pow(10,n);return(t/=i)<2?t=2:t<5?t=5:t<10&&(t=10,n++),{unit:{fixes:-n,scale:i},step:t}},leadingZeros:function(e){return-Math.floor(Ext.Number.log10(Math.abs(e)))},exactStep:function(e,t){var n=this.leadingZeros(t);return{unit:{fixes:n+(t%Math.pow(10,n)==0?0:1),scale:t<1?t:1},step:t<1?1:t}},adjustByMajorUnit:function(e,t,n){var i=n[0],r=n[1],o=e*t,a=i%o;0!==a&&(n[0]=i-a+(i<0?-o:0)),0!==(a=r%o)&&(n[1]=r-a+(r>0?o:0))}}),Ext.define("Ext.chart.axis.segmenter.Time",{extend:"Ext.chart.axis.segmenter.Segmenter",alias:"segmenter.time",config:{step:null},renderer:function(e,t){var n=Ext.Date;switch(t.majorTicks.unit){case"y":return n.format(e,"Y");case"mo":return n.format(e,"Y-m");case"d":return n.format(e,"Y-m-d")}return n.format(e,"Y-m-d\nH:i:s")},from:function(e){return new Date(e)},diff:function(e,t,n){return isFinite(e)&&(e=new Date(e)),isFinite(t)&&(t=new Date(t)),Ext.Date.diff(e,t,n)},updateStep:function(){var e=this.getAxis();e&&!this.isConfiguring&&e.performLayout()},align:function(e,t,n){return"d"===n&&t>=7?((e=Ext.Date.align(e,"d",t)).setDate(e.getDate()-e.getDay()+1),e):Ext.Date.align(e,n,t)},add:function(e,t,n){return Ext.Date.add(new Date(e),n,t)},stepUnits:[[Ext.Date.YEAR,1,2,5,10,20,50,100,200,500],[Ext.Date.MONTH,1,3,6],[Ext.Date.DAY,1,7,14],[Ext.Date.HOUR,1,6,12],[Ext.Date.MINUTE,1,5,15,30],[Ext.Date.SECOND,1,5,15,30],[Ext.Date.MILLI,1,2,5,10,20,50,100,200,500]],preferredStep:function(e,t){if(this.getStep())return this.getStep();var n,i,r,o,a,s=new Date(+e),l=new Date(+e+Math.ceil(t)),d=this.stepUnits;for(o=0;o<d.length;o++)if(i=d[o][0],(r=this.diff(s,l,i))>0){for(a=1;a<d[o].length;a++)if(r<=d[o][a]){n={unit:i,step:d[o][a]};break}n||(n={unit:d[--o][0],step:1});break}return n||(n={unit:Ext.Date.DAY,step:1}),n}}),Ext.define("Ext.chart.axis.layout.Layout",{mixins:{observable:"Ext.mixin.Observable"},config:{axis:null},constructor:function(e){this.mixins.observable.constructor.call(this,e)},processData:function(e){var t,n,i=this.getAxis(),r=i.getDirection(),o=i.boundSeries;if(e)e["coordinate"+r]();else for(t=0,n=o.length;t<n;t++)o[t]["coordinate"+r]()},calculateMajorTicks:function(e){var t=e.attr,n=t.max-t.min,i=n/Math.max(1,t.length)*(t.visibleMax-t.visibleMin),r=t.min+n*t.visibleMin,o=t.min+n*t.visibleMax,a=t.estStepSize*i,s=this.snapEnds(e,t.min,t.max,a);s&&(this.trimByRange(e,s,r,o),e.majorTicks=s)},calculateMinorTicks:function(e){this.snapMinorEnds&&(e.minorTicks=this.snapMinorEnds(e))},calculateLayout:function(e){var t=e.attr;if(0===t.length)return null;t.majorTicks&&(this.calculateMajorTicks(e),t.minorTicks&&this.calculateMinorTicks(e))},snapEnds:Ext.emptyFn,trimByRange:function(e,t,n,i){var r=e.segmenter,o=t.unit,a=r.diff(t.from,n,o),s=r.diff(t.from,i,o),l=Math.max(0,Math.ceil(a/t.step)),d=Math.min(t.steps,Math.floor(s/t.step));if(d<t.steps&&(t.to=r.add(t.from,d*t.step,o)),t.max>i&&(t.max=t.to),t.from<n)for(t.from=r.add(t.from,l*t.step,o);t.from<n;)l++,t.from=r.add(t.from,t.step,o);t.min<n&&(t.min=t.from),t.steps=d-l}}),Ext.define("Ext.chart.axis.layout.Discrete",{extend:"Ext.chart.axis.layout.Layout",alias:"axisLayout.discrete",isDiscrete:!0,processData:function(){var e,t,n,i=this,r=i.getAxis(),o=r.boundSeries,a=r.getDirection();for(i.labels=[],i.labelMap={},e=0,t=o.length;e<t;e++)(n=o[e])["get"+a+"Axis"]()===r&&n["coordinate"+a]();r.getSprites()[0].setAttributes({data:i.labels}),i.fireEvent("datachange",i.labels)},calculateLayout:function(e){e.data=this.labels,this.callParent([e])},calculateMajorTicks:function(e){var t,n=e.attr,i=e.data,r=n.max-n.min,o=n.min+r*n.visibleMin,a=n.min+r*n.visibleMax;(t=this.snapEnds(e,Math.max(0,n.min),Math.min(n.max,i.length-1),1))&&(this.trimByRange(e,t,o,a),e.majorTicks=t)},snapEnds:function(e,t,n,i){i=Math.ceil(i);var r=Math.floor((n-t)/i),o=e.data;return{min:t,max:n,from:t,to:r*i+t,step:i,steps:r,unit:1,getLabel:function(e){return o[this.from+this.step*e]},get:function(e){return this.from+this.step*e}}},trimByRange:function(e,t,n,i){var r=t.unit,o=Math.ceil((n-t.from)/r)*r,a=Math.floor((i-t.from)/r)*r,s=Math.max(0,Math.ceil(o/t.step)),l=Math.min(t.steps,Math.floor(a/t.step));if(l<t.steps&&(t.to=l),t.max>i&&(t.max=t.to),t.from<n&&t.step>0)for(t.from=t.from+s*t.step*r;t.from<n;)s++,t.from+=t.step*r;t.min<n&&(t.min=t.from),t.steps=l-s},getCoordFor:function(e,t,n,i){return this.labels.push(e),this.labels.length-1}}),Ext.define("Ext.chart.axis.layout.CombineDuplicate",{extend:"Ext.chart.axis.layout.Discrete",alias:"axisLayout.combineDuplicate",getCoordFor:function(e,t,n,i){if(!(e in this.labelMap)){var r=this.labelMap[e]=this.labels.length;return this.labels.push(e),r}return this.labelMap[e]}}),Ext.define("Ext.chart.axis.layout.Continuous",{extend:"Ext.chart.axis.layout.Layout",alias:"axisLayout.continuous",isContinuous:!0,config:{adjustMinimumByMajorUnit:!1,adjustMaximumByMajorUnit:!1},getCoordFor:function(e,t,n,i){return+e},snapEnds:function(e,t,n,i){var r=e.segmenter,o=this.getAxis().getMajorTickSteps(),a=o&&r.exactStep?r.exactStep(t,(n-t)/o):r.preferredStep(t,i),s=a.unit,l=a.step,d=o?t:r.align(t,l,s),c=(o||r.diff(t,n,s))+1;return{min:r.from(t),max:r.from(n),from:d,to:r.add(d,c*l,s),step:l,steps:c,unit:s,get:function(e){return r.add(this.from,this.step*e,this.unit)}}},snapMinorEnds:function(e){var t=e.majorTicks,n=this.getAxis().getMinorTickSteps(),i=e.segmenter,r=t.min,o=t.max,a=t.from,s=t.unit,l=t.step/n,d=l*s.scale,c=a-r,u=Math.floor(c/d),h=u+Math.floor((o-t.to)/d)+1,f=t.steps*n+h;return{min:r,max:o,from:r+c%d,to:i.add(a,f*l,s),step:l,steps:f,unit:s,get:function(e){return e%n+u+1!==0?i.add(this.from,this.step*e,s):null}}}}),Ext.define("Ext.chart.axis.Axis",{xtype:"axis",mixins:{observable:"Ext.mixin.Observable"},requires:["Ext.chart.axis.sprite.Axis","Ext.chart.axis.segmenter.*","Ext.chart.axis.layout.*"],isAxis:!0,config:{position:"bottom",fields:[],label:void 0,grid:!1,limits:null,renderer:null,chart:null,style:null,margin:0,titleMargin:4,background:null,minimum:NaN,maximum:NaN,reconcileRange:!1,minZoom:1,maxZoom:1e4,layout:"continuous",segmenter:"numeric",hidden:!1,majorTickSteps:0,minorTickSteps:0,adjustByMajorUnit:!0,title:null,increment:.5,length:0,center:null,radius:null,totalAngle:Math.PI,rotation:null,labelInSpan:null,visibleRange:[0,1],needHighPrecision:!1,linkedTo:null,floating:null},titleOffset:0,spriteAnimationCount:0,prevMin:0,prevMax:1,boundSeries:[],sprites:null,surface:null,range:null,xValues:[],yValues:[],masterAxis:null,applyRotation:function(e){var t=2*Math.PI;return(e%t+Math.PI)%t-Math.PI},updateRotation:function(e){var t=this.getSprites(),n=this.getPosition();!this.getHidden()&&"angular"===n&&t[0]&&t[0].setAttributes({baseRotation:e})},applyTitle:function(e,t){var n;return Ext.isString(e)&&(e={text:e}),t?t.setAttributes(e):(t=Ext.create("sprite.text",e),(n=this.getSurface())&&n.add(t)),t},applyFloating:function(e,t){return null===e?e={value:null,alongAxis:null}:Ext.isNumber(e)&&(e={value:e,alongAxis:null}),Ext.isObject(e)?(t&&t.alongAxis&&delete this.getChart().getAxis(t.alongAxis).floatingAxes[this.getId()],e):t},constructor:function(e){var t,n=this;n.sprites=[],n.labels=[],n.floatingAxes={},"angular"===(e=e||{}).position&&(e.style=e.style||{},e.style.estStepSize=1),t="id"in e?e.id:"id"in n.config?n.config.id:n.getId(),n.setId(t),n.mixins.observable.constructor.apply(n,arguments)},getAlignment:function(){switch(this.getPosition()){case"left":case"right":return"vertical";case"top":case"bottom":return"horizontal";case"radial":return"radial";case"angular":return"angular"}},getGridAlignment:function(){switch(this.getPosition()){case"left":case"right":return"horizontal";case"top":case"bottom":return"vertical";case"radial":return"circular";case"angular":return"radial"}},getSurface:function(){var e=this,t=e.getChart();if(t&&!e.surface){var n=e.surface=t.getSurface(e.getId(),"axis"),i=e.gridSurface=t.getSurface("main"),r=e.getSprites()[0],o=e.getGridAlignment();i.waitFor(n),e.getGrid(),e.getLimits()&&o&&(o=o.replace("3d",""),e.limits={surface:t.getSurface("overlay"),lines:new Ext.chart.Markers,titles:new Ext.draw.sprite.Instancing},e.limits.lines.setTemplate({xclass:"grid."+o}),e.limits.lines.getTemplate().setAttributes({strokeStyle:"black"},!0),e.limits.surface.add(e.limits.lines),r.bindMarker(o+"-limit-lines",e.limits.lines),e.limitTitleTpl=new Ext.draw.sprite.Text,e.limits.titles.setTemplate(e.limitTitleTpl),e.limits.surface.add(e.limits.titles),t.on("redraw",e.renderLimits,e))}return e.surface},applyGrid:function(e){return!0===e?{}:e},updateGrid:function(e){var t=this;if(t.getChart()){var n,i=t.gridSurface,r=t.getSprites()[0],o=t.getGridAlignment();e&&((n=t.gridSpriteEven)||((n=t.gridSpriteEven=new Ext.chart.Markers).setTemplate({xclass:"grid."+o}),i.add(n),r.bindMarker(o+"-even",n)),Ext.isObject(e)&&(n.getTemplate().setAttributes(e),Ext.isObject(e.even)&&n.getTemplate().setAttributes(e.even)),(n=t.gridSpriteOdd)||((n=t.gridSpriteOdd=new Ext.chart.Markers).setTemplate({xclass:"grid."+o}),i.add(n),r.bindMarker(o+"-odd",n)),Ext.isObject(e)&&(n.getTemplate().setAttributes(e),Ext.isObject(e.odd)&&n.getTemplate().setAttributes(e.odd)))}else t.on({chartattached:Ext.bind(t.updateGrid,t,[e]),single:!0})},updateMinorTickSteps:function(e){var t,n=this.getSprites(),i=n&&n[0];i&&(i.setAttributes({minorTicks:!!e}),t=this.getSurface(),!this.isConfiguring&&t&&t.renderFrame())},renderLimits:function(){this.getSprites()[0].renderLimits()},getCoordFor:function(e,t,n,i){return this.getLayout().getCoordFor(e,t,n,i)},applyPosition:function(e){return e.toLowerCase()},applyLength:function(e,t){return e>0?e:t},applyLabel:function(e,t){return t||(t=new Ext.draw.sprite.Text({})),this.limitTitleTpl&&this.limitTitleTpl.setAttributes(e),t.setAttributes(e),t},applyLayout:function(e,t){return(e=Ext.factory(e,null,t,"axisLayout")).setAxis(this),e},applySegmenter:function(e,t){return(e=Ext.factory(e,null,t,"segmenter")).setAxis(this),e},updateMinimum:function(){this.range=null},updateMaximum:function(){this.range=null},hideLabels:function(){this.getSprites()[0].setDirty(!0),this.setLabel({hidden:!0})},showLabels:function(){this.getSprites()[0].setDirty(!0),this.setLabel({hidden:!1})},renderFrame:function(){this.getSurface().renderFrame()},updateChart:function(e,t){var n,i=this;t&&(t.unregister(i),t.un("serieschange",i.onSeriesChange,i),t.un("redraw",i.renderLimits,i),i.linkAxis(),i.fireEvent("chartdetached",t,i)),e&&(e.on("serieschange",i.onSeriesChange,i),i.surface=null,n=i.getSurface(),i.getLabel().setSurface(n),n.add(i.getSprites()),n.add(i.getTitle()),e.register(i),i.fireEvent("chartattached",e,i))},applyBackground:function(e){return Ext.ClassManager.getByAlias("sprite.rect").def.normalize(e)},processData:function(){this.getLayout().processData(),this.range=null},getDirection:function(){return this.getChart().getDirectionForAxis(this.getPosition())},isSide:function(){var e=this.getPosition();return"left"===e||"right"===e},applyFields:function(e){return Ext.Array.from(e)},applyVisibleRange:function(e,t){if(this.getChart(),e[0]>e[1]){var n=e[0];e[0]=e[1],e[0]=n}if(e[1]===e[0]&&(e[1]+=1/this.getMaxZoom()),e[1]>e[0]+1?(e[0]=0,e[1]=1):e[0]<0?(e[1]-=e[0],e[0]=0):e[1]>1&&(e[0]-=e[1]-1,e[1]=1),!t||e[0]!==t[0]||e[1]!==t[1])return e},updateVisibleRange:function(e){this.fireEvent("visiblerangechange",this,e)},onSeriesChange:function(e){var t,n,i,r=this,o=e.getSeries(),a="get"+r.getDirection()+"Axis",s=[],l=o.length;for(t=0;t<l;t++)this===o[t][a]()&&s.push(o[t]);r.boundSeries=s,n=r.getLinkedTo(),(i=!Ext.isEmpty(n)&&e.getAxis(n))?r.linkAxis(i):r.getLayout().processData()},linkAxis:function(e){var t=this;function n(e,t,n){n.getLayout()[e]("datachange","onDataChange",t),n[e]("rangechange","onMasterAxisRangeChange",t)}t.masterAxis&&(t.masterAxis.destroyed||n("un",t,t.masterAxis),t.masterAxis=null),e&&(e.type!==this.type&&Ext.Error.raise("Linked axes must be of the same type."),n("on",t,e),t.onDataChange(e.getLayout().labels),t.onMasterAxisRangeChange(e,e.range),t.setStyle(Ext.apply({},t.config.style,e.config.style)),t.setTitle(Ext.apply({},t.config.title,e.config.title)),t.setLabel(Ext.apply({},t.config.label,e.config.label)),t.masterAxis=e)},onDataChange:function(e){this.getLayout().labels=e},onMasterAxisRangeChange:function(e,t){this.range=t},applyRange:function(e){return e?[null===e[0]?this.dataRange[0]:e[0],null===e[1]?this.dataRange[1]:e[1]]:this.dataRange.slice(0)},getRange:function(){var e=this;if(e.range)return e.range;if(e.masterAxis)return e.masterAxis.range;if(Ext.isNumber(e.getMinimum())&&Ext.isNumber(e.getMaximum()))return e.range=[e.getMinimum(),e.getMaximum()];var t,n,i,r,o,a=1/0,s=-1/0,l=e.boundSeries,d=e.getLayout(),c=e.getSegmenter(),u=e.getVisibleRange(),h="get"+e.getDirection()+"Range";for(r=0,o=l.length;r<o;r++){var f=l[r][h]();f&&(f[0]<a&&(a=f[0]),f[1]>s&&(s=f[1]))}return isFinite(s)||(s=e.prevMax),isFinite(a)||(a=e.prevMin),(e.getLabelInSpan()||a===s)&&(s+=e.getIncrement(),a-=e.getIncrement()),Ext.isNumber(e.getMinimum())?a=e.getMinimum():e.prevMin=a,Ext.isNumber(e.getMaximum())?s=e.getMaximum():e.prevMax=s,e.range=[Ext.Number.correctFloat(a),Ext.Number.correctFloat(s)],e.getReconcileRange()&&e.reconcileRange(),e.getAdjustByMajorUnit()&&c.adjustByMajorUnit&&!e.getMajorTickSteps()&&((n=Ext.Object.chain(e.getSprites()[0].attr)).min=e.range[0],n.max=e.range[1],n.visibleMin=u[0],n.visibleMax=u[1],t={attr:n,segmenter:c},d.calculateLayout(t),(i=t.majorTicks)?(c.adjustByMajorUnit(i.step,i.unit.scale,e.range),n.min=e.range[0],n.max=e.range[1],t.majorTicks=null,d.calculateLayout(t),i=t.majorTicks,c.adjustByMajorUnit(i.step,i.unit.scale,e.range)):e.hasClearRangePending||(e.hasClearRangePending=!0,e.getChart().on("layout","clearRange",e))),Ext.Array.equals(e.range,e.oldRange||[])||(e.fireEvent("rangechange",e,e.range),e.oldRange=e.range),e.range},clearRange:function(){this.hasClearRangePending=null,this.range=null},reconcileRange:function(){var e,t,n,i,r=this,o=r.getChart().getAxes(),a=r.getDirection();if(o)for(e=0,t=o.length;e<t;e++)i=(n=o[e]).getRange(),n!==r&&n.getDirection()===a&&i&&n.getReconcileRange()&&(i[0]<r.range[0]&&(r.range[0]=i[0]),i[1]>r.range[1]&&(r.range[1]=i[1]))},applyStyle:function(e,t){var n=Ext.ClassManager.getByAlias("sprite."+this.seriesType);return n&&n.def&&(e=n.def.normalize(e)),t=Ext.apply(t||{},e)},themeOnlyIfConfigured:{grid:!0},updateTheme:function(e){var t,n,i,r,o,a,s=this,l=e.getAxis(),d=s.getPosition(),c=s.getInitialConfig(),u=s.defaultConfig,h=s.self.getConfigurator().configs,f=l.defaults,g=l[d],p=s.themeOnlyIfConfigured;for(t in l=Ext.merge({},f,g))if(n=l[t],a=h[t],null!==n&&void 0!==n&&a){if(o=c[t],i=Ext.isObject(n),r=o===u[t],i){if(r&&p[t])continue;n=Ext.merge({},n,o)}(r||i)&&s[a.names.set](n)}},updateCenter:function(e){var t=this.getSprites()[0],n=e[0],i=e[1];t&&t.setAttributes({centerX:n,centerY:i}),this.gridSpriteEven&&this.gridSpriteEven.getTemplate().setAttributes({translationX:n,translationY:i,rotationCenterX:n,rotationCenterY:i}),this.gridSpriteOdd&&this.gridSpriteOdd.getTemplate().setAttributes({translationX:n,translationY:i,rotationCenterX:n,rotationCenterY:i})},getSprites:function(){if(this.getChart()){var e,t,n=this,i=n.getRange(),r=n.getPosition(),o=n.getChart().getAnimation(),a=n.getLength(),s=n.superclass;if(!1===o&&(o={duration:0}),i){if(t=Ext.applyIf({position:r,axis:n,min:i[0],max:i[1],length:a,grid:n.getGrid(),hidden:n.getHidden(),titleOffset:n.titleOffset,layout:n.getLayout(),segmenter:n.getSegmenter(),totalAngle:n.getTotalAngle(),label:n.getLabel()},n.getStyle()),n.sprites.length)(e=n.sprites[0]).setAnimation(o),e.setAttributes(t);else{for(;!s.xtype;)s=s.superclass;(e=Ext.create("sprite."+s.xtype,t)).fx.setCustomDurations({baseRotation:0}),e.fx.on("animationstart","onAnimationStart",n),e.fx.on("animationend","onAnimationEnd",n),e.setLayout(n.getLayout()),e.setSegmenter(n.getSegmenter()),e.setLabel(n.getLabel()),n.sprites.push(e),n.updateTitleSprite()}n.getRenderer()&&e.setRenderer(n.getRenderer())}return n.sprites}},performLayout:function(){if(!this.isConfiguring){var e=this.getSprites(),t=this.getSurface(),n=this.getChart(),i=e&&e.length&&e[0];n&&t&&i&&(i.callUpdater(null,"layout"),n.scheduleLayout())}},updateTitleSprite:function(){var e=this,t=e.getLength();if(e.sprites[0]&&Ext.isNumber(t)){var n=this.sprites[0].thickness,i=e.getSurface(),r=e.getTitle(),o=e.getPosition(),a=e.getMargin(),s=e.getTitleMargin(),l=i.roundPixel(t/2);if(r)switch(o){case"top":r.setAttributes({x:l,y:a+s/2,textBaseline:"top",textAlign:"center"},!0),r.applyTransformations(),e.titleOffset=r.getBBox().height+s;break;case"bottom":r.setAttributes({x:l,y:n+s/2,textBaseline:"top",textAlign:"center"},!0),r.applyTransformations(),e.titleOffset=r.getBBox().height+s;break;case"left":r.setAttributes({x:a+s/2,y:l,textBaseline:"top",textAlign:"center",rotationCenterX:a+s/2,rotationCenterY:l,rotationRads:-Math.PI/2},!0),r.applyTransformations(),e.titleOffset=r.getBBox().width+s;break;case"right":r.setAttributes({x:n-a+s/2,y:l,textBaseline:"bottom",textAlign:"center",rotationCenterX:n+s/2,rotationCenterY:l,rotationRads:Math.PI/2},!0),r.applyTransformations(),e.titleOffset=r.getBBox().width+s}}},onThicknessChanged:function(){this.getChart().onThicknessChanged()},getThickness:function(){return this.getHidden()?0:(this.sprites[0]&&this.sprites[0].thickness||1)+this.titleOffset+this.getMargin()},onAnimationStart:function(){this.spriteAnimationCount++,1===this.spriteAnimationCount&&this.fireEvent("animationstart",this)},onAnimationEnd:function(){this.spriteAnimationCount--,0===this.spriteAnimationCount&&this.fireEvent("animationend",this)},getItemId:function(){return this.getId()},getAncestorIds:function(){return[this.getChart().getId()]},isXType:function(e){return"axis"===e},resolveListenerScope:function(e){var t,n=this,i=Ext._namedScopes[e],r=n.getChart();return i?i.isThis?t=n:i.isController?t=r?r.resolveListenerScope(e,!1):n:i.isSelf&&((t=r?r.resolveListenerScope(e,!1):n)!==r||r.getInheritedConfig("defaultListenerScope")||(t=n)):t=r?r.resolveListenerScope(e,!1):e||n,t},destroy:function(){this.setChart(null),this.surface.destroy(),this.surface=null,this.callParent()}}),Ext.define("Ext.chart.legend.LegendBase",{extend:"Ext.view.View",config:{tpl:['<div class="',Ext.baseCSSPrefix,'legend-inner">','<div class="',Ext.baseCSSPrefix,'legend-container">','<tpl for=".">','<div class="',Ext.baseCSSPrefix,'legend-item">',"<span ",'class="',Ext.baseCSSPrefix,"legend-item-marker {[ values.disabled ? Ext.baseCSSPrefix + 'legend-item-inactive' : '' ]}\" ",'style="background:{mark};">',"</span>{name}","</div>","</tpl>","</div>","</div>"],nodeContainerSelector:"div."+Ext.baseCSSPrefix+"legend-inner",itemSelector:"div."+Ext.baseCSSPrefix+"legend-item",docked:"bottom"},setDocked:function(e){var t=this,n=t.ownerCt;switch(t.docked=t.dock=e,e){case"top":case"bottom":t.addCls(t.horizontalCls),t.removeCls(t.verticalCls);break;case"left":case"right":t.addCls(t.verticalCls),t.removeCls(t.horizontalCls)}n&&n.setDock(e)},setStore:function(e){this.bindStore(e)},clearViewEl:function(){this.callParent(arguments),Ext.removeNode(this.getNodeContainer())},onItemClick:function(e,t,n,i){this.callParent(arguments),this.toggleItem(n)}}),Ext.define("Ext.chart.legend.Legend",{extend:"Ext.chart.legend.LegendBase",alternateClassName:"Ext.chart.Legend",xtype:"legend",alias:"legend.dom",type:"dom",isLegend:!0,isDomLegend:!0,config:{baseCls:Ext.baseCSSPrefix+"legend",rect:null,toggleable:!0},horizontalCls:Ext.baseCSSPrefix+"legend-horizontal",verticalCls:Ext.baseCSSPrefix+"legend-vertical",toggleItem:function(e){if(this.getToggleable()){var t,n,i,r,o=this.getStore(),a=0,s=!0;if(o){for(i=o.getCount(),n=0;n<i;n++)(r=o.getAt(n)).get("disabled")&&a++;s=i-a>1,(r=o.getAt(e))&&((t=r.get("disabled"))||s)&&r.set("disabled",!t)}}}}),Ext.define("Ext.chart.legend.sprite.Item",{extend:"Ext.draw.sprite.Composite",alias:"sprite.legenditem",type:"legenditem",isLegendItem:!0,requires:["Ext.draw.sprite.Text","Ext.draw.sprite.Circle"],inheritableStatics:{def:{processors:{enabled:"limited01",markerLabelGap:"number"},animationProcessors:{enabled:null,markerLabelGap:null},defaults:{enabled:!0,markerLabelGap:5},triggers:{enabled:"enabled",markerLabelGap:"layout"},updaters:{layout:"layoutUpdater",enabled:"enabledUpdater"}}},config:{label:{$value:{type:"text"},lazy:!0},marker:{$value:{type:"circle"},lazy:!0},legend:null,store:null,record:null,series:null},applyLabel:function(e,t){var n;return e&&(e.isSprite&&"text"===e.type?n=e:t&&e.type===t.type?(t.setConfig(e),n=t,this.scheduleUpdater(this.attr,"layout")):n=new Ext.draw.sprite.Text(e)),n},defaultMarkerSize:10,updateLabel:function(e,t){this.removeSprite(t),e.setAttributes({textBaseline:"middle"}),this.add(e),this.scheduleUpdater(this.attr,"layout")},applyMarker:function(e){var t;return e&&(t=e.isSprite?e:this.createMarker(e)),t=this.resetMarker(t,e)},createMarker:function(e){return delete e.fx,"image"===e.type&&(delete e.width,delete e.height),Ext.create("sprite."+e.type,e)},resetMarker:function(e,t){var n,i,r=t.size||this.defaultMarkerSize;return e.setTransform([1,0,0,1,0,0],!0),"image"===t.type?e.setAttributes({width:r,height:r}):(n=e.getBBox(),i=r/Math.max(n.width,n.height),e.setAttributes({scalingX:i,scalingY:i})),e},updateMarker:function(e,t){this.removeSprite(t),this.add(e),this.scheduleUpdater(this.attr,"layout")},updateSurface:function(e,t){this.callParent([e,t]),e&&this.scheduleUpdater(this.attr,"layout")},enabledUpdater:function(e){var t=this.getMarker();t&&t.setAttributes({globalAlpha:e.enabled?1:.3})},layoutUpdater:function(e){e=this.attr;var t,n,i,r=this.getLabel(),o=this.getMarker();n=o.getBBox(),t=r.getBBox(),i=Math.max(n.height,t.height),o.transform([1,0,0,1,-n.x,-n.y+(i-n.height)/2],!0),r.transform([1,0,0,1,-t.x+n.width+e.markerLabelGap,-t.y+(i-t.height)/2],!0),this.bboxUpdater(e)}}),Ext.define("Ext.chart.legend.sprite.Border",{extend:"Ext.draw.sprite.Rect",alias:"sprite.legendborder",type:"legendborder",isLegendBorder:!0}),Ext.define("Ext.draw.PathUtil",function(){var e=Math.abs,t=Math.pow,n=Math.cos,i=Math.acos,r=Math.sqrt,o=Math.PI;return{singleton:!0,requires:["Ext.draw.overrides.hittest.Path","Ext.draw.overrides.hittest.sprite.Path"],cubicRoots:function(a){var s=a[0],l=a[1],d=a[2],c=a[3];if(0===s)return this.quadraticRoots(l,d,c);var u,h,f,g,p=l/s,m=d/s,x=c/s,E=(3*m-t(p,2))/9,v=(9*p*m-27*x-2*t(p,3))/54,y=t(E,3)+t(v,2),b=[],C=Ext.Number.sign;for(y>=0?(u=C(v+r(y))*t(e(v+r(y)),1/3),h=C(v-r(y))*t(e(v-r(y)),1/3),b[0]=-p/3+(u+h),b[1]=-p/3-(u+h)/2,b[2]=b[1],0!==e(r(3)*(u-h)/2)&&(b[1]=-1,b[2]=-1)):(f=i(v/r(-t(E,3))),b[0]=2*r(-E)*n(f/3)-p/3,b[1]=2*r(-E)*n((f+2*o)/3)-p/3,b[2]=2*r(-E)*n((f+4*o)/3)-p/3),g=0;g<3;g++)(b[g]<0||b[g]>1)&&(b[g]=-1);return b},quadraticRoots:function(e,t,n){var i,o,a,s;if(0===e)return this.linearRoot(t,n);if(0===(i=t*t-4*e*n))a=[-t/(2*e)];else{if(!(i>0))return[];a=[(-t-(o=r(i)))/(2*e),(-t+o)/(2*e)]}for(s=0;s<a.length;s++)(a[s]<0||a[s]>1)&&(a[s]=-1);return a},linearRoot:function(e,t){var n=-t/e;return 0===e||n<0||n>1?[]:[n]},bezierCoeffs:function(e,t,n,i){var r=[];return r[0]=3*t-e-3*n+i,r[1]=3*e-6*t+3*n,r[2]=-3*e+3*t,r[3]=e,r},cubicLineIntersections:function(e,t,n,i,r,o,a,s,l,d,c,u){var h,f,g,p,m,x,E,v,y=[],b=[],C=d-u,S=c-l,w=l*(u-d)-d*(c-l),T=this.bezierCoeffs(e,t,n,i),P=this.bezierCoeffs(r,o,a,s);for(y[0]=C*T[0]+S*P[0],y[1]=C*T[1]+S*P[1],y[2]=C*T[2]+S*P[2],y[3]=C*T[3]+S*P[3]+w,f=this.cubicRoots(y),h=0;h<f.length;h++)(p=f[h])<0||p>1||(x=(m=p*p)*p,E=T[0]*x+T[1]*m+T[2]*p+T[3],v=P[0]*x+P[1]*m+P[2]*p+P[3],(g=c-l!=0?(E-l)/(c-l):(v-d)/(u-d))<0||g>1||b.push([E,v]));return b},splitCubic:function(e,t,n,i,r){var o=r*r,a=r-1,s=a*a,l=r*o*i-3*o*a*n+3*r*s*t-a*s*e;return[[e,r*t-a*e,o*n-2*r*a*t+s*e,l],[l,o*i-2*r*a*n+s*t,r*i-a*n,i]]},cubicDimension:function(e,t,n,i){var o,a,s,l=3*(3*(t-n)-e+i),d=6*(e-2*t+n),c=-3*(e-t),u=Math.min(e,i),h=Math.max(e,i);if(0===l){if(0===d)return[u,h];0<(o=-c/d)&&o<1&&(a=this.interpolateCubic(e,t,n,i,o),u=Math.min(u,a),h=Math.max(h,a))}else(s=d*d-4*l*c)>=0&&(0<(o=((s=r(s))-d)/2/l)&&o<1&&(a=this.interpolateCubic(e,t,n,i,o),u=Math.min(u,a),h=Math.max(h,a)),s>0&&0<(o-=s/l)&&o<1&&(a=this.interpolateCubic(e,t,n,i,o),u=Math.min(u,a),h=Math.max(h,a)));return[u,h]},interpolateCubic:function(e,t,n,i,r){if(0===r)return e;if(1===r)return i;var o=(1-r)/r;return r*r*r*(i+o*(3*n+o*(3*t+o*e)))},cubicsIntersections:function(t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m){var x,E,v,y,b=this,C=b.cubicDimension(t,n,i,r),S=b.cubicDimension(o,a,s,l),w=b.cubicDimension(d,c,u,h),T=b.cubicDimension(f,g,p,m),P=[];return C[0]>w[1]||C[1]<w[0]||S[0]>T[1]||S[1]<T[0]?[]:e(o-a)<1&&e(s-l)<1&&e(t-r)<1&&e(n-i)<1&&e(f-g)<1&&e(p-m)<1&&e(d-h)<1&&e(c-u)<1?[[.5*(t+r),.5*(o+a)]]:(x=b.splitCubic(t,n,i,r,.5),E=b.splitCubic(o,a,s,l,.5),v=b.splitCubic(d,c,u,h,.5),y=b.splitCubic(f,g,p,m,.5),P.push.apply(P,b.cubicsIntersections.apply(b,x[0].concat(E[0],v[0],y[0]))),P.push.apply(P,b.cubicsIntersections.apply(b,x[0].concat(E[0],v[1],y[1]))),P.push.apply(P,b.cubicsIntersections.apply(b,x[1].concat(E[1],v[0],y[0]))),P.push.apply(P,b.cubicsIntersections.apply(b,x[1].concat(E[1],v[1],y[1]))),P)},linesIntersection:function(e,t,n,i,r,o,a,s){var l,d,c=(n-e)*(s-o)-(i-t)*(a-r);return 0===c?null:(d=((n-e)*(t-o)-(i-t)*(e-r))/c,(l=((a-r)*(t-o)-(e-r)*(s-o))/c)>=0&&l<=1&&d>=0&&d<=1?[e+l*(n-e),t+l*(i-t)]:null)},pointOnLine:function(t,n,i,r,o,a){var s,l;return e(i-t)<e(r-n)&&(l=t,t=n,n=l,l=i,i=r,r=l,l=o,o=a,a=l),!((s=(o-t)/(i-t))<0||s>1)&&e(n+s*(r-n)-a)<4},pointOnCubic:function(t,n,i,r,o,a,s,l,d,c){var u,h,f,g,p,m=this.bezierCoeffs(t,n,i,r),x=this.bezierCoeffs(o,a,s,l);for(m[3]-=d,x[3]-=c,f=this.cubicRoots(m),g=this.cubicRoots(x),u=0;u<f.length;u++)for(p=f[u],h=0;h<g.length;h++)if(p>=0&&p<=1&&e(p-g[h])<.05)return!0;return!1}}}),Ext.define("Ext.draw.overrides.hittest.All",{requires:["Ext.draw.PathUtil","Ext.draw.overrides.hittest.sprite.Instancing","Ext.draw.overrides.hittest.Surface"]}),Ext.define("Ext.chart.legend.SpriteLegend",{alias:"legend.sprite",type:"sprite",isLegend:!0,isSpriteLegend:!0,requires:["Ext.chart.legend.sprite.Item","Ext.chart.legend.sprite.Border","Ext.draw.overrides.hittest.All","Ext.draw.Animator"],config:{docked:"bottom",store:"ext-empty-store",chart:null,surface:null,size:{width:0,height:0},toggleable:!0,padding:10,label:{preciseMeasurement:!0},marker:{},border:{$value:{type:"legendborder"},lazy:!0},background:null},sprites:null,spriteZIndexes:{background:0,border:1,item:2},oldSize:{width:0,height:0},constructor:function(e){this.initConfig(e)},applyStore:function(e){return e&&Ext.StoreManager.lookup(e)},applyBorder:function(e){var t;return e&&(t=e.isSprite?e:Ext.create("sprite."+e.type,e)),t&&(t.isLegendBorder=!0,t.setAttributes({zIndex:this.spriteZIndexes.border})),t},updateBorder:function(e,t){var n=this.getSurface();this.borderSprite=null,n&&(t&&n.remove(t),e&&(this.borderSprite=n.add(e)))},scheduleLayout:function(){this.scheduledLayoutId||(this.scheduledLayoutId=Ext.draw.Animator.schedule("performLayout",this))},cancelLayout:function(){Ext.draw.Animator.cancel(this.scheduledLayoutId),this.scheduledLayoutId=null},performLayout:function(){var e,t,n=this,i=n.getSize(),r=n.getPadding(),o=n.getSprites(),a=n.getSurface(),s=n.getBackground(),l=a.getRect(),d=n.getStore(),c=o&&o.length||0,u=!0;if(!a||!l||!d)return!1;n.cancelLayout();var h,f,g,p,m,x,E,v,y,b,C,S,w,T,P=n.getDocked(),k=l[2],I=l[3],M=n.borderSprite,R=[];for(e=0;e<c;e++)S=(t=o[e]).getBBox(),R.push(S);switch(S&&(C=S.height),P){case"bottom":case"top":if(!k)return!1;g=0;do{for(x=0,m=0,p=0,g++,e=0;e<c;e++)(S=R[e]).width>m&&(m=S.width),(e+1)%g==0&&(x+=m,m=0,p++);e%g!=0&&(x+=m,p++),b=(v=x+(p-1)*r)+4*r}while(b>k);y=C*g+(g-1)*r;break;case"right":case"left":if(!I)return!1;g=2*c;do{for(g=(g>>1)+g%2,x=0,E=0,m=0,p=0,e=0;e<c;e++)S=R[e],p||(E+=S.height),S.width>m&&(m=S.width),(e+1)%g==0&&(x+=m,m=0,p++);e%g!=0&&(x+=m,p++),b=(v=x+(p-1)*r)+4*r,(y=E+(g-1)*r)+4*r}while(y>I)}for(h=(k-v)/2,f=(I-y)/2,w=0,T=0,m=0,e=0;e<c;e++)t=o[e],S=R[e],t.setAttributes({translationX:h+w,translationY:f+T}),S.width>m&&(m=S.width),(e+1)%g==0?(w+=m+r,T=0,m=0):T+=S.height+r;return M&&M.setAttributes({x:h-r,y:f-r,width:v+2*r,height:y+2*r}),i.width=M.attr.width+2*r,i.height=M.attr.height+2*r,i.width===n.oldSize.width&&i.height===n.oldSize.height||(Ext.apply(n.oldSize,i),u=!1,n.getChart().performLayout()),Ext.apply(n.oldSize,i),s&&n.resizeBackground(a,s),a.renderFrame(),u},getSprites:function(){return this.updateSprites(),this.sprites},createSprite:function(e,t){var n,i,r,o=t.data,a=this.getChart().get(o.series),s=a.getMarker(),l=null;return e&&(n=a.getMarkerStyleByIndex(o.index),Ext.apply(n,this.getMarker()),s&&s.type&&!n.type&&(n.type=s.type),i=this.getLabel(),r={type:"legenditem",zIndex:this.spriteZIndexes.item,text:o.name,enabled:!o.disabled,marker:n,label:i,series:o.series,record:t},l=e.add(r)),l},updateSprites:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getChart(),c=l.getStore(),u=l.getSurface();if(d&&c&&u){for(l.sprites=o=l.sprites||[],r=(t=c.getData().items).length,i=0;i<r;i++)e=t[i],(n=o[i])?l.updateSprite(n,e):(n=l.createSprite(u,e),u.add(n),o.push(n));for(a=Ext.Array.splice(o,i,o.length),i=0,r=a.length;i<r;i++)(n=a[i]).destroy();(s=l.getBorder())&&(l.borderSprite=s),l.updateTheme(d.getTheme())}},updateSprite:function(e,t){var n,i=t.data,r=this.getChart().get(i.series);e&&(e.getLabel().setAttributes({text:i.name}),e.setAttributes({enabled:!i.disabled}),e.setConfig({series:i.series,record:t}),n=r.getMarkerStyleByIndex(i.index),Ext.apply(n,this.getMarker()),e.getMarker().setAttributes({fillStyle:n.fillStyle,strokeStyle:n.strokeStyle}),e.layoutUpdater(e.attr))},updateChart:function(e,t){t&&this.setSurface(null),e&&this.setSurface(e.getSurface("legend"))},updateSurface:function(e,t){t&&t.el.un("click","onClick",this),e&&(e.isLegendSurface=!0,e.el.on("click","onClick",this))},onClick:function(e,t){var n,i,r=this.getChart();t=this.getSurface();r&&r.hasFirstLayout&&t&&(i=t.getEventXY(e),(n=t.hitTest(i))&&n.sprite&&this.toggleItem(n.sprite))},applyBackground:function(e,t){var n,i=this.getChart(),r=this.getSurface();return(n=i.refreshBackground(r,e,t))&&n.setAttributes({zIndex:this.spriteZIndexes.background}),n},resizeBackground:function(e,t){var n=t.attr.width,i=t.attr.height,r=e.getRect();!r||n===r[2]&&i===r[3]||t.setAttributes({width:r[2],height:r[3]})},themeableConfigs:{background:!0},updateTheme:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=h.getSurface().getItems(),g=e.getLegend(),p=h.getLabel(),m=h.self.getConfigurator().configs,x=h.themeableConfigs,E=h.getInitialConfig(),v=h.defaultConfig;for(c=0,u=f.length;c<u;c++)if((a=f[c]).isLegendItem){if(s=g.label){for(l in d=null,s)l in p||((d=d||{})[l]=s[l]);d&&a.getLabel().setAttributes(d)}}else if(a.isLegendBorder&&(s=g.border)){for(l in d={},s)l in a.config||(d[l]=s[l]);a.setAttributes(d)}for(l in t=g.background,n=m.background,g)if(l in x&&(t=g[l],n=m[l],null!==t&&void 0!==t&&n)){if(o=E[l],i=Ext.isObject(t),r=o===v[l],i){if(r&&themeOnlyIfConfigured[l])continue;t=Ext.merge({},t,o)}(r||i)&&h[n.names.set](t)}},updateStore:function(e,t){var n=this;t&&(t.un("datachanged",n.onDataChanged,n),t.un("update",n.onDataUpdate,n)),e&&!e.isEmptyStore&&(e.on("datachanged",n.onDataChanged,n),e.on("update",n.onDataUpdate,n),n.onDataChanged(e)),n.performLayout()},onDataChanged:function(e){this.updateSprites(),this.scheduleLayout()},onDataUpdate:function(e,t){for(var n,i,r=this.sprites,o=r.length,a=0;a<o;a++)if((n=r[a]).getRecord()===t){i=n;break}i&&(this.updateSprite(i,t),this.scheduleLayout())},toggleItem:function(e){if(this.getToggleable()&&e.isLegendItem){var t,n,i,r,o=this.getStore(),a=0,s=!0;if(o){for(i=o.getCount(),n=0;n<i;n++)(r=o.getAt(n)).get("disabled")&&a++;s=i-a>1,(r=e.getRecord())&&((t=r.get("disabled"))||s)&&(r.set("disabled",!t),e.setAttributes({enabled:t}))}}},destroy:function(){this.cancelLayout(),this.callParent()}}),Ext.define("Ext.chart.legend.store.Item",{extend:"Ext.data.Model",fields:["id","name","mark","disabled","series","index"]}),Ext.define("Ext.chart.legend.store.Store",{extend:"Ext.data.Store",requires:["Ext.chart.legend.store.Item"],model:"Ext.chart.legend.store.Item",isLegendStore:!0,config:{autoDestroy:!0}}),Ext.define("Ext.chart.AbstractChart",{extend:"Ext.draw.Container",requires:["Ext.chart.theme.Default","Ext.chart.series.Series","Ext.chart.interactions.Abstract","Ext.chart.axis.Axis","Ext.data.StoreManager","Ext.chart.legend.Legend","Ext.chart.legend.SpriteLegend","Ext.chart.legend.store.Store","Ext.data.Store"],isChart:!0,defaultBindProperty:"store",config:{store:"ext-empty-store",theme:"default",style:null,animation:!Ext.isIE8,series:[],axes:[],legend:null,colors:null,insetPadding:{top:10,left:10,right:10,bottom:10},background:null,interactions:[],mainRect:null,resizeHandler:null,highlightItem:null},animationSuspendCount:0,chartLayoutSuspendCount:0,axisThicknessSuspendCount:0,isThicknessChanged:!1,surfaceZIndexes:{background:0,main:1,grid:2,series:3,axis:4,chart:5,overlay:6,legend:7,title:8},constructor:function(e){var t=this;t.itemListeners={},t.surfaceMap={},t.chartComponents={},t.isInitializing=!0,t.suspendChartLayout(),t.animationSuspendCount++,t.callParent(arguments),t.isInitializing=!1,t.getSurface("main"),t.getSurface("chart").setFlipRtlText(t.getInherited().rtl),t.getSurface("overlay").waitFor(t.getSurface("series")),t.animationSuspendCount--,t.resumeChartLayout()},applyAnimation:function(e,t){return e?!0===e&&(e={easing:"easeInOut",duration:500}):e={duration:0},t?Ext.apply({},e,t):e},getAnimation:function(){return this.animationSuspendCount?{duration:0}:this.callParent()},applyInsetPadding:function(e,t){return Ext.isObject(e)?t?Ext.apply(t,e):e:Ext.util.Format.parseBox(e)},suspendAnimation:function(){var e,t=this.getSeries(),n=t.length,i=-1;if(this.animationSuspendCount++,1===this.animationSuspendCount)for(;++i<n;)(e=t[i]).setAnimation(e.getAnimation())},resumeAnimation:function(){var e,t,n=this.getSeries(),i=n.length,r=-1;if(this.animationSuspendCount--,0===this.animationSuspendCount)for(;++r<i;)t=(e=n[r]).getAnimation(),e.setAnimation(t.duration&&t||this.getAnimation())},suspendChartLayout:function(){var e=this;e.chartLayoutSuspendCount++,1===e.chartLayoutSuspendCount&&(e.scheduledLayoutId?(e.layoutInSuspension=!0,e.cancelChartLayout()):e.layoutInSuspension=!1)},resumeChartLayout:function(){this.chartLayoutSuspendCount--,0===this.chartLayoutSuspendCount&&this.layoutInSuspension&&this.scheduleLayout()},cancelChartLayout:function(){this.scheduledLayoutId&&(Ext.draw.Animator.cancel(this.scheduledLayoutId),this.scheduledLayoutId=null)},scheduleLayout:function(){this.allowSchedule()&&!this.scheduledLayoutId&&(this.scheduledLayoutId=Ext.draw.Animator.schedule("doScheduleLayout",this))},allowSchedule:function(){return!0},doScheduleLayout:function(){this.chartLayoutSuspendCount?this.layoutInSuspension=!0:this.performLayout(),this.scheduledLayoutId=null},suspendThicknessChanged:function(){this.axisThicknessSuspendCount++},resumeThicknessChanged:function(){this.axisThicknessSuspendCount>0&&(this.axisThicknessSuspendCount--,0===this.axisThicknessSuspendCount&&this.isThicknessChanged&&this.onThicknessChanged())},onThicknessChanged:function(){0===this.axisThicknessSuspendCount?(this.isThicknessChanged=!1,this.performLayout()):this.isThicknessChanged=!0},applySprites:function(e){var t=this.getSurface("chart");return e=Ext.Array.from(e),t.removeAll(!0),t.add(e),e},initItems:function(){var e,t,n,i=this.items;if(i&&!i.isMixedCollection)for(this.items=[],e=0,t=(i=Ext.Array.from(i)).length;e<t;e++)(n=i[e]).type?Ext.raise("To add custom sprites to the chart use the 'sprites' config."):this.items.push(n);this.callParent()},applyBackground:function(e,t){var n=this.getSurface("background");return this.refreshBackground(n,e,t)},refreshBackground:function(e,t,n){var i,r,o;return t&&(n&&(i=n.attr.width,r=n.attr.height,o=n.type===(t.type||"rect")),t.isSprite?n=t:"image"===t.type&&Ext.isString(t.src)?o?n.setAttributes({src:t.src}):(e.remove(n,!0),n=e.add(t)):o?n.setAttributes({fillStyle:t}):(e.remove(n,!0),n=e.add({type:"rect",fillStyle:t,fx:{customDurations:{x:0,y:0,width:0,height:0}}}))),i&&r&&n.setAttributes({width:i,height:r}),n.setAnimation(this.getAnimation()),n},getLegendStore:function(){return this.legendStore},refreshLegendStore:function(){var e,t=this.getLegendStore();if(t){for(var n=this.getSeries(),i=n.length,r=[],o=0;o<i;o++)(e=n[o]).getShowInLegend()&&e.provideLegendInfo(r);t.setData(r)}},onUpdateLegendStore:function(e,t){var n,i=this.getSeries();t&&i&&(n=i.map[t.get("series")])&&(n.setHiddenByIndex(t.get("index"),t.get("disabled")),this.redraw())},defaultResizeHandler:function(e){return this.scheduleLayout(),!1},applyMainRect:function(e,t){return t?(this.getSeries(),this.getAxes(),e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]?t:e):e},register:function(e){var t=this.chartComponents,n=e.getId();void 0===n&&Ext.raise("Chart component id is undefined. Please ensure the component has an id."),n in t&&Ext.raise('Registering duplicate chart component id "'+n+'"'),t[n]=e},unregister:function(e){delete this.chartComponents[e.getId()]},get:function(e){return this.chartComponents[e]},getAxis:function(e){return e instanceof Ext.chart.axis.Axis?e:Ext.isNumber(e)?this.getAxes()[e]:Ext.isString(e)?this.get(e):void 0},getSurface:function(e,t){e=e||"main",t=t||e;var n=this.callParent([e]),i=this.surfaceZIndexes,r=this.surfaceMap;return t in i&&n.element.setStyle("zIndex",i[t]),r[t]||(r[t]=[]),Ext.Array.indexOf(r[t],n)<0&&(n.type=t,r[t].push(n),n.on("destroy",this.forgetSurface,this)),n},forgetSurface:function(e){var t=this.surfaceMap;if(t&&!this.isDestroying){var n=t[e.type],i=n?Ext.Array.indexOf(n,e):-1;i>=0&&n.splice(i,1)}},applyAxes:function(e,t){var n,i,r,o,a,s,l,d=this,c={left:"right",right:"left"},u=[];for(d.animationSuspendCount++,d.getStore(),t||((t=[]).map={}),l=t.map,u.map={},a=0,s=(e=Ext.Array.from(e,!0)).length;a<s;a++)(n=e[a])&&(n instanceof Ext.chart.axis.Axis?(i=l[n.getId()],n.setChart(d)):(r=(n=Ext.Object.chain(n)).linkedTo,o=n.id,Ext.isNumber(r)?n=Ext.merge({},e[r],n):Ext.isString(r)&&Ext.Array.each(e,function(e){if(e.id===n.linkedTo)return n=Ext.merge({},e,n),!1}),n.id=o,n.chart=d,d.getInherited().rtl&&(n.position=c[n.position]||n.position),o=n.getId&&n.getId()||n.id,n=Ext.factory(n,null,i=l[o],"axis")),n&&(u.push(n),u.map[n.getId()]=n,i||(n.on("animationstart","onAnimationStart",d),n.on("animationend","onAnimationEnd",d))));for(a in l)u.map[a]||l[a].destroy();return d.animationSuspendCount--,u},updateAxes:function(){this.isDestroying||this.scheduleLayout()},circularCopyArray:function(e,t,n){var i,r=[],o=e&&e.length;if(o)for(i=0;i<n;i++)r.push(e[(t+i)%o]);return r},circularCopyObject:function(e,t,n){var i,r,o={};if(n)for(i in e)e.hasOwnProperty(i)&&(r=e[i],Ext.isArray(r)?o[i]=this.circularCopyArray(r,t,n):o[i]=r);return o},getColors:function(){var e=this.config.colors,t=this.getTheme();return Ext.isArray(e)&&e.length>0&&(e=this.applyColors(e)),e||t&&t.getColors()},applyColors:function(e){return e=Ext.Array.map(e,function(e){return Ext.isString(e)?e:e.toString()})},updateColors:function(e){var t,n,i,r,o=this.getTheme(),a=e||o&&o.getColors(),s=0,l=this.getSeries(),d=l&&l.length;if(a.length)for(t=0;t<d;t++)r=(n=l[t]).themeColorCount(),i=this.circularCopyArray(a,s,r),s+=r,n.updateChartColors(i);this.refreshLegendStore()},applyTheme:function(e){return e&&e.isTheme?e:Ext.Factory.chartTheme(e)},updateGradients:function(e){Ext.isEmpty(e)||this.updateTheme(this.getTheme())},updateTheme:function(e){var t,n=this,i=n.getAxes(),r=n.getSeries(),o=n.getColors();for(n.updateChartTheme(e),t=0;t<i.length;t++)i[t].updateTheme(e);for(t=0;t<r.length;t++)r[t].updateTheme(e);n.updateSpriteTheme(e),n.updateColors(o),n.redraw()},themeOnlyIfConfigured:{},updateChartTheme:function(e){var t,n,i,r,o,a,s=this,l=e.getChart(),d=s.getInitialConfig(),c=s.defaultConfig,u=s.self.getConfigurator().configs,h=l.defaults,f=l[s.xtype],g=s.themeOnlyIfConfigured;for(t in l=Ext.merge({},h,f))if(n=l[t],a=u[t],null!==n&&void 0!==n&&a){if(o=d[t],i=Ext.isObject(n),r=o===c[t],i){if(r&&g[t])continue;n=Ext.merge({},n,o)}(r||i)&&s[a.names.set](n)}},updateSpriteTheme:function(e){this.getSprites();var t,n,i,r,o,a,s,l=this.getSurface("chart").getItems(),d=e.getSprites();for(a=0,s=l.length;a<s;a++)if(n=d[(t=l[a]).type]){for(i in r={},o="text"===t.type,n)i in t.config||o&&0===i.indexOf("font")&&t.config.font||(r[i]=n[i]);t.setAttributes(r)}},addSeries:function(e){var t=this.getSeries();Ext.Array.push(t,e),this.setSeries(t)},removeSeries:function(e){e=Ext.Array.from(e);var t,n,i=this.getSeries(),r=[],o=e.length,a={};for(t=0;t<o;t++)"string"!=typeof(n=e[t])&&(n=n.getId()),a[n]=!0;for(t=0,o=i.length;t<o;t++)a[i[t].getId()]||r.push(i[t]);this.setSeries(r)},applySeries:function(e,t){var n,i,r,o,a,s=this,l=[];for(s.animationSuspendCount++,s.getAxes(),n=t?t.map:(t=[]).map={},l.map={},r=0,o=(e=Ext.Array.from(e,!0)).length;r<o;r++)(a=e[r])&&(i=n[a.getId&&a.getId()||a.id],a instanceof Ext.chart.series.Series?(i&&i!==a&&i.destroy(),a.setChart(s)):Ext.isObject(a)&&(i?(i.setConfig(a),a=i):(Ext.isString(a)&&(a={type:a}),a.chart=s,(a=Ext.create(a.xclass||"series."+a.type,a)).on("animationstart","onAnimationStart",s),a.on("animationend","onAnimationEnd",s))),l.push(a),l.map[a.getId()]=a);for(r in n)l.map[n[r].id]||n[r].destroy();return s.animationSuspendCount--,l},defaultLegendType:"dom",applyLegend:function(e){var t,n;return e?(Ext.isBoolean(e)?t=Ext.create("legend."+this.defaultLegendType,{docked:"bottom",chart:this}):(e.docked=e.docked||"bottom",e.chart=this,n="legend."+(e.type||this.defaultLegendType),t=Ext.create(n,e)),t):null},updateLegend:function(e,t){var n=this;t&&t.destroy(),e&&(n.getSurface("legend"),n.getItems(),n.legendStore=new Ext.chart.legend.store.Store({chart:n,store:n.legendStore}),n.refreshLegendStore(),n.legendStore.on("update","onUpdateLegendStore",n),e.setStore(n.legendStore))},updateSeries:function(e,t){var n=this;n.isDestroying||(n.animationSuspendCount++,n.fireEvent("serieschange",n,e,t),n.refreshLegendStore(),Ext.isEmpty(e)||n.updateTheme(n.getTheme()),n.scheduleLayout(),n.animationSuspendCount--)},applyInteractions:function(e,t){t||((t=[]).map={});var n,i,r,o=[],a=t.map;for(o.map={},n=0,i=(e=Ext.Array.from(e,!0)).length;n<i;n++)(r=e[n])&&(r=Ext.factory(r,null,a[r.getId&&r.getId()||r.id],"interaction"))&&(r.setChart(this),o.push(r),o.map[r.getId()]=r);for(n in a)o.map[n]||a[n].destroy();return o},getInteraction:function(e){var t,n,i=this.getInteractions(),r=i&&i.length,o=null;if(r)for(n=0;n<r;++n)if((t=i[n]).type===e){o=t;break}return o},applyStore:function(e){return e&&Ext.StoreManager.lookup(e)},updateStore:function(e,t){var n=this;t&&!t.destroyed&&(t.un({datachanged:"onDataChanged",update:"onDataChanged",scope:n,order:"after"}),t.autoDestroy&&t.destroy()),e&&e.on({datachanged:"onDataChanged",update:"onDataChanged",scope:n,order:"after"}),n.fireEvent("storechange",n,e,t),n.onDataChanged()},redraw:function(){this.fireEvent("redraw",this)},performLayout:function(){var e=this,t=e.getLegend(),n=e.getChartRect(!0),i=e.getBackground(),r=!0;return e.hasFirstLayout=!0,e.fireEvent("layout",e),e.cancelChartLayout(),e.getSurface("background").setRect(n),e.getSurface("chart").setRect(n),t&&t.isSpriteLegend&&(e.getSurface("legend").setRect(e.spriteLegendRect),r=t.performLayout()),i.setAttributes({width:n[2],height:n[3]}),r},getChartRect:function(e){var t,n,i=this;return e&&(i.chartRect=null),i.chartRect?t=i.chartRect:(n=i.innerElement.getSize(),t=i.chartRect=[0,0,n.width,n.height]),e&&i.computeSpriteLegendRect(t),t},computeSpriteLegendRect:function(e){var t=this.getLegend();if(t&&t.isSpriteLegend){var n=t.getSize(),i=n.height,r=n.width,o=[0,0,0,0];switch(t.getDocked()){case"top":e[1]=i,o[2]=e[2],o[3]=i;break;case"bottom":e[3]-=i,o[1]=e[3],o[2]=e[2],o[3]=i;break;case"left":e[0]=r,o[2]=r,o[3]=e[3];break;case"right":e[2]-=r,o[0]=e[2],o[2]=r,o[3]=e[3]}this.spriteLegendRect=o}},getEventXY:function(e){return this.getSurface().getEventXY(e)},getItemForPoint:function(e,t){var n,i=this.getSeries(),r=this.getMainRect(),o=i.length,a=this.hasFirstLayout?o-1:-1;if(!(r&&e>=0&&e<=r[2]&&t>=0&&t<=r[3]))return null;for(;a>=0;a--)if(n=i[a].getItemForPoint(e,t))return n;return null},getItemsForPoint:function(e,t){for(var n,i=this.getSeries(),r=i.length,o=this.hasFirstLayout?r-1:-1,a=[];o>=0;o--)(n=i[o].getItemForPoint(e,t))&&a.push(n);return a},onAnimationStart:function(){this.fireEvent("animationstart",this)},onAnimationEnd:function(){this.fireEvent("animationend",this)},onDataChanged:function(){var e=this;if(!e.isInitializing){var t=e.getMainRect(),n=e.getStore(),i=e.getSeries(),r=e.getAxes();n&&r&&i&&(t?(e.processData(),e.redraw()):e.on({redraw:e.onDataChanged,scope:e,single:!0}))}},recordCount:0,processData:function(){for(var e,t=this,n=t.getStore().getCount(),i=t.getSeries(),r=i.length,o=!1,a=0;a<r;a++)(e=i[a]).processData(),!o&&e.isStoreDependantColorCount&&(o=!0);o&&n>t.recordCount&&(t.updateColors(t.getColors()),t.recordCount=n)},bindStore:function(e){this.setStore(e)},applyHighlightItem:function(e,t){if(e!==t){if(Ext.isObject(e)&&Ext.isObject(t)){var n=e,i=t;if((n.sprite&&(n.sprite[0]||n.sprite))===(i.sprite&&(i.sprite[0]||i.sprite))&&n.index===i.index)return}return e}},updateHighlightItem:function(e,t){t&&t.series.setAttributesForItem(t,{highlighted:!1}),e&&(e.series.setAttributesForItem(e,{highlighted:!0}),this.fireEvent("itemhighlight",this,e,t)),this.fireEvent("itemhighlightchange",this,e,t)},destroyChart:function(){var e,t,n=this,i=n.getLegend(),r=n.getAxes(),o=n.getSeries(),a=n.getInteractions(),s=[];for(n.surfaceMap=null,e=0,t=a.length;e<t;e++)a[e].destroy();for(e=0,t=r.length;e<t;e++)r[e].destroy();for(e=0,t=o.length;e<t;e++)o[e].destroy();n.setInteractions(s),n.setAxes(s),n.setSeries(s),i&&(i.destroy(),n.setLegend(null)),n.legendStore=null,n.setStore(null),n.cancelChartLayout()},getRefItems:function(e){var t,n,i=this.getSeries(),r=this.getAxes(),o=this.getInteractions(),a=[];for(t=0,n=i.length;t<n;t++)a.push(i[t]),i[t].getRefItems&&a.push.apply(a,i[t].getRefItems(e));for(t=0,n=r.length;t<n;t++)a.push(r[t]),r[t].getRefItems&&a.push.apply(a,r[t].getRefItems(e));for(t=0,n=o.length;t<n;t++)a.push(o[t]),o[t].getRefItems&&a.push.apply(a,o[t].getRefItems(e));return a}}),Ext.define("Ext.chart.overrides.AbstractChart",{override:"Ext.chart.AbstractChart",updateLegend:function(e,t){this.callParent([e,t]),e&&e.isDomLegend&&this.addDocked(e)},performLayout:function(){return this.isVisible(!0)?this.callParent():(this.cancelChartLayout(),!1)},afterComponentLayout:function(e,t,n,i){this.callParent([e,t,n,i]),this.scheduleLayout()},allowSchedule:function(){return this.rendered},doDestroy:function(){this.destroyChart(),this.callParent()}}),Ext.define("Ext.chart.grid.HorizontalGrid",{extend:"Ext.draw.sprite.Sprite",alias:"grid.horizontal",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(e,t,n){var i=this.attr,r=e.roundPixel(i.y),o=.5*t.lineWidth;t.beginPath(),t.rect(n[0]-e.matrix.getDX(),r+o,+n[2],i.height),t.fill(),t.beginPath(),t.moveTo(n[0]-e.matrix.getDX(),r+o),t.lineTo(n[0]+n[2]-e.matrix.getDX(),r+o),t.stroke()}}),Ext.define("Ext.chart.grid.VerticalGrid",{extend:"Ext.draw.sprite.Sprite",alias:"grid.vertical",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(e,t,n){var i=this.attr,r=e.roundPixel(i.x),o=.5*t.lineWidth;t.beginPath(),t.rect(r-o,n[1]-e.matrix.getDY(),i.width,n[3]),t.fill(),t.beginPath(),t.moveTo(r-o,n[1]-e.matrix.getDY()),t.lineTo(r-o,n[1]+n[3]-e.matrix.getDY()),t.stroke()}}),Ext.define("Ext.chart.CartesianChart",{extend:"Ext.chart.AbstractChart",alternateClassName:"Ext.chart.Chart",requires:["Ext.chart.grid.HorizontalGrid","Ext.chart.grid.VerticalGrid"],xtype:["cartesian","chart"],isCartesian:!0,config:{flipXY:!1,innerRect:[0,0,1,1],innerPadding:{top:0,left:0,right:0,bottom:0}},applyInnerPadding:function(e,t){return Ext.isObject(e)?t?Ext.apply(t,e):e:Ext.util.Format.parseBox(e)},getDirectionForAxis:function(e){var t=this.getFlipXY();return"left"===e||"right"===e?t?"X":"Y":t?"Y":"X"},performLayout:function(){var e=this;if(e.animationSuspendCount++,!1!==e.callParent()){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=e.getSurface("chart").getRect(),x=m[2],E=m[3],v=e.getAxes(),y=e.getSeries(),b=e.getInsetPadding(),C=e.getInnerPadding(),S=Ext.apply({},b),w=e.getInherited().rtl,T=e.getFlipXY();if(!(x<=0||E<=0)){for(e.suspendThicknessChanged(),S.left+=m[0],S.top+=m[1],g=0;g<v.length;g++){switch(i=(t=v[g]).getSurface(),h=(u=t.getFloating())?u.value:null,r=t.getThickness(),t.getPosition()){case"top":i.setRect([0,S.top+1,x,r]);break;case"bottom":i.setRect([0,E-(S.bottom+r),x,r]);break;case"left":i.setRect([S.left,0,r,E]);break;case"right":i.setRect([x-(S.right+r),0,r,E])}null===h&&(S[t.getPosition()]+=r)}if(x-=S.left+S.right,E-=S.top+S.bottom,s=[S.left,S.top,x,E],S.left+=C.left,S.top+=C.top,S.right+=C.right,S.bottom+=C.bottom,l=x-C.left-C.right,d=E-C.top-C.bottom,e.setInnerRect([S.left,S.top,l,d]),!(l<=0||d<=0)){for(e.setMainRect(s),e.getSurface().setRect(s),g=0,p=e.surfaceMap.grid&&e.surfaceMap.grid.length;g<p;g++)(a=e.surfaceMap.grid[g]).setRect(s),a.matrix.set(1,0,0,1,C.left,C.top),a.matrix.inverse(a.inverseMatrix);for(g=0;g<v.length;g++){switch(c=(f=(i=(t=v[g]).getSurface()).matrix).elements,t.getPosition()){case"top":case"bottom":c[4]=S.left,t.setLength(l);break;case"left":case"right":c[5]=S.top,t.setLength(d)}t.updateTitleSprite(),f.inverse(i.inverseMatrix)}for(g=0,p=y.length;g<p;g++)(o=(n=y[g]).getSurface()).setRect(s),T?w?o.matrix.set(0,-1,-1,0,C.left+l,C.top+d):o.matrix.set(0,-1,1,0,C.left,C.top+d):o.matrix.set(1,0,0,-1,C.left,C.top+d),o.matrix.inverse(o.inverseMatrix),n.getOverlaySurface().setRect(s);e.redraw(),e.animationSuspendCount--,e.resumeThicknessChanged()}}}else--e.animationSuspendCount},refloatAxes:function(){var e,t,n,i,r,o,a,s,l,d=this,c=d.getAxes(),u=c&&c.length||0,h=d.getChartRect(),f=d.getInsetPadding(),g=d.getInnerPadding(),p=h[2]-f.left-f.right,m=h[3]-f.top-f.bottom;for(l=0;l<u;l++)if(null!==(r=(i=(e=c[l]).getFloating())?i.value:null)){if(n=(t=e.getSurface()).getRect()){switch(n=n.slice(),(o=d.getAxis(i.alongAxis))?(s="horizontal"===o.getAlignment(),Ext.isString(r)&&(r=o.getCoordFor(r)),o.floatingAxes[e.getId()]=r,a=o.getSprites()[0].attr.matrix,s?(r=r*a.getXX()+a.getDX(),e.floatingAtCoord=r+g.left+g.right):(r=r*a.getYY()+a.getDY(),e.floatingAtCoord=r+g.top+g.bottom)):(s="horizontal"===e.getAlignment(),e.floatingAtCoord=s?r+g.top+g.bottom:r+g.left+g.right,r=t.roundPixel(.01*r*(s?m:p))),e.getPosition()){case"top":n[1]=f.top+g.top+r-n[3]+1;break;case"bottom":n[1]=f.top+g.top+(o?r:m-r);break;case"left":n[0]=f.left+g.left+r-n[2];break;case"right":n[0]=f.left+g.left+(o?r:p-r)-1}t.setRect(n)}}else e.floatingAtCoord=null},redraw:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E,v,y=this,b=y.getSeries(),C=y.getAxes(),S=y.getMainRect(),w=y.getInnerPadding(),T=y.getFlipXY();if(S){for(e=S[2]-w.left-w.right,t=S[3]-w.top-w.bottom,s=0;s<b.length;s++)for((u=(x=b[s]).getXAxis())?(g=u.getVisibleRange(),i=[(i=u.getRange())[0]+(i[1]-i[0])*g[0],i[0]+(i[1]-i[0])*g[1]]):i=x.getXRange(),(h=x.getYAxis())?(g=h.getVisibleRange(),r=[(r=h.getRange())[0]+(r[1]-r[0])*g[0],r[0]+(r[1]-r[0])*g[1]]):r=x.getYRange(),a={visibleMinX:i[0],visibleMaxX:i[1],visibleMinY:r[0],visibleMaxY:r[1],innerWidth:e,innerHeight:t,flipXY:T},l=0,d=(n=x.getSprites()).length;l<d;l++)(p=(E=n[l]).attr.zIndex)<1e3&&(p+=100*(s+1)+1e3,E.attr.zIndex=p,(v=E.getMarker("items"))&&((m=v.attr.zIndex)===Number.MAX_VALUE?v.attr.zIndex=p:m<1e3&&(v.attr.zIndex=p+m))),E.setAttributes(a,!0);for(s=0;s<C.length;s++)for(o=(c=C[s]).isSide(),n=c.getSprites(),f=c.getRange(),g=c.getVisibleRange(),a={dataMin:f[0],dataMax:f[1],visibleMin:g[0],visibleMax:g[1]},o?(a.length=t,a.startGap=w.bottom,a.endGap=w.top):(a.length=e,a.startGap=w.left,a.endGap=w.right),l=0,d=n.length;l<d;l++)n[l].setAttributes(a,!0);y.renderFrame(),y.callParent(arguments)}},renderFrame:function(){this.refloatAxes(),this.callParent()}}),Ext.define("Ext.chart.grid.CircularGrid",{extend:"Ext.draw.sprite.Circle",alias:"grid.circular",inheritableStatics:{def:{defaults:{r:1,strokeStyle:"#DDD"}}}}),Ext.define("Ext.chart.grid.RadialGrid",{extend:"Ext.draw.sprite.Path",alias:"grid.radial",inheritableStatics:{def:{processors:{startRadius:"number",endRadius:"number"},defaults:{startRadius:0,endRadius:1,scalingCenterX:0,scalingCenterY:0,strokeStyle:"#DDD"},triggers:{startRadius:"path,bbox",endRadius:"path,bbox"}}},render:function(){this.callParent(arguments)},updatePath:function(e,t){var n=t.startRadius,i=t.endRadius;e.moveTo(n,0),e.lineTo(i,0)}}),Ext.define("Ext.chart.PolarChart",{extend:"Ext.chart.AbstractChart",requires:["Ext.chart.grid.CircularGrid","Ext.chart.grid.RadialGrid"],xtype:"polar",isPolar:!0,config:{center:[0,0],radius:0,innerPadding:0},getDirectionForAxis:function(e){return"radial"===e?"Y":"X"},applyCenter:function(e,t){if(!t||e[0]!==t[0]||e[1]!==t[1])return[+e[0],+e[1]]},updateCenter:function(e){var t,n,i=this.getAxes(),r=this.getSeries();for(t=0,n=i.length;t<n;t++)i[t].setCenter(e);for(t=0,n=r.length;t<n;t++)r[t].setCenter(e)},applyInnerPadding:function(e,t){return Ext.isNumber(e)?e:t},doSetSurfaceRect:function(e,t){var n=this.getMainRect();e.setRect(t),e.matrix.set(1,0,0,1,n[0]-t[0],n[1]-t[1]),e.inverseMatrix.set(1,0,0,1,t[0]-n[0],t[1]-n[1])},applyAxes:function(e,t){var n,i,r,o=Ext.Array.from(this.config.series)[0];if("radar"===o.type&&e&&e.length){for(n=0,i=e.length;n<i;n++)if("angular"===e[n].position){r=!0;break}r||e.push({type:"category",position:"angular",fields:o.xField||o.angleField,style:{estStepSize:1},grid:!0})}return this.callParent([e,t])},performLayout:function(){var e=this,t=!0;try{if(e.animationSuspendCount++,!1===this.callParent())return void(t=!1);e.suspendThicknessChanged();var n,i,r,o,a,s,l,d,c,u,h,f=e.getSurface("chart").getRect(),g=e.getInsetPadding(),p=e.getInnerPadding(),m=Ext.apply({},g),x=Math.max(1,f[2]-f[0]-g.left-g.right),E=Math.max(1,f[3]-f[1]-g.top-g.bottom),v=[g.left,g.top,x+f[0],E+f[1]],y=e.getSeries(),b=x-2*p,C=E-2*p,S=[f[0]+.5*b+p,f[1]+.5*C+p],w=.5*Math.min(b,C),T=e.getAxes(),P=[],k=[],I=w-p,M=e.surfaceMap.grid;if(e.setMainRect(v),e.doSetSurfaceRect(e.getSurface(),v),M)for(n=0,i=M.length;n<i;n++)e.doSetSurfaceRect(M[n],f);for(n=0,i=T.length;n<i;n++)switch((c=T[n]).getPosition()){case"angular":P.push(c);break;case"radial":k.push(c)}for(n=0,i=P.length;n<i;n++){for(l in(o=(c=P[n]).getFloating())?o.value:null,e.doSetSurfaceRect(c.getSurface(),f),u=c.getThickness(),m)m[l]+=u;for(l in x=f[2]-m.left-m.right,E=f[3]-m.top-m.bottom,r=.5*Math.min(x,E),0===n&&(I=r-p),c.setMinimum(0),c.setLength(r),c.getSprites(),h=.5*c.sprites[0].attr.lineWidth,m)m[l]+=h}for(n=0,i=k.length;n<i;n++)c=k[n],e.doSetSurfaceRect(c.getSurface(),f),c.setMinimum(0),c.setLength(I),c.getSprites();for(n=0,i=y.length;n<i;n++)"gauge"!==(d=y[n]).type||a?d.setRadius(I):a=d,e.doSetSurfaceRect(d.getSurface(),v);e.doSetSurfaceRect(e.getSurface("overlay"),f),a?(a.setRect(v),s=a.getRadius()-p,e.setRadius(s),e.setCenter(a.getCenter()),a.setRadius(s),T.length&&"gauge"===T[0].getPosition()&&(c=T[0],e.doSetSurfaceRect(c.getSurface(),f),c.setTotalAngle(a.getTotalAngle()),c.setLength(s))):(e.setRadius(w),e.setCenter(S)),e.redraw()}finally{e.animationSuspendCount--,t&&e.resumeThicknessChanged()}},refloatAxes:function(){var e,t,n,i,r,o,a,s=this.getAxes(),l=this.getMainRect();if(l)for(a=.5*Math.min(l[2],l[3]),i=0,r=s.length;i<r;i++)null!==(t=(e=(o=s[i]).getFloating())?e.value:null)&&(n=this.getAxis(e.alongAxis),"angular"===o.getPosition()?(t=n?n.getLength()*t/n.getRange()[1]:.01*t*a,o.sprites[0].setAttributes({length:t},!0)):(n?(Ext.isString(t)&&(t=n.getCoordFor(t)),t=t/(n.getRange()[1]+1)*Math.PI*2-1.5*Math.PI+o.getRotation()):t=Ext.draw.Draw.rad(t),o.sprites[0].setAttributes({baseRotation:t},!0)))},redraw:function(){var e,t,n=this.getAxes(),i=this.getSeries();for(e=0,t=n.length;e<t;e++)n[e].getSprites();for(e=0,t=i.length;e<t;e++)i[e].getSprites();this.renderFrame(),this.callParent()},renderFrame:function(){this.refloatAxes(),this.callParent()}}),Ext.define("Ext.chart.SpaceFillingChart",{extend:"Ext.chart.AbstractChart",xtype:"spacefilling",config:{},performLayout:function(){var e=this;try{if(e.animationSuspendCount++,!1===e.callParent())return;var t,n,i,r=e.getSurface("chart").getRect(),o=e.getInsetPadding(),a=r[2]-o.left-o.right,s=r[3]-o.top-o.bottom,l=[o.left,o.top,a,s],d=e.getSeries();for(e.getSurface().setRect(l),e.setMainRect(l),n=0,i=d.length;n<i;n++)(t=d[n]).getSurface().setRect(l),t.setRect&&t.setRect(l),t.getOverlaySurface().setRect(r);e.redraw()}finally{e.animationSuspendCount--}},redraw:function(){var e,t,n=this.getSeries();for(e=0,t=n.length;e<t;e++)n[e].getSprites();this.renderFrame(),this.callParent()}}),Ext.define("Ext.chart.axis.sprite.Axis3D",{extend:"Ext.chart.axis.sprite.Axis",alias:"sprite.axis3d",type:"axis3d",inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0},triggers:{depth:"layout"}}},config:{fx:{customDurations:{depth:0}}},layoutUpdater:function(){var e=this,t=e.getAxis().getChart();if(!t.isInitializing){var n=e.attr,i=e.getLayout(),r=i.isDiscrete?0:n.depth,o=t.getInherited().rtl,a=n.dataMin+(n.dataMax-n.dataMin)*n.visibleMin,s=n.dataMin+(n.dataMax-n.dataMin)*n.visibleMax,l={attr:n,segmenter:e.getSegmenter(),renderer:e.defaultRenderer};"left"===n.position||"right"===n.position?(n.translationX=0,n.translationY=s*(n.length-r)/(s-a)+r,n.scalingX=1,n.scalingY=(-n.length+r)/(s-a),n.scalingCenterY=0,n.scalingCenterX=0,e.applyTransformations(!0)):"top"!==n.position&&"bottom"!==n.position||(n.translationX=o?n.length+a*n.length/(s-a)+1:-a*n.length/(s-a),n.translationY=0,n.scalingX=(o?-1:1)*(n.length-r)/(s-a),n.scalingY=1,n.scalingCenterY=0,n.scalingCenterX=0,e.applyTransformations(!0)),i&&(i.calculateLayout(l),e.setLayoutContext(l))}},renderAxisLine:function(e,t,n,i){var r,o,a=this.attr,s=.5*a.lineWidth,l=this.getLayout().isDiscrete?0:a.depth,d=a.position;if(a.axisLine&&a.length)switch(d){case"left":r=e.roundPixel(i[2])-s,t.moveTo(r,-a.endGap+l),t.lineTo(r,a.length+a.startGap);break;case"right":t.moveTo(s,-a.endGap),t.lineTo(s,a.length+a.startGap);break;case"bottom":t.moveTo(-a.startGap,s),t.lineTo(a.length-l+a.endGap,s);break;case"top":r=e.roundPixel(i[3])-s,t.moveTo(-a.startGap,r),t.lineTo(a.length+a.endGap,r);break;case"angular":t.moveTo(a.centerX+a.length,a.centerY),t.arc(a.centerX,a.centerY,a.length,0,2*Math.PI,!0);break;case"gauge":o=this.getGaugeAngles(),t.moveTo(a.centerX+Math.cos(o.start)*a.length,a.centerY+Math.sin(o.start)*a.length),t.arc(a.centerX,a.centerY,a.length,o.start,o.end,!0)}}}),Ext.define("Ext.chart.axis.Axis3D",{extend:"Ext.chart.axis.Axis",xtype:"axis3d",requires:["Ext.chart.axis.sprite.Axis3D"],config:{depth:0},onSeriesChange:function(e){var t,n=this,i="depthchange",r="onSeriesDepthChange";function o(e){var o=n.boundSeries;for(t=0;t<o.length;t++)o[t][e](i,r,n)}o("un"),n.callParent(arguments),o("on")},onSeriesDepthChange:function(e,t){var n,i,r=t,o=this.boundSeries;if(t>this.getDepth())r=t;else for(n=0;n<o.length;n++)(i=o[n])!==e&&i.getDepth&&(t=i.getDepth())>r&&(r=t);this.setDepth(r)},updateDepth:function(e){var t=this,n=t.getSprites(),i={depth:e};n&&n.length&&n[0].setAttributes(i),t.gridSpriteEven&&t.gridSpriteOdd&&(t.gridSpriteEven.getTemplate().setAttributes(i),t.gridSpriteOdd.getTemplate().setAttributes(i))},getGridAlignment:function(){switch(this.getPosition()){case"left":case"right":return"horizontal3d";case"top":case"bottom":return"vertical3d"}}}),Ext.define("Ext.chart.axis.Category",{requires:["Ext.chart.axis.layout.CombineDuplicate","Ext.chart.axis.segmenter.Names"],extend:"Ext.chart.axis.Axis",alias:"axis.category",type:"category",config:{layout:"combineDuplicate",segmenter:"names"}}),Ext.define("Ext.chart.axis.Category3D",{requires:["Ext.chart.axis.layout.CombineDuplicate","Ext.chart.axis.segmenter.Names"],extend:"Ext.chart.axis.Axis3D",alias:"axis.category3d",type:"category3d",config:{layout:"combineDuplicate",segmenter:"names"}}),Ext.define("Ext.chart.axis.Numeric",{extend:"Ext.chart.axis.Axis",type:"numeric",alias:["axis.numeric","axis.radial"],requires:["Ext.chart.axis.layout.Continuous","Ext.chart.axis.segmenter.Numeric"],config:{layout:"continuous",segmenter:"numeric",aggregator:"double"}}),Ext.define("Ext.chart.axis.Numeric3D",{extend:"Ext.chart.axis.Axis3D",alias:["axis.numeric3d"],type:"numeric3d",requires:["Ext.chart.axis.layout.Continuous","Ext.chart.axis.segmenter.Numeric"],config:{layout:"continuous",segmenter:"numeric",aggregator:"double"}}),Ext.define("Ext.chart.axis.Time",{extend:"Ext.chart.axis.Numeric",alias:"axis.time",type:"time",requires:["Ext.chart.axis.layout.Continuous","Ext.chart.axis.segmenter.Time"],config:{calculateByLabelSize:!0,dateFormat:null,fromDate:null,toDate:null,layout:"continuous",segmenter:"time",aggregator:"time"},updateDateFormat:function(e){var t=this.getRenderer();t&&!t.isDefault||((t=function(t,n){return Ext.Date.format(new Date(n),e)}).isDefault=!0,this.setRenderer(t),this.performLayout())},updateRenderer:function(e){var t=this.getDateFormat();e?this.performLayout():t&&this.updateDateFormat(t)},updateFromDate:function(e){this.setMinimum(+e)},updateToDate:function(e){this.setMaximum(+e)},getCoordFor:function(e){return Ext.isString(e)&&(e=new Date(e)),+e}}),Ext.define("Ext.chart.axis.Time3D",{extend:"Ext.chart.axis.Numeric3D",alias:"axis.time3d",type:"time3d",requires:["Ext.chart.axis.layout.Continuous","Ext.chart.axis.segmenter.Time"],config:{calculateByLabelSize:!0,dateFormat:null,fromDate:null,toDate:null,layout:"continuous",segmenter:"time",aggregator:"time"},updateDateFormat:function(e){this.setRenderer(function(t,n){return Ext.Date.format(new Date(n),e)})},updateFromDate:function(e){this.setMinimum(+e)},updateToDate:function(e){this.setMaximum(+e)},getCoordFor:function(e){return Ext.isString(e)&&(e=new Date(e)),+e}}),Ext.define("Ext.chart.grid.HorizontalGrid3D",{extend:"Ext.chart.grid.HorizontalGrid",alias:"grid.horizontal3d",inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0}}},render:function(e,t,n){var i,r,o=this.attr,a=e.roundPixel(o.x),s=e.roundPixel(o.y),l=e.matrix.getDX(),d=.5*t.lineWidth,c=o.height,u=o.depth;s<=n[1]||(i=n[0]+u-l,r=s+d-u,t.beginPath(),t.rect(i,r,n[2],c),t.fill(),t.beginPath(),t.moveTo(i,r),t.lineTo(i+n[2],r),t.stroke(),i=n[0]+a-l,r=s+d,t.beginPath(),t.moveTo(i,r),t.lineTo(i+u,r-u),t.lineTo(i+u,r-u+c),t.lineTo(i,r+c),t.closePath(),t.fill(),t.beginPath(),t.moveTo(i,r),t.lineTo(i+u,r-u),t.stroke())}}),Ext.define("Ext.chart.grid.VerticalGrid3D",{extend:"Ext.chart.grid.VerticalGrid",alias:"grid.vertical3d",inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0}}},render:function(e,t,n){var i,r,o=this.attr,a=e.roundPixel(o.x),s=e.matrix.getDY(),l=.5*t.lineWidth,d=o.width,c=o.depth;a>=n[2]||(i=a-l+c,r=n[1]-c-s,t.beginPath(),t.rect(i,r,d,n[3]),t.fill(),t.beginPath(),t.moveTo(i,r),t.lineTo(i,r+n[3]),t.stroke(),i=a-l,r=n[3],t.beginPath(),t.moveTo(i,r),t.lineTo(i+c,r-c),t.lineTo(i+c+d,r-c),t.lineTo(i+d,r),t.closePath(),t.fill(),i=a-l,r=n[3],t.beginPath(),t.moveTo(i,r),t.lineTo(i+c,r-c),t.stroke())}}),Ext.define("Ext.chart.interactions.CrossZoom",{extend:"Ext.chart.interactions.Abstract",type:"crosszoom",alias:"interaction.crosszoom",isCrossZoom:!0,config:{axes:!0,gestures:{dragstart:"onGestureStart",drag:"onGesture",dragend:"onGestureEnd",dblclick:"onDoubleTap"},undoButton:{}},stopAnimationBeforeSync:!1,zoomAnimationInProgress:!1,constructor:function(){this.callParent(arguments),this.zoomHistory=[]},applyAxes:function(e){var t={};return!0===e?{top:{},right:{},bottom:{},left:{}}:(Ext.isArray(e)?(t={},Ext.each(e,function(e){t[e]={}})):Ext.isObject(e)&&Ext.iterate(e,function(e,n){!0===n?t[e]={}:!1!==n&&(t[e]=n)}),t)},applyUndoButton:function(e,t){var n=this;if(t&&t.destroy(),e)return Ext.create("Ext.Button",Ext.apply({cls:[],text:"Undo Zoom",disabled:!0,handler:function(){n.undoZoom()}},e))},getSurface:function(){return this.getChart()&&this.getChart().getSurface("main")},setSeriesOpacity:function(e){var t=this.getChart()&&this.getChart().getSurface("series");t&&t.element.setStyle("opacity",e)},onGestureStart:function(e){var t=this,n=t.getChart(),i=t.getSurface(),r=n.getInnerRect(),o=n.getInnerPadding(),a=o.left,s=a+r[2],l=o.top,d=l+r[3],c=n.getEventXY(e),u=c[0],h=c[1];if(e.claimGesture(),!t.zoomAnimationInProgress)return u>a&&u<s&&h>l&&h<d?(t.gestureEvent="drag",t.lockEvents(t.gestureEvent),t.startX=u,t.startY=h,t.selectionRect=i.add({type:"rect",globalAlpha:.5,fillStyle:"rgba(80,80,140,0.5)",strokeStyle:"rgba(80,80,140,1)",lineWidth:2,x:u,y:h,width:0,height:0,zIndex:1e4}),t.setSeriesOpacity(.8),!1):void 0},onGesture:function(e){var t=this;if(!t.zoomAnimationInProgress&&t.getLocks()[t.gestureEvent]===t){var n=t.getChart(),i=t.getSurface(),r=n.getInnerRect(),o=n.getInnerPadding(),a=o.left,s=a+r[2],l=o.top,d=l+r[3],c=n.getEventXY(e),u=c[0],h=c[1];return u<a?u=a:u>s&&(u=s),h<l?h=l:h>d&&(h=d),t.selectionRect.setAttributes({width:u-t.startX,height:h-t.startY}),Math.abs(t.startX-u)<11||Math.abs(t.startY-h)<11?t.selectionRect.setAttributes({globalAlpha:.5}):t.selectionRect.setAttributes({globalAlpha:1}),i.renderFrame(),!1}},onGestureEnd:function(e){var t=this;if(!t.zoomAnimationInProgress&&t.getLocks()[t.gestureEvent]===t){var n=t.getChart(),i=t.getSurface(),r=n.getInnerRect(),o=n.getInnerPadding(),a=o.left,s=a+r[2],l=o.top,d=l+r[3],c=r[2],u=r[3],h=n.getEventXY(e),f=h[0],g=h[1];f<a?f=a:f>s&&(f=s),g<l?g=l:g>d&&(g=d),Math.abs(t.startX-f)<11||Math.abs(t.startY-g)<11?i.remove(t.selectionRect):(t.zoomBy([Math.min(t.startX,f)/c,1-Math.max(t.startY,g)/u,Math.max(t.startX,f)/c,1-Math.min(t.startY,g)/u]),t.selectionRect.setAttributes({x:Math.min(t.startX,f),y:Math.min(t.startY,g),width:Math.abs(t.startX-f),height:Math.abs(t.startY-g)}),t.selectionRect.setAnimation(n.getAnimation()||{duration:0}),t.selectionRect.setAttributes({globalAlpha:0,x:0,y:0,width:c,height:u}),t.zoomAnimationInProgress=!0,n.suspendThicknessChanged(),t.selectionRect.fx.on("animationend",function(){n.resumeThicknessChanged(),i.remove(t.selectionRect),t.selectionRect=null,t.zoomAnimationInProgress=!1})),i.renderFrame(),t.sync(),t.unlockEvents(t.gestureEvent),t.setSeriesOpacity(1),t.zoomAnimationInProgress||(i.remove(t.selectionRect),t.selectionRect=null)}},zoomBy:function(e){var t,n,i,r=this.getAxes(),o=this.getChart(),a=o.getAxes(),s={};o.getInherited().rtl&&(n=1-(e=e.slice())[0],i=1-e[2],e[0]=Math.min(n,i),e[2]=Math.max(n,i));for(var l=0;l<a.length;l++){var d=a[l];if((t=r[d.getPosition()])&&!1!==t.allowZoom){var c=d.isSide(),u=d.getVisibleRange();s[d.getId()]=u.slice(0),c?d.setVisibleRange([(u[1]-u[0])*e[1]+u[0],(u[1]-u[0])*e[3]+u[0]]):d.setVisibleRange([(u[1]-u[0])*e[0]+u[0],(u[1]-u[0])*e[2]+u[0]])}}this.zoomHistory.push(s),this.getUndoButton().setDisabled(!1)},undoZoom:function(){var e=this.zoomHistory.pop(),t=this.getChart().getAxes();if(e)for(var n=0;n<t.length;n++){var i=t[n];e[i.getId()]&&i.setVisibleRange(e[i.getId()])}this.getUndoButton().setDisabled(0===this.zoomHistory.length),this.sync()},onDoubleTap:function(e){this.undoZoom()},destroy:function(){this.setUndoButton(null),this.callParent()}}),Ext.define("Ext.chart.interactions.Crosshair",{extend:"Ext.chart.interactions.Abstract",requires:["Ext.chart.grid.HorizontalGrid","Ext.chart.grid.VerticalGrid","Ext.chart.CartesianChart","Ext.chart.axis.layout.Discrete"],type:"crosshair",alias:"interaction.crosshair",config:{axes:{top:{label:{},rect:{}},right:{label:{},rect:{}},bottom:{label:{},rect:{}},left:{label:{},rect:{}}},lines:{horizontal:{strokeStyle:"black",lineDash:[5,5]},vertical:{strokeStyle:"black",lineDash:[5,5]}},gesture:"drag"},applyAxes:function(e,t){return Ext.merge(t||{},e)},applyLines:function(e,t){return Ext.merge(t||{},e)},updateChart:function(e){e&&!e.isCartesian&&Ext.raise("Crosshair interaction can only be used on cartesian charts."),this.callParent(arguments)},getGestures:function(){var e={};return e[this.getGesture()]="onGesture",e[this.getGesture()+"start"]="onGestureStart",e[this.getGesture()+"end"]="onGestureEnd",e},onGestureStart:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E,v,y,b,C,S=this,w=S.getChart(),T=w.getTheme().getAxis(),P=w.getSurface("overlay"),k=w.getInnerRect(),I=k[2],M=k[3],R=w.getEventXY(e),A=R[0],D=R[1],F=w.getAxes(),L=S.getAxes(),O=S.getLines();if(e.claimGesture(),A>0&&A<I&&D>0&&D<M){for(S.lockEvents(S.getGesture()),y=Ext.apply({xclass:"Ext.chart.grid.HorizontalGrid",x:0,y:D,width:I},O.horizontal),b=Ext.apply({xclass:"Ext.chart.grid.VerticalGrid",x:A,y:0,height:M},O.vertical),S.axesLabels=S.axesLabels||{},C=0;C<F.length;C++)r=(i=(n=F[C]).getSurface()).getRect(),f=n.getSprites()[0],o=r[2],a=r[3],s=n.getPosition(),l=n.getAlignment(),x=n.getTitle(),E=x&&""!==x.attr.text&&x.getBBox(),g=f.attr,f.thickness,p=g.axisLine?g.lineWidth:0,m=p/2,h=Math.max(g.majorTickSize,g.minorTickSize)+p,(d=S.axesLabels[s]=i.add({type:"composite"})).labelRect=d.add(Ext.apply({type:"rect",fillStyle:"white",x:"right"===s?p:0,y:"bottom"===s?p:0,width:o-p-("vertical"===l&&E?E.width:0),height:a-p-("horizontal"===l&&E?E.height:0),translationX:"left"===s&&E?E.width:0,translationY:"top"===s&&E?E.height:0},L.rect||L[s].rect)),"vertical"!==l||b.strokeStyle||(b.strokeStyle=g.strokeStyle),"horizontal"!==l||y.strokeStyle||(y.strokeStyle=g.strokeStyle),t=Ext.merge({},T.defaults,T[s]),c=Ext.apply({},n.config.label,t.label),u=L.label||L[s].label,d.labelText=d.add(Ext.apply(c,u,{type:"text",x:function(){switch(s){case"left":return(v=E?E.x+E.width:0)+(o-v-h)/2-m;case"right":return v=E?o-E.x:0,h+(o-h-v)/2+m;default:return 0}}(),y:function(){switch(s){case"top":return(v=E?E.y+E.height:0)+(a-v-h)/2-m;case"bottom":return v=E?a-E.y:0,h+(a-h-v)/2+m;default:return 0}}()}));return S.horizontalLine=P.add(y),S.verticalLine=P.add(b),!1}},onGesture:function(e){var t=this;if(t.getLocks()[t.getGesture()]===t){var n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E,v,y,b=t.getChart(),C=b.getSurface("overlay"),S=Ext.Array.slice(b.getInnerRect()),w=b.getInnerPadding(),T=w.left,P=w.top,k=S[2],I=S[3],M=b.getEventXY(e),R=M[0],A=M[1],D=b.getAxes();for(R<0?R=0:R>k&&(R=k),A<0?A=0:A>I&&(A=I),R+=T,A+=P,y=0;y<D.length;y++)i=(n=D[y]).getPosition(),r=n.getAlignment(),o=n.getSurface(),s=(a=n.getSprites()[0]).attr.matrix,h=2*a.attr.textPadding,c=t.axesLabels[i],l=a.getLayoutContext(),d=n.getSegmenter(),c&&("vertical"===r?(g=s.getYY(),E=(A-(m=s.getDY())-P)/g,n.getLayout()instanceof Ext.chart.axis.layout.Discrete?(A=Math.round(E)*g+m+P,E=d.from(Math.round(E)),E=a.attr.data[E]):E=d.from(E),v=d.renderer(E,l),c.setAttributes({translationY:A-P}),c.labelText.setAttributes({text:v}),u=c.labelText.getBBox(),c.labelRect.setAttributes({height:u.height+h,y:-(u.height+h)/2}),o.renderFrame()):(f=s.getXX(),x=(R-(p=s.getDX())-T)/f,n.getLayout()instanceof Ext.chart.axis.layout.Discrete?(R=Math.round(x)*f+p+T,x=d.from(Math.round(x)),x=a.attr.data[x]):x=d.from(x),v=d.renderer(x,l),c.setAttributes({translationX:R-T}),c.labelText.setAttributes({text:v}),u=c.labelText.getBBox(),c.labelRect.setAttributes({width:u.width+h,x:-(u.width+h)/2}),o.renderFrame()));return t.horizontalLine.setAttributes({y:A,strokeStyle:a.attr.strokeStyle}),t.verticalLine.setAttributes({x:R,strokeStyle:a.attr.strokeStyle}),C.renderFrame(),!1}},onGestureEnd:function(e){var t,n,i,r,o,a=this,s=a.getChart(),l=s.getSurface("overlay"),d=s.getAxes();for(l.remove(a.verticalLine),l.remove(a.horizontalLine),o=0;o<d.length;o++)n=(t=d[o]).getPosition(),i=t.getSurface(),(r=a.axesLabels[n])&&(delete a.axesLabels[n],i.remove(r)),i.renderFrame();l.renderFrame(),a.unlockEvents(a.getGesture())}}),Ext.define("Ext.chart.interactions.ItemHighlight",{extend:"Ext.chart.interactions.Abstract",type:"itemhighlight",alias:"interaction.itemhighlight",isItemHighlight:!0,config:{gestures:{tap:"onTapGesture",mousemove:"onMouseMoveGesture",mousedown:"onMouseDownGesture",mouseup:"onMouseUpGesture",mouseleave:"onMouseUpGesture"},sticky:!1},stickyHighlightItem:null,onMouseMoveGesture:function(e){var t,n,i=this,r=i.tipItem,o="mouse"===e.pointerType;if(i.getSticky())return!0;if(o&&i.stickyHighlightItem&&(i.stickyHighlightItem=null,i.highlight(null)),i.isDragging)r&&o&&(r.series.hideTooltip(r),i.tipItem=null);else if(!i.stickyHighlightItem)return(t=i.getItemForEvent(e))!==i.getChart().getHighlightItem()&&(i.highlight(t),i.sync()),o&&(!r||t&&r.field===t.field&&r.record===t.record||(r.series.hideTooltip(r),i.tipItem=r=null),t&&(n=t.series.getTooltip())&&(!n.trackMouse&&r||t.series.showTooltip(t,e),i.tipItem=t)),!1},highlight:function(e){this.getChart().setHighlightItem(e)},showTooltip:function(e,t){t.series.showTooltip(t,e),this.tipItem=t},onMouseDownGesture:function(){this.isDragging=!0},onMouseUpGesture:function(){this.isDragging=!1},onTapGesture:function(e){var t=this;if("mouse"!==e.pointerType||t.getSticky()){var n=t.getItemForEvent(e);t.stickyHighlightItem&&n&&t.stickyHighlightItem.index===n.index&&(n=null),t.stickyHighlightItem=n,t.highlight(n)}}}),Ext.define("Ext.chart.interactions.ItemEdit",{extend:"Ext.chart.interactions.ItemHighlight",requires:["Ext.tip.ToolTip"],type:"itemedit",alias:"interaction.itemedit",isItemEdit:!0,config:{style:null,renderer:null,tooltip:!0,gestures:{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},cursors:{ewResize:"ew-resize",nsResize:"ns-resize",move:"move"}},item:null,applyTooltip:function(e){if(e){var t=Ext.apply({},e,{renderer:this.defaultTooltipRenderer,constrainPosition:!0,shrinkWrapDock:!0,autoHide:!0,trackMouse:!0,mouseOffset:[20,20]});e=new Ext.tip.ToolTip(t)}return e},defaultTooltipRenderer:function(e,t,n,i){var r=[];n.xField&&r.push(n.xField+": "+n.xValue),n.yField&&r.push(n.yField+": "+n.yValue),e.setHtml(r.join("<br>"))},onDragStart:function(e){var t=this.getChart(),n=t.getHighlightItem();if(e.claimGesture(),n)return t.fireEvent("beginitemedit",t,this,this.item=n),!1},onDrag:function(e){var t=this.getChart().getHighlightItem(),n=t&&t.sprite.type;if(t)switch(n){case"barSeries":return this.onDragBar(e);case"scatterSeries":return this.onDragScatter(e)}},highlight:function(e){var t=this.getChart(),n=t.getFlipXY(),i=this.getCursors(),r=e&&e.sprite.type,o=t.el.dom.style;if(this.callParent([e]),e)switch(r){case"barSeries":o.cursor=n?i.ewResize:i.nsResize;break;case"scatterSeries":o.cursor=i.move}else t.el.dom.style.cursor="default"},onDragBar:function(e){var t,n,i,r,o=this,a=o.getChart(),s=a.getInherited().rtl,l=a.isCartesian&&a.getFlipXY(),d=a.getHighlightItem(),c=d.sprite.getMarker("items").getMarkerFor(d.sprite.getId(),d.index),u=d.sprite.getSurface(),h=u.getRect(),f=u.getEventXY(e),g=d.sprite.attr.matrix,p=o.getRenderer();r=l?s?h[2]-f[0]:f[0]:h[3]-f[1],t={x:c.x,y:r,width:c.width,height:c.height+(c.y-r),radius:c.radius,fillStyle:"none",lineDash:[4,4],zIndex:100},Ext.apply(t,o.getStyle()),Ext.isArray(d.series.getYField())&&(r=r-c.y-c.height),o.target={index:d.index,yField:d.field,yValue:(r-g.getDY())/g.getYY()},i=[a,{target:o.target,style:t,item:d}],(n=Ext.callback(p,null,i,0,a))&&Ext.apply(t,n),d.sprite.putMarker("items",t,"itemedit"),o.showTooltip(e,o.target,d),u.renderFrame()},onDragScatter:function(e){var t,n,i,r,o,a=this,s=a.getChart(),l=s.getInherited().rtl,d=s.isCartesian&&s.getFlipXY(),c=s.getHighlightItem(),u=c.sprite.getMarker("items").getMarkerFor(c.sprite.getId(),c.index),h=c.sprite.getSurface(),f=h.getRect(),g=h.getEventXY(e),p=c.sprite.attr.matrix,m=c.series.getXAxis(),x=m&&m.getLayout().isContinuous,E=a.getRenderer();o=d?l?f[2]-g[0]:g[0]:f[3]-g[1],t={translationX:r=x?d?f[3]-g[1]:g[0]:u.translationX,translationY:o,scalingX:u.scalingX,scalingY:u.scalingY,r:u.r,fillStyle:"none",lineDash:[4,4],zIndex:100},Ext.apply(t,a.getStyle()),a.target={index:c.index,yField:c.field,yValue:(o-p.getDY())/p.getYY()},x&&Ext.apply(a.target,{xField:c.series.getXField(),xValue:(r-p.getDX())/p.getXX()}),i=[s,{target:a.target,style:t,item:c}],(n=Ext.callback(E,null,i,0,s))&&Ext.apply(t,n),c.sprite.putMarker("items",t,"itemedit"),a.showTooltip(e,a.target,c),h.renderFrame()},showTooltip:function(e,t,n){var i,r,o=this.getTooltip();o&&"modern"!==Ext.toolkit&&(i=o.config,r=this.getChart(),Ext.callback(i.renderer,null,[o,n,t,e],0,r),o.pointerEvent=e,o.isVisible()?o.handleAfterShow():o.show())},hideTooltip:function(){var e=this.getTooltip();e&&"modern"!==Ext.toolkit&&e.hide()},onDragEnd:function(e){var t,n=this,i=n.target,r=n.getChart(),o=r.getStore();i&&(t=o.getAt(i.index),i.yField&&t.set(i.yField,i.yValue,{convert:!1}),i.xField&&t.set(i.xField,i.xValue,{convert:!1}),(i.yField||i.xField)&&n.getChart().onDataChanged(),n.target=null),n.hideTooltip(),n.item&&r.fireEvent("enditemedit",r,n,n.item,i),n.highlight(n.item=null)},destroy:function(){var e=this.getConfig("tooltip",!0);Ext.destroy(e),this.callParent()}}),Ext.define("Ext.chart.interactions.PanZoom",{extend:"Ext.chart.interactions.Abstract",type:"panzoom",alias:"interaction.panzoom",requires:["Ext.draw.Animator"],config:{axes:{top:{},right:{},bottom:{},left:{}},minZoom:null,maxZoom:null,showOverflowArrows:!0,panGesture:"drag",zoomGesture:"pinch",zoomOnPanGesture:null,zoomOnPan:!1,modeToggleButton:{xtype:"segmentedbutton",width:200,defaults:{ui:"default-toolbar"},cls:Ext.baseCSSPrefix+"panzoom-toggle",items:[{text:"Pan",value:"pan"},{text:"Zoom",value:"zoom"}]},hideLabelInGesture:!1},stopAnimationBeforeSync:!0,applyAxes:function(e,t){return Ext.merge(t||{},e)},updateZoomOnPan:function(e){this.getModeToggleButton().setValue(e?"zoom":"pan")},updateZoomOnPanGesture:function(e){this.setZoomOnPan(e)},getZoomOnPanGesture:function(){return this.getZoomOnPan()},applyModeToggleButton:function(e,t){var n=Ext.factory(e,"Ext.button.Segmented",t);return!n&&t&&t.destroy(),n&&!t&&n.on("toggle","onModeToggleChange",this),n},onModeToggleChange:function(e,t,n){n&&this.setZoomOnPan("zoom"===t.getValue())},getGestures:function(){var e={},t=this.getPanGesture(),n=this.getZoomGesture();return e[n]="onZoomGestureMove",e[n+"start"]="onZoomGestureStart",e[n+"end"]="onZoomGestureEnd",e[t]="onPanGestureMove",e[t+"start"]="onPanGestureStart",e[t+"end"]="onPanGestureEnd",e.doubletap="onDoubleTap",e},onDoubleTap:function(e){var t,n,i=this.getChart(),r=i.getAxes();for(t=0,n=r.length;t<n;t++)r[t].setVisibleRange([0,1]);i.redraw()},onPanGestureStart:function(e){if(!e||!e.touches||e.touches.length<2){var t=this,n=t.getChart().getInnerRect(),i=t.getChart().element.getXY();return e.claimGesture(),t.startX=e.getX()-i[0]-n[0],t.startY=e.getY()-i[1]-n[1],t.oldVisibleRanges=null,t.hideLabels(),t.getChart().suspendThicknessChanged(),t.lockEvents(t.getPanGesture()),!1}},onPanGestureMove:function(e){var t=this,n="mouse"===e.pointerType&&t.getZoomOnPan();if(t.getLocks()[t.getPanGesture()]===t){var i=t.getChart().getInnerRect(),r=t.getChart().element.getXY();return n?t.transformAxesBy(t.getZoomableAxes(e),0,0,(e.getX()-r[0]-i[0])/t.startX,t.startY/(e.getY()-r[1]-i[1])):t.transformAxesBy(t.getPannableAxes(e),e.getX()-r[0]-i[0]-t.startX,e.getY()-r[1]-i[1]-t.startY,1,1),t.sync(),!1}},onPanGestureEnd:function(e){var t=this,n=t.getPanGesture();if(t.getLocks()[n]===t)return t.getChart().resumeThicknessChanged(),t.showLabels(),t.sync(),t.unlockEvents(n),!1},onZoomGestureStart:function(e){if(e.touches&&2===e.touches.length){var t=this,n=t.getChart().element.getXY(),i=t.getChart().getInnerRect(),r=n[0]+i[0],o=n[1]+i[1],a=[e.touches[0].point.x-r,e.touches[0].point.y-o,e.touches[1].point.x-r,e.touches[1].point.y-o],s=Math.max(44,Math.abs(a[2]-a[0])),l=Math.max(44,Math.abs(a[3]-a[1]));return e.claimGesture(),t.getChart().suspendThicknessChanged(),t.lastZoomDistances=[s,l],t.lastPoints=a,t.oldVisibleRanges=null,t.hideLabels(),t.lockEvents(t.getZoomGesture()),!1}},onZoomGestureMove:function(e){var t=this;if(t.getLocks()[t.getZoomGesture()]===t){var n=t.getChart().getInnerRect(),i=t.getChart().element.getXY(),r=i[0]+n[0],o=i[1]+n[1],a=Math.abs,s=t.lastPoints,l=[e.touches[0].point.x-r,e.touches[0].point.y-o,e.touches[1].point.x-r,e.touches[1].point.y-o],d=Math.max(44,a(l[2]-l[0])),c=Math.max(44,a(l[3]-l[1])),u=this.lastZoomDistances||[d,c],h=d/u[0],f=c/u[1];return t.transformAxesBy(t.getZoomableAxes(e),n[2]*(h-1)/2+l[2]-s[2]*h,n[3]*(f-1)/2+l[3]-s[3]*f,h,f),t.sync(),!1}},onZoomGestureEnd:function(e){var t=this,n=t.getZoomGesture();if(t.getLocks()[n]===t)return t.getChart().resumeThicknessChanged(),t.showLabels(),t.sync(),t.unlockEvents(n),!1},hideLabels:function(){this.getHideLabelInGesture()&&this.eachInteractiveAxes(function(e){e.hideLabels()})},showLabels:function(){this.getHideLabelInGesture()&&this.eachInteractiveAxes(function(e){e.showLabels()})},isEventOnAxis:function(e,t){var n=t.getSurface().getRect();return n[0]<=e.getX()&&e.getX()<=n[0]+n[2]&&n[1]<=e.getY()&&e.getY()<=n[1]+n[3]},getPannableAxes:function(e){var t,n,i=this.getAxes(),r=this.getChart().getAxes(),o=r.length,a=[],s=!1;if(e)for(t=0;t<o;t++)if(this.isEventOnAxis(e,r[t])){s=!0;break}for(t=0;t<o;t++)!(n=i[r[t].getPosition()])||!1===n.allowPan||s&&!this.isEventOnAxis(e,r[t])||a.push(r[t]);return a},getZoomableAxes:function(e){var t,n,i,r=this.getAxes(),o=this.getChart().getAxes(),a=[],s=o.length,l=!1;if(e)for(t=0;t<s;t++)if(this.isEventOnAxis(e,o[t])){l=!0;break}for(t=0;t<s;t++)!(i=r[(n=o[t]).getPosition()])||!1===i.allowZoom||l&&!this.isEventOnAxis(e,n)||a.push(n);return a},eachInteractiveAxes:function(e){for(var t=this.getAxes(),n=this.getChart().getAxes(),i=0;i<n.length;i++)if(t[n[i].getPosition()]&&!1===e.call(this,n[i]))return},transformAxesBy:function(e,t,n,i,r){var o,a=this.getChart().getInnerRect(),s=this.getAxes(),l=this.oldVisibleRanges,d=!1;if(l||(this.oldVisibleRanges=l={},this.eachInteractiveAxes(function(e){l[e.getId()]=e.getVisibleRange()})),a){for(var c=0;c<e.length;c++)o=s[e[c].getPosition()],d=this.transformAxisBy(e[c],l[e[c].getId()],t,n,i,r,this.minZoom||o.minZoom,this.maxZoom||o.maxZoom)||d;return d}},transformAxisBy:function(e,t,n,i,r,o,a,s){var l,d,c=t[1]-t[0],u=e.getVisibleRange(),h=a||this.getMinZoom()||e.config.minZoom,f=s||this.getMaxZoom()||e.config.maxZoom,g=this.getChart().getInnerRect();if(g){var p=e.isSide(),m=p?g[3]:g[2],x=p?-i:n;if((c/=p?o:r)<0&&(c=-c),c*h>1&&(c=1),c*f<1&&(c=1/f),l=t[0],d=t[1],c!==(u=u[1]-u[0])||1!==u)return e.setVisibleRange([.5*(t[0]+t[1]-c)-x/m*c,.5*(t[0]+t[1]+c)-x/m*c]),Math.abs(l-e.getVisibleRange()[0])>1e-10||Math.abs(d-e.getVisibleRange()[1])>1e-10}},destroy:function(){this.setModeToggleButton(null),this.callParent()}}),Ext.define("Ext.chart.interactions.Rotate",{extend:"Ext.chart.interactions.Abstract",type:"rotate",alias:"interaction.rotate",config:{gesture:"rotate",gestures:{rotate:"onRotate",rotateend:"onRotate",dragstart:"onGestureStart",drag:"onGesture",dragend:"onGestureEnd"},rotation:0},oldRotations:null,getAngle:function(e){var t=this.getChart(),n=t.getEventXY(e),i=t.getCenter();return Math.atan2(n[1]-i[1],n[0]-i[0])},getRadius:function(e){return this.getChart().getRadius()},getEventRadius:function(e){var t=this.getChart(),n=t.getEventXY(e),i=t.getCenter(),r=n[0]-i[0],o=n[1]-i[1];return Math.sqrt(r*r+o*o)},onGestureStart:function(e){var t=this,n=t.getRadius(e),i=t.getEventRadius(e);if(e.claimGesture(),n>=i)return t.lockEvents("drag"),t.angle=t.getAngle(e),t.oldRotations={},!1},onGesture:function(e){var t=this,n=t.getAngle(e)-t.angle;if(t.getLocks().drag===t)return t.doRotateTo(n,!0),!1},doRotateTo:function(e,t,n){var i,r,o,a,s,l=this,d=l.getChart(),c=d.getAxes(),u=d.getSeries(),h=l.oldRotations;for(n||d.suspendAnimation(),a=0,s=c.length;a<s;a++)o=h[(i=c[a]).getId()]||(h[i.getId()]=i.getRotation()),i.setRotation(e+(t?o:0));for(a=0,s=u.length;a<s;a++)o=h[(r=u[a]).getId()]||(h[r.getId()]=r.getRotation()),r.setRotation(e+(t?o:0));l.setRotation(e+(t?o:0)),l.fireEvent("rotate",l,l.getRotation()),l.sync(),n||d.resumeAnimation()},rotateTo:function(e,t,n){this.doRotateTo(e,t,n),this.oldRotations={}},onGestureEnd:function(e){var t=this;if(t.getLocks().drag===t)return t.onGesture(e),t.unlockEvents("drag"),t.fireEvent("rotationEnd",t,t.getRotation()),!1},onRotate:function(e){}}),Ext.define("Ext.chart.interactions.RotatePie3D",{extend:"Ext.chart.interactions.Rotate",type:"rotatePie3d",alias:"interaction.rotatePie3d",getAngle:function(e){var t=this.getChart(),n=t.getInherited().rtl?-1:1,i=e.getXY(),r=t.element.getXY(),o=t.getMainRect();return n*Math.atan2(i[1]-r[1]-.5*o[3],i[0]-r[0]-.5*o[2])},getRadius:function(e){for(var t,n,i=this.getChart(),r=i.getRadius(),o=i.getSeries(),a=o.length,s=0;s<a;s++)(t=o[s]).is3D&&(n=t.getRadius())>r&&(r=n);return r}}),Ext.define("Ext.chart.plugin.ItemEvents",{extend:"Ext.plugin.Abstract",alias:"plugin.chartitemevents",moveEvents:!1,mouseMoveEvents:{mousemove:!0,mouseover:!0,mouseout:!0},itemMouseMoveEvents:{itemmousemove:!0,itemmouseover:!0,itemmouseout:!0},init:function(e){this.chart=e,e.addElementListener({click:"handleEvent",dblclick:"handleEvent",mousedown:"handleEvent",mousemove:"handleEvent",mouseup:"handleEvent",mouseover:"handleEvent",mouseout:"handleEvent",priority:1001,scope:this})},hasItemMouseMoveListeners:function(){var e,t=this.chart.hasListeners;for(e in this.itemMouseMoveEvents)if(e in t)return!0;return!1},handleEvent:function(e){var t,n,i=this,r=i.chart,o=e.type in i.mouseMoveEvents,a=i.lastItem;(!o||i.hasItemMouseMoveListeners()||i.moveEvents)&&(t=r.getEventXY(e),n=r.getItemForPoint(t[0],t[1]),o&&!Ext.Object.equals(n,a)&&(a&&(r.fireEvent("itemmouseout",r,a,e),a.series.fireEvent("itemmouseout",a.series,a,e)),n&&(r.fireEvent("itemmouseover",r,n,e),n.series.fireEvent("itemmouseover",n.series,n,e))),n&&(r.fireEvent("item"+e.type,r,n,e),n.series.fireEvent("item"+e.type,n.series,n,e)),i.lastItem=n)}}),Ext.define("Ext.chart.series.Cartesian",{extend:"Ext.chart.series.Series",config:{xField:null,yField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],applyXAxis:function(e,t){return this.getChart().getAxis(e)||t},applyYAxis:function(e,t){return this.getChart().getAxis(e)||t},updateXAxis:function(e){e.processData(this)},updateYAxis:function(e){e.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},getItemForPoint:function(e,t){if(this.getSprites()){var n,i=this,r=i.getSprites()[0],o=i.getStore();if(i.getHidden())return null;if(r&&-1!==(n=r.getIndexNearPoint(e,t)))return{series:i,category:i.getItemInstancing()?"items":"markers",index:n,record:o.getData().items[n],field:i.getYField(),sprite:r}}},createSprite:function(){var e=this.callParent(),t=this.getChart(),n=this.getXAxis();return e.setAttributes({flipXY:t.getFlipXY(),xAxis:n}),e.setAggregator&&n&&n.getAggregator&&(n.getAggregator?e.setAggregator({strategy:n.getAggregator()}):e.setAggregator({})),e},getSprites:function(){var e,t=this.getChart(),n=this.getAnimation()||t&&t.getAnimation(),i=this.getItemInstancing(),r=this.sprites;return t?(e=r.length?r[0]:this.createSprite(),n&&(i&&e.itemsMarker.getTemplate().setAnimation(n),e.setAnimation(n)),r):[]},provideLegendInfo:function(e){var t=this,n=t.getSubStyleWithTheme(),i=n.fillStyle;Ext.isArray(i)&&(i=i[0]),e.push({name:t.getTitle()||t.getYField()||t.getId(),mark:(Ext.isObject(i)?i.stops&&i.stops[0].color:i)||n.strokeStyle||"black",disabled:t.getHidden(),series:t.getId(),index:0})},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]}}),Ext.define("Ext.chart.series.StackedCartesian",{extend:"Ext.chart.series.Cartesian",config:{stacked:!0,splitStacks:!0,fullStack:!1,fullStackTotal:100,hidden:[]},spriteAnimationCount:0,themeColorCount:function(){var e=this.getYField();return Ext.isArray(e)?e.length:1},updateStacked:function(){this.processData()},updateSplitStacks:function(){this.processData()},coordinateY:function(){return this.coordinateStacked("Y",1,2)},coordinateStacked:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=this,p=g.getStore().getData().items,m=p.length,x=g["get"+e+"Axis"](),E=g.getHidden(),v=g.getSplitStacks(),y=g.getFullStack(),b=g.getFullStackTotal(),C={min:0,max:0},S=g["fieldCategory"+e],w=[],T=[],P=[],k=g.getStacked(),I=g.getSprites(),M=[];if(I.length){for(r=0;r<S.length;r++){for(u=S[r],l=(s=g.getFields([u])).length,o=0;o<m;o++)w[o]=0,T[o]=0,P[o]=0;for(o=0;o<l;o++)E[o]||(M[o]=g.coordinateData(p,s[o],x));if(k&&y)for(d=[],v&&(c=[]),o=0;o<m;o++)for(d[o]=0,v&&(c[o]=0),a=0;a<l;a++)(h=M[a])&&((h=h[o])>=0||!v?d[o]+=h:h<0&&(c[o]+=h));for(o=0;o<l;o++)if(f={},E[o])f["dataStart"+u]=w,f["data"+u]=w,I[o].setAttributes(f);else{if(h=M[o],k){for(i=[],a=0;a<m;a++)h[a]||(h[a]=0),h[a]>=0||!v?(y&&d[a]&&(h[a]*=b/d[a]),w[a]=T[a],T[a]+=h[a],i[a]=T[a]):(y&&c[a]&&(h[a]*=b/c[a]),w[a]=P[a],P[a]+=h[a],i[a]=P[a]);f["dataStart"+u]=w,f["data"+u]=i,g.getRangeOfData(w,C),g.getRangeOfData(i,C)}else f["dataStart"+u]=w,f["data"+u]=h,g.getRangeOfData(h,C);I[o].setAttributes(f)}}for(g.dataRange[t]=C.min,g.dataRange[t+n]=C.max,(f={})["dataMin"+e]=C.min,f["dataMax"+e]=C.max,r=0;r<I.length;r++)I[r].setAttributes(f)}},getFields:function(e){var t,n,i,r=[];for(n=0,i=e.length;n<i;n++)t=this["get"+e[n]+"Field"](),Ext.isArray(t)?r.push.apply(r,t):r.push(t);return r},updateLabelOverflowPadding:function(e){this.getLabel().setAttributes({labelOverflowPadding:e})},getSprites:function(){var e,t,n=this,i=n.getChart(),r=n.getAnimation()||i&&i.getAnimation(),o=n.getFields(n.fieldCategoryY),a=n.getItemInstancing(),s=n.sprites,l=n.getHidden(),d=!1,c=o.length;if(!i)return[];for(t=0;t<c;t++)(e=s[t])||((e=n.createSprite()).setAttributes({zIndex:-t}),e.setField(o[t]),d=!0,l.push(!1),a?e.itemsMarker.getTemplate().setAttributes(n.getStyleByIndex(t)):e.setAttributes(n.getStyleByIndex(t))),r&&(a&&e.itemsMarker.getTemplate().setAnimation(r),e.setAnimation(r));return d&&n.updateHidden(l),s},getItemForPoint:function(e,t){if(this.getSprites()){var n,i,r,o,a,s=this,l=s.getItemInstancing(),d=s.getSprites(),c=s.getStore(),u=s.getHidden();for(n=0,i=d.length;n<i;n++)if(!u[n]&&-1!==(o=(r=d[n]).getIndexNearPoint(e,t)))return a=s.getYField(),{series:s,index:o,category:l?"items":"markers",record:c.getData().items[o],field:"string"==typeof a?a:a[n],sprite:r};return null}},provideLegendInfo:function(e){var t,n,i,r,o=this,a=o.getSprites(),s=o.getTitle(),l=o.getYField(),d=o.getHidden(),c=1===a.length;for(i=0;i<a.length;i++)n=(t=o.getStyleByIndex(i)).fillStyle,s&&(Ext.isArray(s)?r=s[i]:c&&(r=s)),s&&r||(r=Ext.isArray(l)?l[i]:o.getId()),e.push({name:r,mark:(Ext.isObject(n)?n.stops&&n.stops[0].color:n)||t.strokeStyle||"black",disabled:d[i],series:o.getId(),index:i})},onSpriteAnimationStart:function(e){this.spriteAnimationCount++,1===this.spriteAnimationCount&&this.fireEvent("animationstart")},onSpriteAnimationEnd:function(e){this.spriteAnimationCount--,0===this.spriteAnimationCount&&this.fireEvent("animationend")}}),Ext.define("Ext.chart.series.sprite.Series",{extend:"Ext.draw.sprite.Sprite",mixins:{markerHolder:"Ext.chart.MarkerHolder"},inheritableStatics:{def:{processors:{dataMinX:"number",dataMaxX:"number",dataMinY:"number",dataMaxY:"number",rangeX:"data",rangeY:"data",dataX:"data",dataY:"data"},defaults:{dataMinX:0,dataMaxX:1,dataMinY:0,dataMaxY:1,rangeX:null,rangeY:null,dataX:null,dataY:null},triggers:{dataX:"bbox",dataY:"bbox",dataMinX:"bbox",dataMaxX:"bbox",dataMinY:"bbox",dataMaxY:"bbox"}}},config:{store:null,series:null,field:null}}),Ext.define("Ext.chart.series.sprite.Cartesian",{extend:"Ext.chart.series.sprite.Series",inheritableStatics:{def:{processors:{labels:"default",labelOverflowPadding:"number",selectionTolerance:"number",flipXY:"bool",renderer:"default",visibleMinX:"number",visibleMinY:"number",visibleMaxX:"number",visibleMaxY:"number",innerWidth:"number",innerHeight:"number"},defaults:{labels:null,labelOverflowPadding:10,selectionTolerance:20,flipXY:!1,renderer:null,transformFillStroke:!1,visibleMinX:0,visibleMinY:0,visibleMaxX:1,visibleMaxY:1,innerWidth:1,innerHeight:1},triggers:{dataX:"dataX,bbox",dataY:"dataY,bbox",visibleMinX:"panzoom",visibleMinY:"panzoom",visibleMaxX:"panzoom",visibleMaxY:"panzoom",innerWidth:"panzoom",innerHeight:"panzoom"},updaters:{dataX:function(e){this.processDataX(),this.scheduleUpdater(e,"dataY",["dataY"])},dataY:function(){this.processDataY()},panzoom:function(e){var t=e.visibleMaxX-e.visibleMinX,n=e.visibleMaxY-e.visibleMinY,i=e.flipXY?e.innerHeight:e.innerWidth,r=e.flipXY?e.innerWidth:e.innerHeight,o=this.getSurface(),a=!!o&&o.getInherited().rtl;a&&!e.flipXY?e.translationX=i+e.visibleMinX*i/t:e.translationX=-e.visibleMinX*i/t,e.translationY=-e.visibleMinY*r/n,e.scalingX=(a&&!e.flipXY?-1:1)*i/t,e.scalingY=r/n,e.scalingCenterX=0,e.scalingCenterY=0,this.applyTransformations(!0)}}}},processDataY:Ext.emptyFn,processDataX:Ext.emptyFn,updatePlainBBox:function(e){var t=this.attr;e.x=t.dataMinX,e.y=t.dataMinY,e.width=t.dataMaxX-t.dataMinX,e.height=t.dataMaxY-t.dataMinY},binarySearch:function(e){var t=this.attr.dataX,n=0,i=t.length;if(e<=t[0])return n;if(e>=t[i-1])return i-1;for(;n+1<i;){var r=n+i>>1,o=t[r];if(o===e)return r;o<e?n=r:i=r}return n},render:function(e,t,n){var i=this.attr,r=i.inverseMatrix.clone();if(r.appendMatrix(e.inverseMatrix),null!==i.dataX&&void 0!==i.dataX&&null!==i.dataY&&void 0!==i.dataY)if(r.getXX()*r.getYX()||r.getXY()*r.getYY())console.log("Cartesian Series sprite does not support rotation/sheering");else{var o=r.transformList([[n[0]-1,n[3]+1],[n[0]+n[2]+1,-1]]);o=o[0].concat(o[1]),this.renderClipped(e,t,o,n)}},renderClipped:Ext.emptyFn,getIndexNearPoint:function(e,t){var n,i,r,o,a,s,l=this,d=l.attr.matrix,c=l.attr.dataX,u=l.attr.dataY,h=l.attr.selectionTolerance,f=-1,g=d.clone().prependMatrix(l.surfaceMatrix).inverse(),p=g.transformPoint([e,t]),m=g.transformPoint([e-h,t-h]),x=g.transformPoint([e+h,t+h]),E=Math.min(m[0],x[0]),v=Math.max(m[0],x[0]),y=Math.min(m[1],x[1]),b=Math.max(m[1],x[1]);for(a=0,s=c.length;a<s;a++)r=c[a],o=u[a],r>E&&r<v&&o>y&&o<b&&(-1===f||Math.abs(r-p[0])<n&&Math.abs(o-p[1])<i)&&(n=Math.abs(r-p[0]),i=Math.abs(o-p[1]),f=a);return f}}),Ext.define("Ext.chart.series.sprite.StackedCartesian",{extend:"Ext.chart.series.sprite.Cartesian",inheritableStatics:{def:{processors:{groupCount:"number",groupOffset:"number",dataStartY:"data"},defaults:{selectionTolerance:20,groupCount:1,groupOffset:0,dataStartY:null},triggers:{dataStartY:"dataY,bbox"}}},getIndexNearPoint:function(e,t){for(var n,i,r=this.attr.matrix,o=this.attr.dataX,a=this.attr.dataY,s=this.attr.dataStartY,l=this.attr.selectionTolerance,d=.5,c=1/0,u=-1,h=r.clone().prependMatrix(this.surfaceMatrix).inverse(),f=h.transformPoint([e,t]),g=h.transformPoint([e-l,t-l]),p=h.transformPoint([e+l,t+l]),m=Math.min(g[1],p[1]),x=Math.max(g[1],p[1]),E=0;E<o.length;E++)Math.min(s[E],a[E])<=x&&m<=Math.max(s[E],a[E])&&(n=Math.abs(o[E]-f[0]),i=Math.max(-Math.min(a[E]-f[1],f[1]-s[E]),0),n<d&&i<=c&&(d=n,c=i,u=E));return u}}),Ext.define("Ext.chart.series.sprite.Area",{alias:"sprite.areaSeries",extend:"Ext.chart.series.sprite.StackedCartesian",inheritableStatics:{def:{processors:{step:"bool"},defaults:{step:!1}}},renderClipped:function(e,t,n){var i,r,o,a,s,l,d,c,u=this,h=u.getStore(),f=u.getSeries(),g=u.attr,p=g.dataX,m=g.dataY,x=g.dataStartY,E=g.matrix,v=E.elements[0],y=E.elements[4],b=E.elements[3],C=E.elements[5],S=u.surfaceMatrix,w={},T=Math.min(n[0],n[2]),P=Math.max(n[0],n[2]),k=Math.max(0,this.binarySearch(T)),I=Math.min(p.length-1,this.binarySearch(P)+1),M=g.renderer,R={store:h};if(t.beginPath(),l=p[k]*v+y,d=m[k]*b+C,t.moveTo(l,d),g.step)for(s=d,o=k;o<=I;o++)i=p[o]*v+y,r=m[o]*b+C,t.lineTo(i,s),t.lineTo(i,s=r);else for(o=k;o<=I;o++)i=p[o]*v+y,r=m[o]*b+C,t.lineTo(i,r);if(x)if(g.step)for(a=p[I]*v+y,o=I;o>=k;o--)i=p[o]*v+y,r=x[o]*b+C,t.lineTo(a,r),t.lineTo(a=i,r);else for(o=I;o>=k;o--)i=p[o]*v+y,r=x[o]*b+C,t.lineTo(i,r);else t.lineTo(p[I]*v+y,r),t.lineTo(p[I]*v+y,C),t.lineTo(l,C),t.lineTo(l,m[o]*b+C);if(g.transformFillStroke&&g.matrix.toContext(t),t.fill(),g.transformFillStroke&&g.inverseMatrix.toContext(t),t.beginPath(),t.moveTo(l,d),g.step)for(o=k;o<=I;o++)i=p[o]*v+y,r=m[o]*b+C,t.lineTo(i,s),t.lineTo(i,s=r),w.translationX=S.x(i,r),w.translationY=S.y(i,r),M&&(c=Ext.callback(M,null,[u,w,R,o],0,f),Ext.apply(w,c)),u.putMarker("markers",w,o,!M);else for(o=k;o<=I;o++)i=p[o]*v+y,r=m[o]*b+C,t.lineTo(i,r),w.translationX=S.x(i,r),w.translationY=S.y(i,r),M&&(c=Ext.callback(M,null,[u,w,R,o],0,f),Ext.apply(w,c)),u.putMarker("markers",w,o,!M);g.transformFillStroke&&g.matrix.toContext(t),t.stroke()}}),Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.StackedCartesian",alias:"series.area",type:"area",seriesType:"areaSeries",requires:["Ext.chart.series.sprite.Area"],config:{splitStacks:!1}}),Ext.define("Ext.chart.series.sprite.Bar",{alias:"sprite.barSeries",extend:"Ext.chart.series.sprite.StackedCartesian",inheritableStatics:{def:{processors:{minBarWidth:"number",maxBarWidth:"number",minGapWidth:"number",radius:"number",inGroupGapWidth:"number"},defaults:{minBarWidth:2,maxBarWidth:100,minGapWidth:5,inGroupGapWidth:3,radius:0}}},drawLabel:function(e,t,n,i,r){var o,a,s,l,d,c,u,h=this,f=h.attr,g=h.getMarker("labels"),p=g.getTemplate(),m=h.labelCfg||(h.labelCfg={}),x=h.surfaceMatrix,E=f.labelOverflowPadding,v=p.attr.display,y=p.attr.orientation,b="horizontal"===y&&f.flipXY||"vertical"===y&&!f.flipXY||!y,C=p.getCalloutLine();switch(m.x=x.x(t,i),m.y=x.y(t,i),l=C?C.length:0,f.flipXY?m.rotationRads=0:m.rotationRads=.5*-Math.PI,m.calloutVertical=!f.flipXY,y){case"horizontal":m.rotationRads=0,m.calloutVertical=!1;break;case"vertical":m.rotationRads=.5*-Math.PI,m.calloutVertical=!0}m.text=e,p.attr.renderer&&(u=[e,g,m,{store:h.getStore()},r],"string"==typeof(d=Ext.callback(p.attr.renderer,null,u,0,h.getSeries()))?m.text=d:"object"==typeof d&&("text"in d&&(m.text=d.text),c=!0)),(s=h.getMarkerBBox("labels",r,!0))||(h.putMarker("labels",m,r),s=h.getMarkerBBox("labels",r,!0)),a=l>0?l:0===l?(b?s.width:s.height)/2:(b?s.width:s.height)/2+E,n>i&&(a=-a),o=b?"insideStart"===v?n+a:i-a:"insideStart"===v?n+2*E:i-2*E,m.x=x.x(t,o),m.y=x.y(t,o),o="insideStart"===v?n:i,m.calloutStartX=x.x(t,o),m.calloutStartY=x.y(t,o),o="insideStart"===v?n-a:i+a,m.calloutPlaceX=x.x(t,o),m.calloutPlaceY=x.y(t,o),m.calloutColor=C&&C.color||h.attr.fillStyle,C?C.width&&(m.calloutWidth=C.width):m.calloutColor="none",n>i&&(a=-a),Math.abs(i-n)<=2*a||"outside"===v?m.callout=1:m.callout=0,c&&Ext.apply(m,d),h.putMarker("labels",m,r)},drawBar:function(e,t,n,i,r,o,a,s){var l,d=this,c={},u=d.attr.renderer;c.x=i,c.y=r,c.width=o-i,c.height=a-r,c.radius=d.attr.radius,u&&(l=Ext.callback(u,null,[d,c,{store:d.getStore()},s],0,d.getSeries()),Ext.apply(c,l)),d.putMarker("items",c,s,!u)},renderClipped:function(e,t,n){if(!this.cleanRedraw){var i,r,o,a,s,l,d,c,u=this,h=u.attr,f=h.dataX,g=h.dataY,p=h.labels,m=h.dataStartY,x=h.groupCount,E=h.groupOffset-.5*(x-1),v=h.inGroupGapWidth,y=t.lineWidth,b=h.matrix,C=b.elements[0],S=b.elements[3],w=b.elements[4],T=e.roundPixel(b.elements[5])-1,P=(C<0?-1:1)*C-h.minGapWidth,k=(Math.min(P,h.maxBarWidth)-v*(x-1))/x,I=e.roundPixel(Math.max(h.minBarWidth,k)),M=u.surfaceMatrix,R=.5*h.lineWidth,A=Math.min(n[0],n[2]),D=Math.max(n[0],n[2]),F=Math.max(0,Math.floor(A)),L=Math.min(f.length-1,Math.ceil(D)),O=p&&u.getMarker("labels");for(s=F;s<=L;s++)d=m?m[s]:0,c=g[s],l=f[s]*C+w+E*(I+v),i=e.roundPixel(l-I/2)+R,a=e.roundPixel(c*S+T+y),r=e.roundPixel(l+I/2)-R,o=e.roundPixel(d*S+T+y),u.drawBar(t,e,n,i,a-R,r,o-R,s),O&&null!=p[s]&&u.drawLabel(p[s],l,o,a,s),u.putMarker("markers",{translationX:M.x(l,a),translationY:M.y(l,a)},s,!0)}},getIndexNearPoint:function(e,t){var n,i,r,o,a=this.attr,s=a.dataX,l=this.getSurface(),d=l.getRect()||[0,0,0,0],c=d[3],u=-1;for(a.flipXY?(n=c-t,i=l.getInherited().rtl?d[2]-e:e):(n=e,i=c-t),r=0;r<s.length;r++)if(o=this.getMarkerBBox("items",r),Ext.draw.Draw.isPointInBBox(n,i,o)){u=r;break}return u}}),Ext.define("Ext.chart.series.Bar",{extend:"Ext.chart.series.StackedCartesian",alias:"series.bar",type:"bar",seriesType:"barSeries",isBar:!0,requires:["Ext.chart.series.sprite.Bar","Ext.draw.sprite.Rect"],config:{itemInstancing:{type:"rect",fx:{customDurations:{x:0,y:0,width:0,height:0,radius:0}}}},getItemForPoint:function(e,t){if(this.getSprites()){var n=this.getChart(),i=n.getInnerPadding(),r=n.getInherited().rtl;return arguments[0]=e+(r?i.right:-i.left),arguments[1]=t+i.bottom,this.callParent(arguments)}},updateXAxis:function(e){this.is3D||"category"===e.type||Ext.raise("'bar' series should be used with a 'category' axis. Please refer to the bar series docs."),e.setLabelInSpan(!0),this.callParent(arguments)},updateHidden:function(e){this.callParent(arguments),this.updateStacked()},updateStacked:function(e){var t,n=this.getSprites(),i=n.length,r=[],o={};for(t=0;t<i;t++)n[t].attr.hidden||r.push(n[t]);if(i=r.length,this.getStacked())for(o.groupCount=1,o.groupOffset=0,t=0;t<i;t++)r[t].setAttributes(o);else for(o.groupCount=r.length,t=0;t<i;t++)o.groupOffset=t,r[t].setAttributes(o);this.callParent(arguments)}}),Ext.define("Ext.chart.series.sprite.Bar3D",{extend:"Ext.chart.series.sprite.Bar",alias:"sprite.bar3dSeries",requires:["Ext.draw.gradient.Linear"],inheritableStatics:{def:{processors:{depthWidthRatio:"number",saturationFactor:"number",brightnessFactor:"number",colorSpread:"number"},defaults:{depthWidthRatio:1/3,saturationFactor:1,brightnessFactor:1,colorSpread:1,transformFillStroke:!0},triggers:{groupCount:"panzoom"},updaters:{panzoom:function(e){var t=e.visibleMaxX-e.visibleMinX,n=e.visibleMaxY-e.visibleMinY,i=e.flipXY?e.innerHeight:e.innerWidth,r=e.flipXY?e.innerWidth:e.innerHeight,o=this.getSurface(),a=!!o&&o.getInherited().rtl;a&&!e.flipXY?e.translationX=i+e.visibleMinX*i/t:e.translationX=-e.visibleMinX*i/t,e.translationY=-e.visibleMinY*(r-this.depth)/n,e.scalingX=(a&&!e.flipXY?-1:1)*i/t,e.scalingY=(r-this.depth)/n,e.scalingCenterX=0,e.scalingCenterY=0,this.applyTransformations(!0)}}}},config:{showStroke:!1},depth:0,drawBar:function(e,t,n,i,r,o,a,s){var l,d,c,u,h=this,f=h.attr,g={},p=f.renderer;g.x=.5*(i+o),g.y=r,g.width=.75*(o-i),g.height=a-r,g.depth=d=g.width*f.depthWidthRatio,g.orientation=f.flipXY?"horizontal":"vertical",g.saturationFactor=f.saturationFactor,g.brightnessFactor=f.brightnessFactor,g.colorSpread=f.colorSpread,d!==h.depth&&(h.depth=d,(c=h.getSeries()).fireEvent("depthchange",c,d)),p&&(u=[h,g,{store:h.getStore()},s],l=Ext.callback(p,null,u,0,h.getSeries()),Ext.apply(g,l)),h.putMarker("items",g,s,!p)}}),Ext.define("Ext.chart.series.sprite.Box",{extend:"Ext.draw.sprite.Sprite",alias:"sprite.box",type:"box",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number",depth:"number",orientation:"enums(vertical,horizontal)",showStroke:"bool",saturationFactor:"number",brightnessFactor:"number",colorSpread:"number"},triggers:{x:"bbox",y:"bbox",width:"bbox",height:"bbox",depth:"bbox",orientation:"bbox"},defaults:{x:0,y:0,width:8,height:8,depth:8,orientation:"vertical",showStroke:!1,saturationFactor:1,brightnessFactor:1,colorSpread:1,lineJoin:"bevel"}}},constructor:function(e){this.callParent([e]),this.topGradient=new Ext.draw.gradient.Linear({}),this.rightGradient=new Ext.draw.gradient.Linear({}),this.frontGradient=new Ext.draw.gradient.Linear({})},updatePlainBBox:function(e){var t=this.attr,n=t.x,i=t.y,r=t.width,o=t.height,a=t.depth;e.x=n-.5*r,e.width=r+a,o>0?(e.y=i,e.height=o+a):(e.y=i+a,e.height=o-a)},render:function(e,t){var n,i,r,o=this,a=o.attr,s=a.x,l=a.y,d=l+a.height,c=l<d,u=.5*a.width,h=a.depth,f="horizontal"===a.orientation,g=a.globalAlpha<1,p=a.fillStyle,m=Ext.util.Color.create(p.isGradient?p.getStops()[0].color:p),x=a.saturationFactor,E=a.brightnessFactor,v=a.colorSpread,y=m.getHSV(),b={};a.showStroke||(t.strokeStyle=Ext.util.Color.RGBA_NONE),c&&(r=l,l=d,d=r),o.topGradient.setDegrees(f?0:80),o.topGradient.setStops([{offset:0,color:Ext.util.Color.fromHSV(y[0],Ext.Number.constrain(y[1]*x,0,1),Ext.Number.constrain((.5+.1*v)*E,0,1))},{offset:1,color:Ext.util.Color.fromHSV(y[0],Ext.Number.constrain(y[1]*x,0,1),Ext.Number.constrain((.5-.11*v)*E,0,1))}]),o.rightGradient.setDegrees(f?45:90),o.rightGradient.setStops([{offset:0,color:Ext.util.Color.fromHSV(y[0],Ext.Number.constrain(y[1]*x,0,1),Ext.Number.constrain((.5-.14*v)*E,0,1))},{offset:1,color:Ext.util.Color.fromHSV(y[0],Ext.Number.constrain(y[1]*(1+.4*v)*x,0,1),Ext.Number.constrain((.5-.32*v)*E,0,1))}]),f?o.frontGradient.setDegrees(0):o.frontGradient.setRadians(Math.atan2(l-d,2*u)),o.frontGradient.setStops([{offset:0,color:Ext.util.Color.fromHSV(y[0],Ext.Number.constrain(y[1]*(1-.1*v)*x,0,1),Ext.Number.constrain((.5+.1*v)*E,0,1))},{offset:1,color:Ext.util.Color.fromHSV(y[0],Ext.Number.constrain(y[1]*(1+.1*v)*x,0,1),Ext.Number.constrain((.5-.23*v)*E,0,1))}]),(g||c)&&(t.beginPath(),t.moveTo(s-u,d),t.lineTo(s-u+h,d+h),t.lineTo(s+u+h,d+h),t.lineTo(s+u,d),t.closePath(),b.x=s-u,b.y=l,b.width=u+h,b.height=h,t.fillStyle=(f?o.rightGradient:o.topGradient).generateGradient(t,b),t.fillStroke(a)),g&&(t.beginPath(),t.moveTo(s-u,l),t.lineTo(s-u+h,l+h),t.lineTo(s-u+h,d+h),t.lineTo(s-u,d),t.closePath(),b.x=s+u,b.y=d,b.width=h,b.height=l+h-d,t.fillStyle=(f?o.topGradient:o.rightGradient).generateGradient(t,b),t.fillStroke(a)),i=e.roundPixel(l),t.beginPath(),t.moveTo(s-u,i),t.lineTo(s-u+h,l+h),t.lineTo(s+u+h,l+h),t.lineTo(s+u,i),t.closePath(),b.x=s-u,b.y=l,b.width=u+h,b.height=h,t.fillStyle=(f?o.rightGradient:o.topGradient).generateGradient(t,b),t.fillStroke(a),n=e.roundPixel(s+u),t.beginPath(),t.moveTo(n,e.roundPixel(l)),t.lineTo(s+u+h,l+h),t.lineTo(s+u+h,d+h),t.lineTo(n,d),t.closePath(),b.x=s+u,b.y=d,b.width=h,b.height=l+h-d,t.fillStyle=(f?o.topGradient:o.rightGradient).generateGradient(t,b),t.fillStroke(a),n=e.roundPixel(s+u),i=e.roundPixel(l),t.beginPath(),t.moveTo(s-u,d),t.lineTo(s-u,i),t.lineTo(n,i),t.lineTo(n,d),t.closePath(),b.x=s-u,b.y=d,b.width=2*u,b.height=l-d,t.fillStyle=o.frontGradient.generateGradient(t,b),t.fillStroke(a)}}),Ext.define("Ext.chart.series.Bar3D",{extend:"Ext.chart.series.Bar",requires:["Ext.chart.series.sprite.Bar3D","Ext.chart.series.sprite.Box"],alias:"series.bar3d",type:"bar3d",seriesType:"bar3dSeries",is3D:!0,config:{itemInstancing:{type:"box",fx:{customDurations:{x:0,y:0,width:0,height:0,depth:0}}},highlightCfg:{opacity:.8}},updateXAxis:function(e,t){"category3d"!==e.type&&Ext.raise("'bar3d' series should be used with a 'category3d' axis. Please refer to the 'bar3d' series docs."),this.callParent([e,t])},getSprites:function(){var e,t,n,i=this.callParent(arguments);for(n=0;n<i.length;n++)(t=(e=i[n]).attr.zIndex)<0&&e.setAttributes({zIndex:-t}),e.setSeries&&e.setSeries(this);return i},getDepth:function(){var e=this.getSprites()[0];return e&&e.depth||0},getItemForPoint:function(e,t){if(this.getSprites()){var n,i,r,o,a=this,s=a.getItemInstancing(),l=a.getSprites(),d=a.getStore(),c=a.getHidden(),u=a.getChart(),h=u.getInnerPadding();for(e+=u.getInherited().rtl?h.right:-h.left,t+=h.bottom,n=l.length-1;n>=0;n--)if(!c[n]&&-1!==(r=(i=l[n]).getIndexNearPoint(e,t)))return o=a.getYField(),{series:a,index:r,category:s?"items":"markers",record:d.getData().items[r],field:"string"==typeof o?o:o[n],sprite:i};return null}}}),Ext.define("Ext.draw.LimitedCache",{config:{limit:40,feeder:function(){return 0},scope:null},cache:null,constructor:function(e){this.cache={},this.cache.list=[],this.cache.tail=0,this.initConfig(e)},get:function(e){var t=this.cache,n=this.getLimit(),i=this.getFeeder(),r=this.getScope()||this;return t[e]?t[e].value:(t.list[t.tail]&&delete t[t.list[t.tail].cacheId],t[e]=t.list[t.tail]={value:i.apply(r,Array.prototype.slice.call(arguments,1)),cacheId:e},t.tail++,t.tail===n&&(t.tail=0),t[e].value)},clear:function(){this.cache={},this.cache.list=[],this.cache.tail=0}}),Ext.define("Ext.draw.SegmentTree",{config:{strategy:"double"},time:function(e,t,n,i,r,o,a){var s,l,d,c,u,h,f=0,g=new Date(n[e.startIdx[0]]),p=new Date(n[e.endIdx[t-1]]),m=Ext.Date,x=[[m.MILLI,1,"ms1",null],[m.MILLI,2,"ms2","ms1"],[m.MILLI,5,"ms5","ms1"],[m.MILLI,10,"ms10","ms5"],[m.MILLI,50,"ms50","ms10"],[m.MILLI,100,"ms100","ms50"],[m.MILLI,500,"ms500","ms100"],[m.SECOND,1,"s1","ms500"],[m.SECOND,10,"s10","s1"],[m.SECOND,30,"s30","s10"],[m.MINUTE,1,"mi1","s10"],[m.MINUTE,5,"mi5","mi1"],[m.MINUTE,10,"mi10","mi5"],[m.MINUTE,30,"mi30","mi10"],[m.HOUR,1,"h1","mi30"],[m.HOUR,6,"h6","h1"],[m.HOUR,12,"h12","h6"],[m.DAY,1,"d1","h12"],[m.DAY,7,"d7","d1"],[m.MONTH,1,"mo1","d1"],[m.MONTH,3,"mo3","mo1"],[m.MONTH,6,"mo6","mo3"],[m.YEAR,1,"y1","mo3"],[m.YEAR,5,"y5","y1"],[m.YEAR,10,"y10","y5"],[m.YEAR,100,"y100","y10"]],E=f,v=t,y=e.startIdx,b=e.endIdx,C=e.minIdx,S=e.maxIdx,w=e.open,T=e.close,P=e.minX,k=e.minY,I=e.maxX,M=e.maxY;for(d=0;t>f+1&&d<x.length;d++)if(g=new Date(n[y[0]]),c=x[d],g=m.align(g,c[0],c[1]),!(m.diff(g,p,c[0])>2*n.length*c[1])){for(c[3]&&e.map["time_"+c[3]]?(s=e.map["time_"+c[3]][0],l=e.map["time_"+c[3]][1]):(s=E,l=v),f=t,h=g,!0,y[t]=y[s],b[t]=b[s],C[t]=C[s],S[t]=S[s],w[t]=w[s],T[t]=T[s],P[t]=P[s],k[t]=k[s],I[t]=I[s],M[t]=M[s],h=Ext.Date.add(h,c[0],c[1]),u=s+1;u<l;u++)n[b[u]]<+h?(b[t]=b[u],T[t]=T[u],M[u]>M[t]&&(M[t]=M[u],I[t]=I[u],S[t]=S[u]),k[u]<k[t]&&(k[t]=k[u],P[t]=P[u],C[t]=C[u])):(y[++t]=y[u],b[t]=b[u],C[t]=C[u],S[t]=S[u],w[t]=w[u],T[t]=T[u],P[t]=P[u],k[t]=k[u],I[t]=I[u],M[t]=M[u],h=Ext.Date.add(h,c[0],c[1]));t>f&&(e.map["time_"+c[2]]=[f,t])}},double:function(e,t,n,i,r,o,a){for(var s,l,d,c,u,h,f,g,p,m,x,E,v=0,y=1;t>v+1;){for(s=v,v=t,y+=y,l=s;l<v;l+=2)l===v-1?(d=e.startIdx[l],c=e.endIdx[l],u=e.minIdx[l],h=e.maxIdx[l],f=e.open[l],g=e.close[l],p=e.minX[l],m=e.minY[l],x=e.maxX[l],E=e.maxY[l]):(d=e.startIdx[l],c=e.endIdx[l+1],f=e.open[l],g=e.close[l],e.minY[l]<=e.minY[l+1]?(u=e.minIdx[l],p=e.minX[l],m=e.minY[l]):(u=e.minIdx[l+1],p=e.minX[l+1],m=e.minY[l+1]),e.maxY[l]>=e.maxY[l+1]?(h=e.maxIdx[l],x=e.maxX[l],E=e.maxY[l]):(h=e.maxIdx[l+1],x=e.maxX[l+1],E=e.maxY[l+1])),e.startIdx[t]=d,e.endIdx[t]=c,e.minIdx[t]=u,e.maxIdx[t]=h,e.open[t]=f,e.close[t]=g,e.minX[t]=p,e.minY[t]=m,e.maxX[t]=x,e.maxY[t]=E,t++;e.map["double_"+y]=[v,t]}},none:Ext.emptyFn,aggregateData:function(e,t,n,i,r){var o,a=e.length,s=[],l=[],d=[],c=[],u=[],h=[],f=[],g=[],p=[],m=[],x={startIdx:s,endIdx:l,minIdx:d,maxIdx:c,open:u,minX:h,minY:f,maxX:g,maxY:p,close:m};for(o=0;o<a;o++)s[o]=o,l[o]=o,d[o]=o,c[o]=o,u[o]=t[o],h[o]=e[o],f[o]=i[o],g[o]=e[o],p[o]=n[o],m[o]=r[o];return x.map={original:[0,a]},a&&this[this.getStrategy()](x,a,e,t,n,i,r),x},binarySearchMin:function(e,t,n,i){var r=this.dataX;if(i<=r[e.startIdx[0]])return t;if(i>=r[e.startIdx[n-1]])return n-1;for(;t+1<n;){var o=t+n>>1,a=r[e.startIdx[o]];if(a===i)return o;a<i?t=o:n=o}return t},binarySearchMax:function(e,t,n,i){var r=this.dataX;if(i<=r[e.endIdx[0]])return t;if(i>=r[e.endIdx[n-1]])return n-1;for(;t+1<n;){var o=t+n>>1,a=r[e.endIdx[o]];if(a===i)return o;a<i?t=o:n=o}return n},constructor:function(e){this.initConfig(e)},setData:function(e,t,n,i,r){n||(r=i=n=t),this.dataX=e,this.dataOpen=t,this.dataHigh=n,this.dataLow=i,this.dataClose=r,e.length===n.length&&e.length===i.length&&(this.cache=this.aggregateData(e,t,n,i,r))},getAggregation:function(e,t,n){if(!this.cache)return null;var i,r,o,a,s,l=1/0,d=this.dataX[this.dataX.length-1]-this.dataX[0],c=this.cache.map,u=c.original;for(i in c)n<=(o=d/((r=c[i])[1]-r[0]-1))&&o<l&&(u=r,l=o);return a=Math.max(this.binarySearchMin(this.cache,u[0],u[1],e),u[0]),s=Math.min(this.binarySearchMax(this.cache,u[0],u[1],t)+1,u[1]),{data:this.cache,start:a,end:s}}}),Ext.define("Ext.chart.series.sprite.Aggregative",{extend:"Ext.chart.series.sprite.Cartesian",requires:["Ext.draw.LimitedCache","Ext.draw.SegmentTree"],inheritableStatics:{def:{processors:{dataHigh:"data",dataLow:"data",dataClose:"data"},aliases:{dataOpen:"dataY"},defaults:{dataHigh:null,dataLow:null,dataClose:null}}},config:{aggregator:{}},applyAggregator:function(e,t){return Ext.factory(e,Ext.draw.SegmentTree,t)},constructor:function(){this.callParent(arguments)},processDataY:function(){var e,t=this.attr,n=t.dataHigh,i=t.dataLow,r=t.dataClose,o=t.dataY;this.callParent(arguments),t.dataX&&o&&o.length>0&&(e=this.getAggregator(),n?e.setData(t.dataX,t.dataY,n,i,r):e.setData(t.dataX,t.dataY))},getGapWidth:function(){return 1},renderClipped:function(e,t,n,i){var r=this,o=Math.min(n[0],n[2]),a=Math.max(n[0],n[2]),s=r.getAggregator(),l=s&&s.getAggregation(o,a,(a-o)/i[2]*r.getGapWidth());l&&(r.dataStart=l.data.startIdx[l.start],r.dataEnd=l.data.endIdx[l.end-1],r.renderAggregates(l.data,l.start,l.end,e,t,n,i))}}),Ext.define("Ext.chart.series.sprite.CandleStick",{alias:"sprite.candlestickSeries",extend:"Ext.chart.series.sprite.Aggregative",inheritableStatics:{def:{processors:{raiseStyle:function(e,t){return Ext.merge({},t||{},e)},dropStyle:function(e,t){return Ext.merge({},t||{},e)},barWidth:"number",padding:"number",ohlcType:"enums(candlestick,ohlc)"},defaults:{raiseStyle:{strokeStyle:"green",fillStyle:"green"},dropStyle:{strokeStyle:"red",fillStyle:"red"},planar:!1,barWidth:15,padding:3,lineJoin:"miter",miterLimit:5,ohlcType:"candlestick"},triggers:{raiseStyle:"raiseStyle",dropStyle:"dropStyle"},updaters:{raiseStyle:function(){this.raiseTemplate&&this.raiseTemplate.setAttributes(this.attr.raiseStyle)},dropStyle:function(){this.dropTemplate&&this.dropTemplate.setAttributes(this.attr.dropStyle)}}}},candlestick:function(e,t,n,i,r,o,a){var s=Math.min(t,r),l=Math.max(t,r);e.moveTo(o,i),e.lineTo(o,l),e.moveTo(o+a,l),e.lineTo(o+a,s),e.lineTo(o-a,s),e.lineTo(o-a,l),e.closePath(),e.moveTo(o,n),e.lineTo(o,s)},ohlc:function(e,t,n,i,r,o,a){e.moveTo(o,n),e.lineTo(o,i),e.moveTo(o,t),e.lineTo(o-a,t),e.moveTo(o,r),e.lineTo(o+a,r)},constructor:function(){this.callParent(arguments),this.raiseTemplate=new Ext.draw.sprite.Rect({parent:this}),this.dropTemplate=new Ext.draw.sprite.Rect({parent:this})},getGapWidth:function(){var e=this.attr;return e.barWidth+e.padding},renderAggregates:function(e,t,n,i,r,o){var a,s,l,d,c,u,h,f=this.attr,g=f.dataX,p=f.matrix,m=p.getXX(),x=p.getYY(),E=p.getDX(),v=p.getDY(),y=f.barWidth/m,b=f.ohlcType,C=Math.round(.5*y*m),S=e.open,w=e.close,T=e.maxY,P=e.minY,k=e.startIdx,I=f.lineWidth*i.devicePixelRatio/2;for(I-=Math.floor(I),r.save(),(a=this.raiseTemplate).useAttributes(r,o),r.beginPath(),h=t;h<n;h++)S[h]<=w[h]&&(s=Math.round(S[h]*x+v)+I,l=Math.round(T[h]*x+v)+I,d=Math.round(P[h]*x+v)+I,c=Math.round(w[h]*x+v)+I,u=Math.round(g[k[h]]*m+E)+I,this[b](r,s,l,d,c,u,C));for(r.fillStroke(a.attr),r.restore(),r.save(),(a=this.dropTemplate).useAttributes(r,o),r.beginPath(),h=t;h<n;h++)S[h]>w[h]&&(s=Math.round(S[h]*x+v)+I,l=Math.round(T[h]*x+v)+I,d=Math.round(P[h]*x+v)+I,c=Math.round(w[h]*x+v)+I,u=Math.round(g[k[h]]*m+E)+I,this[b](r,s,l,d,c,u,C));r.fillStroke(a.attr),r.restore()}}),Ext.define("Ext.chart.series.CandleStick",{extend:"Ext.chart.series.Cartesian",requires:["Ext.chart.series.sprite.CandleStick"],alias:"series.candlestick",type:"candlestick",seriesType:"candlestickSeries",config:{openField:null,highField:null,lowField:null,closeField:null},fieldCategoryY:["Open","High","Low","Close"],themeColorCount:function(){return 2}}),Ext.define("Ext.chart.series.Polar",{extend:"Ext.chart.series.Series",config:{rotation:0,radius:null,center:[0,0],offsetX:0,offsetY:0,showInLegend:!0,xField:null,yField:null,angleField:null,radiusField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],deprecatedConfigs:{field:"angleField",lengthField:"radiusField"},constructor:function(e){var t,n=this.self.getConfigurator().configs;if(e)for(t in this.deprecatedConfigs)t in e&&!(e in n)&&Ext.raise("'"+t+"' config has been deprecated. Please use the '"+this.deprecatedConfigs[t]+"' config instead.");this.callParent([e])},getXField:function(){return this.getAngleField()},updateXField:function(e){this.setAngleField(e)},getYField:function(){return this.getRadiusField()},updateYField:function(e){this.setRadiusField(e)},applyXAxis:function(e,t){return this.getChart().getAxis(e)||t},applyYAxis:function(e,t){return this.getChart().getAxis(e)||t},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]},themeColorCount:function(){var e=this.getStore();return e&&e.getCount()||0},isStoreDependantColorCount:!0,getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer(),centerX:0,centerY:0,rotationCenterX:0,rotationCenterY:0}},applyRotation:function(e){return Ext.draw.sprite.AttributeParser.angle(e)},updateRotation:function(e){var t=this.getSprites();t&&t[0]&&t[0].setAttributes({baseRotation:e})}}),Ext.define("Ext.chart.series.Gauge",{alias:"series.gauge",extend:"Ext.chart.series.Polar",type:"gauge",seriesType:"pieslice",requires:["Ext.draw.sprite.Sector"],config:{needle:!1,needleLength:90,needleWidth:4,donut:30,showInLegend:!1,value:null,colors:null,sectors:null,minimum:0,maximum:100,rotation:0,totalAngle:Math.PI/2,rect:[0,0,1,1],center:[.5,.75],radius:.5,wholeDisk:!1},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},updateNeedle:function(e){var t=this,n=t.getSprites(),i=t.valueToAngle(t.getValue());n&&n.length&&(n[0].setAttributes({startAngle:e?i:0,endAngle:i,strokeOpacity:e?1:0,lineWidth:e?t.getNeedleWidth():0}),t.doUpdateStyles())},themeColorCount:function(){var e=this.getStore();return(e&&e.getCount()||0)+(this.getNeedle()?0:1)},updateColors:function(e,t){var n,i=this.getSectors(),r=i&&i.length,o=this.getSprites(),a=Ext.Array.clone(e),s=e&&e.length;if(s&&e[0]){for(n=0;n<r;n++)a[n+1]=i[n].color||a[n+1]||e[n%s];o.length&&o[0].setAttributes({strokeStyle:a[0]}),this.setSubStyle({fillStyle:a,strokeStyle:a}),this.doUpdateStyles()}},updateRect:function(e){var t,n,i,r=this.getWholeDisk()?Math.PI:this.getTotalAngle()/2,o=this.getDonut()/100;r<=Math.PI/2?(t=2*Math.sin(r),n=1-o*Math.cos(r)):(t=2,n=1-Math.cos(r)),i=Math.min(e[2]/t,e[3]/n),this.setRadius(i),this.setCenter([e[2]/2,i+(e[3]-n*i)/2])},updateCenter:function(e){this.setStyle({centerX:e[0],centerY:e[1],rotationCenterX:e[0],rotationCenterY:e[1]}),this.doUpdateStyles()},updateRotation:function(e){this.setStyle({rotationRads:e-(this.getTotalAngle()+Math.PI)/2}),this.doUpdateStyles()},doUpdateShape:function(e,t){var n,i=this.getSectors(),r=i&&i.length||0;for(n=[e*(this.getNeedleLength()/100),e];r--;)n.push(e);this.setSubStyle({endRho:n,startRho:e/100*t}),this.doUpdateStyles()},updateRadius:function(e){var t=this.getDonut();this.doUpdateShape(e,t)},updateDonut:function(e){var t=this.getRadius();this.doUpdateShape(t,e)},valueToAngle:function(e){return e=this.applyValue(e),this.getTotalAngle()*(e-this.getMinimum())/(this.getMaximum()-this.getMinimum())},applyValue:function(e){return Math.min(this.getMaximum(),Math.max(e,this.getMinimum()))},updateValue:function(e){var t=this.getNeedle(),n=this.valueToAngle(e),i=this.getSprites();i[0].getRendererData().value=e,i[0].setAttributes({startAngle:t?n:0,endAngle:n}),this.doUpdateStyles()},processData:function(){var e,t,n,i,r,o,a,s=this,l=s.getStore(),d=l&&l.first();d&&(o=s.getXField())&&(a=d.get(o)),(e=s.getXAxis())&&(t=e.getMinimum(),n=e.getMaximum(),r=(i=e.getSprites()[0].fx).getDuration(),i.setDuration(0),Ext.isNumber(t)?s.setMinimum(t):e.setMinimum(s.getMinimum()),Ext.isNumber(n)?s.setMaximum(n):e.setMaximum(s.getMaximum()),i.setDuration(r)),Ext.isNumber(a)||(a=s.getMinimum()),s.setValue(a)},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer(),fx:{customDurations:{translationX:0,translationY:0,rotationCenterX:0,rotationCenterY:0,centerX:0,centerY:0,startRho:0,endRho:0,baseRotation:0}}}},normalizeSectors:function(e){var t,n,i,r,o=this,a=e&&e.length||0;if(a)for(t=0;t<a;t++)"number"==typeof(n=e[t])?(e[t]={start:t>0?e[t-1].end:o.getMinimum(),end:Math.min(n,o.getMaximum())},t==a-1&&e[t].end<o.getMaximum()&&(e[t+1]={start:e[t].end,end:o.getMaximum()})):(i="number"==typeof n.start?Math.max(n.start,o.getMinimum()):t>0?e[t-1].end:o.getMinimum(),r="number"==typeof n.end?Math.min(n.end,o.getMaximum()):o.getMaximum(),e[t].start=i,e[t].end=r);else e=[{start:o.getMinimum(),end:o.getMaximum()}];return e},getSprites:function(){var e,t,n=this,i=n.getStore(),r=n.getValue();if(!i&&!Ext.isNumber(r))return[];var o,a,s,l,d=n.getChart(),c=n.getAnimation()||d&&d.getAnimation(),u=n.sprites,h=0,f=[];if(u&&u.length)return u[0].setAnimation(c),u;for(l={store:i,field:n.getXField(),angleField:n.getXField(),value:r,series:n},(o=n.createSprite()).setAttributes({zIndex:10},!0),o.setRendererData(l),o.setRendererIndex(h++),f.push(n.getNeedleWidth()),n.getLabel().getTemplate().setField(!0),e=0,t=(a=n.normalizeSectors(n.getSectors())).length;e<t;e++)s={startAngle:n.valueToAngle(a[e].start),endAngle:n.valueToAngle(a[e].end),label:a[e].label,fillStyle:a[e].color,strokeOpacity:0,doCallout:!1,labelOverflowPadding:-1},Ext.apply(s,a[e].style),(o=n.createSprite()).setRendererData(l),o.setRendererIndex(h++),o.setAttributes(s,!0),f.push(s.lineWidth);return n.setSubStyle({lineWidth:f}),n.doUpdateStyles(),u}}),Ext.define("Ext.chart.series.sprite.Line",{alias:"sprite.lineSeries",extend:"Ext.chart.series.sprite.Aggregative",inheritableStatics:{def:{processors:{smooth:"bool",fillArea:"bool",step:"bool",nullStyle:"enums(gap,connect,origin)",preciseStroke:"bool",xAxis:"default",yCap:"default"},defaults:{smooth:!1,nullStyle:"connect",fillArea:!1,step:!1,preciseStroke:!0,xAxis:null,yCap:Math.pow(2,20),yJump:50},triggers:{dataX:"dataX,bbox,smooth",dataY:"dataY,bbox,smooth",smooth:"smooth"},updaters:{smooth:function(e){var t=e.dataX,n=e.dataY;e.smooth&&t&&n&&t.length>2&&n.length>2?(this.smoothX=Ext.draw.Draw.spline(t),this.smoothY=Ext.draw.Draw.spline(n)):(delete this.smoothX,delete this.smoothY)}}}},list:null,updatePlainBBox:function(e){var t=this.attr,n=Math.min(0,t.dataMinY),i=Math.max(0,t.dataMaxY);e.x=t.dataMinX,e.y=n,e.width=t.dataMaxX-t.dataMinX,e.height=i-n},drawStrip:function(e,t){e.moveTo(t[0],t[1]);for(var n=2,i=t.length;n<i;n+=2)e.lineTo(t[n],t[n+1])},drawStraightStroke:function(e,t,n,i,r,o){var a,s,l,d,c,u,h,f,g,p,m,x,E,v,y,b,C,S,w,T,P=this,k=P.attr,I=k.nullStyle,M="connect"===I,R="origin"===I,A=k.renderer,D=k.step,F=!0,L=r.length,O={type:"line",smooth:!1,step:D},B=[];for(t.beginPath(),T=3;T<L;T+=3)b=r[T-3],C=r[T-2],v=r[T],y=r[T+1],S=r[T+3],w=r[T+4],d=Ext.isNumber(b),c=Ext.isNumber(v),u=Ext.isNumber(S),h=d&&Ext.isNumber(C),f=c&&Ext.isNumber(y),g=u&&Ext.isNumber(w),R&&(!h&&d&&(C=o,h=!0),!f&&c&&(y=o,f=!0),!g&&u&&(w=o,g=!0)),A&&(O.x=v,O.y=y,O.x0=b,O.y0=C,s=[P,O,P.rendererData,n+T/3],a=Ext.callback(A,null,s,0,P.getSeries())),p&&M&&h&&m&&(x=m[0],E=m[1],F&&(t.beginPath(),t.moveTo(x,E),B.push(x,E),l=x,F=!1),D&&(t.lineTo(b,E),B.push(b,E)),t.lineTo(b,C),B.push(b,C),m=[b,C],p=!1),M&&m&&f&&!h&&(b=m[0],C=m[1],h=!0),f&&(m=[v,y]),h&&f?(F&&(t.beginPath(),t.moveTo(b,C),B.push(b,C),l=b,F=!1),D&&(t.lineTo(v,C),B.push(v,C)),t.lineTo(v,y),B.push(v,y),!a&&g||(t.save(),Ext.apply(t,a),a=null,k.fillArea&&(t.lineTo(v,o),t.lineTo(l,o),t.closePath(),t.fill()),t.beginPath(),P.drawStrip(t,B),B=[],t.stroke(),t.restore(),t.beginPath(),F=!0)):p=!0},calculateScale:function(e,t){for(var n=0,i=e;i<t&&e>0;)i+=e>>++n;return Math.pow(2,n>0?n-1:n)},drawSmoothStroke:function(e,t,n,i,r,o){var a,s,l,d,c,u,h,f,g,p,m,x,E=this,v=E.attr,y=v.step,b=v.matrix,C=v.renderer,S=b.getXX(),w=b.getYY(),T=b.getDX(),P=b.getDY(),k=E.smoothX,I=E.smoothY,M=E.calculateScale(v.dataX.length,i),R={type:"line",smooth:!0,step:y};for(t.beginPath(),t.moveTo(k[3*n]*S+T,I[3*n]*w+P),g=0,p=3*n+1;g<r.length-3;g+=3,p+=3*M)a=k[p]*S+T,s=I[p]*w+P,l=k[p+1]*S+T,d=I[p+1]*w+P,c=e.roundPixel(r[g+3]),u=r[g+4],h=e.roundPixel(r[g]),f=r[g+1],C&&(R.x0=h,R.y0=f,R.cx1=a,R.cy1=s,R.cx2=l,R.cy2=d,R.x=c,R.y=u,x=[E,R,E.rendererData,n+g/3+1],m=Ext.callback(C,null,x,0,E.getSeries()),t.save(),Ext.apply(t,m)),v.fillArea&&(t.moveTo(h,f),t.bezierCurveTo(a,s,l,d,c,u),t.lineTo(c,o),t.lineTo(h,o),t.lineTo(h,f),t.closePath(),t.fill(),t.beginPath()),t.moveTo(h,f),t.bezierCurveTo(a,s,l,d,c,u),t.stroke(),t.moveTo(h,f),t.closePath(),C&&t.restore(),t.beginPath(),t.moveTo(c,u);t.beginPath()},drawLabel:function(e,t,n,i,r){var o,a,s,l,d,c,u,h=this,f=h.attr,g=h.getMarker("labels"),p=g.getTemplate(),m=h.labelCfg||(h.labelCfg={}),x=h.surfaceMatrix,E=f.labelOverflowPadding;switch(m.x=x.x(t,n),m.y=x.y(t,n),f.flipXY?m.rotationRads=.5*Math.PI:m.rotationRads=0,m.text=e,p.attr.renderer&&(c=[e,g,m,h.rendererData,i],"string"==typeof(d=Ext.callback(p.attr.renderer,null,c,0,h.getSeries()))?m.text=d:"object"==typeof d&&("text"in d&&(m.text=d.text),u=!0)),(l=h.getMarkerBBox("labels",i,!0))||(h.putMarker("labels",m,i),l=h.getMarkerBBox("labels",i,!0)),s=l.height/2,o=t,p.attr.display){case"under":a=n-s-E;break;case"rotate":o+=E,a=n-E,m.rotationRads=-Math.PI/4;break;default:a=n+s+E}m.x=x.x(o,a),m.y=x.y(o,a),u&&Ext.apply(m,d),h.putMarker("labels",m,i)},drawMarker:function(e,t,n){var i,r,o=this,a=o.attr.renderer,s=o.surfaceMatrix,l={};a&&o.getMarker("markers")&&(l.type="marker",l.x=e,l.y=t,r=[o,l,o.rendererData,n],(i=Ext.callback(a,null,r,0,o.getSeries()))&&Ext.apply(l,i)),l.translationX=s.x(e,t),l.translationY=s.y(e,t),delete l.x,delete l.y,o.putMarker("markers",l,n,!a)},drawStroke:function(e,t,n,i,r,o){var a=this;a.attr.smooth&&a.smoothX&&a.smoothY?a.drawSmoothStroke(e,t,n,i,r,o):a.drawStraightStroke(e,t,n,i,r,o)},renderAggregates:function(e,t,n,i,r,o,a){var s,l,d,c,u,h,f,g,p,m,x=this,E=x.attr,v=E.dataX,y=E.dataY,b=E.labels,C=E.xAxis,S=E.yCap,w=E.smooth&&x.smoothX&&x.smoothY,T=b&&x.getMarker("labels"),P=x.getMarker("markers"),k=E.matrix,I=i.devicePixelRatio,M=k.getXX(),R=k.getYY(),A=k.getDX(),D=k.getDY(),F=x.list||(x.list=[]),L=e.minX,O=e.maxX,B=e.minY,N=e.maxY,H=e.startIdx,V=!0;for(x.rendererData={store:x.getStore()},F.length=0,p=t;p<n;p++){var z=L[p],W=O[p],G=B[p],_=N[p];s=Ext.isNumber(z),d=Ext.isNumber(G),l=Ext.isNumber(W),c=Ext.isNumber(_),z<W?(F.push(s?z*M+A:null,d?G*R+D:null,H[p]),F.push(l?W*M+A:null,c?_*R+D:null,H[p])):z>W?(F.push(l?W*M+A:null,c?_*R+D:null,H[p]),F.push(s?z*M+A:null,d?G*R+D:null,H[p])):F.push(l?W*M+A:null,c?_*R+D:null,H[p])}if(F.length){for(p=0;p<F.length;p+=3)f=F[p],g=F[p+1],Ext.isNumber(f)&&Ext.isNumber(g)?(g>S?g=S:g<-S&&(g=-S),F[p+1]=g,m=F[p+2],P&&x.drawMarker(f,g,m),T&&b[m]&&x.drawLabel(b[m],f,g,m,a)):V=!1;if(x.isContinuousLine=V,w&&!V&&Ext.raise("Line smoothing in only supported for gapless data, where all data points are finite numbers."),C?(h="vertical"===C.getAlignment(),u=Ext.isNumber(C.floatingAtCoord)?(h?a[2]:a[3])-C.floatingAtCoord:h?a[0]:a[1]):u=E.flipXY?a[0]:a[1],E.preciseStroke)E.fillArea&&r.fill(),E.transformFillStroke&&E.inverseMatrix.toContext(r),x.drawStroke(i,r,t,n,F,u),E.transformFillStroke&&E.matrix.toContext(r),r.stroke();else{if(x.drawStroke(i,r,t,n,F,u),V&&w&&E.fillArea&&!E.renderer){var X=v[v.length-1]*M+A+I,U=y[y.length-1]*R+D,Y=v[0]*M+A-I,q=y[0]*R+D;r.lineTo(X,U),r.lineTo(X,u-E.lineWidth),r.lineTo(Y,u-E.lineWidth),r.lineTo(Y,q)}E.transformFillStroke&&E.matrix.toContext(r),E.fillArea?r.fillStroke(E,!0):r.stroke(!0)}}}}),Ext.define("Ext.chart.series.Line",{extend:"Ext.chart.series.Cartesian",alias:"series.line",type:"line",seriesType:"lineSeries",requires:["Ext.chart.series.sprite.Line"],config:{selectionTolerance:20,smooth:!1,step:!1,nullStyle:"gap",fill:void 0,aggregator:{strategy:"double"}},defaultSmoothness:3,overflowBuffer:1,themeMarkerCount:function(){return 1},getDefaultSpriteConfig:function(){var e,t=this,n=t.callParent(arguments),i=Ext.apply({},t.getStyle()),r=!1;return void 0!==t.config.fill?t.config.fill&&(r=!0,void 0===i.fillStyle&&(void 0===i.strokeStyle?(e=t.getStyleWithTheme(),i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle):i.fillStyle=i.strokeStyle)):i.fillStyle&&(r=!0),r||delete i.fillStyle,i=Ext.apply(n||{},i),Ext.apply(i,{fillArea:r,step:t.config.step,smooth:t.config.smooth,selectionTolerance:t.config.selectionTolerance})},updateStep:function(e){var t=this.getSprites()[0];t&&t.attr.step!==e&&t.setAttributes({step:e})},updateFill:function(e){var t=this.getSprites()[0];t&&t.attr.fillArea!==e&&t.setAttributes({fillArea:e})},updateSmooth:function(e){var t=this.getSprites()[0];t&&t.attr.smooth!==e&&t.setAttributes({smooth:e})},updateNullStyle:function(e){var t=this.getSprites()[0];t&&t.attr.nullStyle!==e&&t.setAttributes({nullStyle:e})}}),Ext.define("Ext.chart.series.sprite.PieSlice",{extend:"Ext.draw.sprite.Sector",mixins:{markerHolder:"Ext.chart.MarkerHolder"},alias:"sprite.pieslice",inheritableStatics:{def:{processors:{doCallout:"bool",label:"string",rotateLabels:"bool",labelOverflowPadding:"number",renderer:"default"},defaults:{doCallout:!0,rotateLabels:!0,label:"",labelOverflowPadding:10,renderer:null}}},config:{rendererData:null,rendererIndex:0,series:null},setGradientBBox:function(e,t){var n=this.attr;if((n.fillStyle&&n.fillStyle.isGradient||n.strokeStyle&&n.strokeStyle.isGradient)&&!n.constrainGradients){var i=this.getMidAngle(),r=n.margin,o=n.centerX,a=n.centerY,s=n.endRho,l=n.matrix,d=l.getScaleX()*s,c=l.getScaleY()*s,u={width:d+d,height:c+c};r&&(o+=r*Math.cos(i),a+=r*Math.sin(i)),u.x=l.x(o,a)-d,u.y=l.y(o,a)-c,e.setGradientBBox(u)}else this.callParent([e,t])},render:function(e,t,n){var i,r=this,o=r.attr,a={};o.renderer&&(a={type:"sector",text:o.text,centerX:o.centerX,centerY:o.centerY,margin:o.margin,startAngle:Math.min(o.startAngle,o.endAngle),endAngle:Math.max(o.startAngle,o.endAngle),startRho:Math.min(o.startRho,o.endRho),endRho:Math.max(o.startRho,o.endRho)},i=Ext.callback(o.renderer,null,[r,a,r.getRendererData(),r.getRendererIndex()],0,r.getSeries()),r.setAttributes(i),r.useAttributes(t,n)),r.callParent([e,t,n]),o.label&&r.getMarker("labels")&&r.placeLabel()},placeLabel:function(){var e,t,n,i,r,o,a=this,s=a.attr,l=s.attributeId,d=.5*(Math.min(s.startAngle,s.endAngle)+Math.max(s.startAngle,s.endAngle)),c=s.margin,u=s.centerX,h=s.centerY,f=Math.sin(d),g=Math.cos(d),p=Math.min(s.startRho,s.endRho)+c,m=Math.max(s.startRho,s.endRho)+c,x=.5*(p+m),E=a.surfaceMatrix,v=a.labelCfg||(a.labelCfg={}),y=a.getMarker("labels"),b=y.getTemplate(),C=b.getCalloutLine();if(o=C?C.length||40:0,E.appendMatrix(s.matrix),v.text=s.label,t=u+g*x,n=h+f*x,v.x=E.x(t,n),v.y=E.y(t,n),t=u+g*m,n=h+f*m,v.calloutStartX=E.x(t,n),v.calloutStartY=E.y(t,n),t=u+g*(m+o),n=h+f*(m+o),v.calloutPlaceX=E.x(t,n),v.calloutPlaceY=E.y(t,n),s.rotateLabels)switch(b.attr.orientation){case"horizontal":v.rotationRads=d+Math.atan2(E.y(1,0)-E.y(0,0),E.x(1,0)-E.x(0,0))+Math.PI/2;break;case"vertical":v.rotationRads=d+Math.atan2(E.y(1,0)-E.y(0,0),E.x(1,0)-E.x(0,0))}else v.rotationRads=0,Ext.log.warn("'series.style.rotateLabels' config is deprecated. Use 'series.label.orientation' config instead.");v.calloutColor=C&&C.color||a.attr.fillStyle,C?C.width&&(v.calloutWidth=C.width):v.calloutColor="none",v.globalAlpha=s.globalAlpha*s.fillOpacity,"none"!==b.display&&(v.hidden=s.startAngle==s.endAngle),b.attr.renderer&&(r=[a.attr.label,y,v,a.getRendererData(),a.getRendererIndex()],"string"==typeof(i=Ext.callback(b.attr.renderer,null,r,0,a.getSeries()))?v.text=i:Ext.apply(v,i)),a.putMarker("labels",v,l),(e=a.getMarkerBBox("labels",l,!0))&&(s.doCallout?"outside"===b.attr.display?a.putMarker("labels",{callout:1},l):"inside"===b.attr.display?a.putMarker("labels",{callout:0},l):a.putMarker("labels",{callout:1-a.sliceContainsLabel(s,e)},l):a.putMarker("labels",{globalAlpha:a.sliceContainsLabel(s,e)},l))},sliceContainsLabel:function(e,t){var n,i,r,o,a=e.labelOverflowPadding,s=(e.endRho+e.startRho)/2,l=s+(t.width+a)/2,d=s-(t.width+a)/2;return a<0?1:t.width+2*a>e.endRho-e.startRho?0:(i=Math.sqrt(e.endRho*e.endRho-l*l),r=Math.sqrt(e.endRho*e.endRho-d*d),o=(n=Math.abs(e.endAngle-e.startAngle))>Math.PI/2?d:Math.abs(Math.tan(n/2))*d,t.height+2*a>2*Math.min(i,r,o)?0:1)}}),Ext.define("Ext.chart.series.Pie",{extend:"Ext.chart.series.Polar",requires:["Ext.chart.series.sprite.PieSlice"],type:"pie",alias:"series.pie",seriesType:"pieslice",isPie:!0,config:{donut:0,rotation:0,clockwise:!0,totalAngle:2*Math.PI,hidden:[],radiusFactor:100,highlightCfg:{margin:20},style:{}},directions:["X"],applyLabel:function(e,t){return Ext.isObject(e)&&!Ext.isString(e.orientation)&&Ext.apply(e=Ext.Object.chain(e),{orientation:"vertical"}),this.callParent([e,t])},updateLabelData:function(){var e,t,n,i,r=this.getStore().getData().items,o=this.getSprites(),a=this.getLabel().getTemplate().getField(),s=this.getHidden();if(o.length&&a){for(n=[],e=0,t=r.length;e<t;e++)n.push(r[e].get(a));for(e=0,t=o.length;e<t;e++)(i=o[e]).setAttributes({label:n[e]}),i.putMarker("labels",{hidden:s[e]},i.attr.attributeId)}},coordinateX:function(){var e,t,n,i,r,o,a=this,s=a.getStore().getData().items,l=s.length,d=a.getXField(),c=a.getYField(),u=0,h=0,f=a.getHidden(),g=[],p=0,m=a.getTotalAngle(),x=a.getClockwise()?1:-1,E=a.getSprites();if(E){for(i=0;i<l;i++)e=Math.abs(Number(s[i].get(d)))||0,n=c&&Math.abs(Number(s[i].get(c)))||0,f[i]||(u+=e,n>h&&(h=n)),g[i]=u,i>=f.length&&(f[i]=!1);for(f.length=l,a.maxY=h,0!==u&&(t=m/u),i=0;i<l;i++)E[i].setAttributes({startAngle:p,endAngle:p=t?x*g[i]*t:0,globalAlpha:1});if(l<a.sprites.length){for(i=l;i<a.sprites.length;i++)(o=a.sprites[i]).getMarker("labels").clear(o.getId()),o.releaseMarker("labels"),o.destroy();a.sprites.length=l}for(i=l;i<a.sprites.length;i++)E[i].setAttributes({startAngle:m,endAngle:m,globalAlpha:0});(r=a.getChart()).isConfiguring||r.refreshLegendStore()}},updateCenter:function(e){this.setStyle({translationX:e[0]+this.getOffsetX(),translationY:e[1]+this.getOffsetY()}),this.doUpdateStyles()},updateRadius:function(e){this.setStyle({startRho:e*this.getDonut()*.01,endRho:e*this.getRadiusFactor()*.01}),this.doUpdateStyles()},getStyleByIndex:function(e){var t,n,i,r=this,o=r.getStore().getAt(e),a=r.getYField(),s=r.getRadius(),l={};return o&&(i=a&&Math.abs(Number(o.get(a)))||0,t=s*r.getDonut()*.01,n=s*r.getRadiusFactor()*.01,(l=r.callParent([e])).startRho=t,l.endRho=r.maxY?t+(n-t)*i/r.maxY:n),l},updateDonut:function(e){var t=this.getRadius();this.setStyle({startRho:t*e*.01,endRho:t*this.getRadiusFactor()*.01}),this.doUpdateStyles()},rotationOffset:-Math.PI/2,updateRotation:function(e){this.setStyle({rotationRads:e+this.rotationOffset}),this.doUpdateStyles()},updateTotalAngle:function(e){this.processData()},getSprites:function(){var e=this,t=e.getChart(),n=e.getStore();if(!t||!n)return[];e.getColors(),e.getSubStyle();var i,r,o,a=n.getData().items.length,s=e.getAnimation()||t&&t.getAnimation(),l=e.sprites,d=!1,c=0,u=e.getLabel().getTemplate();for(o={store:n,field:e.getXField(),angleField:e.getXField(),radiusField:e.getYField(),series:e},r=0;r<a;r++)(i=l[r])||(i=e.createSprite(),e.getHighlight()&&(i.config.highlight=e.getHighlight(),i.addModifier("highlight",!0)),u.getField()&&(u.setAttributes({labelOverflowPadding:e.getLabelOverflowPadding()}),u.fx.setCustomDurations({callout:200})),i.setAttributes(e.getStyleByIndex(r)),i.setRendererData(o),d=!0),i.setRendererIndex(c++),i.setAnimation(s);return d&&e.doUpdateStyles(),e.sprites},betweenAngle:function(e,t,n){var i=2*Math.PI,r=this.rotationOffset;return t!==n&&(this.getClockwise()?(t+=r,n+=r):(e*=-1,t*=-1,n*=-1,t-=r,n-=r),e-=t,n-=t,e%=i,n%=i,e+=i,n+=i,(e%=i)<(n%=i)||Ext.Number.isEqual(n,0,1e-8))},getItemByIndex:function(e,t){return t=t||"sprites",this.callParent([e,t])},getItemForAngle:function(e){var t,n=this,i=n.getSprites();for(e%=2*Math.PI;e<0;)e+=2*Math.PI;if(i)for(var r=n.getStore(),o=r.getData().items,a=n.getHidden(),s=0,l=r.getCount();s<l;s++)if(!a[s]&&(t=i[s].attr).startAngle<=e&&t.endAngle>=e)return{series:n,sprite:i[s],index:s,record:o[s],field:n.getXField()};return null},getItemForPoint:function(e,t){var n=this,i=n.getSprites();if(i){var r,o,a,s=n.getCenter(),l=n.getOffsetX(),d=n.getOffsetY(),c=e-s[0]+l,u=t-s[1]+d,h=n.getStore(),f=n.getDonut(),g=h.getData().items,p=Math.atan2(u,c)-n.getRotation(),m=Math.sqrt(c*c+u*u),x=n.getRadius()*f*.01,E=n.getHidden();for(r=0,o=g.length;r<o;r++)if(!E[r]&&m>=x+(a=i[r].attr).margin&&m<=a.endRho+a.margin&&n.betweenAngle(p,a.startAngle,a.endAngle))return{series:n,sprite:i[r],index:r,record:g[r],field:n.getXField()};return null}},provideLegendInfo:function(e){var t=this,n=t.getStore();if(n){var i,r,o,a=n.getData().items,s=t.getLabel().getTemplate().getField(),l=t.getXField(),d=t.getHidden();for(i=0;i<a.length;i++)o=(r=t.getStyleByIndex(i)).fillStyle,Ext.isObject(o)&&(o=o.stops&&o.stops[0].color),e.push({name:s?String(a[i].get(s)):l+" "+i,mark:o||r.strokeStyle||"black",disabled:d[i],series:t.getId(),index:i})}}}),Ext.define("Ext.chart.series.sprite.Pie3DPart",{extend:"Ext.draw.sprite.Path",mixins:{markerHolder:"Ext.chart.MarkerHolder"},alias:"sprite.pie3dPart",inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number",thickness:"number",bevelWidth:"number",distortion:"number",baseColor:"color",colorSpread:"number",baseRotation:"number",part:"enums(top,bottom,start,end,innerFront,innerBack,outerFront,outerBack)",label:"string"},aliases:{rho:"endRho"},triggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,partZIndex",endAngle:"path,partZIndex",startRho:"path",endRho:"path,bbox",margin:"path,bbox",thickness:"path",distortion:"path",baseRotation:"path,partZIndex",baseColor:"partZIndex,partColor",colorSpread:"partColor",part:"path,partZIndex",globalAlpha:"canvas,alpha",fillOpacity:"canvas,alpha"},defaults:{centerX:0,centerY:0,startAngle:2*Math.PI,endAngle:2*Math.PI,startRho:0,endRho:150,margin:0,thickness:35,distortion:.5,baseRotation:0,baseColor:"white",colorSpread:1,miterLimit:1,bevelWidth:5,strokeOpacity:0,part:"top",label:""},updaters:{alpha:"alphaUpdater",partColor:"partColorUpdater",partZIndex:"partZIndexUpdater"}}},bevelParams:[],constructor:function(e){this.callParent([e]),this.bevelGradient=new Ext.draw.gradient.Linear({stops:[{offset:0,color:"rgba(255,255,255,0)"},{offset:.7,color:"rgba(255,255,255,0.6)"},{offset:1,color:"rgba(255,255,255,0)"}]})},alphaUpdater:function(e){var t=this,n=e.globalAlpha,i=e.fillOpacity,r=t.oldOpacity,o=t.oldFillOpacity;(n===r||1!==n&&1!==r)&&(i===o||1!==i&&1!==o)||(t.scheduleUpdater(e,"path",["globalAlpha"]),t.oldOpacity=n,t.oldFillOpacity=i)},partColorUpdater:function(e){var t,n=Ext.util.Color.fly(e.baseColor),i=n.toString(),r=e.colorSpread;switch(e.part){case"top":t=new Ext.draw.gradient.Radial({start:{x:0,y:0,r:0},end:{x:0,y:0,r:1},stops:[{offset:0,color:n.createLighter(.1*r)},{offset:1,color:n.createDarker(.1*r)}]});break;case"bottom":t=new Ext.draw.gradient.Radial({start:{x:0,y:0,r:0},end:{x:0,y:0,r:1},stops:[{offset:0,color:n.createDarker(.2*r)},{offset:1,color:n.toString()}]});break;case"outerFront":case"outerBack":t=new Ext.draw.gradient.Linear({stops:[{offset:0,color:n.createDarker(.15*r).toString()},{offset:.3,color:i},{offset:.8,color:n.createLighter(.2*r).toString()},{offset:1,color:n.createDarker(.25*r).toString()}]});break;case"start":case"end":t=new Ext.draw.gradient.Linear({stops:[{offset:0,color:n.createDarker(.1*r).toString()},{offset:1,color:n.createLighter(.2*r).toString()}]});break;case"innerFront":case"innerBack":t=new Ext.draw.gradient.Linear({stops:[{offset:0,color:n.createDarker(.1*r).toString()},{offset:.2,color:n.createLighter(.2*r).toString()},{offset:.7,color:i},{offset:1,color:n.createDarker(.1*r).toString()}]})}e.fillStyle=t,e.canvasAttributes.fillStyle=t},partZIndexUpdater:function(e){var t,n=Ext.draw.sprite.AttributeParser.angle,i=e.baseRotation,r=e.startAngle,o=e.endAngle;switch(e.part){case"top":e.zIndex=6;break;case"outerFront":r=n(r+i),o=n(o+i),t=r>=0&&o<0?Math.sin(r):r<=0&&o>0?Math.sin(o):r>=0&&o>0?r>o?0:Math.max(Math.sin(r),Math.sin(o)):1,e.zIndex=4+t;break;case"outerBack":e.zIndex=1;break;case"start":e.zIndex=4+Math.sin(n(r+i));break;case"end":e.zIndex=4+Math.sin(n(o+i));break;case"innerFront":e.zIndex=2;break;case"innerBack":e.zIndex=4+Math.sin(n((r+o)/2+i));break;case"bottom":e.zIndex=0}e.dirtyZIndex=!0},updatePlainBBox:function(e){var t,n,i,r,o,a,s=this.attr,l=s.part,d=s.baseRotation,c=s.centerX,u=s.centerY;if("start"===l?n=s.startAngle+d:"end"===l&&(n=s.endAngle+d),Ext.isNumber(n))return o=Math.sin(n),a=Math.cos(n),i=Math.min(c+a*s.startRho,c+a*s.endRho),r=u+o*s.startRho*s.distortion,e.x=i,e.y=r,e.width=a*(s.endRho-s.startRho),void(e.height=s.thickness+o*(s.endRho-s.startRho)*2);t="innerFront"===l||"innerBack"===l?s.startRho:s.endRho,e.width=2*t,e.height=t*s.distortion*2+s.thickness,e.x=s.centerX-t,e.y=s.centerY-t*s.distortion},updateTransformedBBox:function(e){return"start"===this.attr.part||"end"===this.attr.part?this.callParent(arguments):this.updatePlainBBox(e)},updatePath:function(e){this.attr.globalAlpha&&(this.attr.endAngle<this.attr.startAngle||this[this.attr.part+"Renderer"](e))},render:function(e,t){var n=this,i=n.attr;i.globalAlpha&&!Ext.Number.isEqual(i.startAngle,i.endAngle,1e-8)&&(n.callParent([e,t]),n.bevelRenderer(e,t),i.label&&n.getMarker("labels")&&n.placeLabel())},placeLabel:function(){var e,t,n=this,i=n.attr,r=i.attributeId,o=i.margin,a=i.distortion,s=i.centerX,l=i.centerY,d=i.baseRotation,c=(i.startAngle+d+(i.endAngle+d))/2,u=i.startRho+o,h=i.endRho+o,f=(u+h)/2,g=Math.sin(c),p=Math.cos(c),m=n.surfaceMatrix,x=n.getMarker("labels").getTemplate().getCalloutLine(),E=x&&x.length||40,v={};m.appendMatrix(i.matrix),v.text=i.label,e=s+p*f,t=l+g*f*a,v.x=m.x(e,t),v.y=m.y(e,t),e=s+p*h,t=l+g*h*a,v.calloutStartX=m.x(e,t),v.calloutStartY=m.y(e,t),e=s+p*(h+E),t=l+g*(h+E)*a,v.calloutPlaceX=m.x(e,t),v.calloutPlaceY=m.y(e,t),v.calloutWidth=2,n.putMarker("labels",v,r),n.putMarker("labels",{callout:1},r)},bevelRenderer:function(e,t){var n,i=this.attr,r=i.bevelWidth,o=this.bevelParams;for(n=0;n<o.length;n++)t.beginPath(),t.ellipse.apply(t,o[n]),t.save(),t.lineWidth=r,t.strokeOpacity=r?1:0,t.strokeGradient=this.bevelGradient,t.stroke(i),t.restore()},lidRenderer:function(e,t){var n=this.attr,i=n.margin,r=n.distortion,o=n.centerX,a=n.centerY,s=n.baseRotation,l=n.startAngle+s,d=n.endAngle+s,c=(l+d)/2,u=n.startRho,h=n.endRho,f=Math.sin(d),g=Math.cos(d);o+=Math.cos(c)*i,a+=Math.sin(c)*i*r,e.ellipse(o,a+t,u,u*r,0,l,d,!1),e.lineTo(o+g*h,a+t+f*h*r),e.ellipse(o,a+t,h,h*r,0,d,l,!0),e.closePath()},topRenderer:function(e){this.lidRenderer(e,0)},bottomRenderer:function(e){var t=this.attr,n=Ext.util.Color.RGBA_NONE;(t.globalAlpha<1||t.fillOpacity<1||t.shadowColor!==n)&&this.lidRenderer(e,t.thickness)},sideRenderer:function(e,t){var n,i=this.attr,r=i.margin,o=i.centerX,a=i.centerY,s=i.distortion,l=i.baseRotation,d=i.startAngle+l,c=i.endAngle+l,u=!i.startAngle&&Ext.Number.isEqual(2*Math.PI,i.endAngle,1e-7),h=i.thickness,f=i.startRho,g=i.endRho,p="start"===t&&d||"end"===t&&c,m=Math.sin(p),x=Math.cos(p),E=i.globalAlpha<1;("start"===t&&x<0||"end"===t&&x>0||E)&&!u&&(n=(d+c)/2,o+=Math.cos(n)*r,a+=Math.sin(n)*r*s,e.moveTo(o+x*f,a+m*f*s),e.lineTo(o+x*g,a+m*g*s),e.lineTo(o+x*g,a+m*g*s+h),e.lineTo(o+x*f,a+m*f*s+h),e.closePath())},startRenderer:function(e){this.sideRenderer(e,"start")},endRenderer:function(e){this.sideRenderer(e,"end")},rimRenderer:function(e,t,n,i){var r,o,a,s=this,l=s.attr,d=l.margin,c=l.centerX,u=l.centerY,h=l.distortion,f=l.baseRotation,g=Ext.draw.sprite.AttributeParser.angle,p=l.startAngle+f,m=l.endAngle+f,x=g((p+m)/2),E=l.thickness,v=l.globalAlpha<1;function y(){e.ellipse(c,u+E,t,t*h,0,Math.PI,p,!0),e.lineTo(c+Math.cos(p)*t,u+Math.sin(p)*t*h),a=[c,u,t,t*h,0,p,Math.PI,!1],n||s.bevelParams.push(a),e.ellipse.apply(e,a),e.closePath()}function b(){e.ellipse(c,u+E,t,t*h,0,0,m,!1),e.lineTo(c+Math.cos(m)*t,u+Math.sin(m)*t*h),a=[c,u,t,t*h,0,m,0,!0],n||s.bevelParams.push(a),e.ellipse.apply(e,a),e.closePath()}function C(){e.ellipse(c,u+E,t,t*h,0,Math.PI,m,!1),e.lineTo(c+Math.cos(m)*t,u+Math.sin(m)*t*h),a=[c,u,t,t*h,0,m,Math.PI,!0],n&&s.bevelParams.push(a),e.ellipse.apply(e,a),e.closePath()}function S(){e.ellipse(c,u+E,t,t*h,0,p,0,!1),e.lineTo(c+t,u),a=[c,u,t,t*h,0,0,p,!0],n&&s.bevelParams.push(a),e.ellipse.apply(e,a),e.closePath()}s.bevelParams=[],p=g(p),m=g(m),c+=Math.cos(x)*d,u+=Math.sin(x)*d*h,r=p>=0&&m>=0,o=p<=0&&m<=0,i?n&&!v||(p>=0&&m<0?y():p<=0&&m>0?b():p<=0&&m<0?p>m&&(e.ellipse(c,u+E,t,t*h,0,0,Math.PI,!1),e.lineTo(c-t,u),a=[c,u,t,t*h,0,Math.PI,0,!0],n||s.bevelParams.push(a),e.ellipse.apply(e,a),e.closePath()):p>m?(y(),b()):(a=[c,u,t,t*h,0,p,m,!1],(r&&!n||o&&n)&&s.bevelParams.push(a),e.ellipse.apply(e,a),e.lineTo(c+Math.cos(m)*t,u+Math.sin(m)*t*h+E),e.ellipse(c,u+E,t,t*h,0,m,p,!0),e.closePath())):(n||v)&&(p>=0&&m<0?C():p<=0&&m>0?S():p<=0&&m<0?p>m?(C(),S()):(e.ellipse(c,u+E,t,t*h,0,p,m,!1),e.lineTo(c+Math.cos(m)*t,u+Math.sin(m)*t*h),a=[c,u,t,t*h,0,m,p,!0],n&&s.bevelParams.push(a),e.ellipse.apply(e,a),e.closePath()):p>m&&(e.ellipse(c,u+E,t,t*h,0,-Math.PI,0,!1),e.lineTo(c+t,u),a=[c,u,t,t*h,0,0,-Math.PI,!0],n&&s.bevelParams.push(a),e.ellipse.apply(e,a),e.closePath()))},innerFrontRenderer:function(e){this.rimRenderer(e,this.attr.startRho,!0,!0)},innerBackRenderer:function(e){this.rimRenderer(e,this.attr.startRho,!0,!1)},outerFrontRenderer:function(e){this.rimRenderer(e,this.attr.endRho,!1,!0)},outerBackRenderer:function(e){this.rimRenderer(e,this.attr.endRho,!1,!1)}}),Ext.define("Ext.chart.series.Pie3D",{extend:"Ext.chart.series.Polar",requires:["Ext.chart.series.sprite.Pie3DPart","Ext.draw.PathUtil"],type:"pie3d",seriesType:"pie3d",alias:"series.pie3d",is3D:!0,config:{rect:[0,0,0,0],thickness:35,distortion:.5,donut:!1,hidden:[],highlightCfg:{margin:20},shadow:!1},rotationOffset:-Math.PI/2,setField:function(e){return this.setXField(e)},getField:function(){return this.getXField()},updateRotation:function(e){this.setStyle({baseRotation:e+this.rotationOffset}),this.doUpdateStyles()},updateDistortion:function(){this.setRadius()},updateThickness:function(){this.setRadius()},updateColors:function(e){this.setSubStyle({baseColor:e})},applyShadow:function(e){return!0===e?e={shadowColor:"rgba(0,0,0,0.8)",shadowBlur:30}:Ext.isObject(e)||(e={shadowColor:Ext.util.Color.RGBA_NONE}),e},updateShadow:function(e){var t,n,i=this.getSprites(),r=this.spritesPerSlice,o=i&&i.length;for(t=1;t<o;t+=r)((n=i[t]).attr.part="bottom")&&n.setAttributes(e)},getStyleByIndex:function(e){var t=this.callParent([e]),n=this.getStyle(),i=t.fillStyle||t.fill||t.color,r=n.strokeStyle||n.stroke;return i&&(t.baseColor=i,delete t.fillStyle,delete t.fill,delete t.color),r&&(t.strokeStyle=r),t},doUpdateStyles:function(){for(var e,t,n=this.getSprites(),i=this.spritesPerSlice,r=n&&n.length,o=0,a=0;o<r;o+=i,a++)for(t=this.getStyleByIndex(a),e=0;e<i;e++)n[o+e].setAttributes(t)},coordinateX:function(){var e,t,n,i,r=this,o=r.getChart(),a=o&&o.getAnimation(),s=r.getStore().getData().items,l=s.length,d=r.getXField(),c=r.getRotation(),u=r.getHidden(),h=0,f=[],g=r.getSprites(),p=g.length,m=r.spritesPerSlice,x=0,E=2*Math.PI;for(n=0;n<l;n++)e=Math.abs(Number(s[n].get(d)))||0,u[n]||(h+=e),f[n]=h,n>=u.length&&(u[n]=!1);if(u.length=l,0!==h){for(t=2*Math.PI/h,n=0;n<l;n++)f[n]*=t;for(n=0;n<p;n++)g[n].setAnimation(a);for(n=0;n<l;n++){for(i=0;i<m;i++)g[n*m+i].setAttributes({startAngle:x,endAngle:f[n]-1e-10,globalAlpha:1,baseRotation:c});x=f[n]}for(n*=m;n<p;n++)g[n].setAnimation(a),g[n].setAttributes({startAngle:E,endAngle:E,globalAlpha:0,baseRotation:c})}},updateLabelData:function(){var e,t,n,i,r,o=this,a=o.getStore().getData().items,s=o.getSprites(),l=o.getLabel().getTemplate().getField(),d=o.getHidden(),c=o.spritesPerSlice;if(s.length&&l){for(i=[],e=0,n=a.length;e<n;e++)i.push(a[e].get(l));for(e=0,t=0,n=s.length;e<n;e+=c,t++)(r=s[e]).setAttributes({label:i[t]}),r.putMarker("labels",{hidden:d[t]},r.attr.attributeId)}},applyRadius:function(){var e=this.getChart(),t=e.getInnerPadding(),n=e.getMainRect()||[0,0,1,1],i=n[2]-2*t,r=n[3]-2*t-this.getThickness(),o=i/2;return o*this.getDistortion()>r/2?r/(2*this.getDistortion()):o},getSprites:function(){var e=this,t=e.getStore();if(!t)return[];var n,i,r,o,a,s=e.getChart(),l=e.getSurface(),d=t.getData().items,c=e.spritesPerSlice,u=d.length,h=e.getAnimation()||s&&s.getAnimation(),f=e.getCenter(),g=e.getOffsetX(),p=e.getOffsetY(),m=e.getRadius(),x=e.getRotation(),E=e.getHighlight(),v={centerX:f[0]+g,centerY:f[1]+p-e.getThickness()/2,endRho:m,startRho:m*e.getDonut()/100,thickness:e.getThickness(),distortion:e.getDistortion()},y=e.sprites,b=e.getLabel(),C=b.getTemplate();for(o=0;o<u;o++)if(i=Ext.apply({},this.getStyleByIndex(o),v),y[o*c])for(n=y.slice(o*c,(o+1)*c),a=0;a<n.length;a++)r=n[a],h&&r.setAnimation(h),r.setAttributes(i);else for(a=0;a<e.partNames.length;a++)r=l.add({type:"pie3dPart",part:e.partNames[a]}),0===a&&C.getField()&&r.bindMarker("labels",b),r.fx.setDurationOn("baseRotation",x),E&&(r.config.highlight=E,r.addModifier("highlight",!0)),r.setAttributes(i),y.push(r);return y},betweenAngle:function(e,t,n){var i=2*Math.PI,r=this.rotationOffset;return n+=r,e-=t+=r,n-=t,e%=i,n%=i,e+=i,n+=i,(e%=i)<(n%=i)||0===n},getItemForPoint:function(e,t){var n=this,i=n.getSprites();if(i){var r,o,a,s=n.getStore().getData().items,l=n.spritesPerSlice,d=n.getHidden();for(r=0,o=s.length;r<o;r++)if(!d[r]&&i[a=r*l].hitTest([e,t]))return{series:n,sprite:i.slice(a,a+l),index:r,record:s[r],category:"sprites",field:n.getXField()};return null}},provideLegendInfo:function(e){var t=this,n=t.getStore();if(n){var i,r,o=n.getData().items,a=t.getLabel().getTemplate().getField(),s=t.getField(),l=t.getHidden();for(i=0;i<o.length;i++)r=t.getStyleByIndex(i).baseColor,e.push({name:a?String(o[i].get(a)):s+" "+i,mark:r||"black",disabled:l[i],series:t.getId(),index:i})}}},function(){var e=this.prototype,t=Ext.chart.series.sprite.Pie3DPart.def.getInitialConfig().processors.part;e.partNames=t.replace(/^enums\(|\)/g,"").split(","),e.spritesPerSlice=e.partNames.length}),Ext.define("Ext.chart.series.sprite.Polar",{extend:"Ext.chart.series.sprite.Series",inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",baseRotation:"number",labels:"default",labelOverflowPadding:"number"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:Math.PI,startRho:0,endRho:150,baseRotation:0,labels:null,labelOverflowPadding:10},triggers:{centerX:"bbox",centerY:"bbox",startAngle:"bbox",endAngle:"bbox",startRho:"bbox",endRho:"bbox",baseRotation:"bbox"}}},updatePlainBBox:function(e){var t=this.attr;e.x=t.centerX-t.endRho,e.y=t.centerY+t.endRho,e.width=2*t.endRho,e.height=2*t.endRho}}),Ext.define("Ext.chart.series.sprite.Radar",{alias:"sprite.radar",extend:"Ext.chart.series.sprite.Polar",getDataPointXY:function(e){var t,n,i,r,o,a=this.attr,s=a.centerX,l=a.centerY,d=a.matrix,c=a.dataMinX,u=a.dataMaxX,h=a.dataX,f=a.dataY,g=a.endRho,p=a.startRho,m=a.baseRotation;return o=a.rangeY?a.rangeY[1]:a.dataMaxY,n=(h[e]-c)/(u-c+1)*2*Math.PI+m,t=f[e]/o*(g-p)+p,i=s+Math.cos(n)*t,r=l+Math.sin(n)*t,[d.x(i,r),d.y(i,r)]},render:function(e,t){var n,i,r,o,a=this.attr,s=a.dataX.length,l=this.surfaceMatrix,d={};for(t.beginPath(),n=0;n<s;n++)i=(o=this.getDataPointXY(n))[0],r=o[1],0===n&&t.moveTo(i,r),t.lineTo(i,r),d.translationX=l.x(i,r),d.translationY=l.y(i,r),this.putMarker("markers",d,n,!0);t.closePath(),t.fillStroke(a)}}),Ext.define("Ext.chart.series.Radar",{extend:"Ext.chart.series.Polar",type:"radar",seriesType:"radar",alias:"series.radar",requires:["Ext.chart.series.sprite.Radar"],themeColorCount:function(){return 1},isStoreDependantColorCount:!1,themeMarkerCount:function(){return 1},updateAngularAxis:function(e){e.processData(this)},updateRadialAxis:function(e){e.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},updateCenter:function(e){this.setStyle({translationX:e[0]+this.getOffsetX(),translationY:e[1]+this.getOffsetY()}),this.doUpdateStyles()},updateRadius:function(e){this.setStyle({endRho:e}),this.doUpdateStyles()},updateRotation:function(e){this.setStyle({rotationRads:e}),this.doUpdateStyles()},updateTotalAngle:function(e){this.processData()},getItemForPoint:function(e,t){var n,i,r,o,a,s=this,l=s.sprites&&s.sprites[0],d=l.attr.dataX.length,c=s.getStore(),u=s.getMarker();if(s.getHidden())return null;if(l&&u)for(a=l.getMarker("markers"),r=0;r<d;r++)if(n=.25*((o=a.getBBoxFor(r)).width+o.height),i=l.getDataPointXY(r),Math.abs(i[0]-e)<n&&Math.abs(i[1]-t)<n)return{series:s,sprite:l,index:r,category:"markers",record:c.getData().items[r],field:s.getYField()};return s.callParent(arguments)},getDefaultSpriteConfig:function(){var e=this.callParent(),t={customDurations:{translationX:0,translationY:0,rotationRads:0,dataMinX:0,dataMaxX:0}};return e.fx?Ext.apply(e.fx,t):e.fx=t,e},getSprites:function(){var e,t=this,n=t.getChart(),i=t.getAnimation()||n&&n.getAnimation(),r=t.sprites[0];return n?(r||(r=t.createSprite()),i&&((e=r.getMarker("markers"))&&e.getTemplate().setAnimation(i),r.setAnimation(i)),t.sprites):[]},provideLegendInfo:function(e){var t=this,n=t.getSubStyleWithTheme(),i=n.fillStyle;Ext.isArray(i)&&(i=i[0]),e.push({name:t.getTitle()||t.getYField()||t.getId(),mark:(Ext.isObject(i)?i.stops&&i.stops[0].color:i)||n.strokeStyle||"black",disabled:t.getHidden(),series:t.getId(),index:0})}}),Ext.define("Ext.chart.series.sprite.Scatter",{alias:"sprite.scatterSeries",extend:"Ext.chart.series.sprite.Cartesian",renderClipped:function(e,t,n,i){if(!this.cleanRedraw){var r,o,a,s,l,d,c,u,h,f=this,g=f.attr,p=g.dataX,m=g.dataY,x=g.labels,E=f.getSeries(),v=x&&f.getMarker("labels"),y=f.attr.matrix,b=y.getXX(),C=y.getYY(),S=y.getDX(),w=y.getDY(),T={},P=e.getInherited().rtl&&!g.flipXY?-1:1;for(g.flipXY?(a=i[1]-b*P,s=i[1]+i[3]+b*P,l=i[0]-C,d=i[0]+i[2]+C):(a=i[0]-b*P,s=i[0]+i[2]+b*P,l=i[1]-C,d=i[1]+i[3]+C),h=0;h<p.length;h++)c=p[h],u=(u=m[h])*C+w,a<=(c=c*b+S)&&c<=s&&l<=u&&u<=d&&(g.renderer?(o=[f,T={type:"items",translationX:c,translationY:u},{store:f.getStore()},h],r=Ext.callback(g.renderer,null,o,0,E),T=Ext.apply(T,r)):(T.translationX=c,T.translationY=u),f.putMarker("items",T,h,!g.renderer),v&&x[h]&&f.drawLabel(x[h],c,u,h,i))}},drawLabel:function(e,t,n,i,r){var o,a,s,l,d,c,u=this,h=u.attr,f=u.getMarker("labels"),g=f.getTemplate(),p=u.labelCfg||(u.labelCfg={}),m=u.surfaceMatrix,x=h.labelOverflowPadding,E=h.flipXY;switch(p.text=e,(l=u.getMarkerBBox("labels",i,!0))||(u.putMarker("labels",p,i),l=u.getMarkerBBox("labels",i,!0)),p.rotationRads=E?.5*Math.PI:0,s=l.height/2,o=t,g.attr.display){case"under":a=n-s-x;break;case"rotate":o+=x,a=n-x,p.rotationRads=-Math.PI/4;break;default:a=n+s+x}p.x=m.x(o,a),p.y=m.y(o,a),g.attr.renderer&&(c=[e,f,p,{store:u.getStore()},i],"string"==typeof(d=Ext.callback(g.attr.renderer,null,c,0,u.getSeries()))?p.text=d:Ext.apply(p,d)),u.putMarker("labels",p,i)}}),Ext.define("Ext.chart.series.Scatter",{extend:"Ext.chart.series.Cartesian",alias:"series.scatter",type:"scatter",seriesType:"scatterSeries",requires:["Ext.chart.series.sprite.Scatter"],config:{itemInstancing:{fx:{customDurations:{translationX:0,translationY:0}}}},themeMarkerCount:function(){return 1},applyMarker:function(e,t){return this.getItemInstancing(),this.setItemInstancing(e),this.callParent(arguments)},provideLegendInfo:function(e){var t=this,n=t.getMarkerStyleByIndex(0),i=n.fillStyle;e.push({name:t.getTitle()||t.getYField()||t.getId(),mark:(Ext.isObject(i)?i.stops&&i.stops[0].color:i)||n.strokeStyle||"black",disabled:t.getHidden(),series:t.getId(),index:0})}}),Ext.define("Ext.chart.theme.Blue",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.blue","chart.theme.Blue"],config:{baseColor:"#4d7fe6"}}),Ext.define("Ext.chart.theme.BlueGradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.blue-gradients","chart.theme.Blue:gradients"],config:{baseColor:"#4d7fe6",gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Category1",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category1","chart.theme.Category1"],config:{colors:["#f0a50a","#c20024","#2044ba","#810065","#7eae29"]}}),Ext.define("Ext.chart.theme.Category1Gradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category1-gradients","chart.theme.Category1:gradients"],config:{colors:["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Category2",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category2","chart.theme.Category2"],config:{colors:["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"]}}),Ext.define("Ext.chart.theme.Category2Gradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category2-gradients","chart.theme.Category2:gradients"],config:{colors:["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Category3",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category3","chart.theme.Category3"],config:{colors:["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"]}}),Ext.define("Ext.chart.theme.Category3Gradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category3-gradients","chart.theme.Category3:gradients"],config:{colors:["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Category4",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category4","chart.theme.Category4"],config:{colors:["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"]}}),Ext.define("Ext.chart.theme.Category4Gradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category4-gradients","chart.theme.Category4:gradients"],config:{colors:["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Category5",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category5","chart.theme.Category5"],config:{colors:["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"]}}),Ext.define("Ext.chart.theme.Category5Gradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category5-gradients","chart.theme.Category5:gradients"],config:{colors:["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Category6",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category6","chart.theme.Category6"],config:{colors:["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]}}),Ext.define("Ext.chart.theme.Category6Gradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.category6-gradients","chart.theme.Category6:gradients"],config:{colors:["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"],gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.DefaultGradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.default-gradients","chart.theme.Base:gradients"],config:{gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Green",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.green","chart.theme.Green"],config:{baseColor:"#b1da5a"}}),Ext.define("Ext.chart.theme.GreenGradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.green-gradients","chart.theme.Green:gradients"],config:{baseColor:"#b1da5a",gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Midnight",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.midnight","chart.theme.Midnight"],config:{colors:["#A837FF","#4AC0F2","#FF4D35","#FF8809","#61C102","#FF37EA"],chart:{defaults:{background:"rgb(52, 52, 53)"}},axis:{defaults:{style:{strokeStyle:"rgb(224, 224, 227)"},label:{fillStyle:"rgb(224, 224, 227)"},title:{fillStyle:"rgb(224, 224, 227)"},grid:{strokeStyle:"rgb(112, 112, 115)"}}},series:{defaults:{label:{fillStyle:"rgb(224, 224, 227)"}}},sprites:{text:{fillStyle:"rgb(224, 224, 227)"}},legend:{label:{fillStyle:"white"},border:{lineWidth:2,fillStyle:"rgba(255, 255, 255, 0.3)",strokeStyle:"rgb(150, 150, 150)"},background:"rgb(52, 52, 53)"}}}),Ext.define("Ext.chart.theme.Muted",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.muted","chart.theme.Muted"],config:{colors:["#8ca640","#974144","#4091ba","#8e658e","#3b8d8b","#b86465","#d2af69","#6e8852","#3dcc7e","#a6bed1","#cbaa4b","#998baa"]}}),Ext.define("Ext.chart.theme.Purple",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.purple","chart.theme.Purple"],config:{baseColor:"#da5abd"}}),Ext.define("Ext.chart.theme.PurpleGradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.purple-gradients","chart.theme.Purple:gradients"],config:{baseColor:"#da5abd",gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Red",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.red","chart.theme.Red"],config:{baseColor:"#e84b67"}}),Ext.define("Ext.chart.theme.RedGradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.red-gradients","chart.theme.Red:gradients"],config:{baseColor:"#e84b67",gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Sky",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.sky","chart.theme.Sky"],config:{baseColor:"#4ce0e7"}}),Ext.define("Ext.chart.theme.SkyGradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.sky-gradients","chart.theme.Sky:gradients"],config:{baseColor:"#4ce0e7",gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.chart.theme.Yellow",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.yellow","chart.theme.Yellow"],config:{baseColor:"#fec935"}}),Ext.define("Ext.chart.theme.YellowGradients",{extend:"Ext.chart.theme.Base",singleton:!0,alias:["chart.theme.yellow-gradients","chart.theme.Yellow:gradients"],config:{baseColor:"#fec935",gradients:{type:"linear",degrees:90}}}),Ext.define("Ext.draw.Point",{requires:["Ext.draw.Draw","Ext.draw.Matrix"],isPoint:!0,x:0,y:0,length:0,angle:0,angleUnits:"degrees",statics:{fly:function(){var e=null;return function(t,n){return e||(e=new Ext.draw.Point),e.constructor(t,n),e}}()},constructor:function(e,t){var n=this;"number"==typeof e?(n.x=e,n.y="number"==typeof t?t:e):Ext.isArray(e)?(n.x=e[0],n.y=e[1]):e&&(n.x=e.x,n.y=e.y),n.calculatePolar()},calculateCartesian:function(){var e=this,t=e.length,n=e.angle;"degrees"===e.angleUnits&&(n=Ext.draw.Draw.rad(n)),e.x=Math.cos(n)*t,e.y=Math.sin(n)*t},calculatePolar:function(){var e=this,t=e.x,n=e.y;e.length=Math.sqrt(t*t+n*n),e.angle=Math.atan2(n,t),"degrees"===e.angleUnits&&(e.angle=Ext.draw.Draw.degrees(e.angle))},setX:function(e){this.x=e,this.calculatePolar()},setY:function(e){this.y=e,this.calculatePolar()},set:function(e,t){this.constructor(e,t)},setAngle:function(e){this.angle=e,this.calculateCartesian()},setLength:function(e){this.length=e,this.calculateCartesian()},setPolar:function(e,t){this.angle=e,this.length=t,this.calculateCartesian()},clone:function(){return new Ext.draw.Point(this.x,this.y)},add:function(e,t){var n=Ext.draw.Point.fly(e,t);return new Ext.draw.Point(this.x+n.x,this.y+n.y)},sub:function(e,t){var n=Ext.draw.Point.fly(e,t);return new Ext.draw.Point(this.x-n.x,this.y-n.y)},mul:function(e){return new Ext.draw.Point(this.x*e,this.y*e)},div:function(e){return new Ext.draw.Point(this.x/e,this.y/e)},dot:function(e,t){var n=Ext.draw.Point.fly(e,t);return this.x*n.x+this.y*n.y},equals:function(e,t){var n=Ext.draw.Point.fly(e,t);return this.x===n.x&&this.y===n.y},rotate:function(e,t){var n,i,r,o,a;return"degrees"===this.angleUnits&&(e=Ext.draw.Draw.rad(e),n=Math.sin(e),i=Math.cos(e)),t?(r=t.x,o=t.y):(r=0,o=0),a=Ext.draw.Matrix.fly([i,n,-n,i,r-i*r+o*n,o-i*o+r*-n]).transformPoint(this),new Ext.draw.Point(a)},transform:function(e){return e&&e.isMatrix?new Ext.draw.Point(e.transformPoint(this)):6===arguments.length?new Ext.draw.Point(Ext.draw.Matrix.fly(arguments).transformPoint(this)):void Ext.raise("Invalid parameters.")},round:function(){return new Ext.draw.Point(Math.round(this.x),Math.round(this.y))},ceil:function(){return new Ext.draw.Point(Math.ceil(this.x),Math.ceil(this.y))},floor:function(){return new Ext.draw.Point(Math.floor(this.x),Math.floor(this.y))},abs:function(e,t){return new Ext.draw.Point(Math.abs(this.x),Math.abs(this.y))},normalize:function(e){var t=this.x,n=this.y,i=(e||1)/Math.sqrt(t*t+n*n);return new Ext.draw.Point(t*i,n*i)},getDistanceToLine:function(e,t){4===arguments.length&&(e=new Ext.draw.Point(arguments[0],arguments[1]),t=new Ext.draw.Point(arguments[2],arguments[3]));var n=t.sub(e).normalize(),i=e.sub(this);return i.sub(n.mul(i.dot(n)))},isZero:function(){return 0===this.x&&0===this.y},isNumber:function(){return Ext.isNumber(this.x)&&Ext.isNumber(this.y)}}),Ext.define("Ext.draw.plugin.SpriteEvents",{extend:"Ext.plugin.Abstract",alias:"plugin.spriteevents",requires:["Ext.draw.overrides.hittest.All"],mouseMoveEvents:{mousemove:!0,mouseover:!0,mouseout:!0},spriteMouseMoveEvents:{spritemousemove:!0,spritemouseover:!0,spritemouseout:!0},init:function(e){this.drawContainer=e,e.addElementListener({click:"handleEvent",dblclick:"handleEvent",mousedown:"handleEvent",mousemove:"handleEvent",mouseup:"handleEvent",mouseover:"handleEvent",mouseout:"handleEvent",priority:1001,scope:this})},hasSpriteMouseMoveListeners:function(){var e,t=this.drawContainer.hasListeners;for(e in this.spriteMouseMoveEvents)if(e in t)return!0;return!1},hitTestEvent:function(e){var t,n,i=this.drawContainer.getItems();for(n=i.length-1;n>=0;n--)if(t=i.get(n).hitTestEvent(e))return t;return null},handleEvent:function(e){var t,n=this,i=n.drawContainer,r=e.type in n.mouseMoveEvents,o=n.lastSprite;r&&!n.hasSpriteMouseMoveListeners()||(t=n.hitTestEvent(e),r&&!Ext.Object.equals(t,o)&&(o&&i.fireEvent("spritemouseout",o,e),t&&i.fireEvent("spritemouseover",t,e)),t&&i.fireEvent("sprite"+e.type,t,e),n.lastSprite=t)}}),Ext.define("Ext.chart.interactions.ItemInfo",{extend:"Ext.chart.interactions.Abstract",type:"iteminfo",alias:"interaction.iteminfo",config:{extjsGestures:{start:{event:"click",handler:"onInfoGesture"},move:{event:"mousemove",handler:"onInfoGesture"},end:{event:"mouseleave",handler:"onInfoGesture"}}},item:null,onInfoGesture:function(e,t){var n=this,i=n.getItemForEvent(e),r=i&&i.series.tooltip;return r&&r.onMouseMove.call(r,e),i!==n.item&&(i?i.series.showTip(i):n.item.series.hideTip(n.item),n.item=i),!1}})},function(module,exports){Ext.define("Ext.ux.Gauge",{extend:"Ext.Gadget",xtype:"gauge",requires:["Ext.util.Region"],config:{baseCls:Ext.baseCSSPrefix+"gauge",padding:10,trackStart:135,trackLength:270,angleOffset:0,minValue:0,maxValue:100,value:50,clockwise:!0,textTpl:['<tpl>{value:number("0.00")}%</tpl>'],textAlign:"c-c",trackStyle:{outerRadius:"100%",innerRadius:"100% - 20",round:!1},valueStyle:{outerRadius:"100% - 2",innerRadius:"100% - 18",round:!1},animation:!0},template:[{reference:"innerElement",children:[{reference:"textElement",cls:Ext.baseCSSPrefix+"gauge-text"}]}],defaultBindProperty:"value",pathAttributes:{fill:!0,fillOpacity:!0,stroke:!0,strokeOpacity:!0,strokeWidth:!0},easings:{linear:Ext.identityFn,in:function(e){return e*e*e},out:function(e){return--e*e*e+1},inOut:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}},resizeDelay:0,resizeTimerId:0,size:null,svgNS:"http://www.w3.org/2000/svg",svg:null,defs:null,trackArc:null,valueArc:null,trackGradient:null,valueGradient:null,fx:null,fxValue:0,fxAngleOffset:0,constructor:function(e){var t=this;t.fitSectorInRectCache={startAngle:null,lengthAngle:null,minX:null,maxX:null,minY:null,maxY:null},t.interpolator=t.createInterpolator(),t.callParent([e]),t.on("resize","onElementResize",t)},doDestroy:function(){this.un("resize","onElementResize",this),this.stopAnimation(),this.callParent()},afterComponentLayout:function(e,t,n,i){this.callParent([e,t,n,i]),Ext.isIE9&&this.handleResize()},onElementResize:function(e,t){this.handleResize(t)},handleResize:function(e,t){var n=this,i=n.element;i&&(e=e||i.getSize())&&e.width&&e.height&&(clearTimeout(n.resizeTimerId),t||n.resizeDelay?(n.resizeTimerId=0,n.size=e,n.resizeHandler(e)):n.resizeTimerId=Ext.defer(n.handleResize,n.resizeDelay,n,[e,!0]))},updateMinValue:function(e){this.interpolator.setDomain(e,this.getMaxValue()),this.isConfiguring||this.render()},updateMaxValue:function(e){this.interpolator.setDomain(this.getMinValue(),e),this.isConfiguring||this.render()},updateAngleOffset:function(e,t){var n=this,i=n.getAnimation();n.fxAngleOffset=e,n.isConfiguring||(i.duration?n.animate(t,e,i.duration,n.easings[i.easing],function(e){n.fxAngleOffset=e,n.render()}):n.render())},applyTrackStart:function(e){return(e<0||e>=360)&&Ext.raise("'trackStart' should be within [0, 360)."),e},applyTrackLength:function(e){return(e<=0||e>360)&&Ext.raise("'trackLength' should be within (0, 360]."),e},updateTrackStart:function(e){this.isConfiguring||this.render()},updateTrackLength:function(e){this.interpolator.setRange(0,e),this.isConfiguring||this.render()},applyPadding:function(e){if("string"==typeof e){var t=parseFloat(e)/100;return function(e){return e*t}}return function(){return e}},updatePadding:function(){this.isConfiguring||this.render()},applyValue:function(e){var t=this.getMinValue(),n=this.getMaxValue();return Math.min(Math.max(e,t),n)},updateValue:function(e,t){var n=this,i=n.getAnimation();n.fxValue=e,n.isConfiguring||(n.writeText(),i.duration?n.animate(t,e,i.duration,n.easings[i.easing],function(e){n.fxValue=e,n.render()}):n.render())},applyTextTpl:function(e){return e&&!e.isTemplate&&(e=new Ext.XTemplate(e)),e},updateTextTpl:function(){this.writeText(),this.isConfiguring||this.centerText()},writeText:function(e){var t=this,n=t.getValue(),i=t.getMinValue(),r=t.getMaxValue(),o=r-i;t.getTextTpl().overwrite(t.textElement,{value:n,percent:(n-i)/o*100,minValue:i,maxValue:r,delta:o})},centerText:function(e,t,n,i,r){var o,a,s=this.textElement,l=this.getTextAlign();Ext.Number.isEqual(i,0,.1)||n.isOutOfBound({x:e,y:t})?(o=s.getRegion().alignTo({align:l,target:n}),s.setLeft(o.left),s.setTop(o.top)):(a=s.getBox(),s.setLeft(e-a.width/2),s.setTop(t-a.height/2))},camelCaseRe:/([a-z])([A-Z])/g,camelToHyphen:function(e){return e.replace(this.camelCaseRe,"$1-$2").toLowerCase()},applyTrackStyle:function(e){var t;return e.innerRadius=this.getRadiusFn(e.innerRadius),e.outerRadius=this.getRadiusFn(e.outerRadius),Ext.isArray(e.fill)&&(t=this.getTrackGradient(),this.setGradientStops(t,e.fill),e.fill="url(#"+t.getAttribute("id")+")"),e},updateTrackStyle:function(e){var t,n=Ext.fly(this.getTrackArc());for(t in e)t in this.pathAttributes&&n.setStyle(this.camelToHyphen(t),e[t])},applyValueStyle:function(e){var t;return e.innerRadius=this.getRadiusFn(e.innerRadius),e.outerRadius=this.getRadiusFn(e.outerRadius),Ext.isArray(e.fill)&&(t=this.getValueGradient(),this.setGradientStops(t,e.fill),e.fill="url(#"+t.getAttribute("id")+")"),e},updateValueStyle:function(e){var t,n=Ext.fly(this.getValueArc());for(t in e)t in this.pathAttributes&&n.setStyle(this.camelToHyphen(t),e[t])},getRadiusFn:function(e){var t,n,i,r=0;return Ext.isNumber(e)?t=function(){return e}:Ext.isString(e)&&(e=e.replace(/ /g,""),i=parseFloat(e)/100,(n=e.search("%"))<e.length-1&&(r=parseFloat(e.substr(n+1))),(t=function(e){return e*i+r}).ratio=i),t},getSvg:function(){var e=this.svg;return e||(e=this.svg=Ext.get(document.createElementNS(this.svgNS,"svg")),this.innerElement.append(e)),e},getTrackArc:function(){var e=this.trackArc;return e||(e=this.trackArc=document.createElementNS(this.svgNS,"path"),this.getSvg().append(e),e.setAttribute("class",Ext.baseCSSPrefix+"gauge-track")),e},getValueArc:function(){var e=this,t=e.valueArc;return e.getTrackArc(),t||(t=e.valueArc=document.createElementNS(e.svgNS,"path"),e.getSvg().append(t),t.setAttribute("class",Ext.baseCSSPrefix+"gauge-value")),t},getDefs:function(){var e=this.defs;return e||(e=this.defs=document.createElementNS(this.svgNS,"defs"),this.getSvg().append(e)),e},setGradientSize:function(e,t,n,i,r){e.setAttribute("x1",t),e.setAttribute("y1",n),e.setAttribute("x2",i),e.setAttribute("y2",r)},resizeGradients:function(e){var t=this.getTrackGradient(),n=this.getValueGradient(),i=e.height/2,r=e.width,o=e.height/2;this.setGradientSize(t,0,i,r,o),this.setGradientSize(n,0,i,r,o)},setGradientStops:function(e,t){for(var n,i,r,o=t.length;e.firstChild;)e.removeChild(e.firstChild);for(n=0;n<o;n++)i=t[n],r=document.createElementNS(this.svgNS,"stop"),e.appendChild(r),r.setAttribute("offset",i.offset),r.setAttribute("stop-color",i.color),"opacity"in i&&r.setAttribute("stop-opacity",i.opacity)},getTrackGradient:function(){var e=this.trackGradient;return e||((e=this.trackGradient=document.createElementNS(this.svgNS,"linearGradient")).setAttribute("gradientUnits","userSpaceOnUse"),this.getDefs().appendChild(e),Ext.get(e)),e},getValueGradient:function(){var e=this.valueGradient;return e||((e=this.valueGradient=document.createElementNS(this.svgNS,"linearGradient")).setAttribute("gradientUnits","userSpaceOnUse"),this.getDefs().appendChild(e),Ext.get(e)),e},getArcPoint:function(e,t,n,i){var r=i/180*Math.PI;return[e+n*Math.cos(r),t+n*Math.sin(r)]},isCircle:function(e,t){return Ext.Number.isEqual(Math.abs(t-e),360,.001)},getArcPath:function(e,t,n,i,r,o,a){var s=this,l=s.isCircle(r,o),d=(o=o-.01,s.getArcPoint(e,t,n,r)),c=s.getArcPoint(e,t,n,o),u=s.getArcPoint(e,t,i,r),h=s.getArcPoint(e,t,i,o),f=o-r<=180?0:1,g=["M",d[0],d[1],"A",n,n,0,f,1,c[0],c[1]],p=(i-n)/2;return l?g.push("M",h[0],h[1]):a?g.push("A",p,p,0,0,0,h[0],h[1]):g.push("L",h[0],h[1]),g.push("A",i,i,0,f,0,u[0],u[1]),a&&!l&&g.push("A",p,p,0,0,0,d[0],d[1]),g.push("Z"),g.join(" ")},resizeHandler:function(e){this.getSvg().setSize(e),this.resizeGradients(e),this.render()},createInterpolator:function(e){var t=0,n=1,i=0,r=1,o=function(o,a){var s=0;return n&&(s=(o-t)/n,e&&(s=Math.max(0,s),s=Math.min(1,s)),a&&(s=1-s)),(1-s)*i+s*r};return o.setDomain=function(e,i){return t=e,n=i-e,this},o.setRange=function(e,t){return i=e,r=t,this},o.getDomain=function(){return[t,t+n]},o.getRange=function(){return[i,r]},o},applyAnimation:function(e){return!0===e?e={}:!1===e&&(e={duration:0}),"duration"in e||(e.duration=1e3),e.easing in this.easings||(e.easing="out"),e},updateAnimation:function(){this.stopAnimation()},animate:function(e,t,n,i,r,o){var a=this,s=Ext.now(),l=a.createInterpolator().setRange(e,t);function d(){var e=Ext.AnimationQueue.frameStartTime,t=Math.min(e-s,n)/n,c=l(i(t));o?"string"==typeof r?o[r].call(o,c):r.call(o,c):r(c),t>=1&&(Ext.AnimationQueue.stop(d,o),a.fx=null)}a.stopAnimation(),Ext.AnimationQueue.start(d,o),a.fx={frame:d,scope:o}},stopAnimation:function(){this.fx&&(Ext.AnimationQueue.stop(this.fx.frame,this.fx.scope),this.fx=null)},unitCircleExtrema:{0:[1,0],90:[0,1],180:[-1,0],270:[0,-1],360:[1,0],450:[0,1],540:[-1,0],630:[0,-1]},getUnitSectorExtrema:function(e,t){var n,i=this.unitCircleExtrema,r=[];for(n in i)n>e&&n<e+t&&r.push(i[n]);return r},fitSectorInRect:function(e,t,n,i,r){if(Ext.Number.isEqual(i,360,.001))return{cx:e/2,cy:t/2,radius:Math.min(e,t)/2,region:new Ext.util.Region(0,e,t,0)};var o,a,s,l,d,c,u,h=this,f=h.fitSectorInRectCache;f.startAngle===n&&f.lengthAngle===i?(l=f.minX,d=f.maxX,c=f.minY,u=f.maxY):(a=(o=h.getUnitSectorExtrema(n,i).concat([h.getArcPoint(0,0,1,n),h.getArcPoint(0,0,r,n),h.getArcPoint(0,0,1,n+i),h.getArcPoint(0,0,r,n+i)])).map(function(e){return e[0]}),s=o.map(function(e){return e[1]}),l=Math.min.apply(null,a),d=Math.max.apply(null,a),c=Math.min.apply(null,s),u=Math.max.apply(null,s),f.startAngle=n,f.lengthAngle=i,f.minX=l,f.maxX=d,f.minY=c,f.maxY=u);var g=e/(d-l),p=t/(u-c),m=Math.min(g,p),x=new Ext.util.Region(c*m,d*m,u*m,l*m),E=new Ext.util.Region(0,e,t,0),v=x.alignTo({align:"c-c",target:E});return{cx:v.left-l*m,cy:v.top-c*m,radius:m,region:v}},fitSectorInPaddedRect:function(e,t,n,i,r,o){var a=this.fitSectorInRect(e-2*n,t-2*n,i,r,o);return a.cx+=n,a.cy+=n,a.region.translateBy(n,n),a},normalizeAngle:function(e){return(e%360+360)%360},render:function(){if(this.size){var e=this,t=e.getTrackArc(),n=e.getValueArc(),i=e.getClockwise(),r=e.fxValue,o=e.fxAngleOffset,a=e.getTrackLength(),s=e.size.width,l=e.size.height,d=e.getPadding()(Math.min(s,l)),c=e.normalizeAngle(e.getTrackStart()+o),u=c+a,h=e.interpolator(r),f=e.getTrackStyle(),g=e.getValueStyle(),p=e.fitSectorInPaddedRect(s,l,d,c,a,f.innerRadius.ratio),m=p.cx,x=p.cy,E=p.radius,v=Math.max(0,f.innerRadius(E)),y=Math.max(0,f.outerRadius(E)),b=Math.max(0,g.innerRadius(E)),C=Math.max(0,g.outerRadius(E)),S=e.getArcPath(m,x,v,y,c,u,f.round),w=e.getArcPath(m,x,b,C,i?c:u-h,i?c+h:u,g.round);e.centerText(m,x,p.region,v,y),t.setAttribute("d",S),n.setAttribute("d",w)}}}),Ext.define("Ext.ux.ajax.Simlet",function(){var e=/([^?#]*)(#.*)?$/,t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,n=/^[+-]?\d+$/,i=/^[+-]?\d+\.\d+$/;function r(e){var r;return Ext.isDefined(e)&&(e=decodeURIComponent(e),n.test(e)?e=parseInt(e,10):i.test(e)?e=parseFloat(e):(r=t.exec(e))&&(e=new Date(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4],+r[5],+r[6])))),e}return{alias:"simlet.basic",isSimlet:!0,responseProps:["responseText","responseXML","status","statusText","responseHeaders"],status:200,statusText:"OK",constructor:function(e){Ext.apply(this,e)},doGet:function(e){return this.handleRequest(e)},doPost:function(e){return this.handleRequest(e)},doRedirect:function(e){return!1},doDelete:function(e){var t=e.xhr.options.records;this.removeFromData(e,t)},exec:function(e){var t=this["do"+Ext.String.capitalize(e.method.toLowerCase())];return t?t.call(this,this.getCtx(e.method,e.url,e)):{status:405,statusText:"Method Not Allowed"}},getCtx:function(e,t,n){return{method:e,params:this.parseQueryString(t),url:t,xhr:n}},handleRequest:function(e){var t,n=this,i={};return Ext.Array.forEach(n.responseProps,function(r){r in n&&(t=n[r],Ext.isFunction(t)&&(t=t.call(n,e)),i[r]=t)}),i},openRequest:function(e,t,n,i){var r,o=this.getCtx(e,t),a=this.doRedirect(o);return"destroy"===n.action&&(e="delete"),a?r=a:(r=new Ext.ux.ajax.SimXhr({mgr:this.manager,simlet:this,options:n})).open(e,t,i),r},parseQueryString:function(t){var n,i,o,a,s=e.exec(t),l={};if(s&&s[1]){var d,c=s[1].split("&");for(o=0,a=c.length;o<a;++o)(d=c[o].split("="))[0]&&(n=decodeURIComponent(d.shift()),i=r(d.length>1?d.join("="):d[0]),n in l?Ext.isArray(l[n])?l[n].push(i):l[n]=[l[n],i]:l[n]=i)}return l},redirect:function(e,t,n){switch(arguments.length){case 2:if("string"==typeof t)break;n=t;case 1:t=e,e="GET"}return n&&(t=Ext.urlAppend(t,Ext.Object.toQueryString(n))),this.manager.openRequest(e,t)},removeFromData:function(e,t){var n=this,i=n.getData(e),r=(e.xhr.options.proxy&&e.xhr.options.proxy.getModel()||{}).idProperty||"id";Ext.each(t,function(e){for(var t=e.get(r),o=i.length;o-- >0;)if(i[o][r]===t){n.deleteRecord(o);break}})}}}()),Ext.define("Ext.ux.ajax.DataSimlet",function(){function e(e,t){var n=e.direction,i=n&&"DESC"===n.toUpperCase()?-1:1;return function(n,r){var o=n[e.property],a=r[e.property],s=o<a?-1:a<o?1:0;return s||!t?s*i:t(n,r)}}function t(t,n){for(var i=n,r=t&&t.length;r;)i=e(t[--r],i);return i}return{extend:"Ext.ux.ajax.Simlet",buildNodes:function(e,t){var n,i,r,o,a={data:[]},s=e.length;for(this.nodes[t]=a,i=0;i<s;++i)a.data.push(r=e[i]),o=r.text||r.title,r.id=t?t+"/"+o:o,n=r.children,(r.leaf=!n)||(delete r.children,this.buildNodes(n,r.id))},deleteRecord:function(e){this.data&&"function"!=typeof this.data&&Ext.Array.removeAt(this.data,e)},fixTree:function(e,t){var n,i=this,r=e.params.node;(n=i.nodes)||(i.nodes=n={},i.buildNodes(t,"")),(r=n[r])?(i.node&&(i.node.sortedData=i.sortedData,i.node.currentOrder=i.currentOrder),i.node=r,i.data=r.data,i.sortedData=r.sortedData,i.currentOrder=r.currentOrder):i.data=null},getData:function(e){var n,i,r,o,a=this,s=e.params,l=(s.filter||"")+(s.group||"")+"-"+(s.sort||"")+"-"+(s.dir||""),d=a.tree;if(d&&a.fixTree(e,d),"function"==typeof(i=a.data)&&(n=!0,i=i.call(this,e)),!i||"--"===l)return i||[];if(!n&&l==a.currentOrder)return a.sortedData;if(e.filterSpec=s.filter&&Ext.decode(s.filter),e.groupSpec=s.group&&Ext.decode(s.group),r=s.sort,r=s.dir?[{direction:s.dir,property:r}]:Ext.decode(s.sort),e.filterSpec){var c=new Ext.util.FilterCollection;c.add(this.processFilters(e.filterSpec)),i=Ext.Array.filter(i,c.getFilterFn())}return o=t(e.sortSpec=r),e.groupSpec&&(o=t([e.groupSpec],o)),i=Ext.isArray(i)?i.slice(0):i,o&&Ext.Array.sort(i,o),a.sortedData=i,a.currentOrder=l,i},processFilters:Ext.identityFn,getPage:function(e,t){var n=t,i=t.length,r=e.params.start||0,o=e.params.limit?Math.min(i,r+e.params.limit):i;return(r||o<i)&&(n=n.slice(r,o)),n},getGroupSummary:function(e,t,n){return t[0]},getSummary:function(e,t,n){var i,r,o,a=this,s=e.groupSpec.property,l={},d=[];function c(){i&&(d.push(a.getGroupSummary(s,i,e)),i=null)}return Ext.each(n,function(e){r=e[s],l[r]=!0}),Ext.each(t,function(e){return r=e[s],o!==r&&(c(),o=r),l[r]?(i?i.push(e):i=[e],!0):!d.length}),c(),d}}}()),Ext.define("Ext.ux.ajax.JsonSimlet",{extend:"Ext.ux.ajax.DataSimlet",alias:"simlet.json",doGet:function(e){var t=this.getData(e),n=this.getPage(e,t),i=e.xhr.options.proxy&&e.xhr.options.proxy.getReader(),r=i&&i.getRootProperty(),o=this.callParent(arguments),a={};return r&&Ext.isArray(n)?(a[r]=n,a[i.getTotalProperty()]=t.length):a=n,e.groupSpec&&(a.summaryData=this.getSummary(e,t,n)),o.responseText=Ext.encode(a),o},doPost:function(e){return this.doGet(e)}}),Ext.define("Ext.ux.ajax.PivotSimlet",{extend:"Ext.ux.ajax.JsonSimlet",alias:"simlet.pivot",lastPost:null,lastResponse:null,keysSeparator:"",grandTotalKey:"",doPost:function(e){var t=this,n=t.callParent(arguments);return t.lastResponse=t.processData(t.getData(e),Ext.decode(e.xhr.body)),n.responseText=Ext.encode(t.lastResponse),n},processData:function(e,t){var n,i,r,o,a,s,l,d=this,c=e.length,u={success:!0,leftAxis:[],topAxis:[],results:[]},h=new Ext.util.MixedCollection,f=new Ext.util.MixedCollection,g=new Ext.util.MixedCollection;for(d.lastPost=t,d.keysSeparator=t.keysSeparator,d.grandTotalKey=t.grandTotalKey,n=0;n<c;n++){for(o=d.extractValues(e[n],t.leftAxis,h),a=d.extractValues(e[n],t.topAxis,f),d.addResult(e[n],d.grandTotalKey,d.grandTotalKey,g),i=0;i<o.length;i++)for(d.addResult(e[n],o[i],d.grandTotalKey,g),r=0;r<a.length;r++)d.addResult(e[n],o[i],a[r],g);for(i=0;i<a.length;i++)d.addResult(e[n],d.grandTotalKey,a[i],g)}for(u.leftAxis=h.getRange(),u.topAxis=f.getRange(),c=g.getCount(),n=0;n<c;n++){for((s=g.getAt(n)).values={},i=0;i<t.aggregate.length;i++)l=t.aggregate[i],s.values[l.id]=d[l.aggregator](s.records,l.dataIndex,s.leftKey,s.topKey);delete s.records,u.results.push(s)}return h.clear(),f.clear(),g.clear(),u},getKey:function(e){var t=this;return t.keysMap=t.keysMap||{},Ext.isDefined(t.keysMap[e])||(t.keysMap[e]=Ext.id()),t.keysMap[e]},extractValues:function(e,t,n){var i,r,o,a=t.length,s=[];for(r="",i=0;i<a;i++)o=t[i],r+=(i>0?this.keysSeparator:"")+this.getKey(e[o.dataIndex]),n.getByKey(r)||n.add(r,{key:r,value:e[o.dataIndex],dimensionId:o.id}),s.push(r);return s},addResult:function(e,t,n,i){var r=i.getByKey(t+"/"+n);r||(r=i.add(t+"/"+n,{leftKey:t,topKey:n,records:[]})),r.records.push(e)},sum:function(e,t,n,i){var r,o=e.length,a=0;for(r=0;r<o;r++)a+=Ext.Number.from(e[r][t],0);return a},avg:function(e,t,n,i){var r,o=e.length,a=0;for(r=0;r<o;r++)a+=Ext.Number.from(e[r][t],0);return o>0?a/o:0},min:function(e,t,n,i){var r,o=[],a=e.length;for(r=0;r<a;r++)o.push(e[r][t]);return Ext.Array.min(o)},max:function(e,t,n,i){var r,o=[],a=e.length;for(r=0;r<a;r++)o.push(e[r][t]);return v=Ext.Array.max(o),v},count:function(e,t,n,i){return e.length},variance:function(e,t,n,i){var r,o=Ext.pivot.Aggregators,a=e.length,s=o.avg.apply(o,arguments),l=0;if(s>0)for(r=0;r<a;r++)l+=Math.pow(Ext.Number.from(e[r][t],0)-s,2);return l>0&&a>1?l/(a-1):0},varianceP:function(e,t,n,i){var r,o=Ext.pivot.Aggregators,a=e.length,s=o.avg.apply(o,arguments),l=0;if(s>0)for(r=0;r<a;r++)l+=Math.pow(Ext.Number.from(e[r][t],0)-s,2);return l>0&&a>0?l/a:0},stdDev:function(e,t,n,i){var r=Ext.pivot.Aggregators,o=r.variance.apply(r,arguments);return o>0?Math.sqrt(o):0},stdDevP:function(e,t,n,i){var r=Ext.pivot.Aggregators,o=r.varianceP.apply(r,arguments);return o>0?Math.sqrt(o):0}}),Ext.define("Ext.ux.ajax.SimXhr",{readyState:0,mgr:null,simlet:null,constructor:function(e){Ext.apply(this,e),this.requestHeaders={}},abort:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.aborted=!0},getAllResponseHeaders:function(){var e=[];return Ext.isObject(this.responseHeaders)&&Ext.Object.each(this.responseHeaders,function(t,n){e.push(t+": "+n)}),e.join("\r\n")},getResponseHeader:function(e){var t=this.responseHeaders;return t&&t[e]||null},open:function(e,t,n,i,r){var o=this;o.method=e,o.url=t,o.async=!1!==n,o.user=i,o.password=r,o.setReadyState(1)},overrideMimeType:function(e){this.mimeType=e},schedule:function(){var e=this,t=e.simlet.delay||e.mgr.delay;t?e.timer=setTimeout(function(){e.onTick()},t):e.onTick()},send:function(e){this.body=e,this.async?this.schedule():this.onComplete()},setReadyState:function(e){this.readyState!=e&&(this.readyState=e,this.onreadystatechange())},setRequestHeader:function(e,t){this.requestHeaders[e]=t},onreadystatechange:Ext.emptyFn,onComplete:function(){var me=this,callback;if(me.readyState=4,Ext.apply(me,me.simlet.exec(me)),callback=me.jsonpCallback,callback){var text=callback+"("+me.responseText+")";eval(text)}},onTick:function(){this.timer=null,this.onComplete(),this.onreadystatechange&&this.onreadystatechange()}}),Ext.define("Ext.ux.ajax.SimManager",{singleton:!0,requires:["Ext.data.Connection","Ext.ux.ajax.SimXhr","Ext.ux.ajax.Simlet","Ext.ux.ajax.JsonSimlet"],defaultType:"basic",delay:150,ready:!1,constructor:function(){this.simlets=[]},getSimlet:function(e){var t,n,i,r=e.indexOf("?"),o=this.simlets,a=o.length;for(r<0&&(r=e.indexOf("#")),r>0&&(e=e.substring(0,r)),t=0;t<a;++t)if((i=(n=o[t]).url)instanceof RegExp?i.test(e):i===e)return n;return this.defaultSimlet},getXhr:function(e,t,n,i){var r=this.getSimlet(t);return r?r.openRequest(e,t,n,i):null},init:function(e){var t=this;return Ext.apply(t,e),t.ready||(t.ready=!0,"defaultSimlet"in t||(t.defaultSimlet=new Ext.ux.ajax.Simlet({status:404,statusText:"Not Found"})),t._openRequest=Ext.data.Connection.prototype.openRequest,Ext.data.request.Ajax.override({openRequest:function(e,n,i){var r=!e.nosim&&t.getXhr(n.method,n.url,e,i);return r||(r=this.callParent(arguments)),r}}),Ext.data.JsonP&&Ext.data.JsonP.self.override({createScript:function(e,n,i){var r=Ext.urlAppend(e,Ext.Object.toQueryString(n)),o=!i.nosim&&t.getXhr("GET",r,i,!0);return o||(o=this.callParent(arguments)),o},loadScript:function(e){var t=e.script;t.simlet?(t.jsonpCallback=e.params[e.callbackKey],t.send(null),e.script=document.createElement("script")):this.callParent(arguments)}})),t},openRequest:function(e,t,n){var i={method:e,url:t};return this._openRequest.call(Ext.data.Connection.prototype,{},i,n)},register:function(e){var t=this;function n(e){var n=e;n.isSimlet||(n=Ext.create("simlet."+(n.type||n.stype||t.defaultType),e)),t.simlets.push(n),n.manager=t}return t.init(),Ext.isArray(e)?Ext.each(e,n):e.isSimlet||e.url?n(e):Ext.Object.each(e,function(e,t){t.url=e,n(t)}),t}}),Ext.define("Ext.ux.ajax.XmlSimlet",{extend:"Ext.ux.ajax.DataSimlet",alias:"simlet.xml",xmlTpl:["<{root}>\n",'<tpl for="data">',"    <{parent.record}>\n",'<tpl for="parent.fields">',"        <{name}>{[parent[values.name]]}</{name}>\n","</tpl>","    </{parent.record}>\n","</tpl>","</{root}>"],doGet:function(e){var t,n,i=this,r=i.getData(e),o=i.getPage(e,r),a=e.xhr.options.operation.getProxy(),s=a&&a.getReader(),l=s&&s.getModel(),d=i.callParent(arguments),c={data:o,reader:s,fields:l&&l.fields,root:s&&s.getRootProperty(),record:s&&s.record};return e.groupSpec&&(c.summaryData=i.getSummary(e,r,o)),t=i.xmlTpl?Ext.XTemplate.getTpl(i,"xmlTpl").apply(c):r,"undefined"!=typeof DOMParser?n=(new DOMParser).parseFromString(t,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(t)),d.responseText=t,d.responseXML=n,d},fixTree:function(){this.callParent(arguments);var e=[];this.buildTreeXml(this.data,e),this.data=e.join("")},buildTreeXml:function(e,t){var n=this.rootProperty,i=this.recordProperty;t.push("<",n,">"),Ext.Array.forEach(e,function(e){for(var n in t.push("<",i,">"),e)"children"==n?this.buildTreeXml(e.children,t):t.push("<",n,">",e[n],"</",n,">");t.push("</",i,">")}),t.push("</",n,">")}}),Ext.define("Ext.ux.event.Driver",{extend:"Ext.util.Observable",active:null,specialKeysByName:{PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},specialKeysByCode:{},getTextSelection:function(e){var t,n,i,r,o=e.ownerDocument;return"number"==typeof e.selectionStart?(i=e.selectionStart,r=e.selectionEnd):o.selection&&(t=o.selection.createRange(),(n=e.createTextRange()).setEndPoint("EndToStart",t),r=(i=n.text.length)+t.text.length),[i,r]},getTime:function(){return(new Date).getTime()},getTimestamp:function(){return this.getTime()-this.startTime},onStart:function(){},onStop:function(){},start:function(){var e=this;e.active||(e.active=new Date,e.startTime=e.getTime(),e.onStart(),e.fireEvent("start",e))},stop:function(){var e=this;e.active&&(e.active=null,e.onStop(),e.fireEvent("stop",e))}},function(){var e=this.prototype;Ext.Object.each(e.specialKeysByName,function(t,n){e.specialKeysByCode[n]=t})}),Ext.define("Ext.ux.event.Maker",{eventQueue:[],startAfter:500,timerIncrement:500,currentTiming:0,constructor:function(e){var t=this;return t.currentTiming=t.startAfter,Ext.isArray(e)||(e=[e]),Ext.Array.each(e,function(n){n.el=n.el||"el",Ext.Array.each(Ext.ComponentQuery.query(n.cmpQuery),function(i){var r,o,a,s={};a=n.domQuery?i.el.down(n.domQuery):i[n.el],s.target="#"+a.dom.id,s.type=n.type,s.button=e.button||0,r=a.getX()+a.getWidth()/2,o=a.getY()+a.getHeight()/2,s.xy=[r,o],s.ts=t.currentTiming,t.currentTiming+=t.timerIncrement,t.eventQueue.push(s)}),n.screenshot&&(t.eventQueue[t.eventQueue.length-1].screenshot=!0)}),t.eventQueue}}),Ext.define("Ext.ux.event.Player",function(e){var t,n={},i={},r={},o={},a={resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1};Ext.each(["click","dblclick","mouseover","mouseout","mousedown","mouseup","mousemove"],function(e){a[e]=n[e]=i[e]={bubbles:!0,cancelable:"mousemove"!=e,detail:1,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0}}),Ext.each(["keydown","keyup","keypress"],function(e){a[e]=n[e]=r[e]={bubbles:!0,cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:0}}),Ext.each(["blur","change","focus","resize","scroll","select"],function(e){n[e]=o[e]={bubbles:e in a,cancelable:!1,detail:1}});var s={8:function(e,t,n){t<n?e.value=e.value.substring(0,t)+e.value.substring(n):t>0&&(e.value=e.value.substring(0,--t)+e.value.substring(n)),this.setTextSelection(e,t,t)},46:function(e,t,n){t<n?e.value=e.value.substring(0,t)+e.value.substring(n):t<e.value.length-1&&(e.value=e.value.substring(0,t)+e.value.substring(t+1)),this.setTextSelection(e,t,t)}};return{extend:"Ext.ux.event.Driver",keyFrameEvents:{click:!0},pauseForAnimations:!0,speed:1,stallTime:0,_inputSpecialKeys:{INPUT:s,TEXTAREA:Ext.apply({},s)},tagPathRegEx:/(\w+)(?:\[(\d+)\])?/,constructor:function(e){var n=this;n.callParent(arguments),n.timerFn=function(){n.onTick()},n.attachTo=n.attachTo||window,t=n.attachTo.document},getElementFromXPath:function(e){var t,n,i,r,o,a,s=e.split("/"),l=this.tagPathRegEx,d=this.attachTo.document;for(d="~"==s[0]?d.body:d.getElementById(s[0].substring(1)),t=1,n=s.length;d&&t<n;++t){for(r=(i=l.exec(s[t]))[2]?parseInt(i[2],10):1,o=i[1].toUpperCase(),a=d.firstChild;a;a=a.nextSibling)if(a.tagName==o){if(1==r)break;--r}d=a}return d},offsetToRangeCharacterMove:function(e,t){return t-(e.value.slice(0,t).split("\r\n").length-1)},setTextSelection:function(e,t,n){if(t<0&&(t+=e.value.length),null==n&&(n=t),n<0&&(n+=e.value.length),"number"==typeof e.selectionStart)e.selectionStart=t,e.selectionEnd=n;else{var i=e.createTextRange(),r=this.offsetToRangeCharacterMove(e,t);i.collapse(!0),t==n?i.move("character",r):(i.moveEnd("character",this.offsetToRangeCharacterMove(e,n)),i.moveStart("character",r)),i.select()}},getTimeIndex:function(){return(this.getTimestamp()-this.stallTime)*this.speed},makeToken:function(e,t){var n,i=this;e[t]=!0,e.defer=function(){e[t]=!1,n=i.getTime()},e.finish=function(){e[t]=!0,i.stallTime+=i.getTime()-n,i.schedule()}},nextEvent:function(e){var t=++this.queueIndex;this.keyFrameEvents[e.type]&&Ext.Array.insert(this.eventQueue,t,[{keyframe:!0,ts:e.ts}])},peekEvent:function(){return this.eventQueue[this.queueIndex]||null},replaceEvent:function(e,t){for(var n,i=0,r=t.length;i<r;++i)i&&(delete(n=t[i-1]).afterplay,delete n.screenshot,delete t[i].beforeplay);Ext.Array.replace(this.eventQueue,null==e?this.queueIndex:e,1,t)},processEvents:function(){for(var e,t=this,n=t.pauseForAnimations&&t.attachTo.Ext.fx.Manager.items;null!==(e=t.peekEvent());){if(n&&n.getCount())return!0;if(e.keyframe){if(!t.processKeyFrame(e))return!1;t.nextEvent(e)}else{if(!(e.ts<=t.getTimeIndex()&&!1!==t.fireEvent("beforeplay",t,e)&&t.playEvent(e)))return!0;t.nextEvent(e)}}return t.stop(),!1},processKeyFrame:function(e){return e.defer||(this.makeToken(e,"done"),this.fireEvent("keyframe",this,e)),e.done},injectEvent:function(t,a){var s,l=this,d=a.type,c=Ext.apply({},a,n[d]);return"type"===d?(s=l._inputSpecialKeys[t.tagName])?l.injectTypeInputEvent(t,a,s):l.injectTypeEvent(t,a):"focus"===d&&t.focus?(t.focus(),!0):"blur"===d&&t.blur?(t.blur(),!0):"scroll"===d?(t.scrollLeft=a.pos[0],t.scrollTop=a.pos[1],!0):"mduclick"===d?l.injectEvent(t,Ext.applyIf({type:"mousedown"},a))&&l.injectEvent(t,Ext.applyIf({type:"mouseup"},a))&&l.injectEvent(t,Ext.applyIf({type:"click"},a)):i[d]?e.injectMouseEvent(t,c,l.attachTo):r[d]?e.injectKeyEvent(t,c,l.attachTo):!!o[d]&&e.injectUIEvent(t,d,c.bubbles,c.cancelable,c.view||l.attachTo,c.detail)},injectTypeEvent:function(e,t){var n,i,r,o,a,s=t.text,l=[];if(s)for(delete t.text,a=s.toUpperCase(),r=0,o=s.length;r<o;++r)n=s.charCodeAt(r),i=a.charCodeAt(r),l.push(Ext.applyIf({type:"keydown",charCode:i,keyCode:i},t),Ext.applyIf({type:"keypress",charCode:n,keyCode:n},t),Ext.applyIf({type:"keyup",charCode:i,keyCode:i},t));else l.push(Ext.applyIf({type:"keydown",charCode:t.keyCode},t),Ext.applyIf({type:"keyup",charCode:t.keyCode},t));for(r=0,o=l.length;r<o;++r)this.injectEvent(e,l[r]);return!0},injectTypeInputEvent:function(e,t,n){var i,r,o=this,a=t.text;if(n){if(i=o.getTextSelection(e),!a)return(n=n[t.keyCode])?(n.call(this,e,i[0],i[1]),!0):("caret"in t?o.setTextSelection(e,t.caret,t.caret):t.selection&&o.setTextSelection(e,t.selection[0],t.selection[1]),o.injectTypeEvent(e,t));r=i[0],e.value=e.value.substring(0,r)+a+e.value.substring(i[1]),r+=a.length,o.setTextSelection(e,r,r)}return!0},playEvent:function(e){var t,n=this,i=n.getElementFromXPath(e.target);return!!i&&(!!n.playEventHook(e,"beforeplay")&&(e.injected||(e.injected=!0,t=n.translateEvent(e,i),n.injectEvent(i,t)),n.playEventHook(e,"afterplay")))},playEventHook:function(e,t){var n=this,i=t+".done",r=t+".fired",o=e[t];return!(o&&!e[i])||(e[r]||(e[r]=!0,n.makeToken(e,i),n.eventScope&&Ext.isString(o)&&(o=n.eventScope[o]),o&&o.call(n.eventScope||n,e)),!1)},schedule:function(){this.timer||(this.timer=setTimeout(this.timerFn,10))},_translateAcross:["type","button","charCode","keyCode","caret","pos","text","selection"],translateEvent:function(e,t){for(var n,i,r={},o=e.modKeys||"",a=this._translateAcross,s=a.length;s--;)(n=a[s])in e&&(r[n]=e[n]);return r.altKey=o.indexOf("A")>0,r.ctrlKey=o.indexOf("C")>0,r.metaKey=o.indexOf("M")>0,r.shiftKey=o.indexOf("S")>0,t&&"x"in e?((i=Ext.fly(t).getXY())[0]+=e.x,i[1]+=e.y):"x"in e?i=[e.x,e.y]:"px"in e&&(i=[e.px,e.py]),i&&(r.clientX=r.screenX=i[0],r.clientY=r.screenY=i[1]),e.key&&(r.keyCode=this.specialKeysByName[e.key]),"wheel"===e.type&&("onwheel"in this.attachTo.document?(r.wheelX=e.dx,r.wheelY=e.dy):(r.type="mousewheel",r.wheelDeltaX=-40*e.dx,r.wheelDeltaY=r.wheelDelta=-40*e.dy)),r},onStart:function(){this.queueIndex=0,this.schedule()},onStop:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},onTick:function(){this.timer=null,this.processEvents()&&this.schedule()},statics:{ieButtonCodeMap:{0:1,1:4,2:2},injectKeyEvent:function(e,n,i){var r=n.type,o=null;if("textevent"===r&&(r="keypress"),i=i||window,t.createEvent){try{(o=t.createEvent("KeyEvents")).initKeyEvent(r,n.bubbles,n.cancelable,i,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode)}catch(e){try{o=t.createEvent("Events")}catch(e){o=t.createEvent("UIEvents")}finally{o.initEvent(r,n.bubbles,n.cancelable),o.view=i,o.altKey=n.altKey,o.ctrlKey=n.ctrlKey,o.shiftKey=n.shiftKey,o.metaKey=n.metaKey,o.keyCode=n.keyCode,o.charCode=n.charCode}}e.dispatchEvent(o)}else{if(!t.createEventObject)return!1;(o=t.createEventObject()).bubbles=n.bubbles,o.cancelable=n.cancelable,o.view=i,o.ctrlKey=n.ctrlKey,o.altKey=n.altKey,o.shiftKey=n.shiftKey,o.metaKey=n.metaKey,o.keyCode=n.charCode>0?n.charCode:n.keyCode,e.fireEvent("on"+r,o)}return!0},injectMouseEvent:function(n,i,r){var o=i.type,a=null;if(r=r||window,t.createEvent)(a=t.createEvent("MouseEvents")).initMouseEvent?a.initMouseEvent(o,i.bubbles,i.cancelable,r,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget):((a=t.createEvent("UIEvents")).initEvent(o,i.bubbles,i.cancelable),a.view=r,a.detail=i.detail,a.screenX=i.screenX,a.screenY=i.screenY,a.clientX=i.clientX,a.clientY=i.clientY,a.ctrlKey=i.ctrlKey,a.altKey=i.altKey,a.metaKey=i.metaKey,a.shiftKey=i.shiftKey,a.button=i.button,a.relatedTarget=i.relatedTarget),i.relatedTarget&&!a.relatedTarget&&("mouseout"==o?a.toElement=i.relatedTarget:"mouseover"==o&&(a.fromElement=i.relatedTarget)),n.dispatchEvent(a);else{if(!t.createEventObject)return!1;(a=t.createEventObject()).bubbles=i.bubbles,a.cancelable=i.cancelable,a.view=r,a.detail=i.detail,a.screenX=i.screenX,a.screenY=i.screenY,a.clientX=i.clientX,a.clientY=i.clientY,a.ctrlKey=i.ctrlKey,a.altKey=i.altKey,a.metaKey=i.metaKey,a.shiftKey=i.shiftKey,a.button=e.ieButtonCodeMap[i.button]||0,a.relatedTarget=i.relatedTarget,n.fireEvent("on"+o,a)}return!0},injectUIEvent:function(e,n,i){var r=null;if(i=i||window,t.createEvent)(r=t.createEvent("UIEvents")).initUIEvent(n.type,n.bubbles,n.cancelable,i,n.detail),e.dispatchEvent(r);else{if(!t.createEventObject)return!1;(r=t.createEventObject()).bubbles=n.bubbles,r.cancelable=n.cancelable,r.view=i,r.detail=n.detail,e.fireEvent("on"+n.type,r)}return!0}}}}),Ext.define("Ext.ux.event.Recorder",function(e){function t(){var e,t=arguments.length,n={kind:"other"};for(e=0;e<t;++e)Ext.apply(n,arguments[e]);return n.alt&&!n.event&&(n.event=n.alt),n}function n(e){return t({kind:"keyboard",modKeys:!0,key:!0},e)}function i(e){return t({kind:"mouse",button:!0,modKeys:!0,xy:!0},e)}var r={keydown:n(),keypress:n(),keyup:n(),dragmove:i({alt:"mousemove",pageCoords:!0,whileDrag:!0}),mousemove:i({pageCoords:!0}),mouseover:i(),mouseout:i(),click:i(),wheel:i({wheel:!0}),mousedown:i({press:!0}),mouseup:i({release:!0}),scroll:t({listen:!1}),focus:t(),blur:t()};for(var n in r)r[n].event||(r[n].event=n);return r.wheel.event=null,{extend:"Ext.ux.event.Driver",eventsToRecord:r,ignoreIdRegEx:/ext-gen(?:\d+)/,inputRe:/^(input|textarea)$/i,constructor:function(e){var t=this,n=e&&e.eventsToRecord;n&&(t.eventsToRecord=Ext.apply(Ext.apply({},t.eventsToRecord),n),delete e.eventsToRecord),t.callParent(arguments),t.clear(),t.modKeys=[],t.attachTo=t.attachTo||window},clear:function(){this.eventsRecorded=[]},listenToEvent:function(e){var t=this,n=t.attachTo.document.body,i=function(){return t.onEvent.apply(t,arguments)},r={};return n.attachEvent&&n.ownerDocument.documentMode<10?(e="on"+e,n.attachEvent(e,i),r.destroy=function(){i&&(n.detachEvent(e,i),i=null)}):(n.addEventListener(e,i,!0),r.destroy=function(){i&&(n.removeEventListener(e,i,!0),i=null)}),r},coalesce:function(e,t){var n=this,i=n.eventsRecorded,r=i.length,o=r&&i[r-1],a=r>1&&i[r-2],s=r>2&&i[r-3];if(!o)return!1;if("mousemove"===e.type){if("mousemove"===o.type&&e.ts-o.ts<200)return e.ts=o.ts,i[r-1]=e,!0}else if("click"===e.type){if(a&&"mouseup"===o.type&&"mousedown"===a.type&&e.button==o.button&&e.button==a.button&&e.target==o.target&&e.target==a.target&&n.samePt(e,o)&&n.samePt(e,a))return i.pop(),a.type="mduclick",!0}else if("keyup"===e.type)if(a&&"keypress"===o.type&&"keydown"===a.type){if(e.target===o.target&&e.target===a.target)return i.pop(),a.type="type",a.text=String.fromCharCode(o.charCode),delete a.charCode,delete a.keyCode,s&&"type"===s.type&&s.text&&s.target===a.target&&(s.text+=a.text,i.pop()),!0}else{if(n.completeKeyStroke(o,e))return o.type="type",n.completeSpecialKeyStroke(t.target,o,e),!0;if("scroll"===o.type&&n.completeKeyStroke(a,e))return a.type="type",n.completeSpecialKeyStroke(t.target,a,e),i.pop(),i.pop(),i.push(o,a),!0}return!1},completeKeyStroke:function(e,t){return!(!e||"keydown"!==e.type||e.keyCode!==t.keyCode)&&(delete e.charCode,!0)},completeSpecialKeyStroke:function(e,t,n){var i=this.specialKeysByCode[n.keyCode];return!(!i||!this.inputRe.test(e.tagName))&&(delete t.keyCode,t.key=i,t.selection=this.getTextSelection(e),t.selection[0]===t.selection[1]&&(t.caret=t.selection[0],delete t.selection),!0)},getElementXPath:function(e){var t,n,i,r,o=!1,a=[];for(i=e;i;i=i.parentNode){if(i==this.attachTo.document.body){a.unshift("~"),o=!0;break}if(i.id&&!this.ignoreIdRegEx.test(i.id)){a.unshift("#"+i.id),o=!0;break}for(t=1,n=i;n=n.previousSibling;)n.tagName==i.tagName&&++t;r=i.tagName.toLowerCase(),t<2?a.unshift(r):a.unshift(r+"["+t+"]")}return o?a.join("/"):null},getRecordedEvents:function(){return this.eventsRecorded},onEvent:function(e){var t,n,i,r,o=this,a=new Ext.event.Event(e),s=o.eventsToRecord[a.type],l={type:a.type,ts:o.getTimestamp(),target:o.getElementXPath(a.target)};s&&l.target&&(t=(t=a.target.ownerDocument).defaultView||t.parentWindow)===o.attachTo&&(o.eventsToRecord.scroll&&o.syncScroll(a.target),s.xy&&(r=a.getXY(),s.pageCoords||!l.target?(l.px=r[0],l.py=r[1]):(i=Ext.fly(a.getTarget()).getXY(),r[0]-=i[0],r[1]-=i[1],l.x=r[0],l.y=r[1])),s.button&&(l.button="buttons"in e?e.buttons:e.button,!l.button&&s.whileDrag)||(s.wheel&&(l.type="wheel","wheel"===s.event?(l.dx=e.deltaX,l.dy=e.deltaY):"number"==typeof e.wheelDeltaX?(l.dx=-.025*e.wheelDeltaX,l.dy=-.025*e.wheelDeltaY):e.wheelDelta?l.dy=-.025*e.wheelDelta:e.detail&&(l.dy=e.detail)),s.modKeys&&(o.modKeys[0]=a.altKey?"A":"",o.modKeys[1]=a.ctrlKey?"C":"",o.modKeys[2]=a.metaKey?"M":"",o.modKeys[3]=a.shiftKey?"S":"",(n=o.modKeys.join(""))&&(l.modKeys=n)),s.key&&(l.charCode=a.getCharCode(),l.keyCode=a.getKey()),o.coalesce(l,a)?o.fireEvent("coalesce",o,l):(o.eventsRecorded.push(l),o.fireEvent("add",o,l))))},onStart:function(){var t=this,n=t.attachTo.Ext.dd.DragDropManager,i=t.attachTo.Ext.EventObjectImpl.prototype,r=[];e.prototype.eventsToRecord.wheel.event="onwheel"in t.attachTo.document?"wheel":"mousewheel",t.listeners=[],Ext.Object.each(t.eventsToRecord,function(e,n){n&&!1!==n.listen&&(n.event||(n.event=e),n.alt&&n.alt!==e?t.eventsToRecord[n.alt]||r.push(n):t.listeners.push(t.listenToEvent(n.event)))}),Ext.each(r,function(e){t.eventsToRecord[e.alt]=e,t.listeners.push(t.listenToEvent(e.alt))}),t.ddmStopEvent=n.stopEvent,n.stopEvent=Ext.Function.createSequence(n.stopEvent,function(e){t.onEvent(e)}),t.evStopEvent=i.stopEvent,i.stopEvent=Ext.Function.createSequence(i.stopEvent,function(){t.onEvent(this)})},onStop:function(){var e=this;Ext.destroy(e.listeners),e.listeners=null,e.attachTo.Ext.dd.DragDropManager.stopEvent=e.ddmStopEvent,e.attachTo.Ext.EventObjectImpl.prototype.stopEvent=e.evStopEvent},samePt:function(e,t){return e.x==t.x&&e.y==t.y},syncScroll:function(e){for(var t,n,i,r,o,a,s=this,l=s.getTimestamp(),d=e;d&&(t=d.$lastScrollLeft,n=d.$lastScrollTop,i=d.scrollLeft,r=d.scrollTop,o=!1,t!==i&&(i&&(o=!0),d.$lastScrollLeft=i),n!==r&&(r&&(o=!0),d.$lastScrollTop=r),o&&(s.eventsRecorded.push(a={type:"scroll",target:s.getElementXPath(d),ts:l,pos:[i,r]}),s.fireEvent("add",s,a)),"BODY"!==d.tagName);d=d.parentNode);}}}),Ext.define("Ext.ux.BoxReorderer",{extend:"Ext.plugin.Abstract",alias:"plugin.boxreorderer",requires:["Ext.dd.DD"],mixins:{observable:"Ext.util.Observable"},itemSelector:".x-box-item",animate:100,constructor:function(){this.callParent(arguments),this.mixins.observable.constructor.call(this)},init:function(e){var t=this;t.container=e,t.animatePolicy={},t.animatePolicy[e.getLayout().names.x]=!0,t.container.on({scope:t,boxready:t.onBoxReady,beforedestroy:t.onContainerDestroy})},onContainerDestroy:function(){var e=this.dd;e&&(e.unreg(),this.dd=null)},onBoxReady:function(){var e,t=this,n=t.container.getLayout(),i=n.names;e=t.dd=new Ext.dd.DD(n.innerCt,t.container.id+"-reorderer"),Ext.apply(e,{animate:t.animate,reorderer:t,container:t.container,getDragCmp:t.getDragCmp,clickValidator:Ext.Function.createInterceptor(e.clickValidator,t.clickValidator,t,!1),onMouseDown:t.onMouseDown,startDrag:t.startDrag,onDrag:t.onDrag,endDrag:t.endDrag,getNewIndex:t.getNewIndex,doSwap:t.doSwap,findReorderable:t.findReorderable}),e.dim=i.width,e.startAttr=i.beforeX,e.endAttr=i.afterX},getDragCmp:function(e){return this.container.getChildByElement(e.getTarget(this.itemSelector,10))},clickValidator:function(e){var t=this.getDragCmp(e);return!(!t||!1===t.reorderable)},onMouseDown:function(e){var t,n,i,r=this,o=r.container;r.dragCmp=r.getDragCmp(e),r.dragCmp&&(n=r.dragCmp.getEl(),r.startIndex=r.curIndex=o.items.indexOf(r.dragCmp),i=n.getBox(),r.lastPos=i[r.startAttr],t=o.el.getBox(),"width"===r.dim?(r.minX=t.left,r.maxX=t.right-i.width,r.minY=r.maxY=i.top,r.deltaX=e.getX()-i.left):(r.minY=t.top,r.maxY=t.bottom-i.height,r.minX=r.maxX=i.left,r.deltaY=e.getY()-i.top),r.constrainY=r.constrainX=!0)},startDrag:function(){var e=this,t=e.dragCmp;t?(t.setPosition=Ext.emptyFn,t.animate=!1,e.animate&&(e.container.getLayout().animatePolicy=e.reorderer.animatePolicy),e.dragElId=t.getEl().id,e.reorderer.fireEvent("StartDrag",e,e.container,t,e.curIndex),t.suspendEvents(),t.disabled=!0,t.el.setStyle("zIndex",100)):e.dragElId=null},findReorderable:function(e){var t,n=this.container.items;if(!1===n.getAt(e).reorderable)if(t=n.getAt(e),e>this.startIndex)for(;t&&!1===t.reorderable;)e++,t=n.getAt(e);else for(;t&&!1===t.reorderable;)e--,t=n.getAt(e);return e=Math.min(Math.max(e,0),n.getCount()-1),!1===n.getAt(e).reorderable?-1:e},doSwap:function(e){var t,n,i,r=this,o=r.container.items,a=r.container,s=r.container._isLayoutRoot;-1!==(e=r.findReorderable(e))&&(r.reorderer.fireEvent("ChangeIndex",r,a,r.dragCmp,r.startIndex,e),t=o.getAt(r.curIndex),n=o.getAt(e),o.remove(t),i=Math.min(Math.max(e,0),o.getCount()-1),o.insert(i,t),o.remove(n),o.insert(r.curIndex,n),a._isLayoutRoot=!0,a.updateLayout(),a._isLayoutRoot=s,r.curIndex=e)},onDrag:function(e){var t,n=this;void 0!==(t=n.getNewIndex(e.getPoint()))&&(n.reorderer.fireEvent("Drag",n,n.container,n.dragCmp,n.startIndex,n.curIndex),n.doSwap(t))},endDrag:function(e){e&&e.stopEvent();var t,n=this,i=n.container.getLayout();n.dragCmp&&(delete n.dragElId,delete n.dragCmp.setPosition,n.dragCmp.animate=!0,n.dragCmp.lastBox[i.names.x]=n.dragCmp.getPosition(!0)[i.names.widthIndex],n.container._isLayoutRoot=!0,n.container.updateLayout(),n.container._isLayoutRoot=void 0,(t=Ext.fx.Manager.getFxQueue(n.dragCmp.el.id)[0])?t.on({afteranimate:n.reorderer.afterBoxReflow,scope:n}):Ext.Function.defer(n.reorderer.afterBoxReflow,1,n),n.animate&&delete i.animatePolicy,n.reorderer.fireEvent("drop",n,n.container,n.dragCmp,n.startIndex,n.curIndex))},afterBoxReflow:function(){this.dragCmp.el.setStyle("zIndex",""),this.dragCmp.disabled=!1,this.dragCmp.resumeEvents()},getNewIndex:function(e){var t,n,i,r=this,o=r.getDragEl(),a=Ext.fly(o).getBox(),s=0,l=r.container.items.items,d=l.length,c=r.lastPos;for(r.lastPos=a[r.startAttr];s<d;s++)if((t=l[s].getEl()).is(r.reorderer.itemSelector))if(i=(n=t.getBox())[r.startAttr]+(n[r.dim]>>1),s<r.curIndex){if(a[r.startAttr]<c&&a[r.startAttr]<i-5)return s}else if(s>r.curIndex&&a[r.startAttr]>c&&a[r.endAttr]>i+5)return s}}),Ext.define("Ext.ux.CellDragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.celldragdrop",uses:["Ext.view.DragZone"],enforceType:!1,applyEmptyText:!1,emptyText:"",dropBackgroundColor:"green",noDropBackgroundColor:"red",dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){var e=this;e.dragZone=e.dropZone=Ext.destroy(e.dragZone,e.dropZone),e.callParent()},enable:function(){var e=this;e.dragZone&&e.dragZone.unlock(),e.dropZone&&e.dropZone.unlock(),e.callParent()},disable:function(){var e=this;e.dragZone&&e.dragZone.lock(),e.dropZone&&e.dropZone.lock(),e.callParent()},onViewRender:function(e){var t,n=this;n.enableDrag&&(n.containerScroll&&(t=e.getEl()),n.dragZone=new Ext.view.DragZone({view:e,ddGroup:n.dragGroup||n.ddGroup,dragText:n.dragText,containerScroll:n.containerScroll,scrollEl:t,getDragData:function(e){var t,n,i=this.view,r=e.getTarget(i.getItemSelector()),o=i.getRecord(r),a=e.getTarget(i.getCellSelector());if(r)return(t=document.createElement("div")).className="x-form-text",t.appendChild(document.createTextNode(a.textContent||a.innerText)),n=i.getHeaderByCell(a),{event:new Ext.EventObjectImpl(e),ddel:t,item:e.target,columnName:n.dataIndex,record:o}},onInitDrag:function(e,t){var n=this.dragData,i=this.view.getSelectionModel(),r=n.record,o=n.ddel;return i.isSelected(r)||i.select(r,!0),Ext.fly(this.ddel).update(o.textContent||o.innerText),this.proxy.update(this.ddel),this.onStartDrag(e,t),!0}})),n.enableDrop&&(n.dropZone=new Ext.dd.DropZone(e.el,{view:e,ddGroup:n.dropGroup||n.ddGroup,containerScroll:!0,getTargetFromEvent:function(e){var t,n,i=this.view,r=e.getTarget(i.cellSelector);if(r&&(t=i.findItemByChild(r),n=i.getHeaderByCell(r),t&&n))return{node:r,record:i.getRecord(t),columnName:n.dataIndex}},onNodeEnter:function(e,t,i,r){var o=e.record.getField(e.columnName).type.toUpperCase(),a=r.record.getField(r.columnName).type.toUpperCase();if(delete this.dropOK,e&&e.node!==r.item.parentNode){if(n.enforceType&&o!==a)return this.dropOK=!1,n.noDropCls?Ext.fly(e.node).addCls(n.noDropCls):Ext.fly(e.node).applyStyles({backgroundColor:n.noDropBackgroundColor}),!1;this.dropOK=!0,n.dropCls?Ext.fly(e.node).addCls(n.dropCls):Ext.fly(e.node).applyStyles({backgroundColor:n.dropBackgroundColor})}},onNodeOver:function(e,t,n,i){return this.dropOK?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(e,t,i,r){var o=this.dropOK?n.dropCls:n.noDropCls;o?Ext.fly(e.node).removeCls(o):Ext.fly(e.node).applyStyles({backgroundColor:""})},onNodeDrop:function(e,t,i,r){if(this.dropOK)return e.record.set(e.columnName,r.record.get(r.columnName)),n.applyEmptyText&&r.record.set(r.columnName,n.emptyText),!0},onCellDrop:Ext.emptyFn}))}}),Ext.define("Ext.ux.DataTip",function(e){function t(){var e=this.isXType("panel")?this.body:this.el;this.dataTip.renderToTarget&&this.dataTip.render(e),this.dataTip.setTarget(e)}function n(e,t){if(e.rendered){if(!1===e.host.fireEvent("beforeshowtip",e.eventHost,e,t))return!1;e.update(t)}else Ext.isString(t)?e.html=t:e.data=t}function i(e){var t=this.view.getRecord(e.triggerElement);return!!t&&n(e,e.initialConfig.data?Ext.apply(e.initialConfig.data,t.data):t.data)}function r(e){var t=Ext.getCmp(e.triggerElement.id);return!(!t||!t.tooltip&&!e.tpl)&&n(e,t.tooltip||t)}return{extend:"Ext.tip.ToolTip",mixins:{plugin:"Ext.plugin.Abstract"},alias:"plugin.datatip",lockableScope:"both",constructor:function(e){this.callParent([e]),this.mixins.plugin.constructor.call(this,e)},init:function(e){var n=this;n.mixins.plugin.init.call(n,e),e.dataTip=n,n.host=e,e.isXType("tablepanel")?(n.view=e.getView(),e.ownerLockable&&(n.host=e.ownerLockable),n.delegate=n.delegate||n.view.rowSelector,n.on("beforeshow",i)):e.isXType("dataview")?(n.view=n.host,n.delegate=n.delegate||e.itemSelector,n.on("beforeshow",i)):e.isXType("form")?(n.delegate="."+Ext.form.Labelable.prototype.formItemCls,n.on("beforeshow",r)):e.isXType("combobox")&&(n.view=e.getPicker(),n.delegate=n.delegate||n.view.getItemSelector(),n.on("beforeshow",i)),e.rendered?t.call(e):e.onRender=Ext.Function.createSequence(e.onRender,t)}}}),Ext.define("Ext.ux.DataView.Animated",{alias:"plugin.ux-animated-dataview",defaults:{duration:750,idProperty:"id"},constructor:function(e){Ext.apply(this,e||{},this.defaults)},init:function(e){var t=this,n=e.store,i=e.all,r={interval:20},o=t.duration;t.dataview=e,e.blockRefresh=!0,e.updateIndexes=Ext.Function.createSequence(e.updateIndexes,function(){this.getTargetEl().select(this.itemSelector).each(function(t,i,r){t.dom.id=Ext.util.Format.format("{0}-{1}",e.id,n.getAt(r).internalId)},this)},e),t.dataviewID=e.id,t.cachedStoreData={},t.cacheStoreData(n.data||n.snapshot),e.on("resize",function(){e.store.getCount()},this),e.store.on({datachanged:function(){var a,s,l,d,c=e.getTargetEl(),u=c.getY(),h=c.getPadding("t"),f=t.getAdded(n),g=t.getRemoved(n),p=t.getRemaining(n),m=new Ext.dom.Fly,x=t.dataview.getInherited().rtl?"right":"left",E={};if(!c)return;Ext.iterate(g,function(e,n){l=t.dataviewID+"-"+e,Ext.fx.Manager.stopAnimation(l),n.dom=Ext.getDom(l),n.dom||delete g[e]}),t.cacheStoreData(n);var v={},y={};if(Ext.iterate(p,function(e,n){m.attach(Ext.getDom(t.dataviewID+"-"+e))?(v[e]={top:m.getY()-u-m.getMargin("t")-h})[x]=t.getItemX(m):delete p[e]}),e.refresh(),Ext.iterate(g,function(e,t){c.dom.appendChild(t.dom),m.attach(t.dom).animate({duration:o,opacity:0,callback:function(e){var t=Ext.get(e.target.id);t&&t.destroy()}}),delete t.dom}),!n.getCount())return;for(a=i.slice(),s=a.length-1;s>=0;s--)l=n.getAt(s).internalId,m.attach(a[s]),y[l]={dom:m.dom,top:m.getY()-u-m.getMargin("t")-h},y[l][x]=t.getItemX(m),d=v[l]||y[l],E.position="absolute",E.top=d.top+"px",E[x]=d.left+"px",m.applyStyles(E);Ext.iterate(f,function(e,n){m.attach(Ext.getDom(t.dataviewID+"-"+e))&&(m.setOpacity(0),m.animate({duration:o,opacity:1}))}),Ext.TaskManager.stop(r),r.run=function(){var e=(new Date-r.taskStartTime)/o;if(e>=1){for(l in E.position=E.top=E[x]="",y)m.attach(y[l].dom).applyStyles(E);Ext.TaskManager.stop(r)}else for(l in p){var t=v[l],n=y[l],i=t.top,a=n.top,s=t[x],d=n[x],c=e*Math.abs(i-a),u=e*Math.abs(s-d),h=i>a?i-c:i+c,f=s>d?s-u:s+u;E.top=h+"px",E[x]=f+"px",m.attach(n.dom).applyStyles(E)}},Ext.TaskManager.start(r),t.cacheStoreData(n)},scope:this,buffer:50})},getItemX:function(e){var t=this.dataview.getInherited().rtl,n=e.up("");return t?n.getViewRegion().right-e.getRegion().right+e.getMargin("r"):e.getX()-n.getX()-e.getMargin("l")-n.getPadding("l")},cacheStoreData:function(e){var t=this.cachedStoreData={};e.each(function(e){t[e.internalId]=e})},getExisting:function(){return this.cachedStoreData},getExistingCount:function(){var e=0,t=this.getExisting();for(var n in t)e++;return e},getAdded:function(e){var t=this.cachedStoreData,n={};return e.each(function(e){null==t[e.internalId]&&(n[e.internalId]=e)}),n},getRemoved:function(e){var t,n=this.cachedStoreData,i={};for(t in n)-1==e.findBy(function(e){return e.internalId==t})&&(i[t]=n[t]);return i},getRemaining:function(e){var t=this.cachedStoreData,n={};return e.each(function(e){null!=t[e.internalId]&&(n[e.internalId]=e)}),n}}),Ext.define("Ext.ux.DataView.DragSelector",{requires:["Ext.dd.DragTracker","Ext.util.Region"],init:function(e){var t=e.getScrollable();t&&(t.getX()||t.getY())&&(Ext.supports.PointerEvents||Ext.supports.MSPointerEvents)?Ext.log.warn("DragSelector not available on PointerEvent devices"):(this.dataview=e,e.mon(e,{beforecontainerclick:this.cancelClick,scope:this,render:{fn:this.onRender,scope:this,single:!0}}))},onRender:function(){this.tracker=Ext.create("Ext.dd.DragTracker",{dataview:this.dataview,el:this.dataview.el,onBeforeStart:this.onBeforeStart,onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:Ext.Function.createDelayed(this.onEnd,100,this)}),this.dragRegion=Ext.create("Ext.util.Region")},onBeforeStart:function(e){return e.target===this.dataview.getEl().dom},onStart:function(e){var t=this.dataview;this.dragging=!0,this.fillRegions(),this.getProxy().show(),t.getSelectionModel().deselectAll()},cancelClick:function(){return!this.dragging},onDrag:function(e){var t,n,i=this.dataview.getSelectionModel(),r=this.dragRegion,o=this.bodyRegion,a=this.getProxy(),s=this.regions,l=s.length,d=this.tracker.startXY,c=this.tracker.getXY(),u=Math.min(d[0],c[0]),h=Math.min(d[1],c[1]),f=Math.abs(d[0]-c[0]),g=Math.abs(d[1]-c[1]);for(Ext.apply(r,{top:h,left:u,right:u+f,bottom:h+g}),r.constrainTo(o),a.setBox(r),n=0;n<l;n++)t=s[n],r.intersect(t)?i.select(n,!0):i.deselect(n)},onEnd:function(e){this.dataview.getSelectionModel();this.dragging=!1,this.getProxy().hide()},getProxy:function(){return this.proxy||(this.proxy=this.dataview.getEl().createChild({tag:"div",cls:"x-view-selector"})),this.proxy},fillRegions:function(){var e=this.dataview,t=this.regions=[];e.all.each(function(e){t.push(e.getRegion())}),this.bodyRegion=e.getEl().getRegion()}}),Ext.define("Ext.ux.DataView.Draggable",{requires:"Ext.dd.DragZone",ghostCls:"x-dataview-draggable-ghost",ghostTpl:['<tpl for=".">',"{title}","</tpl>"],init:function(e,t){this.dataview=e,e.on("render",this.onRender,this),Ext.apply(this,{itemSelector:e.itemSelector,ghostConfig:{}},t||{}),Ext.applyIf(this.ghostConfig,{itemSelector:"img",cls:this.ghostCls,tpl:this.ghostTpl})},onRender:function(){var e=this,t=Ext.apply({},e.ddConfig||{},{dvDraggable:e,dataview:e.dataview,getDragData:e.getDragData,getTreeNode:e.getTreeNode,afterRepair:e.afterRepair,getRepairXY:e.getRepairXY});e.dragZone=Ext.create("Ext.dd.DragZone",e.dataview.getEl(),t),e.dataview.setItemsDraggable(!0)},getDragData:function(e){var t,n,i=this.dvDraggable,r=this.dataview,o=r.getSelectionModel(),a=e.getTarget(i.itemSelector);return!!a&&(e.preventDefault(),r.isSelected(a)||o.select(r.getRecord(a)),n={copy:!0,nodes:t=r.getSelectedNodes(),records:o.getSelection(),item:!0},1===t.length?(n.single=!0,n.ddel=a):(n.multi=!0,n.ddel=i.prepareGhost(o.getSelection())),n)},getTreeNode:function(){},afterRepair:function(){this.dragging=!1;var e,t=this.dragData.nodes,n=t.length;for(e=0;e<n;e++)Ext.get(t[e]).frame("#8db2e3",1)},getRepairXY:function(e){if(this.dragData.multi)return!1;var t=Ext.get(this.dragData.ddel),n=t.getXY();return n[0]+=t.getPadding("t")+t.getMargin("t"),n[1]+=t.getPadding("l")+t.getMargin("l"),n},prepareGhost:function(e){return this.createGhost(e).getEl().dom},createGhost:function(e){var t,n=this;return n.ghost?(t=n.ghost.store).loadRecords(e):((t=Ext.create("Ext.data.Store",{model:e[0].self})).loadRecords(e),n.ghost=Ext.create("Ext.view.View",Ext.apply({renderTo:document.createElement("div"),store:t},n.ghostConfig)),n.ghost.container.skipGarbageCollection=n.ghost.el.skipGarbageCollection=!0),t.clearData(),n.ghost},destroy:function(){var e=this.ghost;e&&(e.container.destroy(),e.destroy()),this.callParent()}}),Ext.define("Ext.ux.DataView.LabelEditor",{extend:"Ext.Editor",alignment:"tl-tl",completeOnEnter:!0,cancelOnEsc:!0,shim:!1,autoSize:{width:"boundEl",height:"field"},labelSelector:"x-editable",requires:["Ext.form.field.Text"],constructor:function(e){e.field=e.field||Ext.create("Ext.form.field.Text",{allowOnlyWhitespace:!1,selectOnFocus:!0}),this.callParent([e])},init:function(e){this.view=e,this.mon(e,"afterrender",this.bindEvents,this),this.on("complete",this.onSave,this)},bindEvents:function(){this.mon(this.view.getEl(),{click:{fn:this.onClick,scope:this}})},onClick:function(e,t){var n,i,r=this;!Ext.fly(t).hasCls(r.labelSelector)||r.editing||e.ctrlKey||e.shiftKey?r.editing&&(r.field.blur(),e.preventDefault()):(e.stopEvent(),n=r.view.findItemByChild(t),i=r.view.store.getAt(r.view.indexOf(n)),r.startEdit(t,i.data[r.dataIndex]),r.activeRecord=i)},onSave:function(e,t){this.activeRecord.set(this.dataIndex,t)}}),Ext.ux.DataViewTransition=Ext.extend(Object,{defaults:{duration:750,idProperty:"id"},constructor:function(e){Ext.apply(this,e||{},this.defaults)},init:function(e){this.dataview=e;var t=this.idProperty;e.blockRefresh=!0,e.updateIndexes=Ext.Function.createSequence(e.updateIndexes,function(){this.getTargetEl().select(this.itemSelector).each(function(n,i,r){n.id=n.dom.id=Ext.util.Format.format("{0}-{1}",e.id,e.store.getAt(r).get(t))},this)},e),this.dataviewID=e.id,this.cachedStoreData={},this.cacheStoreData(e.store.snapshot),e.store.on("datachanged",function(n){var i=e.getTargetEl(),r=n.getAt(0),o=this.getAdded(n),a=this.getRemoved(n),s=this.getRemaining(n);Ext.apply({},s,o);if(Ext.each(a,function(e){Ext.fly(this.dataviewID+"-"+e.get(this.idProperty)).animate({remove:!1,duration:v,opacity:0,useDisplay:!0})},this),void 0!=r){var l=Ext.get(this.dataviewID+"-"+r.get(this.idProperty)),d=n.getCount(),c=l.getMargin("lr")+l.getWidth(),u=l.getMargin("bt")+l.getHeight(),h=i.getWidth(),f=Math.floor(h/c);Math.ceil(d/f),Math.ceil(this.getExistingCount()/f);i.applyStyles({display:"block",position:"relative"});var g={},p={},m={};Ext.iterate(s,function(e,t){e=t.get(this.idProperty);var n=m[e]=Ext.get(this.dataviewID+"-"+e);g[e]={top:n.getY()-i.getY()-n.getMargin("t")-i.getPadding("t"),left:n.getX()-i.getX()-n.getMargin("l")-i.getPadding("l")}},this),Ext.iterate(s,function(e,t){var n=g[e],i=m[e];"absolute"!=i.getStyle("position")&&m[e].applyStyles({position:"absolute",left:n.left+"px",top:n.top+"px",width:i.getWidth(!Ext.isIE||Ext.isStrict),height:i.getHeight(!Ext.isIE||Ext.isStrict)})});var x=0;Ext.iterate(n.data.items,function(e){var n=e.get(t),i=(m[n],x%f),r=Math.floor(x/f)*u,o=i*c;p[n]={top:r,left:o},x++},this);var E=new Date,v=this.duration,y=this.dataviewID,b={run:function(){var e=(new Date-E)/v;if(e>=1){for(var t in p)Ext.fly(y+"-"+t).applyStyles({top:p[t].top+"px",left:p[t].left+"px"});Ext.TaskManager.stop(b)}else for(var t in p)if(s[t]){var n=g[t],i=p[t],r=n.top,o=i.top,a=n.left,l=i.left,d=e*Math.abs(r-o),c=e*Math.abs(a-l),u=r>o?r-d:r+d,h=a>l?a-c:a+c;Ext.fly(y+"-"+t).applyStyles({top:u+"px",left:h+"px"})}},interval:20,scope:this};Ext.TaskManager.start(b);var C=0;for(var S in o)C++;Ext.global.console&&Ext.global.console.log&&Ext.global.console.log("added:",C),Ext.iterate(o,function(e,t){Ext.fly(this.dataviewID+"-"+t.get(this.idProperty)).applyStyles({top:p[t.get(this.idProperty)].top+"px",left:p[t.get(this.idProperty)].left+"px"}),Ext.fly(this.dataviewID+"-"+t.get(this.idProperty)).animate({remove:!1,duration:v,opacity:1})},this),this.cacheStoreData(n)}else this.cacheStoreData(n)},this)},cacheStoreData:function(e){this.cachedStoreData={},e.each(function(e){this.cachedStoreData[e.get(this.idProperty)]=e},this)},getExisting:function(){return this.cachedStoreData},getExistingCount:function(){var e=0,t=this.getExisting();for(var n in t)e++;return e},getAdded:function(e){var t={};return e.each(function(e){void 0==this.cachedStoreData[e.get(this.idProperty)]&&(t[e.get(this.idProperty)]=e)},this),t},getRemoved:function(e){var t=[];for(var n in this.cachedStoreData)-1==e.findExact(this.idProperty,Number(n))&&t.push(this.cachedStoreData[n]);return t},getRemaining:function(e){var t={};return e.each(function(e){void 0!=this.cachedStoreData[e.get(this.idProperty)]&&(t[e.get(this.idProperty)]=e)},this),t}}),Ext.define("Ext.ux.Explorer",{extend:"Ext.panel.Panel",xtype:"explorer",requires:["Ext.layout.container.Border","Ext.toolbar.Breadcrumb","Ext.tree.Panel"],config:{breadcrumb:{dock:"top",xtype:"breadcrumb",reference:"breadcrumb"},contentView:{xtype:"dataview",reference:"contentView",region:"center",cls:Ext.baseCSSPrefix+"explorer-view",itemSelector:"."+Ext.baseCSSPrefix+"explorer-item",tpl:'<tpl for="."><div class="'+Ext.baseCSSPrefix+'explorer-item"><div class="{iconCls}"><div class="'+Ext.baseCSSPrefix+'explorer-node-icon{[values.leaf ? " '+Ext.baseCSSPrefix+'explorer-leaf-icon" : ""]}"></div><div class="'+Ext.baseCSSPrefix+'explorer-item-text">{text}</div></div></div></tpl>'},store:null,tree:{xtype:"treepanel",reference:"tree",region:"west",width:200}},renderConfig:{selection:null},layout:"border",referenceHolder:!0,defaultListenerScope:!0,cls:Ext.baseCSSPrefix+"explorer",initComponent:function(){var e=this;e.getStore()||Ext.raise("Ext.ux.Explorer requires a store."),e.dockedItems=[e.getBreadcrumb()],e.items=[e.getTree(),e.getContentView()],e.callParent()},applyBreadcrumb:function(e){var t=this.getStore();return(e=Ext.create(Ext.apply({store:t,selection:t.getRoot()},e))).on("selectionchange","_onBreadcrumbSelectionChange",this),e},applyContentView:function(e){var t=this.contentStore=new Ext.data.Store({model:this.getStore().model});return e=Ext.create(Ext.apply({store:t},e))},applyTree:function(e){return(e=Ext.create(Ext.apply({store:this.getStore()},e))).on("selectionchange","_onTreeSelectionChange",this),e},updateSelection:function(e){var t,n,i=this.getReferences(),r=i.breadcrumb,o=i.tree,a=o.getSelectionModel(),s=this.contentStore;r.getSelection()!==e&&r.setSelection(e),a.getSelection()[0]!==e&&(a.select([e]),(t=e.parentNode)&&t.expand(),(n=o.getView()).scrollRowIntoView(n.getRow(e))),s.removeAll(),s.add(e.hasChildNodes()?e.childNodes:[e])},updateStore:function(e){this.getBreadcrumb().setStore(e)},privates:{_onTreeSelectionChange:function(e,t){this.setSelection(t[0])},_onBreadcrumbSelectionChange:function(e,t){this.setSelection(t)}}}),Ext.define("Ext.ux.FieldReplicator",{alias:"plugin.fieldreplicator",init:function(e){e.replicatorId||(e.replicatorId=Ext.id()),e.on("blur",this.onBlur,this)},onBlur:function(e){var t,n,i=e.ownerCt,r=e.replicatorId,o=Ext.isEmpty(e.getRawValue()),a=i.query("[replicatorId="+r+"]"),s=a[a.length-1]===e;o&&!s?Ext.Function.defer(e.destroy,10,e):!o&&s&&(e.onReplicate&&e.onReplicate(),t=e.cloneConfig({replicatorId:r}),n=i.items.indexOf(e),i.add(n+1,t))}}),Ext.define("Ext.ux.GMapPanel",{extend:"Ext.panel.Panel",alias:"widget.gmappanel",requires:["Ext.window.MessageBox"],initComponent:function(){Ext.applyIf(this,{plain:!0,gmapType:"map",border:!1}),this.callParent()},onBoxReady:function(){var e=this.center;this.callParent(arguments),e?e.geoCodeAddr?this.lookupCode(e.geoCodeAddr,e.marker):this.createMap(e):Ext.raise("center is required")},createMap:function(e,t){var n=Ext.apply({},this.mapOptions);n=Ext.applyIf(n,{zoom:14,center:e,mapTypeId:google.maps.MapTypeId.HYBRID}),this.gmap=new google.maps.Map(this.body.dom,n),t&&this.addMarker(Ext.applyIf(t,{position:e})),Ext.each(this.markers,this.addMarker,this),this.fireEvent("mapready",this,this.gmap)},addMarker:function(e){(e=Ext.apply({map:this.gmap},e)).position||(e.position=new google.maps.LatLng(e.lat,e.lng));var t=new google.maps.Marker(e);return Ext.Object.each(e.listeners,function(e,n){google.maps.event.addListener(t,e,n)}),t},lookupCode:function(e,t){this.geocoder=new google.maps.Geocoder,this.geocoder.geocode({address:e},Ext.Function.bind(this.onLookupComplete,this,[t],!0))},onLookupComplete:function(e,t,n){"OK"==t?this.createMap(e[0].geometry.location,n):Ext.MessageBox.alert("Error",'An error occured: "'+t+'"')},afterComponentLayout:function(e,t){this.callParent(arguments),this.redraw()},redraw:function(){var e=this.gmap;e&&google.maps.event.trigger(e,"resize")}}),Ext.define("Ext.ux.GroupTabRenderer",{extend:"Ext.plugin.Abstract",alias:"plugin.grouptabrenderer",tableTpl:new Ext.XTemplate('<div id="{view.id}-body" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table-resizer" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:5}),rowTpl:new Ext.XTemplate("{%",'Ext.Array.remove(values.itemClasses, "',Ext.baseCSSPrefix+'grid-row");','var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<div {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="'+Ext.baseCSSPrefix+'grouptab-row {[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ',"{rowAttr:attributes}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</div>",{priority:5}),cellTpl:new Ext.XTemplate('{%values.tdCls = values.tdCls.replace(" '+Ext.baseCSSPrefix+'grid-cell "," ");%}','<div class="'+Ext.baseCSSPrefix+'grouptab-cell {tdCls}" {tdAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner" style="text-align: {align}; {style};">{value}</div>','<div class="x-grouptabs-corner x-grouptabs-corner-top-left"></div>','<div class="x-grouptabs-corner x-grouptabs-corner-bottom-left"></div>',"</div>",{priority:5}),selectors:{bodySelector:"div."+Ext.baseCSSPrefix+"grid-table-resizer",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-table-resizer",itemSelector:"div."+Ext.baseCSSPrefix+"grouptab-row",rowSelector:"div."+Ext.baseCSSPrefix+"grouptab-row",cellSelector:"div."+Ext.baseCSSPrefix+"grouptab-cell",getCellSelector:function(e){return e?e.getCellSelector():this.cellSelector}},init:function(e){var t=e.getView();t.addTpl(this.tableTpl),t.addRowTpl(this.rowTpl),t.addCellTpl(this.cellTpl),Ext.apply(t,this.selectors)}}),Ext.define("Ext.ux.GroupTabPanel",{extend:"Ext.Container",alias:"widget.grouptabpanel",requires:["Ext.tree.Panel","Ext.ux.GroupTabRenderer"],baseCls:Ext.baseCSSPrefix+"grouptabpanel",initComponent:function(e){var t=this;Ext.apply(t,e),t.store=t.createTreeStore(),t.layout={type:"hbox",align:"stretch"},t.defaults={border:!1},t.items=[{xtype:"treepanel",cls:"x-tree-panel x-grouptabbar",width:150,rootVisible:!1,store:t.store,hideHeaders:!0,animate:!1,processEvent:Ext.emptyFn,border:!1,plugins:[{ptype:"grouptabrenderer"}],viewConfig:{overItemCls:"",getRowClass:t.getRowClass},columns:[{xtype:"treecolumn",sortable:!1,dataIndex:"text",flex:1,renderer:function(e,t,n,i,r,o,a){var s="";return n.parentNode&&null===n.parentNode.parentNode?(s+=" x-grouptab-first",n.previousSibling&&(s+=" x-grouptab-prev"),n.get("expanded")&&null!=n.firstChild||(s+=" x-grouptab-last")):null===n.nextSibling?s+=" x-grouptab-last":s+=" x-grouptab-center",n.data.activeTab&&(s+=" x-active-tab"),t.tdCls="x-grouptab"+s,e}}]},{xtype:"container",flex:1,layout:"card",activeItem:t.mainItem,baseCls:Ext.baseCSSPrefix+"grouptabcontainer",items:t.cards}],t.callParent(arguments),t.setActiveTab(t.activeTab),t.setActiveGroup(t.activeGroup),t.mon(t.down("treepanel").getSelectionModel(),"select",t.onNodeSelect,t)},getRowClass:function(e,t,n,i){var r="";return e.data.activeGroup&&(r+=" x-active-group"),r},onNodeSelect:function(e,t){var n,i=this.store.getRootNode();if(n=t.parentNode&&null===t.parentNode.parentNode?t:t.parentNode,!1===this.setActiveGroup(n.get("id"))||!1===this.setActiveTab(t.get("id")))return!1;for(;i;)i.set("activeTab",!1),i.set("activeGroup",!1),i=i.firstChild||i.nextSibling||i.parentNode.nextSibling;n.set("activeGroup",!0),n.eachChild(function(e){e.set("activeGroup",!0)}),t.set("activeTab",!0),e.view.refresh()},setActiveTab:function(e){var t,n=this,i=e;return Ext.isString(e)&&(i=Ext.getCmp(i)),i!==n.activeTab&&(t=n.activeTab,!1!==n.fireEvent("beforetabchange",n,i,t)&&(n.activeTab=i,n.rendered&&n.down("container[baseCls="+Ext.baseCSSPrefix+"grouptabcontainer]").getLayout().setActiveItem(i),n.fireEvent("tabchange",n,i,t)),!0)},setActiveGroup:function(e){var t,n=this,i=e;return Ext.isString(e)&&(i=Ext.getCmp(i)),i===n.activeGroup||(t=n.activeGroup,!1!==n.fireEvent("beforegroupchange",n,i,t)&&(n.activeGroup=i,n.fireEvent("groupchange",n,i,t),!0))},createTreeStore:function(){var e=this,t=e.prepareItems(e.items),n={text:".",children:[]},i=e.cards=[];return e.activeGroup=e.activeGroup||0,Ext.each(t,function(t,r){var o=t.items.items,a=o[t.mainItem]||o[0],s={children:[]};s.id=a.id,s.text=a.title,s.iconCls=a.iconCls,s.expanded=!0,s.activeGroup=e.activeGroup===r,s.activeTab=!!s.activeGroup,s.activeTab&&(e.activeTab=s.id),s.activeGroup&&(e.mainItem=t.mainItem||0,e.activeGroup=s.id),Ext.each(o,function(e){if(e.id!==s.id){var t={id:e.id,leaf:!0,text:e.title,iconCls:e.iconCls,activeGroup:s.activeGroup,activeTab:!1};s.children.push(t)}delete e.title,delete e.iconCls,i.push(e)}),n.children.push(s)}),Ext.create("Ext.data.TreeStore",{fields:["id","text","activeGroup","activeTab"],root:{expanded:!0},proxy:{type:"memory",data:n}})},getActiveTab:function(){return this.activeTab},getActiveGroup:function(){return this.activeGroup}}),Ext.define("Ext.ux.IFrame",{extend:"Ext.Component",alias:"widget.uxiframe",loadMask:"Loading...",src:"about:blank",renderTpl:['<iframe src="{src}" id="{id}-iframeEl" data-ref="iframeEl" name="{frameName}" width="100%" height="100%" frameborder="0"></iframe>'],childEls:["iframeEl"],initComponent:function(){this.callParent(),this.frameName=this.frameName||this.id+"-frame"},initEvents:function(){this.callParent(),this.iframeEl.on("load",this.onLoad,this)},initRenderData:function(){return Ext.apply(this.callParent(),{src:this.src,frameName:this.frameName})},getBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){try{return this.getWin().document}catch(e){return null}},getWin:function(){var e=this.frameName;return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[e]},getFrame:function(){return this.iframeEl.dom},onLoad:function(){this.getDoc()?(this.el.unmask(),this.fireEvent("load",this)):this.src&&(this.el.unmask(),this.fireEvent("error",this))},load:function(e){var t=this,n=t.loadMask,i=t.getFrame();!1!==t.fireEvent("beforeload",t,e)&&(n&&t.el&&t.el.mask(n),i.src=t.src=e||t.src)}}),Ext.define("Ext.ux.statusbar.StatusBar",{extend:"Ext.toolbar.Toolbar",alternateClassName:"Ext.ux.StatusBar",alias:"widget.statusbar",requires:["Ext.toolbar.TextItem"],cls:"x-statusbar",busyIconCls:"x-status-busy",busyText:"Loading...",autoClear:5e3,emptyText:"&#160;",activeThreadId:0,initComponent:function(){var e="right"===this.statusAlign;this.callParent(arguments),this.currIconCls=this.iconCls||this.defaultIconCls,this.statusEl=Ext.create("Ext.toolbar.TextItem",{cls:"x-status-text "+(this.currIconCls||""),text:this.text||this.defaultText||""}),e?(this.cls+=" x-status-right",this.add("->"),this.add(this.statusEl)):(this.insert(0,this.statusEl),this.insert(1,"->"))},setStatus:function(e){var t=this;if(e=e||{},Ext.suspendLayouts(),Ext.isString(e)&&(e={text:e}),void 0!==e.text&&t.setText(e.text),void 0!==e.iconCls&&t.setIcon(e.iconCls),e.clear){var n=e.clear,i=t.autoClear,r={useDefaults:!0,anim:!0};Ext.isObject(n)?(n=Ext.applyIf(n,r)).wait&&(i=n.wait):Ext.isNumber(n)?(i=n,n=r):Ext.isBoolean(n)&&(n=r),n.threadId=this.activeThreadId,Ext.defer(t.clearStatus,i,t,[n])}return Ext.resumeLayouts(!0),t},clearStatus:function(e){e=e||{};var t=this,n=t.statusEl;if(t.destroyed||e.threadId&&e.threadId!==t.activeThreadId)return t;var i=e.useDefaults?t.defaultText:t.emptyText,r=e.useDefaults&&t.defaultIconCls?t.defaultIconCls:"";return e.anim?n.el.puff({remove:!1,useDisplay:!0,callback:function(){n.el.show(),t.setStatus({text:i,iconCls:r})}}):t.setStatus({text:i,iconCls:r}),t},setText:function(e){var t=this;return t.activeThreadId++,t.text=e||"",t.rendered&&t.statusEl.setText(t.text),t},getText:function(){return this.text},setIcon:function(e){var t=this;return t.activeThreadId++,e=e||"",t.rendered?(t.currIconCls&&(t.statusEl.removeCls(t.currIconCls),t.currIconCls=null),e.length>0&&(t.statusEl.addCls(e),t.currIconCls=e)):t.currIconCls=e,t},showBusy:function(e){return Ext.isString(e)&&(e={text:e}),e=Ext.applyIf(e||{},{text:this.busyText,iconCls:this.busyIconCls}),this.setStatus(e)}}),Ext.define("Ext.ux.LiveSearchGridPanel",{extend:"Ext.grid.Panel",requires:["Ext.toolbar.TextItem","Ext.form.field.Checkbox","Ext.form.field.Text","Ext.ux.statusbar.StatusBar"],searchValue:null,matches:[],currentIndex:null,searchRegExp:null,caseSensitive:!1,regExpMode:!1,matchCls:"x-livesearch-match",defaultStatusText:"Nothing Found",initComponent:function(){var e=this;e.tbar=["Search",{xtype:"textfield",name:"searchField",hideLabel:!0,width:200,listeners:{change:{fn:e.onTextFieldChange,scope:this,buffer:500}}},{xtype:"button",text:"&lt;",tooltip:"Find Previous Row",handler:e.onPreviousClick,scope:e},{xtype:"button",text:"&gt;",tooltip:"Find Next Row",handler:e.onNextClick,scope:e},"-",{xtype:"checkbox",hideLabel:!0,margin:"0 0 0 4px",handler:e.regExpToggle,scope:e},"Regular expression",{xtype:"checkbox",hideLabel:!0,margin:"0 0 0 4px",handler:e.caseSensitiveToggle,scope:e},"Case sensitive"],e.bbar=new Ext.ux.StatusBar({defaultText:e.defaultStatusText,name:"searchStatusBar"}),e.callParent(arguments)},afterRender:function(){var e=this;e.callParent(arguments),e.textField=e.down("textfield[name=searchField]"),e.statusBar=e.down("statusbar[name=searchStatusBar]"),e.view.on("cellkeydown",e.focusTextField,e)},focusTextField:function(e,t,n,i,r,o,a,s){a.getKey()===a.S&&(a.preventDefault(),this.textField.focus())},tagsRe:/<[^>]*>/gm,tagsProtect:"",getSearchValue:function(){var e=this.textField.getValue();if(""===e)return null;if(this.regExpMode){try{new RegExp(e)}catch(e){return this.statusBar.setStatus({text:e.message,iconCls:"x-status-error"}),null}if("^"===e||"$"===e)return null}else e=Ext.String.escapeRegex(e);return e},onTextFieldChange:function(){var e=this,t=0,n=e.view,i=(n.cellSelector,n.innerSelector,e.visibleColumnManager.getColumns());n.refresh(),e.statusBar.setStatus({text:e.defaultStatusText,iconCls:""}),e.searchValue=e.getSearchValue(),e.matches=[],e.currentIndex=null,null!==e.searchValue&&(e.searchRegExp=new RegExp(e.getSearchValue(),"g"+(e.caseSensitive?"":"i")),e.store.each(function(r,o){var a=n.getNode(r);a&&Ext.Array.forEach(i,function(n){var i,o,s,l=Ext.fly(a).down(n.getCellInnerSelector(),!0);l&&(i=l.innerHTML.match(e.tagsRe),o=(o=l.innerHTML.replace(e.tagsRe,e.tagsProtect)).replace(e.searchRegExp,function(i){return++t,s||(e.matches.push({record:r,column:n}),s=!0),'<span class="'+e.matchCls+'">'+i+"</span>"},e),Ext.each(i,function(t){o=o.replace(e.tagsProtect,t)}),l.innerHTML=o)})},e),t&&(e.currentIndex=0,e.gotoCurrent(),e.statusBar.setStatus({text:Ext.String.format("{0} match{1} found.",t,1===t?"es":""),iconCls:"x-status-valid"}))),null===e.currentIndex&&(e.getSelectionModel().deselectAll(),e.textField.focus())},onPreviousClick:function(){var e=this.matches.length,t=this.currentIndex;e&&(this.currentIndex=0===t?e-1:t-1,this.gotoCurrent())},onNextClick:function(){var e=this.matches.length,t=this.currentIndex;e&&(this.currentIndex=t===e-1?0:t+1,this.gotoCurrent())},caseSensitiveToggle:function(e,t){this.caseSensitive=t,this.onTextFieldChange()},regExpToggle:function(e,t){this.regExpMode=t,this.onTextFieldChange()},privates:{gotoCurrent:function(){var e=this.matches[this.currentIndex];this.getNavigationModel().setPosition(e.record,e.column),this.getSelectionModel().select(e.record)}}}),Ext.define("Ext.ux.PreviewPlugin",{extend:"Ext.plugin.Abstract",alias:"plugin.preview",requires:["Ext.grid.feature.RowBody"],hideBodyCls:"x-grid-row-body-hidden",bodyField:"",previewExpanded:!0,setCmp:function(e){this.callParent(arguments);var t=this,n=t.cmp=e.isXType("gridview")?e.grid:e,i=t.bodyField,r=t.hideBodyCls,o=Ext.create("Ext.grid.feature.RowBody",{grid:n,getAdditionalData:function(e,t,o,a){var s=Ext.grid.feature.RowBody.prototype.getAdditionalData,l={rowBody:e[i],rowBodyCls:n.getView().previewExpanded?"":r};return Ext.isFunction(s)&&Ext.apply(l,s.apply(this,arguments)),l}}),a=function(e,n){n.previewExpanded=t.previewExpanded,n.featuresMC.add(o),o.init(e)};n.view?a(n,n.view):n.on({viewcreated:a,single:!0})},toggleExpanded:function(e){var t=this.getCmp(),n=t&&t.getView(),i=n.bufferedRenderer,r=n.scrollManager;t&&n&&e!==n.previewExpanded&&(this.previewExpanded=n.previewExpanded=!!e,n.refreshView(),r&&(i?i.stretchView(n,i.getScrollHeight(!0)):r.refresh(!0)))}}),Ext.define("Ext.ux.ProgressBarPager",{alias:"plugin.ux-progressbarpager",requires:["Ext.ProgressBar"],width:225,defaultText:"Loading...",defaultAnimCfg:{duration:1e3,easing:"bounceOut"},constructor:function(e){e&&Ext.apply(this,e)},init:function(e){var t;e.displayInfo&&(this.parent=e,(t=e.child("#displayItem"))&&e.remove(t,!0),this.progressBar=Ext.create("Ext.ProgressBar",{text:this.defaultText,width:this.width,animate:this.defaultAnimCfg,style:{cursor:"pointer"},listeners:{el:{scope:this,click:this.handleProgressBarClick}}}),e.displayItem=this.progressBar,e.add(e.displayItem),Ext.apply(e,this.parentOverrides))},handleProgressBarClick:function(e){var t=this.parent,n=t.displayItem,i=this.progressBar.getBox(),r=e.getXY()[0]-i.x,o=t.store,a=t.pageSize||o.pageSize,s=Math.ceil(o.getTotalCount()/a),l=Math.max(Math.ceil(r/(n.width/s)),1);o.loadPage(l)},parentOverrides:{updateInfo:function(){if(this.displayItem){var e=this.store.getCount(),t=this.getPageData(),n=0===e?this.emptyMsg:Ext.String.format(this.displayMsg,t.fromRecord,t.toRecord,this.store.getTotalCount()),i=t.pageCount>0?t.currentPage/t.pageCount:0;this.displayItem.updateProgress(i,n,this.animate||this.defaultAnimConfig)}}}}),Ext.define("Ext.ux.RowExpander",{extend:"Ext.grid.plugin.RowExpander"}),Ext.define("Ext.ux.SlidingPager",{alias:"plugin.ux-slidingpager",requires:["Ext.slider.Single","Ext.slider.Tip"],constructor:function(e){e&&Ext.apply(this,e)},init:function(e){var t,n=e.items.indexOf(e.child("#inputItem"));Ext.each(e.items.getRange(n-2,n+2),function(e){e.hide()}),t=Ext.create("Ext.slider.Single",{width:114,minValue:1,maxValue:1,hideLabel:!0,tipText:function(e){return Ext.String.format("Page <b>{0}</b> of <b>{1}</b>",e.value,e.slider.maxValue)},listeners:{changecomplete:function(t,n){e.store.loadPage(n)}}}),e.insert(n+1,t),e.on({change:function(e,n){t.setMaxValue(n.pageCount),t.setValue(n.currentPage)}})}}),Ext.define("Ext.ux.Spotlight",{baseCls:"x-spotlight",animate:!0,duration:250,easing:null,active:!1,constructor:function(e){Ext.apply(this,e)},createElements:function(){var e=this,t=e.baseCls,n=Ext.getBody();e.right=n.createChild({cls:t}),e.left=n.createChild({cls:t}),e.top=n.createChild({cls:t}),e.bottom=n.createChild({cls:t}),e.all=Ext.create("Ext.CompositeElement",[e.right,e.left,e.top,e.bottom])},show:function(e,t,n){var i=this;i.el=Ext.get(e),i.right||i.createElements(),i.active?i.applyBounds(!1,!1):(i.all.setDisplayed(""),i.active=!0,Ext.on("resize",i.syncSize,i),i.applyBounds(i.animate,!1))},hide:function(e,t){Ext.un("resize",this.syncSize,this),this.applyBounds(this.animate,!0)},syncSize:function(){this.applyBounds(!1,!1)},applyBounds:function(e,t){var n,i,r,o=this,a=o.el.getBox(),s=Ext.Element.getViewportWidth(),l=Ext.Element.getViewportHeight();n={right:{x:a.right,y:l,width:s-a.right,height:0},left:{x:0,y:0,width:a.x,height:0},top:{x:s,y:0,width:0,height:a.y},bottom:{x:0,y:a.y+a.height,width:0,height:l-(a.y+a.height)+"px"}},i={right:{x:a.right,y:a.y,width:s-a.right+"px",height:l-a.y+"px"},left:{x:0,y:0,width:a.x+"px",height:a.y+a.height+"px"},top:{x:a.x,y:0,width:s-a.x+"px",height:a.y+"px"},bottom:{x:0,y:a.y+a.height,width:a.x+a.width+"px",height:l-(a.y+a.height)+"px"}},t&&(r=Ext.clone(n),n=i,i=r),e?Ext.Array.forEach(["right","left","top","bottom"],function(e){o[e].setBox(n[e]),o[e].animate({duration:o.duration,easing:o.easing,to:i[e]})},this):Ext.Array.forEach(["right","left","top","bottom"],function(e){o[e].setBox(Ext.apply(n[e],i[e])),o[e].repaint()},this)},destroy:function(){var e=this;Ext.destroy(e.right,e.left,e.top,e.bottom),delete e.el,delete e.all,e.callParent()}}),Ext.define("Ext.ux.TabCloseMenu",{extend:"Ext.plugin.Abstract",alias:"plugin.tabclosemenu",mixins:{observable:"Ext.util.Observable"},closeTabText:"Close Tab",showCloseOthers:!0,closeOthersTabsText:"Close Other Tabs",showCloseAll:!0,closeAllTabsText:"Close All Tabs",extraItemsHead:null,extraItemsTail:null,constructor:function(e){this.callParent([e]),this.mixins.observable.constructor.call(this,e)},init:function(e){this.tabPanel=e,this.tabBar=e.down("tabbar"),this.mon(this.tabPanel,{scope:this,afterlayout:this.onAfterLayout,single:!0})},onAfterLayout:function(){this.mon(this.tabBar.el,{scope:this,contextmenu:this.onContextMenu,delegate:".x-tab"})},destroy:function(){Ext.destroy(this.menu),this.callParent()},onContextMenu:function(e,t){var n=this,i=n.createMenu(),r=!0,o=!0,a=n.tabBar.getChildByElement(t),s=n.tabBar.items.indexOf(a);n.item=n.tabPanel.getComponent(s),i.child("#close").setDisabled(!n.item.closable),(n.showCloseAll||n.showCloseOthers)&&(n.tabPanel.items.each(function(e){return!e.closable||(r=!1,e===n.item)||(o=!1,!1)}),n.showCloseAll&&i.child("#closeAll").setDisabled(r),n.showCloseOthers&&i.child("#closeOthers").setDisabled(o)),e.preventDefault(),n.fireEvent("beforemenu",i,n.item,n),i.showAt(e.getXY())},createMenu:function(){var e=this;if(!e.menu){var t=[{itemId:"close",text:e.closeTabText,scope:e,handler:e.onClose}];(e.showCloseAll||e.showCloseOthers)&&t.push("-"),e.showCloseOthers&&t.push({itemId:"closeOthers",text:e.closeOthersTabsText,scope:e,handler:e.onCloseOthers}),e.showCloseAll&&t.push({itemId:"closeAll",text:e.closeAllTabsText,scope:e,handler:e.onCloseAll}),e.extraItemsHead&&(t=e.extraItemsHead.concat(t)),e.extraItemsTail&&(t=t.concat(e.extraItemsTail)),e.menu=Ext.create("Ext.menu.Menu",{items:t,listeners:{hide:e.onHideMenu,scope:e}})}return e.menu},onHideMenu:function(){this.fireEvent("aftermenu",this.menu,this)},onClose:function(){this.tabPanel.remove(this.item)},onCloseOthers:function(){this.doClose(!0)},onCloseAll:function(){this.doClose(!1)},doClose:function(e){var t=[];this.tabPanel.items.each(function(n){n.closable&&(e&&n===this.item||t.push(n))},this),Ext.suspendLayouts(),Ext.Array.forEach(t,function(e){this.tabPanel.remove(e)},this),Ext.resumeLayouts(!0)}}),Ext.define("Ext.ux.TabReorderer",{extend:"Ext.ux.BoxReorderer",alias:"plugin.tabreorderer",itemSelector:"."+Ext.baseCSSPrefix+"tab",init:function(e){this.callParent([e.getTabBar()]),e.onAdd=Ext.Function.createSequence(e.onAdd,this.onAdd)},onBoxReady:function(){var e,t,n,i=0;for(this.callParent(arguments),t=(e=this.container.items.items).length;i<t;i++)(n=e[i]).card&&(n.reorderable=n.card.reorderable)},onAdd:function(e,t){e.tab.reorderable=e.reorderable},afterBoxReflow:function(){var e=this;Ext.ux.BoxReorderer.prototype.afterBoxReflow.apply(e,arguments),e.dragCmp&&(e.container.tabPanel.setActiveTab(e.dragCmp.card),e.container.tabPanel.move(e.dragCmp.card,e.curIndex))}}),Ext.ns("Ext.ux"),Ext.define("Ext.ux.TabScrollerMenu",{alias:"plugin.tabscrollermenu",requires:["Ext.menu.Menu"],pageSize:10,maxText:15,menuPrefixText:"Items",constructor:function(e){Ext.apply(this,e)},init:function(e){var t=this;t.tabPanel=e,e.on({render:function(){t.tabBar=e.tabBar,t.layout=t.tabBar.layout,t.layout.overflowHandler.handleOverflow=Ext.Function.bind(t.showButton,t),t.layout.overflowHandler.clearOverflow=Ext.Function.createSequence(t.layout.overflowHandler.clearOverflow,t.hideButton,t)},destroy:t.destroy,scope:t,single:!0})},showButton:function(){var e=this,t=Ext.getClass(e.layout.overflowHandler).prototype.handleOverflow.apply(e.layout.overflowHandler,arguments),n=e.menuButton;return e.tabPanel.items.getCount()>1?(n||((n=e.menuButton=e.tabBar.body.createChild({cls:Ext.baseCSSPrefix+"tab-tabmenu-right"},e.tabBar.body.child("."+Ext.baseCSSPrefix+"box-scroller-right"))).addClsOnOver(Ext.baseCSSPrefix+"tab-tabmenu-over"),n.on("click",e.showTabsMenu,e)),n.setVisibilityMode(Ext.dom.Element.DISPLAY),n.show(),t.reservedSpace+=n.getWidth()):e.hideButton(),t},hideButton:function(){this.menuButton&&this.menuButton.hide()},getPageSize:function(){return this.pageSize},setPageSize:function(e){this.pageSize=e},getMaxText:function(){return this.maxText},setMaxText:function(e){this.maxText=e},getMenuPrefixText:function(){return this.menuPrefixText},setMenuPrefixText:function(e){this.menuPrefixText=e},showTabsMenu:function(e){var t=this;t.tabsMenu?t.tabsMenu.removeAll():t.tabsMenu=new Ext.menu.Menu,t.generateTabMenuItems();var n=Ext.get(e.getTarget()).getXY();n[1]+=24,t.tabsMenu.showAt(n)},generateTabMenuItems:function(){var e,t,n,i,r,o,a,s,l,d=this,c=d.tabPanel,u=c.getActiveTab(),h=c.items.getRange(),f=d.getPageSize(),g=d.tabsMenu;if(g.suspendLayouts(),e=(h=Ext.Array.filter(h,function(e){return e.id!=u.id&&(!e.hidden||!!e.hiddenByLayout)})).length,t=Math.floor(e/f),n=e%f,e>f){for(i=0;i<t;i++){for(r=(i+1)*f,o=[],a=0;a<f;a++)s=h[a+r-f],o.push(d.autoGenMenuItem(s));g.add({text:d.getMenuPrefixText()+" "+(r-f+1)+" - "+r,menu:o})}if(n>0){for(o=[],i=l=t*f;i<e;i++)s=h[i],o.push(d.autoGenMenuItem(s));d.tabsMenu.add({text:d.menuPrefixText+" "+(l+1)+" - "+(l+o.length),menu:o})}}else for(i=0;i<e;++i)g.add(d.autoGenMenuItem(h[i]));g.resumeLayouts(!0)},autoGenMenuItem:function(e){var t=this.getMaxText();return{text:Ext.util.Format.ellipsis(e.title,t),handler:this.showTabFromMenu,scope:this,disabled:e.disabled,tabToShow:e,iconCls:e.iconCls}},showTabFromMenu:function(e){this.tabPanel.setActiveTab(e.tabToShow)},destroy:function(){Ext.destroy(this.tabsMenu,this.menuButton),this.callParent()}}),Ext.define("Ext.ux.ToolbarDroppable",{constructor:function(e){Ext.apply(this,e)},init:function(e){this.toolbar=e,this.toolbar.on({scope:this,render:this.createDropTarget})},createDropTarget:function(){this.dropTarget=Ext.create("Ext.dd.DropTarget",this.toolbar.getEl(),{notifyOver:Ext.Function.bind(this.notifyOver,this),notifyDrop:Ext.Function.bind(this.notifyDrop,this)})},addDDGroup:function(e){this.dropTarget.addToGroup(e)},calculateEntryIndex:function(e){for(var t,n=0,i=this.toolbar.items.items,r=i.length,o=e.getXY()[0],a=0;a<r;a++){if(o<(t=i[a].getEl()).getXY()[0]+t.getWidth()/2){n=a;break}n=a+1}return n},canDrop:function(e){return!0},notifyOver:function(e,t,n){return this.canDrop.apply(this,arguments)?this.dropTarget.dropAllowed:this.dropTarget.dropNotAllowed},notifyDrop:function(e,t,n){var i=this.canDrop(e,t,n),r=this.toolbar;if(i){var o=this.calculateEntryIndex(t);r.insert(o,this.createItem(n)),this.afterLayout()}return i},createItem:function(e){Ext.raise("The createItem method must be implemented in the ToolbarDroppable plugin")},afterLayout:Ext.emptyFn}),Ext.define("Ext.ux.TreePicker",{extend:"Ext.form.field.Picker",xtype:"treepicker",uses:["Ext.tree.Panel"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",config:{store:null,displayField:null,columns:null,selectOnTab:!0,maxPickerHeight:300,minPickerHeight:100},editable:!1,initComponent:function(){var e=this;e.callParent(arguments),e.mon(e.store,{scope:e,load:e.onLoad,update:e.onUpdate})},createPicker:function(){var e=this,t=new Ext.tree.Panel({baseCls:Ext.baseCSSPrefix+"boundlist",shrinkWrapDock:2,store:e.store,floating:!0,displayField:e.displayField,columns:e.columns,minHeight:e.minPickerHeight,maxHeight:e.maxPickerHeight,manageHeight:!1,shadow:!1,listeners:{scope:e,itemclick:e.onItemClick,itemkeydown:e.onPickerKeyDown}}),n=t.getView();return Ext.isIE9&&Ext.isStrict&&n.on({scope:e,highlightitem:e.repaintPickerView,unhighlightitem:e.repaintPickerView,afteritemexpand:e.repaintPickerView,afteritemcollapse:e.repaintPickerView}),t},repaintPickerView:function(){var e=this.picker.getView().getEl().dom.style;e.display=e.display},onItemClick:function(e,t,n,i,r){this.selectItem(t)},onPickerKeyDown:function(e,t,n,i,r){var o=r.getKey();(o===r.ENTER||o===r.TAB&&this.selectOnTab)&&this.selectItem(t)},selectItem:function(e){this.setValue(e.getId()),this.fireEvent("select",this,e),this.collapse()},onExpand:function(){var e,t=this.picker,n=t.store,i=this.value;i&&(e=n.getNodeById(i)),e||(e=n.getRoot()),t.ensureVisible(e,{select:!0,focus:!0})},setValue:function(e){var t,n=this;return n.value=e,n.store.loading?n:(t=e?n.store.getNodeById(e):n.store.getRoot(),void 0===e?(t=n.store.getRoot(),n.value=t.getId()):t=n.store.getNodeById(e),n.setRawValue(t?t.get(n.displayField):""),n)},getSubmitValue:function(){return this.value},getValue:function(){return this.value},onLoad:function(){var e=this.value;e&&this.setValue(e)},onUpdate:function(e,t,n,i){var r=this.displayField;"edit"===n&&i&&Ext.Array.contains(i,r)&&this.value===t.getId()&&this.setRawValue(t.get(r))}}),Ext.define("Ext.ux.colorpick.Selection",{mixinId:"colorselection",config:{format:"hex6",value:"FF0000",color:null,previousColor:null},applyColor:function(e){var t=e;return Ext.isString(t)&&(t=Ext.ux.colorpick.ColorUtils.parseColor(e)),t},applyValue:function(e){var t=Ext.ux.colorpick.ColorUtils.parseColor(e||"#000000");return this.formatColor(t)},formatColor:function(e){return Ext.ux.colorpick.ColorUtils.formats[this.getFormat()](e)},updateColor:function(e){var t=this;t.syncing||(t.syncing=!0,t.setValue(t.formatColor(e)),t.syncing=!1)},updateValue:function(e,t){var n=this;n.syncing||(n.syncing=!0,n.setColor(e),n.syncing=!1),this.fireEvent("change",n,e,t)}}),Ext.define("Ext.ux.colorpick.ColorUtils",function(e){var t=Ext.isIE&&Ext.ieVersion<10;return{singleton:!0,constructor:function(){e=this},backgroundTpl:t?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#{alpha}{hex}', endColorstr='#{alpha}{hex}');":"background: {rgba};",setBackground:t?function(t,n){if(t){var i=Ext.XTemplate.getTpl(e,"backgroundTpl"),r={hex:e.rgb2hex(n.r,n.g,n.b),alpha:Math.floor(255*n.a).toString(16)},o=i.apply(r);t.applyStyles(o)}}:function(t,n){if(t){var i=Ext.XTemplate.getTpl(e,"backgroundTpl"),r={rgba:e.getRGBAString(n)},o=i.apply(r);t.applyStyles(o)}},formats:{HEX6:function(t){return e.rgb2hex(t.r,t.g,t.b)},HEX8:function(t){var n=e.rgb2hex(t.r,t.g,t.b),i=Math.round(255*t.a).toString(16);return i.length<2&&(n+="0"),n+=i.toUpperCase()}},hexRe:/#?([0-9a-f]{3,8})/i,rgbaAltRe:/rgba\(\s*([\w#\d]+)\s*,\s*([\d\.]+)\s*\)/,rgbaRe:/rgba\(\s*([\d\.]+)\s*,\s*([\d\.]+)\s*,\s*([\d\.]+)\s*,\s*([\d\.]+)\s*\)/,rgbRe:/rgb\(\s*([\d\.]+)\s*,\s*([\d\.]+)\s*,\s*([\d\.]+)\s*\)/,parseColor:function(e){if(!e)return null;var t,n,i,r=this,o=r.colorMap[e];if(o)n={r:o[0],g:o[1],b:o[2],a:1};else if("transparent"===e)n={r:0,g:0,b:0,a:0};else if(t=r.hexRe.exec(e))switch((t=t[1]).length){default:return null;case 3:n={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1};break;case 6:case 8:n={r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:parseInt(t.substr(6,2)||"ff",16)/255}}else if(t=r.rgbaRe.exec(e))n={r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])};else{if(t=r.rgbaAltRe.exec(e))return(n=r.parseColor(t[1])).a=parseFloat(t[2]),n;if(!(t=r.rgbRe.exec(e)))return null;n={r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:1}}return i=this.rgb2hsv(n.r,n.g,n.b),Ext.apply(n,i)},getRGBAString:function(e){return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},getRGBString:function(e){return"rgb("+e.r+","+e.g+","+e.b+")"},hsv2rgb:function(e,t,n){360===(e*=360)&&(e=0);var i=n*t,r=e/60,o=i*(1-Math.abs(r%2-1)),a=[0,0,0];switch(Math.floor(r)){case 0:a=[i,o,0];break;case 1:a=[o,i,0];break;case 2:a=[0,i,o];break;case 3:a=[0,o,i];break;case 4:a=[o,0,i];break;case 5:a=[i,0,o];break;default:console.error("unknown color "+e+" "+t+" "+n)}var s=n-i;return a[0]+=s,a[1]+=s,a[2]+=s,a[0]=Math.round(255*a[0]),a[1]=Math.round(255*a[1]),a[2]=Math.round(255*a[2]),{r:a[0],g:a[1],b:a[2]}},rgb2hsv:function(e,t,n){e/=255,t/=255,n/=255;var i=Math.max(e,t,n),r=i-Math.min(e,t,n),o=0;0!==r&&(i===e?o=(t-n)/r%6:i===t?o=(n-e)/r+2:i===n&&(o=(e-t)/r+4));var a=60*o;360===a&&(a=0);var s=0;return 0!==r&&(s=r/i),(a/=360)<0&&(a+=1),{h:a,s:s,v:i}},rgb2hex:function(e,t,n){return e=e.toString(16),t=t.toString(16),n=n.toString(16),e.length<2&&(e="0"+e),t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),(e+t+n).toUpperCase()},colorMap:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]}}},function(e){var t=e.formats,n={};t["#HEX6"]=function(e){return"#"+t.HEX6(e)},t["#HEX8"]=function(e){return"#"+t.HEX8(e)},Ext.Object.each(t,function(e,t){n[e.toLowerCase()]=function(e){return t(e).toLowerCase()}}),Ext.apply(t,n)}),Ext.define("Ext.ux.colorpick.ColorMapController",{extend:"Ext.app.ViewController",alias:"controller.colorpickercolormapcontroller",requires:["Ext.ux.colorpick.ColorUtils"],onFirstBoxReady:function(){var e=this,t=e.getView(),n=t.down("#dragHandle").dd;n.constrain=!0,n.constrainTo=t.getEl(),n.initialConstrainTo=n.constrainTo,n.on("drag",Ext.bind(e.onHandleDrag,e)),e.mon(t.getEl(),{mousedown:e.onMouseDown,dragstart:e.onDragStart,scope:e})},onHandleDrag:function(e,t){var n=this.getView(),i=n.down("#dragHandle"),r=i.getX()-n.getX(),o=i.getY()-n.getY(),a=n.getEl(),s=r/a.getWidth(),l=o/a.getHeight();s>.99&&(s=1),l>.99&&(l=1),n.fireEvent("handledrag",s,l)},onMouseDown:function(e){var t=this.getView().down("#dragHandle");t.setY(e.getY()),t.setX(e.getX()),this.onHandleDrag(),t.dd.onMouseDown(e,t.dd.el)},onDragStart:function(e){var t=this.getView().down("#dragHandle");t.dd.onDragStart(e,t.dd.el)},onMapClick:function(e){var t,n,i=this.getView(),r=i.down("#dragHandle"),o=i.getXY(),a=e.getXY();t=a[0]-o[0],n=a[1]-o[1],r.getEl().setStyle({left:t+"px",top:n+"px"}),this.onHandleDrag()},onColorBindingChanged:function(e){var t,n,i,r=this.getViewModel().get("selectedColor"),o=this.getView(),a=o.down("#dragHandle"),s=o.getEl(),l=s.getWidth(),d=s.getHeight();n=l*(t=Ext.ux.colorpick.ColorUtils.rgb2hsv(r.r,r.g,r.b)).s,i=d*(1-t.v),a.getEl().setStyle({left:n+"px",top:i+"px"})},onHueBindingChanged:function(e){var t,n;this.getViewModel();t=Ext.ux.colorpick.ColorUtils.hsv2rgb(e,1,1),n=Ext.ux.colorpick.ColorUtils.rgb2hex(t.r,t.g,t.b),this.getView().getEl().applyStyles({"background-color":"#"+n})}}),Ext.define("Ext.ux.colorpick.ColorMap",{extend:"Ext.container.Container",alias:"widget.colorpickercolormap",controller:"colorpickercolormapcontroller",requires:["Ext.ux.colorpick.ColorMapController"],cls:Ext.baseCSSPrefix+"colorpicker-colormap",items:[{xtype:"component",cls:Ext.baseCSSPrefix+"colorpicker-colormap-draghandle-container",itemId:"dragHandle",width:1,height:1,draggable:!0,html:'<div class="'+Ext.baseCSSPrefix+'colorpicker-colormap-draghandle"></div>'}],listeners:{boxready:{single:!0,fn:"onFirstBoxReady",scope:"controller"},colorbindingchanged:{fn:"onColorBindingChanged",scope:"controller"},huebindingchanged:{fn:"onHueBindingChanged",scope:"controller"}},afterRender:function(){var e=this.mapGradientUrl,t=this.el;this.callParent(),e||(0===(e=(e=t.getStyle("background-image")).substring(4,e.length-1)).indexOf('"')&&(e=e.substring(1,e.length-1)),Ext.ux.colorpick.ColorMap.prototype.mapGradientUrl=e),t.setStyle("background-image","none"),(t=this.layout.getElementTarget()).createChild({tag:"img",cls:Ext.baseCSSPrefix+"colorpicker-colormap-blender",src:e})},setPosition:function(e){var t=this.down("#dragHandle");t.dd&&t.dd.constrain&&(void 0===t.dd.dragEnded||t.dd.dragEnded)&&this.fireEvent("colorbindingchanged",e)},setHue:function(e){this.getEl()&&this.fireEvent("huebindingchanged",e)}}),Ext.define("Ext.ux.colorpick.SelectorModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.colorpick-selectormodel",requires:["Ext.ux.colorpick.ColorUtils"],data:{selectedColor:{r:255,g:255,b:255,h:0,s:1,v:1,a:1},previousColor:{r:0,g:0,b:0,h:0,s:1,v:1,a:1}},formulas:{hex:{get:function(e){var t=e("selectedColor.r").toString(16),n=e("selectedColor.g").toString(16),i=e("selectedColor.b").toString(16);return"#"+Ext.ux.colorpick.ColorUtils.rgb2hex(t,n,i)},set:function(e){var t=Ext.ux.colorpick.ColorUtils.hex2rgb(e);this.changeRGB(t)}},red:{get:function(e){return e("selectedColor.r")},set:function(e){this.changeRGB({r:e})}},green:{get:function(e){return e("selectedColor.g")},set:function(e){this.changeRGB({g:e})}},blue:{get:function(e){return e("selectedColor.b")},set:function(e){this.changeRGB({b:e})}},hue:{get:function(e){return 360*e("selectedColor.h")},set:function(e){this.changeHSV({h:e/360})}},saturation:{get:function(e){return 100*e("selectedColor.s")},set:function(e){this.changeHSV({s:e/100})}},value:{get:function(e){return 100*e("selectedColor.v")},set:function(e){this.changeHSV({v:e/100})}},alpha:{get:function(e){return 100*e("selectedColor.a")},set:function(e){this.set("selectedColor",Ext.applyIf({a:e/100},this.data.selectedColor))}}},changeHSV:function(e){Ext.applyIf(e,this.data.selectedColor);var t=Ext.ux.colorpick.ColorUtils.hsv2rgb(e.h,e.s,e.v);e.r=t.r,e.g=t.g,e.b=t.b,this.set("selectedColor",e)},changeRGB:function(e){Ext.applyIf(e,this.data.selectedColor);var t=Ext.ux.colorpick.ColorUtils.rgb2hsv(e.r,e.g,e.b);e.h=t.h,e.s=t.s,e.v=t.v,this.set("selectedColor",e)}}),Ext.define("Ext.ux.colorpick.SelectorController",{extend:"Ext.app.ViewController",alias:"controller.colorpick-selectorcontroller",requires:["Ext.ux.colorpick.ColorUtils"],destroy:function(){var e=this.getView(),t=e.childViewModel;t&&(t.destroy(),e.childViewModel=null),this.callParent()},changeHSV:function(e){var t,n=this.getView(),i=n.getColor();Ext.applyIf(e,i),t=Ext.ux.colorpick.ColorUtils.hsv2rgb(e.h,e.s,e.v),Ext.apply(e,t),n.setColor(e)},onColorMapHandleDrag:function(e,t){this.changeHSV({s:e,v:1-t})},onValueSliderHandleDrag:function(e){this.changeHSV({v:1-e})},onSaturationSliderHandleDrag:function(e){this.changeHSV({s:1-e})},onHueSliderHandleDrag:function(e){this.changeHSV({h:1-e})},onAlphaSliderHandleDrag:function(e){var t=this.getView(),n=t.getColor(),i=Ext.applyIf({a:1-e},n);t.setColor(i),t.el.repaint()},onPreviousColorSelected:function(e,t){this.getView().setColor(t)},onOK:function(){var e=this.getView();e.fireEvent("ok",e,e.getValue())},onCancel:function(){this.fireViewEvent("cancel",this.getView())},onResize:function(){var e,t,n,i,r=this.getView().childViewModel,o=this.getReferences();this.hasResizedOnce?(e=r.get("hue"),t=r.get("saturation"),n=r.get("value"),i=r.get("alpha"),o.colorMap.setPosition(r.getData()),o.hueSlider.setHue(e),o.satSlider.setSaturation(t),o.valueSlider.setValue(n),o.alphaSlider.setAlpha(i)):this.hasResizedOnce=!0}}),Ext.define("Ext.ux.colorpick.ColorPreview",{extend:"Ext.Component",alias:"widget.colorpickercolorpreview",requires:["Ext.util.Format"],style:"position: relative",html:'<div class="'+Ext.baseCSSPrefix+'colorpreview-filter" style="height:100%; width:100%; position: absolute;"></div><a class="btn" style="height:100%; width:100%; position: absolute;"></a>',cls:Ext.baseCSSPrefix+"colorpreview",height:256,onRender:function(){var e=this;e.callParent(arguments),e.mon(e.el.down(".btn"),"click",e.onClick,e)},onClick:function(){this.fireEvent("click",this,this.color)},setColor:function(e){this.getEl()&&(this.color=e,this.applyBgStyle(e))},bgStyleTpl:Ext.create("Ext.XTemplate",Ext.isIE&&Ext.ieVersion<10?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#{hexAlpha}{hex}', endColorstr='#{hexAlpha}{hex}');":"background: {rgba};"),applyBgStyle:function(e){var t,n,i,r,o=Ext.ux.colorpick.ColorUtils,a="."+Ext.baseCSSPrefix+"colorpreview-filter",s=this.getEl().down(a);t=o.rgb2hex(e.r,e.g,e.b),n=Ext.util.Format.hex(Math.floor(255*e.a),2),i=o.getRGBAString(e),r=this.bgStyleTpl.apply({hex:t,hexAlpha:n,rgba:i}),s.applyStyles(r)}}),Ext.define("Ext.ux.colorpick.SliderController",{extend:"Ext.app.ViewController",alias:"controller.colorpick-slidercontroller",boxReady:function(e){var t=this.getDragContainer(),n=this.getDragHandle().dd;n.constrain=!0,n.constrainTo=t.getEl(),n.initialConstrainTo=n.constrainTo,n.on("drag",this.onHandleDrag,this)},getDragHandle:function(){return this.view.lookupReference("dragHandle")},getDragContainer:function(){return this.view.lookupReference("dragHandleContainer")},onHandleDrag:function(e){var t=this.getView(),n=this.getDragContainer(),i=(this.getDragHandle().getY()-n.getY())/n.getEl().getHeight();i>.99&&(i=1),t.fireEvent("handledrag",i)},onMouseDown:function(e){var t=this.getDragHandle(),n=e.getY();t.setY(n),this.onHandleDrag(),t.el.repaint(),t.dd.onMouseDown(e,t.dd.el)},onDragStart:function(e){var t=this.getDragHandle();t.dd.onDragStart(e,t.dd.el)},onMouseUp:function(){this.getDragHandle().dd.dragEnded=!0}}),Ext.define("Ext.ux.colorpick.Slider",{extend:"Ext.container.Container",xtype:"colorpickerslider",controller:"colorpick-slidercontroller",afterRender:function(){this.callParent(arguments);var e=this.width,t=this.lookupReference("dragHandleContainer"),n=t.getWidth();t.el.setStyle("left",(e-n)/2+"px")},baseCls:Ext.baseCSSPrefix+"colorpicker-slider",requires:["Ext.ux.colorpick.SliderController"],referenceHolder:!0,listeners:{element:"el",mousedown:"onMouseDown",mouseup:"onMouseUp",dragstart:"onDragStart"},items:{xtype:"container",cls:Ext.baseCSSPrefix+"colorpicker-draghandle-container",reference:"dragHandleContainer",height:"100%",items:{xtype:"component",cls:Ext.baseCSSPrefix+"colorpicker-draghandle-outer",reference:"dragHandle",width:"100%",height:1,draggable:!0,html:'<div class="'+Ext.baseCSSPrefix+'colorpicker-draghandle"></div>'}},setHue:function(){Ext.raise("Must implement setHue() in a child class!")},getDragHandle:function(){return this.lookupReference("dragHandle")},getDragContainer:function(){return this.lookupReference("dragHandleContainer")}}),Ext.define("Ext.ux.colorpick.SliderAlpha",{extend:"Ext.ux.colorpick.Slider",alias:"widget.colorpickerslideralpha",cls:Ext.baseCSSPrefix+"colorpicker-alpha",requires:["Ext.XTemplate"],gradientStyleTpl:Ext.create("Ext.XTemplate",Ext.isIE&&Ext.ieVersion<10?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#FF{hex}', endColorstr='#00{hex}');":"background: -moz-linear-gradient(top, rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);background: -webkit-linear-gradient(top,rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);background: -o-linear-gradient(top, rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);background: -ms-linear-gradient(top, rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);background: linear-gradient(to bottom, rgba({r}, {g}, {b}, 1) 0%, rgba({r}, {g}, {b}, 0) 100%);"),setAlpha:function(e){var t,n=this.getDragContainer(),i=this.getDragHandle(),r=n.getEl().getHeight();i.dd&&i.dd.constrain&&(void 0===i.dd.dragEnded||i.dd.dragEnded)&&(t=r*(1-e/100),i.getEl().setStyle({top:t+"px"}))},setColor:function(e){var t,n=this.getDragContainer();this.getEl()&&(t=Ext.ux.colorpick.ColorUtils.rgb2hex(e.r,e.g,e.b),n.getEl().first().applyStyles(this.gradientStyleTpl.apply({hex:t,r:e.r,g:e.g,b:e.b})))}}),Ext.define("Ext.ux.colorpick.SliderSaturation",{extend:"Ext.ux.colorpick.Slider",alias:"widget.colorpickerslidersaturation",cls:Ext.baseCSSPrefix+"colorpicker-saturation",gradientStyleTpl:Ext.create("Ext.XTemplate",Ext.isIE&&Ext.ieVersion<10?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#{hex}', endColorstr='#ffffff');":"background: -mox-linear-gradient(top, #{hex} 0%, #ffffff 100%);background: -webkit-linear-gradient(top, #{hex} 0%,#ffffff 100%);background: -o-linear-gradient(top, #{hex} 0%,#ffffff 100%);background: -ms-linear-gradient(top, #{hex} 0%,#ffffff 100%);background: linear-gradient(to bottom, #{hex} 0%,#ffffff 100%);"),setSaturation:function(e){var t,n=this.getDragContainer(),i=this.getDragHandle(),r=n.getEl().getHeight();i.dd&&i.dd.constrain&&(void 0===i.dd.dragEnded||i.dd.dragEnded)&&(t=r*(1-e/100),i.getEl().setStyle({top:t+"px"}))},setHue:function(e){var t,n,i=this.getDragContainer();this.getEl()&&(t=Ext.ux.colorpick.ColorUtils.hsv2rgb(e,1,1),n=Ext.ux.colorpick.ColorUtils.rgb2hex(t.r,t.g,t.b),i.getEl().applyStyles(this.gradientStyleTpl.apply({hex:n})))}}),Ext.define("Ext.ux.colorpick.SliderValue",{extend:"Ext.ux.colorpick.Slider",alias:"widget.colorpickerslidervalue",cls:Ext.baseCSSPrefix+"colorpicker-value",requires:["Ext.XTemplate"],gradientStyleTpl:Ext.create("Ext.XTemplate",Ext.isIE&&Ext.ieVersion<10?"filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0, startColorstr='#{hex}', endColorstr='#000000');":"background: -mox-linear-gradient(top, #{hex} 0%, #000000 100%);background: -webkit-linear-gradient(top, #{hex} 0%,#000000 100%);background: -o-linear-gradient(top, #{hex} 0%,#000000 100%);background: -ms-linear-gradient(top, #{hex} 0%,#000000 100%);background: linear-gradient(to bottom, #{hex} 0%,#000000 100%);"),setValue:function(e){var t,n=this.getDragContainer(),i=this.getDragHandle(),r=n.getEl().getHeight();i.dd&&i.dd.constrain&&(void 0===i.dd.dragEnded||i.dd.dragEnded)&&(t=r*(1-e/100),i.getEl().setStyle({top:t+"px"}))},setHue:function(e){var t,n,i=this.getDragContainer();this.getEl()&&(t=Ext.ux.colorpick.ColorUtils.hsv2rgb(e,1,1),n=Ext.ux.colorpick.ColorUtils.rgb2hex(t.r,t.g,t.b),i.getEl().applyStyles(this.gradientStyleTpl.apply({hex:n})))}}),Ext.define("Ext.ux.colorpick.SliderHue",{extend:"Ext.ux.colorpick.Slider",alias:"widget.colorpickersliderhue",cls:Ext.baseCSSPrefix+"colorpicker-hue",afterRender:function(){var e=this.gradientUrl,t=this.el;this.callParent(),e||(0===(e=(e=t.getStyle("background-image")).substring(4,e.length-1)).indexOf('"')&&(e=e.substring(1,e.length-1)),Ext.ux.colorpick.SliderHue.prototype.gradientUrl=e),t.setStyle("background-image","none"),(t=this.getDragContainer().layout.getElementTarget()).createChild({tag:"img",cls:Ext.baseCSSPrefix+"colorpicker-hue-gradient",src:e})},setHue:function(e){var t,n=this.getDragContainer(),i=this.getDragHandle(),r=n.getEl().getHeight();i.dd&&i.dd.constrain&&(void 0===i.dd.dragEnded||i.dd.dragEnded)&&(t=r*(1-e),i.getEl().setStyle({top:t+"px"}))}}),Ext.define("Ext.ux.colorpick.Selector",{extend:"Ext.container.Container",xtype:"colorselector",mixins:["Ext.ux.colorpick.Selection"],controller:"colorpick-selectorcontroller",requires:["Ext.layout.container.HBox","Ext.form.field.Text","Ext.form.field.Number","Ext.ux.colorpick.ColorMap","Ext.ux.colorpick.SelectorModel","Ext.ux.colorpick.SelectorController","Ext.ux.colorpick.ColorPreview","Ext.ux.colorpick.Slider","Ext.ux.colorpick.SliderAlpha","Ext.ux.colorpick.SliderSaturation","Ext.ux.colorpick.SliderValue","Ext.ux.colorpick.SliderHue"],width:580,height:337,cls:Ext.baseCSSPrefix+"colorpicker",padding:10,layout:{type:"hbox",align:"stretch"},defaultBindProperty:"value",twoWayBindable:["value"],fieldWidth:50,fieldPad:5,showPreviousColor:!1,showOkCancelButtons:!1,listeners:{resize:"onResize"},constructor:function(e){var t=this,n=Ext.Factory.viewModel("colorpick-selectormodel");t.childViewModel=n,t.items=[t.getMapAndHexRGBFields(n),t.getSliderAndHField(n),t.getSliderAndSField(n),t.getSliderAndVField(n),t.getSliderAndAField(n),t.getPreviewAndButtons(n,e)],t.childViewModel.bind("{selectedColor}",function(e){t.setColor(e)}),t.callParent(arguments)},updateColor:function(e){this.mixins.colorselection.updateColor.call(this,e),this.childViewModel.set("selectedColor",e)},updatePreviousColor:function(e){this.childViewModel.set("previousColor",e)},getMapAndHexRGBFields:function(e){var t={top:0,right:this.fieldPad,bottom:0,left:0},n=this.fieldWidth;return{xtype:"container",viewModel:e,cls:Ext.baseCSSPrefix+"colorpicker-escape-overflow",flex:1,layout:{type:"vbox",align:"stretch"},margin:"0 10 0 0",items:[{xtype:"colorpickercolormap",reference:"colorMap",flex:1,bind:{position:{bindTo:"{selectedColor}",deep:!0},hue:"{selectedColor.h}"},listeners:{handledrag:"onColorMapHandleDrag"}},{xtype:"container",layout:"hbox",defaults:{labelAlign:"top",labelSeparator:"",allowBlank:!1,onChange:function(){this.isValid()&&Ext.form.field.Base.prototype.onChange.apply(this,arguments)}},items:[{xtype:"textfield",fieldLabel:"HEX",flex:1,bind:"{hex}",margin:t,readOnly:!0},{xtype:"numberfield",fieldLabel:"R",bind:"{red}",width:n,hideTrigger:!0,maxValue:255,minValue:0,margin:t},{xtype:"numberfield",fieldLabel:"G",bind:"{green}",width:n,hideTrigger:!0,maxValue:255,minValue:0,margin:t},{xtype:"numberfield",fieldLabel:"B",bind:"{blue}",width:n,hideTrigger:!0,maxValue:255,minValue:0,margin:0}]}]}},getSliderAndHField:function(e){var t=this.fieldWidth;return{xtype:"container",viewModel:e,cls:Ext.baseCSSPrefix+"colorpicker-escape-overflow",width:t,layout:{type:"vbox",align:"stretch"},items:[{xtype:"colorpickersliderhue",reference:"hueSlider",flex:1,bind:{hue:"{selectedColor.h}"},width:t,listeners:{handledrag:"onHueSliderHandleDrag"}},{xtype:"numberfield",fieldLabel:"H",labelAlign:"top",labelSeparator:"",bind:"{hue}",hideTrigger:!0,maxValue:360,minValue:0,allowBlank:!1,margin:0}]}},getSliderAndSField:function(e){var t=this.fieldWidth;return{xtype:"container",viewModel:e,cls:Ext.baseCSSPrefix+"colorpicker-escape-overflow",width:t,layout:{type:"vbox",align:"stretch"},margin:{right:this.fieldPad,left:this.fieldPad},items:[{xtype:"colorpickerslidersaturation",reference:"satSlider",flex:1,bind:{saturation:"{saturation}",hue:"{selectedColor.h}"},width:t,listeners:{handledrag:"onSaturationSliderHandleDrag"}},{xtype:"numberfield",fieldLabel:"S",labelAlign:"top",labelSeparator:"",bind:"{saturation}",hideTrigger:!0,maxValue:100,minValue:0,allowBlank:!1,margin:0}]}},getSliderAndVField:function(e){var t=this.fieldWidth;return{xtype:"container",viewModel:e,cls:Ext.baseCSSPrefix+"colorpicker-escape-overflow",width:t,layout:{type:"vbox",align:"stretch"},items:[{xtype:"colorpickerslidervalue",reference:"valueSlider",flex:1,bind:{value:"{value}",hue:"{selectedColor.h}"},width:t,listeners:{handledrag:"onValueSliderHandleDrag"}},{xtype:"numberfield",fieldLabel:"V",labelAlign:"top",labelSeparator:"",bind:"{value}",hideTrigger:!0,maxValue:100,minValue:0,allowBlank:!1,margin:0}]}},getSliderAndAField:function(e){var t=this.fieldWidth;return{xtype:"container",viewModel:e,cls:Ext.baseCSSPrefix+"colorpicker-escape-overflow",width:t,layout:{type:"vbox",align:"stretch"},margin:{left:this.fieldPad},items:[{xtype:"colorpickerslideralpha",reference:"alphaSlider",flex:1,bind:{alpha:"{alpha}",color:{bindTo:"{selectedColor}",deep:!0}},width:t,listeners:{handledrag:"onAlphaSliderHandleDrag"}},{xtype:"numberfield",fieldLabel:"A",labelAlign:"top",labelSeparator:"",bind:"{alpha}",hideTrigger:!0,maxValue:100,minValue:0,allowBlank:!1,margin:0}]}},getPreviewAndButtons:function(e,t){var n=[{xtype:"colorpickercolorpreview",flex:1,bind:{color:{bindTo:"{selectedColor}",deep:!0}}}];return t.showPreviousColor&&n.push({xtype:"colorpickercolorpreview",flex:1,bind:{color:{bindTo:"{previousColor}",deep:!0}},listeners:{click:"onPreviousColorSelected"}}),t.showOkCancelButtons&&n.push({xtype:"button",text:"OK",margin:"10 0 0 0",handler:"onOK"},{xtype:"button",text:"Cancel",margin:"10 0 0 0",handler:"onCancel"}),{xtype:"container",viewModel:e,width:70,margin:"0 0 0 10",items:n,layout:{type:"vbox",align:"stretch"}}}}),Ext.define("Ext.ux.colorpick.ButtonController",{extend:"Ext.app.ViewController",alias:"controller.colorpick-buttoncontroller",requires:["Ext.window.Window","Ext.layout.container.Fit","Ext.ux.colorpick.Selector","Ext.ux.colorpick.ColorUtils"],afterRender:function(e){e.updateColor(e.getColor())},destroy:function(){var e=this.getView(),t=e.colorPickerWindow;t&&(t.destroy(),e.colorPickerWindow=e.colorPicker=null),this.callParent()},getPopup:function(){var e,t=this.getView(),n=t.colorPickerWindow;return n||(n=Ext.create(t.getPopup()),t.colorPickerWindow=n,n.colorPicker=t.colorPicker=e=n.lookupReference("selector"),e.setFormat(t.getFormat()),e.on({ok:"onColorPickerOK",cancel:"onColorPickerCancel",scope:this}),n.on({close:"onColorPickerCancel",scope:this})),n},onClick:function(){var e=this.getView(),t=e.getColor(),n=this.getPopup(),i=n.colorPicker;i.setColor(t),i.setPreviousColor(t),n.showBy(e,"tl-br?")},onColorPickerOK:function(e){var t=this.getView(),n=e.getColor();t.colorPickerWindow.hide(),t.setColor(n)},onColorPickerCancel:function(){this.getView().colorPickerWindow.hide()},syncColor:function(e){var t=this.getView();Ext.ux.colorpick.ColorUtils.setBackground(t.filterEl,e)}}),Ext.define("Ext.ux.colorpick.Button",{extend:"Ext.Component",xtype:"colorbutton",controller:"colorpick-buttoncontroller",mixins:["Ext.ux.colorpick.Selection"],requires:["Ext.ux.colorpick.ButtonController"],baseCls:Ext.baseCSSPrefix+"colorpicker-button",width:20,height:20,childEls:["btnEl","filterEl"],config:{popup:{lazy:!0,$value:{xtype:"window",closeAction:"hide",referenceHolder:!0,minWidth:540,minHeight:200,layout:"fit",header:!1,resizable:!0,items:{xtype:"colorselector",reference:"selector",showPreviousColor:!0,showOkCancelButtons:!0}}}},defaultBindProperty:"value",twoWayBindable:"value",renderTpl:'<div id="{id}-filterEl" data-ref="filterEl" style="height:100%; width:100%; position: absolute;"></div><a id="{id}-btnEl" data-ref="btnEl" style="height:100%; width:100%; position: absolute;"></a>',listeners:{click:"onClick",element:"btnEl"},updateColor:function(e){var t=this.colorPicker;this.mixins.colorselection.updateColor.call(this,e),Ext.ux.colorpick.ColorUtils.setBackground(this.filterEl,e),t&&t.setColor(e)},updateFormat:function(e){var t=this.colorPicker;t&&t.setFormat(e)}}),Ext.define("Ext.ux.colorpick.Field",{extend:"Ext.form.field.Picker",xtype:"colorfield",mixins:["Ext.ux.colorpick.Selection"],requires:["Ext.window.Window","Ext.ux.colorpick.Selector","Ext.ux.colorpick.ColorUtils","Ext.layout.container.Fit"],editable:!1,matchFieldWidth:!1,beforeBodyEl:['<div class="'+Ext.baseCSSPrefix+'colorpicker-field-swatch"><div id="{id}-swatchEl" data-ref="swatchEl" class="'+Ext.baseCSSPrefix+'colorpicker-field-swatch-inner"></div></div>'],cls:Ext.baseCSSPrefix+"colorpicker-field",childEls:["swatchEl"],config:{popup:{lazy:!0,$value:{xtype:"window",closeAction:"hide",referenceHolder:!0,minWidth:540,minHeight:200,layout:"fit",header:!1,resizable:!0,items:{xtype:"colorselector",reference:"selector",showPreviousColor:!0,showOkCancelButtons:!0}}}},afterRender:function(){this.callParent(),this.updateValue(this.value)},createPicker:function(){var e,t=this,n=t.getPopup();return t.colorPickerWindow=n=Ext.create(n),t.colorPicker=e=n.lookupReference("selector"),e.setFormat(t.getFormat()),e.setColor(t.getColor()),e.on({ok:"onColorPickerOK",cancel:"onColorPickerCancel",scope:t}),n.on({close:"onColorPickerCancel",scope:t}),t.colorPickerWindow},onColorPickerOK:function(e){this.setColor(e.getColor()),this.collapse()},onColorPickerCancel:function(){this.collapse()},onExpand:function(){var e=this.getColor();this.colorPicker.setPreviousColor(e)},setValue:function(e){var t=this.applyValue(e);this.callParent([t]),this.updateValue(t)},updateFormat:function(e){var t=this.colorPicker;t&&t.setFormat(e)},updateValue:function(e){var t,n=this;n.syncing||(n.syncing=!0,n.setColor(e),n.syncing=!1),t=n.getColor(),Ext.ux.colorpick.ColorUtils.setBackground(n.swatchEl,t),n.colorPicker&&n.colorPicker.setColor(t)}}),Ext.define("Ext.ux.data.PagingMemoryProxy",{extend:"Ext.data.proxy.Memory",alias:"proxy.pagingmemory",alternateClassName:"Ext.data.PagingMemoryProxy",constructor:function(){Ext.log.warn("Ext.ux.data.PagingMemoryProxy functionality has been merged into Ext.data.proxy.Memory by using the enablePaging flag."),this.callParent(arguments)},read:function(e,t,n){var i,r,o,a,s=this.getReader().read(this.data);n=n||this,(r=e.filters).length>0&&(a=[],Ext.each(s.records,function(e){var t,n=!0,i=r.length;for(t=0;t<i;t++){var o=r[t],s=o.filterFn,l=o.scope;n=n&&s.call(l,e)}n&&a.push(e)},this),s.records=a,s.totalRecords=s.total=a.length),(i=e.sorters).length>0&&(o=function(e,t){var n,r=i[0].sort(e,t),o=i.length;for(n=1;n<o;n++)r=r||i[n].sort.call(this,e,t);return r},s.records.sort(o)),void 0!==e.start&&void 0!==e.limit&&(s.records=s.records.slice(e.start,e.start+e.limit),s.count=s.records.length),Ext.apply(e,{resultSet:s}),e.setCompleted(),e.setSuccessful(),Ext.Function.defer(function(){Ext.callback(t,n,[e])},10)}}),Ext.define("Ext.ux.dd.CellFieldDropZone",{extend:"Ext.dd.DropZone",alias:"plugin.ux-cellfielddropzone",containerScroll:!0,onCellDrop:Ext.emptyFn,constructor:function(e){if(e){var t=this,n=e.ddGroup,i=e.onCellDrop;i&&("string"==typeof i?(t.onCellDropFn=i,t.onCellDrop=t.callCellDrop):t.onCellDrop=i),n&&(t.ddGroup=n)}},init:function(e){var t=this;e.rendered?(t.grid=e,e.getView().on({render:function(e){t.view=e,Ext.ux.dd.CellFieldDropZone.superclass.constructor.call(t,t.view.el)},single:!0})):e.on("render",t.init,t,{single:!0})},getTargetFromEvent:function(e){var t=this.view,n=e.getTarget(t.getCellSelector());if(n){var i=t.findItemByChild(n),r=n.cellIndex;if(i&&Ext.isDefined(r))return{node:n,record:t.getRecord(i),fieldName:this.grid.getVisibleColumnManager().getColumns()[r].dataIndex}}},onNodeEnter:function(e,t,n,i){if(delete this.dropOK,e){var r=i.field;if(r){var o=e.record.fieldsMap[e.fieldName];if(o.isNumeric){if(!r.isXType("numberfield"))return}else if(o.isDateField){if(!r.isXType("datefield"))return}else if(o.isBooleanField&&!r.isXType("checkbox"))return;this.dropOK=!0,Ext.fly(e.node).addCls("x-drop-target-active")}}},onNodeOver:function(e,t,n,i){return this.dropOK?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(e,t,n,i){Ext.fly(e.node).removeCls("x-drop-target-active")},onNodeDrop:function(e,t,n,i){if(this.dropOK){var r=i.field.getValue();return e.record.set(e.fieldName,r),this.onCellDrop(e.fieldName,r),!0}},callCellDrop:function(e,t){Ext.callback(this.onCellDropFn,null,[e,t],0,this.grid)}}),Ext.define("Ext.ux.dd.PanelFieldDragZone",{extend:"Ext.dd.DragZone",alias:"plugin.ux-panelfielddragzone",scroll:!1,constructor:function(e){e&&e.ddGroup&&(this.ddGroup=e.ddGroup)},init:function(e){var t;e.nodeType?Ext.ux.dd.PanelFieldDragZone.superclass.init.apply(this,arguments):e.rendered?((t=e.getEl()).unselectable(),Ext.ux.dd.PanelFieldDragZone.superclass.constructor.call(this,t)):e.on("afterrender",this.init,this,{single:!0})},getDragData:function(e){var t,n,i,r,o=e.getTarget("label",null,!0);if(o){if(n=(i=Ext.getCmp(o.up("."+Ext.form.Labelable.prototype.formItemCls).id)).preventMark,i.preventMark=!0,i.isValid())return i.preventMark=n,(r=document.createElement("div")).className=Ext.baseCSSPrefix+"form-text",t=i.getRawValue(),r.innerHTML=Ext.isEmpty(t)?"&#160;":t,Ext.fly(r).setWidth(i.getEl().getWidth()),{field:i,ddel:r};e.stopEvent(),i.preventMark=n}},getRepairXY:function(){return this.dragData.field.getEl().getXY()}}),
/*!
 * Ext JS Library
 * Copyright(c) 2006-2014 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
Ext.define("Ext.ux.desktop.Desktop",{extend:"Ext.panel.Panel",alias:"widget.desktop",uses:["Ext.util.MixedCollection","Ext.menu.Menu","Ext.view.View","Ext.window.Window","Ext.ux.desktop.TaskBar","Ext.ux.desktop.Wallpaper"],activeWindowCls:"ux-desktop-active-win",inactiveWindowCls:"ux-desktop-inactive-win",lastActiveWindow:null,border:!1,html:"&#160;",layout:"fit",xTickSize:1,yTickSize:1,app:null,shortcuts:null,shortcutItemSelector:"div.ux-desktop-shortcut",shortcutTpl:['<tpl for=".">','<div class="ux-desktop-shortcut" id="{name}-shortcut">','<div class="ux-desktop-shortcut-icon {iconCls}">','<img src="',Ext.BLANK_IMAGE_URL,'" title="{name}">',"</div>",'<span class="ux-desktop-shortcut-text">{name}</span>',"</div>","</tpl>",'<div class="x-clear"></div>'],taskbarConfig:null,windowMenu:null,initComponent:function(){var e=this;e.windowMenu=new Ext.menu.Menu(e.createWindowMenu()),e.bbar=e.taskbar=new Ext.ux.desktop.TaskBar(e.taskbarConfig),e.taskbar.windowMenu=e.windowMenu,e.windows=new Ext.util.MixedCollection,e.contextMenu=new Ext.menu.Menu(e.createDesktopMenu()),e.items=[{xtype:"wallpaper",id:e.id+"_wallpaper"},e.createDataView()],e.callParent(),e.shortcutsView=e.items.getAt(1),e.shortcutsView.on("itemclick",e.onShortcutItemClick,e);var t=e.wallpaper;e.wallpaper=e.items.getAt(0),t&&e.setWallpaper(t,e.wallpaperStretch)},afterRender:function(){this.callParent(),this.el.on("contextmenu",this.onDesktopMenu,this)},createDataView:function(){return{xtype:"dataview",overItemCls:"x-view-over",trackOver:!0,itemSelector:this.shortcutItemSelector,store:this.shortcuts,style:{position:"absolute"},x:0,y:0,tpl:new Ext.XTemplate(this.shortcutTpl)}},createDesktopMenu:function(){var e=this,t={items:e.contextMenuItems||[]};return t.items.length&&t.items.push("-"),t.items.push({text:"Tile",handler:e.tileWindows,scope:e,minWindows:1},{text:"Cascade",handler:e.cascadeWindows,scope:e,minWindows:1}),t},createWindowMenu:function(){var e=this;return{defaultAlign:"br-tr",items:[{text:"Restore",handler:e.onWindowMenuRestore,scope:e},{text:"Minimize",handler:e.onWindowMenuMinimize,scope:e},{text:"Maximize",handler:e.onWindowMenuMaximize,scope:e},"-",{text:"Close",handler:e.onWindowMenuClose,scope:e}],listeners:{beforeshow:e.onWindowMenuBeforeShow,hide:e.onWindowMenuHide,scope:e}}},onDesktopMenu:function(e){var t=this.contextMenu;e.stopEvent(),t.rendered||t.on("beforeshow",this.onDesktopMenuBeforeShow,this),t.showAt(e.getXY()),t.doConstrain()},onDesktopMenuBeforeShow:function(e){var t=this.windows.getCount();e.items.each(function(e){var n=e.minWindows||0;e.setDisabled(t<n)})},onShortcutItemClick:function(e,t){var n=this.app.getModule(t.data.module),i=n&&n.createWindow();i&&this.restoreWindow(i)},onWindowClose:function(e){this.windows.remove(e),this.taskbar.removeTaskButton(e.taskButton),this.updateActiveWindow()},onWindowMenuBeforeShow:function(e){var t=e.items.items,n=e.theWin;t[0].setDisabled(!0!==n.maximized&&!0!==n.hidden),t[1].setDisabled(!0===n.minimized),t[2].setDisabled(!0===n.maximized||!0===n.hidden)},onWindowMenuClose:function(){this.windowMenu.theWin.close()},onWindowMenuHide:function(e){Ext.defer(function(){e.theWin=null},1)},onWindowMenuMaximize:function(){var e=this.windowMenu.theWin;e.maximize(),e.toFront()},onWindowMenuMinimize:function(){this.windowMenu.theWin.minimize()},onWindowMenuRestore:function(){var e=this.windowMenu.theWin;this.restoreWindow(e)},getWallpaper:function(){return this.wallpaper.wallpaper},setTickSize:function(e,t){var n=this.xTickSize=e,i=this.yTickSize=arguments.length>1?t:n;this.windows.each(function(e){var t=e.dd,r=e.resizer;t.xTickSize=n,t.yTickSize=i,r.widthIncrement=n,r.heightIncrement=i})},setWallpaper:function(e,t){return this.wallpaper.setWallpaper(e,t),this},cascadeWindows:function(){var e=0,t=0;this.getDesktopZIndexManager().eachBottomUp(function(n){n.isWindow&&n.isVisible()&&!n.maximized&&(n.setPosition(e,t),e+=20,t+=20)})},createWindow:function(e,t){var n,i=this,r=Ext.applyIf(e||{},{stateful:!1,isWindow:!0,constrainHeader:!0,minimizable:!0,maximizable:!0});return t=t||Ext.window.Window,n=i.add(new t(r)),i.windows.add(n),n.taskButton=i.taskbar.addTaskButton(n),n.animateTarget=n.taskButton.el,n.on({activate:i.updateActiveWindow,beforeshow:i.updateActiveWindow,deactivate:i.updateActiveWindow,minimize:i.minimizeWindow,destroy:i.onWindowClose,scope:i}),n.on({boxready:function(){n.dd.xTickSize=i.xTickSize,n.dd.yTickSize=i.yTickSize,n.resizer&&(n.resizer.widthIncrement=i.xTickSize,n.resizer.heightIncrement=i.yTickSize)},single:!0}),n.doClose=function(){n.doClose=Ext.emptyFn,n.el.disableShadow(),n.el.fadeOut({listeners:{afteranimate:function(){n.destroy()}}})},n},getActiveWindow:function(){var e=null,t=this.getDesktopZIndexManager();return t&&t.eachTopDown(function(t){return!(t.isWindow&&!t.hidden)||(e=t,!1)}),e},getDesktopZIndexManager:function(){var e=this.windows;return e.getCount()&&e.getAt(0).zIndexManager||null},getWindow:function(e){return this.windows.get(e)},minimizeWindow:function(e){e.minimized=!0,e.hide()},restoreWindow:function(e){return e.isVisible()?(e.restore(),e.toFront()):e.show(),e},tileWindows:function(){var e=this,t=e.body.getWidth(!0),n=e.xTickSize,i=e.yTickSize,r=i;e.windows.each(function(o){if(o.isVisible()&&!o.maximized){var a=o.el.getWidth();n>e.xTickSize&&n+a>t&&(n=e.xTickSize,i=r),o.setPosition(n,i),n+=a+e.xTickSize,r=Math.max(r,i+o.el.getHeight()+e.yTickSize)}})},updateActiveWindow:function(){var e=this,t=e.getActiveWindow(),n=e.lastActiveWindow;n&&n.destroyed?e.lastActiveWindow=null:t!==n&&(n&&(n.el.dom&&(n.addCls(e.inactiveWindowCls),n.removeCls(e.activeWindowCls)),n.active=!1),e.lastActiveWindow=t,t&&(t.addCls(e.activeWindowCls),t.removeCls(e.inactiveWindowCls),t.minimized=!1,t.active=!0),e.taskbar.setActiveButton(t&&t.taskButton))}}),Ext.define("Ext.ux.desktop.App",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.container.Viewport","Ext.ux.desktop.Desktop"],isReady:!1,modules:null,useQuickTips:!0,constructor:function(e){var t=this;t.mixins.observable.constructor.call(this,e),Ext.isReady?Ext.Function.defer(t.init,10,t):Ext.onReady(t.init,t)},init:function(){var e,t=this;t.useQuickTips&&Ext.QuickTips.init(),t.modules=t.getModules(),t.modules&&t.initModules(t.modules),e=t.getDesktopConfig(),t.desktop=new Ext.ux.desktop.Desktop(e),t.viewport=new Ext.container.Viewport({layout:"fit",items:[t.desktop]}),Ext.getWin().on("beforeunload",t.onUnload,t),t.isReady=!0,t.fireEvent("ready",t)},getDesktopConfig:function(){var e={app:this,taskbarConfig:this.getTaskbarConfig()};return Ext.apply(e,this.desktopConfig),e},getModules:Ext.emptyFn,getStartConfig:function(){var e,t=this,n={app:t,menu:[]};return Ext.apply(n,t.startConfig),Ext.each(t.modules,function(i){(e=i.launcher)&&(e.handler=e.handler||Ext.bind(t.createWindow,t,[i]),n.menu.push(i.launcher))}),n},createWindow:function(e){e.createWindow().show()},getTaskbarConfig:function(){var e={app:this,startConfig:this.getStartConfig()};return Ext.apply(e,this.taskbarConfig),e},initModules:function(e){var t=this;Ext.each(e,function(e){e.app=t})},getModule:function(e){for(var t=this.modules,n=0,i=t.length;n<i;n++){var r=t[n];if(r.id==e||r.appType==e)return r}return null},onReady:function(e,t){this.isReady?e.call(t,this):this.on({ready:e,scope:t,single:!0})},getDesktop:function(){return this.desktop},onUnload:function(e){!1===this.fireEvent("beforeunload",this)&&e.stopEvent()}}),
/*!
 * Ext JS Library
 * Copyright(c) 2006-2014 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
Ext.define("Ext.ux.desktop.Module",{mixins:{observable:"Ext.util.Observable"},constructor:function(e){this.mixins.observable.constructor.call(this,e),this.init()},init:Ext.emptyFn}),
/*!
 * Ext JS Library
 * Copyright(c) 2006-2014 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
Ext.define("Ext.ux.desktop.ShortcutModel",{extend:"Ext.data.Model",fields:[{name:"name",convert:Ext.String.createVarName},{name:"iconCls"},{name:"module"}]}),Ext.define("Ext.ux.desktop.StartMenu",{extend:"Ext.menu.Menu",baseCls:Ext.baseCSSPrefix+"panel",cls:"x-menu ux-start-menu",bodyCls:"ux-start-menu-body",defaultAlign:"bl-tl",iconCls:"user",bodyBorder:!0,width:300,initComponent:function(){var e=this;e.layout.align="stretch",e.items=e.menu,e.callParent(),e.toolbar=new Ext.toolbar.Toolbar(Ext.apply({dock:"right",cls:"ux-start-menu-toolbar",vertical:!0,width:100,layout:{align:"stretch"}},e.toolConfig)),e.addDocked(e.toolbar),delete e.toolItems},addMenuItem:function(){var e=this.menu;e.add.apply(e,arguments)},addToolItem:function(){var e=this.toolbar;e.add.apply(e,arguments)}}),
/*!
 * Ext JS Library
 * Copyright(c) 2006-2014 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
Ext.define("Ext.ux.desktop.TaskBar",{extend:"Ext.toolbar.Toolbar",requires:["Ext.button.Button","Ext.resizer.Splitter","Ext.menu.Menu","Ext.ux.desktop.StartMenu"],alias:"widget.taskbar",cls:"ux-taskbar",startBtnText:"Start",initComponent:function(){var e=this;e.startMenu=new Ext.ux.desktop.StartMenu(e.startConfig),e.quickStart=new Ext.toolbar.Toolbar(e.getQuickStart()),e.windowBar=new Ext.toolbar.Toolbar(e.getWindowBarConfig()),e.tray=new Ext.toolbar.Toolbar(e.getTrayConfig()),e.items=[{xtype:"button",cls:"ux-start-button",iconCls:"ux-start-button-icon",menu:e.startMenu,menuAlign:"bl-tl",text:e.startBtnText},e.quickStart,{xtype:"splitter",html:"&#160;",height:14,width:2,cls:"x-toolbar-separator x-toolbar-separator-horizontal"},e.windowBar,"-",e.tray],e.callParent()},afterLayout:function(){this.callParent(),this.windowBar.el.on("contextmenu",this.onButtonContextMenu,this)},getQuickStart:function(){var e=this,t={minWidth:20,width:"neptune"===Ext.themeName?70:60,items:[],enableOverflow:!0};return Ext.each(this.quickStart,function(n){t.items.push({tooltip:{text:n.name,align:"bl-tl"},overflowText:n.name,iconCls:n.iconCls,module:n.module,handler:e.onQuickStartClick,scope:e})}),t},getTrayConfig:function(){var e={items:this.trayItems};return delete this.trayItems,e},getWindowBarConfig:function(){return{flex:1,cls:"ux-desktop-windowbar",items:["&#160;"],layout:{overflowHandler:"Scroller"}}},getWindowBtnFromEl:function(e){return this.windowBar.getChildByElement(e)||null},onQuickStartClick:function(e){var t=this.app.getModule(e.module);t&&t.createWindow().show()},onButtonContextMenu:function(e){var t=e.getTarget(),n=this.getWindowBtnFromEl(t);n&&(e.stopEvent(),this.windowMenu.theWin=n.win,this.windowMenu.showBy(t))},onWindowBtnClick:function(e){var t=e.win;t.minimized||t.hidden?(e.disable(),t.show(null,function(){e.enable()})):t.active?(e.disable(),t.on("hide",function(){e.enable()},null,{single:!0}),t.minimize()):t.toFront()},addTaskButton:function(e){var t={iconCls:e.iconCls,enableToggle:!0,toggleGroup:"all",width:140,margin:"0 2 0 3",text:Ext.util.Format.ellipsis(e.title,20),listeners:{click:this.onWindowBtnClick,scope:this},win:e},n=this.windowBar.add(t);return n.toggle(!0),n},removeTaskButton:function(e){var t;return this.windowBar.items.each(function(n){return n===e&&(t=n),!t}),t&&this.windowBar.remove(t),t},setActiveButton:function(e){e?e.toggle(!0):this.windowBar.items.each(function(e){e.isButton&&e.toggle(!1)})}}),Ext.define("Ext.ux.desktop.TrayClock",{extend:"Ext.toolbar.TextItem",alias:"widget.trayclock",cls:"ux-desktop-trayclock",html:"&#160;",timeFormat:"g:i A",tpl:"{time}",initComponent:function(){this.callParent(),"string"==typeof this.tpl&&(this.tpl=new Ext.XTemplate(this.tpl))},afterRender:function(){Ext.Function.defer(this.updateTime,100,this),this.callParent()},doDestroy:function(){this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.callParent()},updateTime:function(){var e=this,t=Ext.Date.format(new Date,e.timeFormat),n=e.tpl.apply({time:t});e.lastText!=n&&(e.setText(n),e.lastText=n),e.timer=Ext.Function.defer(e.updateTime,1e4,e)}}),
/*!
* Ext JS Library
* Copyright(c) 2006-2015 Sencha Inc.
* licensing@sencha.com
* http://www.sencha.com/license
*/
Ext.define("Ext.ux.desktop.Video",{extend:"Ext.panel.Panel",alias:"widget.video",layout:"fit",autoplay:!1,controls:!0,bodyStyle:"background-color:#000;color:#fff",html:"",tpl:['<video id="{id}-video" autoPlay="{autoplay}" controls="{controls}" poster="{poster}" start="{start}" loopstart="{loopstart}" loopend="{loopend}" autobuffer="{autobuffer}" loop="{loop}" style="width:100%;height:100%">','<tpl for="src">','<source src="{src}" type="{type}"/>',"</tpl>","{html}","</video>"],initComponent:function(){var e,t,n=this;if(n.fallbackHTML)e=n.fallbackHTML;else if(e="Your browser does not support HTML5 Video. ",Ext.isChrome)e+="Upgrade Chrome.";else if(Ext.isGecko)e+="Upgrade to Firefox 3.5 or newer.";else{var i='<a href="http://www.google.com/chrome">Chrome</a>';e+='Please try <a href="http://www.mozilla.com">Firefox</a>',Ext.isIE?e+=", "+i+' or <a href="http://www.apple.com/safari/">Safari</a>.':e+=" or "+i+"."}n.fallbackHTML=e,t=n.data=Ext.copyTo({tag:"video",html:e},n,"id,poster,start,loopstart,loopend,playcount,autobuffer,loop"),n.autoplay&&(t.autoplay=1),n.controls&&(t.controls=1),Ext.isArray(n.src)?t.src=n.src:t.src=[{src:n.src}],n.callParent()},afterRender:function(){var e=this;e.callParent(),e.video=e.body.getById(e.id+"-video"),el=e.video.dom,e.supported=el&&"video"==el.tagName.toLowerCase(),e.supported&&e.video.on("error",e.onVideoError,e)},getFallback:function(){return'<h1 style="background-color:#ff4f4f;padding: 10px;">'+this.fallbackHTML+"</h1>"},onVideoError:function(){this.video.remove(),this.supported=!1,this.body.createChild(this.getFallback())},doDestroy:function(){var e=this.video;if(this.supported&&e){var t=e.dom;t&&t.pause&&t.pause(),e.remove(),this.video=null}this.callParent()}}),
/*!
 * Ext JS Library
 * Copyright(c) 2006-2014 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
Ext.define("Ext.ux.desktop.Wallpaper",{extend:"Ext.Component",alias:"widget.wallpaper",cls:"ux-wallpaper",html:'<img src="'+Ext.BLANK_IMAGE_URL+'">',stretch:!1,wallpaper:null,stateful:!0,stateId:"desk-wallpaper",afterRender:function(){this.callParent(),this.setWallpaper(this.wallpaper,this.stretch)},applyState:function(){var e=this,t=e.wallpaper;e.callParent(arguments),t!=e.wallpaper&&e.setWallpaper(e.wallpaper)},getState:function(){return this.wallpaper&&{wallpaper:this.wallpaper}},setWallpaper:function(e,t){var n,i,r=this;return r.stretch=!1!==t,r.wallpaper=e,r.rendered&&(n=r.el.dom.firstChild,e&&e!=Ext.BLANK_IMAGE_URL?r.stretch?(n.src=e,r.el.removeCls("ux-wallpaper-tiled"),Ext.fly(n).setStyle({width:"100%",height:"100%"}).show()):(Ext.fly(n).hide(),i="url("+e+")",r.el.addCls("ux-wallpaper-tiled")):Ext.fly(n).hide(),r.el.setStyle({backgroundImage:i||""}),r.stateful&&r.saveState()),r}}),Ext.define("Ext.ux.event.RecorderManager",{extend:"Ext.panel.Panel",alias:"widget.eventrecordermanager",uses:["Ext.ux.event.Recorder","Ext.ux.event.Player"],layout:"fit",buttonAlign:"left",eventsToIgnore:{mousemove:1,mouseover:1,mouseout:1},bodyBorder:!1,playSpeed:1,initComponent:function(){var e=this;function t(t,n){return{text:t,speed:n,group:"speed",checked:n==e.playSpeed,handler:e.onPlaySpeed,scope:e}}e.recorder=new Ext.ux.event.Recorder({attachTo:e.attachTo,listeners:{add:e.updateEvents,coalesce:e.updateEvents,buffer:200,scope:e}}),e.recorder.eventsToRecord=Ext.apply({},e.recorder.eventsToRecord),e.tbar=[{text:"Record",xtype:"splitbutton",whenIdle:!0,handler:e.onRecord,scope:e,menu:e.makeRecordButtonMenu()},{text:"Play",xtype:"splitbutton",whenIdle:!0,handler:e.onPlay,scope:e,menu:[t("Qarter Speed (0.25x)",.25),t("Half Speed (0.5x)",.5),t("3/4 Speed (0.75x)",.75),"-",t("Recorded Speed (1x)",1),t("Double Speed (2x)",2),t("Quad Speed (4x)",4),"-",t("Full Speed",1e3)]},{text:"Clear",whenIdle:!0,handler:e.onClear,scope:e},"->",{text:"Stop",whenActive:!0,disabled:!0,handler:e.onStop,scope:e}];var n=e.attachTo&&e.attachTo.testEvents;e.items=[{xtype:"textarea",itemId:"eventView",fieldStyle:"font-family: monospace",selectOnFocus:!0,emptyText:"Events go here!",value:n?e.stringifyEvents(n):"",scrollToBottom:function(){var e=this.inputEl.dom;e.scrollTop=e.scrollHeight}}],e.fbar=[{xtype:"tbtext",text:"Attached To: "+(e.attachTo&&e.attachTo.location.href)}],e.callParent()},makeRecordButtonMenu:function(){var e=[],t={},n=this.recorder.eventsToRecord,i=this.eventsToIgnore;function r(e,t){return e.text<t.text?-1:t.text<e.text?1:0}return Ext.Object.each(n,function(r,o){var a=t[o.kind];a||(t[o.kind]=a=[],e.push({text:o.kind,menu:a})),a.push({text:r,checked:!0,handler:function(e){e.checked?n[r]=o:delete n[r]}}),i[r]&&(a[a.length-1].checked=!1,Ext.Function.defer(function(){delete n[r]},1))}),e.sort(r),Ext.Array.each(e,function(e){e.menu.sort(r)}),e},getEventView:function(){return this.down("#eventView")},onClear:function(){this.getEventView().setValue("")},onPlay:function(){var e=this,t=e.getEventView().getValue();t&&(t=Ext.decode(t)).length&&(e.player=Ext.create("Ext.ux.event.Player",{attachTo:window.opener,eventQueue:t,speed:e.playSpeed,listeners:{stop:e.onPlayStop,scope:e}}),e.player.start(),e.syncBtnUI())},onPlayStop:function(){this.player=null,this.syncBtnUI()},onPlaySpeed:function(e){this.playSpeed=e.speed},onRecord:function(){this.recorder.start(),this.syncBtnUI()},onStop:function(){var e=this;e.player?(e.player.stop(),e.player=null):e.recorder.stop(),e.syncBtnUI(),e.updateEvents()},syncBtnUI:function(){var e=this,t=!e.player&&!e.recorder.active;Ext.each(e.query("[whenIdle]"),function(e){e.setDisabled(!t)}),Ext.each(e.query("[whenActive]"),function(e){e.setDisabled(t)}),e.getEventView().setReadOnly(!t)},stringifyEvents:function(e){var t,n=[];return Ext.each(e,function(e){t=[],Ext.Object.each(e,function(e,n){t.length?t.push(", "):t.push("  { "),t.push(e,": "),t.push(Ext.encode(n))}),t.push(" }"),n.push(t.join(""))}),"[\n"+n.join(",\n")+"\n]"},updateEvents:function(){var e=this.stringifyEvents(this.recorder.getRecordedEvents()),t=this.getEventView();t.setValue(e),t.scrollToBottom()}}),Ext.define("Ext.ux.form.MultiSelect",{extend:"Ext.form.FieldContainer",mixins:["Ext.util.StoreHolder","Ext.form.field.Field"],alternateClassName:"Ext.ux.Multiselect",alias:["widget.multiselectfield","widget.multiselect"],requires:["Ext.panel.Panel","Ext.view.BoundList","Ext.layout.container.Fit"],uses:["Ext.view.DragZone","Ext.view.DropZone"],layout:"anchor",ddReorder:!1,appendOnly:!1,displayField:"text",allowBlank:!0,minSelections:0,maxSelections:Number.MAX_VALUE,blankText:"This field is required",minSelectionsText:"Minimum {0} item(s) required",maxSelectionsText:"Maximum {0} item(s) required",delimiter:",",dragText:"{0} Item{1}",ignoreSelectChange:0,pageSize:10,initComponent:function(){var e=this;e.items=e.setupItems(),e.bindStore(e.store,!0),e.callParent(),e.initField()},setupItems:function(){var e=this;return e.boundList=new Ext.view.BoundList(Ext.apply({anchor:"none 100%",border:1,multiSelect:!0,store:e.store,displayField:e.displayField,disabled:e.disabled,tabIndex:0,navigationModel:{type:"default"}},e.listConfig)),e.boundList.getNavigationModel().addKeyBindings({pageUp:e.onKeyPageUp,pageDown:e.onKeyPageDown,scope:e}),e.boundList.getSelectionModel().on("selectionchange",e.onSelectChange,e),e.boundList.pickerField=e,e.title?(e.boundList.border=!1,{xtype:"panel",isAriaRegion:!1,border:!0,anchor:"none 100%",layout:"anchor",title:e.title,tbar:e.tbar,items:e.boundList}):e.boundList},onSelectChange:function(e,t){this.ignoreSelectChange||this.setValue(t)},getSelected:function(){return this.boundList.getSelectionModel().getSelection()},isEqual:function(e,t){var n,i=Ext.Array.from,r=0;if(e=i(e),t=i(t),(n=e.length)!==t.length)return!1;for(;r<n;r++)if(t[r]!==e[r])return!1;return!0},afterRender:function(){var e,t,n=this,i=n.boundList;n.callParent(),n.selectOnRender&&((e=n.getRecordsForValue(n.value)).length&&(++n.ignoreSelectChange,n.boundList.getSelectionModel().select(e),--n.ignoreSelectChange),delete n.toSelect),!n.ddReorder||n.dragGroup||n.dropGroup||(n.dragGroup=n.dropGroup="MultiselectDD-"+Ext.id()),(n.draggable||n.dragGroup)&&(n.dragZone=Ext.create("Ext.view.DragZone",{view:n.boundList,ddGroup:n.dragGroup,dragText:n.dragText})),(n.droppable||n.dropGroup)&&(n.dropZone=Ext.create("Ext.view.DropZone",{view:n.boundList,ddGroup:n.dropGroup,handleNodeDrop:function(e,t,i){var r,o=this.view,a=o.getStore(),s=e.records;e.view.store.remove(s),r=a.indexOf(t),"after"===i&&r++,a.insert(r,s),o.getSelectionModel().select(s),n.fireEvent("drop",n,s)}})),(t=n.down("panel"))&&i&&i.ariaEl.dom.setAttribute("aria-labelledby",t.header.id+"-title-textEl")},onKeyPageUp:function(e){var t,n,i=this.pageSize,r=this.boundList.getNavigationModel();n=(t=r.recordIndex)>i?t-i:0,r.setPosition(n,e)},onKeyPageDown:function(e){var t,n,i,r=this.pageSize,o=this.boundList,a=o.getNavigationModel();t=o.getStore().getCount(),i=(n=a.recordIndex)<t-r?n+r:t-1,a.setPosition(i,e)},isValid:function(){var e=this.disabled;return this.forceValidation||!e?this.validateValue(this.value):e},validateValue:function(e){var t=this.getErrors(e),n=Ext.isEmpty(t);return this.preventMark||(n?this.clearInvalid():this.markInvalid(t)),n},markInvalid:function(e){var t=this.getActiveError();this.setActiveErrors(Ext.Array.from(e)),t!==this.getActiveError()&&this.updateLayout()},clearInvalid:function(){var e=this.hasActiveError();this.unsetActiveError(),e&&this.updateLayout()},getSubmitData:function(){var e,t=this,n=null;return t.disabled||!t.submitValue||t.isFileUpload()||null!==(e=t.getSubmitValue())&&((n={})[t.getName()]=e),n},getSubmitValue:function(){var e=this.delimiter,t=this.getValue();return Ext.isString(e)?t.join(e):t},getValue:function(){return this.value||[]},getRecordsForValue:function(e){var t,n,i,r=[],o=this.store.getRange(),a=this.valueField,s=0,l=o.length;for(i=e.length;s<i;++s)for(n=0;n<l;++n)(t=o[n]).get(a)==e[s]&&r.push(t);return r},setupValue:function(e){var t,n,i,r=this.delimiter,o=this.valueField,a=0;if(Ext.isDefined(e)){for(r&&Ext.isString(e)?e=e.split(r):Ext.isArray(e)||(e=[e]),n=e.length;a<n;++a)(i=e[a])&&i.isModel&&(e[a]=i.get(o));t=Ext.Array.unique(e)}else t=[];return t},setValue:function(e){var t=this,n=t.boundList.getSelectionModel(),i=t.store;i.getCount()?(e=t.setupValue(e),t.mixins.field.setValue.call(t,e),t.rendered?(++t.ignoreSelectChange,n.deselectAll(),e.length&&n.select(t.getRecordsForValue(e)),--t.ignoreSelectChange):t.selectOnRender=!0):i.on({load:Ext.Function.bind(t.setValue,t,[e]),single:!0})},clearValue:function(){this.setValue([])},onEnable:function(){var e=this.boundList;this.callParent(),e&&e.enable()},onDisable:function(){var e=this.boundList;this.callParent(),e&&e.disable()},getErrors:function(e){var t,n=this,i=Ext.String.format,r=[];return t=(e=Ext.Array.from(e||n.getValue())).length,!n.allowBlank&&t<1&&r.push(n.blankText),t<n.minSelections&&r.push(i(n.minSelectionsText,n.minSelections)),t>n.maxSelections&&r.push(i(n.maxSelectionsText,n.maxSelections)),r},doDestroy:function(){var e=this;e.bindStore(null),Ext.destroy(e.dragZone,e.dropZone,e.keyNav),e.callParent()},onBindStore:function(e){var t=this.boundList;e.autoCreated&&this.resolveDisplayField(),Ext.isDefined(this.valueField)||(this.valueField=this.displayField),t&&t.bindStore(e)},resolveDisplayField:function(){var e=this,t=e.boundList,n=e.getStore();e.valueField=e.displayField="field1",n.expanded||(e.displayField="field2"),t&&t.setDisplayField(e.displayField)}}),Ext.define("Ext.ux.form.ItemSelector",{extend:"Ext.ux.form.MultiSelect",alias:["widget.itemselectorfield","widget.itemselector"],alternateClassName:["Ext.ux.ItemSelector"],requires:["Ext.button.Button","Ext.ux.form.MultiSelect"],hideNavIcons:!1,buttons:["top","up","add","remove","down","bottom"],buttonsText:{top:"Move to Top",up:"Move Up",add:"Add to Selected",remove:"Remove from Selected",down:"Move Down",bottom:"Move to Bottom"},layout:{type:"hbox",align:"stretch"},ariaRole:"group",initComponent:function(){var e=this;e.ddGroup=e.id+"-dd",e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-labelledby"]=e.id+"-labelEl",e.callParent(),e.bindStore(e.store)},createList:function(e){var t=this;return Ext.create("Ext.ux.form.MultiSelect",{submitValue:!1,getSubmitData:function(){return null},getModelData:function(){return null},flex:1,dragGroup:t.ddGroup,dropGroup:t.ddGroup,title:e,store:{model:t.store.model,data:[]},displayField:t.displayField,valueField:t.valueField,disabled:t.disabled,listeners:{boundList:{scope:t,itemdblclick:t.onItemDblClick,drop:t.syncValue}}})},setupItems:function(){var e=this;return e.fromField=e.createList(e.fromTitle),e.toField=e.createList(e.toTitle),[e.fromField,{xtype:"toolbar",margin:"0 4",padding:0,layout:{type:"vbox",pack:"center"},items:e.createButtons()},e.toField]},createButtons:function(){var e=this,t=[];return e.hideNavIcons||Ext.Array.forEach(e.buttons,function(n){t.push({xtype:"button",ui:"default",tooltip:e.buttonsText[n],ariaLabel:e.buttonsText[n],handler:e["on"+Ext.String.capitalize(n)+"BtnClick"],cls:Ext.baseCSSPrefix+"form-itemselector-btn",iconCls:Ext.baseCSSPrefix+"form-itemselector-"+n,navBtn:!0,scope:e,margin:"4 0 0 0"})}),t},getSelections:function(e){var t=e.getStore();return Ext.Array.sort(e.getSelectionModel().getSelection(),function(e,n){return(e=t.indexOf(e))<(n=t.indexOf(n))?-1:e>n?1:0})},onTopBtnClick:function(){var e=this.toField.boundList,t=e.getStore(),n=this.getSelections(e);t.suspendEvents(),t.remove(n,!0),t.insert(0,n),t.resumeEvents(),e.refresh(),this.syncValue(),e.getSelectionModel().select(n)},onBottomBtnClick:function(){var e=this.toField.boundList,t=e.getStore(),n=this.getSelections(e);t.suspendEvents(),t.remove(n,!0),t.add(n),t.resumeEvents(),e.refresh(),this.syncValue(),e.getSelectionModel().select(n)},onUpBtnClick:function(){var e,t=this.toField.boundList,n=t.getStore(),i=this.getSelections(t),r=0,o=i.length,a=0;for(n.suspendEvents();r<o;++r,a++)e=i[r],a=Math.max(a,n.indexOf(e)-1),n.remove(e,!0),n.insert(a,e);n.resumeEvents(),t.refresh(),this.syncValue(),t.getSelectionModel().select(i)},onDownBtnClick:function(){var e,t=this.toField.boundList,n=t.getStore(),i=this.getSelections(t),r=i.length-1,o=n.getCount()-1;for(n.suspendEvents();r>-1;--r,o--)e=i[r],o=Math.min(o,n.indexOf(e)+1),n.remove(e,!0),n.insert(o,e);n.resumeEvents(),t.refresh(),this.syncValue(),t.getSelectionModel().select(i)},onAddBtnClick:function(){var e=this.getSelections(this.fromField.boundList);this.moveRec(!0,e),this.toField.boundList.getSelectionModel().select(e)},onRemoveBtnClick:function(){var e=this.getSelections(this.toField.boundList);this.moveRec(!1,e),this.fromField.boundList.getSelectionModel().select(e)},moveRec:function(e,t){var n=this.fromField,i=this.toField,r=e?n.store:i.store,o=e?i.store:n.store;r.suspendEvents(),o.suspendEvents(),r.remove(t),o.add(t),r.resumeEvents(),o.resumeEvents(),n.boundList.containsFocus&&n.boundList.focus(),n.boundList.refresh(),i.boundList.refresh(),this.syncValue()},syncValue:function(){this.mixins.field.setValue.call(this,this.setupValue(this.toField.store.getRange()))},onItemDblClick:function(e,t){this.moveRec(e===this.fromField.boundList,t)},setValue:function(e){var t,n=this,i=n.fromField,r=n.toField,o=i.store,a=r.store;n.fromStorePopulated?(e=n.setupValue(e),n.mixins.field.setValue.call(n,e),t=n.getRecordsForValue(e),o.suspendEvents(),a.suspendEvents(),o.removeAll(),a.removeAll(),n.populateFromStore(n.store),Ext.Array.forEach(t,function(e){o.indexOf(e)>-1&&o.remove(e),a.add(e)}),o.resumeEvents(),a.resumeEvents(),Ext.suspendLayouts(),i.boundList.refresh(),r.boundList.refresh(),Ext.resumeLayouts(!0)):n.fromField.store.on({load:Ext.Function.bind(n.setValue,n,[e]),single:!0})},onBindStore:function(e,t){var n=this,i=n.fromField,r=n.toField;i&&(i.store.removeAll(),r.store.removeAll(),e.autoCreated&&(i.resolveDisplayField(),r.resolveDisplayField(),n.resolveDisplayField()),Ext.isDefined(n.valueField)||(n.valueField=n.displayField),e.getCount()?n.populateFromStore(e):n.store.on("load",n.populateFromStore,n))},populateFromStore:function(e){var t=this.fromField.store;this.fromStorePopulated=!0,t.add(e.getRange()),t.fireEvent("load",t)},onEnable:function(){this.callParent(),this.fromField.enable(),this.toField.enable(),Ext.Array.forEach(this.query("[navBtn]"),function(e){e.enable()})},onDisable:function(){this.callParent(),this.fromField.disable(),this.toField.disable(),Ext.Array.forEach(this.query("[navBtn]"),function(e){e.disable()})},doDestroy:function(){this.bindStore(null),this.callParent()}}),Ext.define("Ext.ux.form.SearchField",{extend:"Ext.form.field.Text",alias:"widget.searchfield",triggers:{clear:{weight:0,cls:Ext.baseCSSPrefix+"form-clear-trigger",hidden:!0,handler:"onClearClick",scope:"this"},search:{weight:1,cls:Ext.baseCSSPrefix+"form-search-trigger",handler:"onSearchClick",scope:"this"}},hasSearch:!1,paramName:"query",initComponent:function(){var e,t=this,n=t.store;t.callParent(arguments),t.on("specialkey",function(e,n){n.getKey()==n.ENTER&&t.onSearchClick()}),n&&n.isStore||(n=t.store=Ext.data.StoreManager.lookup(n)),n.setRemoteFilter(!0),(e=t.store.getProxy()).setFilterParam(t.paramName),e.encodeFilters=function(e){return e[0].getValue()}},onClearClick:function(){var e=this,t=e.activeFilter;t&&(e.setValue(""),e.store.getFilters().remove(t),e.activeFilter=null,e.getTrigger("clear").hide(),e.updateLayout())},onSearchClick:function(){var e=this,t=e.getValue();t.length>0&&(e.activeFilter=new Ext.util.Filter({property:e.paramName,value:t}),e.store.getFilters().add(e.activeFilter),e.getTrigger("clear").show(),e.updateLayout())}}),Ext.define("Ext.ux.grid.SubTable",{extend:"Ext.grid.plugin.RowExpander",alias:"plugin.subtable",rowBodyTpl:['<table class="'+Ext.baseCSSPrefix+'grid-subtable">',"{%","this.owner.renderTable(out, values);","%}","</table>"],init:function(e){var t,n,i,r=this.columns;if(this.callParent(arguments),this.columns=[],r)for(n=0,t=r.length;n<t;++n)(i=Ext.apply({preventRegister:!0},r[n])).xtype=i.xtype||"gridcolumn",this.columns.push(Ext.widget(i))},destroy:function(){var e,t,n=this.columns;if(n)for(t=0,e=n.length;t<e;++t)n[t].destroy();this.columns=null,this.callParent()},getRowBodyFeatureData:function(e,t,n){this.callParent(arguments),n.rowBodyCls+=" "+Ext.baseCSSPrefix+"grid-subtable-row"},renderTable:function(e,t){var n,i,r,o,a,s=this.columns,l=s.length,d=this.getAssociatedRecords(t.record),c=d.length;for(e.push("<thead>"),o=0;o<l;o++)e.push('<th class="'+Ext.baseCSSPrefix+'grid-subtable-header">',s[o].text,"</th>");for(e.push("</thead><tbody>"),r=0;r<c;r++){for(n=d[r],e.push("<tr>"),o=0;o<l;o++)i=s[o],a=n.get(i.dataIndex),i.renderer&&i.renderer.call&&(a=i.renderer.call(i.scope||this,a,{},n)),e.push('<td class="'+Ext.baseCSSPrefix+'grid-subtable-cell"'),null!=i.width&&e.push(' style="width:'+i.width+'px"'),e.push('><div class="'+Ext.baseCSSPrefix+'grid-cell-inner">',a,"</div></td>");e.push("</tr>")}e.push("</tbody>")},getRowBodyContentsFn:function(e){var t=this;return function(n){return e.owner=t,e.applyTemplate(n)}},getAssociatedRecords:function(e){return e[this.association]().getRange()}}),Ext.define("Ext.ux.grid.TransformGrid",{extend:"Ext.grid.Panel",constructor:function(e,t){t=Ext.apply({},t),e=this.table=Ext.get(e);for(var n,i,r,o,a,s=t.fields||[],l=t.columns||[],d=[],c=[],u=e.query("thead th"),h=0,f=u.length,g=e.dom;h<f;++h)o=(r=u[h]).innerHTML,a="tcol-"+h,d.push(Ext.applyIf(s[h]||{},{name:a,mapping:"td:nth("+(h+1)+")/@innerHTML"})),c.push(Ext.applyIf(l[h]||{},{text:o,dataIndex:a,width:r.offsetWidth,tooltip:r.title,sortable:!0}));n=t.width?t.width:e.getWidth()+1,t.height&&(i=t.height),Ext.applyIf(t,{store:{data:g,fields:d,proxy:{type:"memory",reader:{record:"tbody tr",type:"xml"}}},columns:c,width:n,height:i}),this.callParent([t]),!1!==t.remove&&g.parentNode.removeChild(g)},doDestroy:function(){this.table.remove(),this.tabl=null,this.callParent()}}),Ext.define("Ext.ux.grid.plugin.AutoSelector",{extend:"Ext.plugin.Abstract",alias:"plugin.gridautoselector",config:{store:null},init:function(e){e.isXType("tablepanel")||Ext.raise("The gridautoselector plugin is designed only for grids and trees");this.grid=e,this.watchGrid(),e.on({reconfigure:this.watchGrid,scope:this})},destroy:function(){this.setStore(null),this.grid=null,this.callParent()},ensureSelection:function(){var e,t=this.grid;t.getStore().getCount()&&((e=t.getSelection())&&e.length||t.getSelectionModel().select(0))},watchGrid:function(){this.setStore(this.grid.getStore()),this.ensureSelection()},updateStore:function(e){var t=this;Ext.destroy(t.storeListeners),t.storeListeners=e&&e.on({add:t.ensureSelection,remove:t.ensureSelection,destroyable:!0,scope:t})}}),Ext.define("Ext.ux.layout.ResponsiveColumn",{extend:"Ext.layout.container.Auto",alias:"layout.responsivecolumn",states:{small:1e3,large:0},_responsiveCls:Ext.baseCSSPrefix+"responsivecolumn",initLayout:function(){this.innerCtCls+=" "+this._responsiveCls,this.callParent()},beginLayout:function(e){var t,n,i,r=this,o=Ext.Element.getViewportWidth(),a=r.states,s=1/0,l=r.innerCt,d=r._currentState;for(t in a)o<=(n=a[t]||1/0)&&n<=s&&(s=n,i=t);i!==d&&(l.replaceCls(d,i,r._responsiveCls),r._currentState=i),r.callParent(arguments)},onAdd:function(e){this.callParent([e]);var t=e.responsiveCls;t&&e.addCls(t)}},function(e){Ext.isIE8&&e.override({responsiveSizePolicy:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:0},setsItemSize:!0,calculateItems:function(e,t){var n,i,r,o,a=e.targetContext,s=e.childItems,l=s.length,d=t.gotWidth,c=t.width;if(!1===d)return a.domBlock(this,"width"),!1;if(!d)return!0;for(n=0;n<l;++n)i=s[n],o=parseInt(i.el.getStyle("background-position-x"),10),r=parseInt(i.el.getStyle("background-position-y"),10),i.setWidth(o/100*(c-r)-r);return e.setContentWidth(c+e.paddingContext.getPaddingInfo().width),!0},getItemSizePolicy:function(){return this.responsiveSizePolicy}})}),Ext.define("Ext.ux.rating.Picker",{extend:"Ext.Widget",xtype:"rating",focusable:!0,cachedConfig:{family:"monospace",glyphs:"☆★",minimum:1,limit:5,overStyle:null,rounding:1,scale:"125%",selectedStyle:null,tooltip:null,trackOver:!0,value:null,tooltipText:null,trackingValue:null},config:{animate:null},element:{cls:"u"+Ext.baseCSSPrefix+"rating-picker",reference:"element",children:[{reference:"innerEl",cls:"u"+Ext.baseCSSPrefix+"rating-picker-inner",listeners:{click:"onClick",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},children:[{reference:"valueEl",cls:"u"+Ext.baseCSSPrefix+"rating-picker-value"},{reference:"trackerEl",cls:"u"+Ext.baseCSSPrefix+"rating-picker-tracker"}]}]},defaultBindProperty:"value",twoWayBindable:"value",overCls:"u"+Ext.baseCSSPrefix+"rating-picker-over",trackOverCls:"u"+Ext.baseCSSPrefix+"rating-picker-track-over",applyGlyphs:function(e){return"string"==typeof e?(2!==e.length&&Ext.raise('Expected 2 characters for "glyphs" not "'+e+'".'),e=[e.charAt(0),e.charAt(1)]):"number"==typeof e[0]&&(e=[String.fromCharCode(e[0]),String.fromCharCode(e[1])]),e},applyOverStyle:function(e){this.trackerEl.applyStyles(e)},applySelectedStyle:function(e){this.valueEl.applyStyles(e)},applyTooltip:function(e){return e&&"function"!=typeof e&&(e.isTemplate||(e=new Ext.XTemplate(e)),e=e.apply.bind(e)),e},applyTrackingValue:function(e){return this.applyValue(e)},applyValue:function(e){if(null!==e){var t=this.getRounding(),n=this.getLimit(),i=this.getMinimum();e=(e=Math.round(Math.round(e/t)*t*1e3)/1e3)<i?i:e>n?n:e}return e},onClick:function(e){var t=this.valueFromEvent(e);this.setValue(t)},onMouseEnter:function(){this.element.addCls(this.overCls)},onMouseLeave:function(){this.element.removeCls(this.overCls)},onMouseMove:function(e){var t=this.valueFromEvent(e);this.setTrackingValue(t)},updateFamily:function(e){this.element.setStyle("fontFamily","'"+e+"'")},updateGlyphs:function(){this.refreshGlyphs()},updateLimit:function(){this.refreshGlyphs()},updateScale:function(e){this.element.setStyle("fontSize",e)},updateTooltip:function(){this.refreshTooltip()},updateTooltipText:function(e){var t,n=this.innerEl,i=Ext.tip&&Ext.tip.QuickTipManager,r=i&&i.tip;i&&(n.dom.setAttribute("data-qtip",e),this.trackerEl.dom.setAttribute("data-qtip",e),(t=(t=r&&r.activeTarget)&&t.el)&&n.contains(t)&&r.update(e))},updateTrackingValue:function(e){var t=this.trackerEl,n=this.valueToPercent(e);t.setStyle("width",n),this.refreshTooltip()},updateTrackOver:function(e){this.element[e?"addCls":"removeCls"](this.trackOverCls)},updateValue:function(e,t){var n,i,r=this,o=r.getAnimate(),a=r.valueEl,s=r.valueToPercent(e);r.isConfiguring||!o?a.setStyle("width",s):(a.stopAnimation(),a.animate(Ext.merge({from:{width:r.valueToPercent(t)},to:{width:s}},o))),r.refreshTooltip(),r.isConfiguring||(r.hasListeners.change&&r.fireEvent("change",r,e,t),(i=(n=r.getWidgetColumn&&r.getWidgetColumn())&&r.getWidgetRecord&&r.getWidgetRecord())&&n.dataIndex&&i.set(n.dataIndex,e))},afterCachedConfig:function(){return this.refresh(),this.callParent(arguments)},initConfig:function(e){this.isConfiguring=!0,this.callParent([e]),this.refresh()},setConfig:function(){var e=this;return e.isReconfiguring=!0,e.callParent(arguments),e.isReconfiguring=!1,e.refresh(),e},destroy:function(){this.tip=Ext.destroy(this.tip),this.callParent()},privates:{getGlyphTextNode:function(e){var t=e.lastChild;return t&&3===t.nodeType||(t=e.ownerDocument.createTextNode(""),e.appendChild(t)),t},getTooltipData:function(){return{component:this,tracking:this.getTrackingValue(),trackOver:this.getTrackOver(),value:this.getValue()}},refresh:function(){this.invalidGlyphs&&this.refreshGlyphs(!0),this.invalidTooltip&&this.refreshTooltip(!0)},refreshGlyphs:function(e){var t,n,i,r,o,a,s,l=this,d=!e&&(l.isConfiguring||l.isReconfiguring);if(!d){for(t=l.getGlyphTextNode(l.innerEl.dom),s=l.getGlyphTextNode(l.valueEl.dom),a=l.getGlyphTextNode(l.trackerEl.dom),n=l.getGlyphs(),i=l.getLimit(),r=o="";i--;)o+=n[0],r+=n[1];t.nodeValue=o,s.nodeValue=r,a.nodeValue=r}l.invalidGlyphs=d},refreshTooltip:function(e){var t,n=this,i=!e&&(n.isConfiguring||n.isReconfiguring),r=n.getTooltip();i||(r=n.getTooltip())&&(t=r(n.getTooltipData()),n.setTooltipText(t)),n.invalidTooltip=i},valueFromEvent:function(e){var t,n=this.innerEl,i=e.getX(),r=this.getRounding(),o=i-n.getX(),a=n.getWidth(),s=this.getLimit();return this.getInherited().rtl&&(o=a-o),t=o/a*s,t=Math.ceil(t/r)*r},valueToPercent:function(e){return(e=e/this.getLimit()*100)+"%"}}}),Ext.define("Ext.ux.statusbar.ValidationStatus",{extend:"Ext.Component",alias:"plugin.validationstatus",requires:["Ext.util.MixedCollection"],errorIconCls:"x-status-error",errorListCls:"x-status-error-list",validIconCls:"x-status-valid",showText:"The form has errors (click for details...)",hideText:"Click again to hide the error list",submitText:"Saving...",init:function(e){var t=this;t.statusBar=e,e.on({single:!0,scope:t,render:t.onStatusbarRender}),e.on({click:{element:"el",fn:t.onStatusClick,scope:t,buffer:200}})},onStatusbarRender:function(e){var t=this,n=function(){t.monitor=!0};t.monitor=!0,t.errors=Ext.create("Ext.util.MixedCollection"),t.listAlign="right"===e.statusAlign?"br-tr?":"bl-tl?",t.form&&(t.formPanel=Ext.getCmp(t.form)||t.statusBar.lookupController().lookupReference(t.form),t.basicForm=t.formPanel.getForm(),t.startMonitoring(),t.basicForm.on({beforeaction:function(e,n){"submit"===n.type&&(t.monitor=!1)}}),t.formPanel.on({beforedestroy:t.destroy,scope:t}),t.basicForm.on("actioncomplete",n),t.basicForm.on("actionfailed",n))},startMonitoring:function(){this.basicForm.getFields().each(function(e){e.on("validitychange",this.onFieldValidation,this)},this)},stopMonitoring:function(){var e=this.basicForm;e.destroyed||e.getFields().each(function(e){e.un("validitychange",this.onFieldValidation,this)},this)},doDestroy:function(){Ext.destroy(this.msgEl),this.stopMonitoring(),this.statusBar.statusEl.un("click",this.onStatusClick,this),this.callParent()},onFieldValidation:function(e,t){var n,i=this;if(!i.monitor)return!1;(n=e.getErrors()[0])?i.errors.add(e.id,{field:e,msg:n}):i.errors.removeAtKey(e.id),this.updateErrorList(),i.errors.getCount()>0?i.statusBar.getText()!==i.showText&&i.statusBar.setStatus({text:i.showText,iconCls:i.errorIconCls}):i.statusBar.clearStatus().setIcon(i.validIconCls)},updateErrorList:function(){var e,t=this.getMsgEl();this.errors.getCount()>0?(e=["<ul>"],this.errors.each(function(t){e.push('<li id="x-err-',t.field.id,'"><a href="#">',t.msg,"</a></li>")}),e.push("</ul>"),t.update(e.join(""))):t.update(""),t.setSize("auto","auto")},getMsgEl:function(){var e,t=this,n=t.msgEl;return n||((n=t.msgEl=Ext.DomHelper.append(Ext.getBody(),{cls:t.errorListCls},!0)).hide(),n.on("click",function(n){(e=n.getTarget("li",10,!0))&&(Ext.getCmp(e.id.split("x-err-")[1]).focus(),t.hideErrors())},null,{stopEvent:!0})),n},showErrors:function(){var e=this;e.updateErrorList(),e.getMsgEl().alignTo(e.statusBar.getEl(),e.listAlign).slideIn("b",{duration:300,easing:"easeOut"}),e.statusBar.setText(e.hideText),e.formPanel.body.on("click",e.hideErrors,e,{single:!0})},hideErrors:function(){var e=this.getMsgEl();e.isVisible()&&(e.slideOut("b",{duration:300,easing:"easeIn"}),this.statusBar.setText(this.showText)),this.formPanel.body.un("click",this.hideErrors,this)},onStatusClick:function(){this.getMsgEl().isVisible()?this.hideErrors():this.errors.getCount()>0&&this.showErrors()}})},function(e,t){Ext.define("Ext.theme.classic.Component",{override:"Ext.Component"},function(){Ext.namespace("Ext.theme.is").Classic=!0,Ext.theme.name="Classic"}),Ext.define("Ext.classic.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",defaultFieldUI:"toolbar"}),Ext.define("Ext.theme.classic.grid.column.Widget",{override:"Ext.grid.column.Widget",config:{defaultWidgetUI:{button:"grid-cell",splitbutton:"grid-cell",cyclebutton:"grid-cell",textfield:"grid-cell",pickerfield:"grid-cell",combobox:"grid-cell",combo:"grid-cell",datefield:"grid-cell",timefield:"grid-cell",filefield:"grid-cell",fileuploadfield:"grid-cell",sliderwidget:"grid-cell"}}}),Ext.define("Ext.theme.classic.grid.plugin.Editing",{override:"Ext.grid.plugin.Editing",defaultFieldUI:"grid-cell"}),Ext.define("Ext.theme.classic.toolbar.Breadcrumb",{override:"Ext.toolbar.Breadcrumb",config:{buttonUI:"default-toolbar"}})},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,d=[],c=!1,u=-1;function h(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||c||s(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,l=1,d={},c=!1,u=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){g(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){g(e.data)},i=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,i=function(e){var t=u.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(g,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&g(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return d[l]=r,i(l),l++},h.clearImmediate=f}function f(e){delete d[e]}function g(e){if(c)setTimeout(g,0,e);else{var t=d[e];if(t){c=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(9))},function(module,exports,__webpack_require__){(function(setImmediate,clearImmediate){var Ext=Ext||{},slice,bind;Ext.Boot=Ext.Boot||function(e){var t=document,n=[],i={disableCaching:!(/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(t.cookie)),disableCachingParam:"_dc",loadDelay:!1,preserveScripts:!0,charset:"UTF-8"},r=/\.css(?:\?|$)/i,o=t.createElement("a"),a="undefined"!=typeof window,s={browser:a,node:!a&&!0,phantom:window&&(window._phantom||window.callPhantom)||/PhantomJS/.test(window.navigator.userAgent)},l=Ext.platformTags={},d=function(e,t,n){if(n&&d(e,n),e&&t&&"object"==typeof t)for(var i in t)e[i]=t[i];return e},c=function(){var e,t,n,i,r=!1,o=Array.prototype.shift.call(arguments);for("boolean"==typeof arguments[arguments.length-1]&&(r=Array.prototype.pop.call(arguments)),n=arguments.length,e=0;e<n;e++)if("object"==typeof(i=arguments[e]))for(t in i)o[r?t.toLowerCase():t]=i[t];return o},u="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},h={loading:0,loaded:0,apply:d,env:s,config:i,assetConfig:{},scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,debug:function(e){},useElements:!0,listeners:[],Request:f,Entry:g,allowMultipleBrowsers:!1,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",edge:"Edge",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},osNames:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chromeOS:"ChromeOS",other:"Other"},browserPrefixes:{ie:"MSIE ",edge:"Edge/",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},browserPriority:["edge","opera","dolfin","webosbrowser","silk","chromeiOS","chromeMobile","ie","firefox","safari","chrome"],osPrefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chromeOS:"CrOS "},fallbackOSPrefixes:{windows:"win",mac:"mac",linux:"linux"},devicePrefixes:{iPhone:"iPhone",iPod:"iPod",iPad:"iPad"},maxIEVersion:12,detectPlatformTags:function(){var e=this,t=navigator.userAgent,n=/Mobile(\/|\s)/.test(t),i=document.createElement("div"),r=function(){var n,i,r,o,a,s,l,d,c,u={};for(s=e.browserPriority.length,a=0;a<s;a++)o=e.browserPriority[a],c?d=0:(r=e.browserPrefixes[o],(d=(l=t.match(new RegExp("("+r+")([\\w\\._]+)")))&&l.length>1?parseInt(l[2]):0)&&(c=!0)),u[o]=d;if(u.ie){var h=document.documentMode;h>=8&&(u.ie=h)}for(d=u.ie||!1,n=Math.max(d,e.maxIEVersion),a=8;a<=n;++a)u[(i="ie"+a)+"m"]=d?d<=a:0,u[i]=d?d===a:0,u[i+"p"]=d?d>=a:0;return u}(),o=function(){var n,i,r,o,a,s,l,d,c,h={};for(a=(r=u(e.osPrefixes)).length,o=0,c=0;o<a;o++)i=r[o],n=e.osPrefixes[i],(d=!(l=(s=t.match(new RegExp("("+n+")([^\\s;]+)")))?s[1]:null)||"HTC_"!==l&&"Silk/"!==l?s&&s.length>1?parseFloat(s[s.length-1]):0:2.3)&&c++,h[i]=d;for(a=(r=u(e.fallbackOSPrefixes)).length,o=0;o<a;o++)i=r[o],0===c?(n=e.fallbackOSPrefixes[i],s=t.toLowerCase().match(new RegExp(n)),h[i]=!!s||0):h[i]=0;return h}(),a=function(){var n,i,r,o,a,s,l={};for(a=(r=u(e.devicePrefixes)).length,o=0;o<a;o++)i=r[o],n=e.devicePrefixes[i],s=t.match(new RegExp(n)),l[i]=!!s||0;return l}(),s=h.loadPlatformsParam();c(l,r,o,a,s,!0),l.phone=!!(l.iphone||l.ipod||!l.silk&&l.android&&(l.android<3||n)||l.blackberry&&n||l.windowsphone),l.tablet=!(l.phone||!(l.ipad||l.android||l.silk||l.rimtablet||l.ie10&&/; Touch/.test(t))),l.touch=function(e,t){void 0===t&&(t=window);var n="on"+e.toLowerCase(),r=n in i;return r||i.setAttribute&&i.removeAttribute&&(i.setAttribute(n,""),r="function"==typeof i[n],void 0!==i[n]&&(i[n]=void 0),i.removeAttribute(n)),r}("touchend")||navigator.maxTouchPoints||navigator.msMaxTouchPoints,l.desktop=!l.phone&&!l.tablet,l.cordova=l.phonegap=!!(window.PhoneGap||window.Cordova||window.cordova),l.webview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(t),l.androidstock=l.android<=4.3&&(l.safari||l.silk),c(l,s,!0)},loadPlatformsParam:function(){var e,t,n,i,r,o,a=window.location.search.substr(1).split("&"),s={},l={};for(e=0;e<a.length;e++)s[(t=a[e].split("="))[0]]=t[1];if(s.platformTags)for(n=(t=s.platformTags.split(",")).length,e=0;e<n;e++)r=(i=t[e].split(":"))[0],o=!0,i.length>1&&("false"!==(o=i[1])&&"0"!==o||(o=!1)),l[r]=o;return l},filterPlatform:function(e,t){e=n.concat(e||n),t=n.concat(t||n);var i,r,o=e.length,a=t.length,s=!o&&a;for(i=0;i<o&&!s;i++)r=e[i],s=!!l[r];for(i=0;i<a&&s;i++)r=t[i],s=!l[r];return s},init:function(){var e,n,i,r,o,a,s=t.getElementsByTagName("script"),l=s[0],d=s.length,c=/\/ext(\-[a-z\-]+)?\.js$/;h.hasReadyState="readyState"in l,h.hasAsync="async"in l,h.hasDefer="defer"in l,h.hasOnLoad="onload"in l,h.isIE8=h.hasReadyState&&!h.hasAsync&&h.hasDefer&&!h.hasOnLoad,h.isIE9=h.hasReadyState&&!h.hasAsync&&h.hasDefer&&h.hasOnLoad,h.isIE10p=h.hasReadyState&&h.hasAsync&&h.hasDefer&&h.hasOnLoad,h.isIE10=10===new Function("/*@cc_on return @_jscript_version @*/")(),h.isIE10m=h.isIE10||h.isIE9||h.isIE8,h.isIE11=h.isIE10p&&!h.isIE10;for(o=0;o<d;o++)(e=(l=s[o]).src)&&(n=l.readyState||null,!i&&c.test(e)&&(i=e),h.scripts[r=h.canonicalUrl(e)]||new g({key:r,url:e,done:null===n||"loaded"===n||"complete"===n,el:l,prop:"src"}));i||(i=(l=s[s.length-1]).src),h.baseUrl=i.substring(0,i.lastIndexOf("/")+1),a=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),h.origin=a,h.detectPlatformTags(),Ext.filterPlatform=h.filterPlatform},canonicalUrl:function(e){o.href=e;var t,n,r=o.href,a=i.disableCachingParam,s=a?r.indexOf(a+"="):-1;return s>0&&("?"===(t=r.charAt(s-1))||"&"===t)&&((n=(n=r.indexOf("&",s))<0?"":r.substring(n))&&"?"===t&&(++s,n=n.substring(1)),r=r.substring(0,s-1)+n),r},getConfig:function(e){return e?h.config[e]:h.config},setConfig:function(e,t){if("string"==typeof e)h.config[e]=t;else for(var n in e)h.setConfig(n,e[n]);return h},getHead:function(){return h.docHead||(h.docHead=t.head||t.getElementsByTagName("head")[0])},create:function(e,t,n){var i=n||{};return i.url=e,i.key=t,h.scripts[t]=new g(i)},getEntry:function(e,t,n){var i,r;return i=n?e:h.canonicalUrl(e),(r=h.scripts[i])||(r=h.create(e,i,t),n&&(r.canonicalPath=!0)),r},registerContent:function(e,t,n){var i={content:n,loaded:!0,css:"css"===t};return h.getEntry(e,i)},processRequest:function(e,t){e.loadEntries(t)},load:function(e){return(e=new f(e)).sync||h.syncMode?h.loadSync(e):(h.currentRequest?(e.getEntries(),h.suspendedQueue.push(e)):(h.currentRequest=e,h.processRequest(e,!1)),h)},loadSync:function(e){e=new f(e);return h.syncMode++,h.processRequest(e,!0),h.syncMode--,h},loadBasePrefix:function(e){return(e=new f(e)).prependBaseUrl=!0,h.load(e)},loadSyncBasePrefix:function(e){return(e=new f(e)).prependBaseUrl=!0,h.loadSync(e)},requestComplete:function(e){var t;if(h.currentRequest===e)for(h.currentRequest=null;h.suspendedQueue.length>0;)if(!(t=h.suspendedQueue.shift()).done){h.load(t);break}h.currentRequest||0!=h.suspendedQueue.length||h.fireListeners()},isLoading:function(){return!h.currentRequest&&0==h.suspendedQueue.length},fireListeners:function(){for(var e;h.isLoading()&&(e=h.listeners.shift());)e()},onBootReady:function(e){h.isLoading()?h.listeners.push(e):e()},getPathsFromIndexes:function(e,t){if(!("length"in e)){var n,i=[];for(n in e)isNaN(+n)||(i[+n]=e[n]);e=i}return f.prototype.getPathsFromIndexes(e,t)},createLoadOrderMap:function(e){return f.prototype.createLoadOrderMap(e)},fetch:function(t,n,i,r){r=void 0===r?!!n:r;var o,a,s,l=new XMLHttpRequest,d=!1,c=function(){l&&4==l.readyState&&(a=1223===l.status?204:0!==l.status||"file:"!==(self.location||{}).protocol&&"ionp:"!==(self.location||{}).protocol?l.status:200,s=l.responseText,o={content:s,status:a,exception:d},n&&n.call(i,o),l.onreadystatechange=e,l=null)};r&&(l.onreadystatechange=c);try{l.open("GET",t,r),l.send(null)}catch(e){return d=e,c(),o}return r||c(),o},notifyAll:function(e){e.notifyRequests()}};function f(e){if(e.$isRequest)return e;var t=(e=e.url?e:{url:e}).url,n=t.charAt?[t]:t,i=e.charset||h.config.charset;d(this,e),delete this.url,this.urls=n,this.charset=i}function g(e){if(e.$isEntry)return e;var t,n=e.charset||h.config.charset,i=Ext.manifest,r=i&&i.loader,o=void 0!==e.cache?e.cache:r&&r.cache;h.config.disableCaching&&(void 0===o&&(o=!h.config.disableCaching),!1===o?t=+new Date:!0!==o&&(t=o),t&&(t=(r&&r.cacheParam||h.config.disableCachingParam)+"="+t)),d(this,e),this.charset=n,this.buster=t,this.requests=[]}return f.prototype={$isRequest:!0,createLoadOrderMap:function(e){var t,n,i=e.length,r={};for(t=0;t<i;t++)r[(n=e[t]).path]=n;return r},getLoadIndexes:function(e,t,n,i,r){var o,a,s,l,d,c=[],u=[e],f=e.idx;if(t[f])return c;for(t[f]=c[f]=!0;e=u.shift();)if(o=e.canonicalPath?h.getEntry(e.path,null,!0):h.getEntry(this.prepareUrl(e.path)),!r||!o.done)for(l=0,d=(a=i&&e.uses&&e.uses.length?e.requires.concat(e.uses):e.requires).length;l<d;l++)t[s=a[l]]||(t[s]=c[s]=!0,u.push(n[s]));return c},getPathsFromIndexes:function(e,t){var n,i,r=[];for(n=0,i=e.length;n<i;n++)e[n]&&r.push(t[n].path);return r},expandUrl:function(e,t,n,i,r,o){var a,s;return t&&(a=n[e])&&(s=this.getLoadIndexes(a,i,t,r,o)).length?this.getPathsFromIndexes(s,t):[e]},expandUrls:function(e,t){var n,i,r,o,a,s,l,d=this.loadOrder,c=[],u={},h=[];for("string"==typeof e&&(e=[e]),d&&((n=this.loadOrderMap)||(n=this.loadOrderMap=this.createLoadOrderMap(d))),r=0,o=e.length;r<o;r++)for(a=0,s=(i=this.expandUrl(e[r],d,n,h,t,!1)).length;a<s;a++)u[l=i[a]]||(u[l]=!0,c.push(l));return 0===c.length&&(c=e),c},expandLoadOrder:function(){var e,t=this,n=t.urls;return t.expanded?e=n:(e=this.expandUrls(n,!0),t.expanded=!0),t.urls=e,n.length!=e.length&&(t.sequential=!0),t},getUrls:function(){return this.expandLoadOrder(),this.urls},prepareUrl:function(e){return this.prependBaseUrl?h.baseUrl+e:e},getEntries:function(){var e,t,n,i,r,o,a=this,s=a.entries;if(!s){for(s=[],r=a.getUrls(),a.loadOrder&&(e=a.loadOrderMap),n=0;n<r.length;n++)o=a.prepareUrl(r[n]),e&&(t=e[o]),(i=h.getEntry(o,{buster:a.buster,charset:a.charset},t&&t.canonicalPath)).requests.push(a),s.push(i);a.entries=s}return s},loadEntries:function(e){var t,n,i,r=this,o=(t=r.getEntries()).length,a=r.loadStart||0;for(void 0!==e&&(r.sync=e),r.loaded=r.loaded||0,r.loading=r.loading||o,i=a;i<o;i++)if(!(!!(n=t[i]).loaded||t[i].load(r.sync))){r.loadStart=i,n.onDone(function(){r.loadEntries(e)});break}r.processLoadedEntries()},processLoadedEntries:function(){var e,t,n=this,i=n.getEntries(),r=i.length,o=n.startIndex||0;if(!n.done){for(e=o;e<r;e++){if(!(t=i[e]).loaded)return void(n.startIndex=e);t.evaluated||t.evaluate(),t.error&&(n.error=!0)}n.notify()}},notify:function(){var e=this;if(!e.done){var t=e.error,n=e[t?"failure":"success"],i="delay"in e?e.delay:t?1:h.config.chainDelay,r=e.scope||e;e.done=!0,n&&(0===i||i>0?setTimeout(function(){n.call(r,e)},i):n.call(r,e)),e.fireListeners(),h.requestComplete(e)}},onDone:function(e){var t=this.listeners||(this.listeners=[]);this.done?e(this):t.push(e)},fireListeners:function(){var e,t=this.listeners;if(t)for(;e=t.shift();)e(this)}},g.prototype={$isEntry:!0,done:!1,evaluated:!1,loaded:!1,isCrossDomain:function(){return void 0===this.crossDomain&&(this.crossDomain=0!==this.getLoadUrl().indexOf(h.origin)),this.crossDomain},isCss:function(){var e=this;if(void 0===e.css)if(e.url){var t=h.assetConfig[e.url];e.css=t?"css"===t.type:r.test(e.url)}else e.css=!1;return this.css},getElement:function(e){var n=this,i=n.el;return i||(n.isCss()?(e=e||"link",i=t.createElement(e),"link"==e?(i.rel="stylesheet",n.prop="href"):n.prop="textContent",i.type="text/css"):(e=e||"script",(i=t.createElement(e)).type="text/javascript",n.prop="src",n.charset&&(i.charset=n.charset),h.hasAsync&&(i.async=!1)),n.el=i),i},getLoadUrl:function(){var e,t=this;return e=t.canonicalPath?t.url:h.canonicalUrl(t.url),t.loadUrl||(t.loadUrl=t.buster?e+(-1===e.indexOf("?")?"?":"&")+t.buster:e),t.loadUrl},fetch:function(e){var t=this.getLoadUrl(),n=!!e.async,i=e.complete;h.fetch(t,i,this,n)},onContentLoaded:function(e){var t=this,n=e.status,i=e.content,r=e.exception,o=this.getLoadUrl();t.loaded=!0,!r&&0!==n||s.phantom?n>=200&&n<300||304===n||s.phantom||0===n&&i.length>0?t.content=i:(t.error="Failed loading synchronously via XHR: '"+o+"'. Please verify that the file exists. XHR status code: "+n||!0,t.evaluated=!0):(t.error="Failed loading synchronously via XHR: '"+o+"'. It's likely that the file is either being loaded from a different domain or from the local file system where cross origin requests are not allowed for security reasons. Try asynchronous loading instead."||!0,t.evaluated=!0)},createLoadElement:function(e){var t=this,n=t.getElement();t.preserve=!0,n.onerror=function(){t.error=!0,e&&(e(),e=null)},h.isIE10m?n.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||e&&(e(),e=this.onreadystatechange=this.onerror=null)}:n.onload=function(){e(),e=this.onload=this.onerror=null},n[t.prop]=t.getLoadUrl()},onLoadElementReady:function(){h.getHead().appendChild(this.getElement()),this.evaluated=!0},inject:function(e,n){var i,r,o,a,s=this,l=h.getHead(),d=s.url,c=s.key;return s.isCss()?(s.preserve=!0,a=c.substring(0,c.lastIndexOf("/")+1),(i=t.createElement("base")).href=a,l.firstChild?l.insertBefore(i,l.firstChild):l.appendChild(i),i.href=i.href,d&&(e+="\n/*# sourceURL="+c+" */"),o="styleSheet"in(r=s.getElement("style")),l.appendChild(i),o?(l.appendChild(r),r.styleSheet.cssText=e):(r.textContent=e,l.appendChild(r)),l.removeChild(i)):(d&&(e+="\n//# sourceURL="+c),Ext.globalEval(e)),s},loadCrossDomain:function(){var t=this;return t.createLoadElement(function(){t.el.onerror=t.el.onload=e,t.el=null,t.loaded=t.evaluated=t.done=!0,t.notifyRequests()}),t.evaluateLoadElement(),!1},loadElement:function(){var t=this;return t.createLoadElement(function(){t.el.onerror=t.el.onload=e,t.el=null,t.loaded=t.evaluated=t.done=!0,t.notifyRequests()}),t.evaluateLoadElement(),!0},loadSync:function(){var e=this;e.fetch({async:!1,complete:function(t){e.onContentLoaded(t)}}),e.evaluate(),e.notifyRequests()},load:function(e){var t=this;if(!t.loaded){if(t.loading)return!1;if(t.loading=!0,e)t.loadSync();else{if(h.isIE10||t.isCrossDomain())return t.loadCrossDomain();if(!t.isCss()&&h.hasReadyState)t.createLoadElement(function(){t.loaded=!0,t.notifyRequests()});else{if(!(!h.useElements||t.isCss()&&s.phantom))return t.loadElement();t.fetch({async:!e,complete:function(e){t.onContentLoaded(e),t.notifyRequests()}})}}}return!0},evaluateContent:function(){this.inject(this.content),this.content=null},evaluateLoadElement:function(){h.getHead().appendChild(this.getElement())},evaluate:function(){var e=this;if(!e.evaluated){if(e.evaluating)return;e.evaluating=!0,void 0!==e.content?e.evaluateContent():e.error||e.evaluateLoadElement(),e.evaluated=e.done=!0,e.cleanup()}},cleanup:function(){var t,n=this.el;if(n){if(!this.preserve)for(t in this.el=null,n.parentNode.removeChild(n),n)try{t!==this.prop&&(n[t]=null),delete n[t]}catch(e){}n.onload=n.onerror=n.onreadystatechange=e}},notifyRequests:function(){var e,t=this.requests,n=t.length;for(e=0;e<n;e++)t[e].processLoadedEntries();this.done&&this.fireListeners()},onDone:function(e){var t=this.listeners||(this.listeners=[]);this.done?e(this):t.push(e)},fireListeners:function(){var e,t=this.listeners;if(t&&t.length>0)for(;e=t.shift();)e(this)}},Ext.disableCacheBuster=function(e,n){var i=new Date;i.setTime(i.getTime()+24*(e?3650:-1)*60*60*1e3),i=i.toGMTString(),t.cookie="ext-cache=1; expires="+i+"; path="+(n||"/")},h.init(),h}(function(){}),
//(eval("/*@cc_on!@*/!1"));
Ext.globalEval=Ext.globalEval||(this.execScript?function(e){execScript(e)}:function(e){eval.call(window,e)}),Function.prototype.bind||(slice=Array.prototype.slice,bind=function(e){var t=slice.call(arguments,1),n=this;return t.length?function(){var i=arguments;return n.apply(e,i.length?t.concat(slice.call(i)):t)}:(t=null,function(){return n.apply(e,arguments)})},Function.prototype.bind=bind,bind.$extjs=!0),Ext.setResourcePath=function(e,t){var n=Ext.manifest||(Ext.manifest={}),i=n.resources||(n.resources={});n&&("string"!=typeof e?Ext.apply(i,e):i[e]=t,n.resources=i)},Ext.getResourcePath=function(e,t,n){"string"!=typeof e&&(t=e.pool,n=e.packageName,e=e.path);var i=Ext.manifest,r=i&&i.resources,o=r[t],a=[];return null==o&&null==(o=r.path)&&(o="resources"),o&&a.push(o),n&&a.push(n),a.push(e),a.join("/")};var Ext=Ext||{},charToEntity,entityToChar,charToEntityRegex,entityToCharRegex,ExtString,trimRegex,escapeRe,escapeRegexRe,basicTrimRe,whitespaceRe,varReplace,htmlEncodeReplaceFn,htmlDecodeReplaceFn,boundsCheck,fromCharCode,animFrameId,lastTime,animFrameHandlers,animFrameNoArgs,idSource,animFrameMap,win,global,hasImmediate,requestAnimFrame,fireHandlers,fireElevatedHandlers,ExtFunction,check,TemplateClass,queryRe,keyRe,nameRe,plusRe,ExtObject,nullLog,nonWhitespaceRe,toString,typeofTypes,toStringTypes,objectConstructor,inlineOverrides,validIdRe,escapeRx,leadingNumRx,escapeFn,numEscapeFn,Version,checkVerTemp,endOfVersionRe,notDigitsRe,plusMinusRe,stripRe,underscoreRe,toolkitNames,Cache,prototype,userAgent,Ready,property,style,instance,re,tableRe,tableElRe,ts,te,tbs,tbe,ratio,alpha,alphanum,email,url;!function(){var e,t,n=this,i=Object.prototype.toString,r=["valueOf","toLocaleString","toString","constructor"],o=function(){},a=function(){},s=function(e){return e},l=function(){var e=l.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},d=Ext.manifest||{},c=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,u=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;for(e in Ext.global=n,Ext.now=Date.now||(Date.now=function(){return+new Date}),Ext.ticks=n.performance&&n.performance.now?function(){return performance.now()}:Ext.now,Ext._startTime=Ext.ticks(),o.$nullFn=s.$nullFn=o.$emptyFn=s.$identityFn=a.$nullFn=!0,a.$privacy="framework",o.$noClearOnDestroy=s.$noClearOnDestroy=!0,a.$noClearOnDestroy=!0,Ext.suspendLayouts=Ext.resumeLayouts=o,{toString:1})r=null;function h(e,t,n){var i,r;for(i in n)n.hasOwnProperty(i)&&("function"==typeof(r=n[i])&&(t.$className&&(r.name=t.$className+"#"+i),r.$name=i,r.$owner=t,r.$previous=e.hasOwnProperty(i)?e[i]:l),e[i]=r)}Ext.enumerables=r,Ext.apply=function(e,t,n){if(n&&Ext.apply(e,n),e&&t&&"object"==typeof t){var i,o,a;for(i in t)e[i]=t[i];if(r)for(o=r.length;o--;)a=r[o],t.hasOwnProperty(a)&&(e[a]=t[a])}return e},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||"Ext",privateFn:a,emptyFn:o,identityFn:s,frameStartTime:Ext.now(),manifest:d,debugConfig:Ext.debugConfig||d.debug||{hooks:{"*":!0}},enableAria:!0,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(e){return Ext.validIdRe.test(e)||Ext.raise('Invalid id selector: "'+e+'"'),"#"+e},id:function(e,t){if(e&&e.id)return e.id;var n=(t||Ext.idPrefix)+ ++Ext.idSeed;return e&&(e.id=n),n},returnId:function(e){return e.getId()},returnTrue:function(){return!0},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(e){return Ext.$eventNameMap[e]||(Ext.$eventNameMap[e]=Ext.$vendorEventRe.test(e)?e:e.toLowerCase())},applyIf:function(e,t){var n;if(e)for(n in t)void 0===e[n]&&(e[n]=t[n]);return e},destroy:function(){var e,t,n=arguments.length;for(e=0;e<n;e++)(t=arguments[e])&&(Ext.isArray(t)?this.destroy.apply(this,t):Ext.isFunction(t.destroy)&&t.destroy());return null},destroyMembers:function(e){for(var t,n,i=1,r=arguments,o=r.length;i<o;i++)null!=(t=e[n=r[i]])&&(e[n]=Ext.destroy(t))},override:function(e,t){if(e.$isClass)e.override(t);else if("function"==typeof e)Ext.apply(e.prototype,t);else{var n,i=e.self;i&&i.$isClass?((n=t.privates)&&(delete(t=Ext.apply({},t)).privates,h(e,i,n)),h(e,i,t)):Ext.apply(e,t)}return e},valueFrom:function(e,t,n){return Ext.isEmpty(e,n)?t:e},isEmpty:function(e,t){return null==e||!t&&""===e||Ext.isArray(e)&&0===e.length},isArray:"isArray"in Array?Array.isArray:function(e){return"[object Array]"===i.call(e)},isDate:function(e){return"[object Date]"===i.call(e)},isMSDate:function(e){return!!Ext.isString(e)&&u.test(e)},isObject:"[object Object]"===i.call(null)?function(e){return null!==e&&void 0!==e&&"[object Object]"===i.call(e)&&void 0===e.ownerDocument}:function(e){return"[object Object]"===i.call(e)},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return!!e&&"[object Function]"===i.call(e)}:function(e){return!!e&&"function"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return!!e&&1===e.nodeType},isTextNode:function(e){return!!e&&"#text"===e.nodeName},isDefined:function(e){return void 0!==e},isIterable:function(e){return!(!e||"number"!=typeof e.length||"string"==typeof e||Ext.isFunction(e))&&(e.propertyIsEnumerable?!(!e.hasOwnProperty("length")||e.propertyIsEnumerable("length"))||c.test(i.call(e)):!!e.item)},isDebugEnabled:function(e,t){var n=Ext.debugConfig.hooks;if(n.hasOwnProperty(e))return n[e];var i=n["*"],r=0;if(void 0!==t&&(i=t),!e)return i;for(var o in n){var a=n[o];"."===e.charAt(o.length)&&e.substring(0,o.length)===o&&r<o.length&&(r=o.length,i=a)}return i}||o,clone:function(e,t){if(null===e||void 0===e)return e;if(!1!==t&&e.nodeType&&e.cloneNode)return e.cloneNode(!0);var n,o,a,s,l,d=i.call(e);if("[object Date]"===d)return new Date(e.getTime());if("[object Array]"===d)for(n=e.length,s=[];n--;)s[n]=Ext.clone(e[n],t);else if("[object Object]"===d&&e.constructor===Object){for(l in s={},e)s[l]=Ext.clone(e[l],t);if(r)for(o=r.length;o--;)a=r[o],e.hasOwnProperty(a)&&(s[a]=e[a])}return s||e},getUniqueGlobalNamespace:function(){var e,t=this.uniqueGlobalNamespace;if(void 0===t){e=0;do{t="ExtBox"+ ++e}while(void 0!==n[t]);n[t]=Ext,this.uniqueGlobalNamespace=t}return t},functionFactoryCache:{},cacheableFunctionFactory:function(){var e,t,n,i=Array.prototype.slice.call(arguments),r=this.functionFactoryCache;return Ext.isSandboxed&&(n=i.length)>0&&(i[--n]="var Ext=window."+Ext.name+";"+i[n]),(t=r[e=i.join("")])||(t=Function.prototype.constructor.apply(Function.prototype,i),r[e]=t),t},functionFactory:function(){var e,t=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(e=t.length)>0&&(t[--e]="var Ext=window."+Ext.name+";"+t[e]),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{log:function(e,t){e&&n.console&&(t&&t in n.console||(t="log"),e="["+t.toUpperCase()+"] "+e,n.console[t](e))},verbose:function(e){this.log(e,"verbose")},info:function(e){this.log(e,"info")},warn:function(e){this.log(e,"warn")},error:function(e){throw new Error(e)},deprecate:function(e){this.log(e,"warn")}}||{verbose:o,log:o,info:o,warn:o,error:function(e){throw new Error(e)},deprecate:o},ariaWarn:function(e,t){Ext.enableAria&&!Ext.slicer&&(Ext.ariaWarn.first||(Ext.ariaWarn.first=!0,Ext.log.warn("WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:"),Ext.log.warn("    Ext.ariaWarn = Ext.emptyFn;")),Ext.log.warn({msg:t,dump:e}))},getElementById:function(e){return document.getElementById(e)},splitAndUnescape:(t={},function(e,n){if(!e)return[];if(!n)return[e];var i,r,o=t[n]||(t[n]=new RegExp("\\\\"+n,"g")),a=[];for(i=e.split(n);void 0!==(r=i.shift());){for(;"\\"===r.charAt(r.length-1)&&i.length>0;)r=r+n+i.shift();r=r.replace(o,n),a.push(r)}return a})}),Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0}(),Ext.platformTags.modern=!(Ext.platformTags.classic=Ext.isClassic=!0),function(){function e(){var e=this.sourceClass,t=this.sourceMethod,n=this.msg;return t&&(n?(t+="(): ",t+=n):t+="()"),e&&(t=t?e+"."+t:e),t||n||""}Ext.Error=function(t){Ext.isString(t)&&(t={msg:t});var n=new Error;return Ext.apply(n,t),n.message=n.message||n.msg,n.toString=e,n},Ext.apply(Ext.Error,{ignore:!1,raise:function(t){t=t||{},Ext.isString(t)&&(t={msg:t});var n,i,r=this.raise.caller;if(r===Ext.raise&&(r=r.caller),r&&(!t.sourceMethod&&(i=r.$name)&&(t.sourceMethod=i),!t.sourceClass&&(i=r.$owner)&&(i=i.$className)&&(t.sourceClass=i)),!0!==this.handle(t))throw n=e.call(t),Ext.log({msg:n,level:"error",dump:t,stack:!0}),new Ext.Error(t)},handle:function(){return this.ignore}})}(),Ext.deprecated=function(e){return e||(e=""),function t(){Ext.raise('The method "'+t.$owner.$className+"."+t.$name+'" has been removed. '+e)}},Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)},function(){if("undefined"!=typeof window){var e=0;setInterval(function(){var t,n=Ext.log&&Ext.log.counters,i=n&&n.error+n.warn+n.info+n.log;i&&e!==i&&(t=[],n.error&&t.push("Errors: "+n.error),n.warn&&t.push("Warnings: "+n.warn),n.info&&t.push("Info: "+n.info),n.log&&t.push("Log: "+n.log),window.status="*** "+t.join(" -- "),e=i)},1e3)}}(),Ext.Array=function(){var e=Array.prototype,t=e.slice,n=function(){var e,t=[],n=20;if(!t.splice)return!1;for(;n--;)t.push("A");return t.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),e=t.length,t.splice(13,0,"XXX"),e+1===t.length}(),i="indexOf"in e,r=!0;try{"undefined"!=typeof document&&t.call(document.getElementsByTagName("body"))}catch(e){r=!1}var o=function(e,t){return t<0?Math.max(0,e.length+t):Math.min(e.length,t)},a=function(e,t,n,i){var r=i?i.length:0,a=e.length,s=o(e,t);if(s===a)r&&e.push.apply(e,i);else{var l,d=Math.min(n,a-s),c=s+d,u=c+r-d,h=a-c,f=a-d;if(u<c)for(l=0;l<h;++l)e[u+l]=e[c+l];else if(u>c)for(l=h;l--;)e[u+l]=e[c+l];if(r&&s===f)e.length=f,e.push.apply(e,i);else for(e.length=f+r,l=0;l<r;++l)e[s+l]=i[l]}return e},s=function(e,n,i){var r,s=arguments.length,l=o(e,n);return s<3&&(i=e.length-l),r=e.slice(n,o(e,l+i)),s<4?a(e,l,i):a(e,l,i,t.call(arguments,3)),r},l=n?function(e,t,n){return e.splice(t,n),e}:function(e,t,n){return a(e,t,n)},d=n?function(e,t,n,i){return i&&i.length?0!==t||n?t<e.length?e.splice.apply(e,[t,n].concat(i)):e.push.apply(e,i):e.unshift.apply(e,i):e.splice(t,n),e}:a,c=n?function(e){return e.splice.apply(e,t.call(arguments,1))}:s,u={binarySearch:function(e,t,n,i,r){var o,a,s=e.length;for(n instanceof Function?(r=n,n=0,i=s):i instanceof Function?(r=i,i=s):(void 0===n&&(n=0),void 0===i&&(i=s),r=r||u.lexicalCompare),--i;n<=i;)(a=r(t,e[o=n+i>>1]))>=0?n=o+1:a<0&&(i=o-1);return n},defaultCompare:function(e,t){return e<t?-1:e>t?1:0},lexicalCompare:function(e,t){return(e=String(e))<(t=String(t))?-1:e>t?1:0},each:function(e,t,n,i){var r,o=(e=u.from(e)).length;if(!0!==i){for(r=0;r<o;r++)if(!1===t.call(n||e[r],e[r],r,e))return r}else for(r=o-1;r>-1;r--)if(!1===t.call(n||e[r],e[r],r,e))return r;return!0},forEach:"forEach"in e?function(e,t,n){return e.forEach(t,n)}:function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},indexOf:i?function(t,n,i){return t?e.indexOf.call(t,n,i):-1}:function(e,t,n){var i,r=e?e.length:0;for(i=n<0?Math.max(0,r+n):n||0;i<r;i++)if(e[i]===t)return i;return-1},contains:i?function(t,n){return-1!==e.indexOf.call(t,n)}:function(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(e[n]===t)return!0;return!1},toArray:function(e,n,i){if(!e||!e.length)return[];if("string"==typeof e&&(e=e.split("")),r)return t.call(e,n||0,i||e.length);var o,a=[];for(n=n||0,i=i?i<0?e.length+i:i:e.length,o=n;o<i;o++)a.push(e[o]);return a},pluck:function(e,t){var n,i,r,o=[];for(n=0,i=e.length;n<i;n++)r=e[n],o.push(r[t]);return o},map:"map"in e?function(e,t,n){return Ext.Assert.isFunction(t,"Ext.Array.map must have a callback function passed as second argument."),e.map(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.map must have a callback function passed as second argument.");var i,r=e.length,o=new Array(r);for(i=0;i<r;i++)o[i]=t.call(n,e[i],i,e);return o},every:"every"in e?function(e,t,n){return Ext.Assert.isFunction(t,"Ext.Array.every must have a callback function passed as second argument."),e.every(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.every must have a callback function passed as second argument.");for(var i=0,r=e.length;i<r;++i)if(!t.call(n,e[i],i,e))return!1;return!0},some:"some"in e?function(e,t,n){return Ext.Assert.isFunction(t,"Ext.Array.some must have a callback function passed as second argument."),e.some(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.some must have a callback function passed as second argument.");for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return!0;return!1},equals:function(e,t){var n,i=e.length,r=t.length;if(e===t)return!0;if(i!==r)return!1;for(n=0;n<i;++n)if(e[n]!==t[n])return!1;return!0},clean:function(e){for(var t,n=[],i=0,r=e.length;i<r;i++)t=e[i],Ext.isEmpty(t)||n.push(t);return n},unique:function(e){for(var t,n=[],i=0,r=e.length;i<r;i++)t=e[i],-1===u.indexOf(n,t)&&n.push(t);return n},filter:"filter"in e?function(e,t,n){return Ext.Assert.isFunction(t,"Ext.Array.filter must have a filter function passed as second argument."),e.filter(t,n)}:function(e,t,n){Ext.Assert.isFunction(t,"Ext.Array.filter must have a filter function passed as second argument.");for(var i=[],r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},findBy:function(e,t,n){for(var i=0,r=e.length;i<r;i++)if(t.call(n||e,e[i],i))return e[i];return null},from:function(e,n){if(void 0===e||null===e)return[];if(Ext.isArray(e))return n?t.call(e):e;var i=typeof e;return!e||void 0===e.length||"string"===i||"function"===i&&e.apply?[e]:u.toArray(e)},remove:function(e,t){var n=u.indexOf(e,t);return-1!==n&&l(e,n,1),e},removeAt:function(e,t,n){var i=e.length;return t>=0&&t<i&&(n=n||1,n=Math.min(n,i-t),l(e,t,n)),e},include:function(e,t){u.contains(e,t)||e.push(t)},clone:function(e){return t.call(e)},merge:function(){var e,n,i=t.call(arguments),r=[];for(e=0,n=i.length;e<n;e++)r=r.concat(i[e]);return u.unique(r)},intersect:function(){var e,n,i,r,o,a,s,d,c,h,f,g,p=[],m=t.call(arguments);if(!m.length)return p;for(e=m.length,h=o=0;h<e;h++)a=m[h],(!r||a.length<r.length)&&(r=a,o=h);for(r=u.unique(r),l(m,o,1),s=r.length,e=m.length,h=0;h<s;h++){for(d=r[h],c=0,f=0;f<e;f++)for(i=(n=m[f]).length,g=0;g<i;g++)if(d===n[g]){c++;break}c===e&&p.push(d)}return p},difference:function(e,n){var i,r,o,a=t.call(e),s=a.length;for(i=0,o=n.length;i<o;i++)for(r=0;r<s;r++)a[r]===n[i]&&(l(a,r,1),r--,s--);return a},reduce:Array.prototype.reduce?function(e,t,n){return 3===arguments.length?Array.prototype.reduce.call(e,t,n):Array.prototype.reduce.call(e,t)}:function(e,t,n){e=Object(e),Ext.isFunction(t)||Ext.raise("Invalid parameter: expected a function.");var i=0,r=e.length>>>0,o=n;if(arguments.length<3)for(;;){if(i in e){o=e[i++];break}if(++i>=r)throw new TypeError("Reduce of empty array with no initial value")}for(;i<r;++i)i in e&&(o=t(o,e[i],i,e));return o},slice:[1,2].slice(1,void 0).length?function(e,n,i){return t.call(e,n,i)}:function(e,n,i){return void 0===n?t.call(e):void 0===i?t.call(e,n):t.call(e,n,i)},sort:function(e,t){return function(e,t){var n,i=e.length,r=new Array(i);for(n=0;n<i;n++)r[n]=n;for(r.sort(function(n,i){return t(e[n],e[i])||n-i}),n=0;n<i;n++)r[n]=e[r[n]];for(n=0;n<i;n++)e[n]=r[n];return e}(e,t||u.lexicalCompare)},flatten:function(e){var t=[];return function e(n){var i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i],Ext.isArray(o)?e(o):t.push(o);return t}(e)},min:function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;n<i;n++)r=e[n],t?1===t(o,r)&&(o=r):r<o&&(o=r);return o},max:function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;n<i;n++)r=e[n],t?-1===t(o,r)&&(o=r):r>o&&(o=r);return o},mean:function(e){return e.length>0?u.sum(e)/e.length:void 0},sum:function(e){var t,n,i=0;for(t=0,n=e.length;t<n;t++)i+=e[t];return i},toMap:function(e,t,n){var i={},r=e.length;if(t)if("string"==typeof t)for(;r--;)i[e[r][t]]=r+1;else for(;r--;)i[t.call(n,e[r])]=r+1;else for(;r--;)i[e[r]]=r+1;return i},toValueMap:function(e,t,n,i){var r,o,a,s,l,d,c={},u=e.length;if(t)for((s="string"!=typeof t)||(i=n),o=1===i,r=2===i;u--;)d=e[u],l=s?t.call(n,d):d[t],o?l in c?c[l].push(d):c[l]=[d]:r&&l in c?(a=c[l])instanceof Array?a.push(d):c[l]=[a,d]:c[l]=d;else for(;u--;)c[d=e[u]]=d;return c},_replaceSim:a,_spliceSim:s,erase:l,insert:function(e,t,n){return d(e,t,0,n)},move:function(e,t,n){if(n!==t){var i,r=e[t],o=n>t?1:-1;for(i=t;i!=n;i+=o)e[i]=e[i+o];e[n]=r}},replace:d,splice:c,push:function(e){var t,n=arguments.length,i=1;for(void 0===e?e=[]:Ext.isArray(e)||(e=[e]);i<n;i++)t=arguments[i],Array.prototype.push[Ext.isIterable(t)?"apply":"call"](e,t);return e},numericSortFn:function(e,t){return e-t}};return Ext.each=u.each,u.union=u.merge,Ext.min=u.min,Ext.max=u.max,Ext.sum=u.sum,Ext.mean=u.mean,Ext.flatten=u.flatten,Ext.clean=u.clean,Ext.unique=u.unique,Ext.pluck=u.pluck,Ext.toArray=function(){return u.toArray.apply(u,arguments)},u}(),Ext.Assert={falsey:function(e,t){e&&Ext.raise(t||"Expected a falsey value but was "+e)},falseyProp:function(e,t){Ext.Assert.truthy(e);var n=e[t];n&&(e.$className&&(t=e.$className+"#"+t),Ext.raise("Expected a falsey value for "+t+" but was "+n))},truthy:function(e,t){e||Ext.raise(t||"Expected a truthy value but was "+typeof e)},truthyProp:function(e,t){Ext.Assert.truthy(e);var n=e[t];n||(e.$className&&(t=e.$className+"#"+t),Ext.raise("Expected a truthy value for "+t+" but was "+typeof n))}},function(){function e(e,t){var n,i=Ext[e];return function(e,r){i(e)||Ext.raise(r||n||(n="Expected value to be "+t))}}function t(e,t){var n,i=Ext[e];return function(e,r){Ext.Assert.truthy(e),i(e[r])||Ext.raise(n||(n="Expected "+(e.$className?e.$className+"#":"")+r+" to be "+t))}}function n(e,t){var n,i=Ext[e];return function(e,r){i(e)&&Ext.raise(r||n||(n="Expected value to NOT be "+t))}}function i(e,t){var n,i=Ext[e];return function(e,r){Ext.Assert.truthy(e),i(e[r])&&Ext.raise(n||(n="Expected "+(e.$className?e.$className+"#":"")+r+" to NOT be "+t))}}for(var r in Ext)if("is"==r.substring(0,2)&&Ext.isFunction(Ext[r])){var o=r.substring(2);Ext.Assert[r]=e(r,o),Ext.Assert[r+"Prop"]=t(r,o),Ext.Assert["isNot"+o]=n(r,o),Ext.Assert["isNot"+o+"Prop"]=i(r,o)}}(),Ext.String=(trimRegex=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,escapeRe=/('|\\)/g,escapeRegexRe=/([-.*+?\^${}()|\[\]\/\\])/g,basicTrimRe=/^\s+|\s+$/g,whitespaceRe=/\s+/,varReplace=/(^[^a-z]*|[^\w])/gi,htmlEncodeReplaceFn=function(e,t){return charToEntity[t]},htmlDecodeReplaceFn=function(e,t){return t in entityToChar?entityToChar[t]:String.fromCharCode(parseInt(t.substr(2),10))},boundsCheck=function(e,t){return null!==e&&void 0!==e&&null!==t&&void 0!==t&&t.length<=e.length},fromCharCode=String.fromCharCode,ExtString={fromCodePoint:String.fromCodePoint||function(){for(var e,t="",n=[],i=-1,r=arguments.length;++i<r;)e=Number(arguments[i]),(!isFinite(e)||e<0||e>1114111||Math.floor(e)!==e)&&Ext.raise("Invalid code point: "+e),e<=65535?n.push(e):(e-=65536,n.push(55296+(e>>10),e%1024+56320)),i+1===r&&(t+=fromCharCode(n),n.length=0);return t},insert:function(e,t,n){if(!e)return t;if(!t)return e;var i=e.length;return n||0===n||(n=i),n<0&&(n=(n*=-1)>=i?0:i-n),0===n?e=t+e:n>=e.length?e+=t:e=e.substr(0,n)+t+e.substr(n),e},startsWith:function(e,t,n){var i=boundsCheck(e,t);return i&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),i=0===e.lastIndexOf(t,0)),i},endsWith:function(e,t,n){var i=boundsCheck(e,t);return i&&(n&&(e=e.toLowerCase(),t=t.toLowerCase()),i=-1!==e.indexOf(t,e.length-t.length)),i},createVarName:function(e){return e.replace(varReplace,"")},htmlEncode:function(e){return e?String(e).replace(charToEntityRegex,htmlEncodeReplaceFn):e},htmlDecode:function(e){return e?String(e).replace(entityToCharRegex,htmlDecodeReplaceFn):e},hasHtmlCharacters:function(e){return charToEntityRegex.test(e)},addCharacterEntities:function(e){var t,n,i=[],r=[];for(t in e)n=e[t],entityToChar[t]=n,charToEntity[n]=t,i.push(n),r.push(t);charToEntityRegex=new RegExp("("+i.join("|")+")","g"),entityToCharRegex=new RegExp("("+r.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){charToEntity={},entityToChar={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(-1===e.indexOf("?")?"?":"&")+t},trim:function(e){return e&&(e=e.replace(trimRegex,"")),e||""},capitalize:function(e){return e&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e||""},uncapitalize:function(e){return e&&(e=e.charAt(0).toLowerCase()+e.substr(1)),e||""},ellipsis:function(e,t,n){if(e&&e.length>t){if(n){var i=e.substr(0,t-2),r=Math.max(i.lastIndexOf(" "),i.lastIndexOf("."),i.lastIndexOf("!"),i.lastIndexOf("?"));if(-1!==r&&r>=t-15)return i.substr(0,r)+"..."}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(escapeRegexRe,"\\$1")},createRegex:function(e,t,n,i){var r=e;return null==e||e.exec||(r=ExtString.escapeRegex(String(e)),!1!==t&&(r="^"+r),!1!==n&&(r+="$"),r=new RegExp(r,!1!==i?"i":"")),r},escape:function(e){return e.replace(escapeRe,"\\$1")},toggle:function(e,t,n){return e===t?n:t},leftPad:function(e,t,n){var i=String(e);for(n=n||" ";i.length<t;)i=n+i;return i},repeat:function(e,t,n){t<1&&(t=0);for(var i=[],r=t;r--;)i.push(e);return i.join(n||"")},splitWords:function(e){return e&&"string"==typeof e?e.replace(basicTrimRe,"").split(whitespaceRe):e||[]}}),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Date=function(){var e,t,n=Date,i=/(\\.)/g,r=/([gGhHisucUOPZ]|MS)/,o=/([djzmnYycU]|MS)/,a=/\\/gi,s=/\{(\d+)\}/g,l=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),d=Ext.String.leftPad,c=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return (v != null) ? v : null;"].join("\n");function u(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(s,function(e,n){return t[n]})}return Date.prototype.toISOString||(Date.prototype.toISOString=function(){var e=this;return d(e.getUTCFullYear(),4,"0")+"-"+d(e.getUTCMonth()+1,2,"0")+"-"+d(e.getUTCDate(),2,"0")+"T"+d(e.getUTCHours(),2,"0")+":"+d(e.getUTCMinutes(),2,"0")+":"+d(e.getUTCSeconds(),2,"0")+"."+d(e.getUTCMilliseconds(),3,"0")+"Z"}),(e={now:n.now,toString:function(e){return e||(e=new n),e.getFullYear()+"-"+d(e.getMonth()+1,2,"0")+"-"+d(e.getDate(),2,"0")+"T"+d(e.getHours(),2,"0")+":"+d(e.getMinutes(),2,"0")+":"+d(e.getSeconds(),2,"0")},getElapsed:function(t,n){return Math.abs(t-(n||e.now()))},useStrict:!1,formatCodeToRegex:function(t,n){var i=e.parseCodes[t];return i&&(i="function"==typeof i?i():i,e.parseCodes[t]=i),i?Ext.applyIf({c:i.c?u(i.c,n||"{0}"):i.c},i):{g:0,c:null,s:Ext.String.escapeRegex(t)}},parseFunctions:{MS:function(e,t){var i=(e||"").match(l);return i?new n(1*((i[1]||"")+i[2])):null},time:function(e,t){var i=parseInt(e,10);return i||0===i?new n(i):null},timestamp:function(e,t){var i=parseInt(e,10);return i||0===i?new n(1e3*i):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return e.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(t){return e.monthNames[t].substring(0,3)},getShortDayName:function(t){return e.dayNames[t].substring(0,3)},getMonthNumber:function(t){return e.monthNumbers[t.substring(0,1).toUpperCase()+t.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return r.test(e.replace(i,""))},formatContainsDateInfo:function(e){return o.test(e.replace(i,""))},unescapeFormat:function(e){return e.replace(a,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){var t,n,i="Y-m-dTH:i:sP",r=[],o=i.length;for(t=0;t<o;++t)n=i.charAt(t),r.push("T"===n?"'T'":e.getFormatCode(n));return r.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(t,i,r,o,a,s,l){o=o||0,a=a||0,s=s||0,l=l||0;var d=e.add(new n(t<100?100:t,i-1,r,o,a,s,l),e.YEAR,t<100?t-100:0);return t===d.getFullYear()&&i===d.getMonth()+1&&r===d.getDate()&&o===d.getHours()&&a===d.getMinutes()&&s===d.getSeconds()&&l===d.getMilliseconds()},parse:function(t,n,i){var r=e.parseFunctions;return null==r[n]&&e.createParser(n),r[n].call(e,t,Ext.isDefined(i)?i:e.useStrict)},parseDate:function(t,n,i){return e.parse(t,n,i)},getFormatCode:function(t){var n=e.formatCodes[t];return n&&(n="function"==typeof n?n():n,e.formatCodes[t]=n),n||"'"+Ext.String.escape(t)+"'"},createFormat:function(t){var n,i=[],r=!1,o="";for(n=0;n<t.length;++n)o=t.charAt(n),r||"\\"!==o?r?(r=!1,i.push("'"+Ext.String.escape(o)+"'")):"\n"===o?i.push("'\\n'"):i.push(e.getFormatCode(o)):r=!0;e.formatFunctions[t]=Ext.functionFactory("var m=this;return "+i.join("+"))},createParser:function(t){for(var n,i=e.parseRegexes.length,r=1,o=[],a=[],s=!1,l="",d=0,h=t.length,f=[];d<h;++d)l=t.charAt(d),s||"\\"!==l?s?(s=!1,a.push(Ext.String.escape(l))):(r+=(n=e.formatCodeToRegex(l,r)).g,a.push(n.s),n.g&&n.c&&(n.calcAtEnd?f.push(n.c):o.push(n.c))):s=!0;o=o.concat(f),e.parseRegexes[i]=new RegExp("^"+a.join("")+"$","i"),e.parseFunctions[t]=Ext.functionFactory("input","strict",u(c,i,o.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var t=[],n=0;n<7;t.push(e.getShortDayName(n)),++n);return{g:0,c:null,s:"(?:"+t.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+e.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+e.monthNames.join("|")+")"}},M:function(){for(var t=[],n=0;n<12;t.push(e.getShortMonthName(n)),++n);return Ext.applyIf({s:"("+t.join("|")+")"},e.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var t,n,i=[],r=[e.formatCodeToRegex("Y",1),e.formatCodeToRegex("m",2),e.formatCodeToRegex("d",3),e.formatCodeToRegex("H",4),e.formatCodeToRegex("i",5),e.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",e.formatCodeToRegex("P",8).c,"}else{",e.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(t=0,n=r.length;t<n;++t)i.push(r[t].c);return{g:1,c:i.join(""),s:[r[0].s,"(?:","-",r[1].s,"(?:","-",r[2].s,"(?:","(?:T| )?",r[3].s,":",r[4].s,"(?::",r[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(t,n){return e.format(t,n)},isEqual:function(e,t){return e&&t?e.getTime()===t.getTime():!(e||t)},format:function(t,n){var i=e.formatFunctions;return Ext.isDate(t)?(null==i[n]&&e.createFormat(n),i[n].call(t)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){var n=e.getTimezoneOffset();return(n>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(n)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(n%60),2,"0")},getDayOfYear:function(t){var n,i=0,r=e.clone(t),o=t.getMonth();for(n=0,r.setDate(1),r.setMonth(0);n<o;r.setMonth(++n))i+=e.getDaysInMonth(r);return i+t.getDate()-1},getWeekOfYear:function(e){var t=n.UTC(e.getFullYear(),e.getMonth(),e.getDate()+3)/864e5,i=Math.floor(t/7),r=new n(6048e5*i).getUTCFullYear();return i-Math.floor(n.UTC(r,0,7)/6048e5)+1},isLeapYear:function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))},getFirstDayOfMonth:function(e){var t=(e.getDay()-(e.getDate()-1))%7;return t<0?t+7:t},getLastDayOfMonth:function(t){return e.getLastDateOfMonth(t).getDay()},getFirstDateOfMonth:function(e){return new n(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(t){return new n(t.getFullYear(),t.getMonth(),e.getDaysInMonth(t))},getDaysInMonth:(t=[31,28,31,30,31,30,31,31,30,31,30,31],function(n){var i=n.getMonth();return 1===i&&e.isLeapYear(n)?29:t[i]}),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new n(e.getTime())},isDST:function(e){return new n(e.getFullYear(),0,1).getTimezoneOffset()!==e.getTimezoneOffset()},clearTime:function(t,n){if(isNaN(t.getTime()))return t;if(n)return e.clearTime(e.clone(t));var i,r,o=t.getDate();if(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getDate()!==o){for(i=1,r=e.add(t,e.HOUR,i);r.getDate()!==o;i++,r=e.add(t,e.HOUR,i));t.setDate(o),t.setHours(r.getHours())}return t},add:function(t,n,i){var r,o,a=e.clone(t),s=0;if(!n||0===i)return a;if(o=i-parseInt(i,10),i=parseInt(i,10))switch(n.toLowerCase()){case e.MILLI:a.setTime(a.getTime()+i);break;case e.SECOND:a.setTime(a.getTime()+1e3*i);break;case e.MINUTE:a.setTime(a.getTime()+60*i*1e3);break;case e.HOUR:a.setTime(a.getTime()+60*i*60*1e3);break;case e.DAY:a.setTime(a.getTime()+24*i*60*60*1e3);break;case e.MONTH:(r=t.getDate())>28&&(r=Math.min(r,e.getLastDateOfMonth(e.add(e.getFirstDateOfMonth(t),e.MONTH,i)).getDate())),a.setDate(r),a.setMonth(t.getMonth()+i);break;case e.YEAR:(r=t.getDate())>28&&(r=Math.min(r,e.getLastDateOfMonth(e.add(e.getFirstDateOfMonth(t),e.YEAR,i)).getDate())),a.setDate(r),a.setFullYear(t.getFullYear()+i)}if(o){switch(n.toLowerCase()){case e.MILLI:s=1;break;case e.SECOND:s=1e3;break;case e.MINUTE:s=6e4;break;case e.HOUR:s=36e5;break;case e.DAY:s=864e5;break;case e.MONTH:s=864e5*(r=e.getDaysInMonth(a));break;case e.YEAR:s=864e5*(r=e.isLeapYear(a)?366:365)}s&&a.setTime(a.getTime()+s*o)}return a},subtract:function(t,n,i){return e.add(t,n,-i)},between:function(e,t,n){var i=e.getTime();return t.getTime()<=i&&i<=n.getTime()},isWeekend:function(e){return Ext.Array.indexOf(this.weekendDays,e.getDay())>-1},utcToLocal:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},localToUtc:function(t){return e.utc(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},utc:function(e,t,n,i,r,o,a){return new Date(Date.UTC(e,t,n,i||0,r||0,o||0,a||0))},compat:function(){var t,i,r,o,a=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],s=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],l=a.length,d=s.length;for(o=0;o<l;o++)n[i=a[o]]=e[i];for(t=0;t<d;t++)r=s[t],n.prototype[r]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),e[r].apply(e,t)}},diff:function(t,n,i){var r,o=+n-t;switch(i){case e.MILLI:return o;case e.SECOND:return Math.floor(o/1e3);case e.MINUTE:return Math.floor(o/6e4);case e.HOUR:return Math.floor(o/36e5);case e.DAY:return Math.floor(o/864e5);case"w":return Math.floor(o/6048e5);case e.MONTH:return r=12*n.getFullYear()+n.getMonth()-(12*t.getFullYear()+t.getMonth()),e.add(t,i,r)>n?r-1:r;case e.YEAR:return r=n.getFullYear()-t.getFullYear(),e.add(t,i,r)>n?r-1:r}},align:function(t,i,r){var o=new n(+t);switch(i.toLowerCase()){case e.MILLI:return o;case e.SECOND:return o.setUTCSeconds(o.getUTCSeconds()-o.getUTCSeconds()%r),o.setUTCMilliseconds(0),o;case e.MINUTE:return o.setUTCMinutes(o.getUTCMinutes()-o.getUTCMinutes()%r),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o;case e.HOUR:return o.setUTCHours(o.getUTCHours()-o.getUTCHours()%r),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o;case e.DAY:return 7!==r&&14!==r||o.setUTCDate(o.getUTCDate()-o.getUTCDay()+1),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o;case e.MONTH:return o.setUTCMonth(o.getUTCMonth()-(o.getUTCMonth()-1)%r,1),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o;case e.YEAR:return o.setUTCFullYear(o.getUTCFullYear()-o.getUTCFullYear()%r,1,1),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),t}}}).parseCodes.C=e.parseCodes.c,e}(),Ext.Function=(lastTime=0,animFrameHandlers=[],animFrameNoArgs=[],idSource=0,animFrameMap={},win=window,global=Ext.global,hasImmediate=!(!global.setImmediate||!global.clearImmediate),requestAnimFrame=win.requestAnimationFrame||win.webkitRequestAnimationFrame||win.mozRequestAnimationFrame||win.oRequestAnimationFrame||function(e){var t=Ext.now(),n=Math.max(0,16-(t-lastTime)),i=win.setTimeout(function(){e(t+n)},n);return lastTime=t+n,i},fireHandlers=function(){var e,t,n,i=animFrameHandlers.length;for(animFrameId=null,t=0;t<i;t++)e=(n=animFrameHandlers[t])[3],animFrameMap[e]&&(n[0].apply(n[1]||global,n[2]||animFrameNoArgs),delete animFrameMap[e]);animFrameHandlers=animFrameHandlers.slice(i)},fireElevatedHandlers=function(){Ext.elevateFunction(fireHandlers)},ExtFunction={flexSetter:function(e){return function(t,n){var i,r;if(null!==t)if("string"!=typeof t){for(i in t)t.hasOwnProperty(i)&&e.call(this,i,t[i]);if(Ext.enumerables)for(r=Ext.enumerables.length;r--;)i=Ext.enumerables[r],t.hasOwnProperty(i)&&e.call(this,i,t[i])}else e.call(this,t,n);return this}},bind:function(e,t,n,i){if(2===arguments.length)return function(){return e.apply(t,arguments)};var r=e,o=Array.prototype.slice;return function(){var e=n||arguments;return!0===i?e=(e=o.call(arguments,0)).concat(n):"number"==typeof i&&(e=o.call(arguments,0),Ext.Array.insert(e,i,n)),r.apply(t||global,e)}},bindCallback:function(e,t,n,i,r){return function(){var o=Ext.Array.slice(arguments);return Ext.callback(e,t,n?n.concat(o):o,i,r)}},pass:function(e,t,n){return Ext.isArray(t)||(t=Ext.isIterable(t)?Ext.Array.clone(t):void 0!==t?[t]:[]),function(){var i=t.slice();return i.push.apply(i,arguments),e.apply(n||this,i)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(e,t,n,i){return Ext.isFunction(t)?(i=Ext.isDefined(i)?i:null,function(){var r=arguments;return!1!==t.apply(n||this||global,r)?e.apply(this||global,r):i}):e},createDelayed:function(e,t,n,i,r){return(n||i)&&(e=Ext.Function.bind(e,n,i,r)),function(){var n=this,i=Array.prototype.slice.call(arguments);setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(e,n,i):e.apply(n,i)},t)}},defer:function(e,t,n,i,r){return e=Ext.Function.bind(e,n,i,r),t>0?setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(e):e()},t):(e(),0)},interval:function(e,t,n,i,r){return e=Ext.Function.bind(e,n,i,r),setInterval(function(){Ext.elevateFunction?Ext.elevateFunction(e):e()},t)},createSequence:function(e,t,n){return t?function(){var i=e.apply(this,arguments);return t.apply(n||this,arguments),i}:e},createBuffered:function(e,t,n,i){var r;return function(){var o=i||Array.prototype.slice.call(arguments,0),a=n||this;r&&clearTimeout(r),r=setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(e,a,o):e.apply(a,o)},t)}},createAnimationFrame:function(e,t,n,i){var r;return i=i||3,function(){var o=n||Array.prototype.slice.call(arguments,0);t=t||this,3===i&&r&&ExtFunction.cancelAnimationFrame(r),(1&i||!r)&&(r=ExtFunction.requestAnimationFrame(function(){r=null,e.apply(t,o)}))}},requestAnimationFrame:function(e,t,n){var i=++idSource,r=Array.prototype.slice.call(arguments,0);return r[3]=i,animFrameMap[i]=1,animFrameHandlers.push(r),animFrameId||(animFrameId=requestAnimFrame(Ext.elevateFunction?fireElevatedHandlers:fireHandlers)),i},cancelAnimationFrame:function(e){delete animFrameMap[e]},createThrottled:function(e,t,n){var i,r,o,a=0,s=function(){Ext.elevateFunction?Ext.elevateFunction(e,n,r):e.apply(n,r),a=Ext.now(),o=null};return function(){n||(n=this),i=Ext.now()-a,r=arguments,i>=t?(clearTimeout(o),s()):o||(o=Ext.defer(s,t-i))}},createBarrier:function(e,t,n){return function(){--e||t.apply(n,arguments)}},interceptBefore:function(e,t,n,i){var r=e[t]||Ext.emptyFn;return e[t]=function(){var e=n.apply(i||this,arguments);return r.apply(this,arguments),e}},interceptAfter:function(e,t,n,i){var r=e[t]||Ext.emptyFn;return e[t]=function(){return r.apply(this,arguments),n.apply(i||this,arguments)}},interceptAfterOnce:function(e,t,n,i){var r,o=e[t];return r=function(){var a;return o&&o.apply(this,arguments),a=n.apply(i||this,arguments),e[t]=o,e=t=n=i=o=r=null,a},e[t]=r,r},makeCallback:function(e,t){return t[e]||(t.$className&&Ext.raise('No method "'+e+'" on '+t.$className),Ext.raise('No method "'+e+'"')),function(){return t[e].apply(t,arguments)}},memoize:function(e,t,n){var i={},r=n&&Ext.isFunction(n);return function(o){var a=r?n.apply(t,arguments):o;return a in i||(i[a]=e.apply(t,arguments)),i[a]}}},Ext.asap=hasImmediate?function(e,t,n){return null==t&&null==n||(e=ExtFunction.bind(e,t,n)),setImmediate(function(){Ext.elevateFunction?Ext.elevateFunction(e):e()})}:function(e,t,n){return null==t&&null==n||(e=ExtFunction.bind(e,t,n)),setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(e):e()},0,!0)},Ext.asapCancel=hasImmediate?function(e){clearImmediate(e)}:function(e){clearTimeout(e)},Ext.defer=ExtFunction.defer,Ext.interval=ExtFunction.interval,Ext.pass=ExtFunction.pass,Ext.bind=ExtFunction.bind,Ext.deferCallback=ExtFunction.requestAnimationFrame,ExtFunction),Ext.Number=new function(){var e=this,t="1"!==.9.toFixed(),n=Math,i={count:!1,inclusive:!1,wrap:!0};Ext.apply(e,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-(n.pow(2,53)-1),MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||n.pow(2,53)-1,Clip:{DEFAULT:i,COUNT:Ext.applyIf({count:!0},i),INCLUSIVE:Ext.applyIf({inclusive:!0},i),NOWRAP:Ext.applyIf({wrap:!1},i)},clipIndices:function(e,t,n){var r,o,a,s=0,l=(n=n||i).wrap;for(t=t||[],a=0;a<2;++a)r=o,null==(o=t[a])?o=s:a&&n.count?o=(o+=r)>e?e:o:(l&&(o=o<0?e+o:o),a&&n.inclusive&&++o,o=o<0?0:o>e?e:o),s=e;return t[0]=r,t[1]=o<r?r:o,t},constrain:function(e,t,n){var i=parseFloat(e);return null===t&&(t=e),null===n&&(n=e),i<t?t:i>n?n:i},snap:function(t,n,i,r){var o;return void 0===t||t<i?i||0:(n&&0!==(o=t%n)&&(t-=o,2*o>=n?t+=n:2*o<-n&&(t-=n)),e.constrain(t,i,r))},snapInRange:function(t,n,i,r){var o;return i=i||0,void 0===t||t<i?i:(n&&(o=(t-i)%n)&&(t-=o,(o*=2)>=n&&(t+=n)),void 0!==r&&t>(r=e.snapInRange(r,n,i))&&(t=r),t)},roundToNearest:function(e,t){return(t=t||1)*n.round(e/t)},sign:n.sign||function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},log10:n.log10||function(e){return n.log(e)*n.LOG10E},isEqual:function(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i||Ext.raise("All parameters should be valid numbers."),n.abs(e-t)<i},isFinite:Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},toFixed:t?function(e,t){t=t||0;var i=n.pow(10,t);return(n.round(e*i)/i).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}}),Ext.num=function(){return e.from.apply(this,arguments)}},TemplateClass=function(){},queryRe=/^\?/,keyRe=/(\[):?([^\]]*)\]/g,nameRe=/^([^\[]+)/,plusRe=/\+/g,ExtObject=Ext.Object={chain:Object.create||function(e){TemplateClass.prototype=e;var t=new TemplateClass;return TemplateClass.prototype=null,t},clear:function(e){for(var t in e)delete e[t];return e},freeze:Object.freeze?function(e,t){if(e&&"object"==typeof e&&!Object.isFrozen(e)&&(Object.freeze(e),t))for(var n in e)ExtObject.freeze(e[n],t);return e}:Ext.identityFn,toQueryObjects:function(e,t,n){var i,r,o=ExtObject.toQueryObjects,a=[];if(Ext.isArray(t))for(i=0,r=t.length;i<r;i++)n?a=a.concat(o(e+"["+i+"]",t[i],!0)):a.push({name:e,value:t[i]});else if(Ext.isObject(t))for(i in t)t.hasOwnProperty(i)&&(n?a=a.concat(o(e+"["+i+"]",t[i],!0)):a.push({name:e,value:t[i]}));else a.push({name:e,value:t});return a},toQueryString:function(e,t){var n,i,r,o,a,s=[],l=[];for(n in e)e.hasOwnProperty(n)&&(s=s.concat(ExtObject.toQueryObjects(n,e[n],t)));for(i=0,r=s.length;i<r;i++)a=(o=s[i]).value,Ext.isEmpty(a)?a="":Ext.isDate(a)&&(a=Ext.Date.toString(a)),l.push(encodeURIComponent(o.name)+"="+encodeURIComponent(String(a)));return l.join("&")},fromQueryString:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=e.replace(queryRe,"").split("&"),x={};for(a=0,s=m.length;a<s;a++)if((l=m[a]).length>0)if(r=(r=(i=l.split("="))[0]).replace(plusRe,"%20"),r=decodeURIComponent(r),void 0!==(o=i[1])?(o=o.replace(plusRe,"%20"),o=decodeURIComponent(o)):o="",t){if(u=r.match(keyRe),!(h=r.match(nameRe)))throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+l+'"');if(r=h[0],f=[],null===u){x[r]=o;continue}for(d=0,c=u.length;d<c;d++)g=2===(g=u[d]).length?"":g.substring(1,g.length-1),f.push(g);for(f.unshift(r),n=x,d=0,c=f.length;d<c;d++)g=f[d],d===c-1?Ext.isArray(n)&&""===g?n.push(o):n[g]=o:(void 0!==n[g]&&"string"!=typeof n[g]||(p=f[d+1],n[g]=Ext.isNumeric(p)||""===p?[]:{}),n=n[g])}else x.hasOwnProperty(r)?(Ext.isArray(x[r])||(x[r]=[x[r]]),x[r].push(o)):x[r]=o;return x},each:function(e,t,n){var i,r,o=Ext.enumerables;if(e){for(r in n=n||e,e)if(e.hasOwnProperty(r)&&!1===t.call(n,r,e[r],e))return;if(o)for(i=o.length;i--;)if(e.hasOwnProperty(r=o[i])&&!1===t.call(n,r,e[r],e))return}},eachValue:function(e,t,n){var i,r,o=Ext.enumerables;for(r in n=n||e,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r]))return;if(o)for(i=o.length;i--;)if(e.hasOwnProperty(r=o[i])&&!1===t.call(n,e[r]))return},merge:function(e){for(var t,n,i,r,o=1,a=arguments.length,s=ExtObject.merge,l=Ext.clone;o<a;o++)for(n in t=arguments[o])(i=t[n])&&i.constructor===Object?(r=e[n])&&r.constructor===Object?s(r,i):e[n]=l(i):e[n]=i;return e},mergeIf:function(e){for(var t,n,i,r=1,o=arguments.length,a=Ext.clone;r<o;r++)for(n in t=arguments[r])n in e||((i=t[n])&&i.constructor===Object?e[n]=a(i):e[n]=i);return e},getAllKeys:function(e){var t,n=[];for(t in e)n.push(t);return n},getKey:function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n;return null},getValues:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},getKeys:"function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},getSize:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},equals:(check=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0},function(e,t){return e===t||(e&&t?check(e,t)&&check(t,e):!e&&!t&&e===t)}),fork:function(e){var t,n,i;if(e&&e.constructor===Object)for(n in t=ExtObject.chain(e),e)(i=e[n])&&(i.constructor===Object?t[n]=ExtObject.fork(i):i instanceof Array&&(t[n]=Ext.Array.clone(i)));else t=e;return t},defineProperty:"defineProperty"in Object?Object.defineProperty:function(e,t,n){Object.prototype.__defineGetter__&&(n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set))},classify:function(e){var t,n,i=e,r=[],o={},a=function(){for(var e,t=0,n=r.length;t<n;t++)this[e=r[t]]=new o[e]};for(t in e)e.hasOwnProperty(t)&&(n=e[t])&&n.constructor===Object&&(r.push(t),o[t]=ExtObject.classify(n));return a.prototype=i,a}},Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.apply(Ext,{_namedScopes:{this:{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:(validIdRe=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,escapeRx=/([\W]{1})/g,leadingNumRx=/^(\d)/g,escapeFn=function(e,t){return"\\"+t},numEscapeFn=function(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "},function(e){return validIdRe.test(e)?e:e.replace(escapeRx,escapeFn).replace(leadingNumRx,numEscapeFn)}),callback:function(e,t,n,i,r,o){if(e){var a,s=t in Ext._namedScopes;return e.charAt?(t&&!s||!r||(t=r.resolveListenerScope(s?t:o)),t&&Ext.isObject(t)||Ext.raise('Named method "'+e+'" requires a scope object'),Ext.isFunction(t[e])||Ext.raise('No method named "'+e+'" on '+(t.$className||"scope object")),e=t[e]):s?t=o||r:t||(t=r),e&&Ext.isFunction(e)&&(t=t||Ext.global,i?Ext.defer(e,i,t,n):a=Ext.elevateFunction?Ext.elevateFunction(e,t,n):n?e.apply(t,n):e.call(t)),a}},coerce:function(e,t){var n=Ext.typeOf(e),i=Ext.typeOf(t),r="string"==typeof e;if(n!==i)switch(i){case"string":return String(e);case"number":return Number(e);case"boolean":return!(r&&(!e||"false"===e||"0"===e))&&Boolean(e);case"null":return!(!r||e&&"null"!==e)&&null;case"undefined":return!(!r||e&&"undefined"!==e)&&void 0;case"date":return r&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}return e},copyTo:function(e,t,n,i){"string"==typeof n&&(n=n.split(Ext.propertyNameSplitRe));for(var r,o=0,a=n?n.length:0;o<a;o++)r=n[o],(i||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},copy:function(e,t,n,i){"string"==typeof n&&(n=n.split(Ext.propertyNameSplitRe));for(var r,o=0,a=n?n.length:0;o<a;o++)r=n[o],(t.hasOwnProperty(r)||i&&r in t)&&(e[r]=t[r]);return e},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(e,t,n){"string"==typeof n&&(n=n.split(Ext.propertyNameSplitRe));for(var i,r=0,o=n?n.length:0;r<o;r++)void 0===e[i=n[r]]&&(e[i]=t[i]);return e},copyIf:function(e,t,n){"string"==typeof n&&(n=n.split(Ext.propertyNameSplitRe));for(var i,r=0,o=n?n.length:0;r<o;r++)!((i=n[r])in e)&&i in t&&(e[i]=t[i]);return e},extend:(objectConstructor=Object.prototype.constructor,inlineOverrides=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},function(e,t,n){Ext.isObject(t)&&(n=t,t=e,e=n.constructor!==objectConstructor?n.constructor:function(){t.apply(this,arguments)}),t||Ext.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."});var i,r=function(){},o=t.prototype;return r.prototype=o,(i=e.prototype=new r).constructor=e,e.superclass=o,o.constructor===objectConstructor&&(o.constructor=t),e.override=function(t){Ext.override(e,t)},i.override=inlineOverrides,i.proto=i,e.override(n),e.extend=function(t){return Ext.extend(e,t)},e}),iterate:function(e,t,n){Ext.isEmpty(e)||(void 0===n&&(n=e),Ext.isIterable(e)?Ext.Array.each.call(Ext.Array,e,t,n):Ext.Object.each.call(Ext.Object,e,t,n))},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(e){var t,n=e;return e&&"<"===e.charAt(0)&&(t=Ext._resourcePoolRe.exec(e))&&(n=Ext.getResourcePath(t[3],t[1],t[2])),n},urlEncode:function(){var e=Ext.Array.from(arguments),t="";return Ext.isString(e[1])&&(t=e[1]+"&",e[1]=!1),t+Ext.Object.toQueryString.apply(Ext.Object,e)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(e){Ext.isDomReady||Ext.raise("getScrollbarSize called before DomReady");var t=Ext._scrollbarSize;if(e||!t){var n=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.overflow="scroll",i.style.position="absolute",n.appendChild(i),Ext._scrollbarSize=t={width:i.offsetWidth-i.clientWidth,height:i.offsetHeight-i.clientHeight},n.removeChild(i)}return t},typeOf:(nonWhitespaceRe=/\S/,toString=Object.prototype.toString,typeofTypes={number:1,string:1,boolean:1,undefined:1},toStringTypes={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"},function(e){if(null===e)return"null";var t,n,i=typeof e;return typeofTypes[i]?i:(t=toStringTypes[n=toString.call(e)])?t:"function"===i?"function":"object"===i?void 0!==e.nodeType?3===e.nodeType?nonWhitespaceRe.test(e.nodeValue)?"textnode":"whitespace":"element":"object":(Ext.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of "'+e+'".'}),n)}),factory:function(e,t,n,i){var r,o=Ext.ClassManager;if(!e||e.isInstance)return n&&n!==e&&n.destroy(),e;if(i){if("string"==typeof e)return o.instantiateByAlias(i+"."+e);if(Ext.isObject(e)&&"type"in e)return o.instantiateByAlias(i+"."+e.type,e)}return!0===e?(n||t||Ext.raise("[Ext.factory] Cannot determine type of class to create"),n||Ext.create(t)):(Ext.isObject(e)||Ext.raise("Invalid config, must be a valid config object"),"xtype"in e?r=o.instantiateByAlias("widget."+e.xtype,e):"xclass"in e&&(r=Ext.create(e.xclass,e)),r?(n&&n.destroy(),r):n?n.setConfig(e):Ext.create(t,e))},log:function(){var e=/string|number|boolean/;function t(n){var i,r,o,a,s,l,d,c=Ext.global.console,u="log",h=t.indent||0;t.indent=h,"string"!=typeof n&&(n=(i=n).msg||"",u=i.level||u,r=i.dump,a=i.stack,o=i.prefix,s=i.fn,i.indent?++t.indent:i.outdent&&(t.indent=h=Math.max(h-1,0)),!r||c&&c.dir||(n+=function t(n,i,r,o){var a,s,l,d,c,u,h=[];if(Ext.isArray(n)?(c="[",u="]"):Ext.isObject(n)&&(c="{",u="}"),r||(r=3),i>r)return c+"..."+u;i=i||1;var f=new Array(i).join("    ");for(d in n)if(n.hasOwnProperty(d)){if("function"==(s=typeof(l=n[d]))){if(!o)continue;a=s}else a="undefined"===s?s:null===l||e.test(s)||Ext.isDate(l)?Ext.encode(l):Ext.isArray(l)?t(l,i+1,r,o):Ext.isObject(l)?t(l,i+1,r,o):s;h.push(f+d+": "+a)}return h.length?c+"\n    "+h.join(",\n    ")+"\n"+f+u:c+u}(r),r=null)),arguments.length>1&&(n+=Array.prototype.slice.call(arguments,1).join("")),o&&(n=o+" - "+n),n=h?Ext.String.repeat(" ",t.indentSize*h)+n:n,"log"!==u&&(n="["+u.charAt(0).toUpperCase()+"] "+n),s&&(n+="\nCaller: "+s.toString()),c?(c[u]?c[u](n):c.log(n),r&&c.dir(r),a&&c.trace&&(c.firebug&&"error"===u||c.trace())):Ext.isOpera?opera.postError(n):(l=t.out,d=t.max,l.length>=d&&Ext.Array.erase(l,0,l.length-3*Math.floor(d/4)),l.push(n)),++t.count,++t.counters[u]}function n(e,n){"string"==typeof n[0]&&n.unshift({}),n[0].level=e,t.apply(this,n)}return t.error=function(){n("error",Array.prototype.slice.call(arguments))},t.info=function(){n("info",Array.prototype.slice.call(arguments))},t.warn=function(){n("warn",Array.prototype.slice.call(arguments))},t.count=0,t.counters={error:0,warn:0,info:0,log:0},t.indentSize=2,t.out=[],t.max=750,t}()||(nullLog=function(){},nullLog.info=nullLog.warn=nullLog.error=Ext.emptyFn,nullLog)}),checkVerTemp=[""],endOfVersionRe=/([^\d\.])/,notDigitsRe=/[^\d]/g,plusMinusRe=/[\-+]/g,stripRe=/\s/g,underscoreRe=/_/g,toolkitNames={classic:1,modern:1},Ext.Version=Version=function(e,t){var n,i,r,o,a,s,l,d=this,c=d.padModes;e.isVersion&&(e=e.version),d.version=l=String(e).toLowerCase().replace(underscoreRe,".").replace(plusMinusRe,""),(n=l.charAt(0))in c?(l=l.substring(1),r=c[n]):r=t?c[t]:0,d.pad=r,s=l.search(endOfVersionRe),d.shortVersion=l,-1!==s&&(d.release=a=l.substr(s,e.length),d.shortVersion=l.substr(0,s),a=Version.releaseValueMap[a]||a),d.releaseValue=a||r,d.shortVersion=d.shortVersion.replace(notDigitsRe,""),d.parts=o=l.split(".");for(i=o.length;i--;)o[i]=parseInt(o[i],10);return r===1/0&&o.push(r),d.major=o[0]||r,d.minor=o[1]||r,d.patch=o[2]||r,d.build=o[3]||r,d},Version.prototype={isVersion:!0,padModes:{"~":NaN,"^":1/0},release:"",compareTo:function(e){var t,n,i,r=this.pad,o=this.parts,a=o.length,s=e.isVersion?e:new Version(e),l=s.pad,d=s.parts,c=d.length,u=Math.max(a,c);for(t=0;t<u;t++){if((n=t<a?o[t]:r)<(i=t<c?d[t]:l))return-1;if(n>i)return 1}return(n=this.releaseValue)<(i=s.releaseValue)?-1:n>i?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(e){return this.compareTo(e)>0},isGreaterThanOrEqual:function(e){return this.compareTo(e)>=0},isLessThan:function(e){return this.compareTo(e)<0},isLessThanOrEqual:function(e){return this.compareTo(e)<=0},equals:function(e){return 0===this.compareTo(e)},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){var e=this;return[e.getMajor(),e.getMinor(),e.getPatch(),e.getBuild(),e.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(e){return this.compareTo(e)>0},lt:function(e){return this.compareTo(e)<0},gtEq:function(e){return this.compareTo(e)>=0},ltEq:function(e){return this.compareTo(e)<=0}},Ext.apply(Version,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(e,t){return(e.isVersion?e:new Version(e)).compareTo(t)},set:function(e,t,n){var i,r=Version.aliases.to[t],o=n.isVersion?n:new Version(n);if(e[t]=o,r)for(i=r.length;i-- >0;)e[r[i]]=o;return o}}),Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(e){var t=Ext.compatVersions;return(e?t[Version.aliases.from[e]||e]:t.ext||t.touch||t.core)||Ext.getVersion(e)},setCompatVersion:function(e,t){Version.set(Ext.compatVersions,e,t)},setVersion:function(e,t){return e in toolkitNames&&(Ext.toolkit=e),Ext.lastRegisteredVersion=Version.set(Ext.versions,e,t),this},getVersion:function(e){var t=Ext.versions;return e?t[Version.aliases.from[e]||e]:t.ext||t.touch||t.core},checkVersion:function(e,t){var n,i,r,o,a,s,l,d,c,u=Ext.isArray(e),h=Version.aliases.from,f=u?e:checkVerTemp,g=f.length,p=Ext.versions,m=p.ext||p.touch;for(u||(checkVerTemp[0]=e),n=0;n<g;++n){if(Ext.isString(l=f[n])){if(l.indexOf(" ")>=0&&(l=l.replace(stripRe,"")),(i=l.indexOf("@"))<0)d=l,c=m;else{if(!(c=p[h[s=l.substring(0,i)]||s])){if(t)return!1;continue}d=l.substring(i+1)}(i=d.indexOf("-"))<0?"+"===d.charAt(i=d.length-1)?(o=d.substring(0,i),a=null):o=a=d:i>0?(o=d.substring(0,i),a=d.substring(i+1)):(o=null,a=d.substring(i+1)),r=!0,o&&(r=(o=new Version(o,"~")).ltEq(c)),r&&a&&(r=(a=new Version(a,"~")).gtEq(c))}else r=Ext.checkVersion(l.and||l.or,!l.or),l.not&&(r=!r);if(r){if(!t)return!0}else if(t)return!1}return!!t},deprecate:function(e,t,n,i){Version.compare(Ext.getVersion(e),t)<1&&n.call(i)}}),function(e){var t,n,i=e&&e.packages||{},r=e&&e.compatibility;for(t in i)n=i[t],Ext.setVersion(t,n.version);if(r)if(Ext.isString(r))Ext.setCompatVersion("core",r);else for(t in r)Ext.setCompatVersion(t,r[t]);i.ext||i.touch||(Ext.setVersion("ext","6.2.0.981"),Ext.setVersion("core","6.2.0.981"))}(Ext.manifest),Ext.Config=function(e){var t=e.charAt(0).toUpperCase()+e.substr(1);this.name=e,this.names={internal:"_"+e,initializing:"is"+t+"Initializing",apply:"apply"+t,update:"update"+t,get:"get"+t,set:"set"+t,initGet:"initGet"+t,changeEvent:e.toLowerCase()+"change"},this.root=this},Ext.Config.map={},Ext.Config.get=function(e){var t=Ext.Config.map;return t[e]||(t[e]=new Ext.Config(e))},Ext.Config.prototype={self:Ext.Config,isConfig:!0,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(e){return e.$configPrefixed?this.names.internal:this.name},mergeNew:function(e,t,n,i){var r,o;if(t)if(e)for(o in r=Ext.Object.chain(t),e)i&&o in r||(r[o]=e[o]);else r=t;else r=e;return r},mergeSets:function(e,t,n){var i,r,o=t?Ext.Object.chain(t):{};if(e instanceof Array)for(i=e.length;i--;)r=e[i],n&&r in o||(o[r]=!0);else if(e)if(e.constructor===Object)for(i in e)r=e[i],n&&i in o||(o[i]=r);else n&&e in o||(o[e]=!0);return o},makeGetter:function(){var e=this.name,t=this.names.internal;return function(){return this[this.$configPrefixed?t:e]}},makeInitGetter:function(){var e=this.name,t=this.names,n=t.set,i=t.get,r=t.initializing;return function(){var t=this;return t[r]=!0,delete t[i],t[n](t.config[e]),delete t[r],t[i].apply(t,arguments)}},makeSetter:function(){var e,t=this.name,n=this.names,i=n.internal,r=n.get,o=n.apply,a=n.update;return(e=function(e){var n=this,s=n.$configPrefixed?i:t,l=n[s];return delete n[r],n[o]&&void 0===(e=n[o](e,l))||e!==(l=n[s])&&(n[s]=e,n[a]&&n[a](e,l)),n}).$isDefault=!0,e},makeEventedSetter:function(){var e,t=this.name,n=this.names,i=n.internal,r=n.get,o=n.apply,a=n.update,s=n.changeEvent,l=function(e,t,n,i){e[i]=t,e[a]&&e[a](t,n)};return(e=function(e){var n=this,d=n.$configPrefixed?i:t,c=n[d];return delete n[r],n[o]&&void 0===(e=n[o](e,c))||e!==(c=n[d])&&(n.isConfiguring?(n[d]=e,n[a]&&n[a](e,c)):n.fireEventedAction(s,[n,e,c],l,n,[n,e,c,d])),n}).$isDefault=!0,e}},function(){var e=Ext.Config,t=e.map,n=Ext.Object;Ext.Configurator=function(e){var t=this,i=e.prototype,r=e.superclass?e.superclass.self.$config:null;t.cls=e,t.superCfg=r,r?(t.configs=n.chain(r.configs),t.cachedConfigs=n.chain(r.cachedConfigs),t.initMap=n.chain(r.initMap),t.values=n.chain(r.values),t.needsFork=r.needsFork,t.deprecations=n.chain(r.deprecations)):(t.configs={},t.cachedConfigs={},t.initMap={},t.values={},t.deprecations={}),i.config=i.defaultConfig=t.values,e.$config=t},Ext.Configurator.prototype={self:Ext.Configurator,needsFork:!1,initList:null,add:function(t,i){var r,o,a,s,l,d,c,u,h,f,g=this,p=g.cls,m=g.configs,x=g.cachedConfigs,E=g.initMap,v=p.prototype,y=i&&i.$config.configs,b=g.values;for(c in t){if(a=!1,(o=(r=(f=t[c])&&f.constructor===Object)&&"$value"in f?f:null)&&(a=!!o.cached,r=(f=o.$value)&&f.constructor===Object),s=o&&o.merge,l=m[c]){if(i){if(!(s=l.merge))continue;o=null}else s=s||l.merge;i||!a||x[c]||Ext.raise("Redefining config as cached: "+c+" in class: "+p.$className),d=b[c],s?f=s.call(l,f,d,p,i):r&&d&&d.constructor===Object&&(f=n.merge({},d,f))}else y?(l=y[c],o=null):l=e.get(c),m[c]=l,(l.cached||a)&&(x[c]=!0),v[h=(u=l.names).get]||(v[h]=l.getter||l.getGetter()),v[h=u.set]||(v[h]=o&&o.evented?l.eventedSetter||l.getEventedSetter():l.setter||l.getSetter());o&&(l.owner!==p&&(m[c]=l=Ext.Object.chain(l),l.owner=p),Ext.apply(l,o),delete l.$value),!g.needsFork&&f&&(f.constructor===Object||f instanceof Array)&&(g.needsFork=!0),null!==f?E[c]=!0:(v.$configPrefixed?v[m[c].names.internal]=null:v[m[c].name]=null,c in E&&(E[c]=!1)),b[c]=f}},addDeprecations:function(e){var t,n,i,r=this.deprecations,o=(this.cls.$className||"")+"#";for(i in e)(n=e[i])?(t=n.message)||(t='This config has been renamed to "'+n+'"'):t="This config has been removed.",r[i]=o+i+": "+t},configure:function(e,t){var i,r,o,a,s,l,d,c,u,h,f,g,p=this,m=p.configs,x=p.deprecations,E=p.initMap,v=p.initListMap,y=p.initList,b=p.cls.prototype,C=p.values,S=0,w=!y;if(C=p.needsFork?n.fork(C):n.chain(C),e.isConfiguring=!0,w)for(c in p.initList=y=[],p.initListMap=v={},e.isFirstInstance=!0,E)h=(r=m[c]).cached,E[c]?(d=r.names,u=C[c],!b[d.set].$isDefault||b[d.apply]||b[d.update]||"object"==typeof u?(h?(i||(i=[])).push(r):(y.push(r),v[c]=!0),e[d.get]=r.initGetter||r.getInitGetter()):b[r.getInternalName(b)]=u):h&&(b[r.getInternalName(b)]=void 0);if(l=i&&i.length){for(a=0;a<l;++a)e[s=i[a].getInternalName(b)]=null;for(a=0;a<l;++a)o=(d=(r=i[a]).names).get,e.hasOwnProperty(o)&&(e[d.set](C[r.name]),delete e[o]);for(a=0;a<l;++a)b[s=i[a].getInternalName(b)]=e[s],delete e[s]}for(t&&t.platformConfig&&(t=p.resolvePlatformConfig(e,t)),w&&e.afterCachedConfig&&!e.afterCachedConfig.$nullFn&&e.afterCachedConfig(t),e.config=C,a=0,l=y.length;a<l;++a)e[(r=y[a]).names.get]=r.initGetter||r.getInitGetter();if(e.transformInstanceConfig&&(t=e.transformInstanceConfig(t)),t)for(c in t)u=t[c],r=m[c],x[c]&&(Ext.log.warn(x[c]),!r)||(r?(r.lazy||++S,v[c]||(e[r.names.get]=r.initGetter||r.getInitGetter()),r.merge?u=r.merge(u,C[c],e):u&&u.constructor===Object&&(u=(f=C[c])&&f.constructor===Object?n.merge(C[c],u):Ext.clone(u,!1))):(g=e.self.prototype[c],e.$configStrict&&"function"==typeof g&&!g.$nullFn&&Ext.raise("Cannot override method "+c+" on "+e.$className+" instance."),e[c]=u),C[c]=u);if(!e.beforeInitConfig||e.beforeInitConfig.$nullFn||!1!==e.beforeInitConfig(t)){if(t)for(c in t){if(!S)break;(r=m[c])&&!r.lazy&&(--S,o=(d=r.names).get,e.hasOwnProperty(o)&&(e[d.set](C[c]),delete e[d.get]))}for(a=0,l=y.length;a<l;++a)o=(d=(r=y[a]).names).get,!r.lazy&&e.hasOwnProperty(o)&&(e[d.set](C[r.name]),delete e[o]);delete e.isConfiguring}},getCurrentConfig:function(e){var n,i=e.defaultConfig,r={};for(n in i)r[n]=e[t[n].names.get]();return r},merge:function(e,t,n){var i,r,o,a,s=this.configs;for(i in n)r=n[i],(a=s[i])&&(a.merge?r=a.merge(r,t[i],e):r&&r.constructor===Object&&(r=(o=t[i])&&o.constructor===Object?Ext.Object.merge(o,r):Ext.clone(r,!1))),t[i]=r;return t},reconfigure:function(e,n,i){var r,o,a,s,l,d,c,u=e.config,h=[],f=e.$configStrict&&!(i&&!1===i.strict),g=this.configs,p=i&&i.defaults;for(l in n)if((!p||!e.hasOwnProperty(l))&&(u[l]=n[l],r=g[l],!this.deprecations[l]||(Ext.log.warn(this.deprecations[l]),r))){if(r)e[r.names.get]=r.initGetter||r.getInitGetter();else if(c=e.self.prototype[l],f){if("function"==typeof c&&!c.$nullFn){Ext.Error.raise("Cannot override method "+l+" on "+e.$className+" instance.");continue}"type"!==l&&Ext.log.warn('No such config "'+l+'" for class '+e.$className)}h.push(l)}for(a=0,s=h.length;a<s;a++)(r=g[l=h[a]])?(o=(d=r.names).get,e.hasOwnProperty(o)&&(e[d.set](n[l]),delete e[o])):e[(d=(r=t[l]||Ext.Config.get(l)).names).set]?e[d.set](n[l]):e[l]=n[l]},resolvePlatformConfig:function(e,t){var n,i,r,o=t&&t.platformConfig,a=t;if(o&&(r=(i=Ext.getPlatformConfigKeys(o)).length))for(a=Ext.merge({},a),n=0,r=i.length;n<r;++n)this.merge(e,a,o[i[n]]);return a}}}(),Ext.Base=function(e){var t,n,i=[],r=[],o=function(e,t,n){var i='"'+e+'" is deprecated.';return n?i+=" "+n:t&&(i+=' Please use "'+t+'" instead.'),function(){Ext.raise(i)}},a=function(e,t,n,i){i||(i='"'+t+'" is deprecated.'),n&&(i+=' Please use "'+n+'" instead.'),i&&Ext.Object.defineProperty(e,t,{get:function(){Ext.raise(i)},set:function(e){Ext.raise(i)},configurable:!0})},s=function(e){return function(){return this[e].apply(this,arguments)}},l=Ext.Version,d=/^\d/,c={},u={},h=function(){},f=h.prototype;for(t in Ext.Reaper=n={delay:100,queue:[],timer:null,add:function(e){n.timer||(n.timer=Ext.defer(n.tick,n.delay)),n.queue.push(e)},flush:function(){n.timer&&(clearTimeout(n.timer),n.timer=null);var e,t,i=n.queue,r=i.length;for(n.queue=[],e=0;e<r;++e)(t=i[e])&&t.$reap&&t.$reap()},tick:function(){n.timer=null,n.flush()}},Ext.apply(h,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(e){var t,n,i,r,c,u,h,f,g,p,m,x,E,v,y=this,b=[],C=Ext.getCompatVersion(e.name),S=y.getConfigurator(),w=(y.$className||"")+"#";for(n in e)d.test(n)&&((v=new Ext.Version(n)).deprecations=e[n],b.push(v));for(b.sort(l.compare),i=b.length;i--;){if(t=(v=b[i]).deprecations,c=y.prototype,E=t.statics,u=C&&C.lt(v)){if(!u)break}else;for(;t;){if(g=t.methods)for(p in g)f=null,(x=g[p])?Ext.isString(x)?(Ext.Assert.isNotDefinedProp(c,p),Ext.Assert.isDefinedProp(c,x),f=u?s(x):o(w+p,x)):(r="",(x.message||x.fn)&&(r=x.message,x=x.fn),h=c.hasOwnProperty(p)&&c[p],u&&x?(x.$owner=y,x.$name=p,x.name=w+p,h&&(x.$previous=h),f=x):h||(f=o(w+p,null,r))):(Ext.Assert.isNotDefinedProp(c,p),f=o(w+p)),f&&(c[p]=f);if((g=t.configs)&&S.addDeprecations(g),(g=t.properties)&&!u)for(p in g)m=g[p],Ext.isString(m)?a(c,w+p,m):m&&m.message?a(c,w+p,null,m.message):a(c,w+p);t=E,E=null,c=y}}},extend:function(e){var t,n,i,r=this,o=e.prototype;if((t=r.prototype=Ext.Object.chain(o)).self=r,r.superclass=t.superclass=o,!e.$isClass)for(n in f)n in t&&(t[n]=f[n]);if(i=o.$inheritableStatics)for(n in i)r.hasOwnProperty(n)||(r[n]=e[n]);e.$onExtended&&(r.$onExtended=e.$onExtended.slice()),r.getConfigurator()},$onExtended:[],triggerExtended:function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#triggerExtended",arguments);var e,t,n=this.$onExtended,i=n.length;if(i>0)for(e=0;e<i;e++)(t=n[e]).fn.apply(t.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addStatics:function(e){return this.addMembers(e,!0),this},addInheritableStatics:function(e){var t,n,i,r=this,o=r.prototype,a=r.$inheritableStatics;a||(a=Ext.apply({},o.$inheritableStatics),r.$inheritableStatics=o.$inheritableStatics=a);var s=Ext.getClassName(r)+".";for(t in e)e.hasOwnProperty(t)&&(n=e[t],i=r[t],"function"==typeof n&&(n.name=s+t),"function"!=typeof i||i.$isClass||i.$nullFn||(n.$previous=i),r[t]=n,a[t]=!0);return r},addMembers:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=Ext.Function.clone,h=t?c:c.prototype,f=!t&&h.defaultConfig,g=Ext.enumerables,p=e.privates,m=(c.$className||"")+"#";for(s in p&&(delete e.privates,t||(d=p.statics,delete p.statics),l=p.privacy||n||"framework",c.addMembers(p,t,l),d&&c.addMembers(d,!0,l)),e)if(e.hasOwnProperty(s)){if(a=e[s],!0===n&&(n="framework"),a&&a.$nullFn&&n!==a.$privacy&&Ext.raise("Cannot use stock function for private method "+(c.$className?c.$className+"#":"")+s),"function"!=typeof a||a.$isClass||a.$nullFn){if(f&&s in f&&!h.config.hasOwnProperty(s)){(i||(i={}))[s]=a;continue}}else{a.$owner&&(a=u(a)),h.hasOwnProperty(s)&&(a.$previous=h[s]),a.$owner=c,a.$name=s,a.name=m+s;var x=h[s];n?(a.$privacy=n,x&&x.$privacy&&x.$privacy!==n&&Ext.privacyViolation(c,x,a,t)):x&&x.$privacy&&Ext.privacyViolation(c,x,a,t)}h[s]=a}if(i&&c.addConfig(i),g)for(r=0,o=g.length;r<o;++r)e.hasOwnProperty(s=g[r])&&((a=e[s])&&!a.$nullFn&&(a.$owner&&(a=u(a)),a.$owner=c,a.$name=s,a.name=m+s,h.hasOwnProperty(s)&&(a.$previous=h[s])),h[s]=a);return this},addMember:function(e,t){return c[e]=t,this.addMembers(c),delete c[e],this},borrow:function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#borrow",arguments);var n,i,r,o=e.prototype,a={};for(n=0,i=(t=Ext.Array.from(t)).length;n<i;n++)a[r=t[n]]=o[r];return this.addMembers(a)},override:function(e){var t=this,n=e.statics,i=e.inheritableStatics,r=e.config,o=e.mixins,a=e.cachedConfig;return(n||i||r)&&(e=Ext.apply({},e)),n&&(t.addMembers(n,!0),delete e.statics),i&&(t.addInheritableStatics(i),delete e.inheritableStatics),e.platformConfig&&t.addPlatformConfig(e),r&&(t.addConfig(r),delete e.config),a&&(t.addCachedConfig(a),delete e.cachedConfig),delete e.mixins,t.addMembers(e),o&&t.mixin(o),t},addPlatformConfig:function(e){var t,n,i,r,o,a,s,l,d,c,u=e.platformConfig,h=e.config;if(delete e.platformConfig,u instanceof Array)throw new Error("platformConfigs must be specified as an object.");for(n=(r=this.getConfigurator()).configs,d=0,c=(a=Ext.getPlatformConfigKeys(u)).length;d<c;++d){for(s in o=t=null,i=u[a[d]])l=i[s],h&&s in h?((t||(t={}))[s]=l,(o||(o={}))[s]=h[s],delete h[s]):s in n?(t||(t={}))[s]=l:e[s]=l;o&&r.add(o),t&&r.add(t)}},callParent:function(e){var t;return(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||i)},callSuper:function(e){var t;return(t=this.callSuper.caller)&&((t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||i)},mixin:function(e,t){var n,i,r,o,a,s,l,d,c,u,h=this;if("string"==typeof e){for(r in n=t.prototype,i=h.prototype,n.onClassMixedIn&&n.onClassMixedIn.call(t,h),i.hasOwnProperty("mixins")||(i.mixins="mixins"in i?Ext.Object.chain(i.mixins):{}),n)d=n[r],"mixins"===r?Ext.applyIf(i.mixins,d):"mixinId"!==r&&"config"!==r&&"$inheritableStatics"!==r&&void 0===i[r]&&(i[r]=d);if(o=n.$inheritableStatics){for(e in u={},o)h.hasOwnProperty(e)||(u[e]=t[e]);h.addInheritableStatics(u)}return"config"in n&&h.addConfig(n.config,t),i.mixins[e]=n,n.afterClassMixedIn&&n.afterClassMixedIn.call(t,h),h}if((c=e)instanceof Array)for(a=0,s=c.length;a<s;a++)n=c[a],h.mixin(n.prototype.mixinId||n.$className,n);else for(l in c)h.mixin(l,c[l])},addConfig:function(e,t){(this.$config||this.getConfigurator()).add(e,t)},addCachedConfig:function(e,t){var n,i={};for(n in e)i[n]={cached:!0,$value:e[n]};this.addConfig(i,t)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:e(function(e,t){u[e]=function(){return this[t].apply(this,arguments)},this.override(u),delete u[e]})}),h)h.hasOwnProperty(t)&&r.push(t);return h.$staticMembers=r,h.getConfigurator(),h.addMembers({$className:"Ext.Base",isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,destroyed:!1,clearPropertiesOnDestroy:!0,clearPrototypeOnDestroy:!1,statics:function(){var e=this.statics.caller,t=this.self;return e?e.$owner:t},callParent:function(e){var t,n=(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name]);if(!n){var r,o;if(!(t=this.callParent.caller).$owner){if(!t.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");t=t.caller}if(r=t.$owner.superclass,!((o=t.$name)in r))throw new Error("this.callParent() was called but there's no such method ("+o+") found in the parent class ("+(Ext.getClassName(r)||"Object")+")")}return n.apply(this,e||i)},callSuper:function(e){var t,n=(t=this.callSuper.caller)&&(t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name];if(!n){var r,o;if(!(t=this.callSuper.caller).$owner){if(!t.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");t=t.caller}if(r=t.$owner.superclass,!((o=t.$name)in r))throw new Error("this.callSuper() was called but there's no such method ("+o+") found in the parent class ("+(Ext.getClassName(r)||"Object")+")")}return n.apply(this,e||i)},self:h,constructor:function(){return this},initConfig:function(e){var t=this,n=t.self.getConfigurator();return t.initConfig=Ext.emptyFn,t.initialConfig=e||{},n.configure(t,e),t},beforeInitConfig:Ext.emptyFn,getConfig:function(e,t){var n,i,r,o=this;return e?((i=Ext.Config.map[e])||Ext.Logger.error("Invalid property name for getter: '"+e+"' for '"+o.$className+"'."),r=i.names.get,n=t&&o.hasOwnProperty(r)?o.config[e]:o[r]()):n=o.getCurrentConfig(),n},setConfig:function(e,t,n){var i;return e&&("string"==typeof e?(i={})[e]=t:i=e,this.self.getConfigurator().reconfigure(this,i,n)),this},getCurrentConfig:function(){return this.self.getConfigurator().getCurrentConfig(this)},hasConfig:function(e){return e in this.defaultConfig},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},$links:null,link:function(e,t){return(this.$links||(this.$links={}))[e]=!0,this[e]=t,t},unlink:function(e){var t,n,i,r;for(Ext.isArray(e)||Ext.raise("Invalid argument - expected array of strings"),t=0,n=e.length;t<n;t++)(r=this[i=e[t]])&&(r.isInstance&&!r.destroyed?r.destroy():r.parentNode&&"nodeType"in r&&r.parentNode.removeChild(r)),this[i]=null;return this},$reap:function(){var e,t,n,i=this,r=i.$noClearOnDestroy;for(e in i)r&&r[e]||!i.hasOwnProperty(e)||("object"===(n=typeof(t=i[e]))||"function"===n&&!t.$noClearOnDestroy)&&(i[e]=null);i.clearPrototypeOnDestroy&&!i.$vetoClearingPrototypeOnDestroy&&Object.setPrototypeOf&&Object.setPrototypeOf(i,null)},destroy:function(){var e=this,t=e.$links,i=e.clearPropertiesOnDestroy;t&&(e.$links=null,e.unlink(Ext.Object.getKeys(t))),e.destroy=Ext.emptyFn,e.isDestroyed=e.destroyed=!0,!0===i?e.$reap():i&&("async"!==i&&Ext.raise("Invalid value for clearPropertiesOnDestroy"),n.add(e))}}),f.callOverridden=f.callParent,Ext.privacyViolation=function(e,t,n,i){var r=n.$name,o=t.$owner&&t.$owner.$className,a=i?"static ":"",s=n.$privacy?"Private "+a+n.$privacy+' method "'+r+'"':"Public "+a+'method "'+r+'"';e.$className&&(s=e.$className+": "+s),t.$privacy?s+=o?" conflicts with private "+t.$privacy+" method declared by "+o:" conflicts with inherited private "+t.$privacy+" method.":s+=o?" hides public method inherited from "+o:" hides inherited public method.";var l=Ext.getCompatVersion(),d=Ext.getVersion();d&&l&&l.lt(d)?Ext.log.error(s):Ext.raise(s)},h}(Ext.Function.flexSetter),(Ext.util||(Ext.util={})).Cache=Cache=function(e){var t;e&&Ext.apply(this,e),this.head=t={id:this.seed=0,key:null,value:null},this.map={},t.next=t.prev=t},Cache.prototype=prototype={maxSize:100,count:0,clear:function(){var e=this.head,t=e.next;if(e.next=e.prev=e,!this.evict.$nullFn)for(;t!==e;t=t.next)this.evict(t.key,t.value);this.count=0},each:function(e,t){t=t||this;for(var n=this.head,i=n.next;i!==n&&!e.call(t,i.key,i.value);i=i.next);},get:function(e){var t=this,n=t.head,i=t.map,r=i[e];if(r)r.prev!==n&&(t.unlinkEntry(r),t.linkEntry(r));else for(i[e]=r={id:++t.seed,key:e,value:t.miss.apply(t,arguments)},t.linkEntry(r),++t.count;t.count>t.maxSize;)t.unlinkEntry(n.prev,!0),--t.count;return r.value},evict:Ext.emptyFn,linkEntry:function(e){var t=this.head,n=t.next;e.next=n,e.prev=t,t.next=e,n.prev=e},unlinkEntry:function(e,t){var n=e.next,i=e.prev;i.next=n,n.prev=i,t&&this.evict(e.key,e.value)}},prototype.destroy=prototype.clear,function(){var e,t=Ext.Base,n=t.$staticMembers,i=function(e,t){return e.length-t.length||(e<t?-1:e>t?1:0)};function r(e){function t(){return this.constructor.apply(this,arguments)||null}return e&&(t.name=e),t}Ext.Class=e=function(t,n,i){return"function"!=typeof t&&(i=n,n=t,t=null),n||(n={}),t=e.create(t,n),e.process(t,n,i),t},Ext.apply(e,{makeCtor:r,onBeforeCreated:function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,">> Ext.Class#onBeforeCreated",arguments),e.addMembers(t),n.onCreated.call(e,e),Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"<< Ext.Class#onBeforeCreated",arguments)},create:function(e,i){var o,a=n.length;for(e||(e=r(i.$className));a--;)e[o=n[a]]=t[o];return e},process:function(t,n,i){var r,o,a,s,l,d,c,u=n.preprocessors||e.defaultPreprocessors,h=this.preprocessors,f={onBeforeCreated:this.onBeforeCreated},g=[];for(delete n.preprocessors,t._classHooks=f,a=0,s=u.length;a<s;a++)if("string"==typeof(r=u[a])){if(!0===(o=(r=h[r]).properties))g.push(r.fn);else if(o)for(l=0,d=o.length;l<d;l++)if(c=o[l],n.hasOwnProperty(c)){g.push(r.fn);break}}else g.push(r);f.onCreated=i||Ext.emptyFn,f.preprocessors=g,this.doProcess(t,n,f)},doProcess:function(e,t,n){for(var i=n.preprocessors,r=i.shift(),o=this.doProcess;r;r=i.shift())if(!1===r.call(this,e,t,n,o))return;n.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(e,t,n,i,r){return i||(i="last"),n||(n=[e]),this.preprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPreprocessorPosition(e,i,r),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=Ext.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,n){var i,r=this.defaultPreprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return-1!==(i=Ext.Array.indexOf(r,n))&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this}}),e.registerPreprocessor("extend",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#extendPreProcessor",arguments);var i,r,o,a=Ext.Base,s=a.prototype,l=t.extend;if(delete t.extend,r=(i=l&&l!==Object?l:a).prototype,!i.$isClass)for(o in s)r[o]||(r[o]=s[o]);e.extend(i),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)},!0),e.registerPreprocessor("privates",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#privatePreprocessor",arguments);var n=t.privates,i=n.statics,r=n.privacy||!0;delete t.privates,delete n.statics,e.addMembers(n,!1,r),i&&e.addMembers(i,!0,r)}),e.registerPreprocessor("statics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#staticsPreprocessor",arguments),e.addStatics(t.statics),delete t.statics}),e.registerPreprocessor("inheritableStatics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#inheritableStaticsPreprocessor",arguments),e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics}),Ext.createRuleFn=function(e){return new Function("$c","with($c) { try { return ("+e+"); } catch(e) { return false;}}")},Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn}),Ext.ruleKeySortFn=i,Ext.getPlatformConfigKeys=function(e){var t,n=[];for(t in e)Ext.expressionCache.get(t)(Ext.platformTags)&&n.push(t);return n.sort(i),n},e.registerPreprocessor("platformConfig",function(e,t,n){e.addPlatformConfig(t)}),e.registerPreprocessor("config",function(e,t){t.hasOwnProperty("$configPrefixed")&&(e.prototype.$configPrefixed=t.$configPrefixed),e.addConfig(t.config),delete t.config}),e.registerPreprocessor("cachedConfig",function(e,t){t.hasOwnProperty("$configPrefixed")&&(e.prototype.$configPrefixed=t.$configPrefixed),e.addCachedConfig(t.cachedConfig),delete t.cachedConfig}),e.registerPreprocessor("mixins",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor",arguments);var i=t.mixins,r=n.onCreated;delete t.mixins,n.onCreated=function(){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor#beforeCreated",arguments),n.onCreated=r,e.mixin(i),n.onCreated.apply(this,arguments)}}),Ext.extend=function(t,n,i){var r;if(Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#extend-backwards-compatible",arguments),2===arguments.length&&Ext.isObject(n)&&(i=n,n=t,t=null),!n)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return i.extend=n,i.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"],t?(r=new e(t,i)).prototype.constructor=t:r=new e(i),r.prototype.override=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},r}}(),Ext.Inventory=function(){var e=this;e.names=[],e.paths={},e.alternateToName={},e.aliasToName={},e.nameToAliases={},e.nameToAlternates={},e.nameToPrefix={}},Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(e,t,n){return this.addMapping(e,t,this.aliasToName,this.nameToAliases,n)},addAlternate:function(e,t){return this.addMapping(e,t,this.alternateToName,this.nameToAlternates)},addMapping:function(e,t,n,i,r){var o,a,s,l,d,c,u=e.$className||e,h=u,f=this._array1;for(s in Ext.isString(u)&&((h={})[u]=t),h)for(a=h[s],Ext.isString(a)&&(f[0]=a,a=f),d=a.length,c=i[s]||(i[s]=[]),l=0;l<d;++l)(o=a[l])&&n[o]!==s&&(!r&&n[o]&&Ext.log.warn("Overriding existing mapping: '"+o+"' From '"+n[o]+"' to '"+s+"'. Is this intentional?"),n[o]=s,c.push(o))},getAliasesByName:function(e){return this.nameToAliases[e]||null},getAlternatesByName:function(e){return this.nameToAlternates[e]||null},getNameByAlias:function(e){return this.aliasToName[e]||""},getNameByAlternate:function(e){return this.alternateToName[e]||""},getNamesByExpression:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=c.aliasToName,h=c.alternateToName,f=c.nameToAliases,g=c.nameToAlternates,p=n?t:{},m=[],x=Ext.isString(e)?[e]:e,E=x.length,v=c.wildcardRe;for(r=0;r<E;++r)if((i=x[r]).indexOf("*")<0)(l=u[i])||(l=h[i])||(l=i),l in p||t&&l in t||(p[l]=1,m.push(l));else for(l in d=new RegExp("^"+i.replace(v,"(.*?)")+"$"),f)if(!(l in p||t&&l in t)){if(!(a=d.test(l))){for(s=(o=f[l]).length;!a&&s-- >0;)a=d.test(o[s]);if((o=g[l])&&!a)for(s=o.length;!a&&s-- >0;)a=d.test(o[s])}a&&(p[l]=1,m.push(l))}return m},getPath:function(e){var t,n=this,i=n.paths,r="";return e in i?r=i[e]:((t=n.nameToPrefix[e]||(n.nameToPrefix[e]=n.getPrefix(e)))&&(e=e.substring(t.length+1),(r=i[t])&&(r+="/")),r+=e.replace(n.dotRe,"/")+".js"),r},getPrefix:function(e){if(e in this.paths)return e;if(e in this.nameToPrefix)return this.nameToPrefix[e];for(var t,n,i,r,o=this.getPrefixes(),a=e.length;a-- >0;)if(t=o[a]){if("."!==e.charAt(a))continue;for(e.substring(0,a),i=0,r=t.length;i<r;i++)if((n=t[i])===e.substring(0,a))return n}return""},getPrefixes:function(){var e,t,n,i,r,o=this.prefixes;if(!o)for(e=this.names.slice(0),this.prefixes=o=[],i=0,r=e.length;i<r;i++)(o[n=(t=e[i]).length]||(o[n]=[])).push(t);return o},removeName:function(e){var t,n,i=this,r=i.aliasToName,o=i.alternateToName,a=i.nameToAliases,s=i.nameToAlternates,l=a[e],d=s[e];if(delete a[e],delete s[e],delete i.nameToPrefix[e],l)for(t=l.length;t--;)e===(n=l[t])&&delete r[n];if(d)for(t=d.length;t--;)e===(n=d[t])&&delete o[n]},resolveName:function(e){var t;return e in this.nameToAliases||(t=this.aliasToName[e])||(t=this.alternateToName[e]),t||e},select:function(e,t){var n,i=this,r={},o={excludes:r,exclude:function(){return i.getNamesByExpression(arguments,r,!0),this}};for(n in e)o[n]=i.selectMethod(r,e[n],t||e);return o},selectMethod:function(e,t,n){var i=this;return function(r){var o=Ext.Array.slice(arguments,1);return o.unshift(i.getNamesByExpression(r,e)),t.apply(n,o)}},setPath:Ext.Function.flexSetter(function(e,t){var n=this;return n.paths[e]=t,n.names.push(e),n.prefixes=null,n.nameToPrefix={},n})},Ext.ClassManager=function(e,t,n,i,r){var o=Ext.Class.makeCtor,a=[],s={Ext:{name:"Ext",value:Ext}},l=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(e){if("string"!=typeof e||e.length<1)throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty");return!(!l.classes[e]&&!l.existCache[e])||!!l.lookupName(e,!1)&&(l.triggerCreated(e),!0)},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(e,t){l.existCache[e]=t||1,l.classState[e]+=40,l.notify(e,l.createdListeners,l.nameCreatedListeners)},onCreated:function(e,t,n){l.addListener(e,t,n,l.createdListeners,l.nameCreatedListeners)},notify:function(e,t,n){var i,r,o,a,s,d,c=l.getAlternatesByName(e),u=[e];for(i=0,r=t.length;i<r;i++)(s=t[i]).fn.call(s.scope,e);for(;u;){for(i=0,r=u.length;i<r;i++)if(t=n[d=u[i]]){for(o=0,a=t.length;o<a;o++)(s=t[o]).fn.call(s.scope,d);delete n[d]}u=c,c=null}},addListener:function(e,t,n,i,r){if(Ext.isArray(n))for(e=Ext.Function.createBarrier(n.length,e,t),o=0;o<n.length;o++)this.addListener(e,null,n[o],i,r);else{var o,a={fn:e,scope:t};if(n){if(this.isCreated(n))return void e.call(t,n);r[n]||(r[n]=[]),r[n].push(a)}else i.push(a)}},$namespaceCache:s,addRootNamespaces:function(e){for(var t in e)s[t]={name:t,value:e[t]}},clearNamespaceCache:function(){for(var e in a.length=0,s)s[e].value||delete s[e]},getNamespaceEntry:function(e){if("string"!=typeof e)return e;var t,n=s[e];return n||(n=(t=e.lastIndexOf("."))<0?{name:e}:{name:e.substring(t+1),parent:l.getNamespaceEntry(e.substring(0,t))},s[e]=n),n},lookupName:function(e,t){var n,i,r=l.getNamespaceEntry(e),o=Ext.global,s=0;for(n=r;n;n=n.parent)a[s++]=n;for(;o&&s-- >0;)i=o,!(o=(n=a[s]).value||o[n.name])&&t&&(i[n.name]=o={});return o},setNamespace:function(e,t){var n=l.getNamespaceEntry(e),i=Ext.global;return n.parent&&(i=l.lookupName(n.parent,!0)),i[n.name]=t,t},setXType:function(e,t){var n=e.$className,i=(n?e:l.get(n=e)).prototype,r=i.xtypes,o=i.xtypesChain,a=i.xtypesMap;i.hasOwnProperty("xtypes")||(i.xtypes=r=[],i.xtypesChain=o=o?o.slice(0):[],i.xtypesMap=a=Ext.apply({},a)),l.addAlias(n,"widget."+t,!0),r.push(t),o.push(t),a[t]=!0},set:function(e,t){var n=l.getName(t);return l.classes[e]=l.setNamespace(e,t),n&&n!==e&&l.addAlternate(n,e),l},get:function(e){return l.classes[e]||l.lookupName(e,!1)},addNameAliasMappings:function(e){l.addAlias(e)},addNameAlternateMappings:function(e){l.addAlternate(e)},getByAlias:function(e){return l.get(l.getNameByAlias(e))},getByConfig:function(e,t){var n,i=e.xclass;return i?n=i:((n=e.xtype)?t="widget.":n=e.type,n=l.getNameByAlias(t+n)),l.get(n)},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(t,n,i){if(null!=t&&"string"!=typeof t)throw new Error("[Ext.define] Invalid class name '"+t+"' specified, must be a non-empty string");var r=o(t);return"function"==typeof n&&(n=n(r)),t&&(l.classes[t]&&Ext.log.warn("[Ext.define] Duplicate class name '"+t+"' specified, must be a non-empty string"),r.name=t),n.$className=t,new e(r,n,function(){var e,r,o,a,s,d,c,u=n.postprocessors||l.defaultPostprocessors,h=l.postprocessors,f=[];for(delete n.postprocessors,r=0,o=u.length;r<o;r++)if("string"==typeof(e=u[r])){if(!0===(d=(e=h[e]).properties))f.push(e.fn);else if(d)for(a=0,s=d.length;a<s;a++)if(c=d[a],n.hasOwnProperty(c)){f.push(e.fn);break}}else f.push(e);n.postprocessors=f,n.createdFn=i,l.processCreate(t,this,n)})},processCreate:function(e,t,n){var i=this,r=n.postprocessors.shift(),o=n.createdFn;if(!r)return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classCreated",arguments),e&&i.set(e,t),delete t._classHooks,o&&o.call(t,t),void(e&&i.triggerCreated(e));!1!==r.call(i,e,t,n,i.processCreate)&&i.processCreate(e,t,n)},createOverride:function(e,t,n){var i,r,o=this,a=t.override,s=t.requires,d=t.uses,c=t.mixins,u=1,h=function(){var l,u,f,g,p;if(!r){if(u=s?s.slice(0):[],c)if(i=c instanceof Array)for(f=0,p=c.length;f<p;++f)Ext.isString(l=c[f])&&u.push(l);else for(g in c)Ext.isString(l=c[g])&&u.push(l);if(r=!0,u.length)return void Ext.require(u,h)}if(i)for(f=0,p=c.length;f<p;++f)Ext.isString(l=c[f])&&(c[f]=Ext.ClassManager.get(l));else if(c)for(g in c)Ext.isString(l=c[g])&&(c[g]=Ext.ClassManager.get(l));l=a.$isClass?a:o.get(a),delete t.override,delete t.compatibility,delete t.requires,delete t.uses,Ext.override(l,t),Ext.Loader.history.push(e),d&&Ext.Loader.addUsedClasses(d),n&&n.call(l,l)};return e&&(l.overrideMap[e]=!0),"compatibility"in t&&((u=t.compatibility)?"number"==typeof u?u=!0:"boolean"!=typeof u&&(u=Ext.checkVersion(u)):u=!1),u&&(a.$isClass?h():o.onCreated(h,o,a)),o.triggerCreated(e,2),o},instantiateByAlias:function(){var e=arguments[0],t=n.call(arguments),i=this.getNameByAlias(e);if(!i)throw new Error("[Ext.createByAlias] Unrecognized alias: "+e);return t[0]=i,Ext.create.apply(Ext,t)},instantiate:function(){return Ext.log.warn("Ext.ClassManager.instantiate() is deprecated.  Use Ext.create() instead."),Ext.create.apply(Ext,arguments)},dynInstantiate:function(e,t){return(t=i(t,!0)).unshift(e),Ext.create.apply(Ext,t)},getInstantiator:function(e){var t,n,i,r=this.instantiators;if(!(t=r[e])){for(n=e,i=[],n=0;n<e;n++)i.push("a["+n+"]");(t=r[e]=new Function("c","a","return new c("+i.join(",")+")")).name="Ext.create"+e}return t},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,n,i,r){return i||(i="last"),n||(n=[e]),this.postprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPostprocessorPosition(e,i,r),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=i(e),this},setDefaultPostprocessorPosition:function(e,t,n){var i,r=this.defaultPostprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return-1!==(i=Ext.Array.indexOf(r,n))&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this}});if(l.registerPostprocessor("alias",function(e,n,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPostProcessor",arguments);var r,o,a=Ext.Array.from(i.alias);for(r=0,o=a.length;r<o;r++)t=a[r],this.addAlias(n,t)},["xtype","alias"]),l.registerPostprocessor("singleton",function(e,t,n,i){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#singletonPostProcessor",arguments),!n.singleton||(i.call(this,e,new t,n),!1)}),l.registerPostprocessor("alternateClassName",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#alternateClassNamePostprocessor",arguments);var i,r,o,a=n.alternateClassName;for(a instanceof Array||(a=[a]),i=0,r=a.length;i<r;i++){if("string"!=typeof(o=a[i]))throw new Error("[Ext.define] Invalid alternate of: '"+o+"' for class: '"+e+"'; must be a valid string");this.set(o,t)}}),l.registerPostprocessor("debugHooks",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#debugHooks",arguments),Ext.isDebugEnabled(t.$className,n.debugHooks.$enabled)&&(delete n.debugHooks.$enabled,Ext.override(t,n.debugHooks)),delete(t.isInstance?t.self:t).prototype.debugHooks}),l.registerPostprocessor("deprecated",function(e,t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#deprecated",arguments);var i=t.isInstance?t.self:t;i.addDeprecations(n.deprecated),delete i.prototype.deprecated}),Ext.apply(Ext,{create:function(){var e,t=arguments[0],i=typeof t,r=n.call(arguments,1);if("function"===i)e=t;else{if("string"!==i&&0===r.length&&(r=[t],(t=t.xclass)||(t=r[0].xtype)&&(t="widget."+t)),"string"!=typeof t||t.length<1)throw new Error("[Ext.create] Invalid class name or alias '"+t+"' specified, must be a non-empty string");t=l.resolveName(t),e=l.get(t)}if(e||(Ext.log.warn("[Ext.Loader] Synchronously loading '"+t+"'; consider adding Ext.require('"+t+"') above Ext.onReady"),Ext.syncRequire(t),e=l.get(t)),!e)throw new Error("[Ext.create] Unrecognized class name / alias: "+t);if("function"!=typeof e)throw new Error("[Ext.create] Singleton '"+t+"' cannot be instantiated.");return l.getInstantiator(r.length)(e,r)},widget:function(e,t){var n,i,r,o=e;return"string"!=typeof o?(o=(t=e).xtype,i=t.xclass):t=t||{},t.isComponent?t:(i||(n="widget."+o,i=l.getNameByAlias(n)),i&&(r=l.get(i)),r?new r(t):Ext.create(i||n,t))},createByAlias:t(l,"instantiateByAlias"),define:function(e,t,n){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"ClassManager#define",arguments),t.override?(l.classState[e]=20,l.createOverride.apply(l,arguments)):(l.classState[e]=10,l.create.apply(l,arguments))},undefine:function(e){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#undefine",arguments),delete l.classes[e],delete l.existCache[e],delete l.classState[e],l.removeName(e);var t=l.getNamespaceEntry(e),n=t.parent?l.lookupName(t.parent,!1):Ext.global;if(n)try{delete n[t.name]}catch(e){n[t.name]=void 0}},getClassName:t(l,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return Ext.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:t(l,"getClass"),namespace:function(){var e,t=r;for(e=arguments.length;e-- >0;)t=l.lookupName(arguments[e],!0);return t}}),Ext.addRootNamespaces=l.addRootNamespaces,Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,e.registerPreprocessor("className",function(e,t){"$className"in t&&(e.$className=t.$className,e.displayName=e.$className),Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classNamePreprocessor",arguments)},!0,"first"),e.registerPreprocessor("alias",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPreprocessor",arguments);var n,r,o,a,s=e.prototype,l=i(t.xtype),d=i(t.alias),c="widget.".length,u=Array.prototype.slice.call(s.xtypesChain||[]),h=Ext.merge({},s.xtypesMap||{});for(n=0,r=d.length;n<r;n++){if("string"!=typeof(o=d[n])||o.length<1)throw new Error("[Ext.define] Invalid alias of: '"+o+"' for class: '"+void 0+"'; must be a valid string");"widget."===o.substring(0,c)&&(a=o.substring(c),Ext.Array.include(l,a))}for(e.xtype=t.xtype=l[0],t.xtypes=l,n=0,r=l.length;n<r;n++)a=l[n],h[a]||(h[a]=!0,u.push(a));for(t.xtypesChain=u,t.xtypesMap=h,Ext.Function.interceptAfterOnce(e,"onClassCreated",function(){var e,t,i=this.prototype.mixins;for(e in Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.ClassManager#aliasPreprocessor#afterClassCreated",arguments),i)if(i.hasOwnProperty(e)&&(t=i[e],l=t.xtypes))for(n=0,r=l.length;n<r;n++)a=l[n],h[a]||(h[a]=!0,u.push(a))}),n=0,r=l.length;n<r;n++){if("string"!=typeof(a=l[n])||a.length<1)throw new Error("[Ext.define] Invalid xtype of: '"+a+"' for class: '"+void 0+"'; must be a valid non-empty string");Ext.Array.include(d,"widget."+a)}t.alias=d},["xtype","alias"]),Ext.manifest){var d,c,u,h,f=Ext.manifest,g=f.classes,p=f.paths,m={},x={};if(p){if(f.bootRelative)for(u in h=Ext.Boot.baseUrl,p)p.hasOwnProperty(u)&&(p[u]=h+p[u]);l.setPath(p)}if(g)for(d in g)x[d]=[],m[d]=[],(c=g[d]).alias&&(m[d]=c.alias),c.alternates&&(x[d]=c.alternates);l.addAlias(m),l.addAlternate(x)}return l}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),(Ext.env||(Ext.env={})).Browser=function(e,t){var n,i,r,o,a,s=this,l=Ext.Boot.browserPrefixes,d=Ext.Boot.browserNames,c=s.enginePrefixes,u=s.engineNames,h=e.match(new RegExp("((?:"+Ext.Object.getValues(l).join(")|(?:")+"))([\\w\\._]+)")),f=e.match(new RegExp("((?:"+Ext.Object.getValues(c).join(")|(?:")+"))([\\w\\._]+)")),g=d.other,p=u.other,m="",x="",E="",v=!1;if(s.userAgent=e,this.is=function(e){return!!this.is[e]},/Edge\//.test(e)&&(h=e.match(/(Edge\/)([\w.]+)/)),h&&("Safari"===(g=d[Ext.Object.getKey(l,h[1])])&&/^Opera/.test(e)&&(g="Opera"),m=new Ext.Version(h[2])),f&&(p=u[Ext.Object.getKey(c,f[1])],x=new Ext.Version(f[2])),"Trident"===p&&"IE"!==g){g="IE";var y=e.match(/.*rv:(\d+.\d+)/);y&&y.length&&(y=y[1],m=new Ext.Version(y))}if(g&&m&&Ext.setVersion(g,m),e.match(/FB/)&&"Other"===g&&(g=d.safari,p=u.webkit),e.match(/Android.*Chrome/g)&&(g="ChromeMobile"),e.match(/OPR/)&&(g="Opera",h=e.match(/OPR\/(\d+.\d+)/),m=new Ext.Version(h[1])),Ext.apply(this,{engineName:p,engineVersion:x,name:g,version:m}),this.setFlag(g,!0,t),m){if(E=m.getMajor()||"",s.is.IE)for(E=parseInt(E,10),7===(r=document.documentMode)||7===E&&8!==r&&9!==r&&10!==r?E=7:8===r||8===E&&8!==r&&9!==r&&10!==r?E=8:9===r||9===E&&7!==r&&8!==r&&10!==r?E=9:10===r||10===E&&7!==r&&8!==r&&9!==r?E=10:(11===r||11===E&&7!==r&&8!==r&&9!==r&&10!==r)&&(E=11),a=Math.max(E,Ext.Boot.maxIEVersion),n=7;n<=a;++n)i="isIE"+n,E<=n&&(Ext[i+"m"]=!0),E===n&&(Ext[i]=!0),E>=n&&(Ext[i+"p"]=!0);s.is.Opera&&parseInt(E,10)<=12&&(Ext.isOpera12m=!0),Ext.chromeVersion=Ext.isChrome?E:0,Ext.firefoxVersion=Ext.isFirefox?E:0,Ext.ieVersion=Ext.isIE?E:0,Ext.operaVersion=Ext.isOpera?E:0,Ext.safariVersion=Ext.isSafari?E:0,Ext.webKitVersion=Ext.isWebKit?E:0,this.setFlag(g+E,!0,t),this.setFlag(g+m.getShortVersion())}for(n in d)d.hasOwnProperty(n)&&(o=d[n],this.setFlag(o,g===o));for(n in this.setFlag(o),x&&(this.setFlag(p+(x.getMajor()||"")),this.setFlag(p+x.getShortVersion())),u)u.hasOwnProperty(n)&&(o=u[n],this.setFlag(o,p===o,t));this.setFlag("Standalone",!!navigator.standalone),this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple)),this.setFlag("WebWorks",!!window.blackberry),void 0===window.PhoneGap&&void 0===window.Cordova&&void 0===window.cordova||(v=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova")),/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(e)&&(v=!0),this.setFlag("WebView",v),this.isStrict=Ext.isStrict="CSS1Compat"===document.compatMode,this.isSecure=Ext.isSecure,this.identity=g+E+(this.isStrict?"Strict":"Quirks")},Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(e,t,n){return void 0===t&&(t=!0),this.is[e]=t,this.is[e.toLowerCase()]=t,n&&(Ext["is"+e]=t),this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(e){var t=this.propertyPrefixes[this.engineName];return t.length>0?t+Ext.String.capitalize(e):e},getPreferredTranslationMethod:function(e){return"object"==typeof e&&"translationMethod"in e&&"auto"!==e.translationMethod?e.translationMethod:"csstransform"}},userAgent=Ext.global.navigator.userAgent,Ext.browser=new Ext.env.Browser(userAgent,!0),Ext.userAgent=userAgent.toLowerCase(),Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank",Ext.env.OS=function(e,t,n){var i,r,o,a,s,l,d=Ext.Boot.osNames,c=Ext.Boot.osPrefixes,u="",h=this.is;for(r in n=n||Ext.browser,c)if(c.hasOwnProperty(r)&&(o=c[r],a=e.match(new RegExp("(?:"+o+")([^\\s;]+)")))){i=d[r],u=(l=a[1])&&"HTC_"===l?new Ext.Version("2.3"):l&&"Silk/"===l?new Ext.Version("2.3"):new Ext.Version(a[a.length-1]);break}for(r in i||(i=d[(e.toLowerCase().match(/mac|win|linux/)||["other"])[0]],u=new Ext.Version("")),this.name=i,this.version=u,e.match(/ipad/i)&&(t="iPad"),t&&this.setFlag(t.replace(/ simulator$/i,"")),this.setFlag(i),u&&(this.setFlag(i+(u.getMajor()||"")),this.setFlag(i+u.getShortVersion())),d)d.hasOwnProperty(r)&&(s=d[r],h.hasOwnProperty(i)||this.setFlag(s,i===s));"iOS"===this.name&&568===window.screen.height&&this.setFlag("iPhone5"),(n.is.Safari||n.is.Silk)&&((this.is.Android2||this.is.Android3||501===n.version.shortVersion)&&n.setFlag("AndroidStock"),this.is.Android4&&(n.setFlag("AndroidStock"),n.setFlag("AndroidStock4")))},Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(e){return!!this[e]},name:null,version:null,setFlag:function(e,t){return void 0===t&&(t=!0),this.flags&&(this.flags[e]=t),this.is[e]=t,this.is[e.toLowerCase()]=t,this}},function(){var e,t,n,i=Ext.global.navigator,r=i.userAgent,o=Ext.env.OS,a=Ext.is||(Ext.is={});o.prototype.flags=a,Ext.os=e=new o(r,i.platform),t=e.name,Ext["is"+t]=!0,Ext.isMac=a.Mac=a.MacOS;var s=window.location.search.match(/deviceType=(Tablet|Phone)/),l=window.deviceType;s&&s[1]?n=s[1]:"iPhone"===l?n="Phone":"iPad"===l?n="Tablet":e.is.Android||e.is.iOS||e.is.WindowsPhone||!/Windows|Linux|MacOS/.test(t)?n=e.is.iPad||e.is.RIMTablet||e.is.Android3||Ext.browser.is.Silk||e.is.Android&&-1===r.search(/mobile/i)?"Tablet":"Phone":(n="Desktop",Ext.browser.is.WebView=!!Ext.browser.is.Ripple),e.setFlag(n,!0),e.deviceType=n,delete o.prototype.flags}(),Ext.feature={has:function(e){return!!this.has[e]},testElements:{},getTestElement:function(e,t){if(void 0===e)e="div";else if("string"!=typeof e)return e;return t?document.createElement(e):(this.testElements[e]||(this.testElements[e]=document.createElement(e)),this.testElements[e])},isStyleSupported:function(e,t){var n=this.getTestElement(t).style,i=Ext.String.capitalize(e);return void 0!==n[e]||void 0!==n[Ext.browser.getStylePrefix(e)+i]},isStyleSupportedWithoutPrefix:function(e,t){return void 0!==this.getTestElement(t).style[e]},isEventSupported:function(e,t){void 0===t&&(t=window);var n=this.getTestElement(t),i="on"+e.toLowerCase(),r=i in n;return r||n.setAttribute&&n.removeAttribute&&(n.setAttribute(i,""),r="function"==typeof n[i],void 0!==n[i]&&(n[i]=void 0),n.removeAttribute(i)),r},getStyle:function(e,t){var n=e.ownerDocument.defaultView;return((n?n.getComputedStyle(e,null):e.currentStyle)||e.style)[t]},getSupportedPropertyName:function(e,t){var n=Ext.browser.getVendorProperyName(t);return n in e?n:t in e?t:null},detect:function(e){var t,n,i,r,o,a=this,s=document,l=a.toRun||a.tests,d=l.length,c=s.createElement("div"),u=[],h=Ext.supports,f=a.has;for(c.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>',e&&s.body.appendChild(c),r=a.preDetected[Ext.browser.identity]||[];d--;){if(i=l[d],o=r[d],t=i.name,n=i.names,void 0===o){if(!e&&i.ready){u.push(i);continue}o=i.fn.call(a,s,c)}if(t)h[t]=f[t]=o;else if(n)for(;n.length;)h[t=n.pop()]=f[t]=o}e&&s.body.removeChild(c),a.toRun=u},report:function(){var e,t=[],n=this.tests.length;for(e=0;e<n;++e)t.push(this.has[this.tests[e].name]?1:0);Ext.log(Ext.browser.identity+": ["+t.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var e=document.createElement("div");return e.expandoProp={},e.cloneNode().expandoProp===e.expandoProp}},{name:"CSSPointerEvents",fn:function(e){return"pointerEvents"in e.documentElement.style}},{name:"CSS3BoxShadow",fn:function(e){return"boxShadow"in e.documentElement.style||"WebkitBoxShadow"in e.documentElement.style||"MozBoxShadow"in e.documentElement.style}},{name:"CSS3NegationSelector",fn:function(e){try{e.querySelectorAll("foo:not(bar)")}catch(e){return!1}return!0}},{name:"ClassList",fn:function(e){return!!e.documentElement.classList}},{name:"Canvas",fn:function(){var e=this.getTestElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}},{name:"Svg",fn:function(e){return!(!e.createElementNS||!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var e,t=this.getTestElement();return t.innerHTML="\x3c!--[if vml]><br><![endif]--\x3e",e=1===t.childNodes.length,t.innerHTML="",e}},{name:"Touch",fn:function(){var e=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)?Ext.supports.TouchEvents&&1!==e||e>1:Ext.supports.TouchEvents||e>0}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},{name:"CreateContextualFragment",fn:function(){var e=!!document.createRange&&document.createRange();return e&&!!e.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&null!==window.localStorage)return localStorage.setItem("sencha-localstorage-test","test success"),localStorage.removeItem("sencha-localstorage-test"),!0}catch(e){}return!1}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var e=new XMLHttpRequest;return e&&"upload"in e&&"onprogress"in e.upload}return!1}},{name:"NumericInputPlaceHolder",fn:function(){return!(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"matchesSelector",fn:function(){var e=document.documentElement,t="matches",n="webkitMatchesSelector",i="msMatchesSelector",r="mozMatchesSelector";return e[t]?t:e[n]?n:e[i]?i:e[r]?r:null}},{name:"RightMargin",ready:!0,fn:function(e,t){var n=e.defaultView;return!(n&&"0px"!==n.getComputedStyle(t.firstChild.firstChild,null).marginRight)}},{name:"DisplayChangeInputSelectionBug",fn:function(){var e=Ext.webKitVersion;return 0<e&&e<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var e=Ext.webKitVersion;return 0<e&&e<534.24}},{name:"TransparentColor",ready:!0,fn:function(e,t,n){return!((n=e.defaultView)&&"transparent"!==n.getComputedStyle(t.lastChild,null).backgroundColor)}},{name:"ComputedStyle",ready:!0,fn:function(e,t,n){return(n=e.defaultView)&&n.getComputedStyle}},{name:"Float",fn:function(e){return"cssFloat"in e.documentElement.style}},{name:"CSS3BorderRadius",ready:!0,fn:function(e){var t,n=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],i=!1;for(t=0;t<n.length;t++)void 0!==e.documentElement.style[n[t]]&&(i=!0);return i&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(e,t){var n="background-image:",i="linear-gradient(left top, black, white)",r=[n+"-webkit-gradient(linear, left top, right bottom, from(black), to(white))",n+i,n+"-moz-linear-gradient(left top, black, white)",n+"-ms-linear-gradient(left top, black, white)",n+"-o-linear-gradient(left top, black, white)"];return t.style.cssText=r.join(";"),-1!==(""+t.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(e){return"onmouseenter"in e.documentElement&&"onmouseleave"in e.documentElement}},{name:"MouseWheel",fn:function(e){return"onmousewheel"in e.documentElement}},{name:"Opacity",fn:function(e,t){return!Ext.isIE8&&(t.firstChild.style.cssText="opacity:0.73","0.73"==t.firstChild.style.opacity)}},{name:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{name:"Direct2DBug",fn:function(e){return Ext.isString(e.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(e){return"getBoundingClientRect"in e.documentElement}},{name:"RotatedBoundingClientRect",ready:!0,fn:function(e){var t=e.body,n=!1,i=e.createElement("div"),r=i.style;return i.getBoundingClientRect&&(r.position="absolute",r.top="0",r.WebkitTransform=r.MozTransform=r.msTransform=r.OTransform=r.transform="rotate(90deg)",r.width="100px",r.height="30px",t.appendChild(i),n=100!==i.getBoundingClientRect().height,t.removeChild(i)),n}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:!0,fn:function(){var e,t=this.getTestElement();return t.innerHTML="<div>a</div>",e=t.firstChild,t.innerHTML="<div>b</div>","a"!==e.innerHTML}},{name:"IncludePaddingInWidthCalculation",ready:!0,fn:function(e,t){return 210===t.childNodes[1].firstChild.offsetWidth}},{name:"IncludePaddingInHeightCalculation",ready:!0,fn:function(e,t){return 210===t.childNodes[1].firstChild.offsetHeight}},{name:"TextAreaMaxLength",fn:function(e){return"maxlength"in e.createElement("textarea")}},{name:"GetPositionPercentage",ready:!0,fn:function(e,t){return"10%"===Ext.feature.getStyle(t.childNodes[2],"left")}},{name:"PercentageHeightOverflowBug",ready:!0,fn:function(e){var t,n,i=!1;return Ext.getScrollbarSize().height&&((t=(n=this.getTestElement()).style).height="50px",t.width="50px",t.overflow="auto",t.position="absolute",n.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),e.body.appendChild(n),50===n.firstChild.offsetHeight&&(i=!0),e.body.removeChild(n)),i}},{name:"xOriginBug",ready:!0,fn:function(e,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var n=document.getElementById("b1").getBoundingClientRect(),i=document.getElementById("b2").getBoundingClientRect(),r=document.getElementById("b3").getBoundingClientRect();return i.left!==n.left&&r.right!==n.right}},{name:"ScrollWidthInlinePaddingBug",ready:!0,fn:function(e){var t,n,i=!1;return(t=(n=e.createElement("div")).style).height="50px",t.width="50px",t.padding="10px",t.overflow="hidden",t.position="absolute",n.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',e.body.appendChild(n),70===n.scrollWidth&&(i=!0),e.body.removeChild(n),i}},{name:"rtlVertScrollbarOnRight",ready:!0,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var n=t.firstChild,i=n.firstChild;return i.offsetLeft+i.offsetWidth!==n.offsetLeft+n.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:!0,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var n=t.firstChild;return n.clientHeight===n.offsetHeight}},{identity:"defineProperty",fn:function(){return!Ext.isIE8m||(Ext.Object.defineProperty=Ext.emptyFn,!1)}},{identify:"nativeXhr",fn:function(){return"undefined"!=typeof XMLHttpRequest||(XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return null}},!1)}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(!Ext.isGecko&&!Ext.isIE||Ext.isOpera&&Ext.operaVersion<12)}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var e=document.documentMode;return"onhashchange"in window&&(void 0===e||e>7)}},{name:"FixedTableWidthBug",ready:!0,fn:function(){if(Ext.isIE8)return!1;var e,t=document.createElement("div"),n=document.createElement("div");return t.setAttribute("style","display:table;table-layout:fixed;"),n.setAttribute("style","display:table-cell;min-width:50px;"),t.appendChild(n),document.body.appendChild(t),t.offsetWidth,t.style.width="25px",e=t.offsetWidth,document.body.removeChild(t),50===e}},{name:"FocusinFocusoutEvents",fn:function(){return!Ext.isGecko}},{name:"AsyncFocusEvents",fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:"accessibility",ready:!0,fn:function(e){var t,n,i,r,o,a=e.body;function s(e){var t,n,i=[],r=0;-1!==e.indexOf("rgb(")?i=e.replace("rgb(","").replace(")","").split(", "):-1!==e.indexOf("#")&&(t=7===e.length?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/,(n=e.match(t))&&(i=["0x"+n[1],"0x"+n[2],"0x"+n[3]]));for(var o=0;o<i.length;o++)r+=parseInt(i[o]);return r}return t=e.createElement("div"),n=e.createElement("img"),i=t.style,Ext.apply(i,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+Ext.BLANK_IMAGE_URL+")"}),n.alt="",n.src=Ext.BLANK_IMAGE_URL,t.appendChild(n),a.appendChild(t),o=(i=t.currentStyle||t.style).backgroundImage,r={Images:1===n.offsetWidth&&"uninitialized"!==n.readyState,BackgroundImages:!(null!==o&&("none"===o||"url(invalid-url:)"===o)),BorderColors:i.borderTopColor!==i.borderRightColor,LightOnDark:s(i.color)-s(i.backgroundColor)>0},Ext.supports.HighContrastMode=!r.BackgroundImages,a.removeChild(t),t=n=null,r}},{name:"ViewportUnits",ready:!0,fn:function(e){if(Ext.isIE8)return!1;var t,n,i=e.body,r=document.createElement("div"),o=r.currentStyle||r.style;return i.appendChild(r),Ext.apply(o,{width:"50vw"}),t=parseInt(window.innerWidth/2,10),n=parseInt((window.getComputedStyle?getComputedStyle(r,null):r.currentStyle).width,10),i.removeChild(r),r=null,t===n}},{name:"CSSVariables",ready:!1,fn:function(e){if(!window.getComputedStyle)return!1;var t=window.getComputedStyle(e.documentElement);return t.getPropertyValue&&!!t.getPropertyValue("--x-supports-variables")}},{name:"Selectors2",ready:!1,fn:function(e){try{return!!e.querySelectorAll(":scope")}catch(e){return!1}}},{name:"CSSScrollSnap",ready:!1,fn:function(e){var t=e.documentElement.style;return"scrollSnapType"in t||"webkitScrollSnapType"in t||"msScrollSnapType"in t}},0]},Ext.feature.tests.pop(),Ext.supports={},Ext.feature.detect(),Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,events:[],firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var e=Ext.env.Ready,t=document;e.bound||("complete"===t.readyState?e.onReadyEvent({type:t.readyState||"body"}):(e.bound=1,Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop&&(e.bound=2,t.addEventListener("deviceready",e.onReadyEvent,!1)),t.addEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.addEventListener("load",e.onReadyEvent,!1)))},block:function(){++this.blocks,Ext.isReady=!1},fireReady:function(){var e=Ext.env.Ready;e.state||(Ext._readyTime=Ext.ticks(),Ext.isDomReady=!0,e.state=1,Ext.feature.detect(!0),e.delay?navigator.standalone?e.timer=Ext.defer(function(){e.timer=null,e.handleReadySoon()},1):e.handleReadySoon():e.handleReady())},handleReady:function(){1===this.state&&(this.state=2,Ext._beforeReadyTime=Ext.ticks(),this.invokeAll(),Ext._afterReadyTime=Ext.ticks())},handleReadySoon:function(e){var t=this;t.timer||(t.timer=Ext.defer(function(){t.timer=null,t.handleReady()},e||t.delay))},invoke:function(e){var t=e.delay;t?Ext.defer(e.fn,t,e.scope):Ext.elevateFunction?Ext.elevateFunction(e.fn,e.scope):e.fn.call(e.scope)},invokeAll:function(){Ext.elevateFunction?Ext.elevateFunction(this.doInvokeAll,this):this.doInvokeAll()},doInvokeAll:function(){var e,t=this,n=t.listeners;for(t.blocks||(Ext.isReady=!0),t.firing=!0;n.length;){if(t.sortGeneration!==t.generation&&(t.sortGeneration=t.generation,n.sort(t.sortFn)),e=n.pop(),t.blocks&&!e.dom){n.push(e);break}t.invoke(e)}t.firing=!1},makeListener:function(e,t,n){var i={fn:e,id:++this.nextId,scope:t,dom:!1,priority:0};return n&&Ext.apply(i,n),i.phase=i.dom?0:1,i},on:function(e,t,n){var i=Ext.env.Ready,r=i.makeListener(e,t,n);2!==i.state||i.firing||!r.dom&&i.blocks?(i.listeners.push(r),++i.generation,i.bound||i.bind()):i.invoke(r)},onReadyEvent:function(e){var t=Ext.env.Ready;Ext.elevateFunction?Ext.elevateFunction(t.doReadyEvent,t,arguments):t.doReadyEvent(e)},doReadyEvent:function(e){var t=this;e&&e.type&&t.events.push(e),t.bound>0&&(t.unbind(),t.bound=-1),t.state||t.fireReady()},sortFn:function(e,t){return-(e.phase-t.phase||t.priority-e.priority||e.id-t.id)},unblock:function(){var e=this;e.blocks&&(--e.blocks||2!==e.state||e.firing||e.invokeAll())},unbind:function(){var e=document;this.bound>1&&e.removeEventListener("deviceready",this.onReadyEvent,!1),e.removeEventListener("DOMContentLoaded",this.onReadyEvent,!1),window.removeEventListener("load",this.onReadyEvent,!1)}},Ready=Ext.env.Ready,Ext.isIE9m&&Ext.apply(Ready,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var e=!0;try{document.documentElement.doScroll("left")}catch(t){e=!1}return e&&document.body?Ready.onReadyEvent({type:"doScroll"}):Ready.scrollTimer=Ext.defer(Ready.pollScroll,20),e},bind:function(){if(!Ready.bound){var e,t=document;try{e=void 0===window.frameElement}catch(e){}if(e&&t.documentElement.doScroll){if(Ready.pollScroll())return}else Ready.pollScroll=Ext.emptyFn;"complete"===t.readyState?Ready.onReadyEvent({type:"already "+(t.readyState||"body")}):(t.attachEvent("onreadystatechange",Ready.onReadyStateChange),window.attachEvent("onload",Ready.onReadyEvent),Ready.bound=1)}},unbind:function(){document.detachEvent("onreadystatechange",Ready.onReadyStateChange),window.detachEvent("onload",Ready.onReadyEvent),Ext.isNumber(Ready.scrollTimer)&&(clearTimeout(Ready.scrollTimer),Ready.scrollTimer=null)},onReadyStateChange:function(){var e=document.readyState;Ready.readyStatesRe.test(e)&&Ready.onReadyEvent({type:e})}}),Ext.onDocumentReady=function(e,t,n){var i={dom:!0};n&&Ext.apply(i,n),Ready.on(e,t,i)},Ext.onReady=function(e,t,n){Ready.on(e,t,n)},Ext.onInternalReady=function(e,t,n){Ready.on(e,t,Ext.apply({priority:1e3},n))},Ready.bind(),Ext.Loader=new function(){var e=this,t=Ext.ClassManager,n=Ext.Boot,i=Ext.Class,r=Ext.env.Ready,o=Ext.Function.alias,a=["extend","mixins","requires"],s={},l=[],d=[],c=[],u={},h={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",paths:t.paths,preserveScripts:!0,scriptCharset:void 0},f={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:"loadDelay"};Ext.apply(e,{isInHistory:s,isLoading:!1,history:l,config:h,readyListeners:d,optionalRequires:c,requiresMap:u,hasFileLoadError:!1,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:!1,init:function(){var n,i,o,a,s,l=document.getElementsByTagName("script"),d=l[l.length-1].src,c=d.substring(0,d.lastIndexOf("/")+1),u=Ext._classPathMetadata,h=Ext.Microloader,f=Ext.manifest;if(-1!==d.indexOf("packages/core/src/")?c+="../../":-1!==d.indexOf("/core/src/class/")&&(c+="../../../"),t.getPath("Ext")||t.setPath("Ext",c+"src"),u&&(Ext._classPathMetadata=null,e.addClassPathMappings(u)),f&&(n=f.loadOrder,i=Ext.Boot.baseUrl,n&&f.bootRelative))for(o=n.length,a=0;a<o;a++)(s=n[a]).path=i+s.path,s.canonicalPath=!0;h&&(r.block(),h.onMicroloaderReady(function(){r.unblock()}))},setConfig:Ext.Function.flexSetter(function(t,i){if("paths"===t)e.setPath(i);else{h[t]=i;var r=f[t];r&&n.setConfig(!0===r?t:r,i)}return e}),getConfig:function(e){return e?h[e]:h},setPath:function(){return t.setPath.apply(t,arguments),e},addClassPathMappings:function(n){return t.setPath(n),e},addBaseUrlClassPathMappings:function(e){for(var t in e)e[t]=n.baseUrl+e[t];Ext.Loader.addClassPathMappings(e)},getPath:function(e){return t.getPath(e)},require:function(n,i,r,o){if(o)return e.exclude(o).require(n,i,r);var a=t.getNamesByExpression(n);return e.load(a,i,r)},syncRequire:function(){var t=e.syncModeEnabled;e.syncModeEnabled=!0;var n=e.require.apply(e,arguments);return e.syncModeEnabled=t,n},exclude:function(n){var i=t.select({require:function(t,n,i){return e.load(t,n,i)},syncRequire:function(t,n,i){var r=e.syncModeEnabled;e.syncModeEnabled=!0;var o=e.load(t,n,i);return e.syncModeEnabled=r,o}});return i.exclude(n),i},load:function(n,i,r){i&&(i.length&&(i=e.makeLoadCallback(n,i)),i=i.bind(r||Ext.global));var o,a,s,l=t.classState,d=[],c=[],u={},f=n.length;for(a=0;a<f;++a)o=t.resolveName(n[a]),t.isCreated(o)||(d.push(o),l[o]||(u[o]=e.getPath(o),c.push(u[o])));return(s=d.length)?(e.missingCount+=s,t.onCreated(function(){i&&Ext.callback(i,r,arguments),e.checkReady()},e,d),h.enabled||Ext.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(d.length>1?"es":"")+": "+d.join(", ")),c.length?e.loadScripts({url:c,_classNames:d,_urlByClass:u}):e.checkReady()):(i&&i.call(r),e.checkReady()),e.syncModeEnabled&&1===f?t.get(n[0]):e},makeLoadCallback:function(e,n){return function(){for(var i=[],r=e.length;r-- >0;)i[r]=t.get(e[r]);return n.apply(this,i)}},onLoadFailure:function(){var t=this.onError;e.hasFileLoadError=!0,--e.scriptsLoading,t?t.call(this.userScope,this):Ext.log.error("[Ext.Loader] Some requested files failed to load."),e.checkReady()},onLoadSuccess:function(){var n,i,r,o=this.onLoad,a=this._classNames,s=this._urlByClass,l=t.classState,d=e.missingQueue;for(--e.scriptsLoading,o&&o.call(this.userScope,this),i=0,r=a.length;i<r;i++)l[n=a[i]]||(d[n]=s[n]);e.checkReady()},reportMissingClasses:function(){if(!e.syncModeEnabled&&!e.scriptsLoading&&e.isLoading&&!e.hasFileLoadError){var t=e.missingQueue,n=[],i=[];for(var r in t)n.push(r),i.push(t[r]);if(n.length)throw new Error("The following classes are not declared even if their files have been loaded: '"+n.join("', '")+"'. Please check the source code of their corresponding files for possible typos: '"+i.join("', '"))}},onReady:function(t,n,i,o){if(i)r.on(t,n,o);else{var a=r.makeListener(t,n,o);e.isLoading?d.push(a):r.invoke(a)}},addUsedClasses:function(t){var n,i,r;if(t)for(i=0,r=(t="string"==typeof t?[t]:t).length;i<r;i++)"string"!=typeof(n=t[i])||Ext.Array.contains(c,n)||c.push(n);return e},triggerReady:function(){var t,n=c;if(e.isLoading&&n.length)c=[],e.require(n);else{for(e.isLoading=!1,d.sort(r.sortFn);d.length&&!e.isLoading;)t=d.pop(),r.invoke(t);r.unblock()}},historyPush:function(n){return!n||s[n]||t.overrideMap[n]||(s[n]=!0,l.push(n)),e},loadScripts:function(t){var i,r=Ext.manifest,o=r&&r.loadOrder,a=r&&r.loadOrderMap;++e.scriptsLoading,o&&!a&&(r.loadOrderMap=a=n.createLoadOrderMap(o)),e.checkReady(),(i=Ext.apply({loadOrder:o,loadOrderMap:a,charset:h.scriptCharset,success:e.onLoadSuccess,failure:e.onLoadFailure,sync:e.syncModeEnabled,_classNames:[]},t)).userScope=i.scope,i.scope=i,n.load(i)},loadScriptsSync:function(t){var n=e.syncModeEnabled;e.syncModeEnabled=!0,e.loadScripts({url:t}),e.syncModeEnabled=n},loadScriptsSyncBasePrefix:function(t){var n=e.syncModeEnabled;e.syncModeEnabled=!0,e.loadScripts({url:t,prependBaseUrl:!0}),e.syncModeEnabled=n},loadScript:function(t){var n=!(t instanceof Array)&&!("string"==typeof t),i=n?t.url:t,r=n&&t.onError,o=n&&t.onLoad,a={url:i,scope:n&&t.scope,onLoad:o,onError:r,_classNames:[]};e.loadScripts(a)},checkMissingQueue:function(){var n,i=e.missingQueue,r={},o=0;for(n in i)t.classState[n]||t.isCreated(n)||(r[n]=i[n],o++);e.missingCount=o,e.missingQueue=r},checkReady:function(){var t,n=e.isLoading;e.checkMissingQueue(),(t=e.missingCount+e.scriptsLoading)&&!n?(r.block(),e.isLoading=!!t):!t&&n&&e.triggerReady(),!e.scriptsLoading&&e.missingCount&&Ext.defer(function(){if(!e.scriptsLoading&&e.missingCount)for(var t in Ext.log.error("[Loader] The following classes failed to load:"),e.missingQueue)Ext.log.error("[Loader] "+t+" from "+e.missingQueue[t])},1e3)}}),Ext.require=o(e,"require"),Ext.syncRequire=o(e,"syncRequire"),Ext.exclude=o(e,"exclude"),i.registerPreprocessor("loader",function(n,i,r,o){Ext.classSystemMonitor&&Ext.classSystemMonitor(n,"Ext.Loader#loaderPreprocessor",arguments);var l,d,c,h,f,g,p,m,x,E=this,v=[],y=t.getName(n);for(d=0,h=a.length;d<h;d++)if(p=a[d],i.hasOwnProperty(p))if("string"==typeof(m=i[p]))v.push(m);else if(m instanceof Array)for(c=0,f=m.length;c<f;c++)"string"==typeof(g=m[c])&&v.push(g);else if("function"!=typeof m)for(c in m)m.hasOwnProperty(c)&&"string"==typeof(g=m[c])&&v.push(g);if(0!==v.length){y&&(u[y]=v);var b,C=Ext.manifest&&Ext.manifest.classes,S=[];if(y&&(!C||!C[y])){for(x=e.requiredByMap||(e.requiredByMap={}),d=0,h=v.length;d<h;d++)(x[l=v[d]]||(x[l]=[])).push(y);(b=function(e){S.push(e);var t,n,i,r=u[e];if(r)for(Ext.Array.contains(r,y)&&Ext.Error.raise("Circular requirement detected! '"+y+"' and '"+S[1]+"' mutually require each other. Path: "+S.join(" -> ")+" -> "+S[0]),n=0,i=r.length;n<i;n++)t=r[n],s[t]||b(r[n])})(y)}return(y?e.exclude(y):e).require(v,function(){for(d=0,h=a.length;d<h;d++)if(p=a[d],i.hasOwnProperty(p))if("string"==typeof(m=i[p]))i[p]=t.get(m);else if(m instanceof Array)for(c=0,f=m.length;c<f;c++)"string"==typeof(g=m[c])&&(i[p][c]=t.get(g));else if("function"!=typeof m)for(var e in m)m.hasOwnProperty(e)&&"string"==typeof(g=m[e])&&(i[p][e]=t.get(g));o.call(E,n,i,r)}),!1}},!0,"after","className"),t.registerPostprocessor("uses",function(n,i,r){var o;Ext.classSystemMonitor&&Ext.classSystemMonitor(i,"Ext.Loader#usesPostprocessor",arguments),r.uses&&(o=t.getNamesByExpression(r.uses),e.addUsedClasses(o))}),t.onCreated(e.historyPush),e.init()},Ext._endTime=Ext.ticks(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.define("Ext.Mixin",function(e){return{statics:{addHook:function(e,t,n,i){var r=Ext.isFunction(e),o=function(){var t=arguments,n=r?e:i[e],o=this.callParent(t);return n.apply(this,t),o},a=t.hasOwnProperty(n)&&t[n];r&&(e.$previous=Ext.emptyFn),o.$name=n,o.$owner=t.self,a?(o.$previous=a.$previous,a.$previous=o):t[n]=o}},onClassExtended:function(t,n){var i,r,o,a,s=n.mixinConfig,l=n.xhooks,d=t.superclass,c=n.onClassMixedIn;l&&(delete n.xhooks,(s||(n.mixinConfig=s={})).on=l),s&&((i=d.mixinConfig)&&(n.mixinConfig=s=Ext.merge({},i,s)),n.mixinId=s.id,s.beforeHooks&&Ext.raise('Use of "beforeHooks" is deprecated - use "before" instead'),s.hooks&&Ext.raise('Use of "hooks" is deprecated - use "after" instead'),s.afterHooks&&Ext.raise('Use of "afterHooks" is deprecated - use "after" instead'),r=s.before,o=s.after,l=s.on,a=s.extended),(r||o||l||a)&&(n.onClassMixedIn=function(t){var n,i=this.prototype,s=t.prototype;if(r&&Ext.Object.each(r,function(e,n){t.addMember(e,function(){if(!1!==i[n].apply(this,arguments))return this.callParent(arguments)})}),o&&Ext.Object.each(o,function(e,n){t.addMember(e,function(){var e=this.callParent(arguments);return i[n].apply(this,arguments),e})}),l)for(n in l)e.addHook(l[n],s,n,i);a&&t.onExtended(function(){var e=Ext.Array.slice(arguments,0);return e.unshift(t),a.apply(this,e)},this),c&&c.apply(this,arguments)})}}}),Ext.util=Ext.util||{},Ext.util.DelayedTask=function(e,t,n,i,r){var o,a=this,s=function(){var i=Ext.GlobalEvents;clearInterval(a.id),a.id=null,e.apply(t,n||[]),!1!==r&&i.hasListeners.idle&&i.fireEvent("idle")};i="boolean"!=typeof i||i,a.id=null,a.delay=function(r,l,d,c){i&&a.cancel(),"number"==typeof r&&(o=r),e=l||e,t=d||t,n=c||n,a.id||(a.id=Ext.interval(s,o))},a.cancel=function(){a.id&&(clearInterval(a.id),a.id=null)}},Ext.define("Ext.util.Event",function(){var e=Array.prototype.slice,t=Ext.Array.insert,n=Ext.Array.toArray,i={};return{requires:"Ext.util.DelayedTask",isEvent:!0,suspended:0,noOptions:{},constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,n,i,r,o){var a,s,l,d,c,u,h,f,g,p=this,m=!1,x=p.observable,E=p.name;if(n&&!Ext._namedScopes[n]&&"string"==typeof e&&"function"!=typeof n[e]&&Ext.raise("No method named '"+e+"' found on scope object"),-1===p.findListener(e,n)){if(s=p.createListener(e,n,i,r,o),p.firing&&(p.listeners=p.listeners.slice(0)),f=h=(a=p.listeners).length,l=i&&i.priority,u=void 0!==(c=p._highestNegativePriorityIndex),l)if(!(d=l<0)||u){for(g=d?c:0;g<h;g++)if((a[g].o&&a[g].o.priority||0)<l){f=g;break}}else p._highestNegativePriorityIndex=f;else u&&(f=c);!d&&f<=c&&p._highestNegativePriorityIndex++,f===h?a[h]=s:t(a,f,[s]),x.isElement&&x._getPublisher(E).subscribe(x,E,!1!==i.delegated,i.capture),o&&(o.managedListeners||(o.managedListeners=[])).push({item:p.observable,ename:i&&i.managedName||p.name,fn:e,scope:n,options:i}),m=!0}return m},createListener:function(e,t,n,i,r){var o,a=this,s=Ext._namedScopes[t],l={fn:e,scope:t,ev:a,caller:i,manager:r,namedScope:s,defaultScope:s?t||a.observable:void 0,lateBound:"string"==typeof e},d=e,c=!1;return n&&(l.o=n,n.single&&(d=a.createSingle(d,l,n,t),c=!0),n.target&&(d=a.createTargeted(d,l,n,t,c),c=!0),n.onFrame&&(d=a.createAnimFrame(d,l,n,t,c),c=!0),n.delay&&(d=a.createDelayed(d,l,n,t,c),c=!0),n.buffer&&(d=a.createBuffered(d,l,n,t,c),c=!0),a.observable.isElement&&(o=n.type)&&(l.type=o)),l.fireFn=d,l.wrapped=c,l},findListener:function(e,t){for(var n,i=this.listeners,r=i.length;r--;)if((n=i[r])&&n.fn===e&&n.scope==t)return r;return-1},removeListener:function(e,t,n){var i,r,o,a,s,l,d=this,c=!1,u=d.observable,h=d.name;if(-1!==(n=null!=n?n:d.findListener(e,t))){if(i=d.listeners[n],d.firing&&(d.listeners=d.listeners.slice(0)),d.listeners.splice(n,1),d._highestNegativePriorityIndex&&(n<d._highestNegativePriorityIndex?d._highestNegativePriorityIndex--:n===d._highestNegativePriorityIndex&&n===d.listeners.length&&delete d._highestNegativePriorityIndex),i){if(r=i.o,i.task&&(i.task.cancel(),delete i.task),l=i.tasks&&i.tasks.length){for(;l--;)i.tasks[l].cancel();delete i.tasks}if((o=i.manager)&&(a=o.managedListeners))for(l=a.length;l--;)(s=a[l]).item===d.observable&&s.ename===h&&s.fn===e&&s.scope===t&&a.splice(l,1);u.isElement&&u._getPublisher(h).unsubscribe(u,h,!1!==r.delegated,r.capture)}c=!0}return c},clearListeners:function(){for(var e,t=this.listeners,n=t.length;n--;)e=t[n],this.removeListener(e.fn,e.scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return this.suspended>0},fireDelegated:function(e,t){return this.firingObservable=e,this.fire.apply(this,t)},fire:function(){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=this,x=Ext.ComponentQuery,E=m.listeners,v=E.length,y=m.observable,b=y.isElement,C=y.isComponent,S=m.firingObservable;if(!m.suspended&&v>0)for(m.firing=!0,s=(o=arguments.length?e.call(arguments,0):[]).length,b&&(f=o[0]),r=0;r<v;r++)if(a=E[r]){if(t=a.o,b&&(d&&f.setCurrentTarget(d),(c=a.type)&&(u=f,f=o[0]=u.chain({type:c})),Ext.EventObject=f),h=o,t){if(n=t.delegate)if(b){if(!(l=f.getTarget("#"+f.currentTarget.id+" "+n)))continue;o[1]=l,d=f.currentTarget,f.setCurrentTarget(l)}else if(C&&!x.is(S,n,y))continue;b&&(t.preventDefault&&f.preventDefault(),t.stopPropagation&&f.stopPropagation(),t.stopEvent&&f.stopEvent()),o[s]=t,t.args&&(h=t.args.concat(o))}if(g=(i=m.getFireInfo(a)).fn,p=i.scope,i.fn=i.scope=null,p&&p.destroyed&&("Ext.container.Monitor"!==p.$className&&Ext.raise({msg:'Attempting to fire "'+m.name+'" event on destroyed '+(p.$className||"object")+" instance with id: "+(p.id||"unknown"),instance:p}),m.removeListener(g,p,r),g=null),g&&!1===g.apply(p,h))return Ext.EventObject=null,m.firing=!1;t&&o.length--,u&&(f=o[0]=u,u=null),Ext.EventObject=null}return m.firing=!1,!0},getFireInfo:function(e,t){var n,r=this.observable,o=e.fireFn,a=e.scope,s=e.namedScope;if(!t&&e.wrapped)return i.fn=o,i;var l=n=t?e.fn:o;return e.lateBound?(a&&!s||(a=(e.caller||r).resolveListenerScope(e.defaultScope)),a||Ext.raise('Unable to dynamically resolve scope for "'+e.ev.name+'" listener on '+this.observable.id),Ext.isFunction(a[n])||Ext.raise('No method named "'+n+'" on '+(a.$className||"scope object.")),n=a[n]):s&&s.isController?(a=(e.caller||r).resolveListenerScope(e.defaultScope))||Ext.raise('Unable to dynamically resolve scope for "'+e.ev.name+'" listener on '+this.observable.id):a&&!s||(a=r),i.fn=n,i.scope=a,n||Ext.raise('Unable to dynamically resolve method "'+l+'" on '+this.observable.$className),i},createAnimFrame:function(e,t,n,i,r){var o;return r||(e=(o=t.ev.getFireInfo(t,!0)).fn,i=o.scope,o.fn=o.scope=null),Ext.Function.createAnimationFrame(e,i,n.args)},createTargeted:function(e,t,n,i,r){return function(){var o;if(n.target===arguments[0])return r||(o=t.ev.getFireInfo(t,!0),e=o.fn,i=o.scope,o.fn=o.scope=null),e.apply(i,arguments)}},createBuffered:function(e,t,i,r,o){return t.task=new Ext.util.DelayedTask,function(){var a;t.task&&(o||(a=t.ev.getFireInfo(t,!0),e=a.fn,r=a.scope,a.fn=a.scope=null),t.task.delay(i.buffer,e,r,n(arguments)))}},createDelayed:function(e,t,i,r,o){return function(){var a,s=new Ext.util.DelayedTask;o||(a=t.ev.getFireInfo(t,!0),e=a.fn,r=a.scope,a.fn=a.scope=null),t.tasks||(t.tasks=[]),t.tasks.push(s),s.delay(i.delay||10,e,r,n(arguments))}},createSingle:function(e,t,n,i,r){return function(){var n,o=t.ev,a=o.observable,s=t.fn;return a?a.removeListener(o.name,s,i):o.removeListener(s,i),r||(n=o.getFireInfo(t,!0),e=n.fn,i=n.scope,n.fn=n.scope=null),e.apply(i,arguments)}}}}),Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var e,t,n,i,r,o=this.id;return o||0===o||(e=this.self.prototype,t=this.defaultIdSeparator,i=Ext.mixin.Identifiable.uniqueIds,e.hasOwnProperty("identifiablePrefix")||(r=(n=this.xtype)?this.defaultIdPrefix+n.replace(this.idCleanRegex,t)+t:(r=e.$className)?r.replace(this.idCleanRegex,t).toLowerCase()+t:this.defaultIdPrefix+"anonymous"+t,e.identifiablePrefix=r),r=this.identifiablePrefix,i.hasOwnProperty(r)||(i[r]=0),o=this.id=this.id=r+ ++i[r]),this.getUniqueId=this.getOptimizedId,o},setId:function(e){this.id=this.id=e},getId:function(){var e=this.id;return e||(e=this.getUniqueId()),this.getId=this.getOptimizedId,e}}),Ext.define("Ext.mixin.Observable",function(e){var t=Ext.emptyFn,n=[],i=Array.prototype.slice,r=function(e){if(e instanceof r)return e;this.observable=e,arguments[1].isObservable&&(this.managedListeners=!0),this.args=i.call(arguments,1)},o=["events","hasListeners","managedListeners","eventedBeforeEventNames"];return r.prototype.destroy=function(){this.destroy=Ext.emptyFn;var e=this.observable;e.destroyed||e[this.managedListeners?"mun":"un"].apply(e,this.args)},{extend:"Ext.Mixin",mixinConfig:{id:"observable",after:{destroy:"destroyObservable"}},requires:["Ext.util.Event"],mixins:["Ext.mixin.Identifiable"],statics:{releaseCapture:function(e){e.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,t,n){this.captureArgs(e,function(e,i){return t.apply(n,[e].concat(i))},n)},captureArgs:function(e,t,n){e.fireEventArgs=Ext.Function.createInterceptor(e.fireEventArgs,t,n)},observe:function(e,t){return e&&(e.isObservable||(Ext.applyIf(e,new this),this.captureArgs(e.prototype,e.fireEventArgs,e)),Ext.isObject(t)&&e.on(t)),e},prepareClass:function(t,n,i){var r,a,s,l,d=t.listeners=[],c=i||t.prototype,u=c.listeners,h=n?n.listeners:t.superclass.self.listeners;if(h&&d.push(h),u&&((r=u.scope)?(a=Ext._namedScopes[r])&&a.isController&&(u.scope="self.controller"):u.scope="self",d.push(u),c.listeners=null),!t.HasListeners){var f=function(){},g=t.superclass.HasListeners||n&&n.HasListeners||e.HasListeners;t.prototype.HasListeners=t.HasListeners=f,f.prototype=t.hasListeners=new g}for(r=t.prototype.$noClearOnDestroy||{},s=0,l=o.length;s<l;s++)r[o[s]]=!0;t.prototype.$noClearOnDestroy=r}},isObservable:!0,$vetoClearingPrototypeOnDestroy:!0,eventsSuspended:0,constructor:function(e){var t,n,i,r,o,a=this,s=a.self;if(!a.$observableInitialized){if(a.$observableInitialized=!0,a.hasListeners=a.hasListeners=new a.HasListeners,a.eventedBeforeEventNames={},a.events=a.events||{},(t=s.listeners)&&!a._addDeclaredListeners(t)&&(s.listeners=null),n=e&&e.listeners||a.listeners)if(n instanceof Array)for(o=0,r=n.length;o<r;++o)a.addListener(n[o]);else a.addListener(n);(i=e&&e.bubbleEvents||a.bubbleEvents)&&a.enableBubble(i),a.$applyConfigs?e&&Ext.apply(a,e):a.initConfig(e),n&&(a.listeners=null)}},onClassExtended:function(t,n){t.HasListeners||e.prepareClass(t,t.prototype.$observableMixedIn?void 0:n)},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(e){var t=this;return e instanceof Array?Ext.each(e,t._addDeclaredListeners,t):(t._addedDeclaredListeners=!0,t.addListener(e)),t._addedDeclaredListeners},addManagedListener:function(e,n,i,o,a,s){var l,d,c=this;c.managedListeners=c.managedListeners||[];if("string"!=typeof n){for(n in d=arguments.length>4?a:n,a=n)a.hasOwnProperty(n)&&(l=a[n],e.$eventOptions[n]||c.addManagedListener(e,n,l.fn||l,l.scope||a.scope||o,l.fn?l:d,!0));if(a&&a.destroyable)return new r(c,e,a)}else if(i!==t&&(e.doAddListener(n,i,o,a,null,c,c),!s&&a&&a.destroyable))return new r(c,e,n,i,o)},removeManagedListener:function(e,t,n,i){var r,o,a,s,l;if(!e.$observableDestroyed)if("string"!=typeof t)for(t in r=t)r.hasOwnProperty(t)&&(o=r[t],e.$eventOptions[t]||this.removeManagedListener(e,t,o.fn||o,o.scope||r.scope||i));else for(a=this.managedListeners?this.managedListeners.slice():[],t=Ext.canonicalEventName(t),l=0,s=a.length;l<s;l++)this.removeManagedListenerItem(!1,a[l],e,t,n,i)},fireEvent:function(e){return this.fireEventArgs(e,i.call(arguments,1))},resolveListenerScope:function(e){var t=Ext._namedScopes[e];return t&&(t.isController&&Ext.raise('scope: "controller" can only be specified on classes that derive from Ext.Component or Ext.Widget'),(t.isSelf||t.isThis)&&(e=null)),e||this},fireEventArgs:function(e,t){e=Ext.canonicalEventName(e);var i=this.events,r=i&&i[e],o=!0;return this.hasListeners[e]&&(o=this.doFireEvent(e,t||n,!!r&&r.bubble)),o},fireAction:function(e,t,n,i,r,o){"string"!=typeof n||i||(n=this[n]),(r=r?Ext.Object.chain(r):{}).single=!0,r.priority="after"===o?-99.5:99.5,this.doAddListener(e,n,i,r),this.fireEventArgs(e,t)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var e,t,n=this,i=n.fn,r=n.scope,o=n.fnArgs;n.owner;if(!--n._paused){if(i&&(e=Ext.Array.slice(o||n.args),!1===o&&e.shift(),n.fn=null,e.push(n),Ext.isFunction(i)?t=i.apply(r,e):r&&Ext.isString(i)&&Ext.isFunction(r[i])&&(t=r[i].apply(r,e)),!1===t))return!1;if(!n._paused)return n.owner.fireEventArgs(n.eventName,n.args)}}},fireEventedAction:function(e,t,n,i,r){var o,a=this.eventedBeforeEventNames,s=a[e]||(a[e]="before"+e),l=Ext.apply({owner:this,eventName:e,fn:n,scope:i,fnArgs:r,args:t},this.$eventedController);return t.push(l),o=this.fireEventArgs(s,t),t.pop(),!1!==o&&l.resume()},doFireEvent:function(e,t,n){var i,r,o=this,a=!0;do{if(o.eventsSuspended)return(i=o.eventQueue)&&i.push([e,t]),a;if((r=o.events&&o.events[e])&&!0!==r&&!1===(a=r.fire.apply(r,t)))break}while(n&&(o=o.getBubbleParent()));return a},getBubbleParent:function(){var e=this.getBubbleTarget&&this.getBubbleTarget();return e&&e.isObservable?e:null},addListener:function(e,t,n,i,o,a){var s,l,d,c,u,h=this,f=Ext._namedScopes;if("string"!=typeof e){for(e in d=(l=(n=(i=e).scope)&&f[n])&&l.isSelf,u=(h.isComponent||h.isWidget)&&i.element?h.$elementEventOptions:h.$eventOptions,i)s=i[e],u[e]||((c=s.scope)&&d&&(l=f[c])&&l.isController&&(c="self.controller"),h.doAddListener(e,s.fn||s,c||n,s.fn?s:i,o,a));if(i&&i.destroyable)return new r(h,i)}else if(h.doAddListener(e,t,n,i,o,a),i&&i.destroyable)return new r(h,e,t,n,i);return h},removeListener:function(e,t,n,i){var r,o,a=this;if("string"!=typeof e)for(e in o=e,i=i||a.$eventOptions,o)o.hasOwnProperty(e)&&(r=o[e],a.$eventOptions[e]||a.doRemoveListener(e,r.fn||r,r.scope||o.scope));else a.doRemoveListener(e,t,n);return a},onBefore:function(e,t,n,i){return this.addListener(e,t,n,i,"before")},onAfter:function(e,t,n,i){return this.addListener(e,t,n,i,"after")},unBefore:function(e,t,n,i){return this.removeListener(e,t,n,i,"before")},unAfter:function(e,t,n,i){return this.removeListener(e,t,n,i,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var e,t,n=this.events,i=this.hasListeners;if(n){for(t in n)n.hasOwnProperty(t)&&(e=n[t]).isEvent&&(delete i[t],e.clearListeners());this.events=null}this.clearManagedListeners()},purgeListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners."),this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){for(var e=this.managedListeners?this.managedListeners.slice():[],t=0,n=e.length;t<n;t++)this.removeManagedListenerItem(!0,e[t]);this.managedListeners=[]},removeManagedListenerItem:function(e,t,n,i,r,o){!e&&(t.item!==n||t.ename!==i||r&&t.fn!==r||o&&t.scope!==o)||(t.item.destroyed||t.item.doRemoveListener(t.ename,t.fn,t.scope,t.options),e||Ext.Array.remove(this.managedListeners,t))},purgeManagedListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners."),this.clearManagedListeners.apply(this,arguments)},hasListener:function(e){return e=Ext.canonicalEventName(e),!!this.hasListeners[e]},isSuspended:function(e){var t=this.eventsSuspended>0,n=this.events;return!t&&e&&n&&(e=n[e])&&e.isEvent?e.isSuspended():t},suspendEvents:function(e){++this.eventsSuspended,e&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var e,t,n,i=this.events,r=arguments.length;for(e=0;e<r;e++)n=arguments[e],(t=i[n=Ext.canonicalEventName(n)])&&t.isEvent||(t=this._initEvent(n)),t.suspend()},resumeEvent:function(){var e,t,n=this.events||0,i=n&&arguments.length;for(e=0;e<i;e++)(t=n[Ext.canonicalEventName(arguments[e])])&&t.resume&&t.resume()},resumeEvents:function(e){var t,n,i=this,r=i.eventQueue;if(i.eventsSuspended&&!--i.eventsSuspended&&(delete i.eventQueue,!e&&r))for(t=r.length,n=0;n<t;n++)i.fireEventArgs.apply(i,r[n])},relayEvents:function(e,t,n){var i,o,a=t.length,s=0,l={};if(Ext.isObject(t))for(s in t)o=t[s],l[s]=this.createRelayer(o);else for(;s<a;s++)l[i=t[s]]=this.createRelayer(n?n+i:i);return this.mon(e,l,null,null,void 0),new r(this,e,l)},createRelayer:function(e,t){var n=this;return function(){return n.fireEventArgs.call(n,e,t?i.apply(arguments,t):arguments)}},enableBubble:function(e){if(e){var t,n,i,r="string"==typeof e?arguments:e,o=this.events,a=o&&r.length;for(i=0;i<a;++i)t=r[i],(n=o[t=Ext.canonicalEventName(t)])&&n.isEvent||(n=this._initEvent(t)),this.hasListeners._incr_(t),n.bubble=!0}},destroy:function(){this.clearListeners(),this.callParent(),this.destroyObservable(!0)},destroyObservable:function(e){var t=this;t.$observableDestroyed||(e||t.clearListeners(),t.destroyed&&(t.clearPropertiesOnDestroy&&(t.clearPrototypeOnDestroy||(t.fireEvent=t.fireEventArgs=t.fireAction=t.fireEventedAction=Ext.emptyFn),t.events=t.managedListeners=t.eventedBeforeEventNames=null,t.$observableDestroyed=!0),t.clearPrototypeOnDestroy&&Object.setPrototypeOf&&!t.$alreadyNulled&&(Object.setPrototypeOf(t,null),t.$alreadyNulled=!0)))},privates:{doAddListener:function(e,n,i,r,o,a,s){var l,d=this,c=!1;return(o=o||r&&r.order)&&(r&&r.priority||((r=r?Ext.Object.chain(r):{}).priority=d.$orderToPriority[o])),e=Ext.canonicalEventName(e),n||Ext.raise("Cannot add '"+e+"' listener to "+d.$className+" instance.  No function specified."),(l=(d.events||(d.events={}))[e])&&l.isEvent||(l=d._initEvent(e)),n!==t&&(!s&&i&&i.isObservable&&i!==d&&(s=i),l.addListener(n,i,r,a,s)&&(d.hasListeners._incr_(e),c=!0)),c},doRemoveListener:function(e,t,n){var i,r=!1,o=this.events;return e=Ext.canonicalEventName(e),i=o&&o[e],t||Ext.raise("Cannot remove '"+e+"' listener to "+this.$className+" instance.  No function specified."),i&&i.isEvent&&i.removeListener(t,n)&&(this.hasListeners._decr_(e),r=!0),r},_initEvent:function(e){return this.events[e]=new Ext.util.Event(this,e)}},deprecated:{"5.0":{methods:{addEvents:null}}}}},function(){var e=this,t=e.prototype,n=function(){},i=function(t){if(!t.HasListeners){var n=t.prototype;n.$observableMixedIn=1,e.prepareClass(t,this),t.onExtended(function(t,n){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments),e.prepareClass(t,null,n)}),n.onClassMixedIn?Ext.override(t,{onClassMixedIn:function(e){i.call(this,e),this.callParent(arguments)}}):n.onClassMixedIn=function(e){i.call(this,e)}}r.call(this,t)},r=t.onClassMixedIn;function o(e){var t,n,i,r,o=(this.methodEvents=this.methodEvents||{})[e],a=this;return o||(this.methodEvents[e]=o={},o.originalFn=this[e],o.methodName=e,o.before=[],o.after=[],r=function(e,r,o){void 0!==(n=e.apply(r||a,o))&&("object"==typeof n?(t=void 0!==n.returnValue?n.returnValue:n,i=!!n.cancel):!1===n?i=!0:t=n)},this[e]=function(){var e,s,l,d=Array.prototype.slice.call(arguments,0);for(t=n=void 0,i=!1,s=0,l=o.before.length;s<l;s++)if(e=o.before[s],r(e.fn,e.scope,d),i)return t;for(void 0!==(n=o.originalFn.apply(a,d))&&(t=n),s=0,l=o.after.length;s<l;s++)if(e=o.after[s],r(e.fn,e.scope,d),i)return t;return t}),o}n.prototype={_decr_:function(e,t){null==t&&(t=1),(this[e]-=t)||delete this[e]},_incr_:function(e){this.hasOwnProperty(e)?++this[e]:this[e]=1}},t.HasListeners=e.HasListeners=n,e.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"}),e.observeClass=e.observe,Ext.apply(t,{onClassMixedIn:i,beforeMethod:function(e,t,n){o.call(this,e).before.push({fn:t,scope:n})},afterMethod:function(e,t,n){o.call(this,e).after.push({fn:t,scope:n})},removeMethodListener:function(e,t,n){var i,r,o=this.getMethodEvent(e);for(i=0,r=o.before.length;i<r;i++)if(o.before[i].fn==t&&o.before[i].scope==n)return void Ext.Array.erase(o.before,i,1);for(i=0,r=o.after.length;i<r;i++)if(o.after[i].fn==t&&o.after[i].scope==n)return void Ext.Array.erase(o.after,i,1)},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(e,arguments)})}})}),Ext.define("Ext.util.HashMap",{mixins:["Ext.mixin.Observable"],generation:0,config:{keyFn:null},constructor:function(e){var t,n=this;n.mixins.observable.constructor.call(n,e),n.clear(!0),(t=n.getKeyFn())&&(n.getKey=t)},getCount:function(){return this.length},getData:function(e,t){return void 0===t&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){var n=this;return 1===arguments.length&&(t=e,e=n.getKey(t)),n.containsKey(e)?n.replace(e,t):(n.map[e]=t,++n.length,n.generation++,n.hasListeners.add&&n.fireEvent("add",n,e,t),t)},replace:function(e,t){var n,i=this,r=i.map;return 1===arguments.length&&(t=e,e=i.getKey(t)),i.containsKey(e)||i.add(e,t),n=r[e],r[e]=t,i.generation++,i.hasListeners.replace&&i.fireEvent("replace",i,e,t,n),t},remove:function(e){var t=this.findKey(e);return void 0!==t&&this.removeAtKey(t)},removeAtKey:function(e){var t,n=this;return!!n.containsKey(e)&&(t=n.map[e],delete n.map[e],--n.length,n.generation++,n.hasListeners.remove&&n.fireEvent("remove",n,e,t),!0)},get:function(e){var t=this.map;return t.hasOwnProperty(e)?t[e]:void 0},clear:function(e){var t=this;return(e||t.generation)&&(t.map={},t.length=0,t.generation=e?0:t.generation+1),!0!==e&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(e){var t=this.map;return t.hasOwnProperty(e)&&void 0!==t[e]},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t,n=[],i=this.map;for(t in i)i.hasOwnProperty(t)&&n.push(e?t:i[t]);return n},each:function(e,t){var n,i=Ext.apply({},this.map),r=this.length;for(n in t=t||this,i)if(i.hasOwnProperty(n)&&!1===e.call(t,n,i[n],r))break;return this},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;for(e in t.suspendEvents(),n)n.hasOwnProperty(e)&&t.add(e,n[e]);return t.resumeEvents(),t},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t]===e)return t}},function(e){var t=e.prototype;t.removeByKey=t.removeAtKey}),Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(e){Ext.apply(this,e||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){var t=this.all.getKey(e);void 0===t&&Ext.raise("Key is undefined. Please ensure the item has a key before registering the item."),this.all.containsKey(t)&&Ext.raise('Registering duplicate id "'+t+'" with '+this.$className),this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e},isRegistered:function(e){return void 0!==this.types[e]},create:function(e,t){var n=e[this.typeName]||e.type||t,i=this.types[n];return void 0===i&&Ext.raise("The '"+n+"' type has not been registered with this manager"),new i(e)},onAvailable:function(e,t,n){var i,r,o=this.all;o.containsKey(e)?(i=o.get(e),t.call(n||i,i)):(r=function(i,a,s){a==e&&(t.call(n||s,s),o.un("add",r))},o.on("add",r))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.promise.Consequence",function(e){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(e,t,n){var i=this;i.onFulfilled=e,i.onRejected=t,i.onProgress=n,i.deferred=new Ext.promise.Deferred,i.promise=i.deferred.promise},trigger:function(e,t){var n=this,i=n.deferred;switch(e){case"fulfill":n.propagate(t,n.onFulfilled,i,i.resolve);break;case"reject":n.propagate(t,n.onRejected,i,i.reject)}},update:function(e){Ext.isFunction(this.onProgress)&&(e=this.onProgress(e)),this.deferred.update(e)},propagate:function(e,t,n,i){Ext.isFunction(t)?this.schedule(function(){try{n.resolve(t(e))}catch(e){n.reject(e)}}):i.call(this.deferred,e)},schedule:function(t){var n=e.queueSize++;e.queue[n]=t,n||Ext.asap(e.dispatch)},statics:{queue:new Array(1e4),queueSize:0,dispatch:function(){var t,n,i=e.queue;for(n=0;n<e.queueSize;++n)t=i[n],i[n]=null,t();e.queueSize=0}}}}),Ext.define("Ext.promise.Deferred",{requires:["Ext.promise.Consequence"],promise:null,consequences:[],completed:!1,completionAction:null,completionValue:null,constructor:function(){var e=this;e.promise=new Ext.promise.Promise(e),e.consequences=[],e.completed=!1,e.completionAction=null,e.completionValue=null},then:function(e,t,n){var i=new Ext.promise.Consequence(e,t,n);return this.completed?i.trigger(this.completionAction,this.completionValue):this.consequences.push(i),i.promise},resolve:function(e){var t,n,i=this;if(!i.completed)try{if(e===i.promise)throw new TypeError("A Promise cannot be resolved with itself.");if(null!=e&&("object"==typeof e||Ext.isFunction(e))&&Ext.isFunction(n=e.then)){t=!1;try{n.call(e,function(e){t||(t=!0,i.resolve(e))},function(e){t||(t=!0,i.reject(e))})}catch(e){t||i.reject(e)}}else i.complete("fulfill",e)}catch(e){i.reject(e)}},reject:function(e){this.completed||this.complete("reject",e)},update:function(e){var t,n,i=this.consequences;if(!this.completed)for(t=0,n=i.length;t<n;t++)i[t].update(e)},complete:function(e,t){var n,i,r=this,o=r.consequences;for(r.completionAction=e,r.completionValue=t,r.completed=!0,n=0,i=o.length;n<i;n++)o[n].trigger(r.completionAction,r.completionValue);r.consequences=null}}),Ext.define("Ext.promise.Promise",function(e){var t;return{requires:["Ext.promise.Deferred"],statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){t=Ext.promise.Deferred},all:function(n){return Ext.isArray(n)||e.is(n)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),e.when(n).then(function(n){var i,r,o,a,s,l=new t,d=n.length,c=new Array(d);if(d)for(o=function(t,n){return e.when(t).then(function(e){return c[n]=e,--d||l.resolve(c),e},function(e){return l.reject(e)})},i=a=0,s=n.length;a<s;i=++a)r=n[i],i in n?o(r,i):d--;else l.resolve(c);return l.promise})},is:function(e){return null!=e&&("object"==typeof e||Ext.isFunction(e))&&Ext.isFunction(e.then)},rethrowError:function(e){Ext.asap(function(){throw e})},when:function(e){var t=new Ext.promise.Deferred;return t.resolve(e),t.promise}},owner:null,constructor:function(e){this.owner=e},then:function(e,t,n,i){var r;return 1===arguments.length&&Ext.isObject(arguments[0])&&(e=(r=arguments[0]).success,t=r.failure,n=r.progress,i=r.scope),i&&(e&&(e=Ext.Function.bind(e,i)),t&&(t=Ext.Function.bind(t,i)),n&&(n=Ext.Function.bind(n,i))),this.owner.then(e,t,n)},otherwise:function(e,t){var n;return 1===arguments.length&&Ext.isObject(arguments[0])&&(e=(n=arguments[0]).fn,t=n.scope),null!=t&&(e=Ext.Function.bind(e,t)),this.owner.then(null,e)},always:function(t,n){var i;return 1===arguments.length&&Ext.isObject(arguments[0])&&(i=arguments[0],t=i.fn,n=i.scope),null!=n&&(t=Ext.Function.bind(t,n)),this.owner.then(function(n){try{t()}catch(t){e.rethrowError(t)}return n},function(n){try{t()}catch(t){e.rethrowError(t)}throw n})},done:function(){this.owner.then(null,e.rethrowError)},cancel:function(e){null==e&&(e=null),this.owner.reject(new this.self.CancellationError(e))},log:function(e){return null==e&&(e=""),this.owner.then(function(t){return Ext.log((e||"Promise")+" resolved with value: "+t),t},function(t){throw Ext.log((e||"Promise")+" rejected with reason: "+t),t})}}},function(e){e._ready()}),Ext.define("Ext.Promise",function(){var e;return{requires:["Ext.promise.Promise"],statics:{_ready:function(){e=Ext.promise.Promise},all:function(){return e.all.apply(e,arguments)},race:function(){Ext.raise("Not implemented")},reject:function(e){var t=new Ext.promise.Deferred;return t.reject(e),t.promise},resolve:function(e){var t=new Ext.promise.Deferred;return t.resolve(e),t.promise}},constructor:function(e){var t=new Ext.promise.Deferred;return e(t.resolve.bind(t),t.reject.bind(t)),t.promise}}},function(e){var t=Ext.global.Promise;t&&t.resolve?Ext.Promise=t:e._ready()}),Ext.define("Ext.Deferred",function(e){var t;return{extend:"Ext.promise.Deferred",requires:["Ext.Promise"],statics:{_ready:function(){t=Ext.promise.Promise,Ext.Promise.resolve},all:function(){return t.all.apply(t,arguments)},any:function(n){return Ext.isArray(n)||t.is(n)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),e.some(n,1).then(function(e){return e[0]},function(e){if(!(e instanceof Error&&"Too few Promises were resolved."===e.message))throw e;Ext.raise("No Promises were resolved.")})},delay:function(t,n){var i;return 1===arguments.length&&(n=t,t=void 0),n=Math.max(n,0),i=new e,setTimeout(function(){i.resolve(t)},n),i.promise},map:function(n,i){return Ext.isArray(n)||t.is(n)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),Ext.isFunction(i)||Ext.raise("Invalid parameter: expected a function."),e.resolved(n).then(function(t){var n,r,o,a,s,l,d,c;if(a=t.length,l=new Array(t.length),n=new e,a)for(s=function(t,r){return e.resolved(t).then(function(e){return i(e,r,l)}).then(function(e){return l[r]=e,--a||n.resolve(l),e},function(e){return n.reject(e)})},r=d=0,c=t.length;d<c;r=++d)o=t[r],r in t?s(o,r):a--;else n.resolve(l);return n.promise})},memoize:function(t,n,i){var r=Ext.Function.memoize(t,n,i);return function(){return e.all(Ext.Array.slice(arguments)).then(function(e){return r.apply(n,e)})}},parallel:function(t,n){null==n&&(n=null);var i=Ext.Array.slice(arguments,2);return e.map(t,function(e){if(!Ext.isFunction(e))throw new Error("Invalid parameter: expected a function.");return e.apply(n,i)})},pipeline:function(t,n,i){return null==i&&(i=null),e.reduce(t,function(e,t){if(!Ext.isFunction(t))throw new Error("Invalid parameter: expected a function.");return t.call(i,e)},n)},reduce:function(n,i,r){Ext.isArray(n)||t.is(n)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),Ext.isFunction(i)||Ext.raise("Invalid parameter: expected a function.");var o=3===arguments.length;return e.resolved(n).then(function(t){var n=[t,function(n,r,o){return e.resolved(n).then(function(n){return e.resolved(r).then(function(e){return i(n,e,o,t)})})}];return o&&n.push(r),Ext.Array.reduce.apply(Ext.Array,n)})},rejected:function(e){var t=new Ext.Deferred;return t.reject(e),t.promise},resolved:function(e){var t=new Ext.Deferred;return t.resolve(e),t.promise},sequence:function(t,n){null==n&&(n=null);var i=Ext.Array.slice(arguments,2);return e.reduce(t,function(t,r){if(!Ext.isFunction(r))throw new Error("Invalid parameter: expected a function.");return e.resolved(r.apply(n,i)).then(function(e){return t.push(e),t})},[])},some:function(n,i){return Ext.isArray(n)||t.is(n)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),(!Ext.isNumeric(i)||i<=0)&&Ext.raise("Invalid parameter: expected a positive integer."),e.resolved(n).then(function(t){var n,r,o,a,s,l,d,c,u,h;if(c=[],d=i,l=t.length-d+1,n=new e,t.length<i)n.reject(new Error("Too few Promises were resolved."));else for(a=function(e){return d>0&&c.push(e),0===--d&&n.resolve(c),e},o=function(e){return 0===--l&&n.reject(new Error("Too few Promises were resolved.")),e},r=u=0,h=t.length;u<h;r=++u)s=t[r],r in t&&e.resolved(s).then(a,o);return n.promise})},timeout:function(t,n){var i,r=new e;return i=setTimeout(function(){i&&r.reject(new Error("Promise timed out."))},n),e.resolved(t).then(function(e){clearTimeout(i),i=null,r.resolve(e)},function(e){clearTimeout(i),i=null,r.reject(e)}),r.promise}}}},function(e){e._ready()}),Ext.Factory=function(e){var t=this;t.aliasPrefix=e+".",t.cache={},t.name=e.replace(t.fixNameRe,t.fixNameFn),t.type=e},Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(e,t){var n,i,r,o,a=this,s=Ext.ClassManager,l=a.cache;if(e){if(e[a.instanceProp])return e;"string"==typeof e&&(o=e,(e={})[a.defaultProperty]=o),i=e.xclass,o=e.type}if(t&&t.constructor===Object&&(e=Ext.apply({},e,t),t=t.type),i){if(!(r=s.get(i)))return s.instantiate(i,e)}else if((o=o||t||a.defaultType)||(r=a.defaultClass),o||r||Ext.raise("No type specified for "+a.type+".create"),!r&&!(r=l[o])){if(n=a.aliasPrefix+o,!(r=(i=s.getNameByAlias(n))&&s.get(i)))return s.instantiateByAlias(n,e);l[o]=r}return r.isInstance?r:new r(e)},fixNameRe:/\.[a-z]/gi,fixNameFn:function(e){return e.substring(1).toUpperCase()},clearCache:function(){this.cache={}}},Ext.Factory.define=function(e,t){var n,i,r,o=Ext.Factory;return e.constructor===Object?Ext.Object.each(e,o.define,o):(i=new Ext.Factory(e),t&&(t.constructor===Object?(Ext.apply(i,t),"string"==typeof(n=i.xclass)&&(i.defaultClass=Ext.ClassManager.get(n))):i.defaultType=t),o[i.name]=r=i.create.bind(i),r.instance=i),r},Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(e){var t,n,i=e.prototype,r=i.factoryConfig,o=i.alias,a={};(o=o&&o.length&&o[0])&&(t=o.lastIndexOf("."))>0&&(a.type=o.substring(0,t),a.defaultType=o.substring(t+1)),r&&(delete i.factoryConfig,Ext.apply(a,r)),n=Ext.Factory.define(a.type,a),e.create===Ext.Base.create&&(e.create=n)}}),Ext.define("Ext.data.request.Base",{requires:["Ext.Deferred"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{type:"request",defaultType:"ajax"},result:null,success:null,timer:null,constructor:function(e){var t=this;Ext.apply(t,e.options||{},e.ownerConfig),t.id=++Ext.data.Connection.requestId,t.owner=e.owner,t.options=e.options,t.requestOptions=e.requestOptions},start:function(){var e=this,t=e.getTimeout();t&&e.async&&(e.timer=Ext.defer(e.onTimeout,t,e))},abort:function(){this.clearTimer(),this.timedout||(this.aborted=!0),this.abort=Ext.emptyFn},createDeferred:function(){return this.deferred=new Ext.Deferred},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var e=this.getPromise();return e.then.apply(e,arguments)},onComplete:function(){var e=this.deferred,t=this.result;this.clearTimer(),e&&(this.success?e.resolve(t):e.reject(t))},onTimeout:function(){this.timedout=!0,this.timer=null,this.abort(!0)},getTimeout:function(){return this.timeout},clearTimer:function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null)},destroy:function(){var e=this;e.abort(),e.owner=e.options=e.requestOptions=e.result=null,e.callParent()},privates:{createException:function(){var e,t=this;return e={request:t,requestId:t.id,status:t.aborted?-1:0,statusText:t.aborted?"transaction aborted":"communication failure",getResponseHeader:t._getHeader,getAllResponseHeaders:t._getHeaders},t.aborted&&(e.aborted=!0),t.timedout&&(e.timedout=!0),e},_getHeader:function(e){var t=this.headers;return t&&t[e.toLowerCase()]},_getHeaders:function(){return this.headers}}}),Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(e,t,n){var i;(i=this.liveConnections[Number(e)])?i.onFlashStateChange(t,n):Ext.warn.log("onFlashStateChange for unknown connection ID: "+e)},registerConnection:function(e){var t=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[t]=e,t},injectFlashPlugin:function(){var e,t;this.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]}),e=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),t="/plugins/flash/FlashPlugin.swf",t=[Ext.Loader.getPath("Ext.data.Connection"),"../../plugins/flash/FlashPlugin.swf"].join("/"),Ext.flashPluginPath&&(t=Ext.flashPluginPath),Ext.Loader.loadScript({url:e,onLoad:function(){var e={quality:"high",bgcolor:"#ffffff",allowscriptaccess:"sameDomain",allowfullscreen:"true"},n={id:"ext-flash-polyfill",name:"polyfill",align:"middle"};swfobject.embedSWF(t,"ext-flash-polyfill","0","0","11.4.0","playerProductInstall.swf",{},e,n)},onError:function(){Ext.raise("Could not load flash-loader file swfobject.js from "+flashLoader)},scope:this}),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(e){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();Ext.apply(this,e),this.requestHeaders={}},abort:function(){var e=this;4!=e.readyState?(e.aborted=!0,Ext.data.flash.BinaryXhr.flashPluginActive?(Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(e.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[e.javascriptId]):Ext.GlobalEvents.removeListener("flashready",e.onFlashReady,e)):Ext.warn.log("Aborting a connection that's completed its transfer: "+this.url)},getAllResponseHeaders:function(){var e=[];return Ext.Object.each(this.responseHeaders,function(t,n){e.push(t+": "+n)}),e.join("\r\n")},getResponseHeader:function(e){var t=this.responseHeaders;return t&&t[e]||null},open:function(e,t,n,i,r){var o=this;o.method=e,o.url=t,o.async=!1!==n,o.user=i,o.password=r,o.async||Ext.raise("Binary posts are only supported in async mode: "+t),"POST"!=o.method&&Ext.log.warn("Binary data can only be sent as a POST request: "+t)},overrideMimeType:function(e){this.mimeType=e},send:function(e){this.body=e,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.GlobalEvents.addListener("flashready",this.onFlashReady,this)},onFlashReady:function(){var e,t=this;t.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(t),e={method:t.method,url:t.url,user:t.user,password:t.password,mimeType:t.mimeType,requestHeaders:t.requestHeaders,body:t.body,javascriptId:t.javascriptId},Ext.data.flash.BinaryXhr.flashPlugin.postBinary(e)},setReadyState:function(e){this.readyState!=e&&(this.readyState=e,this.onreadystatechange())},setRequestHeader:function(e,t){this.requestHeaders[e]=t},onreadystatechange:Ext.emptyFn,parseData:function(e){var t=this;this.status=e.status||0,t.responseHeaders={},t.mimeType&&(t.responseHeaders["content-type"]=t.mimeType),"complete"==e.reason?(this.responseBytes=e.data,t.responseHeaders["content-length"]=e.data.length):"error"==e.reason||"securityError"==e.reason?(this.statusText=e.text,t.responseHeaders["content-length"]=0):Ext.raise("Unkown reason code in data: "+e.reason)},onFlashStateChange:function(e,t){4==e&&(this.parseData(t),delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]),this.setReadyState(e)}}),Ext.define("Ext.data.request.Ajax",{extend:"Ext.data.request.Base",alias:"request.ajax",requires:["Ext.data.flash.BinaryXhr"],statics:{parseStatus:function(e,t){var n;t&&("arraybuffer"===t.responseType?n=t.byteLength:t.responseText&&(n=t.responseText.length));var i=(e=1223==e?204:e)>=200&&e<300||304==e||0==e&&Ext.isNumber(n),r=!1;if(!i)switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:r=!0}return{success:i,isException:r}}},start:function(e){var t,n=this,i=n.options,r=n.requestOptions,o=n.isXdr;return t=n.xhr=n.openRequest(i,r,n.async,n.username,n.password),o||n.setupHeaders(t,i,r.data,r.params),n.async&&(o||(t.onreadystatechange=Ext.Function.bind(n.onStateChange,n))),o&&n.processXdrRequest(n,t),n.callParent([e]),t.send(e),n.async?n:n.onComplete()},abort:function(e){var t=this,n=t.xhr;if(e||t.isLoading()){try{n.onreadystatechange=null}catch(e){n.onreadystatechange=Ext.emptyFn}n.abort(),t.callParent([e]),t.onComplete(),t.cleanup()}},cleanup:function(){this.xhr=null,delete this.xhr},isLoading:function(){var e=this.xhr,t=e&&e.readyState,n=Ext.data.flash&&Ext.data.flash.BinaryXhr;return!(!e||this.aborted||this.timedout)&&(n&&e instanceof n?4!==t:0!==t&&4!==t)},openRequest:function(e,t,n,i,r){var o=this.newRequest(e);return i?o.open(t.method,t.url,n,i,r):this.isXdr?o.open(t.method,t.url):o.open(t.method,t.url,n),(e.binary||this.binary)&&(window.Uint8Array?o.responseType="arraybuffer":o.overrideMimeType?o.overrideMimeType("text/plain; charset=x-user-defined"):Ext.isIE||Ext.log.warn("Your browser does not support loading binary data using Ajax.")),(e.withCredentials||this.withCredentials)&&(o.withCredentials=!0),o},newRequest:function(e){var t,n=this;return e.binaryData?t=window.Uint8Array?n.getXhrInstance():new Ext.data.flash.BinaryXhr:n.cors&&Ext.isIE9m?(t=n.getXdrInstance(),n.isXdr=!0):(t=n.getXhrInstance(),n.isXdr=!1),t},setupHeaders:function(e,t,n,i){var r,o,a=this,s=Ext.apply({},t.headers||{},a.defaultHeaders),l=a.defaultPostHeader,d=t.jsonData,c=t.xmlData,u="Content-Type",h=a.useDefaultXhrHeader;s.hasOwnProperty(u)||!n&&!i||(n&&(t.rawData?l="text/plain":c&&Ext.isDefined(c)?l="text/xml":d&&Ext.isDefined(d)&&(l="application/json")),s[u]=l),h&&!s["X-Requested-With"]&&(s["X-Requested-With"]=a.defaultXhrHeader),void 0!==s[u]&&null!==s[u]||delete s[u];try{for(r in s)s.hasOwnProperty(r)&&(o=s[r],e.setRequestHeader(r,o))}catch(e){a.owner.fireEvent("exception",r,o)}return s},getXdrInstance:function(){var e;return Ext.ieVersion>=8?e=new XDomainRequest:Ext.raise({msg:"Your browser does not support CORS"}),e},getXhrInstance:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,i=t.length;n<i;++n)try{(e=t[n])();break}catch(e){}return e}(),processXdrRequest:function(e,t){var n=this;delete e.headers,e.contentType=e.options.contentType||n.defaultXdrContentType,t.onload=Ext.Function.bind(n.onStateChange,n,[!0]),t.onerror=t.ontimeout=Ext.Function.bind(n.onStateChange,n,[!1])},processXdrResponse:function(e,t){e.getAllResponseHeaders=function(){return[]},e.getResponseHeader=function(){return""},e.contentType=t.contentType||this.defaultXdrContentType},onStateChange:function(e){var t=this,n=t.xhr,i=Ext.GlobalEvents;(n&&4==n.readyState||t.isXdr)&&(t.clearTimer(),t.onComplete(e),t.cleanup(),i.hasListeners.idle&&i.fireEvent("idle"))},onComplete:function(e){var t,n,i,r=this,o=r.owner,a=r.options,s=r.xhr,l={success:!1,isException:!1};if(!s||r.destroyed)return r.result=l;try{(t=Ext.data.request.Ajax.parseStatus(s.status,s)).success&&(t.success=4===s.readyState)}catch(e){t=l}return(n=r.success=r.isXdr?e:t.success)?(i=r.createResponse(s),o.hasListeners.requestcomplete&&o.fireEvent("requestcomplete",o,i,a),a.success&&Ext.callback(a.success,a.scope,[i,a])):(i=t.isException||r.aborted||r.timedout?r.createException(s):r.createResponse(s),o.hasListeners.requestexception&&o.fireEvent("requestexception",o,i,a),a.failure&&Ext.callback(a.failure,a.scope,[i,a])),r.result=i,a.callback&&Ext.callback(a.callback,a.scope,[a,n,i]),o.onRequestComplete(r),r.callParent([e]),i},createResponse:function(e){for(var t,n,i,r,o=this,a=o.isXdr,s={},l=a?[]:e.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),d=l.length;d--;)(n=(t=l[d]).indexOf(":"))>=0&&(i=t.substr(0,n).toLowerCase()," "==t.charAt(n+1)&&++n,s[i]=t.substr(n+1));return r={request:o,requestId:o.id,status:e.status,statusText:e.statusText,getResponseHeader:function(e){return s[e.toLowerCase()]},getAllResponseHeaders:function(){return s}},a&&o.processXdrResponse(r,e),o.binary?r.responseBytes=o.getByteArray(e):(r.responseText=e.responseText,r.responseXML=e.responseXML),r},destroy:function(){this.xhr=null,this.callParent()},privates:{getByteArray:function(e){var t,n,i,r,o=e.response,a=e.responseBody;if(e instanceof(Ext.data.flash&&Ext.data.flash.BinaryXhr))t=e.responseBytes;else if(window.Uint8Array)t=o?new Uint8Array(o):[];else if(Ext.isIE9p)try{t=new VBArray(a).toArray()}catch(e){t=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(e.responseBody,t=[]);else for(t=[],i=(n=e.responseText).length,r=0;r<i;r++)t.push(255&n.charCodeAt(r));return t},injectVBScript:function(){var e=document.createElement("script");e.type="text/vbscript",e.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(e),this.self.vbScriptInjected=!0}}}),Ext.define("Ext.data.request.Form",{extend:"Ext.data.request.Base",alias:"request.form",start:function(e){var t=this,n=t.options,i=t.requestOptions;return t.callParent([e]),t.form=t.upload(n.form,i.url,i.data,n),t},abort:function(e){var t,n=this;if(n.isLoading())try{(t=n.frame.dom).stop?t.stop():t.document.execCommand("Stop")}catch(e){}n.callParent([e]),n.onComplete(),n.cleanup()},cleanup:function(){var e=this,t=e.frame;t&&(t.un("load",e.onComplete,e),Ext.removeNode(t)),e.frame=e.form=null},isLoading:function(){return!!this.frame},upload:function(e,t,n,i){e=Ext.getDom(e),i=i||{};var r,o,a,s,l,d,c,u,h=document.createElement("iframe"),f=Ext.get(h),g=f.id,p=[],m={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},x=function(t,n){r=document.createElement("input"),Ext.fly(r).set({type:"hidden",value:n,name:t}),e.appendChild(r),p.push(r)};if(f.set({name:g,cls:Ext.baseCSSPrefix+"hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1}),document.body.appendChild(h),document.frames&&(document.frames[g].name=g),Ext.fly(e).set({target:g,method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data",action:t||m.action}),n)for(s in o=Ext.Object.fromQueryString(n)||{})if(o.hasOwnProperty(s))if(a=o[s],Ext.isArray(a))for(l=a.length,d=0;d<l;d++)x(s,a[d]);else x(s,a);for(this.frame=f,f.on({load:this.onComplete,scope:this,single:!Ext.isOpera}),e.submit(),Ext.fly(e).set(m),c=p.length,u=0;u<c;u++)Ext.removeNode(p[u]);return e},getDoc:function(){var e=this.frame.dom;return e&&(e.contentWindow.document||e.contentDocument)||(window.frames[e.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var e,t,n,i,r,o=this,a=o.frame,s=o.owner,l=o.options;if(a){if(o.aborted||o.timedout)o.result=r=o.createException(),r.responseXML=null,r.responseText='{success:false,message:"'+Ext.String.trim(r.statusText)+'"}',r.request=o,e=l.failure,n=!1;else try{if(t=o.getDoc(),o.result=r={responseText:"",responseXML:null,request:o},t){if(Ext.isOpera&&t.location==Ext.SSL_SECURE_URL)return;t.body&&((i=t.body.firstChild)&&/pre/i.test(i.tagName)?r.responseText=i.textContent||i.innerText:(i=t.getElementsByTagName("textarea")[0])?r.responseText=i.value:r.responseText=t.body.textContent||t.body.innerText),r.responseXML=t.XMLDocument||t,e=l.success,n=!0,r.status=200}else Ext.raise("Could not acquire a suitable connection for the file upload service.")}catch(t){o.result=r=o.createException(),r.status=400,r.statusText=(t.message||t.description)+"",r.responseText='{success:false,message:"'+Ext.String.trim(r.statusText)+'"}',r.responseXML=null,e=l.failure,n=!1}o.frame=null,o.success=n,s.fireEvent(n?"requestcomplete":"requestexception",s,r,l),Ext.callback(e,l.scope,[r,l]),Ext.callback(l.callback,l.scope,[l,n,r]),s.onRequestComplete(o),Ext.asap(a.destroy,a),o.callParent()}},destroy:function(){this.cleanup(),this.callParent()}}),Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.mixin.Observable"},requires:["Ext.data.request.Ajax","Ext.data.request.Form","Ext.data.flash.BinaryXhr","Ext.Deferred"],statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:!0,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest"},constructor:function(e){this.mixins.observable.constructor.call(this,e),this.requests={}},request:function(e){e=e||{};var t;return!1!==this.fireEvent("beforerequest",this,e)?(t=this.setOptions(e,e.scope||Ext.global),this.createRequest(e,t).start(t.data)):(Ext.callback(e.callback,e.scope,[e,void 0,void 0]),Ext.Deferred.rejected([e,void 0,void 0]))},createRequest:function(e,t){var n,i=this,r=e.type||t.type;return r||(r=i.isFormUpload(e)?"form":"ajax"),(e.autoAbort||i.getAutoAbort())&&i.abort(),n=Ext.Factory.request({type:r,owner:i,options:e,requestOptions:t,ownerConfig:i.getConfig()}),i.requests[n.id]=n,i.latestId=n.id,n},isFormUpload:function(e){var t=this.getForm(e);return!!t&&(e.isUpload||this.enctypeRe.test(t.getAttribute("enctype")))},getForm:function(e){return Ext.getDom(e.form)},setOptions:function(e,t){var n,i,r,o=this,a=e.params||{},s=o.getExtraParams(),l=e.urlParams,d=e.url||o.getUrl(),c=e.cors,u=e.jsonData;return void 0!==c&&o.setCors(c),Ext.isFunction(a)&&(a=a.call(t,e)),Ext.isFunction(d)&&(d=d.call(t,e)),(d=this.setupUrl(e,d))||Ext.raise({options:e,msg:"No URL specified"}),r=e.rawData||e.binaryData||e.xmlData||u||null,u&&!Ext.isPrimitive(u)&&(r=Ext.encode(r)),e.binaryData&&(Ext.isArray(e.binaryData)||Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof e.binaryData),o.nativeBinaryPostSupport()&&(r=new Uint8Array(e.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(r=r.buffer))),Ext.isObject(a)&&(a=Ext.Object.toQueryString(a)),Ext.isObject(s)&&(s=Ext.Object.toQueryString(s)),a+=s?(a?"&":"")+s:"",l=Ext.isObject(l)?Ext.Object.toQueryString(l):l,a=this.setupParams(e,a),n=(e.method||o.getMethod()||(a||r?"POST":"GET")).toUpperCase(),this.setupMethod(e,n),i=!1!==e.disableCaching&&(e.disableCaching||o.getDisableCaching()),"GET"===n&&i&&(d=Ext.urlAppend(d,(e.disableCachingParam||o.getDisableCachingParam())+"="+(new Date).getTime())),("GET"==n||r)&&a&&(d=Ext.urlAppend(d,a),a=null),l&&(d=Ext.urlAppend(d,l)),{url:d,method:n,data:r||a||null}},setupUrl:function(e,t){var n=this.getForm(e);return n&&(t=t||n.action),t},setupParams:function(e,t){var n,i=this.getForm(e);return i&&!this.isFormUpload(e)&&(n=Ext.Element.serializeForm(i),t=t?t+"&"+n:n),t},setupMethod:function(e,t){return this.isFormUpload(e)?"POST":t},isLoading:function(e){return e||(e=this.getLatest()),!!e&&e.isLoading()},abort:function(e){e||(e=this.getLatest()),e&&e.isLoading()&&e.abort()},abortAll:function(){var e,t=this.requests;for(e in t)this.abort(t[e])},getLatest:function(){var e,t=this.latestId;return t&&(e=this.requests[t]),e||null},clearTimeout:function(e){e||(e=this.getLatest()),e&&e.clearTimer()},onRequestComplete:function(e){delete this.requests[e.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}}),Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1}),Ext.define("Ext.AnimationQueue",{singleton:!0,constructor:function(){var e=this;e.queue=[],e.taskQueue=[],e.runningQueue=[],e.idleQueue=[],e.isRunning=!1,e.isIdle=!0,e.run=Ext.Function.bind(e.run,e),Ext.os.is.iOS&&Ext.interval(e.watch,500,e)},start:function(e,t,n){var i=this;i.queue.push(arguments),i.isRunning||(i.hasOwnProperty("idleTimer")&&(clearTimeout(i.idleTimer),delete i.idleTimer),i.hasOwnProperty("idleQueueTimer")&&(clearTimeout(i.idleQueueTimer),delete i.idleQueueTimer),i.isIdle=!1,i.isRunning=!0,i.startCountTime=Ext.now(),i.count=0,i.doStart())},watch:function(){this.isRunning&&Ext.now()-this.lastRunTime>=500&&this.run()},run:function(){var e=this;if(e.isRunning){var t,n,i=e.runningQueue,r=Ext.now();for(e.lastRunTime=r,e.frameStartTime=r,i.push.apply(i,e.queue),t=0,n=i.length;t<n;t++)e.invoke(i[t]);i.length=0;var o=e.frameStartTime-e.startCountTime,a=++e.count;o>=200&&(e.onFpsChanged(1e3*a/o,a,o),e.startCountTime=e.frameStartTime,e.count=0),e.doIterate()}},onFpsChanged:Ext.emptyFn,onStop:Ext.emptyFn,doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run),this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(e,t,n){var i=this;if(i.isRunning){var r,o,a=i.queue,s=a.length;for(r=0;r<s;r++)(o=a[r])[0]===e&&o[1]===t&&o[2]===n&&(a.splice(r,1),r--,s--);0===s&&(i.doStop(),i.onStop(),i.isRunning=!1,i.idleTimer=Ext.defer(i.whenIdle,100,i))}},onIdle:function(e,t,n){var i,r,o,a=this.idleQueue;for(i=0,r=a.length;i<r;i++)if(e===(o=a[i])[0]&&t===o[1]&&n===o[2])return;a.push(arguments),this.isIdle&&this.processIdleQueue()},unIdle:function(e,t,n){var i,r,o,a=this.idleQueue;for(i=0,r=a.length;i<r;i++)if(e===(o=a[i])[0]&&t===o[1]&&n===o[2])return a.splice(i,1),!0;return!1},queueTask:function(e,t,n){this.taskQueue.push(arguments),this.processTaskQueue()},dequeueTask:function(e,t,n){var i,r,o,a=this.taskQueue;for(i=0,r=a.length;i<r;i++)e===(o=a[i])[0]&&t===o[1]&&n===o[2]&&(a.splice(i,1),i--,r--)},invoke:function(e){var t=e[0],n=e[1],i=e[2];t="string"==typeof t?n[t]:t,Ext.isArray(i)?t.apply(n,i):t.call(n,i)},whenIdle:function(){this.isIdle=!0,this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this))},processIdleQueueItem:function(){if(delete this.idleQueueTimer,this.isIdle){var e,t=this.idleQueue;t.length>0&&(e=t.shift(),this.invoke(e),this.processIdleQueue())}},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this))},processTaskQueueItem:function(){delete this.taskQueueTimer;var e,t=this.taskQueue;t.length>0&&(e=t.shift(),this.invoke(e),this.processTaskQueue())},showFps:function(){var e={color:"white","background-color":"black","text-align":"center","font-family":"sans-serif","font-size":"8px","font-weight":"normal","font-style":"normal","line-height":"20px","-webkit-font-smoothing":"antialiased",zIndex:1e5,position:"absolute"};Ext.getBody().append([{style:Ext.applyIf({bottom:"50px",left:0,width:"50px",height:"20px"},e),html:"Average"},{style:Ext.applyIf({"background-color":"red","font-size":"18px","line-height":"50px",bottom:0,left:0,width:"50px",height:"50px"},e),id:"__averageFps",html:"0"},{style:Ext.applyIf({bottom:"50px",left:"50px",width:"50px",height:"20px"},e),html:"Min (Last 1k)"},{style:Ext.applyIf({"background-color":"orange","font-size":"18px","line-height":"50px",bottom:0,left:"50px",width:"50px",height:"50px"},e),id:"__minFps",html:"0"},{style:Ext.applyIf({bottom:"50px",left:"100px",width:"50px",height:"20px"},e),html:"Max (Last 1k)"},{style:Ext.applyIf({"background-color":"maroon","font-size":"18px","line-height":"50px",bottom:0,left:"100px",width:"50px",height:"50px"},e),id:"__maxFps",html:"0"},{style:Ext.applyIf({bottom:"50px",left:"150px",width:"50px",height:"20px"},e),html:"Current"},{style:Ext.applyIf({"background-color":"green","font-size":"18px","line-height":"50px",bottom:0,left:"150px",width:"50px",height:"50px"},e),id:"__currentFps",html:"0"}]),Ext.AnimationQueue.resetFps()},resetFps:function(){var e=Ext.get("__currentFps"),t=Ext.get("__averageFps"),n=Ext.get("__minFps"),i=Ext.get("__maxFps"),r=1e3,o=0,a=0,s=0;e&&(Ext.AnimationQueue.onFpsChanged=function(l){++a%10||(r=1e3,o=0),s+=l,r=Math.min(r,l),o=Math.max(o,l),e.setHtml(Math.round(l)),t.setHtml(Math.round(s/a)),n.setHtml(Math.round(r)),i.setHtml(Math.round(o))})}},function(){var e=window.location.search.substr(1).split("&");Ext.Array.contains(e,"showfps")&&Ext.onReady(Ext.Function.bind(this.showFps,this))}),Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:!0,count:0,typeName:"xtype",constructor:function(e){Ext.apply(this,e||{}),this.all={},this.references={},this.onAvailableCallbacks={}},create:function(e,t){return"string"==typeof e?Ext.widget(e):e.isComponent?e:"xclass"in e?Ext.create(e.xclass,e):Ext.widget(e.xtype||t,e)},get:function(e){return this.all[e]},register:function(e){var t=this,n=t.all,i=e.getId(),r=t.onAvailableCallbacks;void 0===i&&Ext.raise("Component id is undefined. Please ensure the component has an id."),i in n&&Ext.raise('Registering duplicate component id "'+i+'"'),n[i]=e,e.getReference&&e.getReference()&&(t.references[i]=e),++t.count,t.hasFocusListener||(Ext.on("focus",t.onGlobalFocus,t),t.hasFocusListener=!0),(r=r&&r[i])&&r.length&&t.notifyAvailable(e)},unregister:function(e){var t=e.getId();e.getReference&&e.getReference()&&(this.references[t]=null,delete this.references[t]),this.all[t]=null,delete this.all[t],this.count--},markReferencesDirty:function(){this.referencesDirty=!0},fixReferences:function(){var e,t=this.references;if(this.referencesDirty){for(e in t)t.hasOwnProperty(e)&&t[e].fixReference();this.referencesDirty=!1}},onAvailable:function(e,t,n){var i,r=this.onAvailableCallbacks,o=this.all;e in o?(i=o[e],t.call(n||i,i)):e&&(Ext.isArray(r[e])||(r[e]=[]),r[e].push(function(e){t.call(n||e,e)}))},notifyAvailable:function(e){for(var t=this.onAvailableCallbacks[e&&e.getId()]||[];t.length;)t.shift()(e)},each:function(e,t){return Ext.Object.each(this.all,e,t)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(e){var t,n,i=e.toElement,r=e.fromElement,o=Ext.Component.fromElement(i),a=Ext.Component.fromElement(r);if(o!==a){if(t=this.getCommonAncestor(a,o),a&&!a.destroyed&&!a.destroying)for(a.handleBlurEvent&&a.handleBlurEvent(e),n=a;n&&n!==t;n=n.getRefOwner())n.destroyed||n.destroying||n.onFocusLeave({event:e.event,type:"focusleave",target:r,relatedTarget:i,fromComponent:a,toComponent:o});if(o&&!o.destroyed&&!o.destroying)for(o.handleFocusEvent&&o.handleFocusEvent(e),n=o;n&&n!==t;n=n.getRefOwner())n.onFocusEnter({event:e.event,type:"focusenter",relatedTarget:r,target:i,fromComponent:a,toComponent:o})}},getCommonAncestor:function(e,t){if(e===t)return e;for(;e&&!e.isAncestor(t)&&e!==t;)e=e.getRefOwner();return e},privates:{clearAll:function(){this.all={},this.references={},this.onAvailableCallbacks={}},fromElement:function(e,t,n){var i,r,o,a=Ext.getDom(e),s=this.all,l=0;for("number"!=typeof t&&(i=Ext.getDom(t),t=Number.MAX_VALUE);a&&1===a.nodeType&&l<t&&a!==i;){if(r=a.getAttribute("data-componentid")||a.id){if((o=s[r])&&(!n||Ext.ComponentQuery.is(o,n)))return o;l++}a=a.parentNode}return null}},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},function(){Ext.getCmp=function(e){return Ext.ComponentManager.get(e)}}),Ext.ns("Ext.util").Operators={"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&-1!==e.indexOf(t)},"%=":function(e,t){return e%t==0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&-1!=(" "+e+" ").indexOf(" "+t+" ")}},Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",config:{maxSize:null},add:function(e,t){var n,i,r=this;return r.removeAtKey(e),n={prev:i=r.last,next:null,key:e,value:t},i?i.next=n:r.first=n,r.last=n,r.callParent([e,n]),r.prune(),t},insertBefore:function(e,t,n){var i,r,o=this;return(n=this.map[this.findKey(n)])?((i=o.findKey(t))?o.unlinkEntry(r=o.map[i]):r={prev:n.prev,next:n,key:e,value:t},n.prev?r.prev.next=r:o.first=r,r.next=n,n.prev=r,o.prune(),t):o.add(e,t)},get:function(e){var t=this.map[e];if(t)return t.next&&this.moveToEnd(t),t.value},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent(arguments)},clear:function(e){return this.first=this.last=null,this.callParent([e])},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){for(var t=[],n=this.first;n;)t.push(e?n.key:n.value),n=n.next;return t},each:function(e,t,n){var i=this,r=n?i.last:i.first,o=i.length;for(t=t||i;r&&!1!==e.call(t,r.key,r.value,o);)r=n?r.prev:r.next;return i},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t].value===e)return t},clone:function(){var e,t=new this.self(this.initialConfig),n=this.map;for(e in t.suspendEvents(),n)n.hasOwnProperty(e)&&t.add(e,n[e].value);return t.resumeEvents(),t},prune:function(){var e=this,t=e.getMaxSize(),n=t?e.length-t:0;if(n>0)for(;e.first&&n;n--)e.removeAtKey(e.first.key)}}),Ext.define("Ext.ComponentQuery",{singleton:!0,requires:["Ext.ComponentManager","Ext.util.Operators","Ext.util.LruCache"]},function(){var e=this,t=Ext.util.Operators,n=/(\d*)n\+?(\d*)/,i=/\D/,r=/^(\s)+/,o=/\\(.)/g,a=new Ext.util.LruCache({maxSize:100}),s=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),l=function(e,t){return t.method.apply(this,[e].concat(t.args))},d=function(e,t){for(var n,i=[],r=0,o=e.length,a=">"!==t;r<o;r++)(n=e[r]).getRefItems&&(i=i.concat(n.getRefItems(a)));return i},c=function(e){for(var t,n=[],i=0,r=e.length;i<r;i++)for(t=e[i];t=t.getRefOwner();)n.push(t);return n},u=function(e,t,n){if("*"===t)return e.slice();for(var i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).isXType(t,n)&&r.push(i);return r},h=function(e,t,n){for(var i,r=[],o=0,a=e.length;o<a;o++)i=e[o],(n?i.id:i.getItemId())===t&&r.push(i);return r},f=/^(\s?([>\^])\s?|\s|$)/,g=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,p=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:u,argTransform:function(e){var t=e[0];return Ext.log.warn('"'+t+'" ComponentQuery selector style is deprecated, use "'+t.replace(/^\./,"")+'" without the leading dot instead'),void 0!==e[1]&&(e[1]=e[1].replace(o,"$1")),e.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:function(e,n,i,r){var o,a,s,l,d,c,u,h=[],f=0,g=e.length;for("@"===n.charAt(0)&&(o=!0,n=n.substr(1)),"?"===n.charAt(0)&&(o=!0,a=!0,n=n.substr(1));f<g;f++){if(u=(s=e[f]).self&&s.self.getConfigurator&&s.self.$config.configs[n])l=s[u.names.get]();else{if(o&&!s.hasOwnProperty(n))continue;l=s[n]}if(a)h.push(s);else if("~="===i){if(l)for(Ext.isArray(l)||(l=l.split(" ")),d=0,c=l.length;d<c;d++)if(t[i](Ext.coerce(l[d],r),r)){h.push(s);break}}else"/="===i?null!=l&&r.test(l)&&h.push(s):(r?t[i](Ext.coerce(l,r),r):s[n])&&h.push(s)}return h},argTransform:function(e){var t=e[0],n=e[1],i=e[2],r=e[4];if(void 0!==r){r=r.replace(o,"$1");var s,l=Ext.String.format,d="ComponentQuery selector '{0}' has an unescaped ({1}) character at the {2} of the attribute value pattern. Usually that indicates an error where the opening quote is not followed by the closing quote. If you need to match a ({1}) character at the {2} of the attribute value, escape the quote character in your pattern: (\\{1})";(s=/^(['"]).*?[^'"]$/.exec(r))?Ext.log.warn(l(d,t,s[1],"beginning")):(s=/^[^'"].*?(['"])$/.exec(r))&&Ext.log.warn(l(d,t,s[1],"end"))}return"/="===i&&(r=a.get(r)||a.add(r,new RegExp(r))),[n,i,r]}},{re:/^#((?:\\\.|[\w\-])+)/,method:h},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(t,n,i){return e.pseudos[n](t,i)},argTransform:function(e){return void 0!==e[2]&&(e[2]=e[2].replace(o,"$1")),e.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:s}];e.Query=Ext.extend(Object,{constructor:function(e){e=e||{},Ext.apply(this,e)},execute:function(e){var t,n,i,r=this.operations,o=[];for(n=0,i=r.length;n<i;n++)t=r[n],o=o.concat(this._execute(e,t));return o},_execute:function(e,t){var n,i,r=0,o=t.length;for(e?Ext.isIterable(e)?i=e:e.isMixedCollection&&(i=e.items):i=Ext.ComponentManager.getAll();r<o;r++)if(i="^"===(n=t[r]).mode?c(i||[e]):n.mode?d(i||[e],n.mode):l(i||d([e]),n),r===o-1)return i;return[]},is:function(e,t){var n,i,r=this.operations,o=!1,a=r.length;if(0===a)return!0;for(i=0;i<a;i++)if(n=r[i],o=this._is(e,t,n))return o;return!1},_is:function(e,t,n){var i,r,o,a,s,u,f=n.length,g=[e];for(r=f-1;r>=0;--r){if(a=(i=n[r]).mode)if("^"===a)g=d(g," ");else if(">"===a){for(s=[],o=0,f=g.length;o<f;++o)(u=g[o].getRefOwner())&&s.push(u);g=s}else g=c(g);else g=l(g,i);if(0===g.length)return!1}return!t||(a||(g=c(g)),g.length>0&&(g=l(g,{method:h,args:[t.id,!0]})),0!==g.length)},getMatches:function(e,t){var n,i=t.length;for(n=0;n<i&&0!==(e=l(e,t[n])).length;++n);return e},isMultiMatch:function(){return this.operations.length>1}}),Ext.apply(e,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(t,n){for(var i,r=0,o=t.length,a=[],s=-1;r<o;++r)i=t[r],e.is(i,n)||(a[++s]=i);return a},first:function(e){var t=[];return e.length>0&&t.push(e[0]),t},last:function(e){var t=e.length,n=[];return t>0&&n.push(e[t-1]),n},focusable:function(e){for(var t,n=e.length,i=[],r=0;r<n;r++)(t=e[r]).isFocusable&&t.isFocusable()&&i.push(t);return i},canfocus:function(e,t){for(var n,i=e.length,r=[],o=0;o<i;o++)(n=e[o]).canFocus&&n.canFocus(!1,t)&&r.push(n);return r},"nth-child":function(e,t){var r,o,a,s=[],l=n.exec(("even"===t?"2n":"odd"===t&&"2n+1")||!i.test(t)&&"n+"+t||t),d=(l[1]||1)-0,c=l[2]-0;for(r=0;o=e[r];r++)a=r+1,1===d?0!==c&&a!==c||s.push(o):(a+c)%d==0&&s.push(o);return s},scrollable:function(e){for(var t,n=e.length,i=[],r=0;r<n;r++)((t=e[r]).scrollable||t._scrollable)&&i.push(t);return i},visible:function(e,t){t="true"===t;for(var n,i=e.length,r=[],o=0;o<i;o++)(n=e[o]).isVisible(t)&&r.push(n);return r}},query:function(t,n){if(!t)return Ext.ComponentManager.all.getArray();var i,r,o,a=[],s=[],l={},d=e.cache.get(t);if(d||(d=e.cache.add(t,e.parse(t))),a=d.execute(n),d.isMultiMatch()){for(i=a.length,o=0;o<i;o++)l[(r=a[o]).id]||(s.push(r),l[r.id]=!0);a=s}return a},visitPreOrder:function(t,n,i,r,o){e._visit(!0,t,n,i,r,o)},visitPostOrder:function(t,n,i,r,o){e._visit(!1,t,n,i,r,o)},_visit:function(t,n,i,r,o,a){var s,l,d,c=e.cache.get(n),u=[i],h=0;if(c||(c=e.cache.add(n,e.parse(n))),d=c.is(i),i.getRefItems&&(h=(s=i.getRefItems()).length),a&&Ext.Array.push(u,a),t&&d&&!1===r.apply(o||i,u))return!1;for(l=0;l<h;l++)if(!1===e._visit.call(e,t,n,s[l],r,o,a))return!1;return!(!t&&d&&!1===r.apply(o||i,u))&&void 0},is:function(t,n,i){if(!n)return!0;var r=e.cache.get(n);return r||(r=e.cache.add(n,e.parse(n))),r.is(t,i)},parse:function(t){var n,i,r,o,a=[];for(r=0,o=(n=Ext.splitAndUnescape(t,",")).length;r<o;r++)""===(i=Ext.String.trim(n[r]))&&Ext.raise('Invalid ComponentQuery selector: ""'),a.push(e._parse(i));return new e.Query({operations:a})},_parse:function(e){for(var t,n,i,a,s,l,d,c,m,x,E,v=[],y=Ext.String.trim,b=p.length;e&&t!==e;){for(t=e,(n=e.match(g))&&(a=n[1],i=y(n[2]).replace(o,"$1"),"#"===a?v.push({method:h,args:[i]}):v.push({method:u,args:[i,Boolean(n[3])]}),e=e.replace(n[0],"").replace(r,"$1"));!(s=e.match(f));)for(c=0;e&&c<b;c++){if(m=p[c],l=e.match(m.re),x=m.method,d=m.argTransform,l){E=d?d(l):l.slice(1),v.push({method:Ext.isString(m.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[x].concat(l.slice(1)))):m.method,args:E}),e=e.replace(l[0],"").replace(r,"$1");break}c===b-1&&Ext.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}s[1]&&(v.push({mode:s[2]||s[1]}),e=e.replace(s[0],"").replace(r,""))}return v}}),Ext.all=function(){return e.query.apply(e,arguments)},Ext.first=function(){var t=e.query.apply(e,arguments);return t&&t[0]||null}}),Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:["Ext.mixin.Observable"],initialized:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.initialized=!0},onClassExtended:function(e,t){if(t.hasOwnProperty("eventedConfig")){var n,i,r=t.config,o=t.eventedConfig;for(n in r?Ext.applyIf(r,o):e.addConfig(o),o)o.hasOwnProperty(n)&&(t[(i=Ext.Config.get(n)).names.set]=i.eventedSetter||i.getEventedSetter())}}}),Ext.define("Ext.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],clippedCls:Ext.baseCSSPrefix+"clipped",afterSetPosition:Ext.emptyFn,getAnchorToXY:function(){Ext.raise("getAnchorToXY is not implemented in "+this.$className)},getBorderPadding:function(){Ext.raise("getBorderPadding is not implemented in "+this.$className)},getLocalX:function(){Ext.raise("getLocalX is not implemented in "+this.$className)},getLocalXY:function(){Ext.raise("getLocalXY is not implemented in "+this.$className)},getLocalY:function(){Ext.raise("getLocalY is not implemented in "+this.$className)},getX:function(){Ext.raise("getX is not implemented in "+this.$className)},getXY:function(){Ext.raise("getXY is not implemented in "+this.$className)},getY:function(){Ext.raise("getY is not implemented in "+this.$className)},setLocalX:function(){Ext.raise("setLocalX is not implemented in "+this.$className)},setLocalXY:function(){Ext.raise("setLocalXY is not implemented in "+this.$className)},setLocalY:function(){Ext.raise("setLocalY is not implemented in "+this.$className)},setX:function(){Ext.raise("setX is not implemented in "+this.$className)},setXY:function(){Ext.raise("setXY is not implemented in "+this.$className)},setY:function(){Ext.raise("setY is not implemented in "+this.$className)},adjustForConstraints:function(e,t){var n=this.getConstrainVector(t,e);return n&&(e[0]+=n[0],e[1]+=n[1]),e},alignTo:function(e,t,n,i){var r=this.el;return this.setXY(this.getAlignToXY(e,t,n),!(!r.anim||!i)&&r.anim(i))},calculateAnchorXY:function(e,t,n,i){var r=this.getRegion();return r.setPosition(0,0),r.translateBy(t||0,n||0),i&&(r.setWidth(i.width),r.setHeight(i.height)),r.getAnchorPoint(e)},convertPositionSpec:function(e){return Ext.util.Region.getAlignInfo(e)},getAlignToXY:function(e,t,n){var i=this.getAlignToRegion(e,t,n);return[i.x,i.y]},getAlignToRegion:function(e,t,n,i){var r,o=this;return(e=Ext.get(e.el||e))&&e.dom||Ext.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",msg:"Attempted to align an element that doesn't exist"}),(t=o.convertPositionSpec(t)).constrain&&(r="!"===t.constrain?e:o.constrainTo||o.container||o.el.parent(),r=Ext.get(r.el||r).getConstrainRegion()),o.getRegion().alignTo({target:e.getRegion(),inside:r,minHeight:i,offset:n,align:t,axisLock:!0})},getAnchorXY:function(e,t,n){var i=this.getRegion(),r=this.el,o="BODY"===r.dom.nodeName||9===r.dom.nodeType,a=r.getScroll();return t?i.setPosition(0,0):o&&i.setPosition(a.left,a.top),n&&(i.setWidth(n.width),i.setHeight(n.height)),i.getAnchorPoint(e)},getBox:function(e,t){var n,i,r,o,a,s=this,l=t?s.getLocalXY():s.getXY(),d=l[0],c=l[1];return"BODY"===s.el.dom.nodeName||9===s.el.dom.nodeType?(n=Ext.Element.getViewportWidth(),i=Ext.Element.getViewportHeight()):(n=s.getWidth(),i=s.getHeight()),e&&(d+=o=(r=s.getBorderPadding()).beforeX,c+=a=r.beforeY,n-=o+r.afterX,i-=a+r.afterY),{x:d,left:d,0:d,y:c,top:c,1:c,width:n,height:i,right:d+n,bottom:c+i}},calculateConstrainedPosition:function(e,t,n,i){var r,o,a,s,l=this,d=l.floatParent,c=d?d.getTargetEl():null,u=!1;return n&&d?(o=c.getXY(),a=c.getBorderPadding(),o[0]+=a.beforeX,o[1]+=a.beforeY,t&&(s=[t[0]+o[0],t[1]+o[1]])):s=t,e=e||l.constrainTo||c||l.container||l.el.parent(),n&&s&&(s=l.reverseTranslateXY(s)),(r=(l.constrainHeader&&l.header.rendered?l.header:l).getConstrainVector(e,s,i))&&((u=t||l.getPosition(n))[0]+=r[0],u[1]+=r[1]),u},getConstrainRegion:function(){var e,t,n,i=this.el,r="BODY"===i.dom.nodeName,o=i.dom,a=i.getBorders(),s=i.getXY(),l=s[0]+a.beforeX,d=s[1]+a.beforeY;return r?(l=(e=i.getScroll()).left,d=e.top,t=Ext.Element.getViewportWidth(),n=Ext.Element.getViewportHeight()):(t=o.clientWidth,n=o.clientHeight),new Ext.util.Region(d,l+t,d+n,l)},getConstrainVector:function(e,t,n){var i=this,r=i.getRegion(),o=[0,0],a=i.shadow&&i.constrainShadow&&!i.shadowDisabled?i.el.shadow.getShadowSize():void 0,s=!1,l=i.constraintInsets;return e instanceof Ext.util.Region||(e=(e=Ext.get(e.el||e)).getConstrainRegion()),l&&(l=Ext.isObject(l)?l:Ext.Element.parseBox(l),e.adjust(l.top,l.right,l.bottom,l.left)),t&&r.translateBy(t[0]-r.x,t[1]-r.y),n&&(r.right=r.left+n[0],r.bottom=r.top+n[1]),a&&e.adjust(a[0],-a[1],-a[2],a[3]),r.right>e.right&&(s=!0,o[0]=e.right-r.right),r.left+o[0]<e.left&&(s=!0,o[0]=e.left-r.left),r.bottom>e.bottom&&(s=!0,o[1]=e.bottom-r.bottom),r.top+o[1]<e.top&&(s=!0,o[1]=e.top-r.top),!!s&&o},getOffsetsTo:function(e){var t=this.getXY(),n=Ext.fly(e.el||e).getXY();return[t[0]-n[0],t[1]-n[1]]},getRegion:function(e){var t=this.getBox(e);return new Ext.util.Region(t.top,t.right,t.bottom,t.left)},getClientRegion:function(){var e,t=this.getBox(),n=this.dom;return(e=n.offsetWidth-n.clientWidth)&&("rtl"===this.getStyle("direction")?t.left+=e:t.right-=e),(e=n.offsetHeight-n.clientHeight)&&(t.bottom-=e),new Ext.util.Region(t.top,t.right,t.bottom,t.left)},getViewRegion:function(){var e,t,n,i,r,o,a,s=this,l=s.el;return"BODY"===l.dom.nodeName?(r=(t=l.getScroll()).left,i=t.top,o=Ext.Element.getViewportWidth(),a=Ext.Element.getViewportHeight()):(e=s.getBorderPadding(),r=(n=s.getXY())[0]+e.beforeX,i=n[1]+e.beforeY,o=s.getWidth(!0),a=s.getHeight(!0)),new Ext.util.Region(i,r+o,i+a,r)},getClientRegion:function(){var e,t,n,i,r,o,a=this.el;return e=this.getBorderPadding(),n=(t=this.getXY())[0]+e.beforeX,i=t[1]+e.beforeY,r=a.dom.clientWidth,o=a.dom.clientHeight,new Ext.util.Region(i,n+r,i+o,n)},move:function(e,t,n){var i=this.getXY(),r=i[0],o=i[1],a=[r-t,o],s=[r+t,o],l=[r,o-t],d=[r,o+t],c={l:a,left:a,r:s,right:s,t:l,top:l,up:l,b:d,bottom:d,down:d};e=e.toLowerCase(),this.setXY([c[e][0],c[e][1]],n)},setBox:function(e){var t,n,i=this;return e.isRegion&&(e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}),i.constrainBox(e),t=e.x,n=e.y,i.setXY([t,n]),i.setSize(e.width,e.height),i.afterSetPosition(t,n),i},constrainBox:function(e){var t,n,i;(this.constrain||this.constrainHeader)&&(n="x"in e?e.x:e.left,i="y"in e?e.y:e.top,(t=this.calculateConstrainedPosition(null,[n,i],!1,[e.width,e.height]))&&(e.x=t[0],e.y=t[1]))},translatePoints:function(e,t){var n=this.translateXY(e,t);return{left:n.x,top:n.y}},translateXY:function(e,t){var n=this.el,i=n.getStyle(this._positionTopLeft),r="relative"===i.position,o=parseFloat(i.left),a=parseFloat(i.top),s=this.getXY();return Ext.isArray(e)&&(t=e[1],e=e[0]),isNaN(o)&&(o=r?0:n.dom.offsetLeft),isNaN(a)&&(a=r?0:n.dom.offsetTop),{x:o="number"==typeof e?e-s[0]+o:void 0,y:a="number"==typeof t?t-s[1]+a:void 0}},reverseTranslateXY:function(e){var t,n,i,r,o=e,a=this.el,s=a.dom.offsetParent;return s&&(t=a.isStyle("position","relative"),n=Ext.fly(s).getXY(),i=e[0]+n[0]+s.clientLeft,r=e[1]+n[1]+s.clientTop,t&&(i+=a.getPadding("l"),r+=a.getPadding("t")),o=[i,r]),o},privates:{clipTo:function(e,t){var n,i,r,o,a,s,l=this.el,d=l.getRegion(),c=[],u=this.clippedCls;for(n=e.isRegion?e:(e.isComponent?e.el:Ext.fly(e)).getConstrainRegion(),t||(t=15),1&t&&(i=n.top-d.top)>0?(c[0]=i,a=!0):c[0]=-1e4,2&t&&(i=d.right-n.right)>0?(c[1]=Math.max(0,l.getWidth()-i),a=!0):c[1]=1e4,4&t&&(i=d.bottom-n.bottom)>0?(c[2]=Math.max(0,l.getHeight()-i),a=!0):c[2]=1e4,8&t&&(i=n.left-d.left)>0?(c[3]=i,a=!0):c[3]=-1e4,o="rect(",r=0;r<4;++r)o+=Ext.Element.addUnits(c[r],"px"),o+=3===r?")":",";if(l.dom.style.clip=o,l.addCls(u),(s=l.shadow)&&(l=s.el)&&l.dom){for(c[2]-=s.offsets.y,c[3]-=s.offsets.x,o="rect(",r=0;r<4;++r)o+=Ext.Element.addUnits(c[r],"px"),o+=3===r?")":",";l.dom.style.clip=o,a&&!Ext.supports.CSS3BoxShadow?l.dom.style.display="none":(l.dom.style.display="",l.addCls(u))}},clearClip:function(){var e=this.el,t=this.clippedCls;e.dom.style.clip=Ext.isIE8?"auto":"",e.removeCls(t),e.shadow&&e.shadow.el&&e.shadow.el.dom&&(e.shadow.el.dom.style.clip=Ext.isIE8?"auto":"",Ext.supports.CSS3BoxShadow||(e.dom.style.display="",e.removeCls(t)))}}}),Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(e,t,n,i,r,o){var a=this,s=!Ext.isEmpty(r),l=function(){a.mixins.positionable.alignTo.call(a,e,t,n,i),Ext.callback(o,a)},d=a.getAnchor();return a.removeAnchor(),Ext.apply(d,{fn:l,scroll:s}),Ext.on("resize",l,null),s&&Ext.getWin().on("scroll",l,null,{buffer:isNaN(r)?50:r}),l(),a},getAnchor:function(){var e,t,n=this.el;if(n&&n.dom)return(t=(e=n.getData())._anchor)||(t=e._anchor={}),t},alignTo:function(e,t,n,i){var r,o,a=this,s=a.el;return a.isComponent&&a.getSizeModel().height.shrinkWrap&&(a.maxHeight&&a.setMaxHeight(null),r=!0),o=a.getAlignToRegion(e,t,n,a.minHeight||150),a.setXY([o.x,o.y],!(!s.anim||!i)&&s.anim(i)),r&&(r=o.getHeight())!==a.getHeight()&&a.setMaxHeight(r),a},removeAnchor:function(){var e=this.getAnchor();return e&&e.fn&&(Ext.un("resize",e.fn),e.scroll&&Ext.getWin().on("scroll",e.fn),delete e.fn),this},setBox:function(e,t){var n=this;return e.isRegion&&(e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}),t?(n.constrainBox(e),n.animate(Ext.applyIf({to:e,listeners:{afteranimate:Ext.Function.bind(n.afterSetPosition,n,[e.x,e.y])}},t))):n.callParent([e]),n}}),Ext.define("Ext.dom.UnderlayPool",{constructor:function(e){this.elementConfig=e,this.cache=[]},checkOut:function(){var e=this.cache.shift();return e||((e=Ext.Element.create(this.elementConfig)).setVisibilityMode(2),e.dom.setAttribute("data-sticky",!0)),e},checkIn:function(e){this.cache.push(e)},reset:function(){for(var e=this.cache,t=e.length;t--;)e[t].destroy();this.cache=[]}}),Ext.define("Ext.dom.Underlay",{requires:["Ext.dom.UnderlayPool"],constructor:function(e){Ext.apply(this,e)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var e=this.el;e&&(e.hide(),this.getPool().checkIn(e),this.el=null,this.hidden=!0)},realign:function(e,t,n,i){var r=this.el,o=this.target,a=this.offsets,s=Math.max;r&&(null==e&&(e=o.getX()),null==t&&(t=o.getY()),null==n&&(n=o.getWidth()),null==i&&(i=o.getHeight()),a&&(e+=a.x,t+=a.y,n=s(n+a.w,0),i=s(i+a.h,0)),r.setXY([e,t]),r.setSize(n,i))},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},show:function(){var e,t=this,n=t.target,i=t.zIndex,r=t.el,o=t.getInsertionTarget().dom;r||(r=t.el=t.getPool().checkOut()),t.beforeShow(),null==i&&(i=parseInt(n.getStyle("z-index"),10)),i&&r.setStyle("z-index",i),r.setStyle("position",t.fixed?"fixed":""),(e=r.dom).nextSibling!==o&&n.dom.parentNode.insertBefore(e,o),r.show(),t.realign(),t.hidden=!1}}),Ext.define("Ext.dom.Shadow",{extend:"Ext.dom.Underlay",alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:Ext.baseCSSPrefix+(Ext.supports.CSS3BoxShadow?"css":"ie")+"-shadow",constructor:function(e){var t,n,i,r,o=this;switch(o.callParent([e]),o.elementConfig={cls:o.cls,role:"presentation"},i=o.offset,r=Math.floor(i/2),o.opacity=50,o.mode.toLowerCase()){case"drop":t={x:0,y:0,w:i,h:i},n=Ext.supports.CSS3BoxShadow?{x:i,y:i,h:-i,w:-i}:{x:-r,y:-r,h:-r,w:-r};break;case"sides":t={x:-i,y:0,w:2*i,h:i},n=Ext.supports.CSS3BoxShadow?{x:0,y:i,h:-i,w:0}:{x:1+r-2*i,y:-(1+r),h:-1,w:r-1};break;case"frame":t={x:-i,y:-i,w:2*i,h:2*i},n=Ext.supports.CSS3BoxShadow?{x:0,y:0,h:0,w:0}:{x:1+r-2*i,y:1+r-2*i,h:i-r-1,w:i-r-1};break;case"bottom":t={x:-i,y:0,w:2*i,h:i},n=Ext.supports.CSS3BoxShadow?{x:0,y:i,h:-i,w:0}:{x:0,y:i,h:0,w:0}}o.offsets=n,o.outerOffsets=t},getShadowSize:function(){var e=this.el?this.offset:0,t=[e,e,e,e],n=this.mode.toLowerCase();return this.el&&"frame"!==n&&(t[0]=0,"drop"==n&&(t[3]=0)),t},boxShadowProperty:(property="boxShadow",style=document.documentElement.style,"boxShadow"in style||("WebkitBoxShadow"in style?property="WebkitBoxShadow":"MozBoxShadow"in style&&(property="MozBoxShadow")),property),beforeShow:function(){var e=this,t=e.el.dom.style,n=e.shim;Ext.supports.CSS3BoxShadow?t[e.boxShadowProperty]="0 0 "+(e.offset+2)+"px #888":t.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+e.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+e.offset+")",n&&n.realign()},setOpacity:function(e){var t=this.el;t&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(e=Math.floor(100*e/2)/100),this.opacity=e,t.setOpacity(e))}}),Ext.define("Ext.dom.Shim",{extend:"Ext.dom.Underlay",cls:Ext.baseCSSPrefix+"shim",constructor:function(e){this.callParent([e]),this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var e=this.shadow;return e&&e.el||this.target}}),Ext.define("Ext.dom.ElementEvent",{extend:"Ext.util.Event",addListener:function(e,t,n,i,r){var o=this,a=!1,s=o.name,l=Ext.event.publisher.Dom.instance.directEvents[s];return!1===(n=n||{}).delegated||l?(l&&n.delegate&&(n.capture=!0),a=n.capture?(o.directCaptures||(o.directCaptures=new Ext.util.Event(o.observable,s))).addListener(e,t,n,i,r):(o.directs||(o.directs=new Ext.util.Event(o.observable,s))).addListener(e,t,n,i,r)):a=n.capture?(o.captures||(o.captures=new Ext.util.Event(o.observable,s))).addListener(e,t,n,i,r):o.callParent([e,t,n,i,r]),a},removeListener:function(e,t){var n=this,i=n.captures,r=n.directs,o=n.directCaptures,a=!1,s=n.findListener(e,t);return-1!==s?a=n.callParent([e,t,s]):(r&&(s=r.findListener(e,t)),-1!==s?a=r.removeListener(e,t,s):(i&&(s=i.findListener(e,t)),-1!==s?a=i.removeListener(e,t,s):o&&-1!==(s=o.findListener(e,t))&&(a=o.removeListener(e,t,s)))),a},clearListeners:function(){var e=this.directCaptures,t=this.directs,n=this.captures;e&&e.clearListeners(),t&&t.clearListeners(),n&&n.clearListeners(),this.callParent()},suspend:function(){var e=this.directCaptures,t=this.directs,n=this.captures;e&&e.suspend(),t&&t.suspend(),n&&n.suspend(),this.callParent()},resume:function(){var e=this.directCaptures,t=this.directs,n=this.captures;e&&e.resume(),t&&t.resume(),n&&n.resume(),this.callParent()}}),Ext.define("Ext.event.publisher.Publisher",{isEventPublisher:!0,$vetoClearingPrototypeOnDestroy:!0,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var e=this,t=e.type;e.handles={},t||Ext.raise("Event publisher '"+e.$className+"' defined without a 'type' property."),e.self.instance&&Ext.raise("Cannot create multiple instances of '"+e.$className+"'. Use '"+e.$className+".instance' to retrieve the singleton instance."),e.registerEvents(),Ext.event.publisher.Publisher.publishers[t]=e},registerEvents:function(e){var t,n,i=Ext.event.publisher.Publisher.publishersByEvent,r=e||this.handledEvents,o=r.length;for(n=0;n<o;n++)t=r[n],this.handles[t]=1,i[t]=this},subscribe:function(){Ext.raise("Ext.event.publisher.Publisher subclass '"+this.$className+'" has no subscribe method.')},unsubscribe:function(){Ext.raise("Ext.event.publisher.Publisher subclass '"+this.$className+'" has no unsubscribe method.')},fire:function(e,t,n){var i;e.hasListeners[t]&&(i=e.events[t])&&i.fire.apply(i,n)}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return e instanceof this?e:"number"==typeof e?new this(e,e):e.length?new this(e[0],e[1]):new this(e.x,e.y)}},constructor:function(e,t){return this.x=null==e||isNaN(e)?0:e,this.y=null==t||isNaN(t)?0:t,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return e instanceof this.statics()||Ext.raise("Offset must be an instance of Ext.util.Offset"),this.x===e.x&&this.y===e.y},add:function(e){e instanceof this.statics()||Ext.raise("Offset must be an instance of Ext.util.Offset"),this.x+=e.x,this.y+=e.y},round:function(e){if(isNaN(e))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var t=Math.pow(10,e);this.x=Math.round(this.x*t)/t,this.y=Math.round(this.y*t)/t}},isZero:function(){return 0===this.x&&0===this.y}}),Ext.define("Ext.util.Region",function(){var e=Ext.util,t=/([^\?!]*)(!|\?)?$/,n=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,i={l:0,r:100,t:0,b:100,c:50},r={l:100,r:0,t:0,b:100,c:50},o={b:0,l:1,t:2,r:3},a={"tl-tr":"l0-r0","tl-r":"l0-r50","bl-r":"l100-r50","bl-br":"l100-r100","tr-tl":"r0-l0","tr-l":"r0-l50","br-l":"r100-l50","br-bl":"r100-l100"},s={"tl-tr":"r0-l0","tl-r":"r0-l50","bl-r":"r100-l50","bl-br":"r100-l100","tr-tl":"l0-r0","tr-l":"l0-r50","br-l":"l100-r50","br-bl":"l100-r100"},l=[],d=new e.Offset(0,0),c=[-1,1,1,-1],u=function(t,n,i,r,o){var a,s,l,d,c,u,h,f=Math.ceil(r.x/2)+2;if(!o||o.intersect(t)){if(null!=i){if(1&i){if(a=new e.Region(0,0,0,0).setWidth(r.y).setHeight(r.x),u=(s=3===i)?n.right:n.left,l=new e.Region(Math.max(n.top,t.top),u,Math.min(n.bottom,t.bottom),u),t.getHeight()>f&&(d=l.getHeight())<t.width&&d<r.x+4){if(d<f){if(l.getAnchorPoint_c()[1]>t.getAnchorPoint_c()[1]?h=t.bottom-f:(c=!0,h=t.top+f-n.getHeight()),o&&(h=Math.min(Math.max(h,o.top),o.bottom-n.getHeight())),n.setPosition(n.x,h),(d=(l=new e.Region(Math.max(n.top,t.top),u,Math.min(n.bottom,t.bottom),u)).getHeight())<f)return;c&&l.setPosition(u,t.y-r.x/2-2)}if(l.setHeight(Math.max(d,r.x+4)),o&&!o.contains(l))return}n.anchor=a.alignTo({target:l,align:s?"l-r":"r-l",overlap:!0}),n.anchor.position=s?"right":"left"}else{if(a=new e.Region(0,0,0,0).setWidth(r.x).setHeight(r.y),h=(s=0===i)?n.bottom:n.top,l=new e.Region(h,Math.min(n.right,t.right),h,Math.max(n.left,t.left)),t.getWidth()>f&&(d=l.getWidth())<t.height&&d<r.x+4){if(d<f){if(l.getAnchorPoint_c()[0]>t.getAnchorPoint_c()[0]?u=t.right-f:(c=!0,u=t.left+f-n.getWidth()),o&&(u=Math.min(Math.max(u,o.left),o.right-n.getWidth())),n.setPosition(u,n.y),(d=(l=new e.Region(h,Math.min(n.right,t.right),h,Math.max(n.left,t.left))).getWidth())<f)return;c&&l.setPosition(t.x-r.x/2-2,h)}if(l.setWidth(Math.max(d,r.x+4)),o&&!o.contains(l))return}n.anchor=a.alignTo({target:l,align:s?"t-b":"b-t",overlap:!0}),n.anchor.position=s?"bottom":"top"}n.anchor.align=i}return n}},h=function(e,t,n,i){var r;e&&i&&(t.top>=n.bottom&&t.bottom>i.bottom?(t.setHeight(Math.max(t.getHeight()+i.bottom-t.bottom,e)),t.constrainHeight=!0):t.bottom<=n.top&&t.top<i.top?(r=Math.max(t.getHeight()+t.top-i.top,e),t.adjust(t.getHeight()-r),t.constrainHeight=!0):t.getHeight()>i.getHeight()&&(t.setHeight(Math.max(e,i.getHeight())),t.setPosition(t.x,0),t.constrainHeight=!0))},f=function(e,t,n,i){var r;e&&i&&(t.left>=n.right&&t.right>i.right?(t.setWidth(Math.max(t.getWidth()+i.right-t.right,e)),t.constrainWidth=!0):t.right<=n.left&&t.left<i.left?(r=Math.max(t.getWidth()+t.left-i.left,e),t.adjust(0,0,0,t.getWidth()-r),t.constrainWidth=!0):t.getWidth()>i.getWidth()&&(t.setWidth(Math.max(e,i.getWidth())),t.setPosition(0,t.y),t.constrainWidth=!0))};return{requires:["Ext.util.Offset"],isRegion:!0,statics:{getRegion:function(e){return Ext.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)},getAlignInfo:function(e,l){if("object"==typeof e)return e;e=e?e.indexOf("-")<0?"tl-"+e:e:"tl-bl",e=(d=t.exec(e))[1],e=(l?s:a)[e]||e;var d,c,u=l?r:i,h=n.exec(e);return h||Ext.raise({sourceClass:"Ext.util.Region",sourceMethod:"getAlignInfo",position:e,msg:'Attemmpted to align an element with an invalid position: "'+e+'"'}),c={myEdge:h[1],myOffset:h[2],otherEdge:h[4],otherOffset:h[5],constrain:d[2]},h[3]&&(c.myEdge=h[3][0],c.myOffset=u[h[3][1]],null==c.myOffset&&(c.myOffset=50)),h[6]&&(c.otherEdge=h[6][0],c.otherOffset=u[h[6][1]],null==c.otherOffset&&(c.otherOffset=50)),c.position=o[c.myEdge],c}},constructor:function(e,t,n,i){var r=this;r.y=r.top=r[1]=e,r.right=t,r.bottom=n,r.x=r.left=r[0]=i,r.height=r.bottom-r.top,r.width=r.right-r.left},setPosition:function(e,t){return 1===arguments.length&&(t=e[1],e=e[0]),this.translateBy(e-this.x,t-this.y)},contains:function(e){return e.x>=this.x&&(e.right||e.x)<=this.right&&e.y>=this.y&&(e.bottom||e.y)<=this.bottom},intersect:function(e){var t=Math.max(this.y,e.y),n=Math.min(this.right,e.right),i=Math.min(this.bottom,e.bottom),r=Math.max(this.x,e.x);return i>t&&n>r&&new this.self(t,n,i,r)},union:function(e){var t=Math.min(this.y,e.y),n=Math.max(this.right,e.right),i=Math.max(this.bottom,e.bottom),r=Math.min(this.x,e.x);return new this.self(t,n,i,r)},constrainTo:function(e){var t=this,n=Ext.Number.constrain;return t.top=t.y=n(t.top,e.y,e.bottom),t.bottom=n(t.bottom,e.y,e.bottom),t.left=t.x=n(t.left,e.x,e.right),t.right=n(t.right,e.x,e.right),t},adjust:function(e,t,n,i){var r=this;return r.top=r.y+=e||0,r.left=r.x+=i||0,r.right+=t||0,r.bottom+=n||0,r},getOutOfBoundOffset:function(t,n){if(Ext.isObject(t)){n=t;var i=new e.Offset;return i.x=this.getOutOfBoundOffsetX(n.x),i.y=this.getOutOfBoundOffsetY(n.y),i}return"x"===t?this.getOutOfBoundOffsetX(n):this.getOutOfBoundOffsetY(n)},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return Ext.isObject(e)?(t=e,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):"x"===e?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,n){var i;return Ext.isObject(e)?(n=t,(i=(t=e).copy?t.copy():{x:t.x,y:t.y}).x=this.restrictX(t.x,n),i.y=this.restrictY(t.y,n),i):"x"===e?this.restrictX(t,n):this.restrictY(t,n)},restrictX:function(e,t){return t||(t=1),e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t||(t=1),e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},alignTo:function(t){var n,i,r,o=this,a=o.self,s=e.Offset,d=function(t){var n,i,r,o,a=e.Region,s=typeof t;if(null==t)return a.EMPTY;if(t.isRegion)return t;if(t.isElement||1===t.nodeType)return this.getRegion(t);if("string"===s){switch((t=t.split(" ")).length){case 1:t[1]=t[2]=t[3]=t[0];break;case 2:t[2]=t[0],t[3]=t[1];break;case 3:t[3]=t[1]}n=parseInt(t[0],10)||0,i=parseInt(t[1],10)||0,r=parseInt(t[2],10)||0,o=parseInt(t[3],10)||0}else"number"===s?n=i=r=o=t:"number"==typeof t.x?(n=t.y,o=t.x,"number"==typeof t.right?(i=t.right,r=t.bottom):(i=o+t.width,r=n+t.height)):Ext.raise("Not convertible to a Region: "+t);return new a(n,i,r,o)}(t.target),h=t.rtl,f=t.overlap,g=t.align,p=t.anchorSize,m=t.offset,x=t.inside,E=t.position,v=t.allowXTranslate,y=t.allowYTranslate;return m&&((m=s.fromObject(m))instanceof s||Ext.raise("offset option must be an Ext.util.Offset")),p&&((p=s.fromObject(p))instanceof s||Ext.raise("anchorSize option must be an Ext.util.Offset")),E?(2===E.length&&(E=new e.Point(E[0],E[1])),r=(new a).copyFrom(o).setPosition(E.x,E.y)):(g=o.getAlignInfo(g,h),x&&(d.x>=x.right?(d.setPosition(x.right-1,d.y),3!==g.position&&(g=o.getAlignInfo("r-l",h))):d.right<x.x&&(d.setPosition(x.x-d.getWidth()+1,d.y),1!==g.position&&(g=o.getAlignInfo("l-r",h))),d.y>=x.bottom?(d.setPosition(d.x,x.bottom-1),0!==g.position&&(g=o.getAlignInfo("b-t",h))):d.bottom<x.y&&(d.setPosition(d.x,x.y-d.getHeight()+1),2!==g.position&&(g=o.getAlignInfo("t-b",h)))),n=p?function(t,n,i){return null!=i&&n&&(l[0]=l[1]=l[2]=l[3]=0,l[i]=n.y*c[i],(t=e.Region.from(t)).adjust.apply(t,l)),t}(d,p,g.position):d,f=!!(r=a.from(o).translateBy(o.getAlignToVector(n,g))).intersect(n),!m||!f&&p||r.translateBy(m),p&&u(d,r,g.position,p,x)),x&&(r.left<x.left&&(r.translateBy(x.left-r.left,0),i=!0),r.right>x.right&&r.left>x.left&&(r.translateBy(x.right-r.right,0),i=!0),r.top<x.top&&(r.translateBy(0,x.top-r.top),i=!0),r.bottom>x.bottom&&r.top>x.top&&(r.translateBy(0,x.bottom-r.bottom),i=!0),i&&!f&&(r.anchor=null,t.axisLock&&(1&g.position?y=!1:v=!1),E?r.contains(E)&&E.exclude(r,{inside:x,centerOnSideChange:!1}):(r.intersect(n)?g.position=d.exclude(r,{defaultPosition:g.position,inside:x,minHeight:t.minHeight,minWidth:t.minWidth,allowX:v,allowY:y,offset:m,anchorHeight:p?p.y:0,centerOnSideChange:!!p}):t.minWidth&&r.getWidth()>x.getWidth()?(r.setPosition(0,r.y),r.setWidth(Math.max(x.getWidth(),t.minWidth)),r.constrainWidth=!0):t.minHeight&&r.getHeight()>x.getHeight()&&(r.setPosition(r.x,0),r.setHeight(Math.max(x.getHeight(),t.minHeight)),r.constrainHeight=!0),r.align=g,p&&u(d,r,g.position,p,x)))),r},exclude:function(t,n){var i,r,o,a,s,l,c,u=this,g=(n=n||{}).inside,p=n.defaultPosition,m=n.centerOnSideChange,x=n.minHeight,E=n.minWidth,v=!1!==n.allowX,y=!1!==n.allowY,b=n.anchorHeight,C=n.offset,S=[];if(C||(C=d),y?(S.push([0,r=u.top-t.bottom-b+C.y,"b-t",0,Math.abs(r)]),S.push([0,r=u.bottom-t.top+b+C.y,"t-b",2,Math.abs(r)])):m=!1,v?(S.push([r=u.left-t.right-b+C.x,0,"r-l",3,Math.abs(r)]),S.push([r=u.right-t.left+b+C.x,0,"l-r",1,Math.abs(r)])):m=!1,Ext.Array.sort(S,function(e,t){var n=e[4]-t[4];if(!n){if(e[3]===p)return-1;if(t[3]===p)return 1}return n}),!g)return t.translateBy.apply(t,S[0]),S[0][3];for(o=0;o<S.length;o++){if(r=S[o],(i=e.Region.from(t)).translateBy.apply(i,r),g.contains(i)){t.copyFrom(i),c={align:r[2],position:r[3],distance:r[4]};break}x&&(h(x,i,u,g),g.contains(i)&&(!a||i.getArea()>a.region.getArea())&&(a={region:i,align:r[2],position:r[3],distance:r[4]})),E&&(f(E,i,u,g),g.contains(i)&&(!a||i.getArea()>a.region.getArea())&&(a={region:i,align:r[2],position:r[3],distance:r[4]})),(l=g.intersect(i))&&(l=l.getArea(),(!s||l&&s.area<l)&&(s={region:i,align:r[2],position:r[3],distance:r[4],area:l}))}return c||(a?(t.copyFrom(a.region),c=a,t.constrainWidth=a.region.constrainWidth,t.constrainHeight=a.region.constrainHeight):s&&(t.copyFrom(s.region),c=s)),c?((1&c.position)!=(1&p)&&c.distance&&m&&(r=t.alignTo({align:c.align,target:u,anchorSize:b,offset:C,axisLock:!0,inside:g,minHeight:n.minHeight,minWidth:n.minWidth}),g.contains(r)&&t.setPosition(r.x,r.y)),c.position):p},getAlignToXY:function(e,t,n){var i=this.getAlignToVector(e,t,n);return[this.x+i[0],this.y+i[1]]},getAnchorPoint:function(e,t){return this["getAnchorPoint_"+(e="string"==typeof e?this.getAlignInfo(e+"-tl",t):e).myEdge](e.myOffset)},getAlignToVector:function(e,t,n){var i=this["getAnchorPoint_"+(t="string"==typeof t?this.getAlignInfo(t,n):t).myEdge](t.myOffset),r=e["getAnchorPoint_"+t.otherEdge](t.otherOffset);return[r[0]-i[0],r[1]-i[1]]},getAnchorPoint_t:function(e){return[this.x+Math.round(this.getWidth()*(e/100)),this.y]},getAnchorPoint_b:function(e){return[this.x+Math.round(this.getWidth()*(e/100)),this.bottom]},getAnchorPoint_l:function(e){return[this.x,this.y+Math.round(this.getHeight()*(e/100))]},getAnchorPoint_r:function(e){return[this.right,this.y+Math.round(this.getHeight()*(e/100))]},getAnchorPoint_c:function(){return[this.x+Math.round(this.getWidth()/2),this.y+Math.round(this.getHeight()/2)]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(e){return this.bottom=this.top+e,this},setWidth:function(e){return this.right=this.left+e,this},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var t=this;return t.top=t.y=t[1]=e.y,t.right=e.right,t.bottom=e.bottom,t.left=t.x=t[0]=e.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){e.length?(t=e[1],e=e[0]):1===arguments.length&&(t=e.y,e=e.x);var n=this;return n.top=n.y+=t,n.right+=e,n.bottom+=t,n.left=n.x+=e,n},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left},getOffsetsTo:function(e){return{x:this.x-e.x,y:this.y-e.y}}}},function(e){e.prototype.getAlignInfo=e.getAlignInfo,e.EMPTY=new e(0,0,0,0),Object.freeze&&Object.freeze(e.EMPTY)}),Ext.define("Ext.util.Point",{extend:"Ext.util.Region",isPoint:!0,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(e){var t=e.changedTouches,n=t&&t.length>0?t[0]:e;return this.fromTouch(n)},fromTouch:function(e){return new this(e.pageX,e.pageY)},from:function(e){return e?e instanceof this?e:new this(e.x,e.y):new this(0,0)}},constructor:function(e,t){null==e&&(e=0),null==t&&(t=0),this.callParent([t,e,t,e])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(e){return this.x=e.x,this.y=e.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(e){return this.x===e.x&&this.y===e.y},isCloseTo:function(e,t){if("number"==typeof t)return this.getDistanceTo(e)<=t;var n=e.x,i=e.y,r=t.x,o=t.y;return this.x<=n+r&&this.x>=n-r&&this.y<=i+o&&this.y>=i-o},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(e){return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getRegion()),e.contains(this)},roundedEquals:function(e){return e&&"object"==typeof e||(e=this.origin),Math.round(this.x)===Math.round(e.x)&&Math.round(this.y)===Math.round(e.y)},getDistanceTo:function(e){e&&"object"==typeof e||(e=this.origin);var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},getAngleTo:function(e){e&&"object"==typeof e||(e=this.origin);var t=this.x-e.x,n=this.y-e.y;return Math.atan2(n,t)*this.radianToDegreeConstant}},function(){this.prototype.translate=this.prototype.translateBy}),Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",requires:["Ext.util.Point"],stopped:!1,claimed:!1,defaultPrevented:!1,isEvent:!0,statics:{resolveTextNode:function(e){return e&&3===e.nodeType?e.parentNode:e},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypeMap:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"},keyFlags:{CTRL:"ctrlKey",CONTROL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",CMD:"metaKey",COMMAND:"metaKey",CMDORCTRL:Ext.isMac?"metaKey":"ctrlKey",COMMANDORCONTROL:Ext.isMac?"metaKey":"ctrlKey",META:"metaKey"},modifierGlyphs:{ctrlKey:"⌃",altKey:"⌥",metaKey:Ext.isMac?"⌘":"⊞",shiftKey:"⇧"},specialKeyGlyphs:{BACKSPACE:"⌫",TAB:"⇥",ENTER:"⏎",RETURN:"⏎",SPACE:"␣",PAGE_UP:"⇞",PAGE_DOWN:"⇟",END:"⇲",HOME:"⌂",LEFT:"←",UP:"↑",RIGHT:"→",DOWN:"↓",PRINT_SCREEN:"⎙",INSERT:"⎀",DELETE:"⌦",CONTEXT_MENU:"☰"},getKeyId:function(e){var t,n,i=this,r=(e=e.toUpperCase()).split("+"),o=r.length-1,a=r[o],s=[];for(Ext.event.Event[a]||Ext.raise('Invalid key name: "'+a+'"'),n=0;n<o;n++)(t=i.keyFlags[r[n]])||Ext.raise('Invalid key modifier: "'+r[n]+'"'),s[t]=!0;return s.ctrlKey&&s.push(i.modifierGlyphs.ctrlKey),s.altKey&&s.push(i.modifierGlyphs.altKey),s.shiftKey&&s.push(i.modifierGlyphs.shiftKey),s.metaKey&&s.push(i.modifierGlyphs.metaKey),s.push(this.specialKeyGlyphs[a]||a),s.join("")}},constructor:function(e){var t,n,i=this,r=i.self,o=i.self.resolveTextNode,a=e.changedTouches,s=a?a[0]:e,l=e.type;if(i.timeStamp=i.time=Ext.now(),i.pageX=s.pageX,i.pageY=s.pageY,i.clientX=s.clientX,i.clientY=s.clientY,i.target=i.delegatedTarget=o(e.target),n=e.relatedTarget)if(Ext.isGecko&&"dragenter"===l||"dragleave"===l)try{i.relatedTarget=o(n)}catch(e){i.relatedTarget=null}else i.relatedTarget=o(n);i.browserEvent=i.event=e,i.type=l,i.button=e.button||0,i.shiftKey=e.shiftKey,i.ctrlKey=e.ctrlKey||e.metaKey||!1,i.altKey=e.altKey,i.charCode=e.charCode,i.keyCode=e.keyCode,i.buttons=e.buttons,0===i.button&&0===i.buttons&&(i.buttons=1),r.focusEvents[l]?void 0!==r.forwardTab&&(i.forwardTab=r.forwardTab):"keydown"!==l&&delete r.forwardTab,r.mouseEvents[l]?t="mouse":r.clickEvents[l]?t=r.pointerTypeMap[e.pointerType]||"mouse":r.pointerEvents[l]?t=r.pointerTypeMap[e.pointerType]:r.touchEvents[l]&&(t="touch"),t&&(i.pointerType=t),i.isMultitouch=!1===e.isPrimary||e.touches&&e.touches.length>1},chain:function(e){var t=Ext.Object.chain(this);return t.parentEvent=this,Ext.apply(t,e)},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,n=Math.round(e/t);return!n&&e&&(n=e<0?-1:1),n},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.keyCodes[this.keyCode]},getPoint:function(){var e,t=this.point;return t||(e=this.getXY(),t=this.point=new Ext.util.Point(e[0],e[1])),t},getRelatedTarget:function(e,t,n){var i=this.relatedTarget,r=null;return i&&i.nodeType&&(r=e?Ext.fly(i).findParent(e,t,n):n?Ext.get(i):i),r},getTarget:function(e,t,n){return e?Ext.fly(this.target).findParent(e,t,n):n?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){return this.getWheelDeltas().y},getWheelDeltas:function(){var e=this.browserEvent,t=0,n=0;return Ext.isDefined(e.wheelDeltaX)?(t=e.wheelDeltaX,n=e.wheelDeltaY):e.wheelDelta?n=e.wheelDelta:"deltaX"in e?(t=e.deltaX,n=-e.deltaY):e.detail&&((n=-e.detail)>100?n=3:n<-100&&(n=-3),Ext.isDefined(e.axis)&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0)),{x:this.correctWheelDelta(t),y:this.correctWheelDelta(n)}},getX:function(){return this.getXY()[0]},getXY:function(){var e=this,t=e.xy;if(!t){var n,i,r,o,a=(t=e.xy=[e.pageX,e.pageY])[0];a||0===a||(n=e.browserEvent,r=(i=document).documentElement,o=i.body,t[0]=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t[1]=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0))}return t},getY:function(){return this.getXY()[1]},hasModifier:function(){return!!(this.ctrlKey||this.altKey||this.shiftKey||this.metaKey)},isNavKeyPress:function(e){var t=this,n=t.keyCode;return(!("keypress"===t.type)||Ext.isGecko)&&n>=33&&n<=40||!e&&(n===t.RETURN||n===t.TAB||n===t.ESC)},isSpecialKey:function(){var e=this,t=e.keyCode,n=Ext.isGecko,i="keypress"===e.type;return n&&i&&0===e.charCode||this.isNavKeyPress()||t===e.BACKSPACE||t===e.ENTER||t>=16&&t<=20||(!i||n)&&t>=44&&t<=46},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var e=this.parentEvent;return this.defaultPrevented=!0,e&&(e.defaultPrevented=!0),this.browserEvent.preventDefault(),this},setCurrentTarget:function(e){this.currentTarget=this.delegatedTarget=e},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var e=this,t=e.browserEvent,n=e.parentEvent;return e.stopped=!0,n&&!e.isGesture&&(n.stopped=!0),t.stopPropagation?(t.stopPropagation(),e):(t.cancelBubble=!0,e)},claimGesture:function(){var e=this,t=e.parentEvent;return e.claimed=!0,t&&!e.hasOwnProperty("isGesture")?t.claimGesture():e.preventDefault(),e},within:function(e,t,n){var i;return e&&(i=t?this.getRelatedTarget():this.getTarget()),!!i&&(Ext.fly(e).contains(i)||!(!n||i!==Ext.getDom(e)))},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(e){var t,n,i=e.prototype,r={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(Ext.isGecko?n=3:Ext.isMac?(n=Ext.isSafari&&Ext.webKitVersion>=532?120:12,n*=3):n=120,n)},o={};for(t in Ext.apply(e,r),Ext.apply(i,r),delete r.WHEEL_SCALE,delete r.RETURN,r)o[r[t]]=t;i.keyCodes=o,i.getTrueXY=i.getXY}),Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:function(){var e,t,n={};function i(e,t){}return!Ext.isIE9m&&document.createEvent?e={createHtmlEvent:function(e,t,n,i){var r=e.createEvent("HTMLEvents");return r.initEvent(t,n,i),r},createMouseEvent:function(e,t,n,i,r,o,a,s,l,d,c,u,h){var f=e.createEvent("MouseEvents"),g=e.defaultView||window;return f.initMouseEvent?f.initMouseEvent(t,n,i,g,r,o,a,o,a,s,l,d,c,u,h):((f=e.createEvent("UIEvents")).initEvent(t,n,i),f.view=g,f.detail=r,f.screenX=o,f.screenY=a,f.clientX=o,f.clientY=a,f.ctrlKey=s,f.altKey=l,f.metaKey=c,f.shiftKey=d,f.button=u,f.relatedTarget=h),f},createUIEvent:function(e,t,n,i,r){var o=e.createEvent("UIEvents"),a=e.defaultView||window;return o.initUIEvent(t,n,i,a,r),o},fireEvent:function(e,t,n){e.dispatchEvent(n)}}:document.createEventObject&&(t={0:1,1:4,2:2},e={createHtmlEvent:function(e,t,n,i){var r=e.createEventObject();return r.bubbles=n,r.cancelable=i,r},createMouseEvent:function(e,n,i,r,o,a,s,l,d,c,u,h,f){var g=e.createEventObject();return g.bubbles=i,g.cancelable=r,g.detail=o,g.screenX=a,g.screenY=s,g.clientX=a,g.clientY=s,g.ctrlKey=l,g.altKey=d,g.shiftKey=c,g.metaKey=u,g.button=t[h]||h,g.relatedTarget=f,g},createUIEvent:function(e,t,n,i,r){var o=e.createEventObject();return o.bubbles=n,o.cancelable=i,o},fireEvent:function(e,t,n){e.fireEvent("on"+t,n)}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(t,i){var r=i[0],o=i[1];n[t]=function(n,i){var a=e.createHtmlEvent(t,r,o);e.fireEvent(n,t,a)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(t){var i,r,o;n[t]=(r=1,o="mousemove"!==(i=t),function(t,n){var a=n.getXY(),s=e.createMouseEvent(t.ownerDocument,i,!0,o,r,a[0],a[1],n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget);e.fireEvent(t,i,s)})}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(t,i){var r=i[0],o=i[1];n[t]=function(n,i){var a=e.createUIEvent(n.ownerDocument,t,r,o,1);e.fireEvent(n,t,a)}}),e||(n={},e={}),function(e){(n[this.type]||i)(e?e.dom||e:this.getTarget(),this)}}(),preventDefault:function(e){var t,n,i=this.browserEvent,r=this.parentEvent;return"unknown"!=typeof i.type&&(e||(this.defaultPrevented=!0),r&&(r.defaultPrevented=!0),i.preventDefault?i.preventDefault():("mousedown"===i.type&&(n=i.target,"on"!==(t=n.getAttribute("unselectable"))&&(n.setAttribute("unselectable","on"),Ext.defer(function(){n.setAttribute("unselectable",t)},1))),i.returnValue=!1,(i.ctrlKey||i.keyCode>111&&i.keyCode<124)&&(i.keyCode=-1))),this},stopPropagation:function(){var e=this;return"unknown"!=typeof e.browserEvent.type&&(e.mousedownEvents[e.type]&&Ext.GlobalEvents.fireMouseDown(e),e.callParent()),e},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var e,t=this,n=function(e){9===e.keyCode&&(t.forwardTab=!e.shiftKey)},i=function(e){9===e.keyCode&&delete t.forwardTab};Ext.isIE9m?(e={0:0,1:0,4:1,2:2},t.override({statics:{enableIEAsync:function(e){var t,n={};for(t in e)n[t]=e[t];return n}},constructor:function(t,n,i,r){var o=this;o.callParent([t,n,i,r]),o.button=e[t.button],"contextmenu"===t.type&&(o.button=2),o.toElement=t.toElement,o.fromElement=t.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(e){this.browserEvent=this.self.enableIEAsync(e)},getRelatedTarget:function(e,t,n){var i,r,o=this;return o.relatedTarget||(i=o.type,o.mouseLeaveRe.test(i)?r=o.toElement:o.mouseEnterRe.test(i)&&(r=o.fromElement),r&&(o.relatedTarget=o.self.resolveTextNode(r))),o.callParent([e,t,n])}}),document.attachEvent("onkeydown",n),document.attachEvent("onkeyup",i),window.attachEvent("onunload",function(){document.detachEvent("onkeydown",n),document.detachEvent("onkeyup",i)})):document.addEventListener&&(document.addEventListener("keydown",n,!0),document.addEventListener("keyup",i,!0))}),Ext.define("Ext.event.publisher.Dom",{extend:"Ext.event.publisher.Publisher",requires:["Ext.event.Event"],type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var e=this;e.bubbleSubscribers={},e.captureSubscribers={},e.directSubscribers={},e.directCaptureSubscribers={},e.delegatedListeners={},e.initHandlers(),Ext.onInternalReady(e.onReady,e),e.callParent()},registerEvents:function(){for(var e,t=Ext.event.publisher.Publisher.publishersByEvent,n=this.handledDomEvents,i=n.length,r=0;r<i;r++)e=n[r],this.handles[e]=1,t[e]=this;this.callParent()},onReady:function(){var e,t,n=this.handledDomEvents;if(n)for(t=0,e=n.length;t<e;t++)this.addDelegatedListener(n[t]);Ext.getWin().on("unload",this.destroy,this)},initHandlers:function(){var e=this;e.onDelegatedEvent=Ext.bind(e.onDelegatedEvent,e),e.onDirectEvent=Ext.bind(e.onDirectEvent,e),e.onDirectCaptureEvent=Ext.bind(e.onDirectCaptureEvent,e)},addDelegatedListener:function(e){this.delegatedListeners[e]=1,this.target.addEventListener(e,this.onDelegatedEvent,!!this.captureEvents[e])},removeDelegatedListener:function(e){delete this.delegatedListeners[e],this.target.removeEventListener(e,this.onDelegatedEvent,!!this.captureEvents[e])},addDirectListener:function(e,t,n){t.dom.addEventListener(e,n?this.onDirectCaptureEvent:this.onDirectEvent,n)},removeDirectListener:function(e,t,n){t.dom.removeEventListener(e,n?this.onDirectCaptureEvent:this.onDirectEvent,n)},subscribe:function(e,t,n,i){var r,o,a=this;n&&!a.directEvents[t]?(r=i?a.captureSubscribers:a.bubbleSubscribers,a.handles[t]||a.delegatedListeners[t]||a.addDelegatedListener(t),r[t]?++r[t]:r[t]=1):(r=i?a.directCaptureSubscribers:a.directSubscribers,o=e.id,(r=r[t]||(r[t]={}))[o]?++r[o]:(r[o]=1,a.addDirectListener(t,e,i)))},unsubscribe:function(e,t,n,i){var r,o,a,s,l=this;n&&!l.directEvents[t]?(r=l.captureSubscribers,o=l.bubbleSubscribers,(a=i?r:o)[t]&&--a[t],l.handles[t]||o[t]||r[t]||this.removeDelegatedListener(t)):(a=i?l.directCaptureSubscribers:l.directSubscribers,s=e.id,(a=a[t])[s]&&--a[s],a[s]||(delete a[s],l.removeDirectListener(t,e,i)))},getPropagatingTargets:function(e){for(var t,n=e,i=[];n;)i.push(n),(t=n.parentNode)||(t=n.defaultView),n=t;return i},publish:function(e,t,n){var i,r,o,a,s,l,d,c,u=this,h=!1,f=!1;for(n=n||!1,t||(e instanceof Array&&Ext.raise("Propagation targets must be supplied when publishing an array of events."),o=e.target,t=u.captureEvents[e.type]?(a=Ext.cache[o.id])?[a]:[]:u.getPropagatingTargets(o)),i=Ext.Array.from(e),l=t.length,c=i.length,s=0;s<c;s++)r=i[s].type,!h&&u.captureSubscribers[r]&&(h=!0),!f&&u.bubbleSubscribers[r]&&(f=!0);if(h)for(s=l;s--;)if(a=Ext.cache[t[s].id])for(d=0;d<c;d++)e=i[d],u.fire(a,e.type,e,!1,!0),!n&&e.claimed&&(n=!0,d=u.filterClaimed(i,e),c=i.length),e.stopped&&(i.splice(d,1),d--,c--);if(f&&!e.stopped)for(s=0;s<l;s++)if(a=Ext.cache[t[s].id])for(d=0;d<c;d++)e=i[d],u.fire(a,e.type,e,!1,!1),!n&&e.claimed&&u.filterClaimed&&(n=!0,d=u.filterClaimed(i,e),c=i.length),e.stopped&&(i.splice(d,1),d--,c--)},publishDelegatedDomEvent:function(e){this.publish(e)},fire:function(e,t,n,i,r){var o;e.hasListeners[t]&&(o=e.events[t])&&(r&&i?o=o.directCaptures:r?o=o.captures:i&&(o=o.directs),o&&(n.setCurrentTarget(e.dom),o.fire(n,n.target)))},onDelegatedEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDelegatedEvent,this,[e]):this.doDelegatedEvent(e)},doDelegatedEvent:function(e){var t,n=this;t=(e=new Ext.event.Event(e)).time,n.isEventBlocked(e)||(n.beforeEvent(e),Ext.frameStartTime=t,n.reEnterCount++,n.publishDelegatedDomEvent(e),n.reEnterCount--,n.afterEvent(e))},onDirectEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[e,!1]):this.doDirectEvent(e,!1)},onDirectCaptureEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[e,!0]):this.doDirectEvent(e,!0)},doDirectEvent:function(e,t){var n,i,r=this,o=e.currentTarget;n=(e=new Ext.event.Event(e)).time,r.isEventBlocked(e)||(r.beforeEvent(e),Ext.frameStartTime=n,(i=Ext.cache[o.id])&&(r.reEnterCount++,r.fire(i,e.type,e,!0,t),r.reEnterCount--),r.afterEvent(e))},beforeEvent:function(e){var t,n,i=e.browserEvent,r=Ext.event.publisher.Dom;"touchstart"===i.type&&1===(t=i.touches).length&&(n=t[0],r.lastTouchStartX=n.pageX,r.lastTouchStartY=n.pageY)},afterEvent:function(e){var t=e.browserEvent.type,n=Ext.event.publisher.Dom,i=Ext.GlobalEvents;e.self.pointerEvents[t]&&"mouse"!==e.pointerType&&(n.lastScreenPointerEventTime=Ext.now()),"touchend"===t&&(n.lastTouchEndTime=Ext.now()),this.reEnterCount||!i.hasListeners.idle||i.idleEventMask[t]||i.fireEvent("idle")},isEventBlocked:function(e){var t=e.type,n=Ext.event.publisher.Dom,i=Ext.now();return!(!Ext.isGecko||"click"!==e.type||2!==e.button)||(this.blockedPointerEvents[t]&&"mouse"!==e.pointerType||this.blockedCompatibilityMouseEvents[t]&&i-n.lastScreenPointerEventTime<1e3||Ext.supports.TouchEvents&&e.self.mouseEvents[e.type]&&Math.abs(e.pageX-n.lastTouchStartX)<15&&Math.abs(e.pageY-n.lastTouchStartY)<15&&Ext.now()-n.lastTouchEndTime<1e3)},destroy:function(){var e,t=Ext.dom.GarbageCollector;for(e in this.delegatedListeners)this.removeDelegatedListener(e);Ext.Reaper.flush(),t&&t.collect(),this.callParent()},reset:function(){var e=Ext.event.publisher.Dom;e.lastScreenPointerEventTime=e.lastTouchEndTime=e.lastTouchStartX=e.lastTouchStartY=void 0}},function(e){var t=document,n=t.defaultView,i=e.prototype;Ext.os.is.iOS&&Ext.os.version.getMajor()<5||Ext.browser.is.AndroidStock||!n||!n.addEventListener?i.target=t:i.target=n,e.instance=new e}),Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(e){if(Ext.isIE9m){var t,n=document.documentElement,i=document.body,r=e.prototype;r.target=document,r.directBoundListeners={},t=function(e,t,n){e.target=e.srcElement||window,e.currentTarget=this,n?t.onDirectCaptureEvent(e):t.onDirectEvent(e)},function(e,t){e.target=e.srcElement||window,e.currentTarget=this,t.onDirectCaptureEvent(e)},e.override({addDelegatedListener:function(e){this.delegatedListeners[e]=1,this.target.attachEvent("on"+e,this.onDelegatedEvent)},removeDelegatedListener:function(e){delete this.delegatedListeners[e],this.target.detachEvent("on"+e,this.onDelegatedEvent)},addDirectListener:function(e,n,i){var r=n.dom,o=Ext.Function.bind(t,r,[this,i],!0),a=this.directBoundListeners;(a[e]||(a[e]={}))[r.id]=o,r.attachEvent?r.attachEvent("on"+e,o):this.callParent([e,n,i])},removeDirectListener:function(e,t,n){var i=t.dom;i.detachEvent?i.detachEvent("on"+e,this.directBoundListeners[e][i.id]):this.callParent([e,t,n])},doDelegatedEvent:function(e){return e.target=e.srcElement||window,"focusin"===e.type?e.relatedTarget=e.fromElement===i||e.fromElement===n?null:e.fromElement:"focusout"===e.type&&(e.relatedTarget=e.toElement===i||e.toElement===n?null:e.toElement),this.callParent([e])}}),Ext.apply(r.directEvents,r.captureEvents),Ext.apply(r.directEvents,{change:1,input:1,paste:1}),r.captureEvents={}}}),Ext.define("Ext.event.publisher.Gesture",{extend:"Ext.event.publisher.Dom",requires:["Ext.util.Point","Ext.AnimationQueue"],uses:"Ext.event.gesture.*",type:"gesture",isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(e){var t=this,n=t.handledDomEvents,i=Ext.supports,r=i.TouchEvents,o=t.onTouchStart,a=t.onTouchMove,s=t.onTouchEnd;return t.handlers={touchstart:o,touchmove:a,touchend:s,touchcancel:s,pointerdown:o,pointermove:a,pointerup:s,pointercancel:s,MSPointerDown:o,MSPointerMove:a,MSPointerUp:s,MSPointerCancel:s,mousedown:o,mousemove:a,mouseup:s},t.activeTouchesMap={},t.activeTouches=[],t.changedTouches=[],t.recognizers=[],t.eventToRecognizer={},t.cancelEvents=[],r&&(t.onTargetTouchMove=t.onTargetTouchMove.bind(t),t.onTargetTouchEnd=t.onTargetTouchEnd.bind(t)),i.PointerEvents?(n.push("pointerdown","pointermove","pointerup","pointercancel"),t.mousePointerType="mouse"):i.MSPointerEvents?(n.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"),t.mousePointerType=4):r&&n.push("touchstart","touchmove","touchend","touchcancel"),(!n.length||r&&Ext.isWebKit&&Ext.os.is.Desktop)&&n.push("mousedown","mousemove","mouseup"),t.initConfig(e),t.callParent()},onReady:function(){this.callParent(),Ext.Array.sort(this.recognizers,function(e,t){var n=e.priority,i=t.priority;return n>i?1:n<i?-1:0})},registerRecognizer:function(e){var t,n,i=this,r=e.handledEvents,o=r.length;for(e.setOnRecognized(i.onRecognized),e.setCallbackScope(i),n=0;n<o;n++)t=r[n],i.handledEvents.push(t),i.eventToRecognizer[t]=e;i.registerEvents(r),i.recognizers.push(e)},onRecognized:function(e,t,n,i,r){var o,a,s,l,d=this,c=n.touches,u=n.changedTouches,h=u.length,f=d.events,g=!f.length,p=d.cancelEvents;if((i=i||{}).type=t,i.target=u[0].target,i.stopped=!1,i.claimed=!1,i.isGesture=!0,n=n.chain(i),!d.gestureTargets){if(h>1){for(o=[],s=0;s<h;s++)l=u[s],o.push(l.targets);a=d.getCommonTargets(o)}else a=u[0].targets;d.gestureTargets=a}r&&e.isSingleTouch&&c.length>1?(n.target=c[0].target,p.push(n)):f.push(n),g&&d.publishGestures()},getCommonTargets:function(e){var t=e[0],n=e.length;if(1===n)return t;for(var i,r,o,a=[],s=1;;){if(!(i=t[t.length-s]))return a;for(o=1;o<n;o++)if((r=e[o])[r.length-s]!==i)return a;a.unshift(i),s++}return a},invokeRecognizers:function(e,t){var n,i,r=this.recognizers,o=r.length;if("onStart"===e)for(n=0;n<o;n++)r[n].isActive=!0;for(n=0;n<o;n++)(i=r[n]).isActive&&!1===i[e].call(i,t)&&(i.isActive=!1)},filterClaimed:function(e,t){var n,i,r,o,a=this.eventToRecognizer,s=t.type,l=a[s];for(o=e.length;o--;)(r=e[o].type)===s?n=o:(i=a[r],(!l||i&&i!==l)&&(e.splice(o,1),n&&n--));return this.claimRecognizer(l,e[0]),n},claimRecognizer:function(e,t){var n,i,r,o=this.recognizers;for(n=0,i=o.length;n<i;n++)(r=o[n])!==e&&(r.isActive=!1,r.cancel(t));this.events.length&&this.publishGestures(!0)},publishGestures:function(e){var t=this,n=t.cancelEvents,i=t.events,r=t.gestureTargets;n.length&&(t.cancelEvents=[],t.publish(n,t.getPropagatingTargets(n[0].target),!0)),i.length&&(t.events=[],t.gestureTargets=null,t.publish(i,r||t.getPropagatingTargets(i[0].target),e))},updateTouches:function(e,t){var n,i,r,o,a,s,l,d,c=e.browserEvent,u=c.changedTouches||[c],h=this.activeTouches,f=this.activeTouchesMap,g=[];for(a=0,s=u.length;a<s;a++)(r=f[i="identifier"in(n=u[a])?n.identifier:"pointerId"in n?n.pointerId:1])||(o=Ext.event.Event.resolveTextNode(n.target),r=f[i]={identifier:i,target:o,targets:this.getPropagatingTargets(o)},h.push(r)),t&&(delete f[i],Ext.Array.remove(h,r)),l=n.pageX,d=n.pageY,r.pageX=l,r.pageY=d,r.point=new Ext.util.Point(l,d),g.push(r);e.touches=Ext.Array.clone(h),e.changedTouches=g},publishDelegatedDomEvent:function(e){!e.button||e.button<1?(this.events=[e],this.handlers[e.type].call(this,e)):this.callParent([e])},onTouchStart:function(e){var t=this,n=e.target,i=e.browserEvent.touches;"touchstart"===e.browserEvent.type&&(n.addEventListener("touchmove",t.onTargetTouchMove),n.addEventListener("touchend",t.onTargetTouchEnd),n.addEventListener("touchcancel",t.onTargetTouchEnd)),i&&i.length<=t.activeTouches.length&&t.removeGhostTouches(i),t.updateTouches(e),t.isStarted||(Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.pause(),t.isStarted=!0,t.invokeRecognizers("onStart",e)),t.invokeRecognizers("onTouchStart",e),t.publishGestures()},onTouchMove:function(e){var t=this,n=t.mousePointerType;if(t.isStarted){if(n&&e.browserEvent.pointerType===n&&0===e.buttons)return e.type=Ext.dom.Element.prototype.eventMap.touchend,e.button=0,void t.onTouchEnd(e);t.updateTouches(e),e.changedTouches.length>0&&t.invokeRecognizers("onTouchMove",e)}t.publishGestures()},onTouchEnd:function(e){var t,n=this;if(n.isStarted){n.updateTouches(e,!0),t=n.activeTouches.length;try{n.invokeRecognizers(n.isCancelEvent[e.type]?"onTouchCancel":"onTouchEnd",e)}finally{t||(n.isStarted=!1,n.invokeRecognizers("onEnd",e)),n.publishGestures(),t||Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.resume()}}else n.publishGestures()},onTargetTouchMove:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchMove,this,[e]):this.doTargetTouchMove(e)},doTargetTouchMove:function(e){Ext.getBody().contains(e.target)||this.onTouchMove(new Ext.event.Event(e))},onTargetTouchEnd:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchEnd,this,[e]):this.doTargetTouchEnd(e)},doTargetTouchEnd:function(e){var t=e.target;t.removeEventListener("touchmove",this.onTargetTouchMove),t.removeEventListener("touchend",this.onTargetTouchEnd),t.removeEventListener("touchcancel",this.onTargetTouchEnd),Ext.getBody().contains(t)||this.onTouchEnd(new Ext.event.Event(e))},reset:function(){var e,t,n=this,i=n.recognizers,r=i.length;for(n.activeTouchesMap={},n.activeTouches=[],n.changedTouches=[],n.isStarted=!1,n.gestureTargets=null,n.events=[],n.cancelEvents=[],e=0;e<r;e++)(t=i[e]).reset(),t.isActive=!1;this.callParent()},privates:{removeGhostTouches:function(e){var t,n,i,r={},o=e.length,a=this.activeTouches,s=this.activeTouchesMap;for(t=0;t<o;++t)r[e[t].identifier]=!0;for(t=a.length;t--;)e[n=(i=a[t]).identifier]||(Ext.Array.remove(a,i),delete s[n])}}},function(e){e.instance=Ext.$gesturePublisher=new e}),Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){Ext.isIE9m&&this.override({updateTouches:function(e,t){var n=e.browserEvent,i=e.getXY();n.pageX=i[0],n.pageY=i[1],this.callParent([e,t])},doDelegatedEvent:function(e){this.callParent([Ext.event.Event.enableIEAsync(e)])}})}),Ext.define("Ext.mixin.Templatable",{extend:"Ext.Mixin",mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var e=document.createDocumentFragment();return e.appendChild(Ext.Element.create(this.getElementConfig(),!0)),e},initElement:function(){var e=this.self.prototype;e.elementTemplate=this.getElementTemplate(),e.initElement=e.doInitElement,this.initElement.apply(this,arguments)},linkElement:function(e,t){this.link(e,t)},doInitElement:function(){var e,t,n,i,r,o=this.referenceAttributeName;for(t=0,n=(e=this.elementTemplate.cloneNode(!0).querySelectorAll(this.referenceSelector)).length;t<n;t++)r=(i=e[t]).getAttribute(o),i.removeAttribute(o),this.linkElement(r,i)}}),Ext.define("Ext.TaskQueue",{requires:"Ext.AnimationQueue",singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[],this.writeQueue=[],this.run=Ext.Function.bind(this.run,this),Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},requestRead:function(e,t,n){this.request(!0),this.readQueue.push(arguments)},requestWrite:function(e,t,n){this.request(!1),this.writeQueue.push(arguments)},request:function(e){this.pending||(this.pendingTime=Date.now(),this.pending=!0,this.mode=e,e?Ext.defer(this.run,1,this):Ext.Function.requestAnimationFrame(this.run))},watch:function(){this.pending&&Date.now()-this.pendingTime>=500&&this.run()},run:function(){this.pending=!1;var e,t=this.readQueue,n=this.writeQueue,i=null;this.mode?(e=t,n.length>0&&(i=!1)):(e=n,t.length>0&&(i=!0));var r,o,a,s,l,d=e.slice();for(e.length=0,r=0,o=d.length;r<o;r++)s=(a=d[r])[0],(l=a[1])&&(l.destroying||l.destroyed)||("string"==typeof s&&(s=l[s]),a.length>2?s.apply(l,a[2]):s.call(l));d.length=0,null!==i&&this.request(i)},privates:{flush:function(){for(;this.readQueue.length||this.writeQueue.length;)this.run()}}}),Ext.define("Ext.util.sizemonitor.Abstract",{mixins:["Ext.mixin.Templatable"],requires:["Ext.TaskQueue"],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(e){this.refresh=Ext.Function.bind(this.refresh,this),this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0},this.initElement(),this.initConfig(e),this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(e){if(e)return Ext.get(e)},updateElement:function(e){e.append(this.detectorsContainer),e.addCls(Ext.baseCSSPrefix+"size-monitored")},applyArgs:function(e){return e.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){var e=this.getElement();if(!e||e.destroyed)return!1;var t,n=e.getWidth(),i=e.getHeight(),r=this.getContentWidth(),o=this.getContentHeight(),a=this.contentWidth,s=this.contentHeight,l=this.info,d=!1;return this.width=n,this.height=i,this.contentWidth=r,this.contentHeight=o,(t=(a!==r?1:0)+(s!==o?2:0))>0&&(l.width=n,l.height=i,l.contentWidth=r,l.contentHeight=o,l.flag=t,d=!0,this.getCallback().apply(this.getScope(),this.getArgs())),d},refresh:function(e){this.destroying||this.destroyed||(this.refreshSize()||e)&&Ext.TaskQueue.requestWrite("refreshMonitors",this)},destroy:function(){var e=this,t=e.getElement();e.bindListeners(!1),t&&!t.destroyed&&t.removeCls(Ext.baseCSSPrefix+"size-monitored"),delete e._element,e.refresh=null,e.callParent()}}),Ext.define("Ext.util.sizemonitor.Scroll",{extend:"Ext.util.sizemonitor.Abstract",getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(e){this.onScroll=Ext.Function.bind(this.onScroll,this),this.callParent(arguments)},bindListeners:function(e){var t=e?"addEventListener":"removeEventListener";this.expandMonitor[t]("scroll",this.onScroll,!0),this.shrinkMonitor[t]("scroll",this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var e=this.expandMonitor,t=this.shrinkMonitor;e&&!e.destroyed&&(e.scrollLeft=1e6,e.scrollTop=1e6),t&&!t.destroyed&&(t.scrollLeft=1e6,t.scrollTop=1e6)},destroy:function(){this.onScroll=null,this.callParent()}}),Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:"Ext.util.sizemonitor.Abstract",constructor:function(e){this.onExpand=Ext.Function.bind(this.onExpand,this),this.onShrink=Ext.Function.bind(this.onShrink,this),this.callParent(arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(e){var t=e?"addEventListener":"removeEventListener";this.expandMonitor[t](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0),this.shrinkMonitor[t](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(e){Ext.browser.is.Webkit&&e.horizontalOverflow&&e.verticalOverflow||Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(e){(!Ext.browser.is.Webkit||e.horizontalOverflow||e.verticalOverflow)&&Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(!this.destroying&&!this.destroyed){var e,t=this.expandHelper,n=this.shrinkHelper,i=this.getContentBounds(),r=i.width,o=i.height;t&&!t.destroyed&&((e=t.style).width=r+1+"px",e.height=o+1+"px"),n&&!n.destroyed&&((e=n.style).width=r+"px",e.height=o+"px"),Ext.TaskQueue.requestRead("refresh",this)}},destroy:function(){this.onExpand=this.onShrink=null,this.callParent()}}),Ext.define("Ext.util.SizeMonitor",{requires:["Ext.util.sizemonitor.Scroll","Ext.util.sizemonitor.OverflowChange"],constructor:function(e){var t=Ext.util.sizemonitor;return Ext.browser.is.Firefox?new t.OverflowChange(e):new t.Scroll(e)}}),Ext.define("Ext.event.publisher.ElementSize",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.SizeMonitor"],type:"size",handledEvents:["resize"],constructor:function(){this.monitors={},this.subscribers={},this.callParent(arguments)},subscribe:function(e){var t=e.id,n=this.subscribers,i=this.monitors;return n[t]?++n[t]:(n[t]=1,i[t]=new Ext.util.SizeMonitor({element:e,callback:this.onElementResize,scope:this,args:[e]})),e.on("painted","forceRefresh",i[t]),!0},unsubscribe:function(e){var t,n=e.id,i=this.subscribers,r=this.monitors;i[n]&&!--i[n]&&(delete i[n],t=r[n],e.un("painted","forceRefresh",t),t.destroy(),delete r[n])},onElementResize:function(e,t){Ext.TaskQueue.requestRead("fire",this,[e,"resize",[e,t]])},privates:{syncRefresh:function(e){var t,n,i=(e=Ext.Array.from(e)).length,r=0;for(r=0;r<i;++r)"string"!=typeof(t=e[r])&&(t=t.id),(n=this.monitors[t])&&n.forceRefresh();Ext.TaskQueue.flush()}}},function(e){e.instance=new e}),Ext.define("Ext.util.paintmonitor.Abstract",{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(e){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this),this.initConfig(e)},bindListeners:function(e){this.monitorElement[e?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(e){if(e)return Ext.get(e)},updateElement:function(e){this.monitorElement=Ext.Element.create({classList:[Ext.baseCSSPrefix+"paint-monitor",this.monitorClass]},!0),e.appendChild(this.monitorElement),e.addCls(Ext.baseCSSPrefix+"paint-monitored"),this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var e=this,t=e.monitorElement,n=t.parentNode,i=e.getElement();e.bindListeners(!1),delete e.monitorElement,i&&!i.destroyed&&(i.removeCls(Ext.baseCSSPrefix+"paint-monitored"),delete e._element),n&&n.removeChild(t),e.callParent()}}),Ext.define("Ext.util.paintmonitor.CssAnimation",{extend:"Ext.util.paintmonitor.Abstract",eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(e){e.animationName===Ext.baseCSSPrefix+"paint-monitor-helper"&&this.getCallback().apply(this.getScope(),this.getArgs())}}),Ext.define("Ext.util.PaintMonitor",{requires:["Ext.util.paintmonitor.CssAnimation"],constructor:function(e){return new Ext.util.paintmonitor.CssAnimation(e)}}),Ext.define("Ext.event.publisher.ElementPaint",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.PaintMonitor","Ext.TaskQueue"],type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={},this.subscribers={},this.callParent(arguments)},subscribe:function(e){var t=e.id,n=this.subscribers;n[t]?++n[t]:(n[t]=1,this.monitors[t]=new Ext.util.PaintMonitor({element:e,callback:this.onElementPainted,scope:this,args:[e]}))},unsubscribe:function(e){var t=e.id,n=this.subscribers,i=this.monitors;n[t]&&!--n[t]&&(delete n[t],i[t].destroy(),delete i[t])},onElementPainted:function(e){Ext.TaskQueue.requestRead("fire",this,[e,"painted",[e]])}},function(e){e.instance=new e}),Ext.define("Ext.dom.Element",function(e){var t,n,i,r,o,a,s,l,d,c=window,u=document,h=u.documentElement,f=c.top,g=(f="top",/\w/g),p=/\s+/,m=/[\s]+/,x=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,E=/table-row|table-.*-group/,v=/top/i,y={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},b={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},C={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},S=[b.l,b.r,b.t,b.b],w=[y.l,y.r,y.t,y.b],T=/\d+$/,P=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,k=/(-[a-z])/gi,I=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,M=/^\d+(?:\.\d*)?px$/i,R={},A=function(e,t){return t.charAt(1).toUpperCase()},D=function(e,t){var n,i,r;if(1===e.nodeType&&(e._extData=null,t))for(i=0,r=(n=e.childNodes).length;i<r;++i)D(n[i],t)},F=Ext.baseCSSPrefix+"hidden-visibility",L=Ext.baseCSSPrefix+"hidden-display",O=Ext.baseCSSPrefix+"hidden-offsets",B=Ext.baseCSSPrefix+"hidden-clip",N=Ext.baseCSSPrefix+"sized",H=Ext.baseCSSPrefix+"unsized",V=Ext.baseCSSPrefix+"stretched",z="style",W="className",G="cls",_="classList",X="text",U="hidden",Y="html",q="children",j=0,K=0,$=!1,Q=!1;try{t=f.__elementIdCounter__}catch(e){f=c}return f.__elementIdCounter=t=(f.__elementIdCounter__||0)+1,n="ext-window-"+t,i="ext-document-"+t,{alternateClassName:["Ext.Element"],mixins:["Ext.util.Positionable","Ext.mixin.Observable"],requires:["Ext.dom.Shadow","Ext.dom.Shim","Ext.dom.ElementEvent","Ext.event.publisher.Dom","Ext.event.publisher.Gesture","Ext.event.publisher.ElementSize","Ext.event.publisher.ElementPaint"],uses:["Ext.dom.Helper","Ext.dom.CompositeElement","Ext.dom.Fly","Ext.dom.TouchAction","Ext.event.publisher.Focus"],observableType:"element",isElement:!0,skipGarbageCollection:!0,$applyConfigs:!0,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(e){var t,n=this;if("string"==typeof e&&(e=u.getElementById(e)),!e)return Ext.raise("Invalid domNode reference or an id of an existing domNode: "+e),null;Ext.cache[e.id]&&Ext.raise("Element cache already contains an entry for id '"+e.id+"'.  Use Ext.get() to create or retrieve Element instances."),n.dom=e,(t=e.id)?n.id=t:t=e.id=n.getUniqueId(),n.validIdRe.test(n.id)||Ext.raise('Invalid Element "id": "'+n.id+'"'),n.el=n,Ext.cache[t]=n,n.longpressListenerCount=0,n.mixins.observable.constructor.call(n)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,minKeyboardHeight:100,unitRe:P,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1},addUnits:function(e,t){return"number"==typeof e?e+(t||"px"):""===e||"auto"===e||null==e?e||"":T.test(e)?e+(t||"px"):P.test(e)?e:(Ext.Logger.warn("Warning, size detected ("+e+") not a valid property value on Element.addUnits."),e||"")},create:function(e,t){var n,i,r,o,a,s,l,d,c;if((e=e||{}).isElement)return t?e.dom:e;if("nodeType"in e)return t?e:Ext.get(e);if("string"==typeof e)return u.createTextNode(e);for(s in(o=e.tag)||(o="div"),r=(i=e.namespace?u.createElementNS(e.namespace,o):u.createElement(o)).style,e)if("tag"!==s)switch(a=e[s],s){case z:if("string"==typeof a)i.setAttribute(s,a);else for(l in a)a.hasOwnProperty(l)&&(r[l]=a[l]);break;case W:case G:c=a.split(p),n=n?n.concat(c):c;break;case _:n=n?n.concat(a):a;break;case X:i.textContent=a;break;case Y:i.innerHTML=a;break;case U:n?n.push(L):n=[L];break;case q:if(null!=a)for(l=0,d=a.length;l<d;l++)i.appendChild(this.create(a[l],!0));break;default:null!=a&&i.setAttribute(s,a)}return n&&(i.className=n.join(" ")),t?i:this.get(i)},detach:function(){var e=this.dom;return e&&e.parentNode&&"BODY"!==e.tagName&&e.parentNode.removeChild(e),this},fly:function(e,t){return Ext.fly(e,t)},fromPoint:function(){var e;if(Ext.isIE)try{e=window.self!==window.top}catch(t){e=!0}return function(t,n,i){var r=null;return!(r=u.elementFromPoint(t,n))&&e&&(r=u.elementFromPoint(t,n)),i?r:Ext.get(r)}}(),fromPagePoint:function(t,n,i){var r=Ext.getDoc().getScroll();return e.fromPoint(t-r.left,n-r.top,i)},get:function(t){var r,o,a,s,l,d,h,f=Ext.cache;if(!t)return null;function g(e){Ext.raise("DOM element with id "+e+" in Element cache is not the same as element in the DOM. Make sure to clean up Element instances using destroy()")}if(t.isFly&&(t=t.dom),"string"==typeof t){if(a=t,f.hasOwnProperty(a)){if((s=f[a]).skipGarbageCollection||!Ext.isGarbage(s.dom))return(o=Ext.getElementById?Ext.getElementById(a):u.getElementById(a))&&o!==s.dom&&g(a),s;s.destroy()}if(a===n)return e.get(c);if(a===i)return e.get(u);if(o=Ext.getElementById?Ext.getElementById(a):u.getElementById(a))return new e(o)}if((r=t.nodeType)?(l=9===r,h=this.validNodeTypes[r]):d=t.window==t,h||d){if(a=t.id,f.hasOwnProperty(a)){if((s=f[a]).skipGarbageCollection||t===s.dom||!Ext.isGarbage(s.dom))return t!==s.dom&&g(a),s;s.destroy()}return t===u&&(t.id=i),t==c&&(t.id=n),t=new e(t),(d||l)&&(t.skipGarbageCollection=!0),t}return t.isElement?t:t.isComposite?t:Ext.isIterable(t)?this.select(t):null},getActiveElement:function(e){var t=u.activeElement;return t&&t.focus||(t=u.body),e?Ext.get(t):t},getDocumentHeight:function(){return Math.max(Ext.isStrict?h.scrollHeight:u.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?h.scrollWidth:u.body.scrollWidth,this.getViewportWidth())},getOrientation:function(){return Ext.supports.OrientationChange?0==c.orientation?"portrait":"landscape":c.innerHeight>c.innerWidth?"portrait":"landscape"},getViewportHeight:function(){var t=e._viewportHeight;return Ext.isIE9m?u.documentElement.clientHeight:null!=t?t:h.clientHeight},getViewportWidth:function(){var t=e._viewportWidth;return Ext.isIE9m?u.documentElement.clientWidth:null!=t?t:h.clientWidth},getViewportScale:function(){var e=c.top;return(Ext.isiOS||Ext.isAndroid?1:e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI)*this.getViewportTouchScale()},getViewportTouchScale:function(e){var t,n=1,i=c.top;return!e&&(t=this._viewportTouchScale)?t:(Ext.isIE10p||Ext.isEdge||Ext.isiOS?n=h.offsetWidth/c.innerWidth:Ext.isChromeMobile&&(n=i.outerWidth/i.innerWidth),n)},getViewSize:function(){return{width:e.getViewportWidth(),height:e.getViewportHeight()}},maskIframes:function(){var e=document.getElementsByTagName("iframe");Ext.each(e,function(e){Ext.fly(e.parentNode).mask().setStyle("background-color","transparent")})},normalize:function(e){return R[e]||(R[e]=e.replace(k,A))},_onWindowFocusChange:function(t){Ext.fly(t.target).is(e.editableSelector)&&(j=new Date,$="focusin"===t.type||"pointerup"===t.type)},_onWindowResize:function(){var t,n,i=h.clientWidth,r=h.clientHeight,o=new Date;t=i-e._documentWidth,n=r-e._documentHeight,e._windowWidth=i,e._windowHeight=r,(o-j<1e3||o-K<1e3)&&0===t&&$&&n<=-e.minKeyboardHeight?Q=!0:(Q&&0===t&&n>=e.minKeyboardHeight&&(Q=!1,K=new Date),Q||(e._viewportWidth=i,e._viewportHeight=r))},parseBox:function(e){var t,n,i=typeof(e=e||0);return"number"===i?{top:e,right:e,bottom:e,left:e}:"string"!==i?e:(1===(n=(t=e.split(" ")).length)?t[1]=t[2]=t[3]=t[0]:2===n?(t[2]=t[0],t[3]=t[1]):3===n&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0})},parseStyles:function(e){var t,n={};if(e)for(I.lastIndex=0;t=I.exec(e);)n[t[1]]=t[2]||"";return n},select:function(e,t,n){return Ext.fly(n||u).select(e,t)},query:function(e,t,n){return Ext.fly(n||u).query(e,t)},unitizeBox:function(e,t){var n=this;return e=n.parseBox(e),n.addUnits(e.top,t)+" "+n.addUnits(e.right,t)+" "+n.addUnits(e.bottom,t)+" "+n.addUnits(e.left,t)},unmaskIframes:function(){var e=document.getElementsByTagName("iframe");Ext.each(e,function(e){Ext.fly(e.parentNode).unmask()})},serializeForm:function(e){var t,n,i,r,o,a,s,l,d,c=e.elements||(u.forms[e]||Ext.getDom(e)).elements,h=!1,f=encodeURIComponent,g="",p=c.length;for(a=0;a<p;a++)if(n=(t=c[a]).name,i=t.type,r=t.options,!t.disabled&&n)if(/select-(one|multiple)/i.test(i))for(l=r.length,s=0;s<l;s++)(d=r[s]).selected&&(o=d.hasAttribute("value"),g+=Ext.String.format("{0}={1}&",f(n),f(o?d.value:d.text)));else/file|undefined|reset|button/i.test(i)||/radio|checkbox/i.test(i)&&!t.checked||"submit"==i&&h||(g+=f(n)+"="+f(t.value)+"&",h=/submit/i.test(i));return g.substr(0,g.length-1)},getCommonAncestor:function(e,t,n){for((a=a||new Ext.dom.Fly).attach(Ext.getDom(e));!a.isAncestor(t);){if(!a.dom.parentNode){a.attach(u.body);break}a.attach(a.dom.parentNode)}return n?a.dom:Ext.get(a)}},addCls:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=c.getData();if(!e)return c;for(u.isSynchronized||c.synchronize(),r=c.dom,o=u.classMap,a=u.classList,t=t?t+"-":"",n=n?"-"+n:"","string"==typeof e&&(e=e.split(p)),s=0,l=e.length;s<l;s++)(d=e[s])&&(o[d=t+d+n]||(o[d]=!0,a.push(d),i=!0));return i&&(r.className=a.join(" ")),c},addClsOnClick:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.on("mousedown",function(){if(o&&!1===t.call(n||i,i))return!1;Ext.fly(r).addCls(e);var a=Ext.getDoc(),s=function(){Ext.fly(r).removeCls(e),a.removeListener("mouseup",s)};a.on("mouseup",s)}),i},addClsOnFocus:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.on("focus",function(){if(o&&!1===t.call(n||i,i))return!1;Ext.fly(r).addCls(e)}),i.on("blur",function(){Ext.fly(r).removeCls(e)}),i},addClsOnOver:function(e,t,n){var i=this,r=i.dom,o=Ext.isFunction(t);return i.hover(function(){o&&!1===t.call(n||i,i)||Ext.fly(r).addCls(e)},function(){Ext.fly(r).removeCls(e)}),i},addStyles:function(e,t){var n,i,r=0,o=(e||"").match(g),a=o.length,s=[];if(1===a)r=Math.abs(parseFloat(this.getStyle(t[o[0]]))||0);else if(a){for(n=0;n<a;n++)i=o[n],s.push(t[i]);for(s=this.getStyle(s),n=0;n<a;n++)i=o[n],r+=parseFloat(s[t[i]])||0}return r},addUnits:function(t,n){return e.addUnits(t,n)},adjustDirect2DDimension:function(e){var t,n=this.dom,i=this.getStyle("display"),r=n.style.display,o=n.style.position,a="width"===e?0:1,s=n.currentStyle;return"inline"===i&&(n.style.display="inline-block"),n.style.position=i.match(E)?"absolute":"static",t=(parseFloat(s[e])||2*parseFloat(s.msTransformOrigin.split(" ")[a]))%1,n.style.position=o,"inline"===i&&(n.style.display=r),t},animate:function(e){return(e=new Ext.fx.Animation(e)).setElement(this),this._activeAnimation=e,e.on({animationend:this._onAnimationEnd,scope:this}),Ext.Animator.run(e),e},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(e,t){var n,i,r;if(e.nodeType||e.dom||"string"==typeof e)return e=Ext.getDom(e),this.dom.appendChild(e),t?e:Ext.get(e);if(e.length){for(n=Ext.fly(u.createDocumentFragment()),i=e.length,r=0;r<i;r++)n.appendChild(e[r],t);return e=Ext.Array.toArray(n.dom.childNodes),this.dom.appendChild(n.dom),t?e:new Ext.dom.CompositeElementLite(e)}return this.createChild(e,null,t)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},applyStyles:function(t){return t&&("function"==typeof t&&(t=t.call()),"string"==typeof t&&(t=e.parseStyles(t)),"object"==typeof t&&this.setStyle(t)),this},blur:function(){var e=this.dom;if(e!==u.body){try{e.blur()}catch(e){}return this}return this.focus(void 0,e)},cacheScrollValues:function(){var e,t,n,i,r=[],a=[];for(o=o||new Ext.dom.Fly,n=0,i=(e=this.query("*")).length;n<i;n++)((t=e[n]).scrollTop>0||0!==t.scrollLeft)&&(a.push(t),r.push(o.attach(t).getScroll()));return function(){var e,t,n;for(t=0,n=a.length;t<n;t++)e=r[t],o.attach(a[t]),o.setScrollLeft(e.left),o.setScrollTop(e.top)}},center:function(e){return this.alignTo(e||u,"c-c")},child:function(e,t){var n=Ext.get(this).id;return this.selectNode(Ext.makeIdSelector(n)+" > "+e,!!t)},clone:function(e,t){var n=this.dom.cloneNode(e);return Ext.supports.CloneNodeCopiesExpando&&D(n,e),t?n:Ext.get(n)},constrainScrollLeft:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollWidth-t.clientWidth),0)},constrainScrollTop:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollHeight-t.clientHeight),0)},createChild:function(e,t,n){return e=e||{tag:"div"},t?Ext.DomHelper.insertBefore(t,e,!0!==n):Ext.DomHelper.append(this.dom,e,!0!==n)},contains:function(e){if(!e)return!1;var t=Ext.getDom(e);return t===this.dom||this.isAncestor(t)},destroy:function(){var e=this.dom;this.destroyed?Ext.Logger.warn('Cannot destroy Element "'+this.id+'". Already destroyed.'):(e&&(e===u.body?Ext.raise("Cannot destroy body element."):e===u?Ext.raise("Cannot destroy document object."):e===c&&Ext.raise("Cannot destroy window object")),e&&e.parentNode&&e.parentNode.removeChild(e),this.collect())},detach:function(){var e=this.dom;return e&&e.parentNode&&"BODY"!==e.tagName&&e.parentNode.removeChild(e),this},disableShadow:function(){var e=this.shadow;e&&(e.hide(),e.disabled=!0)},disableShim:function(){var e=this.shim;e&&(e.hide(),e.disabled=!0)},doReplaceWith:function(e){var t=this.dom;t.parentNode.replaceChild(Ext.getDom(e),t)},doScrollIntoView:function(e,t,n,i,r,a){o=o||new Ext.dom.Fly;var s=this.dom,l=o.attach(e)[r](),d=e.scrollTop,c=this.getScrollIntoViewXY(e,l,d),u=c.x,h=c.y;return i&&(n?n=Ext.apply({listeners:{afteranimate:function(){o.attach(s).highlight()}}},n):o.attach(s).highlight()),h!==d&&o.attach(e).scrollTo("top",h,n),!1!==t&&u!==l&&o.attach(e)[a]("left",u,n),this},down:function(e,t){return this.selectNode(e,!!t)},enableShadow:function(e,t){var n=this,i=n.shadow||(n.shadow=new Ext.dom.Shadow(Ext.apply({target:n},e))),r=n.shim;r&&(r.offsets=i.outerOffsets,r.shadow=i,i.shim=r),!0===t||!1!==t&&n.isVisible()?i.show():i.hide(),i.disabled=!1},enableShim:function(e,t){var n=this,i=n.shim||(n.shim=new Ext.dom.Shim(Ext.apply({target:n},e))),r=n.shadow;return r&&(i.offsets=r.outerOffsets,i.shadow=r,r.shim=i),!0===t||!1!==t&&n.isVisible()?i.show():i.hide(),i.disabled=!1,i},findParent:function(e,t,n){var i=this.dom,r=h,o=0;for(t||0===t?"number"!=typeof t&&(r=Ext.getDom(t),t=Number.MAX_VALUE):t=50;i&&1===i.nodeType&&o<t&&i!==r;){if(Ext.fly(i).is(e))return n?Ext.get(i):i;o++,i=i.parentNode}return null},findParentNode:function(e,t,n){var i=Ext.fly(this.dom.parentNode);return i?i.findParent(e,t,n):null},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},focus:function(e,t){return t=t||this.dom,Number(e)?Ext.defer(this.focus,e,this,[null,t]):(Ext.GlobalEvents.fireEvent("beforefocus",t),t.focus()),this},collect:function(){var e=this,t=e.dom,n=e.shadow,i=e.shim;e.isFly||(e.mixins.observable.destroy.call(e),delete Ext.cache[e.id],e.el=null),t&&(t._extData=e.dom=null),n&&(n.hide(),e.shadow=null),i&&(i.hide(),e.shim=null)},getAnchorToXY:function(e,t,n,i){return e.getAnchorXY(t,n,i)},getAttribute:function(e,t){var n=this.dom;return t?n.getAttributeNS(t,e)||n.getAttribute(t+":"+e):n.getAttribute(e)||n[e]||null},getAttributes:function(){var e,t,n,i=this.dom.attributes,r={};for(t=0,n=i.length;t<n;t++)r[(e=i[t]).name]=e.value;return r},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getById:function(e,t){var n=u.getElementById(e)||this.dom.querySelector(Ext.makeIdSelector(e));return t?n:n?Ext.get(n):null},getBorderPadding:function(){var e=this.getStyle(S),t=this.getStyle(w);return{beforeX:(parseFloat(t[y.l])||0)+(parseFloat(e[b.l])||0),afterX:(parseFloat(t[y.r])||0)+(parseFloat(e[b.r])||0),beforeY:(parseFloat(t[y.t])||0)+(parseFloat(e[b.t])||0),afterY:(parseFloat(t[y.b])||0)+(parseFloat(e[b.b])||0)}},getBorders:function(){var e=this.getStyle(w);return{beforeX:parseFloat(e[y.l])||0,afterX:parseFloat(e[y.r])||0,beforeY:parseFloat(e[y.t])||0,afterY:parseFloat(e[y.b])||0}},getBorderWidth:function(e){return this.addStyles(e,y)},getData:function(e){var t,n=this.dom;return n&&((t=n._extData)||e||(n._extData=t={})),t},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(t,n){var i,r,o=this,a=o.dom;return o.isStyle("display","none")?0:("BODY"===a.nodeName?i=e.getViewportHeight():null==(i=a.offsetHeight)&&(i=a.getBoundingClientRect().height),Ext.supports.Direct2DBug&&(r=o.adjustDirect2DDimension("height"),n?i+=r:r>0&&r<.5&&i++),t&&(i-=o.getBorderWidth("tb")+o.getPadding("tb")),i<0?0:i)},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var e,t=this.getStyle("left");return t&&"auto"!==t?M.test(t)?t=parseFloat(t):(t=this.getX(),(e=this.dom.offsetParent)&&(t-=Ext.fly(e).getX())):t=0,t},getLocalXY:function(){var e,t=this,n=t.getStyle(["left","top"]),i=n.left,r=n.top;return i&&"auto"!==i?M.test(i)?i=parseFloat(i):(i=t.getX(),(e=t.dom.offsetParent)&&(i-=Ext.fly(e).getX())):i=0,r&&"auto"!==r?M.test(r)?r=parseFloat(r):(r=t.getY(),(e=t.dom.offsetParent)&&(r-=Ext.fly(e).getY())):r=0,[i,r]},getLocalY:function(){var e,t=this.getStyle("top");return t&&"auto"!==t?M.test(t)?t=parseFloat(t):(t=this.getY(),(e=this.dom.offsetParent)&&(t-=Ext.fly(e).getY())):t=0,t},getMargin:(l={t:"top",l:"left",r:"right",b:"bottom"},d=["margin-top","margin-left","margin-right","margin-bottom"],function(e){var t,n,i;if(e)i=this.addStyles(e,C);else if(i={},(t=this.getStyle(d))&&"object"==typeof t)for(n in i={},C)i[n]=i[l[n]]=parseFloat(t[C[n]])||0;return i}),getPadding:function(e){return this.addStyles(e,b)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var e,t,n=this.dom,i=h,r=u.body;return n===u||n===r?(e=i.scrollLeft||(r?r.scrollLeft:0),t=i.scrollTop||(r?r.scrollTop:0)):(e=n.scrollLeft,t=n.scrollTop),{left:e,top:t}},getScrollIntoViewXY:function(e,t,n){var i=this.dom,r=Ext.getDom(e),o=this.getOffsetsTo(r),a=i.offsetWidth,s=i.offsetHeight,l=o[0]+t,d=o[1]+n,c=d+s,u=l+a,h=r.clientHeight,f=r.clientWidth,g=t,p=n;return s>h||d<p?n=d:c>p+h&&(n=c-h),a>f||l<g?t=l:u>g+f&&(t=u-f),{x:t,y:n}},getScrollLeft:function(){var e=this.dom;return e===u||e===u.body?this.getScroll().left:e.scrollLeft},getScrollTop:function(){var e=this.dom;return e===u||e===u.body?this.getScroll().top:e.scrollTop},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},getStyle:function(t,n){var i,r,o,a,s,l,d=this.dom,c="string"!=typeof t,u=this.styleHooks,h=t,f=h,g=1;if(c&&(r={},h=f[0],l=0,!(g=f.length)))return r;if(!d||d.documentElement)return r||"";i=d.style,n?s=i:(s=d.ownerDocument.defaultView.getComputedStyle(d,null))||(n=!0,s=i);do{if((o=u[h])||(u[h]=o={name:e.normalize(h)}),a=o.get?o.get(d,this,n,s):s[o.name],!c)return a;r[h]=a,h=f[++l]}while(l<g);return r},getStyleValue:function(e){return this.dom.style.getPropertyValue(e)},getTop:function(e){return e?this.getLocalY():this.getY()},getTouchAction:function(){return Ext.dom.TouchAction.get(this.dom)},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},getViewSize:function(){var t=this.dom;return t===u||t===u.body?{width:e.getViewportWidth(),height:e.getViewportHeight()}:{width:t.clientWidth,height:t.clientHeight}},getVisibilityMode:function(){var t=this.getData(),n=t.visibilityMode;return void 0===n&&(t.visibilityMode=n=e.DISPLAY),n},getWidth:function(e,t){var n,i,r,o=this,a=o.dom;return o.isStyle("display","none")?0:(Ext.supports.BoundingClientRect?(n=a.getBoundingClientRect(),i=o.vertical&&!Ext.supports.RotatedBoundingClientRect?n.bottom-n.top:n.right-n.left,i=t?i:Math.ceil(i)):i=a.offsetWidth,Ext.supports.Direct2DBug&&!o.vertical&&(r=o.adjustDirect2DDimension("width"),t?i+=r:r>0&&r<.5&&i++),e&&(i-=o.getBorderWidth("lr")+o.getPadding("lr")),i<0?0:i)},getX:function(){return this.getXY()[0]},getXY:function(){var e,t,n=Math.round,i=this.dom,r=u.body,o=0,a=0;if(i!==u&&i!==r)try{e=r.getBoundingClientRect(),o=(t=i.getBoundingClientRect()).left-e.left,a=t.top-e.top}catch(e){}return[n(o),n(a)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(e){var t=this.getData();return t.isSynchronized||this.synchronize(),t.classMap.hasOwnProperty(e)},hide:function(){return this.setVisible(!1),this},insertAfter:function(e){return(e=Ext.getDom(e)).parentNode.insertBefore(this.dom,e.nextSibling),this},insertBefore:function(e){return(e=Ext.getDom(e)).parentNode.insertBefore(this.dom,e),this},insertFirst:function(e,t){return(e=e||{}).nodeType||e.dom||"string"==typeof e?(e=Ext.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:Ext.get(e)):this.createChild(e,this.dom.firstChild,t)},insertHtml:function(e,t,n){var i=Ext.DomHelper.insertHtml(e,this.dom,t);return n?Ext.get(i):i},insertSibling:function(e,t,n){var i,r,o,a,s=this,l=Ext.DomHelper,d="after"===(t||"before").toLowerCase();if(Ext.isIterable(e)){if(o=e.length,r=Ext.fly(u.createDocumentFragment()),Ext.isArray(e))for(a=0;a<o;a++)i=r.appendChild(e[a],n);else{for(a=0;a<o;a++)r.dom.appendChild(i=e[0]);!1===n&&(i=Ext.get(i))}return s.dom.parentNode.insertBefore(r.dom,d?s.dom.nextSibling:s.dom),i}return(e=e||{}).nodeType||e.dom?(i=s.dom.parentNode.insertBefore(Ext.getDom(e),d?s.dom.nextSibling:s.dom),n||(i=Ext.get(i))):i=d&&!s.dom.nextSibling?l.append(s.dom.parentNode,e,!n):l[d?"insertAfter":"insertBefore"](s.dom,e,!n),i},is:function(e){var t=this.dom;return!e||!!t.tagName&&(Ext.isFunction(e)?e(t):t[Ext.supports.matchesSelector](e))},isAncestor:function(e){var t=!1,n=this.dom,i=Ext.getDom(e);if(n&&i){if(n.contains)return n.contains(i);if(n.compareDocumentPosition)return!!(16&n.compareDocumentPosition(i));for(;i=i.parentNode;)t=i===n||t}return t},isPainted:Ext.browser.is.IE?function(){var e=this.dom;return Boolean(e&&0!==e.offsetHeight&&0!==e.offsetWidth)}:function(){var e=this.dom;return Boolean(e&&e.offsetParent)},isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},isStyle:function(e,t){return this.getStyle(e)===t},isVisible:function(e){var t,n=this.dom;if(!n)return!1;for(r||(r=new Ext.dom.Fly),t=n.ownerDocument.documentElement;n!==t;n=n.parentNode){if(!n||11===n.nodeType||r.attach(n).isStyle("visibility","hidden")||r.isStyle("display","none"))return!1;if(!e)break}return!0},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,n,i){var r,o=this.dom;if(!o)return null;for(r=o[t];r;){if(1===r.nodeType&&(!n||Ext.fly(r,"_matchNode").is(n)))return i?r:Ext.get(r);r=r[e]}return null},monitorMouseLeave:function(e,t,n){var i,r=this,o={mouseleave:function(o){Ext.isIE9m&&o.enableIEAsync(),i=Ext.defer(t,e,n||r,[o])},mouseenter:function(){clearTimeout(i)},destroy:function(){clearTimeout(i),r.un(o)}};return r.on(o),o},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},position:function(e,t,n,i){var r=this;"BODY"!==r.dom.tagName&&(!e&&r.isStyle("position","static")?r.setStyle("position","relative"):e&&r.setStyle("position",e),t&&r.setStyle("z-index",t),(n||i)&&r.setXY([n||!1,i||!1]))},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},query:function(e,t,n){var i,r,o,a,s,l,d,c=this.dom;if(!c)return null;for(t=!1!==t,e=e.split(","),n||(i=[]),l=0,r=e.length;l<r;l++)if("string"==typeof e[l]){if(n)return a=c.querySelector(e[l]),t?a:Ext.get(a);for(d=0,o=(s=c.querySelectorAll(e[l])).length;d<o;d++)i.push(t?s[d]:Ext.get(s[d]))}return i},radioCls:function(e){var t,n=this.dom.parentNode.childNodes;e=Ext.isArray(e)?e:[e];for(var i=0,r=n.length;i<r;i++)(t=n[i])&&1===t.nodeType&&Ext.fly(t).removeCls(e);return this.addCls(e)},redraw:function(){var e=this.dom,t=e.style;t.display="none",e.offsetHeight,t.display=""},remove:function(){this.destroy()},removeChild:function(e){return this.dom.removeChild(Ext.getDom(e)),this},removeCls:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=c.getData();if(!e)return c;for(u.isSynchronized||c.synchronize(),r=c.dom,o=u.classMap,a=u.classList,t=t?t+"-":"",n=n?"-"+n:"","string"==typeof e&&(e=e.split(p)),s=0,l=e.length;s<l;s++)(d=e[s])&&o[d=t+d+n]&&(delete o[d],Ext.Array.remove(a,d),i=!0);return i&&(r.className=a.join(" ")),c},repaint:function(){var e=this;return e.addCls(Ext.baseCSSPrefix+"repaint"),Ext.defer(function(){e.dom&&Ext.fly(e.dom).removeCls(Ext.baseCSSPrefix+"repaint")},1),e},replace:function(e,t){var n=(e=Ext.getDom(e)).parentNode,i=e.id,r=this.dom;return n||Ext.raise('Cannot replace element "'+i+'". It is not attached to a parent node.'),!1!==t&&i&&Ext.cache[i]?(n.insertBefore(r,e),Ext.get(e).destroy()):n.replaceChild(r,e),this},replaceCls:function(e,t,n,i){var r,o,a,s,l,d,c,u=this,h=u.getData();if(!e&&!t)return u;for(e=e||[],t=t||[],h.isSynchronized||u.synchronize(),i||(i=""),r=u.dom,o=h.classMap,a=h.classList,n=n?n+"-":"",i=i?"-"+i:"","string"==typeof e&&(e=e.split(p)),"string"==typeof t&&(t=t.split(p)),s=0,l=e.length;s<l;s++)o[d=n+e[s]+i]&&(delete o[d],c=!0);for(s=0,l=t.length;s<l;s++)o[d=n+t[s]+i]||(o[d]=!0,c=!0);return c&&(h.classList=a=Ext.Object.getKeys(o),r.className=a.join(" ")),u},replaceWith:function(e){var t,n=this,i=n.dom,r=i.parentNode,o=Ext.cache;return n.clearListeners(),e.nodeType||e.dom||"string"==typeof e?(e=Ext.get(e),t=r.insertBefore(e.dom,i)):t=Ext.DomHelper.insertBefore(i,e),r.removeChild(i),n.dom=t,n.isFly||(delete o[n.id],o[n.id=Ext.id(t)]=n),n},resolveListenerScope:function(e){var t=this.component;return t?t.resolveListenerScope(e):this},scroll:function(e,t,n){if(!this.isScrollable())return!1;e=e.charAt(0);var i,r,o=this.dom,a="r"===e||"l"===e?"left":"top",s=!1;return"l"!==e&&"t"!==e&&"u"!==e||(t=-t),"left"===a?(i=o.scrollLeft,r=this.constrainScrollLeft(i+t)):(i=o.scrollTop,r=this.constrainScrollTop(i+t)),r!==i&&(this.scrollTo(a,r,n),s=!0),s},scrollBy:function(e,t,n){var i=this,r=i.dom;return e.length?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x),e&&i.scrollTo("left",i.constrainScrollLeft(r.scrollLeft+e),n),t&&i.scrollTo("top",i.constrainScrollTop(r.scrollTop+t),n),i},scrollChildIntoView:function(e,t){Ext.fly(e).scrollIntoView(this,t)},scrollIntoView:function(e,t,n,i){return e=Ext.getDom(e)||Ext.getBody().dom,this.doScrollIntoView(e,t,n,i,"getScrollLeft","scrollTo")},scrollTo:function(e,t,n){var i,r=v.test(e)?"scrollTop":"scrollLeft",o=this.dom;return n&&this.anim?((i={to:{}}).to[r]=t,Ext.isObject(n)&&Ext.applyIf(i,n),this.animate(i)):(o[r]=t,o[r]=t),this},select:function(e,t){var n,i;return"string"==typeof e?i=this.query(e,!t):void 0===e.length?Ext.raise("Invalid selector specified: "+e):(i=e,n=!0),t?new Ext.CompositeElement(i,!n):new Ext.CompositeElementLite(i,!0)},selectNode:function(e,t){return this.query(e,t,!0)},set:function(e,t){var n,i,r=this.dom;for(n in e)e.hasOwnProperty(n)&&(i=e[n],"style"===n?this.applyStyles(i):"cls"===n?r.className=i:!1!==t?void 0===i?r.removeAttribute(n):r.setAttribute(n,i):r[n]=i);return this},setBottom:function(t){return this.dom.style.bottom=e.addUnits(t),this},setCls:function(e){var t,n,i,r,o=this.getData();for(o.isSynchronized||this.synchronize(),"string"==typeof e&&(e=e.split(p)),o.classList=r=e.slice(),o.classMap=i={},t=0,n=r.length;t<n;t++)i[r[t]]=!0;this.dom.className=r.join(" ")},setDisplayed:function(e){var t=this;return"boolean"==typeof e&&(e=e?t._getDisplay():"none"),t.setStyle("display",e),(t.shadow||t.shim)&&t.setUnderlaysVisible("none"!==e),t},setHeight:function(t){var n=this;return n.dom.style.height=e.addUnits(t),(n.shadow||n.shim)&&n.syncUnderlays(),n},setHtml:function(e){return this.dom&&(this.dom.innerHTML=e),this},setId:function(e){var t=this,n=t.id,i=Ext.cache;return n&&delete i[n],t.dom.id=e,t.id=e,i[e]=t,t},setLeft:function(t){var n=this;return n.dom.style.left=e.addUnits(t),(n.shadow||n.shim)&&n.syncUnderlays(),n},setLocalX:function(e){var t=this,n=t.dom.style;return n.right="auto",n.left=null===e?"auto":e+"px",(t.shadow||t.shim)&&t.syncUnderlays(),t},setLocalXY:function(e,t){var n=this,i=n.dom.style;return i.right="auto",e&&e.length&&(t=e[1],e=e[0]),null===e?i.left="auto":void 0!==e&&(i.left=e+"px"),null===t?i.top="auto":void 0!==t&&(i.top=t+"px"),(n.shadow||n.shim)&&n.syncUnderlays(),n},setLocalY:function(e){var t=this;return t.dom.style.top=null===e?"auto":e+"px",(t.shadow||t.shim)&&t.syncUnderlays(),t},setMargin:function(e){var t=this.dom.style;e||0===e?(e=this.self.unitizeBox(!0===e?5:e),t.setProperty("margin",e,"important")):(t.removeProperty("margin-top"),t.removeProperty("margin-right"),t.removeProperty("margin-bottom"),t.removeProperty("margin-left"))},setMaxHeight:function(t){return this.dom.style["max-height"]=e.addUnits(t),this},setMaxWidth:function(t){return this.dom.style["max-width"]=e.addUnits(t),this},setMinHeight:function(t){return this.dom.style["min-height"]=e.addUnits(t),this},setMinWidth:function(t){return this.dom.style["min-width"]=e.addUnits(t),this},setOpacity:function(e){return this.dom&&this.setStyle("opacity",e),this},setPadding:function(e){var t=this.dom.style;e||0===e?(e=this.self.unitizeBox(!0===e?5:e),t.setProperty("padding",e,"important")):(t.removeProperty("padding-top"),t.removeProperty("padding-right"),t.removeProperty("padding-bottom"),t.removeProperty("padding-left"))},setRight:function(t){return this.dom.style.right=e.addUnits(t),this},setScrollLeft:function(e){return this.dom.scrollLeft=e,this},setScrollTop:function(e){return this.dom.scrollTop=e,this},setSize:function(t,n){var i=this,r=i.dom.style;return Ext.isObject(t)&&(n=t.height,t=t.width),r.width=e.addUnits(t),r.height=e.addUnits(n),(i.shadow||i.shim)&&i.syncUnderlays(),i},setSizeState:function(e){var t,n;return!0===e?(t=N,n=[H,V]):!1===e?(t=H,n=[N,V]):null===e?(t=V,n=[N,H]):n=[N,H,V],t&&this.addCls(t),this.removeCls(n),this},setStyle:function(t,n){var i,r=this,o=r.dom,a=r.styleHooks,s=o.style,l=t;if("string"==typeof l)(i=a[l])||(a[l]=i={name:e.normalize(l)}),n=null==n?"":n,i.set?i.set(o,n,r):s[i.name]=n,i.afterSet&&i.afterSet(o,n,r);else for(l in t)t.hasOwnProperty(l)&&((i=a[l])||(a[l]=i={name:e.normalize(l)}),n=null==(n=t[l])?"":n,i.set?i.set(o,n,r):s[i.name]=n,i.afterSet&&i.afterSet(o,n,r));return r},setText:function(e){this.dom.textContent=e},setTop:function(t){var n=this;return n.dom.style[f]=e.addUnits(t),(n.shadow||n.shim)&&n.syncUnderlays(),n},setTouchAction:function(e){Ext.dom.TouchAction.set(this.dom,e)},setUnderlaysVisible:function(e){var t=this.shadow,n=this.shim;t&&!t.disabled&&(e?t.show():t.hide()),n&&!n.disabled&&(e?n.show():n.hide())},setVisibility:function(e){var t=this.dom.style;e?t.removeProperty("visibility"):t.setProperty("visibility","hidden","important")},setVisibilityMode:function(e){return 1!==e&&2!==e&&3!==e&&4!==e&&Ext.raise("visibilityMode must be one of the following: Ext.Element.DISPLAY, Ext.Element.VISIBILITY, Ext.Element.OFFSETS, or Ext.Element.CLIP"),this.getData().visibilityMode=e,this},setVisible:function(t){var n=this,i=n.getVisibilityMode(),r=t?"removeCls":"addCls";switch(i){case e.DISPLAY:n.removeCls([F,O,B]),n[r](L);break;case e.VISIBILITY:n.removeCls([L,O,B]),n[r](F);break;case e.OFFSETS:n.removeCls([F,L,B]),n[r](O);break;case e.CLIP:n.removeCls([F,L,O]),n[r](B)}return(n.shadow||n.shim)&&n.setUnderlaysVisible(t),n},setWidth:function(t){var n=this;return n.dom.style.width=e.addUnits(t),(n.shadow||n.shim)&&n.syncUnderlays(),n},setX:function(e){return this.setXY([e,!1])},setXY:function(e){var t,n=this,i=n.translatePoints(e),r=n.dom.style;for(t in n.position(),r.right="auto",i)isNaN(i[t])||(r[t]=i[t]+"px");return(n.shadow||n.shim)&&n.syncUnderlays(),n},setY:function(e){return this.setXY([!1,e])},setZIndex:function(e){var t=this;return t.shadow&&t.shadow.setZIndex(e),t.shim&&t.shim.setZIndex(e),t.setStyle("z-index",e)},show:function(){return this.setVisible(!0),this},swapCls:function(e,t,n,i){void 0===n&&(n=!0);var r=n?e:t,o=n?t:e;return o&&this.removeCls(i?i+"-"+o:o),r&&this.addCls(i?i+"-"+r:r),this},synchronize:function(){var e,t,n,i=this.dom,r={},o=i.className,a=this.getData();if(o&&o.length>0)for(t=0,n=(e=i.className.split(m)).length;t<n;t++)r[e[t]]=!0;else e=[];return a.classList=e,a.classMap=r,a.isSynchronized=!0,this},syncUnderlays:function(){var e,t,n,i,r,o=this,a=o.shadow,s=o.shim,l=o.dom;o.isVisible()&&(t=(e=o.getXY())[0],n=e[1],i=l.offsetWidth,r=l.offsetHeight,a&&!a.hidden&&a.realign(t,n,i,r),s&&!s.hidden&&s.realign(t,n,i,r))},toggleCls:function(e,t){return"boolean"!=typeof t&&(t=!this.hasCls(e)),t?this.addCls(e):this.removeCls(e)},toggle:function(){return this.setVisible(!this.isVisible()),this},translate:(s="webkitTransform"in u.createElement("div").style?"webkitTransform":"transform",function(e,t,n){e=Math.round(e),t=Math.round(t),n=Math.round(n),this.dom.style[s]="translate3d("+(e||0)+"px, "+(t||0)+"px, "+(n||0)+"px)"}),unwrap:function(){var e,t,n,i,r,o=this.dom,a=o.parentNode,s=Ext.fly(Ext.Element.getActiveElement());return(t=Ext.cache[s.id])&&(s=t),this.contains(s)&&(t&&t.suspendFocusEvents(),n=!0),a?(e=a.parentNode,n&&(r=e.getAttribute("tabIndex"),(i=Ext.fly(e)).set({tabIndex:-1}),i.suspendFocusEvents(),i.focus()),e.insertBefore(o,a),e.removeChild(a)):(e=u.createDocumentFragment()).appendChild(o),n&&(t?(t.focus(),t.resumeFocusEvents()):Ext.fly(s).focus(),i&&(i.resumeFocusEvents(),i.set({tabIndex:r}))),this},up:function(e,t,n){return this.findParentNode(e,t,!n)},update:function(e){return this.setHtml(e)},wrap:function(e,t,n){var i,r,o,a=this.dom,s=Ext.DomHelper.insertBefore(a,e||{tag:"div"},!t),l=s,d=Ext.Element.getActiveElement();return(i=Ext.cache[d.id])&&(d=i),n&&(l=s.selectNode(n,t)),this.contains(d)&&(i&&i.suspendFocusEvents(),o=s.dom.getAttribute("tabIndex"),s.set({tabIndex:-1}),s.suspendFocusEvents(),s.focus(),r=!0),l.appendChild(a),r&&(i?(i.focus(),i.resumeFocusEvents()):Ext.fly(d).focus(),s.resumeFocusEvents(),s.set({tabIndex:o})),s},privates:{doAddListener:function(t,n,i,r,o,a,s){var l,d,c,u=this,h=(Ext.$gesturePublisher,t),f=Ext.supports;f.TouchEvents,f.PointerEvents;t=Ext.canonicalEventName(t),u.blockedEvents[t]||(l=u.mixins.observable.doAddListener,r=r||{},!1===e.useDelegatedEvents&&(r.delegated=r.delegated||!1),!1!==r.translate&&((d=u.additiveEvents[t])&&(r.type=t,t=d,l.call(u,t,n,i,r,o,a,s)),(c=u.eventMap[t])&&(r.type=r.type||t,s&&(r.managedName=h),t=c)),l.call(u,t,n,i,r,o,a,s)&&u.longpressEvents[t]&&1==++u.longpressListenerCount&&u.on("MSHoldVisual","preventMsHoldVisual",u),s&&c&&delete r.managedName,delete r.type)},doRemoveListener:function(e,t,n){var i,r,o,a,s=this,l=(Ext.$gesturePublisher,Ext.supports);l.TouchEvents,l.PointerEvents;e=Ext.canonicalEventName(e),s.blockedEvents[e]||(i=s.mixins.observable.doRemoveListener,(o=s.additiveEvents[e])&&(e=o,i.call(s,e,t,n)),(r=s.eventMap[e])&&(a=i.call(s,r,t,n)),(a=i.call(s,e,t,n)||a)&&s.longpressEvents[e]&&!--s.longpressListenerCount&&s.un("MSHoldVisual","preventMsHoldVisual",s))},_initEvent:function(e){return this.events[e]=new Ext.dom.ElementEvent(this,e)},_getDisplay:function(){var e=this.getData(),t=e.originalDisplay;return void 0===t&&(e.originalDisplay=t=""),t},_getPublisher:function(e){var t=Ext.event.publisher.Publisher,n=t.publishersByEvent[e];return(!n||this.dom===window&&"resize"===e)&&(n=t.publishers.dom),n},isFocusSuspended:function(){return!!this.getData().suspendFocusEvents},preventMsHoldVisual:function(e){e.preventDefault()},suspendFocusEvents:function(){this.isFly||this.suspendEvent("focus","blur"),this.getData().suspendFocusEvents=!0},resumeFocusEvents:function(){function e(){var e;this.destroyed||((e=this.getData())&&(e.suspendFocusEvents=!1),this.isFly||this.resumeEvent("focus","blur"))}!this.destroyed&&this.getData().suspendFocusEvents&&(Ext.isIE?Ext.asap(e,this):e.call(this))}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(t){var n=this.dom,i="BODY"===n.nodeName,r=i?e.getViewportWidth():n.offsetWidth,o=i?e.getViewportHeight():n.offsetHeight,a=this.getXY(),s=a[1],l=a[0]+r,d=a[1]+o,c=a[0];return t?new Ext.util.Region(s,l,d,c):{left:c,top:s,width:r,height:o,right:l,bottom:d}},getScrollParent:null,isDescendent:null,isTransparent:function(e){var t=this.getStyle(e);return!!t&&x.test(t)},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},function(e){var t,n=document,i=n.documentElement,r=e.prototype,o=Ext.supports,a="mouseup",s=r.eventMap={},l=r.additiveEvents={},d=Ext.id;Ext.id=function(t,n){var i,r=Ext.getDom(t,!0);return r?(i=r.id)||(i=d(null,n||e.prototype.identifiablePrefix),Ext.isSandboxed&&(i=(Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-"))+i),r.id=i):i=d(t,n),i},o.PointerEvents?(s.mousedown="pointerdown",s.mousemove="pointermove",s.mouseup="pointerup",s.touchstart="pointerdown",s.touchmove="pointermove",s.touchend="pointerup",s.touchcancel="pointercancel",s.mouseover="pointerover",s.mouseout="pointerout",s.mouseenter="pointerenter",Ext.isIE11||(s.mouseleave="pointerleave")):o.MSPointerEvents?(s.pointerdown="MSPointerDown",s.pointermove="MSPointerMove",s.pointerup="MSPointerUp",s.pointercancel="MSPointerCancel",s.mousedown="MSPointerDown",s.mousemove="MSPointerMove",s.mouseup="MSPointerUp",s.touchstart="MSPointerDown",s.touchmove="MSPointerMove",s.touchend="MSPointerUp",s.touchcancel="MSPointerCancel",s.mouseover="MSPointerOver",s.mouseout="MSPointerOut"):o.TouchEvents?(s.pointerdown="touchstart",s.pointermove="touchmove",s.pointerup="touchend",s.pointercancel="touchcancel",s.mousedown="touchstart",s.mousemove="touchmove",s.mouseup="touchend",s.click="tap",s.dblclick="doubletap",Ext.isWebKit&&Ext.os.is.Desktop&&(s.touchstart="mousedown",s.touchmove="mousemove",s.touchend=a,s.touchcancel=a,l.mousedown="mousedown",l.mousemove="mousemove",l.mouseup=a,l.touchstart="touchstart",l.touchmove="touchmove",l.touchend="touchend",l.touchcancel="touchcancel",l.pointerdown="mousedown",l.pointermove="mousemove",l.pointerup=a,l.pointercancel=a)):(s.pointerdown="mousedown",s.pointermove="mousemove",s.pointerup=a,s.pointercancel=a,s.touchstart="mousedown",s.touchmove="mousemove",s.touchend=a,s.touchcancel=a),Ext.isWebKit&&(s.transitionend=Ext.browser.getVendorProperyName("transitionEnd"),s.animationstart=Ext.browser.getVendorProperyName("animationStart"),s.animationend=Ext.browser.getVendorProperyName("animationEnd")),Ext.supports.MouseWheel||Ext.isOpera||(s.mousewheel="DOMMouseScroll"),(t=r.$eventOptions=Ext.Object.chain(r.$eventOptions)).translate=t.capture=t.delegate=t.delegated=t.stopEvent=t.preventDefault=t.stopPropagation=t.element=1,r.styleHooks.opacity={name:"opacity",afterSet:function(e,t,n){var i=n.shadow;i&&i.setOpacity(t)}},r.getTrueXY=r.getXY,Ext.select=e.select,Ext.query=e.query,Ext.apply(Ext,{get:function(t){return e.get(t)},getDom:function(e){return e&&n?"string"==typeof e?Ext.getElementById(e):"dom"in e?e.dom:e:null},getBody:function(){if(!Ext._bodyEl){if(!n.body)throw new Error("[Ext.getBody] document.body does not yet exist");Ext._bodyEl=Ext.get(n.body)}return Ext._bodyEl},getHead:function(){return Ext._headEl||(Ext._headEl=Ext.get(n.head||n.getElementsByTagName("head")[0])),Ext._headEl},getDoc:function(){return Ext._docEl||(Ext._docEl=Ext.get(n)),Ext._docEl},getWin:function(){return Ext._winEl||(Ext._winEl=Ext.get(window)),Ext._winEl},removeNode:function(e){var t,n=(e=e.dom||e)&&e.id,i=Ext.cache[n];i?i.destroy():!e||3!==e.nodeType&&"BODY"===e.tagName.toUpperCase()||(t=e.parentNode)&&t.removeChild(e)}}),Ext.isGarbage=function(e){return e&&1===e.nodeType&&"BODY"!==e.tagName&&"HTML"!==e.tagName&&(!e.parentNode||null===e.offsetParent&&(Ext.isIE8?n.all[e.id]:n.getElementById(e.id))!==e&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(e)))},(Ext.os.is.Android||Ext.os.is.Windows&&Ext.supports.Touch)&&Ext.onReady(function(){var t=Ext.getWin();e._documentWidth=e._viewportWidth=i.clientWidth,e._documentHeight=e._viewportHeight=i.clientHeight,t.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",capture:!0,delegated:!1,delay:1,scope:e}),t.on({resize:"_onWindowResize",priority:2e3,scope:e})})}),Ext.define("Ext.util.Filter",{isFilter:!0,config:{property:null,value:null,filterFn:null,id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,disableOnEmpty:!1,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(e){return e?function(t){var n,i,r=e.isCollection?e.items:e,o=r.length,a=!0;for(n=0;a&&n<o;n++)(i=r[n]).getDisabled()||(a=i.filter(t));return a}:Ext.returnTrue},isEqual:function(e,t){return e.getProperty()===t.getProperty()&&(e.getOperator()===t.getOperator()&&(e.getValue()===t.getValue()||!!(Ext.isArray(e)&&Ext.isArray(t)&&Ext.Array.equals(e,t))))},isInvalid:function(e){if(!e.filterFn){if(!e.property)return"A Filter requires either a property or a filterFn to be set";if(!e.hasOwnProperty("value")&&!e.operator)return"A Filter requires either a property and value, or a filterFn to be set"}return!1}},constructor:function(e){var t=Ext.util.Filter.isInvalid(e);t&&Ext.log.warn(t),this.initConfig(e)},preventConvert:{in:1,notin:1},filter:function(e){var t=this,n=t._filterFn||t.getFilterFn(),i=t.getConvert(),r=t._value;return t._filterValue=r,t.isDateValue=Ext.isDate(r),t.isDateValue&&(t.dateValue=r.getTime()),i&&!t.preventConvert[t.getOperator()]&&(t._filterValue=i.call(t.scope||t,r)),n.call(t.scope||t,e)},getId:function(){var e=this._id;return e||((e=this.getProperty())||(e=Ext.id(null,"ext-filter-")),this._id=e),e},getFilterFn:function(){var e,t=this,n=t._filterFn;return n||(n=(e=t.getOperator())?t.operatorFns[e]:t.createRegexFilter(),t._filterFn=n,t.generatedFilterFn=!0),n},createRegexFilter:function(){var e=this,t=!!e.getAnyMatch(),n=!!e.getExactMatch(),i=e.getValue(),r=Ext.String.createRegex(i,!t,!t&&n,!e.getCaseSensitive());return function(t){var n=e.getPropertyValue(t);return r?r.test(n):null==n}},getPropertyValue:function(e){var t=this._root;return(null==t?e:e[t])[this._property]},getState:function(){var e,t=this.getInitialConfig(),n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return delete n.root,n.value=this.getValue(),n},getScope:function(){return this.scope},serialize:function(){var e,t=this.getState(),n=this.getSerializer();return delete t.id,delete t.serializer,n&&(e=n.call(this,t))&&(t=e),t},updateOperator:function(){this.generatedFilterFn&&(this._filterFn=null)},updateValue:function(e){this.generatedFilterFn&&(this._filterFn=null),this.getDisableOnEmpty()&&this.setDisabled(Ext.isEmpty(e))},updateFilterFn:function(e){delete this.generatedFilterFn},updateDisableOnEmpty:function(e){e&&this.setDisabled(Ext.isEmpty(this.getValue()))},privates:{getCandidateValue:function(e,t,n){var i=this._convert,r=this.getPropertyValue(e);return i?r=i.call(this.scope||this,r):n||(r=Ext.coerce(r,t)),r}}},function(){var e=this.prototype.operatorFns={"<":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)<t},"<=":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)<=t},"=":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e==t},"===":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t,!0),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e===t},">=":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)>=t},">":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)>t},"!=":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e!=t},"!==":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t,!0),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e!==t},in:function(e){var t=this._filterValue;return Ext.Array.contains(t,this.getCandidateValue(e,t))},notin:function(e){var t=this._filterValue;return!Ext.Array.contains(t,this.getCandidateValue(e,t))},like:function(e){var t=this._filterValue;return t&&this.getCandidateValue(e,t).toLowerCase().indexOf(t.toLowerCase())>-1},"/=":function(e){var t=this,n=t._filterValue;if(e=t.getCandidateValue(e,n),n!==t.lastRegExpSource){t.lastRegExpSource=n;try{t.regex=new RegExp(n,"i")}catch(e){t.regex=null}}return!!t.regex&&t.regex.test(e)}};e["=="]=e["="],e.gt=e[">"],e.ge=e[">="],e.lt=e["<"],e.le=e["<="],e.eq=e["="],e.ne=e["!="]}),Ext.define("Ext.util.Observable",{extend:"Ext.mixin.Observable",$applyConfigs:!0},function(e){var t=Ext.mixin.Observable;e.releaseCapture=t.releaseCapture,e.capture=t.capture,e.captureArgs=t.captureArgs,e.observe=e.observeClass=t.observe}),Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(e,t){var n=this;1===arguments.length&&Ext.isObject(e)?(n.initialConfig=e,Ext.apply(n,e)):(n.allowFunctions=!0===e,t&&(n.getKey=t),n.initialConfig={allowFunctions:n.allowFunctions,getKey:n.getKey}),n.items=[],n.map={},n.keys=[],n.indexMap={},n.length=0,n.mixins.observable.constructor.call(n)},destroy:function(){var e=this;e.items=e.map=e.keys=e.indexMap=null,e.callParent()},allowFunctions:!1,add:function(e,t){var n=this.length;return 1===arguments.length?this.insert(n,e):this.insert(n,e,t)},getKey:function(e){return e.id},replace:function(e,t){var n,i,r=this;return 1==arguments.length&&(t=arguments[0],e=r.getKey(t)),n=r.map[e],void 0===e||null===e||void 0===n?r.add(e,t):(r.generation++,i=r.indexOfKey(e),r.items[i]=t,r.map[e]=t,r.hasListeners.replace&&r.fireEvent("replace",e,n,t),t)},reorder:function(e){var t,n=this,i=n.items,r=0,o=i.length,a=[],s=[];for(t in n.suspendEvents(),e)a[e[t]]=i[t];for(r=0;r<o;r++)void 0==e[r]&&s.push(i[r]);for(r=0;r<o;r++)void 0==a[r]&&(a[r]=s.shift());n.clear(),n.addAll(a),n.resumeEvents()},updateKey:function(e,t){var n,i=this,r=i.map,o=i.indexOfKey(e),a=i.indexMap;o>-1&&(n=r[e],delete r[e],delete a[e],r[t]=n,a[t]=o,i.keys[o]=t,i.indexGeneration=++i.generation)},addAll:function(e){var t;if(arguments.length>1||Ext.isArray(e))this.insert(this.length,arguments.length>1?arguments:e);else for(t in e)e.hasOwnProperty(t)&&(this.allowFunctions||"function"!=typeof e[t])&&this.add(t,e[t])},each:function(e,t){for(var n,i=Ext.Array.push([],this.items),r=0,o=i.length;r<o&&(n=i[r],!1!==e.call(t||n,n,r,o));r++);},eachKey:function(e,t){for(var n=this.keys,i=this.items,r=0,o=n.length;r<o;r++)e.call(t||window,n[r],i[r],r,o)},findBy:function(e,t){for(var n=this.keys,i=this.items,r=0,o=i.length;r<o;r++)if(e.call(t||window,i[r],n[r]))return i[r];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,n){return Ext.isIterable(t)?this.doInsert(e,t,n):(arguments.length>2?this.doInsert(e,[t],[n]):this.doInsert(e,[t]))[0]},doInsert:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=t.length,h=u,f=c.hasListeners.add,g={};if(null!=n)c.useLinearSearch=!0;else for(n=t,t=new Array(u),o=0;o<u;o++)t[o]=this.getKey(n[o]);for(c.suspendEvents(),o=0;o<u;o++)i=t[o],-1!==(r=c.indexOfKey(i))&&(r<e&&e--,c.removeAt(r)),null!=i&&(null!=g[i]&&(s=!0,h--),g[i]=o);if(c.resumeEvents(),s){for(i in l=t,d=n,t=new Array(h),n=new Array(h),o=0,g)t[o]=l[g[i]],n[o]=d[g[i]],o++;u=h}for(a=e===c.length&&c.indexGeneration===c.generation,Ext.Array.insert(c.items,e,n),Ext.Array.insert(c.keys,e,t),c.length+=u,c.generation++,a&&(c.indexGeneration=c.generation),o=0;o<u;o++,e++)null!=(i=t[o])&&(c.map[i]=n[o],a&&(c.indexMap[i]=e)),f&&c.fireEvent("add",e,n[o],i);return n},remove:function(e){var t,n,i=this;return-1!==(n=!i.useLinearSearch&&(t=i.getKey(e))?i.indexOfKey(t):Ext.Array.indexOf(i.items,e))&&i.removeAt(n)},removeAll:function(e){var t,n=this;if(e||n.hasListeners.remove)if(e)for(t=e.length-1;t>=0;--t)n.remove(e[t]);else for(;n.length;)n.removeAt(0);else n.length=n.items.length=n.keys.length=0,n.map={},n.indexMap={},n.generation++,n.indexGeneration=n.generation},removeAt:function(e){var t,n,i=this;return e<i.length&&e>=0&&(i.length--,t=i.items[e],Ext.Array.erase(i.items,e,1),void 0!==(n=i.keys[e])&&delete i.map[n],Ext.Array.erase(i.keys,e,1),i.hasListeners.remove&&i.fireEvent("remove",t,n),i.generation++,t)},removeRange:function(e,t){var n,i,r,o,a,s,l=this;if(e<l.length&&e>=0){for(t||(t=1),t=(o=Math.min(e+t,l.length))-e,a=(s=o===l.length)&&l.indexGeneration===l.generation,r=e;r<o;r++)null!=(i=l.keys[r])&&(delete l.map[i],a&&delete l.indexMap[i]);return n=l.items[r-1],l.length-=t,l.generation++,a&&(l.indexGeneration=l.generation),s?l.items.length=l.keys.length=l.length:(l.items.splice(e,t),l.keys.splice(e,t)),n}return!1},removeAtKey:function(e){var t,n=this.keys;if(null!=e)return this.removeAt(this.indexOfKey(e));for(t=n.length-1;t>=0;t--)null==n[t]&&this.removeAt(t)},getCount:function(){return this.length},indexOf:function(e){var t;return null!=e?!this.useLinearSearch&&(t=this.getKey(e))?this.indexOfKey(t):Ext.Array.indexOf(this.items,e):-1},indexOfKey:function(e){return this.map.hasOwnProperty(e)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[e]):-1},rebuildIndexMap:function(){var e,t=this.indexMap={},n=this.keys,i=n.length;for(e=0;e<i;e++)t[n[e]]=e;this.indexGeneration=this.generation},get:function(e){var t=this.map[e],n=void 0!==t?t:"number"==typeof e?this.items[e]:void 0;return"function"!=typeof n||this.allowFunctions?n:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){var t;return null!=e&&(!this.useLinearSearch&&(t=this.getKey(e))?null!=this.map[t]:-1!==Ext.Array.indexOf(this.items,e))},containsKey:function(e){return this.map.hasOwnProperty(e)},clear:function(){var e=this;e.generation&&(e.length=0,e.items=[],e.keys=[],e.map={},e.indexMap={},e.generation++,e.indexGeneration=e.generation),e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,n,i){var r,o=this.extractValues(e,t),a=o.length,s=0;for(n=n||0,i=i||0===i?i:a-1,r=n;r<=i;r++)s+=o[r];return s},collect:function(e,t,n){var i,r,o,a=this.extractValues(e,t),s=a.length,l={},d=[];for(o=0;o<s;o++)i=a[o],r=String(i),!n&&Ext.isEmpty(i)||l[r]||(l[r]=!0,d.push(i));return d},extractValues:function(e,t){var n=this.items;return t&&(n=Ext.Array.pluck(n,t)),Ext.Array.pluck(n,e)},hasRange:function(e,t){return t<this.length},getRange:function(e,t){var n,i,r=this.items,o=[],a=r.length;return a<1?o:(e>t&&(i=!0,n=e,e=t,t=n),e<0&&(e=0),(null==t||t>=a)&&(t=a-1),o=r.slice(e,t+1),i&&o.length&&o.reverse(),o)},filter:function(e,t,n,i){var r=[];return Ext.isString(e)?r.push(new Ext.util.Filter({property:e,value:t,anyMatch:n,caseSensitive:i})):(Ext.isArray(e)||e instanceof Ext.util.Filter)&&(r=r.concat(e)),this.filterBy(Ext.util.Filter.createFilterFn(r))},filterBy:function(e,t){var n,i=this,r=new i.self(i.initialConfig),o=i.keys,a=i.items,s=a.length;for(r.getKey=i.getKey,n=0;n<s;n++)e.call(t||i,a[n],o[n])&&r.add(o[n],a[n]);return r.useLinearSearch=i.useLinearSearch,r},findIndex:function(e,t,n,i,r){return Ext.isEmpty(t,!1)?-1:(t=this.createValueMatcher(t,i,r),this.findIndexBy(function(n){return n&&t.test(n[e])},null,n))},findIndexBy:function(e,t,n){for(var i=this.keys,r=this.items,o=n||0,a=r.length;o<a;o++)if(e.call(t||this,r[o],i[o]))return o;return-1},createValueMatcher:function(e,t,n,i){if(!e.exec){var r=Ext.String.escapeRegex;e=String(e),!0===t?e=r(e):(e="^"+r(e),!0===i&&(e+="$")),e=new RegExp(e,n?"":"i")}return e},clone:function(){var e=this,t=new e.self(e.initialConfig);return t.add(e.keys,e.items),t.useLinearSearch=e.useLinearSearch,t}}),Ext.define("Ext.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},statics:{createComparator:function(e,t){return t=t||0,function(n,i){var r,o,a=e.isCollection?e.items:e,s=a.length;for(o=0;o<s;++o)if(r=a[o].sort(n,i))return r;return t&&t(n,i)}}},multiplier:1,constructor:function(e){e&&!this.isGrouper&&!e.property==!e.sorterFn&&Ext.raise("A Sorter requires either a property or a sorterFn."),this.initConfig(e)},getId:function(){var e=this._id;return e||((e=this.getProperty())||(e=Ext.id(null,"ext-sorter-")),this._id=e),e},sort:function(e,t){return this.multiplier*this.sortFn(e,t)},sortFn:function(e,t){var n,i,r=this._transform,o=this._root,a=this._property;return o&&(e=e[o],t=t[o]),n=e[a],i=t[a],r&&(n=r(n),i=r(i)),n>i?1:n<i?-1:0},applyDirection:function(e){return e||"ASC"},updateDirection:function(e){this.multiplier="DESC"===e.toUpperCase()?-1:1},updateProperty:function(e){e&&delete this.sortFn},updateSorterFn:function(e){this.sortFn=e},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var e=this,t={root:e.getRoot(),property:e.getProperty(),direction:e.getDirection()};return e._id&&(t.id=e._id),t},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}}),Ext.define("Ext.util.Sortable",{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],multiSortLimit:3,statics:{createComparator:function(e){return e&&e.length?function(t,n){for(var i=e[0].sort(t,n),r=e.length,o=1;!i&&o<r;o++)i=e[o].sort.call(e[o],t,n);return i}:function(){return 0}}},applySorters:function(e){var t=this.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);return e&&t.addAll(this.decodeSorters(e)),t},sort:function(e,t,n,i){var r,o,a=this,s=a.getSorters();if(s||(a.setSorters(null),s=a.getSorters()),Ext.isArray(e)?(i=n,n=t):Ext.isObject(e)?(e=[e],i=n,n=t):Ext.isString(e)&&((r=s.get(e))?null==t?r.toggle():r.setDirection(t):r={property:e,direction:t},e=[r]),e&&e.length)switch(e=a.decodeSorters(e),n){case"multi":s.insert(0,e[0]),(o=s.getCount()-a.multiSortLimit)>0&&s.removeRange(a.multiSortLimit,o);break;case"prepend":s.insert(0,e);break;case"append":s.addAll(e);break;case void 0:case null:case"replace":s.clear(),s.addAll(e);break;default:Ext.raise('Sorter insertion point must be "multi", "prepend", "append" or "replace"')}return!1!==i&&(a.fireEvent("beforesort",a,e),a.onBeforeSort(e),a.getSorterCount()&&a.doSort(a.generateComparator())),e},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var e=this.getSorters().getRange();return e.length?this.createComparator(e):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,n,i,r=e.length,o=Ext.util.Sorter,a=this.getModel?this.getModel():this.model;for(i=0;i<r;i++)(n=e[i])instanceof o||(Ext.isString(n)&&(n={property:n}),Ext.applyIf(n,{root:this.sortRoot,direction:"ASC"}),n.fn&&(n.sorterFn=n.fn),"function"==typeof n&&(n={sorterFn:n}),a&&!n.transform&&(t=a.getField(n.property),n.transform=t&&t.sortType!==Ext.identityFn?t.sortType:void 0),e[i]=new Ext.util.Sorter(n));return e},getFirstSorter:function(){for(var e,t=this.getSorters().items,n=t.length,i=0;i<n;++i)if(!(e=t[i]).isGrouper)return e;return null}},function(){this.prototype.createComparator=this.createComparator}),Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){this.initConfig(),this.callParent(arguments)},doSort:function(e){this.sortBy(e)},_sort:function(e,t,n){var i,r,o,a=this,s="DESC"==String(t).toUpperCase()?-1:1,l=[],d=a.keys,c=a.items;for(n=n||function(e,t){return e-t},i=0,r=c.length;i<r;i++)l[l.length]={key:d[i],value:c[i],index:i};for(Ext.Array.sort(l,function(t,i){return n(t[e],i[e])*s||(t.index<i.index?-1:1)}),i=0,r=l.length;i<r;i++)o=l[i],c[i]=o.value,d[i]=o.key,a.indexMap[o.key]=i;a.generation++,a.indexGeneration=a.generation,a.fireEvent("sort",a)},sortBy:function(e){var t,n,i,r=this,o=r.items,a=r.keys,s=o.length;for(i=0;i<s;i++)o[i].$extCollectionIndex=i;for(Ext.Array.sort(o,function(t,n){return e(t,n)||(t.$extCollectionIndex<n.$extCollectionIndex?-1:1)}),i=0;i<s;i++)t=o[i],n=r.getKey(t),a[i]=n,r.indexMap[n]=i,delete t.$extCollectionIndex;r.generation++,r.indexGeneration=r.generation,r.fireEvent("sort",r,o,a)},findInsertionIndex:function(e,t){var n,i,r=this.items,o=0,a=r.length-1;for(t||(t=this.generateComparator());o<=a;)(i=t(e,r[n=o+a>>1]))>=0?o=n+1:i<0&&(a=n-1);return o},reorder:function(e){this.callParent([e]),this.fireEvent("sort",this)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){var n=String(e).toUpperCase(),i=String(t).toUpperCase();return n>i?1:n<i?-1:0})}}),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){var t=this;"number"==typeof e?t.interval=e:e&&Ext.apply(t,e),t.tasks=[],t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(e){var t=new Ext.util.TaskRunner.Task(e);return t.manager=this,t},start:function(e){var t=Ext.Date.now();return e.pending||(this.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=t,e.taskRunTime=!1!==e.fireOnStart?0:e.taskStartTime,e.taskRunCount=0,this.firing||(!1!==e.fireOnStart?this.startTimer(0,t):this.startTimer(e.interval,t)),e},stop:function(e){return e.stopped||(e.stopped=!0,e.onStop&&e.onStop.call(e.scope||e,e)),e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var e,t,n,i,r,o,a,s=this,l=s.tasks,d=s.fireIdleEvent,c=Ext.Date.now(),u=1e99,h=l.length,f=Ext.GlobalEvents;for(s.timerId=null,s.firing=!0,n=0;n<h||n<(h=l.length);++n){if(!(o=(i=l[n]).stopped)){if((e=i.taskRunTime+i.interval)<=c){if(r=1,d=i.hasOwnProperty("fireIdleEvent")?i.fireIdleEvent:s.fireIdleEvent,i.taskRunCount++,a=i.args?i.addCountToArgs?i.args.concat([i.taskRunCount]):i.args:[i.taskRunCount],s.disableTryCatch)r=i.run.apply(i.scope||i,a);else try{r=i.run.apply(i.scope||i,a)}catch(e){try{Ext.log({fn:i.run,prefix:"Error while running task",stack:e.stack,msg:e,level:"error"}),i.onError&&(r=i.onError.call(i.scope||i,i,e))}catch(e){}}i.taskRunTime=c,!1===r||i.taskRunCount===i.repeat?(s.stop(i),o=!0):(o=i.stopped,e=c+i.interval)}!o&&i.duration&&i.duration<=c-i.taskStartTime&&(s.stop(i),o=!0)}o?(i.pending=!1,t||(t=l.slice(0,n))):(t&&t.push(i),u>e&&(u=e))}t&&(s.tasks=t),s.firing=!1,s.tasks.length&&s.startTimer(u-c,Ext.Date.now()),!1!==d&&f.hasListeners.idle&&f.fireEvent("idle")},startTimer:function(e,t){var n=this,i=t+e,r=n.timerId;r&&n.nextExpires-i>n.interval&&(clearTimeout(r),r=null),r||(e<n.interval&&(e=n.interval),n.timerId=Ext.defer(n.timerFn,e),n.nextExpires=i)}},function(){var e=this.prototype;e.destroy=e.stopAll,this.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){Ext.apply(this,e)},restart:function(e){void 0!==e&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(){this.manager.stop(this)}}),(e=this.Task.prototype).destroy=e.stop}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(e){this.target=e,this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}}),Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(e,t,n){return void 0===n&&(n="x"===t?e.getX():"y"===t?e.getY():"scrollTop"===t?e.getScroll().top:"scrollLeft"===t?e.getScroll().left:"height"===t?e.getHeight():"width"===t?e.getWidth():e.getStyle(t)),n},getAttr:function(e,t){var n=this.target;return[[n,this.getElVal(n,e,t)]]},setAttr:function(e){var t,n,i,r,o,a,s=e.length;for(r=0;r<s;r++)for(n in t=e[r].attrs)if(t.hasOwnProperty(n))for(a=t[n].length,o=0;o<a;o++)i=t[n][o],this.setElVal(i[0],n,i[1])},setElVal:function(e,t,n){"x"===t?e.setX(n):"y"===t?e.setY(n):"scrollTop"===t?e.scrollTo("top",n):"scrollLeft"===t?e.scrollTo("left",n):"width"===t?e.setWidth(n):"height"===t?e.setHeight(n):e.setStyle(t,n)}}),Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(e,t){var n,i,r,o,a,s,l,d,c,u={attrs:[],duration:[],easing:[]},h=e.length,f=function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},g={single:!0};for(l=0;l<h;l++)for(r in a=(i=e[l]).duration,o=i.easing,i=i.attrs)-1==Ext.Array.indexOf(u.attrs,r)&&(u.attrs.push(r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})),u.duration.push(a+"ms"),u.easing.push(o));for(n=u.attrs.join(","),a=u.duration.join(","),o=u.easing.join(", "),l=0;l<h;l++)for(r in i=e[l].attrs)for(c=i[r].length,d=0;d<c;d++)(s=i[r][d])[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":n),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":a),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":o),s[0].setStyle(r,s[1]),t?s=s[0].dom.offsetWidth:s[0].on(Ext.supports.CSS3TransitionEnd,f,s[0],g)}}),Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:!0,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-"),this.callParent([e])},getAttr:function(e,t){var n,i,r=[],o=this.target,a=o.elements,s=a.length;for(n=0;n<s;n++)(i=a[n])&&(i=o.getElement(i),r.push([i,this.getElVal(i,e,t)]));return r},setAttr:function(e){var t,n,i,r,o,a,s,l,d=this.target,c=e.length,u=d.elements,h=u.length;for(a=0;a<c;a++)for(r in i=e[a].attrs)if(i.hasOwnProperty(r))for(l=i[r].length,s=0;s<l;s++)for(t=i[r][s][1],n=0;n<h;++n)(o=u[n])&&(o=d.getElement(o),this.setElVal(o,r,t))},remove:function(){this.target.destroy()}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(e,t){var n;switch(t){case"rotate":case"rotation":return{x:(n=e.attr.rotation).x||0,y:n.y||0,degrees:n.degrees||0};case"scale":case"scaling":return{x:(n=e.attr.scaling).x||1,y:n.y||1,cx:n.cx||0,cy:n.cy||0};case"translate":case"translation":return{x:(n=e.attr.translation).x||0,y:n.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f=e.length,g=[];for(l=0;l<f;l++)for(n in t=e[l].attrs)for(h=(i=t[n]).length,d=0;d<h;d++)o=i[d][0],r=i[d][1],"translate"===n||"translation"===n?s={x:r.x,y:r.y}:"rotate"===n||"rotation"===n?(c=r.x,isNaN(c)&&(c=null),u=r.y,isNaN(u)&&(u=null),s={degrees:r.degrees,x:c,y:u}):"scale"===n||"scaling"===n?(c=r.x,isNaN(c)&&(c=null),u=r.y,isNaN(u)&&(u=null),s={x:c,y:u,cx:r.cx,cy:r.cy}):s="width"===n||"height"===n||"x"===n||"y"===n?parseFloat(r):r,-1===(a=Ext.Array.indexOf(g,o))&&(g.push([o,{}]),a=g.length-1),g[a][1][n]=s;for(f=g.length,l=0;l<f;l++)g[l][0].setAttributes(g[l][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(e,t){var n,i,r=[],o=[].concat(this.target.items),a=o.length;for(n=0;n<a;n++)i=o[n],r.push([i,void 0!==t?t:this.getFromPrim(i,e)]);return r}}),Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=e.length,p={};for(a=0;a<g;a++){for(r in i=e[a].attrs)for(l=i[r].length,s=0;s<l;s++)o=i[r][s],(f=p[this.setMethods[r]]||(p[this.setMethods[r]]={})).target=o[0],f[r]=o[1];p.setPosition&&(d=void 0===(o=p.setPosition).left?void 0:parseFloat(o.left),c=void 0===o.top?void 0:parseFloat(o.top),o.target.setPosition(d,c)),p.setPagePosition&&(o=p.setPagePosition).target.setPagePosition(o.x,o.y),p.setSize&&(u=void 0===(o=p.setSize).width?o.target.getWidth():parseFloat(o.width),h=void 0===o.height?o.target.getHeight():parseFloat(o.height),o.target.el.setSize(u,h),(n||this.dynamic)&&Ext.GlobalEvents.on({idle:Ext.Function.bind(o.target.setSize,o.target,[u,h]),single:!0})),p.setOpacity&&(o=p.setOpacity).target.el.setStyle("opacity",o.opacity)}}}),Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(e){var t=this.targets.get(e);return t?t.fxDefaults:{}},setFxDefaults:function(e,t){var n=this.targets.get(e);n&&(n.fxDefaults=Ext.apply(n.fxDefaults||{},t))},stopAnimation:function(e,t){for(var n,i=this.getFxQueue(e),r=i.length;r;)(n=i[r-1])&&n.end(t),r--},getActiveAnimation:function(e){var t=this.getFxQueue(e);return!(!t||!t.length)&&t[0]},hasFxBlock:function(e){var t=this.getFxQueue(e);return t&&t[0]&&t[0].block},getFxQueue:function(e){if(!e)return!1;var t=this.fxQueue,n=t[e],i=this.targets.get(e);return!!i&&(n||(this.fxQueue[e]=t[e]=[],"element"!==i.type&&i.target.on("destroy",function(){t[e]=null,delete t[e]})),this.fxQueue[e])},queueFx:function(e){var t,n,i=this,r=e.target,o=r.getId();r&&((n=(t=i.getFxQueue(o)).length)?e.concurrent?e.paused=!1:t[n-1].on("afteranimate",function(){e.paused=!1}):e.paused=!1,e.on("afteranimate",function(){if(Ext.Array.remove(t,e),0===t.length&&(i.targets.remove(e.target),i.fxQueue[o]=null,delete i.fxQueue[o]),e.remove&&"element"===r.type){var n=Ext.get(o);n&&n.destroy()}},i,{single:!0}),t.push(e))}}),Ext.define("Ext.fx.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.util.TaskRunner","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){var e=this;e.items=new Ext.util.MixedCollection,e.targetArr={},e.mixins.queue.constructor.call(e),e.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(e){var t,n=!this.forceJS&&Ext.supports.Transitions;if(this.useCSS3=n,e){if(e.tagName||Ext.isString(e)||e.isFly)e=Ext.get(e),t=new Ext.fx.target["Element"+(n?"CSS":"")](e);else if(e.dom)t=new Ext.fx.target["Element"+(n?"CSS":"")](e);else if(e.isComposite)t=new Ext.fx.target["CompositeElement"+(n?"CSS":"")](e);else if(e.isSprite)t=new Ext.fx.target.Sprite(e);else if(e.isCompositeSprite)t=new Ext.fx.target.CompositeSprite(e);else{if(!e.isComponent)return e.isAnimTarget?e:null;t=new Ext.fx.target.Component(e)}return this.targets.add(t),t}return null},addAnim:function(e){var t=this,n=t.items,i=t.task;n.add(e.id,e),!i&&n.length&&(i=t.task={run:t.runner,interval:t.interval,scope:t},t.taskRunner.start(i))},removeAnim:function(e){var t=this.items,n=this.task;t.removeAtKey(e.id),n&&!t.length&&(this.taskRunner.stop(n),delete this.task)},runner:function(){var e,t=this,n=t.items.getRange(),i=0,r=n.length;for(t.targetArr={},t.timestamp=new Date;i<r;i++)(e=n[i]).isReady()&&t.startAnim(e);for(i=0;i<r;i++)(e=n[i]).isRunning()&&t.runAnim(e);t.applyPendingAttrs(),t.targetArr=null},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e,t){if(e){var n,i,r=this.useCSS3&&"element"===e.target.type,o=this.timestamp-e.startTime,a=o>=e.duration;return t&&(o=e.duration,a=!0),n=this.collectTargetData(e,o,r,a),r&&(e.target.setAttr(n.anims[e.id].attributes,!0),this.collectTargetData(e,e.duration,r,a),e.paused=!0,n=e.target.target,e.target.isComposite&&(n=e.target.target.last()),(i={})[Ext.supports.CSS3TransitionEnd]=e.lastFrame,i.scope=e,i.single=!0,n.on(i)),n}},jumpToEnd:function(e){var t,n,i=this;i.targetArr||(i.targetArr={},n=!0),t=i.runAnim(e,!0),i.applyAnimAttrs(t,t.anims[e.id]),n&&(i.targetArr=null)},collectTargetData:function(e,t,n,i){var r=e.target.getId(),o=this.targetArr[r];return o||(o=this.targetArr[r]={id:r,el:e.target,anims:{}}),o.anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:i,attributes:[{duration:e.duration,easing:n&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]},o},applyAnimAttrs:function(e,t){var n=t.anim;t.attributes&&n.isRunning()&&(e.el.setAttr(t.attributes,!1,t.isLastFrame),t.isLastFrame&&n.lastFrame())},applyPendingAttrs:function(){var e,t,n,i,r,o=this.targetArr;for(t in o)if(o.hasOwnProperty(t))for(r in(e=o[t]).anims)e.anims.hasOwnProperty(r)&&(i=(n=e.anims[r]).anim,n.attributes&&i.isRunning()&&(e.el.setAttr(n.attributes,!1,n.isLastFrame),n.isLastFrame&&i.lastFrame()))}}),Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){var t=this;e=Ext.apply(t,e||{}),t.config=e,t.id=Ext.id(null,"ext-animator-"),t.mixins.observable.constructor.call(t,e),t.timeline=[],t.createTimeline(t.keyframes),t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t,n,i,r,o,a,s=this,l=[],d=s.to||{},c=s.duration;for(o in e)e.hasOwnProperty(o)&&s.animKeyFramesRE.test(o)&&(a={attrs:Ext.apply(e[o],d)},"from"===o?o=0:"to"===o&&(o=100),a.pct=parseInt(o,10),l.push(a));for(Ext.Array.sort(l,s.sorter),r=l.length,i=0;i<r;i++)t=l[i-1]?c*(l[i-1].pct/100):0,n=c*(l[i].pct/100),s.timeline.push({duration:n-t,attrs:l[i].attrs})},applyAnimator:function(e){var t,n,i,r,o,a=this,s=[],l=a.timeline,d=l.length;if(!1!==a.fireEvent("beforeanimate",a)){for(o=0;o<d;o++)n=(r=(t=l[o]).attrs).easing||a.easing,i=r.damper||a.damper,delete r.easing,delete r.damper,t=new Ext.fx.Anim({target:e,easing:n,damper:i,duration:t.duration,paused:!0,to:r}),s.push(t);for(a.animations=s,a.target=t.target,o=0;o<d-1;o++)(t=s[o]).nextAnim=s[o+1],t.on("afteranimate",function(){this.nextAnim.paused=!1}),t.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},a);s[d-1].on("afteranimate",function(){this.lastFrame()},a)}},start:function(e){var t=this,n=t.delay,i=t.delayStart;if(n){if(!i)return void(t.delayStart=e);if(e-i<n)return;e=new Date(i.getTime()+n)}!1!==t.fireEvent("beforeanimate",t)&&(t.startTime=e,t.running=!0,t.animations[t.keyframeStep].paused=!1)},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;++n<t?(e.startTime=new Date,e.currentIteration=n,e.keyframeStep=0,e.applyAnimator(e.target),e.animations[e.keyframeStep].paused=!1):(e.currentIteration=0,e.end())},end:function(){this.fireEvent("afteranimate",this,this.startTime,new Date-this.startTime)},isReady:function(){return!1===this.paused&&!1===this.running&&this.iterations>0},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(e,t,n,i,r,o){var a=3*t,s=3*(i-t)-a,l=1-a-s,d=3*n,c=3*(r-n)-d,u=1-d-c;function h(e){return((l*e+s)*e+a)*e}return function(e,t){var n=function(e,t){var n,i,r,o,d,c;for(r=e,c=0;c<8;c++){if(o=h(r)-e,Math.abs(o)<t)return r;if(d=(3*l*r+2*s)*r+a,Math.abs(d)<1e-6)break;r-=o/d}if(i=1,(r=e)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=h(r),Math.abs(o-e)<t)return r;e>o?n=r:i=r,r=(i-n)/2+n}return r}(e,t);return((u*n+c)*n+d)*n}(e,1/(200*o))},cubicBezier:function(e,t,n,i){var r=function(r){return Ext.fx.CubicBezier.cubicBezierAtTime(r,e,t,n,i,1)};return r.toCSS3=function(){return"cubic-bezier("+[e,t,n,i].join(",")+")"},r.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-n,1-i,1-e,1-t)},r}}),Ext.define("Ext.fx.Easing",function(){var e=Math,t=e.PI,n=e.pow,i=e.sin,r=e.sqrt,o=e.abs;return{requires:["Ext.fx.CubicBezier"],singleton:!0,linear:Ext.identityFn,ease:function(e){var t=.07813-e/2,i=r(.0066+t*t),a=i-t,s=-i-t,l=n(o(a),1/3)*(a<0?-1:1)+n(o(s),1/3)*(s<0?-1:1)+.25;return 3*n(1-l,2)*l*.1+3*(1-l)*l*l+l*l*l},easeIn:function(e){return n(e,1.7)},easeOut:function(e){return n(e,.48)},easeInOut:function(e){var t=.48-e/1.04,i=r(.1734+t*t),a=i-t,s=-i-t,l=n(o(a),1/3)*(a<0?-1:1)+n(o(s),1/3)*(s<0?-1:1)+.5;return 3*(1-l)*l*l+l*l*l},backIn:function(e){return e*e*(2.70158*e-1.70158)},backOut:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},elasticIn:function(e){if(0===e||1===e)return e;return n(2,-10*e)*i(2*t*(e-.075)/.3)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}}},function(e){var t=e.self,n=t.prototype;t.addMembers({"back-in":n.backIn,"back-out":n.backOut,"ease-in":n.easeIn,"ease-out":n.easeOut,"elastic-in":n.elasticIn,"elastic-out":n.elasticOut,"bounce-in":n.bounceIn,"bounce-out":n.bounceOut,"ease-in-out":n.easeInOut})}),Ext.define("Ext.fx.DrawPath",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(e,t){return"object"==(t=String(t).toLowerCase())&&e===Object(e)||"undefined"==t&&typeof e==t||"null"==t&&null===e||"array"==t&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[],i=this;return i.is(e,"array")&&i.is(e[0],"array")&&(n=i.pathClone(e)),n.length||String(e).replace(i.pathCommandRE,function(e,r,o){var a=[],s=r.toLowerCase();for(o.replace(i.pathValuesRE,function(e,t){t&&a.push(+t)}),"m"==s&&a.length>2&&(n.push([r].concat(Ext.Array.splice(a,0,2))),s="l",r="m"==r?"l":"L");a.length>=t[s]&&(n.push([r].concat(Ext.Array.splice(a,0,t[s]))),t[s]););}),n.toString=i.path2string,n},pathClone:function(e){var t,n,i,r,o=[];for(this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e)),i=0,r=e.length;i<r;i++)for(o[i]=[],t=0,n=e[i].length;t<n;t++)o[i][t]=e[i][t];return o.toString=this.path2string,o},pathToAbsolute:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,n,i,r,o=[],a=0,s=0,l=0,d=0,c=0,u=e.length;for(u&&"M"==e[0][0]&&(l=a=+e[0][1],d=s=+e[0][2],c++,o[0]=["M",a,s]);c<u;c++){if(t=o[c]=[],(n=e[c])[0]!=n[0].toUpperCase())switch(t[0]=n[0].toUpperCase(),t[0]){case"A":t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=+(n[6]+a),t[7]=+(n[7]+s);break;case"V":t[1]=+n[1]+s;break;case"H":t[1]=+n[1]+a;break;case"M":l=+n[1]+a,d=+n[2]+s;default:for(i=1,r=n.length;i<r;i++)t[i]=+n[i]+(i%2?a:s)}else for(i=0,r=n.length;i<r;i++)o[c][i]=n[i];switch(t[0]){case"Z":a=l,s=d;break;case"H":a=t[1];break;case"V":s=t[1];break;case"M":l=(n=o[c])[(r=n.length)-2],d=n[r-1];default:a=(n=o[c])[(r=n.length)-2],s=n[r-1]}}return o.toString=this.path2string,o},interpolatePaths:function(e,t){var n,i,r,o,a,s,l=this.pathToAbsolute(e),d=this.pathToAbsolute(t),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(n,0,6)));Ext.Array.erase(e,t,1),i=Math.max(l.length,d.length||0)}},f=function(e,t,n,r,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(Ext.Array.splice(t,o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],i=Math.max(l.length,d.length||0))};for(n=0,i=Math.max(l.length,d.length||0);n<i;n++)l[n]=this.command2curve(l[n],c),h(l,n),d[n]=this.command2curve(d[n],u),h(d,n),f(l,d,c,u,n),f(d,l,u,c,n),r=l[n],o=d[n],a=r.length,s=o.length,c.x=r[a-2],c.y=r[a-1],c.bx=parseFloat(r[a-4])||c.x,c.by=parseFloat(r[a-3])||c.y,u.bx=parseFloat(o[s-4])||u.x,u.by=parseFloat(o[s-3])||u.y,u.x=o[s-2],u.y=o[s-1];return[l,d]},command2curve:function(e,t){if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch("T"!=e[0]&&"Q"!=e[0]&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(this.arc2curve.apply(this,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(this.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(this.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return e},quadratic2curve:function(e,t,n,i,r,o){return[1/3*e+2/3*n,1/3*t+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},rotate:function(e,t,n){var i=Math.cos(n),r=Math.sin(n);return{x:e*i-t*r,y:e*r+t*i}},arc2curve:function(e,t,n,i,r,o,a,s,l,d){var c,u,h,f,g,p,m,x,E,v,y,b,C,S,w,T,P,k,I,M,R,A,D,F,L,O,B,N,H,V=this,z=Math.PI,W=120*z/180,G=V.radian*(+r||0),_=[],X=Math,U=X.cos,Y=X.sin,q=X.sqrt,j=X.abs,K=X.asin;if(d?(v=d[0],y=d[1],x=d[2],E=d[3]):(e=(c=V.rotate(e,t,-G)).x,t=c.y,s=(c=V.rotate(s,l,-G)).x,l=c.y,(f=(u=(e-s)/2)*u/(n*n)+(h=(t-l)/2)*h/(i*i))>1&&(n*=f=q(f),i*=f),g=n*n,p=i*i,x=(m=(o==a?-1:1)*q(j((g*p-g*h*h-p*u*u)/(g*h*h+p*u*u))))*n*h/i+(e+s)/2,v=K(((t-(E=m*-i*u/n+(t+l)/2))/i).toFixed(7)),y=K(((l-E)/i).toFixed(7)),v=e<x?z-v:v,y=s<x?z-y:y,v<0&&(v=2*z+v),y<0&&(y=2*z+y),a&&v>y&&(v-=2*z),!a&&y>v&&(y-=2*z)),j(b=y-v)>W&&(B=y,N=s,H=l,s=x+n*U(y=v+W*(a&&y>v?1:-1)),l=E+i*Y(y),_=V.arc2curve(s,l,n,i,r,0,a,N,H,[y,B,x,E])),b=y-v,C=U(v),S=Y(v),w=U(y),T=Y(y),A=[s+(k=4/3*n*(P=X.tan(b/4)))*T,l-(I=4/3*i*P)*w],D=[s,l],(R=[e+k*S,t-I*C])[0]=2*(M=[e,t])[0]-R[0],R[1]=2*M[1]-R[1],d)return[R,A,D].concat(_);for(F=[],O=(_=[R,A,D].concat(_).join().split(",")).length,L=0;L<O;L++)F[L]=L%2?V.rotate(_[L-1],_[L],G).y:V.rotate(_[L],_[L+1],G).x;return F}}),Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.fx.DrawPath"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,n,i,r){n="number"==typeof n?n:1;var o,a=this.unitRE,s=a.exec(e);return s&&(e=s[1],o=s[2],this.scrollRE.test(r)||o||!this.pixelDefaultsRE.test(r)||(o="px")),e=+e||0,(s=a.exec(t))&&(t=s[1],o=s[2]||o),{from:e,delta:((t=+t||0)-(null!=i?i:e))*n,units:o}},get:function(e,t,n,i,r){var o,a,s,l,d,c=e.length,u=[];for(o=0;o<c;o++)if(i&&(a=i[o][1].from),Ext.isArray(e[o][1])&&Ext.isArray(t)){for(s=[],l=0,d=e[o][1].length;l<d;l++)s.push(this.computeDelta(e[o][1][l],t[l],n,a,r));u.push([e[o][0],s])}else u.push([e[o][0],this.computeDelta(e[o][1],t,n,a,r)]);return u},set:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(n=0;n<s;n++)if(i=e[n][1],Ext.isArray(i)){for(r=[],a=0,o=i.length;a<o;a++)r.push(i[a].from+i[a].delta*t+(i[a].units||0));l.push([e[n][0],r])}else l.push([e[n][0],i.from+i.delta*t+(i.units||0)]);return l}},stringHandler:{computeDelta:function(e,t,n,i,r){return{from:e,delta:t}},get:function(e,t,n,i,r){var o,a=e.length,s=[];for(o=0;o<a;o++)s.push([e[o][0],this.computeDelta(e[o][1],t,n,void 0,r)]);return s},set:function(e,t){var n,i,r=e.length,o=[];for(n=0;n<r;n++)i=e[n][1],o.push([e[n][0],i.delta]);return o}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){t="number"==typeof t?t:1;var n,i,r,o=!1,a=[this.hexRE,this.rgbRE,this.hex3RE],s=a.length;for(r=0;r<s;r++)if(i=r%2==0?16:10,(n=a[r].exec(e))&&4===n.length){2===r&&(n[1]+=n[1],n[2]+=n[2],n[3]+=n[3]),o={red:parseInt(n[1],i),green:parseInt(n[2],i),blue:parseInt(n[3],i)};break}return o||e},computeDelta:function(e,t,n,i){e=this.parseColor(e),t=this.parseColor(t,n);var r=i||e,o=typeof r,a=typeof t;return"string"===o||"undefined"===o||"string"===a||"undefined"===a?t||r:{from:e,delta:{red:Math.round((t.red-r.red)*n),green:Math.round((t.green-r.green)*n),blue:Math.round((t.blue-r.blue)*n)}}},get:function(e,t,n,i){var r,o,a=e.length,s=[];for(r=0;r<a;r++)i&&(o=i[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,n,o)]);return s},set:function(e,t){var n,i,r,o,a,s=e.length,l=[];for(n=0;n<s;n++)if(i=e[n][1]){if(o=i.from,a=i.delta,void 0===(i="object"==typeof(i="object"==typeof i&&"red"in i?"rgb("+i.red+", "+i.green+", "+i.blue+")":i)&&i.length?i[0]:i))return[];r="string"==typeof i?i:"rgb("+[(o.red+Math.round(a.red*t))%256,(o.green+Math.round(a.green*t))%256,(o.blue+Math.round(a.blue*t))%256].join(",")+")",l.push([e[n][0],r])}return l}},object:{interpolate:function(e,t){t="number"==typeof t?t:1;var n,i={};for(n in e)i[n]=parseFloat(e[n])*t;return i},computeDelta:function(e,t,n,i){e=this.interpolate(e),t=this.interpolate(t,n);var r,o=i||e,a={};for(r in t)a[r]=t[r]-o[r];return{from:e,delta:a}},get:function(e,t,n,i){var r,o,a=e.length,s=[];for(r=0;r<a;r++)i&&(o=i[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,n,o)]);return s},set:function(e,t){var n,i,r,o,a,s=e.length,l=[],d={};for(n=0;n<s;n++){for(a in i=(o=e[n][1]).from,r=o.delta,i)d[a]=i[a]+r[a]*t;l.push([e[n][0],d])}return l}},path:{computeDelta:function(e,t,n,i){return n="number"==typeof n?n:1,{from:e=+e||0,delta:((t=+t||0)-(null!=i?i:e))*n}},forcePath:function(e){return Ext.isArray(e)||Ext.isArray(e[0])||(e=Ext.fx.DrawPath.parsePathString(e)),e},get:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f=this.forcePath(t),g=[],p=e.length;for(a=0;a<p;a++){for(h=this.forcePath(e[a][1]),h=(s=Ext.fx.DrawPath.interpolatePaths(h,f))[0],f=s[1],r=h.length,u=[],d=0;d<r;d++){for(s=[h[d][0]],o=h[d].length,c=1;c<o;c++)l=i&&i[0][1][d][c].from,s.push(this.computeDelta(h[d][c],f[d][c],n,l));u.push(s)}g.push([e[a][0],u])}return g},set:function(e,t){var n,i,r,o,a,s,l,d,c=e.length,u=[];for(n=0;n<c;n++){for(o=[],l=(s=e[n][1]).length,i=0;i<l;i++){for(a=[s[i][0]],d=s[i].length,r=1;r<d;r++)a.push(s[i][r].from+s[i][r].delta*t);o.push(a.join(","))}u.push([e[n][0],o.join(",")])}return u}}}},function(){for(var e=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],t=e.length,n=0;n<t;n++)this[e[n]]=this.color;for(t=(e=["cursor"]).length,n=0;n<t;n++)this[e[n]]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t,n=this;if((e=e||{}).keyframes)return new Ext.fx.Animator(e);Ext.apply(n,e),void 0===n.from&&(n.from={}),n.propHandlers={},n.config=e,n.target=Ext.fx.Manager.createTarget(n.target),n.easingFn=Ext.fx.Easing[n.easing],n.target.dynamic=n.dynamic,n.easingFn||(n.easingFn=String(n.easing).match(n.bezierRE),n.easingFn&&5===n.easingFn.length&&(t=n.easingFn,n.easingFn=Ext.fx.CubicBezier.cubicBezier(+t[1],+t[2],+t[3],+t[4]))),n.id=Ext.id(null,"ext-anim-"),n.mixins.observable.constructor.call(n),Ext.fx.Manager.addAnim(n),e.autoEnd&&(n.running=!0,n.jumpToEnd())},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e,t,n,i,r=this,o=r.from,a=r.to,s=r.initialFrom||{},l={};for(i in a)a.hasOwnProperty(i)&&(e=r.target.getAttr(i,o[i]),t=a[i],n=Ext.fx.PropertyHandler[i]?r.propHandlers[i]=Ext.fx.PropertyHandler[i]:Ext.isObject(t)?r.propHandlers[i]=Ext.fx.PropertyHandler.object:r.propHandlers[i]=Ext.fx.PropertyHandler.defaultHandler,l[i]=n.get(e,t,r.damper,s[i],i));r.currentAttrs=l},start:function(e){var t=this,n=t.delay,i=t.delayStart;if(n){if(!i)return void(t.delayStart=e);if(e-i<n)return;e=new Date(i.getTime()+n)}!1!==t.fireEvent("beforeanimate",t)&&(t.startTime=e,t.paused||t.currentAttrs||t.initAttrs(),t.running=!0,t.frameCount=0)},jumpToEnd:function(){var e=this;e.endWasCalled||(e.currentAttrs||e.initAttrs(),Ext.fx.Manager.jumpToEnd(e),e.end())},runAnim:function(e){var t,n,i,r,o=this,a=o.currentAttrs,s=o.duration,l=o.easingFn,d=o.propHandlers,c={};for(i in e>=s&&(e=s,r=!0),o.reverse&&(e=s-e),a)a.hasOwnProperty(i)&&(n=a[i],t=r?1:l(e/s),c[i]=d[i].set(n,t));return o.frameCount++,c},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;++n<t?(e.alternate&&(e.reverse=!e.reverse),e.startTime=new Date,e.currentIteration=n,e.paused=!1):(e.currentIteration=0,e.end(),e.fireEvent("lastframe",e,e.startTime))},endWasCalled:0,end:function(e){var t=this;t.endWasCalled++||(t.startTime=0,t.paused=!1,t.running=!1,Ext.fx.Manager.removeAnim(t),e||(t.fireEvent("afteranimate",t,t.startTime),Ext.callback(t.callback,t.scope,[t,t.startTime])),t.remove&&t.target.destroy())},isReady:function(){return!1===this.paused&&!1===this.running&&this.iterations>0},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}}),Ext.enableFx=!0,Ext.define("Ext.util.Animate",{mixinId:"animate",requires:["Ext.fx.Manager","Ext.fx.Anim"],isAnimate:!0,animate:function(e){return Ext.fx.Manager.hasFxBlock(this.id)?this:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(e))),this)},anim:function(e){if(!Ext.isObject(e))return!!e&&{};return e.stopAnimation&&this.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(this.id)),Ext.apply({target:this,paused:!0},e)},getAnimationProps:function(){var e=this.layout;return e&&e.animate?e.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(e){return Ext.fx.Manager.stopAnimation(this.id,e),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}}),Ext.define("Ext.dom.Fly",{extend:"Ext.dom.Element",alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:function(e){return e?(this.dom=e,Ext.cache[e.id]||(this.getData().isSynchronized=!1),this):this.detach()},detach:function(){this.dom=null},addListener:function(){Ext.raise("Cannot use addListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}||null,removeListener:function(){Ext.raise("Cannot use removeListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}||null},function(e){var t,n={};e.cache=n,Ext.fly=function(t,i){var r,o,a=null,s=Ext.fly;return i=i||s.caller&&s.caller.$name||"_global",(t=Ext.getDom(t))&&(r=t.nodeType,(e.prototype.validNodeTypes[r]||!r&&t.window==t)&&((a=Ext.cache[t.id])&&a.dom===t||((a=n[i]||(n[i]=new e)).dom=t,(o=a.getData(!0))&&(o.isSynchronized=!1)))),a},Ext.getDetachedBody=function(){return t||(Ext.detachedBodyEl=t=new e(document.createElement("div")),t.isDetachedBody=!0),t}}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite"],requires:["Ext.dom.Fly"],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var e=Ext.dom.Element,t=this.prototype;Ext.Object.each(e.prototype,function(e,n){"function"!=typeof n||t[e]||(t[e]=function(){return this.invoke(e,arguments)})})}},constructor:function(e,t){t?this.elements=e||[]:(this.elements=[],this.add(e))},getElement:function(e){return(this._fly||(this._fly=new Ext.dom.Fly)).attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var n,i,r=this.elements;if(!e)return this;for("string"==typeof e?e=Ext.fly(t||document).query(e):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]),n=0,i=e.length;n<i;++n)r.push(this.transformElement(e[n]));return this},invoke:function(e,t){var n,i,r,o=this.elements,a=o.length;if(0!==r)for(n=(this.isLite?Ext.dom.Fly:Ext.dom.Element).prototype,r=0;r<a;r++)(i=o[r])&&n[e].apply(this.getElement(i),t);return this},item:function(e){var t=this.elements[e],n=null;return t&&(n=this.getElement(t)),n},slice:function(e,t){return Ext.Array.slice(this.elements,e,t)},each:function(e,t){var n,i,r=this.elements,o=r.length;for(n=0;n<o&&(!(i=r[n])||(i=this.getElement(i),!1!==e.call(t||i,i,this,n)));n++);return this},fill:function(e){return this.elements=[],this.add(e),this},insert:function(e,t){Ext.Array.insert(this.elements,e,t)},filter:function(e){for(var t,n=this,i=n.elements,r=i.length,o=[],a=0,s="function"==typeof e;a<r;a++)!1,(t=i[a])&&(t=n.getElement(t),(s?!1!==e.call(t,t,n,a):t.is(e))&&o.push(n.transformElement(t)));return n.elements=o,n},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,n){var i,r=isNaN(e)?this.indexOf(e):e;return r>-1&&(t=Ext.getDom(t),n&&((i=this.elements[r]).parentNode.insertBefore(t,i),Ext.removeNode(i)),Ext.Array.splice(this.elements,r,1,t)),this},clear:function(e){var t=this.elements,n=t.length-1;if(e)for(;n>=0;n--)Ext.removeNode(t[n]);this.elements=[]},addElements:function(e,t){if(!e)return this;"string"==typeof e&&(e=Ext.dom.Element.selectorFunction(e,t));var n,i=this.elements,r=e.length;for(n=0;n<r;n++)i.push(Ext.get(e[n]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return-1!=this.indexOf(e)},removeElement:function(e,t){e=[].concat(e);var n,i,r,o=this.elements,a=e.length;for(r=0;r<a;r++)(i=o[n=e[r]]||o[n=this.indexOf(n)])&&(t&&(i.dom?i.destroy():Ext.removeNode(i)),Ext.Array.erase(o,n,1));return this},destroy:function(){return this.invoke("destroy",arguments)}},function(e){var t=e.prototype;e.importElementMethods(),t.on=t.addListener}),Ext.define("Ext.overrides.dom.Element",function(){var e,t=window,n=document,i=Ext.baseCSSPrefix+"hidden-offsets",r=Ext.baseCSSPrefix+"hidden-clip",o=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),a=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,s=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,l=/\ssrc=([\'\"])(.*?)\1/i,d=/\S/,c=/\stype=([\'\"])(.*?)\1/i,u=/^-ms-/,h=/(-[a-z])/gi,f=function(e,t){return t.charAt(1).toUpperCase()},g=Ext.baseCSSPrefix+"masked",p=Ext.baseCSSPrefix+"masked-relative",m=Ext.baseCSSPrefix+"mask-msg",x=/^body/i,E={},v=n.createRange?n.createRange():null,y={INPUT:!0,TEXTAREA:!0};if(Ext.isIE8)var b=n.createElement("div"),C=[],S=Ext.Function.createBuffered(function(){var e,t=C.length;for(e=0;e<t;e++)b.appendChild(C[e]);b.innerHTML="",C.length=0},10);return{override:"Ext.dom.Element",mixins:["Ext.util.Animate"],uses:["Ext.dom.GarbageCollector","Ext.dom.Fly","Ext.event.publisher.MouseEnterLeave","Ext.fx.Manager","Ext.fx.Anim"],skipGarbageCollection:!1,_init:function(n){e=n,t.__UNIT_TESTING__&&(n.destroyQueue=C),n.tabbableSelector+=",["+n.tabbableSavedCounterAttribute+"]"},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable",tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:!0,IFRAME:!0,EMBED:!0,INPUT:!0,OBJECT:!0,SELECT:!0,TEXTAREA:!0,HTML:!!Ext.isIE,BODY:!Ext.isIE},naturallyTabbableTags:{BUTTON:!0,IFRAME:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,OBJECT:!!Ext.isIE8m},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",normalize:function(e){return"float"===e&&(e=Ext.supports.Float?"cssFloat":"styleFloat"),E[e]||(E[e]=e.replace(u,"ms-").replace(h,f))}},addKeyListener:function(e,t,n){var i;return i="object"!=typeof e||Ext.isArray(e)?{target:this,key:e,fn:t,scope:n}:{target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:n},new Ext.util.KeyMap(i)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},afterAnimate:function(){var e=this.shadow;!e||e.disabled||e.animate||e.show()},anchorAnimX:function(e){var t="l"===e?"right":"left";this.dom.style[t]="0px"},anim:function(e){if(!Ext.isObject(e))return!!e&&{};var t,n=e.duration||Ext.fx.Anim.prototype.duration,i=e.easing||"ease";return e.stopAnimation&&this.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(this.id)),Ext.fx.Manager.setFxDefaults(this.id,{delay:0}),t={target:this.dom,remove:e.remove,alternate:e.alternate||!1,duration:n,easing:i,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:!0,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e),userConfig:e},Ext.apply(t.to,e.to),delete t.to.to,delete t.to.from,delete t.to.remove,delete t.to.alternate,delete t.to.keyframes,delete t.to.iterations,delete t.to.listeners,delete t.to.target,delete t.to.paused,delete t.to.callback,delete t.to.scope,delete t.to.duration,delete t.to.easing,delete t.to.concurrent,delete t.to.block,delete t.to.stopAnimation,delete t.to.delay,t},animate:function(e){return this.addAnimation(e),this},addAnimation:function(e){var t,n,i,r=this.dom.id||Ext.id(this.dom);return Ext.fx.Manager.hasFxBlock(r)||(e.listeners&&(t=e.listeners,delete e.listeners),e.internalListeners&&(e.listeners=e.internalListeners,delete e.internalListeners),i=e.autoEnd,delete e.autoEnd,(n=new Ext.fx.Anim(this.anim(e))).on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:this,single:!0}),t&&n.on(t),Ext.fx.Manager.queueFx(n),i&&n.jumpToEnd()),n},beforeAnimate:function(){var e=this.shadow;!e||e.disabled||e.animate||e.hide()},boxWrap:function(e){e=e||Ext.baseCSSPrefix+"box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+e+"' role='presentation'>"+Ext.String.format(o,e)+"</div>"));return t.selectNode("."+e+"-mc").appendChild(this.dom),t},clean:function(e){var t,n=this.dom,i=this.getData(),r=n.firstChild,o=-1;if(i.isCleaned&&!0!==e)return this;for(;r;)t=r.nextSibling,3===r.nodeType?d.test(r.nodeValue)?t&&3===t.nodeType&&(r.appendData(Ext.String.trim(t.data)),n.removeChild(t),t=r.nextSibling,r.nodeIndex=++o):n.removeChild(r):(Ext.fly(r,"_clean").clean(),r.nodeIndex=++o),r=t;return i.isCleaned=!0,this},empty:v?function(){var e=this.dom;e.firstChild&&(v.setStartBefore(e.firstChild),v.setEndAfter(e.lastChild),v.deleteContents())}:function(){for(var e=this.dom;e.lastChild;)e.removeChild(e.lastChild)},clearListeners:function(){this.removeAnchor(),this.callParent()},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:"static"})},createProxy:function(t,n,i){t="object"==typeof t?t:{tag:"div",role:"presentation",cls:t};var r=n?Ext.DomHelper.append(n,t,!0):Ext.DomHelper.insertBefore(this.dom,t,!0);return r.setVisibilityMode(e.DISPLAY),r.hide(),i&&this.setBox&&this.getBox&&r.setBox(this.getBox()),r},clearOpacity:function(){return this.setOpacity("")},clip:function(){var e,t=this,n=t.getData();return n.isClipped||(n.isClipped=!0,e=t.getStyle(["overflow","overflow-x","overflow-y"]),n.originalClip={o:e.overflow,x:e["overflow-x"],y:e["overflow-y"]},t.setStyle("overflow","hidden"),t.setStyle("overflow-x","hidden"),t.setStyle("overflow-y","hidden")),t},destroy:function(){var e,t,n=this,i=n.dom,r=n.getData();i&&(n.isAnimate&&n.stopAnimation(),n.removeAnchor()),n.callParent(),i&&Ext.isIE8&&i.window!=i&&9!==i.nodeType&&"BODY"!==i.tagName&&"HTML"!==i.tagName&&(C[C.length]=i,S()),r&&(e=r.maskEl,t=r.maskMsg,e&&e.destroy(),t&&t.destroy())},enableDisplayMode:function(t){return this.setVisibilityMode(e.DISPLAY),void 0!==t&&(this.getData().originalDisplay=t),this},fadeIn:function(e){var t=this.dom;return this.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(e){var n=Ext.fly(t,"_anim");n.isStyle("display","none")?n.setDisplayed(""):n.show()}}})),this},fadeOut:function(e){var t=this.dom;return e=Ext.apply({opacity:0,internalListeners:{afteranimate:function(n){if(t&&0===n.to.opacity){var i=Ext.fly(t,"_anim");e.useDisplay?i.setDisplayed(!1):i.hide()}}}},e),this.animate(e),this},fixDisplay:function(){var e=this;e.isStyle("display","none")&&(e.setStyle("visibility","hidden"),e.setStyle("display",e._getDisplay()),e.isStyle("display","none")&&e.setStyle("display","block"))},frame:function(e,t,n){var i,r=this.dom;return e=e||"#C3DAF9",t=t||1,n=n||{},i=function(){var i,o,a=Ext.fly(r,"_anim"),s=this;a.show(),i=a.getBox(),o=Ext.getBody().createChild({role:"presentation",id:a.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+e}}),new Ext.fx.Anim({target:o,duration:n.duration||1e3,iterations:t,from:{top:i.y,left:i.x,borderWidth:0,opacity:1,height:i.height,width:i.width},to:{top:i.y-20,left:i.x-20,borderWidth:10,opacity:0,height:i.height+40,width:i.width+40}}).on("afteranimate",function(){o.destroy(),s.end()})},this.animate({duration:2*Math.max(n.duration,500)||2e3,listeners:{beforeanimate:{fn:i}},callback:n.callback,scope:n.scope}),this},getColor:function(e,t,n){var i,r,o=this.getStyle(e),a=n||""===n?n:"#",s=0;if(!o||/transparent|inherit/.test(o))return t;if(/^r/.test(o))for(r=(o=o.slice(4,o.length-1).split(",")).length;s<r;s++)a+=((i=parseInt(o[s],10))<16?"0":"")+i.toString(16);else a+=3===(o=o.replace("#","")).length?o.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):o;return a.length>5?a.toLowerCase():t},getLoader:function(){var e=this.getData(),t=e.loader;return t||(e.loader=t=new Ext.ElementLoader({target:this})),t},getPositioning:function(e){var t=this.getStyle(["left","top","position","z-index"]),n=this.dom;return e&&("auto"===t.left&&(t.left=n.offsetLeft+"px"),"auto"===t.top&&(t.top=n.offsetTop+"px")),t},ghost:function(e,t){var n,i=this.dom;return e=e||"b",n=function(){var t=Ext.fly(i,"_anim"),n=t.getWidth(),r=t.getHeight(),o=t.getXY(),a=t.getPositioning(),s={opacity:0};switch(e){case"t":s.y=o[1]-r;break;case"l":s.x=o[0]-n;break;case"r":s.x=o[0]+n;break;case"b":s.y=o[1]+r;break;case"tl":s.x=o[0]-n,s.y=o[1]-r;break;case"bl":s.x=o[0]-n,s.y=o[1]+r;break;case"br":s.x=o[0]+n,s.y=o[1]+r;break;case"tr":s.x=o[0]+n,s.y=o[1]-r}this.to=s,this.on("afteranimate",function(){var e=Ext.fly(i,"_anim");e&&(e.hide(),e.clearOpacity(),e.setPositioning(a))})},this.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:n}})),this},hide:function(e){return"string"==typeof e?(this.setVisible(!1,e),this):(this.setVisible(!1,this.anim(e)),this)},highlight:function(e,n){var i,r,o,a,s,l=this.dom,d={};return a=(n=n||{}).listeners||{},d[o=n.attr||"backgroundColor"]=e||"ffff9c",n.to?r=n.to:(r={})[o]=n.endColor||this.getColor(o,"ffffff",""),n.listeners=Ext.apply(Ext.apply({},a),{beforeanimate:function(){i=l.style[o];var e=Ext.fly(l,"_anim");if(e.clearOpacity(),e.show(),s=a.beforeanimate)return(s.fn||s).apply(s.scope||a.scope||t,arguments)},afteranimate:function(){l&&(l.style[o]=i),(s=a.afteranimate)&&(s.fn||s).apply(s.scope||a.scope||t,arguments)}}),this.animate(Ext.apply({},n,{duration:1e3,easing:"ease-in",from:d,to:r})),this},hover:function(e,t,n,i){var r=this;return r.on("mouseenter",e,n||r.dom,i),r.on("mouseleave",t,n||r.dom,i),r},initDD:function(e,t,n){var i=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(i,n)},initDDProxy:function(e,t,n){var i=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(i,n)},initDDTarget:function(e,t,n){var i=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(i,n)},isFocusable:function(){var e,t=this.dom,n=!1;return t&&!t.disabled&&(e=t.nodeName,n=!!Ext.Element.naturallyFocusableTags[e]||("A"===e||"LINK"===e)&&!!t.href||null!=t.getAttribute("tabIndex")||"true"===t.contentEditable,Ext.isIE8&&"INPUT"===e&&"hidden"===t.type&&(n=!1),n=n&&this.isVisible(!0)),n},isInputField:function(){var e=this.dom,t=e.contentEditable;return!!(y[e.tagName]&&"button"!==e.type||""===t||"true"===t)},isTabbable:function(e){var t,n,i,r=this.dom,o=!1;return r&&!r.disabled&&(t=r.nodeName,n=null!=(i=r.getAttribute("tabIndex")),i-=0,"A"===t||"LINK"===t?o=r.href?!(n&&i<0):"true"===r.contentEditable?!(n&&!(n&&i>=0)):!!(n&&i>=0):"true"===r.contentEditable||Ext.Element.naturallyTabbableTags[t]?o=!(n&&i<0):n&&i>=0&&(o=!0),Ext.isIE8&&"INPUT"===t&&"hidden"===r.type&&(o=!1),o=o&&(e||(!this.component||this.component.isVisible(!0))&&this.isVisible(!0))),o},isMasked:function(e){var t,n=this.getData(),i=n.maskEl,r=n.maskMsg,o=!1;if(i&&i.isVisible())r&&r.center(this),o=!0;else if(e&&(t=this.findParentNode()))return Ext.fly(t).isMasked(e);return o},load:function(e){return this.getLoader().load(e),this},mask:function(e,t,i){var r,o=this,a=o.dom,s=o.getData(),l=s.maskEl;return x.test(a.tagName)&&"static"===o.getStyle("position")||o.addCls(p),l&&l.destroy(),l=Ext.DomHelper.append(a,{role:"presentation",cls:Ext.baseCSSPrefix+"mask "+Ext.baseCSSPrefix+"border-box",children:{role:"presentation",cls:t?m+" "+t:m,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-text",html:e||""}}}},!0),r=Ext.get(l.dom.firstChild),s.maskEl=l,o.addCls(g),l.setDisplayed(!0),"string"==typeof e?(r.setDisplayed(!0),r.center(o)):r.setDisplayed(!1),a===n.body&&l.addCls(Ext.baseCSSPrefix+"mask-fixed"),o.saveTabbableState({skipSelf:a===n.body}),Ext.isIE9m&&a!==n.body&&o.isStyle("height","auto")&&l.setSize(void 0,i||o.getHeight()),l},puff:function(e){var t,n=this,i=n.dom,r=n.getBox(),o=n.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],!0);return e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:!1}),t=function(){var t=Ext.fly(i,"_anim");t.clearOpacity(),t.show(),this.to={width:2*r.width,height:2*r.height,x:r.x-r.width/2,y:r.y-r.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var t=Ext.fly(i,"_anim");t&&(e.useDisplay?t.setDisplayed(!1):t.hide(),t.setStyle(o),Ext.callback(e.callback,e.scope))})},n.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:t}}}),n},selectable:function(){return this.dom.unselectable="",this.removeCls(e.unselectableCls),this.addCls(e.selectableCls),this},setCapture:function(){var e=this.dom;Ext.isIE9m&&e.setCapture&&e.setCapture()},setHeight:function(e,t){return t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{height:e}},t))):this.callParent(arguments),this},setHorizontal:function(){var e=this,t=e.verticalCls;delete e.vertical,t&&(delete e.verticalCls,e.removeCls(t)),delete e.setWidth,delete e.setHeight,Ext.isIE8||(delete e.getWidth,delete e.getHeight),delete e.styleHooks},updateText:function(e){},setHtml:function(e,t,i,r){var o,d,u,h=this;return h.dom?(e=e||"",d=h.dom,!0!==t?(d.innerHTML=e,Ext.callback(i,h),h):(o=Ext.id(),e+='<span id="'+o+'" role="presentation"></span>',u=Ext.interval(function(){var t,s,d,f,g,p,m;if(!(p=n.getElementById(o)))return!1;for(clearInterval(u),Ext.removeNode(p),t=Ext.getHead().dom;s=a.exec(e);)(f=!!(d=s[1])&&d.match(l))&&f[2]?((m=n.createElement("script")).src=f[2],(g=d.match(c))&&g[2]&&(m.type=g[2]),t.appendChild(m)):s[2]&&s[2].length>0&&(r?Ext.functionFactory(s[2]).call(r):Ext.globalEval(s[2]));Ext.callback(i,r||h)},20),d.innerHTML=e.replace(s,""),h)):h},setOpacity:function(e,t){var n=this;return n.dom?(t&&n.anim?("object"!=typeof t&&(t={duration:350,easing:"ease-in"}),n.animate(Ext.applyIf({to:{opacity:e}},t))):n.setStyle("opacity",e),n):n},setPositioning:function(e){return this.setStyle(e)},setVertical:function(t,n){var i=this,r=e.prototype;i.vertical=!0,n&&i.addCls(i.verticalCls=n),i.setWidth=r.setHeight,i.setHeight=r.setWidth,Ext.isIE8||(i.getWidth=r.getHeight,i.getHeight=r.getWidth),i.styleHooks=270===t?r.verticalStyleHooks270:r.verticalStyleHooks90},setSize:function(t,n,i){var r=this;return Ext.isObject(t)&&(i=n,n=t.height,t=t.width),i&&r.anim?(!0===i&&(i={}),r.animate(Ext.applyIf({to:{width:t,height:n}},i))):(r.dom.style.width=e.addUnits(t),r.dom.style.height=e.addUnits(n),(r.shadow||r.shim)&&r.syncUnderlays()),r},setVisible:function(t,n){var o=this,a=o.dom,s=function(t){var n=t.getData(),i=n.visibilityMode;return void 0===i&&(n.visibilityMode=i=e.VISIBILITY),i}(o);if("string"==typeof n){switch(n){case"display":s=e.DISPLAY;break;case"visibility":s=e.VISIBILITY;break;case"offsets":s=e.OFFSETS;break;case"clip":s=e.CLIP}o.setVisibilityMode(s),n=!1}if(n&&o.anim)t&&(o.setOpacity(.01),o.setVisible(!0)),Ext.isObject(n)||(n={duration:350,easing:"ease-in"}),o.animate(Ext.applyIf({callback:function(){t||Ext.fly(a).setVisible(!1).setOpacity(1)},to:{opacity:t?1:0}},n));else{if(s===e.DISPLAY)return o.setDisplayed(t);s===e.OFFSETS?o[t?"removeCls":"addCls"](i):s===e.CLIP?o[t?"removeCls":"addCls"](r):s===e.VISIBILITY&&(o.fixDisplay(),a.style.visibility=t?"":"hidden")}return o.getData().isVisible=t,(o.shadow||o.shim)&&o.setUnderlaysVisible(t),o},setWidth:function(e,t){return t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{width:e}},t))):this.callParent(arguments),this},setX:function(e,t){return this.setXY([e,this.getY()],t)},setXY:function(e,t){return t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{x:e[0],y:e[1]}},t))):this.callParent([e]),this},setY:function(e,t){return this.setXY([this.getX(),e],t)},show:function(e){return"string"==typeof e?(this.setVisible(!0,e),this):(this.setVisible(!0,this.anim(e)),this)},slideIn:function(e,t,n){var i,r,o,a,s=this,l=s.dom,d=l.style;return e=e||"t",t=t||{},i=function(){var i,c,u,h,f=this,g=t.listeners,p=Ext.fly(l,"_anim");switch(n||p.fixDisplay(),i=p.getBox(),"t"!=e&&"b"!=e||0!==i.height?"l"!=e&&"r"!=e||0!==i.width||(i.width=l.scrollWidth):i.height=l.scrollHeight,c=p.getStyle(["width","height","left","right","top","bottom","position","z-index"],!0),p.setSize(i.width,i.height),t.preserveScroll&&(o=p.cacheScrollValues()),h=p.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:n?"visible":"hidden"}}),a=h.dom.parentNode,h.setPositioning(p.getPositioning()),h.isStyle("position","static")&&h.position("relative"),p.clearPositioning("auto"),h.clip(),o&&o(),p.setStyle({visibility:"",position:"absolute"}),n&&h.setSize(i.width,i.height),e){case"t":u={from:{width:i.width+"px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}},d.bottom="0px";break;case"l":u={from:{width:"0px",height:i.height+"px"},to:{width:i.width+"px",height:i.height+"px"}},s.anchorAnimX(e);break;case"r":u={from:{x:i.x+i.width,width:"0px",height:i.height+"px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX(e);break;case"b":u={from:{y:i.y+i.height,width:i.width+"px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}};break;case"tl":u={from:{x:i.x,y:i.y,width:"0px",height:"0px"},to:{width:i.width+"px",height:i.height+"px"}},d.bottom="0px",s.anchorAnimX("l");break;case"bl":u={from:{y:i.y+i.height,width:"0px",height:"0px"},to:{y:i.y,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX("l");break;case"br":u={from:{x:i.x+i.width,y:i.y+i.height,width:"0px",height:"0px"},to:{x:i.x,y:i.y,width:i.width+"px",height:i.height+"px"}},s.anchorAnimX("r");break;case"tr":u={from:{x:i.x+i.width,width:"0px",height:"0px"},to:{x:i.x,width:i.width+"px",height:i.height+"px"}},d.bottom="0px",s.anchorAnimX("r")}h.show(),delete(r=Ext.apply({},t)).listeners,(r=new Ext.fx.Anim(Ext.applyIf(r,{target:h,duration:500,easing:"ease-out",from:n?u.to:u.from,to:n?u.from:u.to}))).on("afteranimate",function(){var e=Ext.fly(l,"_anim");e.setStyle(c),n&&(t.useDisplay?e.setDisplayed(!1):e.hide()),h.dom&&(h.dom.parentNode?h.dom.parentNode.insertBefore(e.dom,h.dom):a.appendChild(e.dom),h.destroy()),o&&o(),f.end()}),g&&r.on(g)},s.animate({duration:t.duration?2*Math.max(t.duration,500):1e3,listeners:{beforeanimate:i}}),s},slideOut:function(e,t){return this.slideIn(e,t,!0)},swallowEvent:function(e,t){var n,i,r=function(e){e.stopPropagation(),t&&e.preventDefault()};if(Ext.isArray(e)){for(i=e.length,n=0;n<i;n++)this.on(e[n],r);return this}return this.on(e,r),this},switchOff:function(e){var t,n=this.dom;return e=Ext.applyIf(e||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),t=function(){var t,i=Ext.fly(n,"_anim"),r=this,o=i.getSize(),a=i.getXY();i.clearOpacity(),i.clip(),t=i.getPositioning(),new Ext.fx.Animator({target:n,duration:e.duration,easing:e.easing,keyframes:{33:{opacity:.3},66:{height:1,y:a[1]+o.height/2},100:{width:1,x:a[0]+o.width/2}}}).on("afteranimate",function(){var i=Ext.fly(n,"_anim");e.useDisplay?i.setDisplayed(!1):i.hide(),i.clearOpacity(),i.setPositioning(t),i.setSize(o),r.end()})},this.animate({duration:2*Math.max(e.duration,500),listeners:{beforeanimate:{fn:t}},callback:e.callback,scope:e.scope}),this},syncContent:function(e){var t,n,i,r,o,a,s,l=(e=Ext.getDom(e)).childNodes,d=l.length,c=this.dom,u=c.childNodes,h=u.length,f=c._extData;if(Ext.isIE9m&&c.mergeAttributes)c.mergeAttributes(e,!0),c.src=e.src;else for(a=(o=e.attributes).length,t=0;t<a;t++)"id"!==(s=o[t].name)&&c.setAttribute(s,o[t].value);if(f&&(f.isSynchronized=!1),d===h)for(t=0;t<d;t++){if(i=l[t],n=u[t],(r=i.nodeType)!==n.nodeType||1===r&&i.tagName!==n.tagName)return void(c.innerHTML=e.innerHTML);3===r?n.data=i.data:(i.id&&n.id!==i.id&&(n.id=i.id),n.style.cssText=i.style.cssText,n.className=i.className,Ext.fly(n,"_syncContent").syncContent(i))}else c.innerHTML=e.innerHTML},toggle:function(e){return this.setVisible(!this.isVisible(),this.anim(e)),this},unmask:function(){var e,t=this.getData(),i=t.maskEl;i&&((e=i.dom.style).clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),i&&(i.destroy(),delete t.maskEl),this.removeCls([g,p])),this.restoreTabbableState(this.dom===n.body)},unclip:function(){var e,t=this,n=t.getData();return n.isClipped&&(n.isClipped=!1,(e=n.originalClip).o&&t.setStyle("overflow",e.o),e.x&&t.setStyle("overflow-x",e.x),e.y&&t.setStyle("overflow-y",e.y)),t},translate:function(e,t,n){Ext.supports.CssTransforms&&!Ext.isIE9m?this.callParent(arguments):(null!=e&&(this.dom.style.left=e+"px"),null!=t&&(this.dom.style.top=t+"px"))},unselectable:function(){return Ext.isOpera&&(this.dom.unselectable="on"),this.removeCls(e.selectableCls),this.addCls(e.unselectableCls),this},privates:{findTabbableElements:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this.dom,f=Ext.Element.tabbableSavedCounterAttribute,g=[],p=0;if(!h)return g;if(e&&(t=e.skipSelf,n=e.skipChildren,i=e.excludeRoot,r=e.includeSaved,o=e.includeHidden),(i=i&&Ext.getDom(i))&&i.contains(h))return g;if(!t&&(r&&h.hasAttribute(f)||this.isTabbable(o))&&(g[p++]=h),n)return g;if(!(c=(a=h.querySelectorAll(Ext.Element.tabbableSelector)).length))return g;for(l=new Ext.dom.Fly,d=0;d<c;d++)u=+(s=a[d]).getAttribute("tabIndex"),!(r&&s.hasAttribute(f)||!(u<0)&&l.attach(s).isTabbable(o))||i&&(i===s||i.contains(s))||(g[p++]=s);return g},saveTabbableState:function(e){var t,n,i,r,o,a=Ext.Element.tabbableSavedCounterAttribute,s=Ext.Element.tabbableSavedValueAttribute;for(e&&null!=e.includeSaved||((e=Ext.Object.chain(e||null)).includeSaved=!0),r=0,o=(n=this.findTabbableElements(e)).length;r<o;r++)(t=+(i=n[r]).getAttribute(a))>0?i.setAttribute(a,++t):(i.hasAttribute("tabIndex")?i.setAttribute(s,i.getAttribute("tabIndex")):i.setAttribute(s,"none"),i.setAttribute("tabIndex","-1"),i.setAttribute(a,"1"));return n},restoreTabbableState:function(e,t){var n,i,r,o,a,s=this.dom,l=Ext.Element.tabbableSavedCounterAttribute,d=Ext.Element.tabbableSavedValueAttribute,c=[];if(!s)return this;for(t||(c=Ext.Array.from(s.querySelectorAll("["+l+"]"))),e||c.unshift(s),o=0,a=c.length;o<a;o++)(r=c[o]).hasAttribute(l)&&r.hasAttribute(d)&&((i=+r.getAttribute(l))>1?r.setAttribute(l,--i):("none"===(n=r.getAttribute(d))?r.removeAttribute("tabIndex"):r.setAttribute("tabIndex",n),r.removeAttribute(d),r.removeAttribute(l)));return c}},deprecated:{"4.0":{methods:{pause:function(e){return Ext.fx.Manager.setFxDefaults(this.id,{delay:e}),this},scale:function(e,t,n){return this.animate(Ext.apply({},n,{width:e,height:t})),this},shift:function(e){return this.animate(e),this}}},4.2:{methods:{moveTo:function(e,t,n){return this.setXY([e,t],n)},setBounds:function(e,t,n,i,r){return this.setBox({x:e,y:t,width:n,height:i},r)},setLeftTop:function(t,n){var i=this,r=i.dom.style;return r.left=e.addUnits(t),r.top=e.addUnits(n),(i.shadow||i.shim)&&i.syncUnderlays(),i},setLocation:function(e,t,n){return this.setXY([e,t],n)}}},"5.0":{methods:{getAttributeNS:function(e,t){return this.getAttribute(t,e)},getCenterXY:function(){return this.getAlignToXY(n,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle("height"))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle("width"))||0},getStyleSize:function(){var t,i,r,o=this.dom;return o===n||o===n.body?{width:e.getViewportWidth(),height:e.getViewportHeight()}:((t=this.getStyle(["height","width"],!0)).width&&"auto"!==t.width&&(i=parseFloat(t.width)),t.height&&"auto"!==t.height&&(r=parseFloat(t.height)),{width:i||this.getWidth(!0),height:r||this.getHeight(!0)})},isBorderBox:function(){return!0},isDisplayed:function(){return!this.isStyle("display","none")},focusable:"isFocusable"}}}}}(),function(){var e,t,n,i,r,o,a,s=Ext.dom.Element,l=s.prototype,d=!Ext.isIE8,c=document,u=c.defaultView,h=/alpha\(opacity=(.*)\)/i,f=/^\s+|\s+$/g,g=l.styleHooks,p=Ext.supports;if(l._init(s),delete l._init,Ext.plainTableCls=Ext.baseCSSPrefix+"table-plain",Ext.plainListCls=Ext.baseCSSPrefix+"list-plain",Ext.CompositeElementLite&&Ext.CompositeElementLite.importElementMethods(),!p.Opacity&&Ext.isIE&&Ext.apply(g.opacity,{get:function(e){var t,n,i=e.style.filter;return i.match&&(t=i.match(h))&&(n=parseFloat(t[1]),!isNaN(n))?n?n/100:0:1},set:function(e,t){var n=e.style,i=n.filter.replace(h,"").replace(f,"");n.zoom=1,"number"==typeof t&&t>=0&&t<1?(t*=100,n.filter=i+(i.length?" ":"")+"alpha(opacity="+t+")"):n.filter=i}}),!p.matchesSelector){var m,x=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,E=/\-/g,v={};l.matcherCache=v,l.is=function(e){if(!e)return!0;var t,n,i,r,o,a,s,l=this.dom;if(1!==l.nodeType)return!1;if(!(i=Ext.isFunction(e)?e:v[e])){if(!(n=e.match(x)))return(r=l.parentNode)||(o=!0,r=m||(m=c.createDocumentFragment()),m.appendChild(l)),a=-1!==Ext.Array.indexOf(Ext.fly(r,"_is").query(e),l),o&&m.removeChild(l),a;s=n[1],t=n[2],v[e]=i=t?function(e,t){var n=new RegExp("(?:^|\\s+)"+t.replace(E,"\\-")+"(?:\\s+|$)");return e&&"*"!==e?(e=e.toUpperCase(),function(t){return t.tagName===e&&n.test(t.className)}):function(e){return n.test(e.className)}}(s,t):function(e){return e=e.toUpperCase(),function(t){return t.tagName===e}}(s)}return i(l)}}if(u&&u.getComputedStyle||(l.getStyle=function(e,t){var n,i,r,o,a,l,d=this.dom,c="string"!=typeof e,u=e,h=u,f=1,g=t,p=this.styleHooks;if(c&&(i={},u=h[0],l=0,!(f=h.length)))return i;if(!d||d.documentElement)return i||"";n=d.style,t?a=n:(a=d.currentStyle)||(g=!0,a=n);do{if((r=p[u])||(p[u]=r={name:s.normalize(u)}),o=r.get?r.get(d,this,g,a):a[r.name],!c)return o;i[u]=o,u=h[++l]}while(l<f);return i}),Ext.isIE8){for(a=function(e,t,n,i){return"none"===i[this.styleName]?"0px":i[this.name]},i=(n=["Top","Right","Bottom","Left"]).length;i--;)o="border"+(r=n[i])+"Width",g["border-"+r.toLowerCase()+"-width"]=g[o]={name:o,styleName:"border"+r+"Style",get:a};var y=Ext.baseCSSPrefix+"sync-repaint";l.syncRepaint=function(){this.addCls(y),this.getWidth(),this.removeCls(y)}}Ext.isIE10m&&Ext.override(s,{focus:function(e,t){var n;if(t=t||this.dom,Number(e))Ext.defer(this.focus,e,this,[null,t]);else{Ext.GlobalEvents.fireEvent("beforefocus",t),!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagname||(Ext.synchronouslyFocusing=document.activeElement);try{t.focus()}catch(e){n=e}Ext.synchronouslyFocusing&&document.activeElement!==t&&!n&&t.focus(),Ext.synchronouslyFocusing=null}return this}}),Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,useShims:!1,getElementById:function(e){var t,n=c.getElementById(e);return!n&&(t=Ext.detachedBodyEl)&&(n=t.dom.querySelector(Ext.makeIdSelector(e))),n},addBehaviors:function(e){if(Ext.isReady){var t,n,i,r={};for(n in e)(t=n.split("@"))[1]&&(r[i=t[0]]||(r[i]=Ext.fly(document).select(i,!0)),r[i].on(t[1],e[n]));r=null}else Ext.onInternalReady(function(){Ext.addBehaviors(e)})}}),Ext.isIE9m?(Ext.getElementById=function(e){var t,n=c.getElementById(e);return!n&&(t=Ext.detachedBodyEl)&&(n=t.dom.all[e]),n},l.getById=function(e,t){var n,i,r=this.dom,o=null;return r&&(i=d&&c.getElementById(e)||r.all[e])&&(t?o=i:((n=Ext.cache[e])&&(n.skipGarbageCollection||!Ext.isGarbage(n.dom)?o=n:(Ext.raise("Stale Element with id '"+i.id+"' found in Element cache. Make sure to clean up Element instances using destroy()"),n.destroy())),o=o||new Ext.Element(i))),o}):c.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(e){return c.getElementById(e)},l.getById=function(e,t){var n=c.getElementById(e);return t?n:n?Ext.get(n):null}),!Ext.isIE||Ext.isIE9p&&c.documentMode>=9||(l.getAttribute=function(e,t){var n,i=this.dom;return t?"undefined"!==(n=typeof i[t+":"+e])&&"unknown"!==n&&i[t+":"+e]||null:("for"===e&&(e="htmlFor"),i[e]||null)}),Ext.onInternalReady(function(){var n,i,r,o,a=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,d=[],u=l.setWidth,h=l.setHeight,f=l.setSize,m=/^\d+(?:\.\d*)?px$/i;function x(e,t,n,i){var r=i[this.name]||"";return a.test(r)?"transparent":r}if(p.FixedTableWidthBug&&(g.width={name:"width",set:function(e,t,n){var i=e.style,r=n._needsTableWidthFix,o=i.display;r&&(i.display="none"),i.width=t,r&&(e.scrollWidth,i.display=o)}},l.setWidth=function(e,t){var n=this.dom,i=n.style,r=this._needsTableWidthFix,o=i.display;return r&&!t&&(i.display="none"),u.call(this,e,t),r&&!t&&(n.scrollWidth,i.display=o),this},l.setSize=function(e,t,n){var i=this.dom,r=i.style,o=this._needsTableWidthFix,a=r.display;return o&&!n&&(r.display="none"),f.call(this,e,t,n),o&&!n&&(i.scrollWidth,r.display=a),this}),Ext.isIE8&&(g.height={name:"height",set:function(e,t,n){var i,r,o=n.component;o&&o._syncFrameHeight&&n===o.el&&(r=o.frameBody.dom.style,m.test(t)?(i=o.getFrameInfo())&&(r.height=parseInt(t,10)-i.height+"px"):t&&"auto"!==t||(r.height="")),e.style.height=t}},l.setHeight=function(e,t){var n,i,r=this.component;return r&&r._syncFrameHeight&&this===r.el&&(i=r.frameBody.dom.style,e&&"auto"!==e?(n=r.getFrameInfo())&&(i.height=e-n.height+"px"):i.height=""),h.call(this,e,t)},l.setSize=function(e,t,n){var i,r,o=this.component;return o&&o._syncFrameHeight&&this===o.el&&(r=o.frameBody.dom.style,t&&"auto"!==t?(i=o.getFrameInfo())&&(r.height=t-i.height+"px"):r.height=""),f.call(this,e,t,n)}),Ext.getDoc().on("selectstart",function(e,t){var n=s.selectableCls,i=s.unselectableCls,r=t&&t.tagName;if("input"!==(r=r&&r.toLowerCase())&&"textarea"!==r)for(;t&&1===t.nodeType&&t!==c.documentElement;){var o=Ext.fly(t);if(o.hasCls(n))return;if(o.hasCls(i))return void e.stopEvent();t=t.parentNode}}),p.RightMargin||(g.marginRight=g["margin-right"]={name:"marginRight",get:p.DisplayChangeInputSelectionBug||p.DisplayChangeTextAreaSelectionBug?function(e,t,n,i){var r,o,a,l,d,c,u,h,f,g,m=i.marginRight;return"0px"!==m&&(r=e.style,l=e,f=p.DisplayChangeInputSelectionBug,g=p.DisplayChangeTextAreaSelectionBug,o=(f||g)&&(c=(d=s.getActiveElement())&&d.tagName,(g&&"TEXTAREA"===c||f&&"INPUT"===c&&"text"===d.type)&&Ext.fly(l).isAncestor(d)&&(u=d.selectionStart,h=d.selectionEnd,Ext.isNumber(u)&&Ext.isNumber(h)))?function(e,t,n){return function(){e.selectionStart=t,e.selectionEnd=n}}(d,u,h):Ext.emptyFn,a=r.display,r.display="inline-block",m=(n?i:e.ownerDocument.defaultView.getComputedStyle(e,"")).marginRight,r.display=a,o()),m}:function(e,t,n,i){var r,o,a=i.marginRight;return"0px"!==a&&(o=(r=e.style).display,r.display="inline-block",a=(n?i:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight,r.display=o),a}}),!p.TransparentColor)for(i=(n=["background-color","border-color","color","outline-color"]).length;i--;)r=n[i],o=s.normalize(r),g[r]=g[o]={name:o,get:x};l.verticalStyleHooks90=e=Ext.Object.chain(g),l.verticalStyleHooks270=t=Ext.Object.chain(g),e.width=g.height||{name:"height"},e.height=g.width||{name:"width"},e["margin-top"]={name:"marginLeft"},e["margin-right"]={name:"marginTop"},e["margin-bottom"]={name:"marginRight"},e["margin-left"]={name:"marginBottom"},e["padding-top"]={name:"paddingLeft"},e["padding-right"]={name:"paddingTop"},e["padding-bottom"]={name:"paddingRight"},e["padding-left"]={name:"paddingBottom"},e["border-top"]={name:"borderLeft"},e["border-right"]={name:"borderTop"},e["border-bottom"]={name:"borderRight"},e["border-left"]={name:"borderBottom"},t.width=g.height||{name:"height"},t.height=g.width||{name:"width"},t["margin-top"]={name:"marginRight"},t["margin-right"]={name:"marginBottom"},t["margin-bottom"]={name:"marginLeft"},t["margin-left"]={name:"marginTop"},t["padding-top"]={name:"paddingRight"},t["padding-right"]={name:"paddingBottom"},t["padding-bottom"]={name:"paddingLeft"},t["padding-left"]={name:"paddingTop"},t["border-top"]={name:"borderRight"},t["border-right"]={name:"borderBottom"},t["border-bottom"]={name:"borderLeft"},t["border-left"]={name:"borderTop"},Ext.scopeCss||d.push(Ext.baseCSSPrefix+"body"),p.Touch&&d.push(Ext.baseCSSPrefix+"touch"),Ext.isIE&&Ext.isIE9m&&(d.push(Ext.baseCSSPrefix+"ie",Ext.baseCSSPrefix+"ie9m"),d.push(Ext.baseCSSPrefix+"ie8p"),Ext.isIE8?d.push(Ext.baseCSSPrefix+"ie8"):d.push(Ext.baseCSSPrefix+"ie9",Ext.baseCSSPrefix+"ie9p"),Ext.isIE8m&&d.push(Ext.baseCSSPrefix+"ie8m")),Ext.isIE10&&d.push(Ext.baseCSSPrefix+"ie10"),Ext.isIE10p&&d.push(Ext.baseCSSPrefix+"ie10p"),Ext.isIE11&&d.push(Ext.baseCSSPrefix+"ie11"),Ext.isEdge&&d.push(Ext.baseCSSPrefix+"edge"),Ext.isGecko&&d.push(Ext.baseCSSPrefix+"gecko"),Ext.isOpera&&d.push(Ext.baseCSSPrefix+"opera"),Ext.isOpera12m&&d.push(Ext.baseCSSPrefix+"opera12m"),Ext.isWebKit&&d.push(Ext.baseCSSPrefix+"webkit"),Ext.isSafari&&d.push(Ext.baseCSSPrefix+"safari"),Ext.isChrome&&d.push(Ext.baseCSSPrefix+"chrome"),Ext.isMac&&d.push(Ext.baseCSSPrefix+"mac"),Ext.isLinux&&d.push(Ext.baseCSSPrefix+"linux"),p.CSS3BorderRadius||d.push(Ext.baseCSSPrefix+"nbr"),p.CSS3LinearGradient||d.push(Ext.baseCSSPrefix+"nlg"),p.Touch&&d.push(Ext.baseCSSPrefix+"touch"),Ext.os.deviceType&&d.push(Ext.baseCSSPrefix+Ext.os.deviceType.toLowerCase()),Ext.getBody().addCls(d)},null,{priority:1500})}),Ext.define("Ext.GlobalEvents",{extend:"Ext.mixin.Observable",alternateClassName:"Ext.globalEvents",requires:["Ext.dom.Element"],observableType:"global",singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var e=this;e.callParent(),Ext.onInternalReady(function(){e.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer}),Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(e){this.fireEvent("mousedown",e)},fireResize:function(){var e=this,t=Ext.Element,n=t.getViewportWidth(),i=t.getViewportHeight();e.curHeight===i&&e.curWidth===n||(e.curHeight=i,e.curWidth=n,e.fireEvent("resize",n,i))}},function(e){Ext.on=function(){return e.addListener.apply(e,arguments)},Ext.un=function(){return e.removeListener.apply(e,arguments)},Ext.fireEvent=function(){return e.fireEvent.apply(e,arguments)}}),Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",deprecated:{5:{methods:{addListener:function(e,t,n,i,r,o,a){var s,l;if("ready"===e)l=t;else if("string"!=typeof e)for(s in e)"ready"===s&&(l=e[s]);l&&(Ext.log.warn("Ext.on('ready', fn) is deprecated.  Please use Ext.onReady(fn) instead."),Ext.onReady(l)),this.callParent([e,t,n,i,r,o,a])}}}}}),Ext.define("Ext.Glyph",{isGlyph:!0,constructor:function(e){e&&this.setGlyph(e)},setGlyph:function(e){var t;return this.glyphConfig=e,"string"==typeof e?(t=e.split("@"),!isNaN(e=isNaN(t[0])?parseInt("0"+t[0],16):parseInt(t[0],10))&&e||(e=t[0].charCodeAt(0)),this.fontFamily=t[1]||Ext._glyphFontFamily):this.fontFamily=Ext._glyphFontFamily,this.codepoint=e,this.character=Ext.String.fromCodePoint(this.codepoint),this},getStyle:function(){return{"font-family":this.fontFamily}},isEqual:function(e){return e&&e.isGlyph&&e.codepoint===this.codepoint&&e.fontFamily===this.fontFamily},statics:{fly:function(e){return e.isGlyph?e:(instance||(instance=new Ext.Glyph)).setGlyph(e)}}}),Ext.USE_NATIVE_JSON=!1,Ext.JSON=new function(){var me=this,hasNative=window.JSON&&"[object JSON]"===JSON.toString(),useHasOwn=!!{}.hasOwnProperty,pad=function(e){return e<10?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){return null===e||void 0===e?"null":Ext.isDate(e)?me.encodeDate(e):Ext.isString(e)?Ext.isMSDate(e)?me.encodeMSDate(e):me.encodeString(e):"number"==typeof e?isFinite(e)?String(e):"null":Ext.isBoolean(e)?String(e):e.toJSON?e.toJSON():Ext.isArray(e)?encodeArray(e,t):Ext.isObject(e)?encodeObject(e,t):"function"==typeof e?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(e){return'"'+e+'"'},encodeArrayPretty=function(e,t){var n,i=e.length,r=t+"   ",o=","+r,a=["[",r];for(n=0;n<i;n+=1)a.push(me.encodeValue(e[n],r),o);return a[a.length-1]=t+"]",a.join("")},encodeObjectPretty=function(e,t){var n,i,r=t+"   ",o=","+r,a=["{",r];for(n in e)if(i=e[n],!useHasOwn||e.hasOwnProperty(n)){if("function"==typeof i||void 0===i)continue;a.push(me.encodeValue(n)+": "+me.encodeValue(i,r),o)}return a[a.length-1]=t+"}",a.join("")},encodeArray=function(e,t){if(t)return encodeArrayPretty(e,t);var n,i=["[",""],r=e.length;for(n=0;n<r;n+=1)i.push(me.encodeValue(e[n]),",");return i[i.length-1]="]",i.join("")},encodeObject=function(e,t){if(t)return encodeObjectPretty(e,t);var n,i,r=["{",""];for(n in e)if(i=e[n],!useHasOwn||e.hasOwnProperty(n)){if("function"==typeof i||void 0===i)continue;r.push(me.encodeValue(n),":",me.encodeValue(i),",")}return r[r.length-1]="}",r.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return hasNative&&Ext.USE_NATIVE_JSON?JSON.stringify(e):me.encodeValue(e)},me.decode=function(e,t){try{return hasNative&&Ext.USE_NATIVE_JSON?JSON.parse(e):doDecode(e)}catch(n){if(t)return null;Ext.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}},me.encodeMSDate=encodeMSDate,Ext.util||(Ext.util={}),Ext.util.JSON=me,Ext.encode=me.encode,Ext.decode=me.decode},Ext.define("Ext.mixin.Inheritable",{extend:"Ext.Mixin",mixinConfig:{id:"inheritable"},getInherited:function(e){var t,n,i,r,o=this,a=e&&o.inheritedStateInner||o.inheritedState,s=o.getRefOwner(),l=o.isContainer;return a&&!a.invalid||(t=o.getRefOwner(),r=o.ownerLayout,s&&(i=!r||r===s.layout),o.inheritedState=a=Ext.Object.chain(t?t.getInherited(i):Ext.rootInheritedState),l&&(o.inheritedStateInner=n=Ext.Object.chain(a)),o.initInheritedState(a,n),a=l&&e?o.inheritedStateInner:o.inheritedState),a},getInheritedConfig:function(e,t){var n,i,r=this.inheritedState;return r&&!r.invalid||(r=this.getInherited()),i=r[e],t&&r.hasOwnProperty(e)&&(n=i,delete r[e],i=r[e],r[e]=n),i},resolveListenerScope:function(e,t){var n,i=this,r="boolean"==typeof t,o=Ext._namedScopes[e];return o?o.isController?n=i.getInheritedConfig("controller",r?t:!o.isSelf):o.isSelf?n=i.getInheritedConfig("defaultListenerScope",r&&t)||i:o.isThis&&(n=i):n=i.getInheritedConfig("defaultListenerScope",!r||t)||e||i,n||null},resolveSatelliteListenerScope:function(e,t){var n,i=Ext._namedScopes[t];return i?i.isController?n=this.getInheritedConfig("controller"):i.isSelf?n=this.getInheritedConfig("defaultListenerScope")||e:i.isThis&&(n=e):n=this.getInheritedConfig("defaultListenerScope")||t||this,n||null},lookupReferenceHolder:function(e){return this.getInheritedConfig("referenceHolder",!1!==e)||null},getRefOwner:function(){var e=this;return e.ownerCt||e.parent||e.$initParent||e.ownerCmp||e.floatParent},invalidateInheritedState:function(){var e=this.inheritedState;e&&(e.invalid=!0,delete this.inheritedState)},privates:{fixReference:function(){var e;this.getReference()&&(e=this.lookupReferenceHolder())&&e.attachReference(this)},onInheritedAdd:function(e,t){this.inheritedState&&t&&this.invalidateInheritedState(),this.getReference()&&Ext.ComponentManager.markReferencesDirty()},onInheritedRemove:function(e){var t,n=this;n.getReference()&&(t=n.lookupReferenceHolder())&&t.clearReference(n),n.inheritedState&&!e&&n.invalidateInheritedState()}}},function(){Ext.rootInheritedState={}}),Ext.define("Ext.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},reference:null,session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(e){var t=this,n=t.getReference(),i=t.getController(),r=t.getConfig("viewModel",!0),o=t.getConfig("session",!0),a=t.getDefaultListenerScope();i&&(e.controller=i),a?e.defaultListenerScope=t:i&&(e.defaultListenerScope=i),r&&(r.isViewModel||(r=t),e.viewModel=r),o&&(o.isSession||(o=t),e.session=o),n&&(t.referenceKey=(e.referencePath||"")+n,t.viewModelKey=(e.viewModelPath||"")+n)},lookupController:function(e){return this.getInheritedConfig("controller",e)||null},lookupSession:function(e){var t=e?null:this.getSession();return t||(t=this.getInheritedConfig("session",e))&&!t.isSession&&(t=t.getInherited().session=t.getSession()),t||null},lookupViewModel:function(e){var t=e?null:this.getViewModel();return t||(t=this.getInheritedConfig("viewModel",e))&&!t.isViewModel&&(t=t.getInherited().viewModel=t.getViewModel()),t||null},publishState:function(e,t){var n,i,r,o,a=this,s=a.publishedState,l=a.getBind(),d=l&&e&&l[e],c=0;if(!d||d.syncing||d.isReadOnly()||(0!==d.calls||null!=t&&t!==a.getInitialConfig()[e])&&d.setValue(t),(i=a.getPublishes())&&(r=a.lookupViewModel())&&(o=a.viewModelKey)){if(e&&s){if(!i[e])return;if(!(t&&t.constructor===Object||t instanceof Array)&&s[e]===t)return;o+=".",o+=e}else{for(n in s=s||(a.publishedState={}),i)++c,s[n]=n===e?t:a[n];if(!c)return;t=s}r.set(o,t)}},privates:{addBindableUpdater:function(e){var t,n=this.self.$config.configs[e];n&&!this.hasOwnProperty(t=n.names.update)&&(this[t]=n.bindableUpdater||(n.root.bindableUpdater=this.makeBindableUpdater(n)))},applyBind:function(e,t){if(!e)return e;var n,i,r,o,a=this,s=a.lookupViewModel(),l=a.getTwoWayBindable(),d=a._getBindTemplateScope;for(i in a.$hasBinds=!0,t&&"string"!=typeof t||(t={}),s||Ext.raise("Cannot use bind config without a viewModel"),Ext.isString(e)&&(a.defaultBindProperty||Ext.raise(a.$className+" has no defaultBindProperty - Please specify a bind object"),n=e,(e={})[a.defaultBindProperty]=n),e)r=e[i],(n=t[i])&&"string"!=typeof n&&(n.destroy(),n=null,o=!0),r&&((n=s.bind(r,a.onBindNotify,a))._config=Ext.Config.get(i),n.getTemplateScope=d,a[n._config.names.set]||Ext.raise("Cannot bind "+i+" on "+a.$className+" - missing a "+n._config.names.set+" method.")),o?delete t[i]:t[i]=n,l&&l[i]&&(o?a.clearBindableUpdater(i):n.isReadOnly()||a.addBindableUpdater(i));return t},applyController:function(e){return e&&(e=Ext.Factory.controller(e)).setView(this),e},applyPublishes:function(e){if(this.lookupViewModel())for(var t in e)this.addBindableUpdater(t);return e},applyReference:function(e){var t=this.validRefRe||Ext.validIdRe;return e&&!t.test(e)&&Ext.raise('Invalid reference "'+e+'" for '+this.getId()+" - not a valid identifier"),e},applySession:function(e){if(!e)return null;if(!e.isSession){var t=this.lookupSession(!0),n=!0===e?{}:e;e=t?t.spawn(n):new Ext.data.Session(n)}return e},applyViewModel:function(e){var t;return e?(e.isViewModel||((t={parent:this.lookupViewModel(!0),view:this}).session=this.getSession(),t.parent||(t.session=this.lookupSession()),e&&(e.constructor===Object?Ext.apply(t,e):"string"==typeof e&&(t.type=e)),e=Ext.Factory.viewModel(t)),e):null},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},clearBindableUpdater:function(e){var t,n=this.self.$config.configs[e];n&&this.hasOwnProperty(t=n.names.update)&&this[t].$bindableUpdater&&delete this[t]},destroyBindable:function(){var e=this,t=e.getConfig("viewModel",!0),n=e.getConfig("session",!0),i=e.getController();t&&t.isViewModel&&(t.destroy(),e.setViewModel(null)),n&&n.isSession&&(n.getAutoDestroy()&&n.destroy(),e.setSession(null)),i&&(e.setController(null),i.destroy())},initBindable:function(){this.initBindable=Ext.emptyFn,this.getBind(),this.getPublishes()},makeBindableUpdater:function(e){var t=e.names.update,n=function(n,i){var r=this.self.prototype[t];r&&r.call(this,n,i),this.publishState(e.name,n)};return n.$bindableUpdater=!0,n},isSyncing:function(e){var t,n=this.getBind(),i=!1;return n&&(t=n[e])&&(i=t.syncing>0),i},onBindNotify:function(e,t,n){n.syncing=n.syncing+1||1,this[n._config.names.set](e),--n.syncing},removeBindings:function(){var e,t,n;if(this.$hasBinds&&(e=this.getBind())&&"string"!=typeof e)for(t in e)(n=e[t]).destroy(),n._config=n.getTemplateScope=null;this.setBind(null)},updateSession:function(e){var t=this.getInherited();e?t.session=e:delete t.session},updateViewModel:function(e){var t=this.getInherited(),n=this.getController();e?(t.viewModel=e,e.setView(this),n&&n.initViewModel(e)):delete t.viewModel}}}),Ext.define("Ext.mixin.ComponentDelegation",{extend:"Ext.Mixin",mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(e,t,n,i,r,o,a){var s,l=this;e=Ext.canonicalEventName(e),(r=r||i.order)&&(i&&i.priority||((i=i?Ext.Object.chain(i):{}).priority=l.$orderToPriority[r])),i.target&&Ext.raise("Cannot add '"+e+"' listener to component: '"+l.id+"' - 'delegate' and 'target' event options are incompatible."),((s=l.$delegatedEvents||(l.$delegatedEvents={}))[e]||(s[e]=new Ext.util.Event(l,e))).addListener(t,n,i,o,a)&&l.$hasDelegatedListeners._incr_(e)},clearDelegatedListeners:function(){var e,t,n,i=this.$delegatedEvents;if(i)for(e in i)n=(t=i[e]).listeners.length,t.clearListeners(),this.$hasDelegatedListeners._decr_(e,n),delete i[e]},doFireDelegatedEvent:function(e,t){var n,i,r,o=!0;if(this.$hasDelegatedListeners[e])for(n=this.getRefOwner();n&&(!(i=n.$delegatedEvents)||!(r=i[e])||!1!==(o=r.fireDelegated(this,t)));)n=n.getRefOwner();return o},removeDelegatedListener:function(e,t,n){var i,r=this.$delegatedEvents;r&&(i=r[e])&&i.removeListener(t,n)&&(this.$hasDelegatedListeners._decr_(e),0===i.listeners.length&&delete r[e])},destroyComponentDelegation:function(){this.clearPropertiesOnDestroy&&(this.$delegatedEvents=null)}},onClassMixedIn:function(e){function t(){}e.prototype.HasListeners=e.HasListeners=t,t.prototype=e.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners}},function(e){function t(){}e.HasDelegatedListeners=t,t.prototype=e.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners}),Ext.define("Ext.mixin.Pluggable",function(e){var t=[];return{config:{plugins:null},addPlugin:function(e){var t=this.getPlugins();return t?((e=this.createPlugin(e)).init(this),t.push(e)):this.setPlugins(e),e},destroyPlugin:function(e){return this.removePlugin(e,!0)},findPlugin:function(e){var t,n,i,r=this.getPlugins(),o=r&&r.length;for(t=0;t<o&&!i;t++)(n=r[t]).type!==e&&n.ptype!==e||(i=n);return i||null},getPlugin:function(e){var t,n,i,r=this.getPlugins(),o=r&&r.length;for(t=0;t<o&&!i;t++)(n=r[t]).id!==e&&n.pluginId!==e||(i=n);return i||null},removePlugin:function(e,t){for(var n,i=this.getPlugins(),r=i&&i.length||0;r-- >0;){if((n=i[r])===e||n.id===e){i.splice(r,1),t?n.destroy&&n.destroy():n.detachCmp&&(n.detachCmp(),n.setCmp&&n.setCmp(null));break}n=null}return n},privates:{statics:{idSeed:0},activatePlugin:function(e){var n,i,r=this.initialConfig,o=r&&r.plugins,a=null;if(o)for(n=(o=t.concat(o)).length;n-- >0;)if((i=o[n])===e||i.type===e){this.initialConfig=r=Ext.apply({},r),r.plugins=o,o[n]=a=this.createPlugin(i);break}return a},applyPlugins:function(e,n){var i,r,o,a=n&&n.length||0;for(i=(e=e?t.concat(e):null)&&e.length||0,r=0;r<a;++r)n[r].$dead=!0;for(r=0;r<i;++r)e[r]=this.createPlugin(e[r]);for(r=0;r<i;++r)(o=e[r]).$dead?delete o.$dead:o.init(this);for(r=0;r<a;++r)(o=n[r]).$dead&&(delete o.$dead,Ext.destroy(o));return e},createPlugin:function(t){"string"==typeof t&&(t={type:t});var n=t;return t.isInstance||(t.cmp=this,n=Ext.factory(t,null,null,"plugin"),delete t.cmp),n.id||(n.id=++e.idSeed),n.setCmp&&n.setCmp(this),n}}}}),Ext.define("Ext.Widget",{extend:"Ext.Evented",xtype:"widget",alternateClassName:"Ext.Gadget",requires:["Ext.dom.Element"],mixins:["Ext.mixin.Inheritable","Ext.mixin.Bindable","Ext.mixin.ComponentDelegation","Ext.mixin.Pluggable"],isWidget:!0,element:{reference:"element"},observableType:"component",cachedConfig:{baseCls:!0,cls:null,style:null,border:null,touchAction:null},config:{ui:null,userCls:null},eventedConfig:{width:null,height:null,hidden:null},template:[],classCls:null,classClsRoot:!0,clearPropertiesOnDestroy:"async",noBorderCls:Ext.baseCSSPrefix+"noborder-trbl",constructor:function(e){var t,n=this;n.initId(e),n.initElement(),n.mixins.observable.constructor.call(n,e),Ext.ComponentManager.register(n),(t=n.getController())&&t.init(n)},afterCachedConfig:function(){var e,t,n,i,r=this.self.prototype,o=this.referenceList,a=this.renderElement;for(r.renderTemplate=e=document.createDocumentFragment(),e.appendChild(a.clone(!0,!0)),t=0,n=(i=e.querySelectorAll("[id]")).length;t<n;t++)i[t].removeAttribute("id");for(t=0,n=o.length;t<n;t++)this[o[t]].dom.removeAttribute("reference")},addCls:function(e){this.el.addCls(e)},applyBaseCls:function(e){var t=Ext.baseCSSPrefix,n=this.xtype;return!0===e?e=this.classCls||t+n:e||(e=t+n),e},applyCls:function(e){return"string"==typeof e&&(e=[e]),e&&e.length||(e=null),e},applyHidden:function(e){return!!e},applyTouchAction:function(e,t){return null!=t&&(e=Ext.merge({},t,e)),e},applyWidth:function(e){return this.filterLengthValue(e)},applyHeight:function(e){return this.filterLengthValue(e)},updateBorder:function(e){e=e||null===e,this.el.toggleCls(this.noBorderCls,!e)},clearListeners:function(){this.mixins.observable.clearListeners.call(this),this.mixins.componentDelegation.clearDelegatedListeners.call(this)},destroy:function(){var e=this;e.isDestroying=e.destroying=!0,e.doDestroy(),e.clearListeners(),e.isDestroying=e.destroying=!1,e.mixins.componentDelegation.destroyComponentDelegation.call(e),e.callParent()},doDestroy:function(){var e,t,n,i=this,r=i.referenceList;for(e=0,t=r.length;e<t;e++)n=r[e],i.hasOwnProperty(n)&&(i[n].destroy(),i[n]=null);i.destroyBindable(),Ext.ComponentManager.unregister(i)},doFireEvent:function(e,t,n){var i=this.mixins.observable.doFireEvent.call(this,e,t,n);return!1!==i&&(i=this.mixins.componentDelegation.doFireDelegatedEvent.call(this,e,t)),i},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var e=this.element;return"children"in e||(e=Ext.apply({children:this.getTemplate()},e)),e},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},getClassCls:function(){for(var e,t,n,i,r=this.self.prototype,o=r;o;){if(t=o.classCls)if(t instanceof Array)for(n=0,i=t.length;n<i;n++)(e||(e=[])).push(t[n]);else(e||(e=[])).push(t);if(o.classClsRoot&&o.hasOwnProperty("classClsRoot"))break;o=o.superclass}return e&&(r.classClsList=e),e},hide:function(){this.setHidden(!0)},initElement:function(){var e,t,n,i,r,o,a,s,l,d=this,c=d.self.prototype,u=d.getId(),h=d.referenceList=d.referenceList=[],f=!0,g=!c.hasOwnProperty("renderTemplate");for(g?(f=!1,e=document.createDocumentFragment(),t=Ext.Element.create(d.processElementConfig.call(c),!0),e.appendChild(t)):t=(e=d.renderTemplate.cloneNode(!0)).firstChild,r=0,o=(i=e.querySelectorAll("[reference]")).length;r<o;r++)s=(a=i[r]).getAttribute("reference"),f&&a.removeAttribute("reference"),"element"===s?(n&&Ext.raise("Duplicate 'element' reference detected in '"+d.$className+"' template."),a.id=u,(n=d.el=d.addElementReference(s,a)).dom.setAttribute("data-componentid",u),g&&(l=d.getClassCls())&&n.addCls(l)):d.addElementReferenceOnDemand(s,a),h.push(s);n||Ext.raise("No 'element' reference found in '"+d.$className+"' template."),t===n.dom?d.renderElement=n:d.addElementReferenceOnDemand("renderElement",t)},is:function(e){return Ext.ComponentQuery.is(this,e)},isHidden:function(e){var t,n=!!this.getHidden();if(!n&&e)for(t=this.getRefOwner();t&&t!==e&&!(n=!!t.getHidden());)t=t.getRefOwner();return n},isVisible:function(e){return!this.isHidden(e)},isXType:function(e,t){return t?-1!==Ext.Array.indexOf(this.xtypes,e):!!this.xtypesMap[e]},lookupTpl:function(e){return Ext.XTemplate.getTpl(this,e)},removeCls:function(e){this.el.removeCls(e)},toggleCls:function(e,t){this.element.toggleCls(e,t)},resolveListenerScope:function(e,t){return this.mixins.inheritable.resolveListenerScope.call(this,e,t)},setSize:function(e,t){if(e&&"object"==typeof e)return this.setSize(e.width,e.height);void 0!==e&&this.setWidth(e),void 0!==t&&this.setHeight(t)},show:function(){this.setHidden(!1)},updateBaseCls:function(e,t){var n=this.element;t&&n.removeCls(t),e&&n.addCls(e),this.isConfiguring||this.syncUiCls()},updateCls:function(e,t){this.element.replaceCls(t,e)},updateHidden:function(e){var t=this.renderElement;t&&!t.destroyed&&(e?t.hide():t.show())},applyStyle:function(e,t){return t&&e===t&&Ext.isObject(t)&&(e=Ext.apply({},e)),e},updateStyle:function(e){this.element.applyStyles(e)},updateTouchAction:function(e){var t,n,i,r;for(t in e)n=this[t],i=e[t],n&&n.isElement?n.setTouchAction(i):r=!0;r&&this.el.setTouchAction(e)},updateUi:function(){this.syncUiCls()},updateWidth:function(e){this.element.setWidth(e)},updateHeight:function(e){this.element.setHeight(e)},up:function(e,t){var n=this.getRefOwner(),i="string"==typeof t,r="number"==typeof t,o=t&&t.isComponent,a=0;if(e)for(;n;n=n.getRefOwner()){if(a++,e.isComponent||e.isWidget){if(n===e)return n}else if(Ext.ComponentQuery.is(n,e))return n;if(i&&n.is(t))return;if(r&&a===t)return;if(o&&n===t)return}return n},updateLayout:Ext.emptyFn,onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return!1},privates:{addElementReferenceOnDemand:function(e,t){this._elementListeners[e]?this.addElementReference(e,t):Ext.Object.defineProperty(this,e,{get:function(){return delete this[e],this.addElementReference(e,t)},configurable:!0})},addElementReference:function(e,t){var n,i,r=this,o=r[e]=Ext.get(t),a=r._elementListeners[e];if(o.skipGarbageCollection=!0,o.component=r,a){for(n in a=Ext.clone(a))"object"==typeof(i=a[n])&&(i.scope=r);a.scope=r,o.on(a)}return o},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element),this.isDetached=!0},doAddListener:function(e,t,n,i,r,o,a){var s,l,d,c=this,u=i&&i.element,h=i&&i.delegate;if(u){for(d in-1===Ext.Array.indexOf(c.referenceList,u)&&Ext.Logger.error("Adding event listener with an invalid element reference of '"+u+"' for this component. Available values are: '"+c.referenceList.join("', '")+"'",c),(s={})[e]=t,n&&(s.scope=n),l=Ext.Element.prototype.$eventOptions,i)l[d]&&(s[d]=i[d]);c.mon(c[u],s)}else h?c.mixins.componentDelegation.addDelegatedListener.call(c,e,t,n,i,r,o,a):c.callParent([e,t,n,i,r,o,a])},doRemoveListener:function(e,t,n){this.mixins.observable.doRemoveListener.call(this,e,t,n),this.mixins.componentDelegation.removeDelegatedListener.call(this,e,t,n)},filterLengthValue:function(e){return"auto"===e||!e&&0!==e?null:e},getFocusEl:function(){return this.element},initElementListeners:function(e){var t,n,i,r,o,a=this.self.superclass._elementListeners,s=e.reference,l=e.children;if(t=this.hasOwnProperty("_elementListeners")?this._elementListeners:this._elementListeners=a?Ext.Object.chain(a):{},s&&(n=e.listeners)&&(a&&(i=a[s])&&(n=Ext.Object.chain(i),Ext.apply(n,e.listeners)),t[s]=n,e.listeners=null),l)for(o=0,r=l.length;o<r;o++)this.initElementListeners(l[o])},initId:function(e){var t=this.config,n=e&&e.id||t&&t.id;n?(this.setId(n),this.id=n):this.getId()},processElementConfig:function(){var e,t=this.self.superclass;return this.hasOwnProperty("_elementConfig")?e=this._elementConfig:(e=this._elementConfig=this.getElementConfig(),t.isWidget&&this.processElementConfig.call(t),this.initElementListeners(e)),e},reattachToBody:function(){this.isDetached=!1},addUi:function(e){var t,n,i,r=this.getUi();if(e){for(i=(e=e.split(" ")).length,r=r&&r.split(" ")||[],t=0;t<i;t++)n=e[t],-1===r.indexOf(n)&&r.push(n);this.setUi(r.join(" "))}},removeUi:function(e){var t,n,i,r,o=this.getUi();if(e){for(r=(e=e.split(" ")).length,o=o&&o.split(" ")||[],t=0;t<r;t++)n=e[t],-1!==(i=o.indexOf(n))&&o.splice(i,1);this.setUi(o.join(" "))}},syncUiCls:function(){var e,t,n,i,r,o=this,a=o.getUi(),s=o.currentUiCls,l=o.element,d=o.getBaseCls(),c=o.classClsList,u=[];if(s&&l.removeCls(s),a){for(t=0,n=(a=a.split(" ")).length;t<n;t++)if(e="-"+a[t],d&&d!==o.classCls&&u.push(d+e),c)for(i=0,r=c.length;i<r;i++)u.push(c[i]+e);l.addCls(u),o.currentUiCls=u}},updateUserCls:function(e,t){this.element.replaceCls(t,e)}}},function(e){var t=e.prototype;(t.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1,(t.$eventOptions=Ext.Object.chain(t.$eventOptions)).delegate=1}),Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",uses:["Ext.Component"],$configStrict:!1,isComponent:!0,liquidLayout:!0,rendered:!0,rendering:!0,config:{renderTo:null},constructor:function(e){var t;this.callParent([e]),this.getComponentLayout(),(t=this.getRenderTo())&&this.render(t)},addClsWithUI:function(e){this.el.addCls(e)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var e=this.getRefOwner();e&&e.updateLayout()},destroy:function(){var e=this.ownerCt;e&&e.remove&&e.remove(this,!1),this.callParent()},finishRender:function(){this.rendering=!1,this.initBindable()},getAnimationProps:function(){return{}},getComponentLayout:function(){var e=this.componentLayout;return e||(e=this.componentLayout=new Ext.layout.component.Auto).setOwner(this),e},getEl:function(){return this.element},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(e,t,n){this.ownerCt=e,this.onInheritedAdd(this,n)},onRemoved:function(e){e||this.removeBindings(),this.onInheritedRemove(e),this.ownerCt=this.ownerLayout=null},parseBox:function(e){return Ext.Element.parseBox(e)},removeClsWithUI:function(e){this.el.removeCls(e)},render:function(e,t){var n,i=this.element,r=Ext.Component.prototype;this.ownerCt&&!this.floating||(Ext.scopeCss&&i.addCls(r.rootCls),i.addCls(r.borderBoxCls)),t&&(n=e.childNodes[t])?Ext.fly(e).insertBefore(i,n):Ext.fly(e).appendChild(i)},setPosition:function(e,t){this.el.setLocalXY(e,t)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},isLayoutChild:function(e){var t=this.ownerCt;return!!t&&(t===e||t.isLayoutChild(e))},privates:{doAddListener:function(e,t,n,i,r,o,a){"painted"!=e&&"resize"!=e||this.element.doAddListener(e,t,n||this,i,r),this.callParent([e,t,n,i,r,o,a])},doRemoveListener:function(e,t,n){"painted"!=e&&"resize"!=e||this.element.doRemoveListener(e,t,n),this.callParent([e,t,n])}}},function(e){var t=e.prototype;Ext.isIE9m&&(t.addElementReferenceOnDemand=t.addElementReference)}),Ext.define("Ext.ProgressBase",{mixinId:"progressbase",config:{value:0,textTpl:null},applyTextTpl:function(e){return e.isTemplate||(e=new Ext.XTemplate(e)),e},applyValue:function(e){return e||0}}),Ext.define("Ext.Progress",{extend:"Ext.Gadget",xtype:["progress","progressbarwidget"],alternateClassName:"Ext.ProgressBarWidget",mixins:["Ext.ProgressBase"],config:{text:null,animate:!1},cachedConfig:{baseCls:Ext.baseCSSPrefix+"progress",textCls:Ext.baseCSSPrefix+"progress-text",cls:null},template:[{reference:"backgroundEl"},{reference:"barEl",children:[{reference:"textEl"}]}],defaultBindProperty:"value",updateCls:function(e,t){var n=this.element;t&&n.removeCls(t),e&&n.addCls(e)},updateUi:function(e,t){var n=this.element,i=this.barEl,r=this.getBaseCls()+"-";t&&(n.removeCls(r+t),i.removeCls(r+"bar-"+t)),n.addCls(r+e),i.addCls(r+"bar-"+e)},updateBaseCls:function(e,t){t&&Ext.raise("You cannot configure baseCls - use a subclass"),this.element.addCls(e),this.barEl.addCls(e+"-bar")},updateTextCls:function(e){this.backgroundEl.addCls(e+" "+e+"-back"),this.textEl.addCls(e)},updateValue:function(e,t){var n=this,i=n.barEl,r=n.getTextTpl();r&&n.setText(r.apply({value:e,percent:Math.round(100*e)})),n.getAnimate()?(i.stopAnimation(),i.animate(Ext.apply({from:{width:100*t+"%"},to:{width:100*e+"%"}},n.animate))):i.setStyle("width",100*e+"%")},updateText:function(e){this.backgroundEl.setHtml(e),this.textEl.setHtml(e)}}),Ext.define("Ext.overrides.Progress",{override:"Ext.Progress",config:{ui:"default"},updateWidth:function(e,t){this.callParent([e,t]),e-=this.element.getBorderWidth("lr"),this.backgroundEl.setWidth(e),this.textEl.setWidth(e)}}),Ext.define("Ext.util.Format",function(){var e,t;return{requires:["Ext.Error","Ext.Number","Ext.String","Ext.Date"],singleton:!0,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencySpacer:"",percentSign:"%",currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){e=this},nbsp:function(e,t){return((t=!1!==t)?""!==e&&null!=e:e)||(e=" "),e},undef:function(e){return void 0!==e?e:""},defaultValue:function(e,t){return void 0!==e&&""!==e?e:t},substr:"b"!="ab".substr(-1)?function(e,t,n){var i=String(e);return t<0?i.substr(Math.max(i.length+t,0),n):i.substr(t,n)}:function(e,t,n){return String(e).substr(t,n)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(t){return e.currency(t,"$",2)},currency:function(t,n,i,r,o){var a="",s=",0",l=0;for((t-=0)<0&&(t=-t,a="-"),s+=(i=Ext.isDefined(i)?i:e.currencyPrecision)>0?".":"";l<i;l++)s+="0";return t=e.number(t,s),null==o&&(o=e.currencySpacer),!0===(r||e.currencyAtEnd)?Ext.String.format("{0}{1}{2}{3}",a,t,o,n||e.currencySign):Ext.String.format("{0}{1}{2}{3}",a,n||e.currencySign,o,t)},date:function(e,t){return e?(Ext.isDate(e)||(e=new Date(Date.parse(e))),Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)):""},dateRenderer:function(t){return function(n){return e.date(n,t)}},hex:function(e,t){var n=parseInt(e||0,10).toString(16);if(t)for(t<0&&(t=-t,n.length>t&&(n=n.substring(n.length-t)));n.length<t;)n="0"+n;return n},or:function(e,t){return e||t},pick:function(e,t,n){if(Ext.isNumber(e)){var i=arguments[e+1];if(i)return i}return e?n:t},lessThanElse:function(e,t,n,i,r){var o=Ext.Number.from(e,0),a=Ext.Number.from(t,0),s=!Ext.isDefined(r);return o<a?n:o>a?i:s?i:r},sign:function(t,n,i,r){return void 0===r&&(r=i),e.lessThanElse(t,0,n,i,r)},stripTags:function(t){return t?String(t).replace(e.stripTagsRe,""):t},stripScripts:function(t){return t?String(t).replace(e.stripScriptsRe,""):t},fileSize:function(e){return e<1024?1===e?"1 byte":e+" bytes":e<1048576?Math.round(10*e/1024)/10+" KB":e<1073741824?Math.round(10*e/1048576)/10+" MB":Math.round(10*e/1073741824)/10+" GB"},math:(t={},function(e,n){return t[n]||(t[n]=Ext.functionFactory("v","return v "+n+";")),t[n](e)}),round:function(e,t){var n=Number(e);return"number"==typeof t?(t=Math.pow(10,t),n=Math.round(e*t)/t):void 0===t&&(n=Math.round(n)),n},number:function(t,n){if(!n)return t;if(isNaN(t))return"";var i=e.formatFns[n];if(!i){var r,o,a,s,l,d=n,c=e.thousandSeparator,u=e.decimalSeparator,h=0,f="";"/i"===n.substr(n.length-2)?(e.I18NFormatCleanRe&&e.lastDecimalSeparator===u||(e.I18NFormatCleanRe=new RegExp("[^\\d\\"+u+"#]","g"),e.lastDecimalSeparator=u),r=-1!==(n=n.substr(0,n.length-2)).indexOf(c),o=n.replace(e.I18NFormatCleanRe,"").split(u)):(r=-1!==n.indexOf(","),o=n.replace(e.formatCleanRe,"").split(".")),a=n.replace(e.formatPattern,""),o.length>2?Ext.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:t,formatString:n,msg:"Invalid number format, should have no more than 1 decimal"}):2===o.length&&(h=o[1].length,(s=o[1].match(e.hashRe))&&(f='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+s[0].length+'}$")')),l=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(r?",thousandSeparator,thousands=[],j,n,i":"")+(a?',formatString="'+n+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+h+");",f,";"],r?(h&&(l[l.length]='parts=fnum.split(".");',l[l.length]="fnum=parts[0];"),l[l.length]="if(absVal>=1000) {",l[l.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",h&&(l[l.length]="fnum += utilFormat.decimalSeparator+parts[1];")):h&&(l[l.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),l[l.length]='if(neg&&fnum!=="'+(h?"0."+Ext.String.repeat("0",h):"0")+'") { fnum="-"+fnum; }',s&&(l[l.length]='fnum=fnum.replace(trailingZeroes,"");'),l[l.length]="return ",l[l.length]=a?"formatString.replace(formatPattern, fnum);":"fnum;",l[l.length]="};",i=e.formatFns[d]=Ext.functionFactory("Ext",l.join(""))(Ext)}return i(t)},numberRenderer:function(t){return function(n){return e.number(n,t)}},percent:function(t,n){return e.number(100*t,n||"0")+e.percentSign},attributes:function(e){if("object"==typeof e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t,'="',"style"===t?Ext.DomHelper.generateStyles(e[t],null,!0):Ext.htmlEncode(e[t]),'" ');e=n.join("")}return e||""},plural:function(e,t,n){return e+" "+(1===e?t:n||t+"s")},nl2br:function(t){return Ext.isEmpty(t)?"":t.replace(e.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(e){if("number"==typeof(e=e||0))return{top:e,right:e,bottom:e,left:e};var t=e.split(" "),n=t.length;return 1===n?t[1]=t[2]=t[3]=t[0]:2===n?(t[2]=t[0],t[3]=t[1]):3===n&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}},uri:function(e){return encodeURI(e)},uriCmp:function(e){return encodeURIComponent(e)},wordBreakRe:/[\W\s]+/,word:function(t,n,i){var r=i?"string"==typeof i?new RegExp(i):i:e.wordBreakRe;return(t||"").split(r)[n||0]||""}}}),Ext.define("Ext.Template",{requires:["Ext.util.Format"],inheritableStatics:{from:function(e,t){return new this((e=Ext.getDom(e)).value||e.innerHTML,t||"")}},useEval:Ext.isGecko,constructor:function(e){var t,n,i=arguments,r=[],o=i.length;if(this.initialConfig={},1===o&&Ext.isArray(e)&&(o=(i=e).length),o>1)for(t=0;t<o;t++)"object"==typeof(n=i[t])?(Ext.apply(this.initialConfig,n),Ext.apply(this,n)):r.push(n);else r.push(e);this.html=r.join("")},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(e){var t=this;return t.compiled?(t.fn||t.compile(),t.fn(e).join("")):t.evaluate(e)},evaluate:function(e){var t=!this.disableFormats,n=Ext.util.Format,i=this;return this.html.replace(this.tokenRe,function(r,o,a,s,l){return null!=a&&""!==a||(a=o),s&&t?(l=l?[e[a]].concat(Ext.functionFactory("return ["+l+"];")()):[e[a]],"this."===s.substr(0,5)?i[s.substr(5)].apply(i,l):n[s]?n[s].apply(n,l):r):void 0!==e[a]?e[a]:""})},applyOut:function(e,t){var n=this;return n.compiled?(n.fn||n.compile(),t.push.apply(t,n.fn(e))):t.push(n.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){return this.html=e,this.compiled=!!t,this.fn=null,this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var e,t=this;return e=t.html.replace(t.compileARe,"\\\\").replace(t.compileBRe,"\\n").replace(t.compileCRe,"\\'").replace(t.tokenRe,t.regexReplaceFn.bind(t)),e=(!0!==this.disableFormats?"var fm=Ext.util.Format;":"")+(t.useEval?"$=":"return")+" function(v){return ['"+e+"'];};",t.fn=t.useEval?t.evalCompiled(e):new Function("Ext",e)(Ext),t.compiled=!0,t},evalCompiled:function($){return eval($),$},regexReplaceFn:function(e,t,n,i,r){if(null==t||""===t?t='"'+n+'"':this.stringFormat&&(t=parseInt(t)+1),i&&!0!==this.disableFormats){if(r=r?","+r:"","this."===i.substr(0,5))i+="(";else{if(!Ext.util.Format[i])return e;i="fm."+i+"("}return"',"+i+"v["+t+"]"+r+"),'"}return"',v["+t+"] == undefined ? '' : v["+t+"],'"},insertFirst:function(e,t,n){return this.doInsert("afterBegin",e,t,n)},insertBefore:function(e,t,n){return this.doInsert("beforeBegin",e,t,n)},insertAfter:function(e,t,n){return this.doInsert("afterEnd",e,t,n)},append:function(e,t,n){return this.doInsert("beforeEnd",e,t,n)},doInsert:function(e,t,n,i){var r=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(n));return i?Ext.get(r):r},overwrite:function(e,t,n){var i=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return n?Ext.get(i):i}},function(e){var t=/\{\d+\}/,n={useFormat:!1,compiled:!0,stringFormat:!0},i={};Ext.String.format=Ext.util.Format.format=function(r){return(i[r]||(i[r]=function(i){return t.test(i)?(i=new e(i,n),function(){return i.apply(arguments)}):function(){return i}}(r))).apply(this,arguments)},Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}}),Ext.define("Ext.util.XTemplateParser",{requires:["Ext.String"],constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g=this,p=e.length,m={elseif:"elif"},x=g.topRe,E=g.actionsRe;for(g.level=0,g.stack=n=[],t=0;t<p;t=c){if(x.lastIndex=t,!(r=x.exec(e))){g.doText(e.substring(t,p));break}if(d=r.index,c=x.lastIndex,t<d&&(i=e.substring(t,d),f&&""===Ext.String.trim(i)||g.doText(i)),f=!1,r[1])c=e.indexOf("%}",d+2),g.doEval(e.substring(d+2,c)),c+=2;else if(r[2])c=e.indexOf("]}",d+2),g.doExpr(e.substring(d+2,c)),c+=2;else if(r[3])g.doTag(r[3]);else if(r[4]){for(u=null;null!==(l=E.exec(r[4]));)(i=l[2]||l[3])&&(i=Ext.String.htmlDecode(i),o=m[o=l[1]]||o,"string"==typeof(a=(u=u||{})[o])?u[o]=[a,i]:a?u[o].push(i):u[o]=i);u?u.if?(g.doIf(u.if,u),n.push({type:"if"})):u.switch?(g.doSwitch(u.switch,u),n.push({type:"switch"}),f=!0):u.case?g.doCase(u.case,u):u.elif?g.doElseIf(u.elif,u):u.for?(++g.level,(h=g.propRe.exec(r[4]))&&(u.propName=h[1]||h[2]),g.doFor(u.for,u),n.push({type:"for",actions:u})):u.foreach?(++g.level,(h=g.propRe.exec(r[4]))&&(u.propName=h[1]||h[2]),g.doForEach(u.foreach,u),n.push({type:"foreach",actions:u})):u.exec&&(g.doExec(u.exec,u),n.push({type:"exec",actions:u})):g.elseRe.test(r[4])?g.doElse():g.defaultRe.test(r[4])?g.doDefault():(g.doTpl(),n.push({type:"tpl"}))}else 5===r[0].length?n.push({type:"tpl"}):(s=n.pop(),g.doEnd(s.type,s.actions),"for"!=s.type&&"foreach"!=s.type||--g.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.util.XTemplateCompiler",{extend:"Ext.util.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(e){var t=this.generate(e);return this.useEval?this.evalTpl(t):new Function("Ext",t)(Ext)},generate:function(e){var t,n=this,i="var fm=Ext.util.Format,ts=Object.prototype.toString;";return n.maxLevel=0,n.body=["var c0=values, a0="+n.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],n.definitions?"string"==typeof n.definitions?n.definitions=[n.definitions,i]:n.definitions.push(i):n.definitions=[i],n.switches=[],n.parse(e),n.definitions.push((n.useEval?"$=":"return")+" function ("+n.fnArgs+") {",n.body.join(""),"}"),t=n.definitions.join("\n"),n.definitions.length=n.body.length=n.switches.length=0,delete n.definitions,delete n.body,delete n.switches,t},doText:function(e){var t=this.body;e=e.replace(this.aposRe,"\\'").replace(this.newLineRe,"\\n"),this.useIndex?t.push("out[out.length]='",e,"'\n"):t.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+") != null) out"),this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(e){var t=this.parseTag(e);t?this.doExpr(t):this.doText("{"+e+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){var n=this;"."===e?n.body.push("if (values) {\n"):n.propNameRe.test(e)?n.body.push("if (",n.parseTag(e),") {\n"):n.body.push("if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doElseIf:function(e,t){var n=this;"."===e?n.body.push("else if (values) {\n"):n.propNameRe.test(e)?n.body.push("} else if (",n.parseTag(e),") {\n"):n.body.push("} else if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doSwitch:function(e){var t,n=this;"."===e||"#"===e?(t="."===e?"values":"xindex",n.body.push("switch (",t,") {\n")):n.propNameRe.test(e)?n.body.push("switch (",n.parseTag(e),") {\n"):n.body.push("switch (",n.addFn(e),n.callFn,") {\n"),n.switches.push(0)},doCase:function(e){var t,n,i=this,r=Ext.isArray(e)?e:[e],o=i.switches.length-1;for(i.switches[o]?i.body.push("break;\n"):i.switches[o]++,n=0,o=r.length;n<o;++n)t=i.intRe.exec(r[n]),r[n]=t?t[1]:"'"+r[n].replace(i.aposRe,"\\'")+"'";i.body.push("case ",r.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;e.switches[t]?e.body.push("break;\n"):e.switches[t]++,e.body.push("default:\n")},doEnd:function(e,t){var n=this,i=n.level-1;"for"==e||"foreach"==e?(t.exec&&n.doExec(t.exec),n.body.push("}\n"),n.body.push("parent=p",i,";values=r",i+1,";xcount=n"+i+";xindex=i",i,"+1;xkey=k",i,";\n")):"if"!=e&&"switch"!=e||n.body.push("}\n")},doFor:function(e,t){var n,i,r=this,o=r.level,a=o-1;n="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),i="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:c"+a,r.body.push("i",o,"=0,n",o,"=0,c",o,"=",n,",a",o,"=",r.createArrayTest(o),",r",o,"=values,p",o,",k",o,";\n","p",o,"=parent=",i,"\n","if (c",o,"){if(a",o,"){n",o,"=c",o,".length;}else if (c",o,".isMixedCollection){c",o,"=c",o,".items;n",o,"=c",o,".length;}else if(c",o,".isStore){c",o,"=c",o,".data.items;n",o,"=c",o,".length;}else{c",o,"=[c",o,"];n",o,"=1;}}\n","for (xcount=n",o,";i",o,"<n"+o+";++i",o,"){\n","values=c",o,"[i",o,"]"),t.propName&&r.body.push(".",t.propName),r.body.push("\n","xindex=i",o,"+1\n"),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},doForEach:function(e,t){var n,i,r=this,o=r.level,a=o-1;n="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),i="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:c"+a,r.body.push("i",o,"=-1,n",o,"=0,c",o,"=",n,",a",o,"=",r.createArrayTest(o),",r",o,"=values,p",o,",k",o,";\n","p",o,"=parent=",i,"\n","for(k",o," in c",o,"){\n","xindex=++i",o,"+1;\n","xkey=k",o,";\n","values=c",o,"[k",o,"];"),t.propName&&r.body.push(".",t.propName),t.between&&r.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var n=this,i="f"+n.definitions.length,r=n.guards[n.strict?0:1];n.definitions.push("function "+i+"("+n.fnArgs+") {",r.doTry," var $v = values; with($v) {","  "+e," }",r.doCatch,"}"),n.body.push(i+n.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:' } catch(e) {\nExt.log.warn("XTemplate evaluation exception: " + e.message);\n}'}],addFn:function(e){var t=this,n="f"+t.definitions.length,i=t.guards[t.strict?0:1];return"."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return values","}"):".."===e?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+n+"("+t.fnArgs+") {",i.doTry," var $v = values; with($v) {","  return("+e+")"," }",i.doCatch,"}"),n},parseTag:function(e){var t,n,i,r,o,a=this,s=a.tagRe.exec(e);return s?(t=s[1],n=s[2],i=s[3],r=s[4],"."==t?(a.validTypes||(a.definitions.push("var validTypes={string:1,number:1,boolean:1};"),a.validTypes=!0),o='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):o="#"==t?"xindex":"$"==t?"xkey":"parent."==t.substr(0,7)?t:isNaN(t)&&-1==t.indexOf("-")&&-1!=t.indexOf(".")?"values."+t:"values['"+t+"']",r&&(o="("+o+r+")"),n&&a.useFormat?(i=i?","+i:"","this."!=n.substr(0,5)?n="fm."+n+"(":n+="(",n+o+i+")"):o):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount,xkey",e.callFn=".call(this,"+e.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:["Ext.util.XTemplateCompiler"],isXTemplate:!0,emptyObj:{},fn:null,strict:!1,apply:function(e,t,n,i){return this.applyOut(e,[],t,n,i).join("")},applyOut:function(e,t,n,i,r){var o,a=this;if(a.fn||(o=new Ext.util.XTemplateCompiler({useFormat:!0!==a.disableFormats,definitions:a.definitions,strict:a.strict}),a.fn=o.compile(a.html)),i=i||1,r=r||1,a.strict)a.fn(t,e,n||a.emptyObj,i,r);else try{a.fn(t,e,n||a.emptyObj,i,r)}catch(e){Ext.log.warn("XTemplate evaluation exception: "+e.message)}return t},compile:function(){return this},statics:{getTpl:function(e,t){var n,i=e[t];if(i&&!i.isTemplate){if(i=Ext.ClassManager.dynInstantiate("Ext.XTemplate",i),e.hasOwnProperty(t))n=e;else for(n=e.self.prototype;n&&!n.hasOwnProperty(t);n=n.superclass);n[t]=i,i.owner=n}return i||null}}}),Ext.define("Ext.app.EventDomain",{requires:["Ext.util.Event"],statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){var e=this;e.isInstance||(Ext.app.EventDomain.instances[e.type]=e),e.bus={},e.monitoredClasses=[]},dispatch:function(e,t,n){t=Ext.canonicalEventName(t);var i,r,o,a,s,l,d,c,u=this.bus[t];if(!u)return!0;for(i in u)if(u.hasOwnProperty(i)&&this.match(e,i,this.controller))for(o in r=u[i])if(r.hasOwnProperty(o)&&(a=r[o]).controller.isActive())for(l=(s=a.list).length,d=0;d<l;d++)if(!1===(c=s[d]).fire.apply(c,n))return!1;return!0},listen:function(e,t){var n,i,r,o,a,s,l,d,c,u,h=this.bus,f=this.idProperty,g=this.monitoredClasses,p=g.length,m=t.getId(),x="component"===this.type,E=x?t.getRefMap():null;for(r in e)if(d=e[r],x&&(r=E[r]||r),d)for(c in f&&(/^[*#]/.test(r)||Ext.raise("Selectors containing id should begin with #"),r="*"===r?r:r.substring(1)),d){for(o=null,a=d[c],s=t,c=Ext.canonicalEventName(c),l=new Ext.util.Event(t,c),Ext.isObject(a)&&(a=(o=a).fn,s=o.scope||t,delete o.fn,delete o.scope),o&&o.scope||"string"!=typeof a?"string"==typeof a&&(a=s[a]):(s[a]||Ext.raise('Cannot resolve "'+a+'" on controller.'),s=null),l.addListener(a,s,o),n=0;n<p;++n)(u=g[n].hasListeners)&&u._incr_(c);((i=(i=h[c]||(h[c]={}))[r]||(i[r]={}))[m]||(i[m]={controller:t,list:[]})).list.push(l)}},match:function(e,t){var n=this.idProperty;return!!n&&("*"===t||e[n]===t)},monitor:function(e){var t=this,n=e.isInstance?e:e.prototype,i=n.doFireEvent;t.monitoredClasses.push(e),n.doFireEvent=function(e,n){var r;return!1===(r=i.apply(this,arguments))||this.destroyed||this.isSuspended(e)||(r=t.dispatch(this,e,n)),r}},unlisten:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this.bus,f=e,g=this.monitoredClasses,p=g.length;for(n in e.isController&&(f=e.getId()),h)if(n=Ext.canonicalEventName(n),h.hasOwnProperty(n)&&(s=h[n]))for(a in s)if((c=(t=s[a])[f])&&(i=c.list)){for(l=0,r=i.length;l<r;++l)for((o=i[l]).clearListeners(),d=0;d<p;++d)(u=g[d].hasListeners)&&u._decr_(o.name);delete t[f]}},destroy:function(){this.monitoredClasses=this.bus=null,this.callParent()}}),Ext.define("Ext.app.domain.Component",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.Widget"],type:"component",constructor:function(){this.callParent(),this.monitor(Ext.Widget)},dispatch:function(e,t,n){for(var i,r,o=e.lookupController(!1);o;){if((i=o.compDomain)&&!1===i.dispatch(e,t,n))return!1;o=(r=o.getView())?r.lookupController(!0):null}return this.callParent(arguments)},match:function(e,t){return e.is(t)}}),Ext.define("Ext.util.ProtoElement",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(n){var i,r,o=this;n&&(Ext.apply(o,n),i=o.cls,r=o.style,delete o.cls),o.classList=i?e(i):[],o.classMap=i?t(o.classList):{},r&&("string"==typeof r?o.style=Ext.Element.parseStyles(r):Ext.isFunction(r)?(o.styleFn=r,delete o.style):o.style=Ext.apply({},r))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(t){if(!t)return this;for(var n,i=this,r="string"==typeof t?e(t):t,o=r.length,a=i.classList,s=i.classMap,l=i.flushClassList,d=0;d<o;++d)s[n=r[d]]||(s[n]=!0,a.push(n),l&&(l.push(n),delete i.removedClasses[n]));return i},hasCls:function(e){return e in this.classMap},removeCls:function(n){var i,r,o=this,a=o.classList,s=o.classList=[],l=t(e(n)),d=a.length,c=o.classMap,u=o.removedClasses;for(i=0;i<d;++i)l[r=a[i]]?(u&&c[r]&&(u[r]=!0,Ext.Array.remove(o.flushClassList,r)),delete c[r]):s.push(r);return o},setStyle:function(e,t){var n=this.style||(this.style={});return"string"==typeof e?1===arguments.length?this.setStyle(Ext.Element.parseStyles(e)):n[e]=t:Ext.apply(n,e),this},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(e){var t,n=this,i=n.flushClassList||n.classList,r=n.removedClasses;return n.styleFn?(t=Ext.apply({},n.styleFn()),Ext.apply(t,n.style)):t=n.style,e[n.clsProp]=i.join(" "),t&&(e[n.styleProp]=n.styleIsText?Ext.DomHelper.generateStyles(t,null,!0):t),r&&(r=Ext.Object.getKeys(r)).length&&(e[n.removedProp]=r.join(" ")),n.unselectableAttr&&(e.unselectable="on"),e}}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",isLite:!1,getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}}),Ext.define("Ext.util.CSS",function(){var e,t=null,n=document,i=/(-[a-z])/gi,r=function(e,t){return t.charAt(1).toUpperCase()};return{singleton:!0,rules:t,initialized:!1,constructor:function(){e=this},createStyleSheet:function(t,i){var r,o=n.getElementsByTagName("head")[0],a=n.createElement("style");return a.setAttribute("type","text/css"),i&&a.setAttribute("id",i),(r=a.styleSheet)?(o.appendChild(a),r.cssText=t):(a.appendChild(n.createTextNode(t)),o.appendChild(a),r=a.sheet),e.cacheStyleSheet(r),r},removeStyleSheet:function(e){var t="string"==typeof e?n.getElementById(e):e.ownerNode;t&&t.parentNode.removeChild(t)},swapStyleSheet:function(t,i){var r;e.removeStyleSheet(t),(r=n.createElement("link")).setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("id",t),r.setAttribute("href",i),n.getElementsByTagName("head")[0].appendChild(r)},cacheStyleSheet:function(n){t||(t=e.rules={});try{var i,r,o=n.cssRules||n.rules,a=o.length-1,s=n.imports,l=s?s.length:0;for(r=0;r<l;++r)e.cacheStyleSheet(s[r]);for(;a>=0;--a)(i=o[a]).styleSheet&&e.cacheStyleSheet(i.styleSheet),e.cacheRule(i,n)}catch(e){}},cacheRule:function(n,i){if(n.styleSheet)return e.cacheStyleSheet(n.styleSheet);var r,o,a=n.selectorText;if(a)for(r=(a=a.split(",")).length,o=0;o<r;o++)t[Ext.String.trim(a[o]).toLowerCase()]={parentStyleSheet:i,cssRule:n}},getRules:function(n){var i,r={};for(i in(null===t||n)&&e.refreshCache(),t)r[i]=t[i].cssRule;return r},refreshCache:function(){var i=n.styleSheets,r=0,o=i.length;for(t=e.rules={};r<o;r++)try{i[r].disabled||e.cacheStyleSheet(i[r])}catch(e){}},getRule:function(n,i,r){var o,a;if(t&&!i||e.refreshCache(),!Ext.isArray(n))return(a=t[n.toLowerCase()])&&!r&&(a=a.cssRule),a||null;for(o=0;o<n.length;o++)if(t[n[o]])return r?t[n[o].toLowerCase()]:t[n[o].toLowerCase()].cssRule;return null},createRule:function(t,n,i){var r,o=t.cssRules||t.rules,a=o.length;return t.insertRule?t.insertRule(n+" {"+i+"}",a):t.addRule(n,i||" "),e.cacheRule(r=o[a],t),r},updateRule:function(t,n,o){var a,s,l;if(Ext.isArray(t)){for(s=0;s<t.length;s++)if(e.updateRule(t[s],n,o))return!0}else if(a=e.getRule(t)){if(2===arguments.length)for(n in l=Ext.Element.parseStyles(n))a.style[n.replace(i,r)]=l[n];else a.style[n.replace(i,r)]=o;return!0}return!1},deleteRule:function(n){var i,r,o=e.getRule(n,!1,!0);o&&(i=o.parentStyleSheet,r=Ext.Array.indexOf(i.cssRules||i.rules,o.cssRule),i.deleteRule?i.deleteRule(r):i.removeRule(r),delete t[n])}}}),Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(e){return this.initConfig(e),this},applyStartTime:function(e){return e||(e=Ext.Date.now()),e},updateStartTime:function(e){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn}),Ext.define("Ext.fx.easing.Linear",{extend:"Ext.fx.easing.Abstract",alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(e){this.distance=this.getEndValue()-e},updateEndValue:function(e){this.distance=e-this.getStartValue()},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration();return e>t?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+e/t*this.distance}}),Ext.define("Ext.util.translatable.Abstract",{extend:"Ext.Evented",requires:["Ext.fx.easing.Linear"],config:{useWrapper:null,easing:null,easingX:{duration:300},easingY:{duration:300}},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.position={x:0,y:0}},factoryEasing:function(e){return Ext.factory(e,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(e){this.getEasingX()||this.setEasingX(this.factoryEasing(e)),this.getEasingY()||this.setEasingY(this.factoryEasing(e))},applyEasingX:function(e){return this.factoryEasing(e)},applyEasingY:function(e){return this.factoryEasing(e)},doTranslate:function(e,t){this.hasListeners.translate&&this.fireEvent("translate",this,e,t)},translate:function(e,t,n){if(n)return this.translateAnimated(e,t,n);this.isAnimating&&this.stopAnimation(),isNaN(e)||"number"!=typeof e||(this.x=e),isNaN(t)||"number"!=typeof t||(this.y=t),this.doTranslate(e,t)},translateAxis:function(e,t,n){var i,r;return"x"==e?i=t:r=t,this.translate(i,r,n)},getPosition:function(){var e=this.position;return e.x=-this.x,e.y=-this.y,e},animate:function(e,t){return this.activeEasingX=e,this.activeEasingY=t,this.isAnimating=!0,this.lastX=null,this.lastY=null,Ext.AnimationQueue.start(this.doAnimationFrame,this),this.fireEvent("animationstart",this,this.x,this.y),this},translateAnimated:function(e,t,n){var i=this;Ext.isObject(n)||(n={}),i.isAnimating&&i.stopAnimation(),i.callback=n.callback,i.callbackScope=n.scope;var r=Ext.Date.now(),o=n.easing,a="number"==typeof e?n.easingX||o||i.getEasingX()||!0:null,s="number"==typeof t?n.easingY||o||i.getEasingY()||!0:null;return a&&((a=i.factoryEasing(a)).setStartTime(r),a.setStartValue(i.x),a.setEndValue(e),"duration"in n&&a.setDuration(n.duration)),s&&((s=i.factoryEasing(s)).setStartTime(r),s.setStartValue(i.y),s.setEndValue(t),"duration"in n&&s.setDuration(n.duration)),i.animate(a,s)},doAnimationFrame:function(){var e,t,n=this,i=n.activeEasingX,r=n.activeEasingY,o=Date.now();n.isAnimating&&(n.lastRun=o,null!==i||null!==r?(null!==i?(n.x=e=Math.round(i.getValue()),i.isEnded&&(n.activeEasingX=null,n.fireEvent("axisanimationend",n,"x",e))):e=n.x,null!==r?(n.y=t=Math.round(r.getValue()),r.isEnded&&(n.activeEasingY=null,n.fireEvent("axisanimationend",n,"y",t))):t=n.y,n.lastX===e&&n.lastY===t||(n.doTranslate(e,t),n.lastX=e,n.lastY=t),n.fireEvent("animationframe",n,e,t)):n.stopAnimation())},stopAnimation:function(){var e=this;e.isAnimating&&(e.activeEasingX=null,e.activeEasingY=null,e.isAnimating=!1,Ext.AnimationQueue.stop(e.doAnimationFrame,e),e.destroying||(e.fireEvent("animationend",e,e.x,e.y),e.callback&&(e.callback.call(e.callbackScope),e.callback=null)))},refresh:function(){this.translate(this.x,this.y)},destroy:function(){var e=this;e.destroying=!0,e.isAnimating&&e.stopAnimation(),e.callParent(),e.destroying=!1,e.destroyed=!0}}),Ext.define("Ext.util.translatable.Dom",{extend:"Ext.util.translatable.Abstract",config:{element:null},applyElement:function(e){if(e)return Ext.get(e)},updateElement:function(){this.refresh()}}),Ext.define("Ext.util.translatable.ScrollPosition",{extend:"Ext.util.translatable.Dom",type:"scrollposition",constructor:function(e){e&&e.element&&(this.x=e.element.getScrollLeft(),this.y=e.element.getScrollTop()),this.callParent([e])},translateAnimated:function(){var e=this.getElement();this.x=e.getScrollLeft(),this.y=e.getScrollTop(),this.callParent(arguments)},doTranslate:function(e,t){var n=this.getElement();n.setScrollLeft(Math.round(e)),n.setScrollTop(Math.round(t))},getPosition:function(){var e=this.position,t=this.getElement();return e.x=t.getScrollLeft(),e.y=t.getScrollTop(),e}}),Ext.define("Ext.scroll.Scroller",{extend:"Ext.Evented",alias:"scroller.scroller",mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.CSS","Ext.util.translatable.ScrollPosition"],factoryConfig:{defaultType:"scroller"},isScroller:!0,config:{direction:void 0,element:void 0,scrollbars:null,snapSelector:null,snapOffset:null,msSnapInterval:null,x:!0,y:!0,scrollElement:null,size:null,spacerXY:null},snappableCls:Ext.baseCSSPrefix+"scroller-snappable",elementCls:Ext.baseCSSPrefix+"scroller",spacerCls:Ext.baseCSSPrefix+"scroller-spacer",noScrollbarsCls:Ext.baseCSSPrefix+"no-scrollbars",statics:{create:function(e,t){return Ext.Factory.scroller(e,t)},getScrollingElement:function(){var e,t,n=document,i=this.$standardScrollElement,r=n.scrollingElement;return r||(void 0===i&&((e=document.createElement("iframe")).style.height="1px",document.body.appendChild(e),(t=e.contentWindow.document).write('<!DOCTYPE html><div style="height:9999em">x</div>'),t.close(),i=t.documentElement.scrollHeight>t.body.scrollHeight,e.parentNode.removeChild(e),this.$standardScrollElement=i),i?n.documentElement:n.body)}},constructor:function(e){var t=this;t.position={x:0,y:0},t.callParent([e]),t.onDomScrollEnd=Ext.Function.createBuffered(t.onDomScrollEnd,100,t)},destroy:function(){var e=this;e.setX(Ext.emptyString),e.setY(Ext.emptyString),e.setElement(null),e.setScrollElement(null),e.onDomScrollEnd=e._partners=e.component=null,e._translatable&&(e._translatable.destroy(),e._translatable=null),e.removeSnapStylesheet(),e.callParent()},addPartner:function(e,t){var n=this._partners||(this._partners={}),i=e._partners||(e._partners={});n[e.getId()]={scroller:e,axis:t},i[this.getId()]={scroller:this,axis:t}},applyElement:function(e,t){var n,i,r,o=this;if(t&&o.scrollListener.destroy(),e)return e.isElement?n=e:(n=Ext.get(e))||"string"!=typeof e||Ext.raise("Cannot create Ext.scroll.Scroller instance. Element with id '"+e+"' not found."),n.dom===document.documentElement||n.dom===document.body?(i=Ext.getWin(),r=Ext.scroll.Scroller.getScrollingElement()):r=i=n,o.setScrollElement(Ext.get(r)),o.scrollListener=i.on({scroll:o.onDomScroll,scope:o,destroyable:!0}),n},applySize:function(e,t){var n,i;return null===e||"number"==typeof e?n=i=e:e&&(n=e.x,i=e.y),null===n?n=0:void 0===n&&(n=t?t.x:0),null===i?i=0:void 0===i&&(i=t?t.y:0),{x:n,y:i}},getClientSize:function(){var e=this.getElement().dom;return{x:e.clientWidth,y:e.clientHeight}},getScrollbarSize:function(){var e,t,n,i,r,o,a=0,s=0,l=this.getElement();return l&&!l.destroyed&&(t=this.getX(),n=this.getY(),e=l.dom,(t||n)&&(o=Ext.getScrollbarSize()),"scroll"===t?i=!0:t&&(i=e.scrollWidth>e.clientWidth),"scroll"===n?r=!0:n&&(r=e.scrollHeight>e.clientHeight),i&&(s=o.height),r&&(a=o.width)),{width:a,height:s}},getPosition:function(){return this.positionDirty&&this.updateDomScrollPosition(),this.position},getSize:function(){var e,t=this.getElement();return t&&!t.destroyed?{x:(e=t.dom).scrollWidth,y:e.scrollHeight}:{x:0,y:0}},getMaxPosition:function(){var e,t=this.getElement(),n=0,i=0;return t&&!t.destroyed&&(n=(e=t.dom).scrollWidth-e.clientWidth,i=e.scrollHeight-e.clientHeight),{x:n,y:i}},getMaxUserPosition:function(){var e,t=this.getElement(),n=0,i=0;return t&&!t.destroyed&&(e=t.dom,this.getX()&&(n=e.scrollWidth-e.clientWidth),this.getY()&&(i=e.scrollHeight-e.clientHeight)),{x:n,y:i}},refresh:function(){return this.positionDirty=!0,this.fireEvent("refresh",this),this},removePartner:function(e){var t=this._partners,n=e._partners;t&&delete t[e.getId()],n&&delete n[this.getId()]},scrollBy:function(e,t,n){var i=this.getPosition();return e&&(e.length?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x)),e="number"==typeof e?e+i.x:null,t="number"==typeof t?t+i.y:null,this.doScrollTo(e,t,n)},scrollIntoView:function(e,t,n,i){var r,o,a,s=this,l=s.getPosition(),d=s.getElement();e&&(r=Ext.fly(e).getScrollIntoViewXY(d,l.x,l.y),o=!1===t?l.x:r.x,(a=r.y)!==l.y||o!==l.x?(i&&s.on({scrollend:"doHighlight",scope:s,single:!0,args:[e,i]}),s.doScrollTo(o,a,n)):i&&s.doHighlight(e,i))},isInView:function(e){return this.doIsInView(e)},scrollTo:function(e,t,n){var i;e&&(e.length?(n=t,t=e[1],e=e[0]):"number"!=typeof e&&(n=t,t=e.y,e=e.x)),(e<0||t<0)&&(i=this.getMaxPosition(),e<0&&(e+=i.x),t<0&&(t+=i.y)),this.doScrollTo(e,t,n)},updateDirection:function(e){var t,n,i=this;e?("auto"===e?(t=!0,n=!0):"vertical"===e?(t=!1,n=!0):"horizontal"===e?(t=!0,n=!1):"both"===e&&(t="scroll",n="scroll"),i.setX(t),i.setY(n)):(t=i.getX(),n=i.getY(),t&&n?e="scroll"===n&&"scroll"===t?"both":"auto":n?e="vertical":t&&(e="horizontal"),i._direction=e)},updateScrollbars:function(e,t){this.syncScrollbarCls()},updateSize:function(e){var t,n=this.getElement(),i=e.x,r=e.y;n&&(this.positionDirty=!0,t=this.getSpacer(),i||r?(i>0&&(i-=1),r>0&&(r-=1),this.setSpacerXY({x:i,y:r}),t.show()):t.hide())},updateMsSnapInterval:function(){this.initMsSnapInterval()},updateSnapSelector:function(){this.initSnap()},updateSnapOffset:function(){this.initSnap()},updateElement:function(e){var t=this;t.initXStyle(),t.initYStyle(),e.addCls(t.elementCls),t.initSnap(),t.initMsSnapInterval(),t.syncScrollbarCls()},updateX:function(e){this.initXStyle()},updateY:function(e){this.initYStyle()},deprecated:{5:{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(e){return this.scrollTo(0,0,e)},scrollToEnd:function(e){return this.scrollTo(1/0,1/0,e)}}}},privates:{getSpacer:function(){var e,t=this._spacer;return t||(e=this.getElement(),(t=this._spacer=e.createChild({cls:this.spacerCls,role:"presentation"},e.dom.firstChild)).setVisibilityMode(2),t.hide(),e.position()),t},applySpacerXY:function(e,t){return t&&e.x===t.x&&e.y===t.y&&(e=void 0),e},updateSpacerXY:function(e){var t,n=this,i=n.getSpacer().dom.style,r=e.y;i.marginTop="",n.translateSpacer(e.x,n.constrainScrollRange(r)),i.lineHeight=Number(!parseInt(i.lineHeight,10))+"px",(t=r-n.getElement().dom.scrollHeight)>0&&(i.marginTop=Math.min(t,n.maxSpacerMargin||0)+"px")},translateSpacer:function(e,t){this.getSpacer().translate(e,t)},doIsInView:function(e,t){var n,i,r=this.component,o={x:!1,y:!1},a=this.getElement();return e&&(t||a.contains(e)||r&&r.owns(e))&&(i=a.getRegion(),n=Ext.fly(e).getRegion(),o.x=n.right>i.left&&n.left<i.right,o.y=n.bottom>i.top&&n.top<i.bottom),o},constrainScrollRange:function(e){if(e<1e6)return e;if(!this.maxSpacerTranslate){var t=Math.pow(2,32),n=t,i=500,r=Ext.getBody().createChild({style:{position:"absolute",left:"-10000px",top:"0",width:"500px",height:"500px"},cn:{cls:this.spacerCls}},null,!0),o=Ext.get(r.firstChild),a=o.dom.style;for(o.translate(0,t-1),a.lineHeight=Number(!parseInt(a.lineHeight,10))+"px";n!==i+1;)o.translate(0,t=i+Math.floor((n-i)/2)),a.lineHeight=Number(!parseInt(a.lineHeight,10))+"px",r.scrollHeight<t?n=t:i=t;for(o.translate(0,Ext.scroll.Scroller.prototype.maxSpacerTranslate=i),n=2*i;n!==i+1;)o.dom.style.marginTop=(t=i+Math.floor((n-i)/2))+"px",a.lineHeight=Number(!parseInt(a.lineHeight,10))+"px",r.scrollHeight<t?n=t:i=t;Ext.fly(r).destroy(),Ext.scroll.Scroller.prototype.maxSpacerMargin=i-Ext.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(e,this.maxSpacerTranslate)},convertX:function(e){return e},doHighlight:function(e,t){!0!==t?Ext.fly(e).highlight(t):Ext.fly(e).highlight()},doScrollTo:function(e,t,n){var i,r,o,a,s=this.getScrollElement();s&&!s.destroyed&&(r=s.dom,a=t===1/0,((o=e===1/0)||a)&&(i=this.getMaxPosition(),o&&(e=i.x),a&&(t=i.y)),e=this.convertX(e),n?(this._translatable||(this._translatable=new Ext.util.translatable.ScrollPosition({element:s})),this._translatable.translate(e,t,n)):(null!=t&&(r.scrollTop=t),null!=e&&(r.scrollLeft=e,Ext.isIE8&&(r.scrollLeft,r.scrollLeft=e))),this.positionDirty=!0)},fireScrollStart:function(e,t){var n=this,i=n.component;n.invokePartners("onPartnerScrollStart",e,t),n.hasListeners.scrollstart&&n.fireEvent("scrollstart",n,e,t),i&&i.onScrollStart&&i.onScrollStart(e,t),Ext.GlobalEvents.fireEvent("scrollstart",n,e,t)},fireScroll:function(e,t){var n=this,i=n.component;n.invokePartners("onPartnerScroll",e,t),n.hasListeners.scroll&&n.fireEvent("scroll",n,e,t),i&&i.onScrollMove&&i.onScrollMove(e,t),Ext.GlobalEvents.fireEvent("scroll",n,e,t)},fireScrollEnd:function(e,t){var n=this,i=n.component;n.invokePartners("onPartnerScrollEnd",e,t),n.hasListeners.scrollend&&n.fireEvent("scrollend",n,e,t),i&&i.onScrollEnd&&i.onScrollEnd(e,t),Ext.GlobalEvents.fireEvent("scrollend",n,e,t)},getElementScroll:function(e){return e.getScroll()},initSnap:function(){var e,t,n,i=this,r=i.getSnapOffset(),o=i.getSnapSelector(),a=i.getElement();a&&o&&(a.addCls(i.snappableCls),i.removeSnapStylesheet(),r&&(e=r.x||0,t=r.y||0,e&&(e=-e+"px"),t&&(t=-t+"px")),n=e+" "+t+";",i.snapStylesheet=Ext.util.CSS.createStyleSheet("#"+a.id+" "+o+"{-webkit-scroll-snap-coordinate:"+n+"scroll-snap-coordinate:"+n+"}"))},initMsSnapInterval:function(){var e,t,n,i,r=this.getElement();r&&(e=this.getMsSnapInterval())&&(t=e.x,n=e.y,i=r.dom.style,t&&(i["-ms-scroll-snap-points-x"]="snapInterval(0px, "+t+"px)"),n&&(i["-ms-scroll-snap-points-y"]="snapInterval(0px, "+n+"px)"))},initXStyle:function(){var e=this.getElement(),t=this.getX();e&&e.dom&&(t?!0===t&&(t="auto"):t="hidden",e.setStyle("overflow-x",t))},initYStyle:function(){var e=this.getElement(),t=this.getY();e&&e.dom&&(t?!0===t&&(t="auto"):t="hidden",e.setStyle("overflow-y",t))},invokePartners:function(e,t,n){var i,r,o=this._partners,a="onPartnerScrollEnd"===e;if(!this.suspendSync&!this.isReflecting)for(r in o)(i=o[r].scroller).isReflecting=!0,i[e](this,t,n),a&&(i.isReflecting=!1)},clearReflecting:function(){this.isReflecting=!1},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(e){var t,n=this;n.suspendSync&&n.suspendSync--,!n.suspendSync&&e&&(t=n.getPosition(),n.invokePartners("onPartnerScroll",t.x,t.y),n.invokePartners("onPartnerScrollEnd",t.x,t.y))},updateDomScrollPosition:function(){var e,t=this.getScrollElement(),n=this.position;return t&&!t.destroyed&&(e=this.getElementScroll(t),n.x=e.left,n.y=e.top),this.positionDirty=!1,n},syncWithPartners:function(){var e,t,n,i=this._partners;for(e in this.isReflecting=!0,i)n=(t=i[e].scroller).getPosition(),this.onPartnerScroll(t,n.x,n.y);this.isReflecting=!1},syncScrollbarCls:function(){var e=this.getElement();e&&e.toggleCls(this.noScrollbarsCls,!1===this.getScrollbars())},onDomScroll:function(){var e,t,n,i=this;e=i.updateDomScrollPosition(),i.restoring||(t=e.x,n=e.y,i.isScrolling||(i.isScrolling=Ext.isScrolling=!0,i.fireScrollStart(t,n)),i.fireScroll(t,n),i.onDomScrollEnd())},onDomScrollEnd:function(){var e,t,n,i=this;i.destroying||i.destroyed||(t=(e=i.getPosition()).x,n=e.y,i.isScrolling=Ext.isScrolling=!1,i.trackingScrollLeft=t,i.trackingScrollTop=n,i.fireScrollEnd(t,n))},onPartnerScroll:function(e,t,n){var i=e._partners[this.getId()].axis;i&&("x"===i?n=null:"y"===i&&(t=null)),this.doScrollTo(t,n,!1,!0)},onPartnerScrollStart:Ext.privateFn,onPartnerScrollEnd:Ext.privateFn,removeSnapStylesheet:function(){var e=this.snapStylesheet;e&&(Ext.util.CSS.removeStyleSheet(e),this.snapStylesheet=null)},restoreState:function(){var e=this;e.getScrollElement()&&void 0!==e.trackingScrollTop&&(e.restoring=!0,Ext.defer(function(){e.restoring=!1},50),e.doScrollTo(e.trackingScrollLeft,e.trackingScrollTop,!1))}}},function(e){Ext.getViewportScroller=function(){return e.viewport||(e.viewport=new e)},Ext.setViewportScroller=function(t){e.viewport!==t&&(Ext.destroy(e.viewport),e.viewport=t.isScroller?t:new e(t))},Ext.onReady(function(){Ext.defer(function(){var e=Ext.getViewportScroller();e.getElement()||e.setElement(Ext.getBody())},100)})}),Ext.define("Ext.util.Floating",{mixinId:"floating",uses:["Ext.ZIndexManager"],focusOnToFront:!0,shadow:"sides",animateShadow:!1,constrain:!1,alignOnScroll:!0,config:{activeCounter:0,alwaysOnTop:!1},preventDefaultAlign:!1,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var e,t,n=this,i=n.el,r=n.shadow;r&&(t={mode:!0===r?"sides":r},(e=n.shadowOffset)&&(t.offset=e),t.animate=n.animateShadow,t.fixed=n.fixed,i.enableShadow(t,!1)),(n.shim||Ext.useShims)&&i.enableShim({fixed:n.fixed},!1),i.setVisibilityMode(n._visModeMap[n.hideMode]),n.el.on({mousedown:n.onMouseDown,scope:n,capture:!0}),n.registerWithOwnerCt(),n.initHierarchyEvents()},alignTo:function(e,t,n,i,r){var o,a,s,l,d,c,u=this;if(e.isComponent?(o=e.el,a=e.destroyed):a=!(s=(o=e=Ext.get(e)).dom)||Ext.isGarbage(s),a)return u._lastAlignTarget=null,void(u.alignListeners&&u.alignListeners.destroy());u.mixins.positionable.alignTo.call(u,o,t,n,i,!1!==r),l=u.getXY(),d=e.getXY(),u.alignVector=[l[0]-d[0],l[1]-d[1]],u._lastAlignTarget=e,u._lastAlignToPos=t,u._lastAlignToOffsets=n,u._topAlignTarget=u.getTopAlignTarget(),u.clearClip(),u.alignListeners||(c={resize:{fn:u.alignOnResize,buffer:100},scope:u,destroyable:!0},u.alignOnScroll&&!o.contains(u.el)&&(c.scroll=u.doRealign),u.alignListeners=Ext.on(c))},initFloatConstrain:function(){var e=this,t=e.floatParent;!e.constrain&&!e.constrainHeader||e.constrainTo||(e.constrainTo=t?t.getTargetEl():e.container)},initHierarchyEvents:function(){var e=this.syncHidden;this.hasHierarchyEventListeners||(this.mon(Ext.GlobalEvents,{hide:e,collapse:e,show:e,expand:e,added:e,scope:this}),this.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var e=this,t=e.ownerCt,n=e.zIndexParent;n&&n.unregisterFloatingItem(e),n=e.zIndexParent=e.up("[floating]"),e.floatParent=t||n,e.initFloatConstrain(),delete e.ownerCt,n?n.registerFloatingItem(e):Ext.WindowManager.register(e)},onMouseDown:function(e){var t,n,i=this,r=i.focusTask,o=i.getRefOwner(),a="touch"===e.pointerType;if(i.floating&&(!r||!r.id)){for(i.owns(Ext.Element.getActiveElement())&&(a=!0),t=e.target,n=i.el.dom;!a&&t&&t!==n;)Ext.fly(t).isFocusable()&&(a=!0),t=t.parentNode;Ext.WindowManager.getActive()===i&&(t===n||a)||i.toFront(a),!a&&o&&o.containsFocus&&e.preventDefault()}},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){var e=this.el;(e.shadow||e.shim)&&(e.setUnderlaysVisible(!0),e.syncUnderlays())},syncHidden:function(){var e=this,t=e.hidden||!e.rendered,n=e.hierarchicallyHidden=e.isHierarchicallyHidden(),i=e.pendingShow;t!==n&&(n?(e.hide(),e.pendingShow=!0):i&&(delete e.pendingShow,i.length?e.show.apply(e,i):e.show()))},setZIndex:function(e){return this.el.setZIndex(e),e+=10,this.floatingDescendants&&(e=100*Math.floor(this.floatingDescendants.setBase(e)/100)+1e4),e},doConstrain:function(e){var t=this.calculateConstrainedPosition(e,null,!0);t&&this.setPosition(t)},updateActiveCounter:function(e){var t=this.zIndexParent;t&&t!==t.zIndexManager.front&&!1!==this.bringParentToFront&&t.setActiveCounter(++Ext.ZIndexManager.activeCounter),(t=this.zIndexManager)&&t.onComponentUpdate(this)},updateAlwaysOnTop:function(e){var t=this.zIndexManager;t&&t.onComponentUpdate(this)},toFront:function(e){var t=this;return t.zIndexManager.bringToFront(t,e||!t.focusOnToFront)&&t.hasListeners.tofront&&t.fireEvent("tofront",t,t.el.getZIndex()),t},setActive:function(e,t){var n,i=this;e?(i.el.shadow&&!1!==i.el.getData().isVisible&&!i.maximized&&i.el.enableShadow(null,!0),t&&((n=Ext.ComponentManager.getActiveComponent())&&n.up(i)||i.focus()),i.fireEvent("activate",i)):i.fireEvent("deactivate",i)},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var e,t=this;return t.isVisible()?(e=t.getAlignToXY(t.container,"c-c"),t.setPagePosition(e)):t.needsCenter=!0,t},onFloatShow:function(){var e=this;e.needsCenter?e.center():e._lastAlignTarget&&e.alignTo(e._lastAlignTarget,e._lastAlignToPos,e._lastAlignToOffsets,!1,!e.fixed),e.needsCenter=!1},fitContainer:function(e){var t=this.floatParent,n=t?t.getTargetEl():this.container,i=n.getViewSize(),r=t||n.dom!==document.body?[0,0]:n.getXY();i.x=r[0],i.y=r[1],this.setBox(i,e)},privates:{onFloatDestroy:function(){this.clearAlignEl()},getTopAlignTarget:function(){for(var e=this._lastAlignTarget,t=e;e&&(t=e)&&e.isComponent;)e=t.isFloating()?t._lastAlignTarget:(e=t.up("{isFloating()}"))&&e._lastAlignTarget;return t},clearAlignEl:function(){var e=this;e._lastAlignTarget&&(e.alignListeners=Ext.destroy(e.alignListeners),Ext.un("scroll",e.doRealign,e),e._lastAlignToPos=e._lastAlignTarget=e._lastAlignToOffsets=e._topAlignTarget=null)},alignOnResize:function(){this.doRealign()},doRealign:function(e){var t,n,i,r=this,o=r._lastAlignTarget.el;o&&r.isVisible()&&((o.isComponent?o.destroyed:!(t=o.dom)||Ext.isGarbage(t))?r.clearAlignEl():(!e||e.getElement().contains(r._topAlignTarget.el)&&!e.getElement().contains(r.el))&&(i=[(n=o.getXY())[0]+r.alignVector[0],n[1]+r.alignVector[1]],r.setXY(i),e&&r.clipToScroller(e)))},clipToScroller:function(e){var t=this._topAlignTarget.getBox(),n=e.getElement().getConstrainRegion(),i=0;t.top<n.top&&(i=1),t.right>n.right&&(i|=2),t.bottom>n.bottom&&(i|=4),t.left<n.left&&(i|=8),i?this.clipTo(n,i):this.clearClip()}}}),Ext.define("Ext.util.ElementContainer",{mixinId:"elementCt",config:{childEls:{$value:{},cached:!0,lazy:!0,merge:function(e,t,n,i){var r,o,a=t?Ext.Object.chain(t):{};if(e instanceof Array)for(r=e.length;r--;)o=e[r],i&&o in a||("string"==typeof o?a[o]={name:o,itemId:o}:a[o.name]=o);else if(e)if(e.constructor===Object)for(r in e)i&&r in a||(!0===(o=e[r])?a[r]={itemId:r}:"string"==typeof o?a[r]={itemId:o}:(a[r]=o,"itemId"in o||(o.itemId=r)),a[r].name=r);else i&&e in a||(a[e]={name:e,itemId:e});return a}}},destroy:function(){var e,t,n=this.getChildEls();for(t in n)(e=this[t])&&(e.destroy&&(e.component=null,e.destroy()),this[t]=null)},privates:{addChildEl:function(e){var t=this.getChildEls();this.hasOwnProperty("childEls")||(this.childEls=t=Ext.Object.chain(t)),"string"==typeof e&&(e={name:e,itemId:e}),t[e.name]=e},afterClassMixedIn:function(e){var t=e.prototype,n=t.childEls;n&&(delete t.childEls,e.getConfigurator().add({childEls:n}))},attachChildEls:function(e,t){var n,i,r,o,a,s,l,d=this.getChildEls(),c=t||this,u=c.id+"-",h=!c.frame;for(n in d)if(r=d[n],!h||!r.frame){if((a=r.select)?s=e.select(a,!0):(a=r.selectNode)?s=e.selectNode(a,!1):(l=r.id)?s=Ext.cache[l]||e.getById(l):(l=u+r.itemId,s=Ext.cache[l]),s)if(s.isElement)s.component=c;else if(s.isComposite&&!s.isLite)for(o=(i=s.elements).length;o--;)i[o].component=c;this[n]=s||null}}}}),Ext.define("Ext.util.Renderable",{mixinId:"renderable",requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],frameTableTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ',Ext.baseCSSPrefix+'table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],_renderState:0,ariaEl:"el",_layerCls:Ext.baseCSSPrefix+"layer",_fixedLayerCls:Ext.baseCSSPrefix+"fixed-layer",ariaStaticRoles:{presentation:!0,article:!0,definition:!0,directory:!0,document:!0,img:!0,heading:!0,math:!0,note:!0,banner:!0,complementary:!0,contentinfo:!0,navigation:!0,search:!0,undefined:!0,null:!0},statics:{makeRenderSetter:function(e,t){var n=e.name;return function(i){var r=this,o=r.renderConfigs||(r.renderConfigs={}),a=o[t];return r._renderState>=t?(e.setter||e.getSetter()).call(r,i):(a||(o[t]=a={}),n in a||(a[n]=r[n]),r[n]=i),r}},processRenderConfig:function(e,t,n){var i,r,o,a,s=this.prototype,l=this.getConfigurator(),d=Ext.util.Renderable.makeRenderSetter,c=e[t];for(o in c)s[a=(r=Ext.Config.get(o)).names.set]||(i=r.renderSetter||(r.renderSetter={}),s[a]=i[n]||(i[n]=d(r,n)));delete e[t],l.add(c)}},onClassMixedIn:function(e){var t=e.override,n=this.processRenderConfig,i=function(e){e.beforeRenderConfig&&this.processRenderConfig(e,"beforeRenderConfig",1),e.renderConfig&&this.processRenderConfig(e,"renderConfig",3),t.call(this,e)},r=function(e,t){e.override=i,e.processRenderConfig=n,t.beforeRenderConfig&&e.processRenderConfig(t,"beforeRenderConfig",1),t.renderConfig&&e.processRenderConfig(t,"renderConfig",3)};r(e,e.prototype),e.onExtended(r)},afterRender:function(){var e,t,n,i,r,o=this,a={},s=o.protoEl,l=o.el;o.finishRenderChildren(),o._renderState=4,o.contentEl&&(i=(n=Ext.baseCSSPrefix)+"hidden-",(r=o.contentEl=Ext.get(o.contentEl)).component=o,r.removeCls([n+"hidden",i+"display",i+"offsets"]),o.getContentTarget().appendChild(r.dom)),s.writeTo(a),(t=a.removed)&&l.removeCls(t),(t=a.cls).length&&l.addCls(t),t=a.style,a.style&&l.setStyle(t),o.protoEl=null,o.ownerCt||o.skipLayout||o.updateLayout(),o.x&&o.y||!o.pageX&&!o.pageY||o.setPagePosition(o.pageX,o.pageY),o.disableOnRender&&o.onDisable(),(e=o.controller)&&e.afterRender&&e.afterRender(o)},afterFirstLayout:function(e,t){var n,i,r,o,a,s=this,l=s.x,d=s.y,c=s.defaultAlign,u=s.alignOffset;s.ownerLayout||(i=void 0!==l,r=void 0!==d),!s.floating||s.preventDefaultAlign||i&&r||(s.floatParent?(o=s.floatParent.getTargetEl().getViewRegion(),a=s.el.getAlignToXY(s.alignTarget||s.floatParent.getTargetEl(),c,u),o.x=a[0]-o.x,o.y=a[1]-o.y):(a=s.el.getAlignToXY(s.alignTarget||s.container,c,u),o=s.el.translateXY(a[0],a[1])),l=i?l:o.x,d=r?d:o.y,i=r=!0),(i||r)&&s.setPosition(l,d),s.onBoxReady(e,t),(n=s.controller)&&n.boxReady&&n.boxReady(s,e,t)},beforeRender:function(){var e,t=this,n=t.floating,i=t.getComponentLayout(),r=t.userCls;t._renderState=1,t.ariaUsesMainElement="el"===t.ariaEl,(e=t.controller)&&e.beforeRender&&e.beforeRender(t),t.initBindable(),t.renderConfigs&&t.flushRenderConfigs(),t.reference&&t.publishState(),r&&t.addCls(r),n&&(t.addCls(t.fixed?t._fixedLayerCls:t._layerCls),(r=n.cls)&&t.addCls(r)),t.frame=t.frame||t.alwaysFramed,i.initialized||i.initLayout(),t.initOverflow(),t.setUI(t.ui)},doApplyRenderTpl:function(e,t){var n=t.$comp;n.rendered||n.initRenderTpl().applyOut(t.renderData,e)},getElConfig:function(){var e,t=this,n=t.autoEl,i=t.getFrameInfo(),r={tag:"div",tpl:i?t.initFramingTpl(i.table):t.initRenderTpl()},o=t.layoutTargetCls,a=t.protoEl,s=t.ariaRole;return t.initStyles(a),o&&!i&&a.addCls(o),a.writeTo(r),a.flush(),n&&(Ext.isString(n)?r.tag=n:Ext.apply(r,n)),s&&t.ariaUsesMainElement&&(r.role=s,t.ariaStaticRoles[s]||(r["aria-hidden"]=!!t.hidden,r["aria-disabled"]=!!t.disabled,t.ariaLabel&&!t.ariaLabelledBy&&(r["aria-label"]=t.ariaLabel),t.collapsible&&(r["aria-expanded"]=!t.collapsed),t.ariaRenderAttributes&&Ext.apply(r,t.ariaRenderAttributes),t.config.ariaAttributes&&Ext.apply(r,t.getAriaAttributes()))),r.id=t.id,r.tpl&&(i?(r.tplData=e=t.getFrameRenderData(),e.renderData=t.initRenderData()):r.tplData=t.initRenderData()),t.ariaRenderAttributes=null,r},getInsertPosition:function(e){return void 0!==e&&(e=Ext.isNumber(e)?this.container.dom.childNodes[e]:Ext.getDom(e)),e},getRenderTree:function(){var e=this,t=null;return e.hasListeners.beforerender&&!1===e.fireEvent("beforerender",e)||(e._renderState=1,e.beforeRender(),e.rendering=!0,e._renderState=2,t=e.getElConfig(),e.el&&(t.id=e.$pid=Ext.id(null,e.el.identifiablePrefix))),t},initRenderData:function(){var e,t,n=this,i=n.ariaRole;return e=Ext.apply({$comp:n,id:n.id,ui:n.ui,uiCls:n.uiCls,baseCls:n.baseCls,componentCls:n.componentCls,frame:n.frame,hasTabGuard:!!n.tabGuard,scrollerCls:n.scrollerCls,childElCls:"",ariaEl:n.ariaEl},n.renderData),i&&!n.ariaUsesMainElement&&(t={role:i},n.ariaStaticRoles[i]||(t["aria-hidden"]=!!n.hidden,t["aria-disabled"]=!!n.disabled,n.ariaLabel&&!n.ariaLabelledBy&&(t["aria-label"]=n.ariaLabel),n.collapsible&&(t["aria-expanded"]=!n.collapsed),n.ariaRenderAttributes&&Ext.apply(t,n.ariaRenderAttributes),n.config.ariaAttributes&&Ext.apply(t,n.getAriaAttributes())),e.ariaAttributes=t),e},onRender:function(e,t){var n,i,r=this,o=r.x,a=r.y,s=null,l=r.el,d=r.scrollable;r.applyRenderSelectors(),d&&d.isScroller&&(d.setElement(r.getOverflowEl()),Ext.isIE&&(r.showListenerIE=Ext.on("show",r.onGlobalShow,r,{destroyable:!0}))),r.rendering=null,r.rendered=!0,r._renderState=3,r.renderConfigs&&r.flushRenderConfigs(),null!=o&&(s={x:o}),null!=a&&((s=s||{}).y=a),r.getFrameInfo()||(n=r.width,i=r.height,"number"==typeof n&&((s=s||{}).width=n),"number"==typeof i&&((s=s||{}).height=i)),r.lastBox=l.lastBox=s},render:function(e,t){var n,i,r,o=this,a=o.el,s=o.ownerLayout;a&&!a.isElement&&(o.wrapPrimaryEl(a),a=o.el),o.skipLayout||Ext.suspendLayouts(),e=o.initContainer(e),r=o.getInsertPosition(t),a?o.hasListeners.beforerender&&!1===o.fireEvent("beforerender",o)?n=!0:(o.beforeRender(),o.needsRenderTpl=o.rendering=!0,o._renderState=2,o.initStyles(a),!1!==o.allowDomMove&&(r?e.dom.insertBefore(a.dom,r):e.dom.appendChild(a.dom))):(i=o.getRenderTree(),s&&s.transformItemRenderTree&&(i=s.transformItemRenderTree(i)),i&&(a=r?Ext.DomHelper.insertBefore(r,i):Ext.DomHelper.append(e,i),o.wrapPrimaryEl(a),o.cacheRefEls(a))),a&&!n&&o.finishRender(t),o.skipLayout||Ext.resumeLayouts(!o.hidden&&!e.isDetachedBody)},ensureAttachedToBody:function(e){for(var t,n=this;n.ownerCt;)n=n.ownerCt;n.container.isDetachedBody&&(n.container=t=Ext.getBody(),t.appendChild(n.el.dom),e&&n.updateLayout(),"number"!=typeof n.x&&"number"!=typeof n.y||n.setPosition(n.x,n.y))},privates:{applyRenderSelectors:function(){var e,t,n=this,i=n.renderSelectors,r=n.el;if(n.attachChildEls(r),n.ariaEl=n[n.ariaEl]||n.el,i)for(t in i)(e=i[t])&&(n[t]=r.selectNode(e,!1))},cacheRefEls:function(e){e=e||this.el;var t,n,i=Ext.cache,r=Ext.dom.Element,o=(e.isElement?e.dom:e).querySelectorAll("[data-ref]"),a=o.length;for(n=0;n<a;n++)i[(t=o[n]).id]||new r(t)},doAutoRender:function(){var e=this;e.rendered||(e.floating?e.render(e.renderTo||document.body):e.render(Ext.isBoolean(e.autoRender)?Ext.getBody():e.autoRender))},doRenderContent:function(e,t){var n=t.$comp,i=n.data;n.html&&(Ext.DomHelper.generateMarkup(n.html,e),delete n.html),n.tpl&&(n.tpl.isTemplate||(n.tpl=new Ext.XTemplate(n.tpl)),i&&(n.data=i=i.isEntity?i.getData(!0):i,n.tpl.applyOut(i,e)))},doRenderFramingTabGuard:function(e,t,n){var i=t.$comp.layout;t.renderData.$skipTabGuards=!0,i&&i.doRenderTabGuard&&i.doRenderTabGuard.call(this,e,t,n)},flushRenderConfigs:function(){var e,t,n,i,r,o=this,a=o.renderConfigs,s=o._renderState;if(a){for(t=0;t<=s;++t)if(e=a[t])for(n in a[t]=null,e)r=e[n],(i||(i={}))[n]=o[n],o[n]=r;i&&o.setConfig(i)}},finishRender:function(e){var t,n,i,r,o,a,s,l=this,d=Ext.cache;if(!l.el||l.$pid)if(a=l.container?(s=d[l.id])?s.dom:l.container.getById(l.id,!0):(s=d[i=l.$pid||l.id])?s.dom:Ext.getDom(i),l.el){for(delete l.$pid,l.el.dom||l.wrapPrimaryEl(l.el),a.parentNode.insertBefore(l.el.dom,a),t=a,n=(a=l.el.dom).firstChild;t.firstChild;)a.insertBefore(t.firstChild,n);l.el.addCls(t.className),Ext.removeNode(t)}else l.wrapPrimaryEl(a);else l.needsRenderTpl&&((r=l.initRenderTpl())&&(o=l.initRenderData(),r.insertFirst(l.getTargetEl(),o)),l.cacheRefEls());l.el.component=l,l.container||(l.container=Ext.get(l.el.dom.parentNode)),l.ctCls&&l.container.addCls(l.ctCls),l.onRender(l.container,e),l.overflowInited||l.initOverflow(),l.el.setVisibilityMode(Ext.Element[l.hideMode.toUpperCase()]),l.overCls&&l.el.hover(l.addOverCls,l.removeOverCls,l),l.hasListeners.render&&l.fireEvent("render",l),l.afterRender(),l.hasListeners.afterrender&&l.fireEvent("afterrender",l),l.initEvents(),l.hidden&&l.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getFrameRenderData:function(){var e=this,t=e.frameSize,n="";return e._syncFrameHeight&&e.height&&(n="height:"+(e.height-t.height)+"px"),{$comp:e,id:e.id,fgid:e.id+"-frame",ui:e.ui,uiCls:e.uiCls,frameCls:e.frameCls,frameBodyCls:e.layoutTargetCls||"",baseCls:e.baseCls,hasTabGuard:e.tabGuard,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom,mcStyle:n,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var e,t,n,i,r,o,a,s,l,d,c,u,h,f=this,g=f.frameInfoCache,p=f.getFramingInfoCls()+"-frameInfo",m=g[p];return null==m&&((e=Ext.fly(f.getStyleProxy(p),"frame-style-el").getStyle("font-family"))?(e=e.split("-"),t=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10),r=parseInt(e[4],10),o=parseInt(e[5],10),a=parseInt(e[6],10),s=parseInt(e[7],10),l=parseInt(e[8],10),d=parseInt(e[9],10),c=parseInt(e[10],10),u=parseInt(e[11],10),h=parseInt(e[12],10),m={table:"t"===e[0].charAt(0),vertical:"v"===e[0].charAt(1),top:t,right:n,bottom:i,left:r,width:r+n,height:t+i,border:{top:o,right:a,bottom:s,left:l,width:l+a,height:o+s},padding:{top:d,right:c,bottom:u,left:h,width:h+c,height:d+u}}):m=!1,!0!==f.frame||m||Ext.log.error("You have set frame: true explicity on this component ("+f.getXType()+") and it does not have any framing defined in the CSS template. In this case IE cannot figure out what sizes to use and thus framing on this component will be disabled."),g[p]=m),f.frame=!!m,f.frameSize=m,m},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=e,t},getFrameTpl:function(e){return this.lookupTpl(e?"frameTableTpl":"frameTpl")},initContainer:function(e){var t=this;return!e&&t.el&&(e=t.el.dom.parentNode,t.allowDomMove=!1),t.container=e.dom?e:Ext.get(e),t.container},initOverflow:function(){var e=this.getOverflowStyle(),t=this.scrollFlags,n=this.getOverflowEl();(t.y||t.x)&&n&&n.isElement&&(this.overflowInited=!0,n.setStyle(e))},initFramingTpl:function(e){var t=this.getFrameTpl(e);return t&&!t.applyRenderTpl&&this.setupFramingTpl(t),t},initRenderTpl:function(){var e=this.lookupTpl("renderTpl");return e&&!e.renderContent&&this.setupRenderTpl(e),e},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl,e.renderTabGuard=this.doRenderFramingTabGuard},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t,n,i,r,o,a,s,l,d,c=this,u=c.el.dom,h=c.frameTable,f=c.frameBody,g=f.dom,p=c.getFrameInfo();for(n=document.createElement("div"),(o=c.getFrameRenderData()).hasTabGuard=!1,c.getFrameTpl(p.table).insertFirst(n,o),d=n.querySelectorAll("[data-ref]"),l=n.querySelector('[data-ref="frameBody"]'),r=g;r.parentNode!==u;)r=r.parentNode;for(;n.firstChild;)u.insertBefore(n.firstChild,r);for(t in l.parentNode.replaceChild(g,l),g.className=l.className,f.setSize(),e=c.getChildEls(),h&&(h.destroy(),c.frameTable=null),e)e[t].frame&&(i=c[t])&&i!==f&&(i.destroy(),c[t]=null);for(s=d.length;s--;)"frameBody"!==(t=(a=d[s]).getAttribute("data-ref"))&&(c[t]=new Ext.dom.Element(a))}},frameInfoCache:{}}}),Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(e){Ext.apply(this,e),this.state={},this.mixins.observable.constructor.call(this)},get:function(e,t){var n=this.state[e];return void 0===n?t:n},clear:function(e){delete this.state[e],this.fireEvent("statechange",this,e,null)},set:function(e,t){this.state[e]=t,this.fireEvent("statechange",this,e,t)},decodeValue:function(e){var t,n,i,r,o,a,s=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(e));if(s&&s[1])switch(n=s[1],e=s[2],n){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"===e;case"a":if(t=[],e)for(o=(r=e.split("^")).length,a=0;a<o;a++)e=r[a],t.push(this.decodeValue(e));return t;case"o":if(t={},e)for(o=(r=e.split("^")).length,a=0;a<o;a++)t[(i=(e=r[a]).split("="))[0]]=this.decodeValue(i[1]);return t;default:return e}},encodeValue:function(e){var t,n,i,r="",o=0;if(null==e)return"e:1";if("number"==typeof e)t="n:"+e;else if("boolean"==typeof e)t="b:"+(e?"1":"0");else if(Ext.isDate(e))t="d:"+e.toUTCString();else if(Ext.isArray(e)){for(n=e.length;o<n;o++)r+=this.encodeValue(e[o]),o!==n-1&&(r+="^");t="a:"+r}else if("object"==typeof e){for(i in e)"function"!=typeof e[i]&&void 0!==e[i]&&(r+=i+"="+this.encodeValue(e[i])+"^");t="o:"+r.substring(0,r.length-1)}else t="s:"+e;return escape(t)}}),Ext.define("Ext.state.Manager",{singleton:!0,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixinId:"state",requires:["Ext.state.Manager","Ext.util.TaskRunner"],config:{stateful:null},saveDelay:100,constructor:function(){var e=this;e.stateEvents||(e.stateEvents=[]),e.stateful&&(e.addStateEvents(e.stateEvents),e.initState())},addStateEvents:function(e){var t,n,i,r,o=this;if(o.stateful&&o.getStateId())for(r="string"==typeof e?arguments:e,i=o.stateEventsByName||(o.stateEventsByName={}),t=r.length;t--;)(n=r[t])&&!i[n]&&(i[n]=1,o.on(n,o.onStateChange,o))},onStateChange:function(){var e,t,n=this,i=n.saveDelay;n.stateful&&(i?(n.stateTask||(t=(e=Ext.state.Stateful).runner||(e.runner=new Ext.util.TaskRunner),n.stateTask=t.newTask({run:n.saveState,scope:n,interval:i,repeat:1,fireIdleEvent:!1})),n.stateTask.start()):n.saveState())},saveState:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getStateful(),c=d&&l.getStateId(),u=l.hasListeners;if(c){if(a=l.getState()||{},Ext.isObject(d))for(r in t=(t=l.self.getConfigurator()).configs,d)d[r]?r in a||(e=t[r],a[r]=e?l[e.get]():l[r]):delete a[r];for(r=0,o=(n=l.getPlugins()||[]).length;r<o;r++)(i=n[r])&&i.getState&&(s=i.getState(a))&&!a[i.ptype]&&(a[i.ptype]=s);u.beforestatesave&&!1===l.fireEvent("beforestatesave",l,a)||(Ext.state.Manager.set(c,a),u.statesave&&l.fireEvent("statesave",l,a))}},getState:function(){return null},applyState:function(e){e&&Ext.apply(this,e)},getStateId:function(){return this.stateId||(this.autoGenId?null:this.id)},initState:function(){var e,t,n,i,r,o,a,s=this,l=s.stateful&&s.getStateId(),d=s.hasListeners;if(l&&(t=Ext.state.Manager.get(l))&&(e=Ext.apply({},t),!d.beforestaterestore||!1!==s.fireEvent("beforestaterestore",s,t))){for(n=0,i=(r=s.getPlugins()||[]).length;n<i;n++)(o=r[n])&&(a=o.ptype,o.applyState&&o.applyState(e[a],t),delete e[a]);s.applyState(e),d.staterestore&&s.fireEvent("staterestore",s,t)}},savePropToState:function(e,t,n){var i=this[e],r=this.initialConfig;return!(!this.hasOwnProperty(e)||r&&r[e]===i)&&(t&&(t[n||e]=i),!0)},savePropsToState:function(e,t){var n,i;if("string"==typeof e)this.savePropToState(e,t);else for(n=0,i=e.length;n<i;++n)this.savePropToState(e[n],t);return t},destroy:function(){var e=this.stateTask;e&&(e.destroy(),this.stateTask=null)}}),Ext.define("Ext.util.Focusable",{mixinId:"focusable",hasFocus:!1,focusable:!1,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){var e=this;Ext.destroy(e.focusListeners),e.focusListeners=e.focusEnterEvent=e.focusTask=null,e.focusEl=e.ariaEl=null},enableFocusable:Ext.emptyFn,disableFocusable:function(){var e,t,n=this,i=n.focusCls;n.hasFocus&&(e=n.findFocusTarget())&&e.focus(),t=n.getFocusClsEl(),i&&t&&t.removeCls(n.removeClsWithUI(i,!0))},isFocusable:function(e){var t;return!!(this.focusable||this.isContainer&&e)&&(!(!(t=this.getFocusEl())||!this.canFocus())&&t.isFocusable(e))},canFocus:function(e,t){var n=this;return(n.isContainer||n.focusable)&&n.rendered&&!n.destroying&&!n.destroyed&&!n.disabled&&(e||n.isVisible(!0))||t&&!!n.findFocusTarget()},focus:function(e,t,n,i){var r,o,a,s=this;if((s.focusable||s.isContainer)&&!s.destroyed&&!s.destroying){if(t)return s.getFocusTask().delay(Ext.isNumber(t)?t:10,s.focus,s,[e,!1,n,i]),s;if(s.cancelFocus(),s.canFocus()){if(r=s.getFocusEl()){if(r.isComponent)return r.focus(e,t,n,i);(o=r.dom)&&(s.floating&&(a=s.container.dom.scrollTop),r.focus(),e&&(Ext.isArray(e)?s.selectText&&s.selectText.apply(s,e):o.select?o.select():s.selectText&&s.selectText()),Ext.callback(n,i)),s.floating&&void 0!==a&&(s.container.dom.scrollTop=a)}}else if(r=s.findFocusTarget())return r.focus(e,t,n,i);return s}},cancelFocus:function(){var e=this.getFocusTask();e&&e.cancel()},beforeBlur:Ext.emptyFn,onBlur:function(e){var t,n=this,i=n.focusableContainer,r=n.focusCls;n.focusable&&!n.destroying&&(n.hasFocus=!1,n.beforeBlur(e),i&&i.beforeFocusableChildBlur(n,e),t=n.getFocusClsEl(),r&&t&&t.removeCls(n.removeClsWithUI(r,!0)),n.fireEvent("blur",n,e),n.postBlur(e),i&&i.afterFocusableChildBlur(n,e))},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(e){var t,n=this,i=n.focusableContainer,r=n.focusCls;n.focusable&&n.canFocus()&&(n.beforeFocus(e),i&&i.beforeFocusableChildFocus(n,e),t=n.getFocusClsEl(),r&&t&&t.addCls(n.addClsWithUI(r,!0)),n.hasFocus||(n.hasFocus=!0,n.fireEvent("focus",n,e)),n.postFocus(e),i&&i.afterFocusableChildFocus(n,e))},postFocus:Ext.emptyFn,getTabIndex:function(){var e,t,n=this;if(n.focusable){if(e=n.rendered&&n.getFocusEl()){if(e.isComponent)t=e.getTabIndex();else{if(!e.isElement)return;t=e.getAttribute("tabIndex")}n.tabIndex=t}else t=n.tabIndex;return t-0}},setTabIndex:function(e,t){var n;this.focusable&&(this.tabIndex=e,this.rendered&&(n=t||this.getFocusEl())&&(n.isComponent?n.setTabIndex(e):n.isElement&&n.set({tabIndex:e})))},onFocusEnter:function(e){var t=this;t.destroying||t.destroyed||(t.floating&&t!==t.zIndexManager.getActive()&&t.toFront(!0),t.focusEnterEvent=e,t.containsFocus=!0,t.fireEvent("focusenter",t,e))},onFocusLeave:function(e){var t=this;t.destroying||t.destroyed||(t.focusEnterEvent=null,t.containsFocus=!1,t.fireEvent("focusleave",t,e))},privates:{revertFocus:function(){var e,t=this.focusEnterEvent;!this.preventRefocus&&this.el.contains(Ext.Element.getActiveElement())&&t&&(e=t&&t.relatedTarget,Ext.getDoc().contains(e)&&Ext.fly(e).isFocusable()?e.focus():t.fromComponent&&t.fromComponent.focus&&t.fromComponent.focus())},findFocusTarget:function(){var e,t,n;for(e=this.up(":visible(true):not([disabled]):not([destroying])");e;e=e.up(":visible(true):not([disabled]):not([destroying])")){if((t=Ext.ComponentQuery.query(":canfocus()",e)).length)return t[(n=Ext.Array.indexOf(t,Ext.ComponentManager.getActiveComponent()))+1]||t[n-1]||t[0];if(e.isFocusable&&e.isFocusable())return e}},initFocusableElement:function(){var e=this,t=e.tabIndex,n=e.getFocusEl();n&&!n.isComponent&&(e.focusEl=n,null!=t&&e.canFocus(!0)&&e.setTabIndex(t,n),n.dom.setAttribute("data-componentid",e.id))},getFocusTask:function(){return this.focusTask||(this.focusTask=Ext.focusTask),this.focusTask},handleFocusEvent:function(e){var t;this.isFocusing(e)&&((t=new Ext.event.Event(e.event)).type="focus",t.relatedTarget=e.fromElement,t.target=e.toElement,this.onFocus(t))},handleBlurEvent:function(e){var t;this.isBlurring(e)&&((t=new Ext.event.Event(e.event)).type="blur",t.target=e.fromElement,t.relatedTarget=e.toElement,this.onBlur(t))},isFocusing:function(e){var t;return!(!this.focusable||!(t=this.getFocusEl()))&&(t.isComponent?t.isFocusing(e):e.toElement===t.dom&&e.fromElement!==e.toElement)},isBlurring:function(e){var t;return!(!this.focusable||!(t=this.getFocusEl()))&&(t.isComponent?t.isBlurring(e):e.fromElement===t.dom&&e.fromElement!==e.toElement)},blur:function(){var e,t=this;if(t.focusable&&t.canFocus())return(e=t.getFocusEl())&&(t.blurring=!0,e.blur(),delete t.blurring),t},disableTabbing:function(){var e,t=this.el;t&&t.saveTabbableState(),(e=this.getFocusEl())&&(e.isComponent?e.disableTabbing():e.isElement&&t&&!t.contains(e)&&e.saveTabbableState())},enableTabbing:function(){var e,t=this.el;(e=this.getFocusEl())&&(e.isComponent?e.enableTabbing():e.isElement&&t&&!t.contains(e)&&e.restoreTabbableState()),t&&t.restoreTabbableState()},updateMaskState:function(e,t){var n,i=this,r=i.ariaEl.dom;e?(i.disableTabbing(),i.setMasked(!0),r&&(r.setAttribute("aria-busy","true"),(n=r.getAttribute("aria-describedby"))&&(i._savedAriaDescribedBy=n),r.setAttribute("aria-describedby",t.ariaEl.id))):(i.enableTabbing(),i.setMasked(!1),r&&(r.removeAttribute("aria-busy"),n=r.getAttribute("aria-describedby"),r.removeAttribute("aria-describedby"),n===t.ariaEl.id&&i._savedAriaDescribedBy&&(r.setAttribute("aria-describedby",i._savedAriaDescribedBy),delete i._savedAriaDescribedBy)))}}},function(){Ext.focusTask||(Ext.focusTask=new Ext.util.DelayedTask)}),Ext.define("Ext.mixin.Accessible",{extend:"Ext.Mixin",mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:!0}},privates:{getAriaLabelEl:function(e){var t,n,i,r,o=[];if(e){if(Ext.isFunction(e))return e.call(this);if(Ext.isArray(e)||(e=[e]),t=this.lookupReferenceHolder())for(n=0,i=e.length;n<i;n++)(r=t.lookupReference(e[n]))&&o.push(r.ariaEl.id)}return o.length?o.join(" "):null}}}),Ext.define("Ext.mixin.Keyboard",function(e){return{extend:"Ext.Mixin",mixinConfig:{id:"keyboard"},config:{keyMap:{$value:null,cached:!0,merge:function(e,t,n,i){if(null===e)return e;var r,o,a,s,l=t?Ext.Object.chain(t):{};for(r in e)"scope"!==r&&(o=r.toUpperCase(),i&&void 0!==l[o]||((a=e[r])&&(s=(a="string"==typeof a||"function"==typeof a?{handler:a}:Ext.apply({handler:a.fn},a)).scope||e.scope||"self",a.scope="controller"===s?"self.controller":s),l[o]=a));return l}},keyMapEnabled:null},keyMapTarget:"el",applyKeyMap:function(t,n){var i,r,o,a;if(t){for(o in n&&this.isConfiguring&&(n=Ext.apply({},n)),i=t.scope||"controller",t)if("scope"!==o){if(a=t[o])"string"==typeof a||"function"==typeof a?a={handler:a,scope:i}:a&&(a=Ext.apply({handler:a.fn,scope:i},a)),n=n||{};else if(void 0===a&&Ext.raise('keyMap entry "'+o+'" is undefined'),!n)continue;e.parseEntry(o,r=a||{})?n[r.name]=a:Ext.raise('Invalid keyMap key specification "'+o+'"')}}else n=null;return this._keyMapReady&&this.setKeyMapListener(n&&this.getKeyMapEnabled()),n||null},initKeyMap:function(){var e=this,t=e.getKeyMapEnabled();e._keyMapReady=!0,null===t?e.setKeyMapEnabled(!0):e.setKeyMapListener(t&&e.getKeyMap())},updateKeyMapEnabled:function(e){this.setKeyMapListener(e&&this._keyMapReady&&this.getKeyMap())},privates:{_keyMapListenCount:0,_keyMapReady:!1,callKeyMapEntry:function(e,t){return e&&Ext.callback(e.handler,e.scope,[t,this],0,this)},findKeyMapEntry:function(t){var n,i,r=this.getKeyMap();if(r)for(n in r)if(e.matchEntry(n,i=r[n],t))return i;return null},onKeyMapEvent:function(e){var t=this.getKeyMapEnabled()?this.findKeyMapEntry(e):null;return this.callKeyMapEntry(t,e)},setKeyMapListener:function(e){var t,n=this,i=n._keyMapListener;++n._keyMapListenCount,i&&(i.destroy(),i=null),e&&("function"==typeof(t=n[n.keyMapTarget])&&(t=t.call(n)),i=t.on({destroyable:!0,scope:n,keydown:"onKeyMapEvent",keypress:"onKeyMapEvent"})),n._keyMapListener=i||null},statics:{_charCodeRe:/^#([\d]+)$/,_hyphenRe:/^[a-z]+\-/i,_keyMapEvents:{charCode:"keypress",keyCode:"keydown"},matchEntry:function(e,t,n){var i,r=n.browserEvent;if(n.type!==t.event)return!1;if(i=t.charCode){if(n.getCharCode()!==i)return!1}else if(t.keyCode!==n.keyCode||!t.shiftKey!=!r.shiftKey)return!1;return!t.ctrlKey==!r.ctrlKey&&!t.altKey==!r.altKey&&!t.metaKey==!r.metaKey},parseEntry:function(e,t){e=e.toUpperCase();var n,i,r,o=Ext.event.Event,a=o.keyFlags,s=this._hyphenRe.test(e)?"-":"+",l=e===s?[s]:e.split(s),d=l.length-1,c=l[d],u=c,h="keyCode";for(i=0;i<d;i++){if(!a[l[i]])return!1;t[a[l[i]]]=!0}return d&&(u=t.ctrlKey?"CTRL+":"",u+=t.altKey?"ALT+":"",u+=t.metaKey?"META+":"",u+=t.shiftKey?"SHIFT+":"",u+=c),t.name=u,isNaN(n=o[c])&&((r=this._charCodeRe.exec(c))?n=+r[1]:1===c.length&&(n=c.charCodeAt(0)),n?h="charCode":n=+c),t.event=t.event||this._keyMapEvents[h],!isNaN(n)&&(t[h]=n)}}}}}),Ext.define("Ext.Component",{alternateClassName:"Ext.AbstractComponent",xtype:["component","box"],requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement","Ext.dom.CompositeElement","Ext.scroll.Scroller"],mixins:["Ext.mixin.Inheritable","Ext.util.Floating","Ext.util.Positionable","Ext.util.Observable","Ext.mixin.ComponentDelegation","Ext.mixin.Bindable","Ext.util.Animate","Ext.util.ElementContainer","Ext.util.Renderable","Ext.state.Stateful","Ext.util.Focusable","Ext.mixin.Accessible","Ext.mixin.Keyboard"],uses:["Ext.overrides.*","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentLoader","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager","Ext.util.DelayedTask","Ext.resizer.Resizer","Ext.util.ComponentDragger"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:Ext.baseCSSPrefix+"aria-highcontrast",cancelLayout:function(e,t){var n=this.runningLayoutContext||this.pendingLayouts;n&&n.cancelComponent(e,!1,t)},fromElement:function(e,t,n){return Ext.ComponentManager.fromElement(e,t,n)},flushLayouts:function(){var e=this,t=e.pendingLayouts;t&&t.invalidQueue.length&&(e.pendingLayouts=null,e.runningLayoutContext=t,Ext.override(t,{runComplete:function(){e.runningLayoutContext=null;var t,n=Ext.scroll.Scroller,i=Ext.GlobalEvents;return n.viewport&&n.viewport.restoreState(),t=this.callParent(),i.hasListeners.afterlayout&&i.fireEvent("afterlayout"),t}}),t.run())},resumeLayouts:function(e){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(e&&this.flushLayouts(),Ext.GlobalEvents.hasListeners.resumelayouts&&Ext.GlobalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var n=this,i=n.runningLayoutContext;i?i.queueInvalidate(e):((n.pendingLayouts||(n.pendingLayouts=new Ext.layout.Context)).queueInvalidate(e),t||n.layoutSuspendCount||e.isLayoutSuspended()||n.flushLayouts())}},$configPrefixed:!1,$configStrict:!1,clearPropertiesOnDestroy:"async",manageLayoutScroll:!0,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},renderConfig:{touchAction:null},defaultBindProperty:"html",alignTarget:null,autoRender:!1,autoShow:!1,baseCls:Ext.baseCSSPrefix+"component",childEls:{frameTable:{frame:!0},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:!1,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:(re=["input","select","textarea","optgroup","option","table"],!Ext.isIE9m||Ext.isIE9&&!Ext.isIEQuirks||re.push("p"),new RegExp("^(?:"+re.join("|")+")$","i")),disabledCls:Ext.baseCSSPrefix+"item-disabled",draggable:!1,floating:!1,hidden:!1,hideMode:"display",maskElement:null,renderTpl:"{%this.renderContent(out,values)%}",resizeHandles:"all",shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:"overwrite",ui:"default",uiCls:[],userCls:null,weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:Ext.baseCSSPrefix+"border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:!1,frameSize:null,horizontalPosProp:"left",isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,liquidLayout:!1,maskOnDisable:!0,rendered:!1,rootCls:Ext.baseCSSPrefix+"body",scrollerCls:Ext.baseCSSPrefix+"scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:!0,y:!0,both:!0},false:{overflowX:"auto",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"auto",overflowY:"scroll",x:!0,y:!0,both:!0}},false:{auto:{overflowX:"hidden",overflowY:"auto",x:!1,y:!0,both:!1},false:{overflowX:"hidden",overflowY:"hidden",x:!1,y:!1,both:!1},scroll:{overflowX:"hidden",overflowY:"scroll",x:!1,y:!0,both:!1}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:!0,y:!0,both:!0},false:{overflowX:"scroll",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"scroll",overflowY:"scroll",x:!0,y:!0,both:!0}},none:{overflowX:"",overflowY:"",x:!1,y:!1,both:!1}},_scrollableCfg:{x:{x:!0,y:!1},y:{x:!1,y:!0},horizontal:{x:!0,y:!1},vertical:{x:!1,y:!0},both:{x:!0,y:!0},true:{x:!0,y:!0}},validIdRe:Ext.validIdRe,constructor:function(e){var t,n,i,r,o,a,s,l,d=this;if((e=e||{}).initialConfig?(e.isAction&&(d.baseAction=e),e=e.initialConfig):(e.tagName||e.dom||Ext.isString(e))&&(e={applyTo:e,id:e.id||e}),d.initialConfig=e,d.getId(),d.protoEl=new Ext.util.ProtoElement,d.$calledInitConfig=!0,d.initConfig(e),delete d.$calledInitConfig,null==d.scrollable&&((o=d.autoScroll)?l=!!o:(a=d.overflowX,s=d.overflowY,(a||s)&&(l={x:!(!a||"hidden"===a)&&a,y:!(!s||"hidden"===s)&&s})),l&&d.setScrollable(l)),(i=d.xhooks)&&(delete d.xhooks,Ext.override(d,i)),d.mixins.elementCt.constructor.call(d),d.validIdRe.test(d.id)||Ext.raise('Invalid component "id": "'+d.id+'"'),d.validIdRe.test(d.itemId)||Ext.raise('Invalid component "itemId": "'+d.itemId+'"'),d.setupProtoEl(),d.cls&&(d.initialCls=d.cls,d.protoEl.addCls(d.cls)),d.style&&(d.initialStyle=d.style,d.protoEl.setStyle(d.style)),d.renderData=d.renderData||{},d.initComponent(),d.preventRegister||Ext.ComponentManager.register(d),d.mixins.state.constructor.call(d),d.addStateEvents("resize"),(r=d.getController())&&r.init(d),d.plugins)for(t=0,n=d.plugins.length;t<n;t++)d.plugins[t]=d.initPlugin(d.plugins[t]);d.loader=d.getLoader(),d.disabled&&(d.disabled=!1,d.disable(!0)),d.renderTo&&d.render(d.renderTo),d.autoShow&&!d.$initParent&&d.show(),Ext.isDefined(d.disabledClass)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls."),d.disabledCls=d.disabledClass,delete d.disabledClass),d.baseAction&&d.baseAction.addComponent(d)},beforeInitConfig:function(){this.$calledInitConfig||Ext.raise("initConfig should not be called by subclasses, it will be called by Ext.Component"),this.mixins.observable.constructor.call(this)},addCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.addCls.apply(t,arguments),this},addClsWithUI:function(e,t){var n,i,r=this,o=[],a=0,s=r.uiCls=Ext.Array.clone(r.uiCls),l=r.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),n=e.length;a<n;a++)(i=e[a])&&!r.hasUICls(i)&&(s.push(i),l&&(o=o.concat(r.addUIClsToElement(i))));return!0!==t&&l&&r.addCls(o),o},afterComponentLayout:function(e,t,n,i){var r=this,o=r.scrollable;1==++r.componentLayoutCounter?r.afterFirstLayout(e,t):r.manageLayoutScroll&&o&&o.restoreState(),e===n&&t===i||r.onResize(e,t,n,i),r.floating&&r.onAfterFloatLayout()},addPlugin:function(e){var t=this;return e=t.constructPlugin(e),t.plugins?t.plugins.push(e):t.plugins=[e],t.pluginsInitialized&&t.initPlugin(e),e},addPropertyToState:function(e,t,n){var i=arguments.length;return(3===i||this.hasOwnProperty(t))&&(i<3&&(n=this[t]),n!==this.initialConfig[t]&&((e||(e={}))[t]=n)),e},addUIClsToElement:function(e){var t,n,i,r,o=this,a=o.baseCls+"-"+o.ui+"-"+e,s=[Ext.baseCSSPrefix+e,o.baseCls+"-"+e,a];if(o.rendered&&o.frame&&!Ext.supports.CSS3BorderRadius)for(n in a+="-",t=o.getChildEls())(r=t[n].frame)&&!0!==r&&(i=o[n])&&i.addCls(a+r);return s},removeUIClsFromElement:function(e){var t,n,i,r,o=this,a=o.baseCls+"-"+o.ui+"-"+e,s=[Ext.baseCSSPrefix+e,o.baseCls+"-"+e,a];if(o.rendered&&o.frame&&!Ext.supports.CSS3BorderRadius)for(n in a+="-",t=o.getChildEls())(r=t[n].frame)&&!0!==r&&(i=o[n])&&i.removeCls(a+r);return s},adjustPosition:function(e,t){var n;return this.isContainedFloater()&&(e+=(n=this.floatParent.getTargetEl().getViewRegion()).left,t+=n.top),{x:e,y:t}},afterHide:function(e,t){var n=this,i=n.focusableContainer;delete n.getInherited().topmostFocusEvent,n.hiddenByLayout=null,n.ownerLayout&&n.updateLayout({isRoot:!1}),i&&i.onFocusableChildHide(n),n.fireHierarchyEvent("hide"),n.fireEvent("hide",n),Ext.callback(e,t||n)},afterSetPosition:function(e,t){this.onPosition(e,t),this.hasListeners.move&&this.fireEvent("move",this,e,t)},afterShow:function(e,t,n){var i,r,o,a=this,s=a.el;e=a.getAnimateTarget(e),a.ghost||(e=null),e?(r={x:s.getX(),y:s.getY(),width:s.dom.offsetWidth,height:s.dom.offsetHeight},i={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},a.fireHierarchyEvent("show"),(o=a.ghost()).el.stopAnimation(),o.setX(-1e4),a.ghostBox=r,o.el.animate({from:i,to:r,listeners:{afteranimate:function(){a.destroying||(o.componentLayout.lastComponentSize=null,a.unghost(),a.ghostBox=null,a.onShowComplete(t,n))}}})):(a.onShowComplete(t,n),a.fireHierarchyEvent("show"))},animate:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x=this;return o=(e=e||{}).to||{},Ext.fx.Manager.hasFxBlock(x.id)?x:((t=Ext.isDefined(o.width))&&(r=Ext.Number.constrain(o.width,x.minWidth,x.maxWidth)),(n=Ext.isDefined(o.height))&&(i=Ext.Number.constrain(o.height,x.minHeight,x.maxHeight)),e.dynamic||!t&&!n||(d=l=(e.from?e.from.width:void 0)||x.getWidth(),u=c=(e.from?e.from.height:void 0)||x.getHeight(),h=!1,n&&i>c&&(u=i,h=!0),t&&r>l&&(d=r,h=!0),(n||t)&&"hidden"!==(m=x.el.getStyle("overflow"))&&x.el.setStyle("overflow","hidden"),h&&(a=!Ext.isNumber(x.width),s=!Ext.isNumber(x.height),x.setSize(d,u),x.el.setSize(l,c),a&&delete x.width,s&&delete x.height),t&&(o.width=r),n&&(o.height=i)),f=x.constrain,g=x.constrainHeader,(f||g)&&(x.constrain=x.constrainHeader=!1,p=e.callback,e.callback=function(){x.constrain=f,x.constrainHeader=g,p&&p.call(e.scope||x,arguments),"hidden"!==m&&x.el.setStyle("overflow",m)}),x.mixins.animate.animate.apply(x,arguments))},applyScrollable:function(e,t){var n,i=this,r=i.rendered;return e?(!0!==e&&"string"!=typeof e||((n=i._scrollableCfg[e])||Ext.raise("'"+e+"' is not a valid value for 'scrollable'"),e=n),t?(t.setConfig(e),e=t):(e=Ext.Object.chain(e),r&&(e.element=i.getOverflowEl()),(e=Ext.scroll.Scroller.create(e,i.scrollableType)).component=i)):t&&(e=t,t.setConfig({x:!1,y:!1})),!i.rendered||i.destroying||i.destroyed||(e?i.getOverflowStyle():i.scrollFlags=i._scrollFlags.none,i.updateLayout()),e},applyTouchAction:function(e,t){return null!=t&&(e=Ext.merge({},t,e)),e},beforeDestroy:Ext.emptyFn,beforeLayout:function(){this.floating&&this.onBeforeFloatLayout()},beforeSetPosition:function(e,t,n){var i,r,o,a,s=this,l=null;return e&&(Ext.isNumber(i=e[0])?(n=t,t=e[1],e=i):void 0!==(i=e.x)&&(n=t,t=e.y,e=i)),(s.constrain||s.constrainHeader)&&(l=s.calculateConstrainedPosition(null,[e,t],!0))&&(e=l[0],t=l[1]),o=void 0!==t,((r=void 0!==e)||o)&&(s.x=e,s.y=t,l={x:(a=s.adjustPosition(e,t)).x,y:a.y,anim:n,hasX:r,hasY:o}),l},beforeShow:Ext.emptyFn,bubble:function(e,t,n){for(var i=this;i&&!1!==e.apply(t||i,n||[i]);)i=i.getBubbleTarget();return this},clearListeners:function(){this.mixins.observable.clearListeners.call(this),this.mixins.componentDelegation.clearDelegatedListeners.call(this)},cloneConfig:function(e){var t=(e=e||{}).id||Ext.id(),n=Ext.applyIf(e,this.initialConfig);return n.id=t,new(Ext.getClass(this))(n)},destroy:function(){var e=this;e.hasListeners.beforedestroy&&!1===e.fireEvent("beforedestroy",e)||(e.isDestroying=e.destroying=!0,e.doDestroy(),e.clearListeners(),e.isDestroying=e.destroying=!1,e.callParent(),e.mixins.componentDelegation.destroyComponentDelegation.call(e),e.mixins.observable.destroyObservable.call(e,!0))},doDestroy:function(){var e,t,n,i=this,r=i.focusableContainer,o=i.renderSelectors;if(t=i.floatParent||i.ownerCt,i.floating&&(delete i.floatParent,i.zIndexManager&&!i.zIndexManager.destroyed&&i.zIndexManager.unregister(i),i.floating=!0),i.removeBindings(),i.beforeDestroy.$emptyFn||i.beforeDestroy(),i.destroyBindable(),t&&t.remove&&t.remove(i,!1),i.stopAnimation(),i.rendered&&Ext.destroy(i.loadMask,i.dd,i.resizer,i.proxy,i.proxyWrap,i.resizerComponent,i.scrollable,i.contentEl),r&&r.onFocusableChildDestroy(i),i.focusable&&i.destroyFocusable(),Ext.destroy(i.componentLayout,i.loadMask,i.floatingDescendants),i.onDestroy.$emptyFn||i.onDestroy(),Ext.destroy(i.plugins),i.rendered&&Ext.Component.cancelLayout(i,!0),i.componentLayout=null,i.hasListeners.destroy&&i.fireEvent("destroy",i),i.preventRegister||Ext.ComponentManager.unregister(i),i.mixins.state.destroy.call(i),i.floating&&i.onFloatDestroy(),i.rendered){if(i.showListenerIE&&(i.showListenerIE.destroy(),i.showListenerIE=null),i.preserveElOnDestroy||i.el.destroy(),i.el.component=null,i.mixins.elementCt.destroy.call(i),o)for(e in o)o.hasOwnProperty(e)&&(n=i[e])&&(delete i[e],n.destroy());i.rendered=!1}},disable:function(e,t){var n=this,i=n.focusableContainer,r=n.getInherited();return t||(r.disabled=!0,n.savedDisabled=!0),n.maskOnDisable&&(r.disableMask=!0),n.disabled||(i&&i.beforeFocusableChildDisable(n),n.addCls(n.disabledCls),n.rendered?n.onDisable():n.disableOnRender=!0,n.disabled=!0,!0!==e&&n.fireEvent("disable",n),i&&i.onFocusableChildDisable(n)),n},doFireEvent:function(e,t,n){var i,r=this;return!1===(i=r.mixins.observable.doFireEvent.call(r,e,t,n))||r.destroyed||(i=r.mixins.componentDelegation.doFireDelegatedEvent.call(r,e,t)),i},enable:function(e,t){var n=this,i=n.focusableContainer,r=n.getInherited();return t||(delete n.getInherited().disabled,n.savedDisabled=!1),n.maskOnDisable&&delete r.disableMask,n.disabled&&(t&&r.hasOwnProperty("disabled")||(i&&i.beforeFocusableChildEnable(n),n.disableOnRender=!1,n.removeCls(n.disabledCls),n.rendered&&n.onEnable(),n.disabled=!1,!0!==e&&n.fireEvent("enable",n),i&&i.onFocusableChildEnable(n))),n},findParentBy:function(e){var t;for(t=this.getRefOwner();t&&!e(t,this);t=t.getRefOwner());return t||null},findParentByType:function(e){return Ext.isFunction(e)?this.findParentBy(function(t){return t.self===e||t.constructor===e}):this.up(e)},findPlugin:function(e){var t,n=this.plugins,i=n&&n.length;for(t=0;t<i;t++)if(n[t].ptype===e)return n[t]},getAnimateTarget:function(e){return(e=e||this.animateTarget)&&(e=e.isComponent?e.getEl():Ext.get(e)),e||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var e=this;return e.componentLayout&&e.componentLayout.isLayout||e.setComponentLayout(Ext.layout.Layout.create(e.componentLayout,"autocomponent")),e.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(e){var t=this,n=t.componentLayout;t.hidden&&(e.hidden=!0),t.collapseImmune&&(e.collapseImmune=!0),void 0!==t.modelValidation&&(e.modelValidation=t.modelValidation),t.savedDisabled&&(e.disabled=!0),t.mixins.bindable.initInheritedState.call(t,e),n&&n.initInheritedState&&n.initInheritedState(e)},getId:function(){var e,t=this;return t.id||(t.id=t.initialConfig.id)||(e=(e=t.getXType())?e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",t.id=e+"-"+t.getAutoId()),t.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var e=this,t=e.loader;return t?(t.isLoader?t.setTarget(e):e.loader=new Ext.ComponentLoader(Ext.apply({target:e},t)),e.loader):null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(e){var t,n,i=this.plugins,r=i&&i.length;for(t=0;t<r;t++)if((n=i[t]).id===e||n.pluginId===e)return n;return null},getPosition:function(e){var t,n,i=this,r=i.isContainedFloater();return!0!==e||r?(t=i.getXY(),!0===e&&r&&(n=i.floatParent.getTargetEl().getViewRegion(),t[0]-=n.left,t[1]-=n.top),t):[i.getLocalX(),i.getLocalY()]},getScrollX:function(){var e=this.getScrollable();return e?e.getPosition().x:0},getScrollY:function(){var e=this.getScrollable();return e?e.getPosition().y:0},getSize:function(e){return this.el.getSize(e)},getSizeModel:function(e){var t,n,i,r,o,a,s,l,d,c,u=this,h=Ext.layout.SizeModel,f=u.componentLayout.ownerContext,g=u.width,p=u.height,m=u.floating||u.floated;return f&&(c=f.widthModel,o=f.heightModel),c&&o||(i="number"==(t=typeof g),r="number"==(n=typeof p),(d=m||!(a=u.ownerLayout))?(s=Ext.layout.Layout.prototype.autoSizePolicy,l=m?3:u.shrinkWrap,i&&(c=h.configured),r&&(o=h.configured)):(s=a.getItemSizePolicy(u,e),l=a.isItemShrinkWrap(u)),f&&(f.ownerSizePolicy=s),l=!0===l?3:l||0,d&&l&&(g&&"string"===t&&(l&=2),p&&"string"===n&&(l&=1)),3!==l&&(e||(e=u.ownerCt&&u.ownerCt.getSizeModel()),e&&(l|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0))),c||(c=s.setsWidth?s.readsWidth?i?h.calculatedFromConfigured:1&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:i?h.configured:1&l?h.shrinkWrap:h.natural),o||(o=s.setsHeight?s.readsHeight?r?h.calculatedFromConfigured:2&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:r?h.configured:2&l?h.shrinkWrap:h.natural)),c.pairsByHeightOrdinal[o.ordinal]},getState:function(){var e=null,t=this.getSizeModel();return t.width.configured&&(e=this.addPropertyToState(e,"width")),t.height.configured&&(e=this.addPropertyToState(e,"height")),e},getUserCls:function(){return this.userCls},setUserCls:function(e){var t=this.userCls;return e!==t&&(this.userCls=e,this.rendered&&this.el.replaceCls(t,e)),t},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var e,t,n,i=this.self;if(!i.xtypes){for(e=[],t=this;t;)void 0!==(n=t.xtypes)&&e.unshift.apply(e,n),t=t.superclass;i.xtypeChain=e,i.xtypes=e.join("/")}return i.xtypes},hasCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.hasCls.apply(t,arguments)},hasUICls:function(e){var t=this.uiCls||[];return Ext.Array.contains(t,e)},hide:function(e,t,n){var i=this,r=i.focusableContainer;return i.pendingShow&&(i.pendingShow=!1),i.rendered&&!i.isVisible()||i.hasListeners.beforehide&&!1===i.fireEvent("beforehide",i)&&!i.hierarchicallyHidden||(i.getInherited().hidden=i.hidden=!0,r&&r.beforeFocusableChildHide(i),i.fireHierarchyEvent("beforehide"),i.rendered&&i.onHide.apply(i,arguments)),i},initComponent:function(){var e=this,t=e.width,n=e.height;e.plugins&&!e.plugins.processed&&(e.plugins=e.constructPlugins()),e.pluginsInitialized=!0,null==t&&null==n||e.setSize(t,n),e.listeners&&(e.on(e.listeners),e.listeners=null),e.focusable&&e.initFocusable()},initEvents:function(){var e,t,n,i,r,o=this,a=o.afterRenderEvents;if(a)for(n in a)if((t=o[n])&&t.on)for(i=0,r=(e=a[n]).length;i<r;++i)o.mon(t,e[i]);o.focusable&&o.initFocusableEvents(),o.initKeyMap()},is:function(e){return Ext.ComponentQuery.is(this,e)},isDescendantOf:function(e){var t;for(t=this.getRefOwner();t&&t!==e;t=t.getRefOwner());return t||null},isAncestor:function(e){for(;e;){if(e.getRefOwner()===this)return!0;e=e.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){for(var e,t,n=this,i=!1;e=n.ownerCt||n.floatParent;n=e){if((t=e.getInherited()).hidden){i=!0;break}if(!n.getInherited().collapseImmune){i=!!t.collapsed;break}if(e.collapsed&&!n.collapseImmune){i=!0;break}}return i},isLayoutChild:function(e){return!this.floating&&!!this.up(e)},isLayoutRoot:function(){var e=this.ownerLayout;return!(e&&!this._isLayoutRoot&&!this.floating)||e.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var e,t=this;t;){if(t.layoutSuspendCount||t.suspendLayout)return!0;if(!(e=t.ownerLayout))break;t=e.owner}return!1},isVisible:function(e){var t;return this.hidden||!this.rendered||this.destroyed?t=!0:e&&(t=this.isHierarchicallyHidden()),!t},isXType:function(e,t){return t?-1!==Ext.Array.indexOf(this.xtypes,e):!!this.xtypesMap[e]},isMasked:function(e){return!!(this.masked||this.loadMask&&this.loadMask.isVisible()||e&&this.getInherited().masked)},lookupTpl:function(e){return Ext.XTemplate.getTpl(this,e)},setMasked:function(e){var t=this,n=t.focusableContainer;return e?(t.masked=!0,t.getInherited().masked=e):(t.masked=!1,delete t.getInherited().masked),n&&n.onFocusableChildMasked(t,e),t},mask:function(e,t,n){var i=this.lastBox,r=this.getMaskTarget()||this.el;i&&(n=i.height),r.mask(e,t,n),this.setMasked(!0)},nextNode:function(e,t){var n,i,r,o,a,s=this.ownerCt;if(t&&this.is(e))return this;if(s){for(i=s.items.items,o=Ext.Array.indexOf(i,this)+1,r=i.length;o<r;o++){if((a=i[o]).is(e))return a;if(a.down&&(n=a.down(e)))return n}return s.nextNode(e)}return null},nextSibling:function(e){var t,n,i,r,o=this.ownerCt;if(o&&(i=(t=o.items).indexOf(this)+1))if(e){for(n=t.getCount();i<n;i++)if((r=t.getAt(i)).is(e))return r}else if(i<t.getCount())return t.getAt(i);return null},onAdded:function(e,t,n){var i=this;i.ownerCt=e,i.onInheritedAdd(i,n),i.hasListeners&&i.hasListeners.added&&i.fireEvent("added",i,e,t),Ext.GlobalEvents.hasListeners.added&&i.fireHierarchyEvent("added")},onRemoved:function(e){var t,n=this;!n.isLayoutMoving&&n.el&&n.el.contains(Ext.Element.getActiveElement())&&(t=n.findFocusTarget())&&t.focus(),Ext.GlobalEvents.hasListeners.removed&&n.fireHierarchyEvent("removed"),n.hasListeners.removed&&n.fireEvent("removed",n,n.ownerCt),e||n.removeBindings(),n.onInheritedRemove(e),n.ownerCt=n.ownerLayout=null},onBoxReady:function(e,t){var n,i=this;(i.ariaLabelledBy||i.ariaDescribedBy)&&(i.ariaLabelledBy&&(n=i.getAriaLabelEl(i.ariaLabelledBy))&&i.ariaEl.dom.setAttribute("aria-labelledby",n),i.ariaDescribedBy&&(n=i.getAriaLabelEl(i.ariaDescribedBy))&&i.ariaEl.dom.setAttribute("aria-describedby",n)),i.resizable&&i.initResizable(i.resizable),i.draggable&&i.initDraggable(),i.hasListeners.boxready&&i.fireEvent("boxready",i,e,t)},onDestroy:Ext.emptyFn,onDisable:function(){var e,t,n=this;n.focusable&&n.disableFocusable(),n.ariaStaticRoles[n.ariaRole]||n.ariaEl.dom.setAttribute("aria-disabled",!0),n.maskOnDisable&&!n.getInheritedConfig("disableMask",!0)&&(t=(e=n.el.dom).nodeName,n.disabledRe.test(t)&&(e.disabled=!0),n.nonMaskableRe.test(t)||n.mask())},onEnable:function(){var e,t,n=this;n.focusable&&n.enableFocusable(),n.ariaStaticRoles[n.ariaRole]||n.ariaEl.dom.setAttribute("aria-disabled",!1),n.maskOnDisable&&n.getInherited().hasOwnProperty("masked")&&(t=(e=n.el.dom).nodeName,n.disabledRe.test(t)&&(e.disabled=!1),n.nonMaskableRe.test(t)||n.unmask())},onGlobalShow:function(e){this.up(e)&&this.getScrollable().restoreState()},onHide:function(e,t,n){var i,r,o,a=this;a.ariaStaticRoles[a.ariaRole]||a.destroying||a.destroyed||a.ariaEl.dom.setAttribute("aria-hidden",!0),a.revertFocus(),e=a.getAnimateTarget(e),a.ghost||(e=null),e?(o={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},(i=a.ghost()).el.stopAnimation(),r=a.getSize(),i.el.animate({to:o,listeners:{afteranimate:function(){a.destroying||(i.componentLayout.lastComponentSize=null,a.unghost(!1),i.el.setSize(r),a.afterHide(t,n))}}})):a.el.hide(),e||a.afterHide(t,n)},onPosition:Ext.emptyFn,onResize:function(e,t,n,i){var r=this;r.floating&&r.constrain&&r.doConstrain(),r.hasListeners.resize&&r.fireEvent("resize",r,e,t,n,i)},onShow:function(){var e=this;e.ariaStaticRoles[e.ariaRole]||e.ariaEl.dom.setAttribute("aria-hidden",!1),e.el.show(),e.updateLayout({isRoot:!1,context:e._showContext}),e.floating&&(e.maximized?e.fitContainer():e.constrain&&e.doConstrain())},_showContext:{show:!0},onShowComplete:function(e,t){var n=this,i=n.focusableContainer;n.floating&&n.onFloatShow(),Ext.callback(e,t||n),n.fireEvent("show",n),i&&i.onFocusableChildShow(n),delete n.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(e,t){var n,i,r,o,a=this.ownerCt;if(t&&this.is(e))return this;if(a){for(i=a.items.items,r=Ext.Array.indexOf(i,this)-1;r>-1;r--){if((o=i[r]).query&&(n=(n=o.query(e))[n.length-1]))return n;if(o.is(e))return o}return a.previousNode(e,!0)}return null},previousSibling:function(e){var t,n,i,r=this.ownerCt;if(r&&-1!==(n=(t=r.items).indexOf(this)))if(e){for(--n;n>=0;n--)if((i=t.getAt(n)).is(e))return i}else if(n)return t.getAt(--n);return null},registerFloatingItem:function(e){this.floatingDescendants||(this.floatingDescendants=new Ext.ZIndexManager(this)),this.floatingDescendants.register(e)},removeCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.removeCls.apply(t,arguments),this},removeClsWithUI:function(e,t){var n,i,r=this,o=[],a=0,s=Ext.Array,l=s.remove,d=r.uiCls=s.clone(r.uiCls),c=r.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),n=e.length,a=0;a<n;a++)(i=e[a])&&r.hasUICls(i)&&(l(d,i),c&&(o=o.concat(r.removeUIClsFromElement(i))));return!0!==t&&c&&r.removeCls(o),o},resumeLayouts:function(e){var t=this;t.rendered&&(t.layoutSuspendCount||Ext.log.warn("Mismatched call to resumeLayouts - layouts are currently not suspended."),t.layoutSuspendCount&&!--t.layoutSuspendCount&&(t.suspendLayout=!1,e&&!t.isLayoutSuspended()&&t.updateLayout(e)))},scrollBy:function(e,t,n){var i=this.getScrollable();i&&i.scrollBy(e,t,n)},scrollTo:function(e,t,n){var i=this.getScrollable();i&&i.scrollTo(e,t,n)},setAutoScroll:function(e){return this.setScrollable(!!e),this},setBorder:function(e,t){var n=!!t;(this.rendered||n)&&(n||(t=this.el),e=e?!0===e?"1px":this.unitizeBox(e):0,t.setStyle("border-width",e),n||this.updateLayout()),this.border=e},setDock:function(e){var t=this,n=t.ownerCt;return e!==t.dock&&(n&&n.moveDocked?n.moveDocked(t,e):t.dock=e),t},setDisabled:function(e){return this[e?"disable":"enable"]()},setFlex:function(e){this.flex=e},setHeight:function(e){return this.setSize(void 0,e)},setLoading:function(e,t){var n=this,i={target:n};return n.rendered&&(!1!==e?(Ext.isString(e)?i.msg=e:Ext.apply(i,e),n.loadMask&&n.loadMask.isLoadMask?Ext.apply(n.loadMask,i):(t&&null==i.useTargetEl&&(i.useTargetEl=!0),n.loadMask=new Ext.LoadMask(i)),n.loadMask.isVisible()?n.loadMask.syncMaskState():n.loadMask.show()):n.loadMask&&n.loadMask.isLoadMask&&n.loadMask.hide()),n.loadMask},setMargin:function(e,t){var n=this;n.rendered?(e||0===e?(!0===e&&(e=5),e=this.unitizeBox(e)):e="",n.margin=e,n.margin$=null,n.getEl().setStyle("margin",e),t||n.updateLayout(n._notAsLayoutRoot)):n.margin=e},setOverflowXY:function(e,t){return this.setScrollable({x:!(!e||"hidden"===e)&&e,y:!(!t||"hidden"===t)&&t}),this},setPagePosition:function(e,t,n){var i,r,o=this;return Ext.isArray(e)&&(t=e[1],e=e[0]),o.pageX=e,o.pageY=t,o.floating?(o.isContainedFloater()?(r=o.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(e)&&Ext.isNumber(r.left)&&(e-=r.left),Ext.isNumber(t)&&Ext.isNumber(r.top)&&(t-=r.top)):(e=(i=o.el.translateXY(e,t)).x,t=i.y),o.setPosition(e,t,n)):(i=o.el.translateXY(e,t),o.setPosition(i.x,i.y,n)),o},setPosition:function(e,t,n){var i=this,r=i.beforeSetPosition.apply(i,arguments);return r&&i.rendered&&(e=r.x,t=r.y,n?e===i.getLocalX()&&t===i.getLocalY()||(i.stopAnimation(),i.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(i.afterSetPosition,i,[e,t])},to:{left:e,top:t}},n))):(i.setLocalXY(e,t),i.afterSetPosition(e,t))),i},setScrollX:function(e,t){var n=this.getScrollable();n&&n.scrollTo(e,null,t)},setScrollY:function(e,t){var n=this.getScrollable();n&&n.scrollTo(null,e,t)},setSize:function(e,t){var n,i,r=this,o=r.width,a=r.height;return e&&"object"==typeof e&&(t=e.height,e=e.width),"number"==typeof e?r.width=Ext.Number.constrain(e,r.minWidth,r.maxWidth):null===e?delete r.width:"string"==typeof e&&(n=!0,r.width=e),"number"==typeof t?r.height=Ext.Number.constrain(t,r.minHeight,r.maxHeight):null===t?delete r.height:"string"==typeof t&&(i=!0,r.height=t),r.rendered&&r.isVisible()&&(o===r.width&&a===r.height||((r.liquidLayout||n||i)&&r.el.setSize(r.width,r.height),r.updateLayout(r._notAsLayoutRoot))),r},setStyle:function(e,t){return(this.el||this.protoEl).setStyle(e,t),this},setUI:function(e){var t,n=this,i=n.uiCls,r=n.activeUI;e!==r&&(r?((t=n.removeClsWithUI(i,!0)).length&&n.removeCls(t),n.removeUIFromElement()):n.uiCls=[],n.ui=e,n.activeUI=e,n.addUIToElement(),(t=n.addClsWithUI(i,!0)).length&&n.addCls(t),n.rendered&&n.updateLayout())},setVisible:function(e){return this[e?"show":"hide"]()},setHidden:function(e){return this.setVisible(!e)},setWidth:function(e){return this.setSize(e)},show:function(e,t,n){var i=this,r=i.rendered,o=i.focusableContainer;return i.hierarchicallyHidden||i.floating&&!r&&i.isHierarchicallyHidden()?(r||i.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,i.pendingShow=arguments):i.pendingShow=!0):r&&i.isVisible()?i.floating&&i.onFloatShow():!1!==i.fireEvent("beforeshow",i)?(i.hidden=!1,delete this.getInherited().hidden,o&&o.beforeFocusableChildShow(i),Ext.suspendLayouts(),r||!i.autoRender&&!i.floating||(i.doAutoRender(),r=i.rendered),r?(i.beforeShow(),Ext.resumeLayouts(),i.onShow.apply(i,arguments),i.afterShow.apply(i,arguments)):Ext.resumeLayouts(!0)):i.onShowVeto(),i},showAt:function(e,t,n){var i=this;return i.rendered||!i.autoRender&&!i.floating?(i.floating?i.setPosition(e,t,n):i.setPagePosition(e,t,n),i.show()):(i.x=e,i.y=t,i.show())},showBy:function(e,t,n){var i=this;return i.floating||Ext.log.warn("Using showBy on a non-floating component"),i.floating&&e&&(i._lastAlignTarget=e,i._lastAlignToPos=t||i.defaultAlign,i._lastAlignToOffsets=n||i.alignOffset,i.show()),i},suspendLayouts:function(){this.rendered&&1==++this.layoutSuspendCount&&(this.suspendLayout=!0)},toggleCls:function(e,t){return void 0===t&&(t=!this.hasCls(e)),this[t?"addCls":"removeCls"](e)},unitizeBox:function(e){return Ext.Element.unitizeBox(e)},unmask:function(){(this.getMaskTarget()||this.el).unmask(),this.setMasked(!1)},unregisterFloatingItem:function(e){this.floatingDescendants&&this.floatingDescendants.unregister(e)},up:function(e,t){var n=this.getRefOwner(),i="string"==typeof t,r="number"==typeof t,o=t&&t.isComponent,a=0;if(e)for(;n&&!n.destroyed;n=n.getRefOwner()){if(a++,e.isComponent){if(n===e)return n}else if(Ext.ComponentQuery.is(n,e))return n;if(i&&n.is(t))return;if(r&&a===t)return;if(o&&n===t)return}return n},update:function(e,t,n,i){var r,o,a,s=this,l=s.tpl&&!Ext.isString(e),d=s.focusableContainer;l?s.data=e&&e.isEntity?e.getData(!0):e:s.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e,s.rendered&&(o=(r=s.getSizeModel()).width.shrinkWrap||r.height.shrinkWrap,s.isContainer?(a=s.layout.getRenderTarget(),o=o||s.items.items.length>0):a=s.getTargetEl(),l?s.tpl[s.tplWriteMode](a,s.data||{}):a.setHtml(s.html,t,n,i||s),o&&s.updateLayout(),d&&d.onFocusableChildUpdate(s))},setHtml:function(e,t,n){this.update(e,t,null,n)},applyData:function(e){this.update(e)},updateBox:function(e){return this.setSize(e.width,e.height),this.setPagePosition(e.x,e.y),this},_asLayoutRoot:{isRoot:!0},_notAsLayoutRoot:{isRoot:!1},updateLayout:function(e){var t,n=this,i=n.lastBox,r=e&&e.isRoot,o=e&&e.context;i&&(i.invalid=!0),!n.rendered||n.layoutSuspendCount||n.suspendLayout||(n.hidden?Ext.Component.cancelLayout(n):"boolean"!=typeof r&&(r=n.isLayoutRoot()),!r&&n.ownerLayout&&n.ownerLayout.onContentChange(n,o)||n.isLayoutSuspended()||(t=e&&e.hasOwnProperty("defer")?e.defer:n.deferLayouts,Ext.Component.updateLayout(n,t)))},updateMaxHeight:function(e,t){this.changeConstraint(e,t,"min","max-height","height")},updateMaxWidth:function(e,t){this.changeConstraint(e,t,"min","max-width","width")},updateMinHeight:function(e,t){this.changeConstraint(e,t,"max","min-height","height")},updateMinWidth:function(e,t){this.changeConstraint(e,t,"max","min-width","width")},updateTouchAction:function(e){var t,n,i,r;for(t in e)n=this[t],i=e[t],n&&n.isElement?n.setTouchAction(i):r=!0;r&&this.el.setTouchAction(e)},getAnchorToXY:function(e,t,n,i){return e.getAnchorXY(t,n,i)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(e){this.el.setLocalX(e)},setLocalXY:function(e,t){this.el.setLocalXY(e,t)},setLocalY:function(e){this.el.setLocalY(e)},setX:function(e,t){this.el.setX(e,t)},setXY:function(e,t){this.el.setXY(e,t)},setY:function(e,t){this.el.setY(e,t)},privates:{addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},addUIToElement:function(){var e,t,n,i,r=this,o=r.baseCls+"-"+r.ui;if(r.addCls(o),r.rendered&&r.frame&&!Ext.supports.CSS3BorderRadius)for(t in o+="-",e=r.getChildEls())(i=e[t].frame)&&!0!==i&&(n=r[t])&&n.addCls(o+i)},changeConstraint:function(e,t,n,i,r){var o=this,a=o[r];null!=e&&"number"==typeof a&&(o[r]=Math[n](a,e)),o.liquidLayout&&(null!=e?o.setStyle(i,e+"px"):t&&o.setStyle(i,"")),o.rendered&&o.updateLayout()},constructPlugin:function(e){return e="string"==typeof e?Ext.PluginManager.create({},e,this):Ext.PluginManager.create(e,null,this)},constructPlugins:function(){var e,t,n,i=this.plugins;if(i)for((e=[]).processed=!0,Ext.isArray(i)||(i=[i]),t=0,n=i.length;t<n;t++)e[t]=this.constructPlugin(i[t]);return this.pluginsInitialized=!0,e},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el),Ext.Component.cancelLayout(this),this.isDetached=!0},doAddListener:function(e,t,n,i,r,o,a){var s,l,d,c,u,h=this;if(Ext.isObject(t)||i&&i.element){if(i.element)for(l in c=i.element,(s={})[e]=t,n&&(s.scope=n),d=h.$elementEventOptions,i)d[l]&&(s[l]=i[l]);else s=t,c=e;(u=h[c])&&u.isObservable?h.mon(u,s):(h.afterRenderEvents=h.afterRenderEvents||{},h.afterRenderEvents[c]||(h.afterRenderEvents[c]=[]),h.afterRenderEvents[c].push(s))}else i&&i.delegate?h.mixins.componentDelegation.addDelegatedListener.call(h,e,t,n,i,r,o,a):h.mixins.observable.doAddListener.call(h,e,t,n,i,r,o,a)},doRemoveListener:function(e,t,n){this.mixins.observable.doRemoveListener.call(this,e,t,n),this.mixins.componentDelegation.removeDelegatedListener.call(this,e,t,n)},fireHierarchyEvent:function(e){var t=Ext.GlobalEvents;t.hasListeners[e]&&t.fireEvent(e,this)},getActionEl:function(){return this.el},getAutoId:function(){return this.autoGenId=!0,++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var e,t,n,i=this.getScrollable(),r=this._scrollFlags;return i?(!0===(e=i.getX())&&(e="auto"),!0===(t=i.getY())&&(t="auto"),n=r[e][t]):n=r.none,this.scrollFlags=n,{overflowX:n.overflowX,overflowY:n.overflowY}},getPlugins:function(){var e=this.plugins;return(e=e&&e.processed?e:this.constructPlugins())||null},getProxy:function(){var e;return this.proxy||(e=Ext.getBody(),this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",e,!0)),this.proxy},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(e){return Ext.log.warn("getTpl is deprecated, use lookupTpl."),this.lookupTpl(e)},initCls:function(){var e=this,t=[e.baseCls],n=e.getComponentLayout().targetCls;return n&&t.push(n),Ext.isDefined(e.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),e.componentCls=e.cmpCls,delete e.cmpCls),e.componentCls?t.push(e.componentCls):e.componentCls=e.baseCls,t},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({el:e.resizer.el,rendered:!0,container:e.container}):e,n=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain||e.draggable.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container):void 0},e.draggable);(e.constrain||e.constrainDelegate)&&(n.constrain=e.constrain,n.constrainDelegate=e.constrainDelegate),e.dd=new Ext.util.ComponentDragger(t,n)},initPadding:function(e){var t=this.padding;null!=t&&(this.layout&&this.layout.managePadding&&"padding"===this.contentPaddingProperty?e.setStyle("padding",0):e.setStyle("padding",this.unitizeBox(!0===t?5:t)))},initPlugin:function(e){return e.init(this),e},initResizable:function(e){var t=this;(e=Ext.apply({target:t,dynamic:!1,constrainTo:t.constrain||e&&e.constrain?t.constrainTo||(t.floatParent?t.floatParent.getTargetEl():t.container):void 0,handles:t.resizeHandles},e)).target=t,t.resizer=new Ext.resizer.Resizer(e)},initStyles:function(e){var t,n,i=this,r=i.margin,o=i.border,a=i.cls,s=i.style,l=i.x,d=i.y,c=i.liquidLayout;i.initPadding(e),null!=r&&e.setStyle("margin",this.unitizeBox(!0===r?5:r)),null!=o&&i.setBorder(o,e),a&&a!==i.initialCls&&(e.addCls(a),i.cls=i.initialCls=null),s&&s!==i.initialStyle&&(e.setStyle(s),i.style=i.initialStyle=null),null!=l&&e.setStyle(i.horizontalPosProp,"number"==typeof l?l+"px":l),null!=d&&e.setStyle("top","number"==typeof d?d+"px":d),i.ownerCt&&!i.floating||(Ext.scopeCss&&e.addCls(i.rootCls),e.addCls(i.borderBoxCls)),!c&&i.getFrameInfo()||(t=i.width,n=i.height,null!=t&&("number"==typeof t?e.setStyle("width",t+"px"):e.setStyle("width",t)),null!=n&&("number"==typeof n?e.setStyle("height",n+"px"):e.setStyle("height",n)))},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(e){if(e.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===e)return!0;return!1},owns:function(e){var t,n=!1;return e.isEvent?e=e.target:e.isElement&&(e=e.dom),(t=Ext.Component.fromElement(e))&&(n=t===this||!!t.up(this)),n},parseBox:function(e){return Ext.Element.parseBox(e)},reattachToBody:function(){this.isDetached=!1},removeManagedListenerItem:function(e,t,n,i,r,o){var a=t.options?t.options.element:null;if(!a)return this.mixins.observable.removeManagedListenerItem.apply(this,arguments);(a=this[a])&&a.un&&(!e&&(t.item!==n||t.ename!==i||r&&t.fn!==r||o&&t.scope!==o)||(a.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t)))},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(e){Ext.Array.remove(this.plugins,e),e.destroy()},removeUIFromElement:function(){var e,t,n,i,r=this,o=r.baseCls+"-"+r.ui;if(r.removeCls(o),r.rendered&&r.frame&&!Ext.supports.CSS3BorderRadius)for(t in o+="-",e=r.getChildEls())(i=e[t].frame)&&!0!==i&&(n=r[t])&&n.removeCls(o+i)},setComponentLayout:function(e){var t=this.componentLayout;t&&t.isLayout&&t!==e&&t.setOwner(null),this.componentLayout=e,e.setOwner(this)},setHiddenState:function(e){var t=this.getInherited(),n=this.zIndexManager;this.hidden=e,e?t.hidden=!0:delete t.hidden,n&&n.onComponentShowHide(this)},setupProtoEl:function(){var e=this.initCls();this.protoEl.addCls(e)},wrapPrimaryEl:function(e){var t=this.el;t&&t.isElement||(this.el=Ext.get(e)),this.floating&&this.mixins.floating.constructor.call(this)}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){return this.updateLayout(),this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},function(e){var t=e.prototype;(t.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1,(t.$eventOptions=Ext.Object.chain(t.$eventOptions)).delegate=1,e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(t){e.resumeLayouts(t)},Ext.suspendLayouts=function(){e.suspendLayouts()},Ext.batchLayouts=function(t,n){e.suspendLayouts();try{t.call(n)}finally{e.resumeLayouts(!0)}},Ext.setGlyphFontFamily=function(e){Ext._glyphFontFamily=e},e.hierarchyEventSource=t.hierarchyEventSource=Ext.GlobalEvents,Ext.onReady(function(){Ext.supports.HighContrastMode&&Ext.getBody().addCls(e.ariaHighContrastModeCls)})}),Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var e=this;e._borderRegionInited||(e._borderRegionInited=!0,e.addStateEvents(["changeregion","changeweight"]),Ext.override(e,{getState:function(){var t=e.callParent();return t=e.addPropertyToState(t,"region"),t=e.addPropertyToState(t,"weight")}}))},getOwningBorderContainer:function(){var e=this.getOwningBorderLayout();return e&&e.owner},getOwningBorderLayout:function(){var e=this.ownerLayout;return e&&e.isBorderLayout?e:null},setRegion:function(e){var t,n=this,i=n.region;if("string"!=typeof e&&Ext.raise("Use setBox to set the size or position of a component."),e!==i)if(t=n.getOwningBorderLayout()){var r,o,a,s=t.regionFlags[e],l=n.placeholder,d=n.splitter,c=t.owner,u=t.regionMeta,h=n.collapsed||n.floated;if(!1===n.fireEventArgs("beforechangeregion",[n,e]))return i;Ext.suspendLayouts(),n.region=e,Ext.apply(n,s),n.updateCollapseTool&&n.updateCollapseTool(),d&&(Ext.apply(d,s),d.updateOrientation(),(a=(o=c.items).indexOf(n))>=0&&(r=u[e].splitterDelta,o.getAt(a+r)!==d&&(o.remove(d),a=o.indexOf(n),r>0&&++a,o.insert(a,d)))),l&&(h&&n.expand(!1),c.remove(l),n.placeholder=null,h&&n.collapse(null,!1)),c.updateLayout(),Ext.resumeLayouts(!0),n.fireEventArgs("changeregion",[n,i])}else n.region=e;return i},setWeight:function(e){var t=this,n=t.getOwningBorderContainer(),i=t.placeholder,r=t.weight;return e!==r&&!1!==t.fireEventArgs("beforechangeweight",[t,e])&&(t.weight=e,i&&(i.weight=e),n&&n.updateLayout(),t.fireEventArgs("changeweight",[t,r])),r}},function(e){var t=e.prototype;t.setBorderRegion=t.setRegion,t.setRegionWeight=t.setWeight}),Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component",requires:["Ext.Component"]},function(e){e.monitor(Ext.Component)}),Ext.define("Ext.app.EventBus",{singleton:!0,requires:["Ext.app.domain.Component"],constructor:function(){var e=Ext.app.EventDomain.instances;this.callParent(),this.domains=e,this.bus=e.component.bus},control:function(e,t){return this.domains.component.listen(e,t)},listen:function(e,t){var n,i=this.domains;for(n in e)e.hasOwnProperty(n)&&i[n].listen(e[n],t)},unlisten:function(e){var t,n=Ext.app.EventDomain.instances;for(t in n)n[t].unlisten(e)}}),Ext.define("Ext.app.domain.Global",{extend:"Ext.app.EventDomain",requires:["Ext.GlobalEvents"],singleton:!0,type:"global",constructor:function(){this.callParent(),this.monitor(Ext.GlobalEvents)},listen:function(e,t){this.callParent([{global:e},t])},match:Ext.returnTrue}),Ext.define("Ext.app.BaseController",{requires:["Ext.app.EventBus","Ext.app.domain.Global"],uses:["Ext.app.domain.Controller"],mixins:["Ext.mixin.Observable"],isController:!0,config:{id:void 0,control:null,listen:null,routes:null,before:null},constructor:function(e){var t=this;Ext.apply(t,e),delete t.control,delete t.listen,t.eventbus=Ext.app.EventBus,t.mixins.observable.constructor.call(t,e)},updateId:function(e){this.id=e},applyListen:function(e){return Ext.isObject(e)&&(e=Ext.clone(e)),e},applyControl:function(e){return Ext.isObject(e)&&(e=Ext.clone(e)),e},updateControl:function(e){this.getId(),e&&this.control(e)},updateListen:function(e){this.getId(),e&&this.listen(e)},updateRoutes:function(e){if(e){var t,n,i,r=this.getBefore()||{},o=Ext.app.route.Router;for(t in e)n=e[t],Ext.isString(n)&&(n={action:n}),i=n.action,n.before?r[i]&&Ext.log.warn('You have a before method configured on a route ("'+t+'") and in the before object property also in the "'+this.self.getName()+'" controller. Will use the before method in the route and disregard the one in the before property.'):n.before=r[i],o.connect(t,n,this)}},isActive:function(){return!0},control:function(e,t,n){var i,r=n;Ext.isString(e)?(i={})[e]=t:(i=e,r=t),this.eventbus.control(i,r||this)},listen:function(e,t){this.eventbus.listen(e,t||this)},destroy:function(){var e=this,t=e.eventbus;Ext.app.route.Router.disconnectAll(e),t&&(t.unlisten(e),e.eventbus=null),e.callParent()},redirectTo:function(e,t){e.isModel&&(e=e.toUrl());var n=!1;return Ext.util.History.getToken()===e?t&&(n=!0,Ext.app.route.Router.onStateChange(e)):(n=!0,Ext.util.History.add(e)),n}}),Ext.define("Ext.app.Util",{},function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(e){var t,n,i=Ext.app.namespaces;for(Ext.isArray(e)||(e=[e]),t=0,n=e.length;t<n;t++)i[e[t]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(e){var t,n=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),i="";for(t in n)n.hasOwnProperty(t)&&t.length>i.length&&t+"."===e.substring(0,t.length+1)&&(i=t);return""===i?void 0:i},setupPaths:function(e,t,n){var i,r=Ext.manifest;if(e&&null!==t&&((r=r&&r.paths)&&void 0===t||Ext.Loader.setPath(e,void 0===t?"app":t)),n)for(i in n)n.hasOwnProperty(i)&&Ext.Loader.setPath(i,n[i])}}),Ext.getNamespace=Ext.app.getNamespace}),Ext.define("Ext.util.CollectionKey",{mixins:["Ext.mixin.Identifiable"],isCollectionKey:!0,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(e){this.initConfig(e),Ext.isFunction(this.getKey)||Ext.raise("CollectionKey requires a keyFn or property config")},get:function(e){return(this.map||this.getMap())[e]||null},clear:function(){this.map=null},getRootProperty:function(){var e=this.callParent();return null!==e?e:this.getCollection().getRootProperty()},indexOf:function(e,t){var n,i,r,o,a=(this.map||this.getMap())[e],s=this.getCollection(),l=s.length;if(!a)return-1;if(void 0===t&&(t=-1),a instanceof Array){for(i=l,o=(r=a).length;o-- >0;)(n=s.indexOf(r[o]))<i&&n>t&&(i=n);if(i===l)return-1}else i=s.indexOf(a);return i>t?i:-1},updateKey:function(e,t){var n,i,r=this.map;r&&((n=r[t])instanceof Array?(i=Ext.Array.indexOf(n,e))>=0&&(n.length>2?n.splice(i,1):r[t]=n[1-i]):n&&(this.getUnique()&&n!==e&&Ext.raise('Incorrect oldKey "'+t+'" for item with newKey "'+this.getKey(e)+'"'),delete r[t]),this.add([e]))},onCollectionAdd:function(e,t){this.map&&this.add(t.items)},onCollectionItemChange:function(e,t){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(e,t){var n,i=this.map,r=t.items,o=r.length;if(i)if(this.getUnique()&&o<e.length/2)for(n=0;n<o;++n)delete i[this.getKey(r[n])];else this.map=null},add:function(e){var t,n,i,r,o,a,s=this.map;for(o=e.length,a=this.getUnique(),n=0;n<o;++n)r=this.getKey(i=e[n]),!a&&r in s?((t=s[r])instanceof Array||(s[r]=t=[t]),t.push(i)):s[r]=i},applyKeyFn:function(e){Ext.isString(e)?this.getKey=function(t){return t[e]()}:this.getKey=e},updateProperty:function(e){var t=this.getRootProperty();this.getKey=function(n){return(t?n[t]:n)[e]}},getMap:function(){var e=this,t=e.map;return t||(e.map=t={},e.keysByItemKey={},++e.mapRebuilds,e.add(e.getCollection().items)),t},updateCollection:function(e){e.addObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())}}),Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,config:{groupFn:null,sortProperty:null},constructor:function(e){e&&e.getGroupString&&Ext.raise("Cannot set getGroupString - use groupFn instead"),this.callParent(arguments)},getGroupString:function(e){var t=this._groupFn(e);return null!=t?String(t):""},sortFn:function(e,t){var n=this,i=n._groupFn(e),r=n._groupFn(t),o=n._sortProperty,a=n._root,s=n._sorterFn,l=n._transform;if(i===r)return 0;if(o||s){if(s)return s.call(this,e,t);a&&(e=e[a],t=t[a]),i=e[o],r=t[o],l&&(i=l(i),r=l(r))}return i>r?1:i<r?-1:0},standardGroupFn:function(e){var t=this._root;return(t?e[t]:e)[this._property]},updateSorterFn:function(){},updateProperty:function(){this.getGroupFn()||this.setGroupFn(this.standardGroupFn)}}),Ext.define("Ext.util.Collection",{mixins:["Ext.mixin.Observable"],requires:["Ext.util.CollectionKey","Ext.util.Filter","Ext.util.Sorter","Ext.util.Grouper"],uses:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.util.GroupCollection"],isCollection:!0,config:{autoFilter:!0,autoSort:!0,autoGroup:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:!0},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,$endUpdatePriority:1001,manageSorters:!0,constructor:function(e){var t=this;t.items=[],t.map={},t.length=0,e&&e.keyFn&&(t.getKey=e.keyFn),t.mixins.observable.constructor.call(t,e)},destroy:function(){var e=this,t=e._filters,n=e._sorters,i=e._groups;t&&(t.destroy(),e._filters=null),n&&(e.grouped=e.sorted=!1,e.setSorters(null),e.manageSorters&&n.destroy()),i&&(i.destroy(),e._groups=null),e.setSource(null),e.observers=e.items=e.map=null,e.callParent()},add:function(e){var t=this.decodeItems(arguments,0),n=t;return t.length&&(this.splice(this.length,0,t),n=1===t.length?t[0]:t),n},replaceAll:function(){var e,t;return e=t=this.decodeItems(arguments,0),t.length?(this.splice(0,this.length,t),e=1===t.length?t[0]:t):this.removeAll(),e},aggregate:function(e,t,n,i,r){var o=Ext.Array.slice(arguments);return o.unshift(this.items),this.aggregateItems.apply(this,o)},aggregateByGroup:function(e,t,n){var i=this.getGroups();return this.aggregateGroups(i,e,t,n)},aggregateItems:function(e,t,n,i,r,o){var a,s,l,d,c,u,h=this,f=Ext.Number.clipIndices(e.length,[i,r]),g=0!==i&&r!==e.length;if(i=f[0],r=f[1],!Ext.isFunction(n))return(n=h._aggregators[n]).call(h,e,i,r,t,h.getRootProperty());for(l=h.getRootProperty(),c=new Array(void 0),u=g?new Array(void 0):e,a=i,s=0;a<r;++a,s++)g&&(u[s]=d=e[a]),c[s]=(l?d[l]:d)[t];return n.call(o||h,e,c,0)},aggregateGroups:function(e,t,n,i){var r,o,a,s=e.items,l=s.length,d=!Ext.isFunction(n),c={};for(r=0;r<l;++r)o=s[r],a=d?o[n](t):this.aggregateItems(o.items,t,n,null,null,i),c[o.getGroupKey()]=a;return c},beginUpdate:function(){this.updating++||this.notify("beginupdate")},clear:function(){var e,t,n=this,i=n.generation,r=i?n.items:[];if(i&&(n.items=[],n.length=0,n.map={},n.indices={},n.generation++,e=n.getExtraKeys()))for(t in e)e[t].clear();return r},clone:function(){var e=new this.self(this.initialConfig);return e.add(this.items),e},collect:function(e,t,n){var i,r,o,a=this.items,s=a.length,l={},d=[];for(i=0;i<s;++i)o=a[i],o=(t?o[t]:o)[e],r=String(o),!n&&Ext.isEmpty(o)||l[r]||(l[r]=1,d.push(o));return d},contains:function(e){var t,n=!1;return null!=e&&(t=this.getKey(e),n=this.map[t]===e),n},containsKey:function(e){return e in this.map},createFiltered:function(e,t,n,i,r){var o,a,s,l,d,c=this,u=new c.self(c.initialConfig),h=c.getRootProperty(),f=c.items;if(Ext.isFunction(e))l=e,d=t;else{if(Ext.isString(e))s=[new Ext.util.Filter({property:e,value:t,root:h,anyMatch:n,caseSensitive:i,exactMatch:r})];else if(e instanceof Ext.util.Filter)s=[e],e.setRoot(h);else if(Ext.isArray(e))for(a=0,o=(s=e.slice(0)).length;a<o;++a)s[a].setRoot(h);l=Ext.util.Filter.createFilterFn(s)}for(d=d||c,a=0,o=f.length;a<o;a++)l.call(d,f[a])&&u.add(f[a]);return u},filterBy:function(e,t){return this.createFiltered(e,t)},each:function(e,t){var n,i,r=this.items,o=r.length;if(o)for(t=t||this,r=r.slice(0),n=0;n<o&&!1!==(i=e.call(t,r[n],n,o));n++);return i},eachKey:function(e,t){var n,i,r,o,a=this.items,s=a.length;if(s)for(t=t||this,a=a.slice(0),n=0;n<s&&(r=this.getKey(i=a[n]),!1!==(o=e.call(t,r,i,n,s)));n++);return o},endUpdate:function(){--this.updating||this.notify("endupdate")},find:function(e,t,n,i,r,o){if(Ext.isEmpty(t,!1))return null;var a=Ext.String.createRegex(t,i,r,o),s=this.getRootProperty();return this.findBy(function(t){return t&&a.test((s?t[s]:t)[e])},null,n)},findBy:function(e,t,n){var i,r,o,a=this.items,s=a.length;for(t=t||this,i=n||0;i<s;i++)if(o=this.getKey(r=a[i]),e.call(t,r,o))return a[i];return null},findIndex:function(e,t,n,i,r,o){var a=this.find(e,t,n,i,r,o);return a?this.indexOf(a):-1},findIndexBy:function(e,t,n){var i=this.findBy(e,t,n);return i?this.indexOf(i):-1},first:function(e){var t=e?this.getGroups():void 0;return t?this.aggregateGroups(t,null,"first"):this.items[0]},last:function(e){var t=e?this.getGroups():void 0;return t?this.aggregateGroups(t,null,"last"):this.items[this.length-1]},get:function(e){return this.map[e]},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},getCount:function(){return this.length},getKey:function(e){var t=e.id;return 0===t||t?t:0===(t=e._id)||t?t:e.getId()},getRange:function(e,t){var n,i=this.items,r=i.length;return e>t&&Ext.raise("Inverted range passed to Collection.getRange: ["+e+","+t+"]"),r?(n=Ext.Number.clipIndices(r,[e,t]),n=i.slice(n[0],n[1])):n=[],n},getValues:function(e,t,n,i){var r,o,a=this.items,s=Ext.Number.clipIndices(a.length,[n,i]),l=[];for(r=s[0],i=s[1];r<i;++r)o=a[r],o=(t?o[t]:o)[e],l.push(o);return l},indexOf:function(e){if(!e)return-1;var t=this.getKey(e);return this.indexOfKey(t)},indexOfKey:function(e){var t=this.indices;return e in this.map?(t||(t=this.getIndices()),t[e]):-1},insert:function(e,t){var n=this.decodeItems(arguments,1),i=n;return n.length&&(this.splice(e,0,n),i=1===n.length?n[0]:n),i},itemChanged:function(e,t,n,i){var r,o,a,s,l,d,c=this,u=0===n||!!n,h=c.filtered&&c.getAutoFilter(),f=!1,g=0,p=c.items,m=c.length-1,x=c.sorted&&m>0&&c.getAutoSort(),E=c.getSource(),v=0,y=!1,b=!1;E&&!E.updating?E.itemChanged(e,t,n,i):(o=c.getKey(e),h&&(f=(b=(l=c.indexOfKey(u?n:o))<0)!==(y=c.isItemFiltered(e))),f?y?(v=[e],d=-1):(s=[e],d=c.length):x&&!y&&(h||(l=c.indexOfKey(u?n:o)),a=c.getSortFn(),-1!==l&&(l&&a(p[l-1],p[l])>0?(g=-1,d=Ext.Array.binarySearch(p,e,0,l,a)):l<m&&a(p[l],p[l+1])>0&&(g=1,d=Ext.Array.binarySearch(p,e,l+1,a)),g&&(s=[e]))),r={item:e,key:o,index:d,filterChanged:f,keyChanged:u,indexChanged:!!g,filtered:y,oldIndex:l,newIndex:d,wasFiltered:b,meta:i},u&&(r.oldKey=n),t&&(r.modified=t),c.beginUpdate(),c.notify("beforeitemchange",[r]),u&&c.updateKey(e,n),(s||v)&&c.splice(d,v,s),g>0?r.newIndex--:g<0&&r.oldIndex++,c.notify(y?"filtereditemchange":"itemchange",[r]),c.endUpdate())},remove:function(e){var t=this.decodeRemoveItems(arguments,0),n=this.length;return this.splice(0,t),n-this.length},removeAll:function(){var e=this.length;return this.generation&&e&&this.splice(0,e),this},removeAt:function(e,t){var n,i=this.length,r=Ext.Number,o=r.clipIndices(i,[e,void 0===t?1:t],r.Clip.COUNT),a=o[0],s=o[1]-a,l=1===s&&this.getAt(a);return this.splice(a,s),n=this.length-i,l&&n?l:n},removeByKey:function(e){var t=this.getByKey(e);return!(!t||!this.remove(t))&&t},replace:function(e){var t=this.indexOf(e);-1===t?this.add(e):this.insert(t,e)},splice:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E=this,v=E.sorted&&E.getAutoSort(),y=E.map,b=E.items,C=E.length,S=t instanceof Array?E.decodeRemoveItems(t):null,w=!S,T=Ext.Number,P=T.clipIndices(C,[e,w?t:0],T.Clip.COUNT),k=P[0],I=P[1],M=I-k,R=E.decodeItems(arguments,2),A=R?R.length:0,D=k,F=E.indices||(A||S?E.getIndices():null),L=null,O=M?[k]:null,B=null,N=E.getSource();if(N&&!N.updating){if(w)for(S=[],d=0;d<M;++d)S.push(b[k+d]);return d=k<C?N.indexOf(b[k]):N.length,E.requestedIndex=e,N.splice(d,S,R),delete E.requestedIndex,E}if(A){for(i=R,B=[],r={},v&&(x=E.getSorters(),A>1&&(i.$cloned||(R=i=i.slice(0)),E.sortData(i))),d=0;d<A;++d)void 0!==(h=r[f=E.getKey(c=R[d])])?(m||(m={}))[h]=1:((u=F[f])<k||I<=u)&&(O||(O=[])).push(u),r[f]=d,B.push(f);if(m){for(g=B,B=[],(i=[]).$cloned=!0,d=0;d<A;++d)m[d]||(c=R[d],i.push(c),B.push(g[d]));A=i.length}L={items:i,keys:B}}for(d=S?S.length:0;d-- >0;)void 0!==(u=F[f=E.getKey(S[d])])&&(O||(O=[])).push(u);if(!L&&!O)return E;if(E.beginUpdate(),O){for(a=null,l=[],o={},O.length>1&&O.sort(Ext.Array.numericSortFn),d=0,p=O.length;d<p;++d)(f=E.getKey(c=b[u=O[d]]))in y&&(delete y[f],(!a||u>a.at+s.length)&&(l.push(a={at:u,items:s=[],keys:g=[],map:o,next:a,replacement:L}),L&&(L.replaced=a)),s.push(o[f]=c),g.push(f),u<D-1&&--D,M>1&&u===k&&(--M,O[d--]=++k));for(L&&(L.at=D),h=l.length;h-- >0;){if((d=(a=l[h]).at)+(p=a.items.length)<C&&(E.indices=F=null),E.length=C-=p,b.splice(d,p),F)for(g=a.keys,d=0;d<p;++d)delete F[g[d]];++E.generation,E.notify("remove",[a])}}if(L)if(v&&A>1&&C)E.spliceMerge(i,B);else{if(v&&(A>1?(D=0,E.indices=F=null):D=x.findInsertionIndex(L.items[0],b,E.getSortFn(),e)),D===C){for(I=D,d=i.length-1;d>=0;--d)b[I+d]=i[d];if(F=E.indices)for(d=0;d<A;++d)F[B[d]]=D+d}else E.indices=null,Ext.Array.insert(b,D,i);for(d=0;d<A;++d)y[B[d]]=i[d];E.length+=A,L.at=D,L.atItem=0===D?null:b[D-1],++E.generation,E.notify("add",[L])}return E.endUpdate(),E},update:function(e,t){this.beginUpdate();try{return e.call(t||this,this)}catch(e){throw Ext.log.error(this.$className+": Unhandled Exception: ",e.description||e.message),e}finally{this.endUpdate()}},updateKey:function(e,t){var n,i=this,r=i.map,o=i.indices,a=i.getSource();a&&!a.updating?a.updateKey(e,t):(n=i.getKey(e))!==t&&(r[t]!==e||n in r?(n in r&&r[n]!==e&&Ext.raise('Duplicate newKey "'+n+'" for item with oldKey "'+t+'"'),t in r&&r[t]!==e&&Ext.raise('Incorrect oldKey "'+t+'" for item with newKey "'+n+'"')):(delete r[t],i.updating++,i.generation++,r[n]=e,o&&(o[n]=o[t],delete o[t]),i.notify("updatekey",[{item:e,newKey:n,oldKey:t}]),i.updating--))},findInsertIndex:function(e){for(var t,n,i=this.getSource(),r=i.items,o=i.indexOf(e)-1;o>-1;){if(t=r[o],(n=this.indexOf(t))>-1)return n+1;--o}return 0},onCollectionAdd:function(e,t){var n,i,r,o,a,s,l=this,d=t.atItem,c=t.items,u=l.requestedIndex;if(l.sorted||(void 0!==u?i=u:d?-1===(i=l.indexOf(d))?i=l.findInsertIndex(c[0]):++i:i=0),l.getAutoFilter()&&l.filtered)for(o=0,s=c.length;o<s;++o)a=c[o],l.isItemFiltered(a)?(r||(r=c.slice(0,o)),n||(n=[]),n.push(a)):r&&r.push(a);l.splice(i<0?l.length:i,0,r||c),n&&l.notify("filteradd",[n])},onCollectionBeforeItemChange:function(e,t){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){delete this.onCollectionUpdateKey,this.itemChanged(t.item,t.modified,t.oldKey,t.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(e){var t,n,i,r,o,a=this,s={},l={};for(i=e.items,i=a.filtered&&a.getAutoFilter()?Ext.Array.filter(i,a.getFilterFn()):i.slice(0),a.sorted&&a.sortData(i),a.items=i,a.length=o=i.length,a.map=s,a.indices=l,t=0;t<o;++t)s[r=a.getKey(n=i[t])]=n,l[r]=t;a.notify("refresh")},onCollectionRemove:function(e,t){this.splice(0,t.items)},onCollectionUpdateKey:function(e,t){this.updateKey(t.item,t.oldKey)},_aggregators:{average:function(e,t,n,i,r){var o=n-t;return o&&this._aggregators.sum.call(this,e,t,n,i,r)/o},bounds:function(e,t,n,i,r){for(var o,a,s,l=t;l<n;++l)o=e[l],(o=(r?o[r]:o)[i])<a||(a=o),o>s||(s=o);return[s,a]},count:function(e){return e.length},extremes:function(e,t,n,i,r){var o,a,s,l,d,c=null,u=null;for(o=t;o<n;++o)a=e[o],(d=(r?a[r]:a)[i])<s||(s=d,c=a),d>l||(l=d,u=a);return[u,c]},max:function(e,t,n,i,r){return this._aggregators.bounds.call(this,e,t,n,i,r)[1]},maxItem:function(e,t,n,i,r){return this._aggregators.extremes.call(this,e,t,n,i,r)[1]},min:function(e,t,n,i,r){return this._aggregators.bounds.call(this,e,t,n,i,r)[0]},minItem:function(e,t,n,i,r){return this._aggregators.extremes.call(this,e,t,n,i,r)[0]},sum:function(e,t,n,i,r){for(var o,a=0,s=t;s<n;++s)o=e[s],a+=o=(r?o[r]:o)[i];return a}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(e){var t=this,n=t.observers;n||(t.observers=n=[]),Ext.Array.contains(n,e)&&Ext.Error.raise("Observer already added"),t.notifying&&(t.observers=n=n.slice(0)),n.push(e),n.length>1&&Ext.Array.sort(n,t.prioritySortFn)},prioritySortFn:function(e,t){return(e.observerPriority||0)-(t.observerPriority||0)},applyExtraKeys:function(e,t){var n,i,r,o=t||{};for(i in e)(r=e[i]).isCollectionKey?r.setCollection(this):(n={collection:this},Ext.isString(r)?n.property=r:n=Ext.apply(n,r),r=new Ext.util.CollectionKey(n)),o[i]=this[i]=r,r.name=i;return o},applyGrouper:function(e){return e&&(e=this.getSorters().decodeSorter(e,"Ext.util.Grouper")),e},decodeItems:function(e,t){var n,i,r,o=void 0===t?e:e[t];if(!o||!o.$cloned){if((n=e.length>t+1||!Ext.isIterable(o))&&1===(o=Ext.Array.slice(e,t)).length&&void 0===o[0]&&(o.length=0),i=this.getDecoder())for(n||(o=o.slice(0),n=!0),r=o.length;r-- >0;)!1===(o[r]=i.call(this,o[r]))&&o.splice(r,1);n&&(o.$cloned=!0)}return o},getIndices:function(){var e,t=this,n=t.indices,i=t.items,r=i.length;if(!n)for(t.indices=n={},++t.indexRebuilds,e=0;e<r;++e)n[t.getKey(i[e])]=e;return n},notify:function(e,t){var n,i,r,o,a=this,s=a.observers,l=a._eventToMethodMap[e],d=0;if(t=t||[],s&&l){for(a.notifying=!0,n=0,i=s.length;n<i;++n)(r=(o=s[n])[l])&&(d++||t.unshift(a),r.apply(o,t));a.notifying=!1}a.hasListeners&&a.hasListeners[e]&&(d||t.unshift(a),a.fireEventArgs(e,t))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(e){var t=this._filters;return t||!1===e||(t=new Ext.util.FilterCollection,this.setFilters(t)),t},isItemFiltered:function(e){return!this.getFilters().filterFn(e)},onFilterChange:function(e){var t,n,i,r=this,o=r.getSource();if(o)(o.length||r.length)&&r.onCollectionRefresh(o);else{if(t=r.getExtraKeys())for(i in n={},t)n[i]=t[i].clone(r);o=new Ext.util.Collection({keyFn:r.getKey,extraKeys:n,rootProperty:r.getRootProperty()}),r.length&&o.add(r.items),r.setSource(o),r.autoSource=o}r.notify("filter")},applyFilters:function(e,t){return!e||e.isFilterCollection?e:(e&&(t||(t=this.getFilters()),t.splice(0,t.length,e)),t)},updateFilters:function(e,t){var n=this;t&&t.un("endupdate","onEndUpdateFilters",n),e&&(e.on({endupdate:"onEndUpdateFilters",scope:n,priority:n.$endUpdatePriority}),e.$filterable=n),n.onEndUpdateFilters(e)},onEndUpdateFilters:function(e){var t=this.filtered,n=!!e&&e.length>0;(t||n)&&(this.filtered=n,this.onFilterChange(e))},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(e){var t=this._sorters;return t||!1===e||(t=new Ext.util.SorterCollection,this.setSorters(t)),t},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(e,t,n){var i=this.getSorters();return i.addSort.apply(i,arguments),this},sortData:function(e){return Ext.Array.sort(e,this.getSortFn()),e},sortItems:function(e){var t=this;t.sorted&&(e&&Ext.raise("Collections with sorters cannot resorted"),e=t.getSortFn()),t.indices=null,t.notify("beforesort",[t.getSorters(!1)]),t.length&&Ext.Array.sort(t.items,e),t.notify("sort")},sortBy:function(e){return this.sortItems(e)},findInsertionIndex:function(e,t,n,i){var r,o,a;return t=t||this.items,n=n||this.getSortFn(),i<(a=t.length)&&(r=i>0?n(t[i-1],e):0,o=i<a-1?n(e,t[i]):0,r<1&&o<1)?i:Ext.Array.binarySearch(t,e,n)},applySorters:function(e,t){return!e||e.isSorterCollection?e:(e&&(t||(t=this.getSorters()),t.splice(0,t.length,e)),t)},createSortFn:function(){var e=this.getGrouper(),t=this.getSorters(!1),n=t?t.getSortFn():null;return e?function(t,i){var r=e.sort(t,i);return!r&&n&&(r=n(t,i)),r}:n},updateGrouper:function(e){var t,n=this,i=n.getGroups(),r=n.getSorters();n.onSorterChange(),n.grouped=!!e,e?n.getTrackGroups()&&(i||((i=new Ext.util.GroupCollection({itemRoot:n.getRootProperty()})).$groupable=n,n.setGroups(i)),i.setGrouper(e),t=!0):(i&&(n.removeObserver(i),i.destroy()),n.setGroups(null)),r.updating||n.onEndUpdateSorters(r),t&&i.onCollectionRefresh(n)},updateSorters:function(e,t){var n=this;t&&!t.destroyed&&t.un("endupdate","onEndUpdateSorters",n),e&&(e.on({endupdate:"onEndUpdateSorters",scope:n,priority:n.$endUpdatePriority}),e.$sortable=n),n.onSorterChange(),n.onEndUpdateSorters(e)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(e){var t=this,n=t.sorted,i=t.grouped&&t.getAutoGroup()||e&&e.length>0;(n||i)&&(t.sorted=!!i,t.onSortChange(e))},removeObserver:function(e){var t=this.observers;t&&Ext.Array.remove(t,e)},spliceMerge:function(e,t){var n,i,r,o,a,s,l=this,d=l.map,c=e.length,u=0,h=l.items,f=h.length,g=[],p=0,m=[],x=l.getSortFn();for(l.items=m,s=0;s<c;s=i){for(o=e[s];u<f&&!(x(o,a=h[u])<0);++u)m.push(a);if(u===f){for(g[p++]={at:m.length,itemAt:m[m.length-1],items:n=[]},p>1&&(g[p-2].next=g[p-1]);s<c;++s)n.push(o=e[s]),m.push(o);break}for(g[p++]={at:m.length,itemAt:m[m.length-1],items:n=[o]},p>1&&(g[p-2].next=g[p-1]),m.push(o),i=s+1;i<c&&!(x(o=e[i],a)>=0);++i)m.push(o),n.push(o)}for(;u<f;++u)m.push(h[u]);for(r=0;r<c;++r)d[t[r]]=e[r];for(l.length=m.length,++l.generation,l.indices=null,r=0;r<p;++r)l.notify("add",[g[r]])},getGroups:function(){return this.callParent()||null},updateAutoGroup:function(e){var t=this.getGroups();t&&t.setAutoGroup(e),this.onEndUpdateSorters(this._sorters)},updateGroups:function(e,t){t&&this.removeObserver(t),e&&this.addObserver(e)},updateSource:function(e,t){var n=this.autoSource;t&&(t.destroyed||t.removeObserver(this),t===n&&(n.destroy(),this.autoSource=null)),e&&(e.addObserver(this),(e.length||this.length)&&this.onCollectionRefresh(e))}},function(){var e=this.prototype;e.removeAtKey=e.removeByKey,e.decodeRemoveItems=e.decodeItems,Ext.Object.each(e._aggregators,function(t){e[t]=function(e,n,i){return this.aggregate(e,t,n,i)},e[t+"ByGroup"]=function(e){return this.aggregateByGroup(e,t)}})}),Ext.define("Ext.util.ObjectTemplate",{requires:["Ext.XTemplate"],isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(e,t){return Ext.isObject(e)||Ext.raise("The template is not an Object"),e.isObjectTemplate?e:new Ext.util.ObjectTemplate(e,t)}},constructor:function(e,t){Ext.apply(this,t),this.template=e},apply:function(e){var t=this;return delete t.apply,t.apply=t.compile(t.template),t.apply(e)},privates:{compile:function(e){var t,n,i,r,o=this.excludeProperties;if(Ext.isString(e))e.indexOf("{")<0?r=function(){return e}:this.valueRe.test(e)?(e=e.substring(1,e.length-1).split("."),r=function(t){for(var n=t,i=0;n&&i<e.length;++i)n=n[e[i]];return n}):(e=new Ext.XTemplate(e),r=function(t){return e.apply(t)});else if(!e||Ext.isPrimitive(e)||Ext.isFunction(e))r=function(){return e};else if(e instanceof Array){for(t=[],n=0,i=e.length;n<i;++n)t[n]=this.compile(e[n]);r=function(e){var n,r=[];for(n=0;n<i;++n)r[n]=t[n](e);return r}}else{for(n in t={},e)o[n]||(t[n]=this.compile(e[n]));r=function(n){var i,r,a={};for(i in e)void 0!==(r=o[i]?e[i]:t[i](n))&&(a[i]=r);return a}}return r}}}),Ext.define("Ext.data.schema.Role",{isRole:!0,left:!0,owner:!1,side:"left",isMany:!1,defaultReaderType:"json",_internalReadOptions:{recordsOnly:!0,asRoot:!0},constructor:function(e,t){var n=this,i=t.extra;Ext.apply(n,t),i&&(delete(i=Ext.apply({},i)).type,Ext.apply(n,i),delete n.extra),n.association=e,e.owner===n.side&&(e.owner=n,n.owner=!0)},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(e,t,n,i){return n},checkMembership:Ext.emptyFn,adoptAssociated:function(e,t){var n=this.getAssociatedItem(e);n&&t.adopt(n)},$roleFilterId:"$associationRoleFilter",createAssociationStore:function(e,t,n,i){var r,o=this,a=o.association,s=a.getFieldName(),l=a.isManyToMany,d=o.storeConfig,c=t.getId(),u={asynchronousLoad:!1,model:o.cls,role:o,session:e,associatedEntity:t,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!e};return l?u.filters=[{id:o.$roleFilterId,property:o.inverse.field,value:c,exactMatch:!0}]:s&&(u.filters=[{id:o.$roleFilterId,property:s,value:c,exactMatch:!0}],u.foreignKeyName=s),d&&Ext.apply(u,d),r=Ext.Factory.store(u),o.onStoreCreate(r,e,c),(s||l&&e)&&r.on({scope:o,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"}),n&&r.loadData(n),r.complete=!!i,r},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(e,t,n,i,r){var o,a,s,l,d,c,u,h,f=this.getStoreName(),g=e[f],p=e.session,m=t&&t.reload,x=e.$source,E=!1,v=!1;if(!g){if(p){if(x&&(v=x.phantom),!i&&x&&(u=x[f])&&!u.isLoading()){for(i=[],s=0,l=(d=u.getData().items).length;s<l;++s)c=d[s],i.push(p.getRecord(c.self,c.id));E=!!u.complete,o=!0}o||(h=!!i,i=this.findRecords(p,e,i,r),h||i&&i.length||(i=null),E=v||h)}else E=!!i;(g=this.createAssociationStore(p,e,i,E||e.phantom)).$source=u,i||!this.autoLoad&&!t||(m=!0),e[f]=g}return t&&(m||g.isLoading()?g.on("load",function(i,r,o,s){a=[i,s],n=n||t.scope||e,o?Ext.callback(t.success,n,a):Ext.callback(t.failure,n,a),a.push(o),Ext.callback(t,n,a),Ext.callback(t.callback,n,a)},null,{single:!0}):(a=[g,null],n=n||t.scope||e,Ext.callback(t.success,n,a),a.push(!0),Ext.callback(t,n,a),Ext.callback(t.callback,n,a))),m&&!g.isLoading()&&g.load(),g},getAssociatedItem:function(e){return e[this.isMany?this.getStoreName():this.getInstanceName()]||null},onDrop:Ext.emptyFn,onIdChanged:Ext.emptyFn,getReaderRoot:function(){return this.associationKey||(this.associationKey=this.association.schema.getNamer().readerRoot(this.role))},getReader:function(){var e=this,t=e.reader,n=e.cls,i=!e.associationKey,r=this.getReaderRoot();return t&&!t.isReader&&(Ext.isString(t)&&(t={type:t}),Ext.applyIf(t,{model:n,rootProperty:r,useSimpleAccessors:i,type:e.defaultReaderType}),t=e.reader=Ext.createByAlias("reader."+t.type,t)),t},getInstanceName:function(){return this.instanceName||(this.instanceName=this.association.schema.getNamer().instanceName(this.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){return this.storeName||(this.storeName=this.association.schema.getNamer().storeName(this.role))},constructReader:function(e){var t,n,i=this,r=i.getReader(),o=i.cls,a=!i.associationKey,s=i.getReaderRoot();return r||((n=o.getProxy())?((r=new((t=n.getReader()).self)).copyFrom(t),r.setRootProperty(s)):r=new e.self({model:o,useSimpleAccessors:a,rootProperty:s}),i.reader=r),r},read:function(e,t,n,i){var r=this.constructReader(n),o=r.getRoot(t);if(o)return r.readRecords(o,i,this._internalReadOptions)},getCallbackOptions:function(e,t,n){return"function"==typeof e?e={callback:e,scope:t||n}:e&&((e=Ext.apply({},e)).scope=t||e.scope||n),e},doGetFK:function(e,t,n){var i,r,o=this.cls,a=this.association.getFieldName(),s=this.getInstanceName(),l=e[s],d=t&&t.reload,c=void 0!==l&&!d,u=e.session;return c?l&&(c=!l.isLoading()):u?(i=e.get(a))||0===i?(c=u.peekRecord(o,i,!0)&&!d,l=u.getRecord(o,i,!1)):(c=!0,e[s]=l=null):a?(i=e.get(a))||0===i?l||(l=o.createWithId(i)):(c=!0,e[s]=l=null):(c=!0,l=null),c?t&&(r=[l,null],n=n||t.scope||e,Ext.callback(t.success,n,r),r.push(!0),Ext.callback(t,n,r),Ext.callback(t.callback,n,r)):(e[s]=l,t=this.getCallbackOptions(t,n,e),l.load(t)),l},doSetFK:function(e,t,n,i){var r,o=this,a=o.association.getFieldName(),s=o.getInstanceName(),l=e[s],d=o.inverse,c=d.setterName;e.session;if(t&&t.isEntity?l!==t&&(e[r=o.getOldInstanceName()]=l,e[s]=t,l&&l.isEntity&&(l[d.getInstanceName()]=void 0),a&&e.set(a,t.getId()),delete e[r],e.onAssociatedRecordSet(t,o),c&&t[c](e)):(a||Ext.raise('No foreignKey specified for "'+o.association.left.role+'" by '+e.$className),(e.changingKey&&!d.isMany||e.set(a,t))&&l&&l.isEntity&&!l.isEqual(l.getId(),t)&&(e[s]=void 0,d.isMany||(l[d.getInstanceName()]=void 0))),n)return Ext.isFunction(n)&&(n={callback:n,scope:i||e}),e.save(n)}}),Ext.define("Ext.data.schema.Association",{requires:["Ext.data.schema.Role"],isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(e){var t,n,i=this;Ext.apply(i,e),i.left=t=new i.Left(i,i.left),i.right=n=new i.Right(i,i.right),t.inverse=n,n.inverse=t},hasField:function(){return!!this.field},getFieldName:function(){var e=this.field;return e?e.name:""}}),Ext.define("Ext.data.schema.OneToOne",{extend:"Ext.data.schema.Association",isOneToOne:!0,isToOne:!0,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(e,t){var n=this.getAssociatedItem(e);e[this.getInstanceName()]=null,n&&(n[this.inverse.getInstanceName()]=null)},onIdChanged:function(e,t,n){var i=this.getAssociatedItem(e),r=this.association.getFieldName();!e.session&&i&&r&&i.set(r,n)},createGetter:function(){var e=this;return function(){return e.doGet(this)}},createSetter:function(){var e=this;return function(t){return e.doSet(this,t)}},doGet:function(e){var t=e[this.getInstanceName()];e.session;return t||null},doSet:function(e,t){var n=this.getInstanceName(),i=e[n],r=this.inverse.setterName;return i!==t&&(e[n]=t,r&&t[r](e),e.onAssociatedRecordSet(t,this)),i},read:function(e,t,n,i){var r,o=this.callParent([e,t,n,i]);o&&(r=o[0])&&(r[this.inverse.getInstanceName()]=e,e[this.getInstanceName()]=r,delete e.data[this.role])}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",createGetter:function(){var e=this;return function(t,n){return e.doGetFK(this,t,n)}},createSetter:function(){var e=this;return function(t,n,i){return e.doSetFK(this,t,n,i)}},onDrop:function(e,t){var n,i=this,r=i.association.field,o=i.getAssociatedItem(e);i.inverse.owner&&(t&&r?((n=e.get(r.name))||0===n)&&(o=t.getEntry(i.cls,n).record)&&o.drop():o&&o.drop()),r&&e.set(r.name,null),e[i.getInstanceName()]=null,o&&(o[i.inverse.getInstanceName()]=null)},onValueChange:function(e,t,n){var i=this,r=e[i.getOldInstanceName()]||i.getAssociatedItem(e),o=n||0===n,a=i.getInstanceName(),s=i.cls;e.changingKey=!0,i.doSetFK(e,n),o?t&&s&&(e[a]=t.peekRecord(s,n)||void 0):e[a]=null,i.inverse.owner&&r&&i.association.schema.queueKeyCheck(r,i),e.changingKey=!1},checkKeyForDrop:function(e){this.inverse.getAssociatedItem(e)||e.drop()},read:function(e,t,n,i){var r,o,a,s,l,d,c,u,h=this,f=h.callParent([e,t,n,i]);f&&(r=f[0],(o=h.association.field)&&(a=o.name),s=e.session,u=e.data,r&&((!s||((l=s.getRefs(r,this.inverse,!0))&&l[e.id]||void 0===u[a]))&&(o&&(c=u[a])!==(d=r.id)&&(u[a]=d,s&&s.updateReference(e,o,d,c)),r[h.inverse.getInstanceName()]=e,e[h.getInstanceName()]=r),delete u[h.role]))}})}),Ext.define("Ext.data.schema.ManyToOne",{extend:"Ext.data.schema.Association",isManyToOne:!0,isToOne:!0,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,onDrop:function(e,t){var n,i,r,o,a=this.getAssociatedItem(e);if(a){if((n=a.removeAll())&&this.inverse.owner)for(r=0,i=n.length;r<i;++r)n[r].drop();a.destroy(),e[this.getStoreName()]=null}else if(t&&(n=t.getRefs(e,this)))for(o in n)n[o].drop()},onIdChanged:function(e,t,n){var i,r,o,a,s=this.association.getFieldName(),l=this.getAssociatedItem(e);if(l&&((a=l.getFilters().get(this.$roleFilterId))&&a.setValue(n),!e.session&&s))for(r=0,o=(i=l.getDataSource().items).length;r<o;++r)i[r].set(s,n)},processUpdate:function(e,t){var n,i,r,o,a=this.inverse.cls,s=t.R;if(s)for(n in s)(i=e.peekRecord(a,n))?(o=e.getEntityList(this.cls,s[n]),(r=this.getAssociatedItem(i))?(r.loadData(o),r.complete=!0):i[this.getterName](null,null,o)):e.onInvalidAssociationEntity(a,n)},findRecords:function(e,t,n,i){var r,o,a,s,l,d,c=n,u=e.getRefs(t,this,!0),h=this.association.field;if(h&&(u||i)){if(r=h.name,c=[],n)for(d={},s=0,l=n.length;s<l;++s)a=(o=n[s]).id,u&&u[a]?c.push(o):i&&void 0===o.data[r]&&(c.push(o),o.data[r]=t.id,e.updateReference(o,h,t.id,void 0)),d[a]=!0;if(u)for(a in u)d&&d[a]||c.push(u[a])}return c},processLoad:function(e,t,n,i){var r=n;return i&&(r=this.findRecords(i,t,n,!0)),this.onLoadMany(t,r,i),r},adoptAssociated:function(e,t){var n,i,r,o=this.getAssociatedItem(e);if(o)for(o.setSession(t),i=0,r=(n=o.getData().items).length;i<r;++i)t.adopt(n[i])},createGetter:function(){var e=this;return function(t,n,i){return e.getAssociatedStore(this,t,n,i,!0)}},createSetter:null,onAddToMany:function(e,t){this.syncFK(t,e.getAssociatedEntity(),!1)},onLoadMany:function(e,t,n){var i,r,o,a,s,l,d=this.inverse.getInstanceName(),c=e.getId(),u=this.association.field;if(u)for(i=0,r=t.length;i<r;++i)(o=t[i])[d]=e,u&&(l=u.name,(a=(s=o.data)[l])!==c&&(s[l]=c,n&&n.updateReference(o,u,c,a)))},onRemoveFromMany:function(e,t){this.syncFK(t,e.getAssociatedEntity(),!0)},read:function(e,t,n,i){var r,o,a,s=this.inverse.getInstanceName(),l=this.callParent([e,t,n,i]);if(l)for(r=e[this.getterName](null,null,l),delete e.data[this.role],a=0,o=(l=r.getData().items).length;a<o;++a)l[a][s]=e},syncFK:function(e,t,n){for(var i,r,o,a=this.association.getFieldName(),s=this.inverse,l=s.setterName,d=s.getInstanceName(),c=e.length,u=t.getId();c-- >0;)i=!(r=e[c]).isEqual(u,r.get(a)),o=n?null:t,i!==n?(r.changingKey=!0,r[l](o),r.changingKey=!1):r[d]=o}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",onDrop:function(e,t){var n=this.association.field;n&&e.set(n.name,null),e[this.getInstanceName()]=null},createGetter:function(){var e=this;return function(t,n){return e.doGetFK(this,t,n)}},createSetter:function(){var e=this;return function(t,n,i){return e.doSetFK(this,t,n,i)}},checkMembership:function(e,t){var n,i=this.association.field;i&&(n=this.getSessionStore(e,t.get(i.name)))&&!n.contains(t)&&n.add(t)},onValueChange:function(e,t,n,i){var r,o,a,s,l,d,c=this,u=c.getInstanceName(),h=c.cls;if(!e.changingKey)if((r=n||0===n)||(e[u]=null),t)(a=c.getSessionStore(t,i))&&a.remove(e),r&&((a=c.getSessionStore(t,n))&&!a.isLoading()&&a.add(e),h&&(d=t.peekRecord(h,n)),e[u]=d||void 0);else if(o=e.joined)for(s=o.length-1;s>=0;s--)(a=o[s]).isStore&&(l=a.getAssociatedEntity())&&l.self===c.cls&&l.getId()===i&&a.remove(e);c.owner&&null===n&&c.association.schema.queueKeyCheck(e,c)},checkKeyForDrop:function(e){var t=this.association.field;null===e.get(t.name)&&e.drop()},getSessionStore:function(e,t){var n,i=this.cls;if(i&&(n=e.peekRecord(i,t)))return this.inverse.getAssociatedItem(n)},read:function(e,t,n,i){var r,o=this.callParent([e,t,n,i]);o&&(r=o[0])&&(e[this.getInstanceName()]=r,delete e.data[this.role])}})}),Ext.define("Ext.data.schema.ManyToMany",{extend:"Ext.data.schema.Association",isManyToMany:!0,isToMany:!0,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,digitRe:/^\d+$/,findRecords:function(e,t,n){var i,r,o,a,s,l,d=e.getMatrixSlice(this.inverse,t.id).members,c=[],u=this.cls;if(n)for(i={},r=0,o=n.length;r<o;++r)(s=d[a=(l=n[r]).id])&&-1===s[2]||c.push(l),i[a]=!0;for(a in d)s=d[a],(!i||!i[a]&&s&&-1!==s[2])&&(l=e.peekRecord(u,a))&&c.push(l);return c},onIdChanged:function(e,t,n){var i=this.getAssociatedItem(e);i&&i.getFilters().get(this.$roleFilterId).setValue(n)},processLoad:function(e,t,n,i){var r=n;return i&&(r=this.findRecords(i,t,n),this.onAddToMany(e,r,!0)),r},processUpdate:function(e,t){var n,i,r,o,a=this,s=a.inverse.cls,l=t.R;if(l)for(n in l)(i=e.peekRecord(s,n))?(o=e.getEntityList(a.cls,l[n]),(r=a.getAssociatedItem(i))?(r.loadData(o),r.complete=!0):i[a.getterName](null,null,o)):e.onInvalidAssociationEntity(s,n);a.processMatrixBlock(e,t.C,1),a.processMatrixBlock(e,t.D,-1)},checkMembership:function(e,t){var n,i,r,o,a,s,l,d,c,u=e.getMatrix(this.association,!0);if(u&&(i=(n=this.left?u.right:u.left).inverse.role.cls,r=this.inverse,(a=n.slices)&&(o=a[t.id])))for(s in l=o.members)-1!==l[s][2]&&(d=e.peekRecord(i,s))&&(c=r.getAssociatedItem(d))&&(c.matrixUpdate=1,c.add(t),c.matrixUpdate=0)},onStoreCreate:function(e,t,n){var i;t&&((i=t.getMatrixSlice(this.inverse,n)).attach(e),i.notify=this.onMatrixUpdate,i.scope=this)},processMatrixBlock:function(e,t,n){var i,r=this.inverse,o=this.digitRe;if(t)for(i in t)o.test(i)&&(i=parseInt(i,10)),e.getMatrixSlice(r,i).update(t[i],n)},createGetter:function(){var e=this;return function(t,n,i){return e.getAssociatedStore(this,t,n,i,!1)}},onAddToMany:function(e,t,n){e.matrixUpdate||(e.matrixUpdate=1,e.matrix.update(t,!0===n?0:1),e.matrixUpdate=0)},onRemoveFromMany:function(e,t){e.matrixUpdate||(e.matrixUpdate=1,e.matrix.update(t,-1),e.matrixUpdate=0)},read:function(e,t,n,i){var r=this.callParent([e,t,n,i]);r&&(e[this.getterName](null,null,r),delete e.data[this.role])},onMatrixUpdate:function(e,t,n){var i,r,o,a=e.store;!a||a.loading||a.matrixUpdate||(a.matrixUpdate=1,i=a.indexOfId(t),n<0?i>=0&&a.remove([i]):i<0&&(r=(o=a.getSession().getEntry(this.type,t))&&o.record)&&a.add(r),a.matrixUpdate=0)},adoptAssociated:function(e,t){var n,i,r,o=this.getAssociatedItem(e);if(o)for(o.setSession(t),this.onStoreCreate(o,t,e.getId()),i=0,r=(n=o.getData().items).length;i<r;++i)t.adopt(n[i])}},function(){var e=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:e,left:!1,side:"right"})},null,"Ext.data.schema.ManyToMany")})}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return-1!=Ext.Array.indexOf(this.uncountable,e)},pluralize:function(e){if(this.isTransnumeral(e))return e;var t,n,i,r=this.plurals,o=r.length;for(i=0;i<o;i++)if((n=(t=r[i])[0])==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},singularize:function(e){if(this.isTransnumeral(e))return e;var t,n,i,r=this.singulars,o=r.length;for(i=0;i<o;i++)if((n=(t=r[i])[0])==e||n.test&&n.test(e))return e.replace(n,t[1]);return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),n=t%10,i=t%100;if(11<=i&&i<=13)return e+"th";switch(n){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},function(){var e,t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(e in t)t.hasOwnProperty(e)&&(this.plural(e,t[e]),this.singular(t[e],e))}),Ext.define("Ext.data.schema.Namer",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.Inflector"],alias:"namer.default",isNamer:!0,capitalize:function(e){return Ext.String.capitalize(e)},fieldRole:function(e){var t=e.match(this.endsWithIdRe,"");return t&&(e=e.substr(0,e.length-(t[1]||t[2]).length)),this.apply("uncapitalize",e)},idField:function(e){return this.apply("uncapitalize,singularize",e)+"Id"},instanceName:function(e){return this.apply("underscore",e)},multiRole:function(e){return this.apply("undotted,uncapitalize,pluralize",e)},pluralize:function(e){return Ext.util.Inflector.pluralize(e)},readerRoot:function(e){return this.apply("uncapitalize",e)},singularize:function(e){return Ext.util.Inflector.singularize(e)},storeName:function(e){return this.apply("underscore",e)},uncapitalize:function(e){return Ext.String.uncapitalize(e)},underscore:function(e){return"_"+e},uniRole:function(e){return this.apply("undotted,uncapitalize,singularize",e)},undotted:function(e){if(e.indexOf(".")<0)return e;for(var t=e.split("."),n=t.length;n-- >1;)t[n]=this.apply("capitalize",t[n]);return t.join("")},getterName:function(e){var t=e.role;return e&&e.isMany?t:"get"+this.apply("capitalize",t)},inverseFieldRole:function(e,t,n,i){var r=this.apply(t?"uniRole":"multiRole",e),o=this.apply("pluralize",n),a=this.apply("undotted,pluralize",i);return o.toLowerCase()!==a.toLowerCase()&&(r=n+this.apply("capitalize",r)),r},manyToMany:function(e,t,n){var i=this.apply("undotted,capitalize,singularize",t)+this.apply("undotted,capitalize,pluralize",n);return e&&(i=this.apply("capitalize",e+i)),i},manyToOne:function(e,t,n,i){return this.apply("capitalize,singularize",n)+this.apply("capitalize",t)},matrixRole:function(e,t){var n=this.apply(e?"multiRole,capitalize":"multiRole",t);return e?e+n:n},oneToOne:function(e,t,n,i){return this.apply("undotted,capitalize,singularize",n)+this.apply("capitalize",t)},setterName:function(e){return"set"+this.apply("capitalize",e.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(e,t){var n,i,r,o=this.cache,a=o[t]||(o[t]={}),s=a[e];if(!s){if(e.indexOf(",")<0)s=this[e](t);else for(i=(r=e.split(",")).length,s=t,n=0;n<i;++n)s=this.apply(r[n],s);a[e]=s}return s}}),Ext.define("Ext.data.schema.Schema",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.ObjectTemplate","Ext.data.schema.OneToOne","Ext.data.schema.ManyToOne","Ext.data.schema.ManyToMany","Ext.data.schema.Namer"],alias:"schema.default",aliasPrefix:"schema.",isSchema:!0,type:"default",statics:{instances:{},clearInstance:function(e){var t=this.instances[e];delete this.instances[e],t&&(t.clear(!0),t.destroy())},get:function(e){var t,n,i=this.instances,r="default",o=e&&Ext.isString(e);if(e){if(e.isSchema)return e;r=o?e:e.id||r}return(t=i[r])?e&&!o&&("default"!==r&&Ext.raise("Only the default Schema instance can be reconfigured"),n=Ext.merge({},t.config),Ext.merge(n,e),t.setConfig(n),t.config=n,t.setConfig=function(){Ext.raise("The schema can only be reconfigured once")}):(i[r]=t=this.create(e),t.id=r),t},lookupEntity:function(e){var t,n,i=null,r=this.instances;if(e)if(e.isEntity)i=e.self;else if(Ext.isFunction(e))i=e;else if(Ext.isString(e)){if(!(i=Ext.ClassManager.get(e))||i.prototype&&i.prototype.isEntity||(i=null),!i)for(n in r)(t=r[n].getEntity(e))&&(i&&Ext.raise('Ambiguous entity name "'+e+'". Defined by schema "'+i.schema.type+'" and "'+n+'"'),i=t);i||Ext.raise('No such Entity "'+e+'".')}return i}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(e,t){var n=t.alias;n&&!t.type&&(Ext.isString(n)||(n=n[0]),e.prototype.type=n.substring(this.prototype.aliasPrefix.length))},constructor:function(e){this.initConfig(e),this.clear()},applyDefaultIdentifier:function(e){return e&&Ext.Factory.dataIdentifier(e)},applyNamer:function(e){var t=Ext.data.schema.Namer.create(e);return t.schema=this,t},applyNamespace:function(e){if(e){var t=e.length-1;"."!==e.charAt(t)&&(e+=".")}return e},applyProxy:function(e){return Ext.util.ObjectTemplate.create(e)},eachAssociation:function(e,t){var n,i=this.associations;for(n in i)if(i.hasOwnProperty(n)&&!1===e.call(t,n,i[n]))break},eachEntity:function(e,t){var n,i=this.entities;for(n in i)if(i.hasOwnProperty(n)&&!1===e.call(t,n,i[n].cls))break},getAssociation:function(e){return this.associations[e]||null},getEntity:function(e){var t=this.entityClasses[e]||this.entities[e];return t&&t.cls||null},getEntityName:function(e){var t,n,i=this.getNamespace();if(n="string"==typeof e?e:e.$className||null){if(i&&(t=i.length,n.substring(0,t)!==i))return n;t&&(n=n.substring(t))}return n},hasAssociations:function(e){return e=e.entityName||e,!!this.associationEntityMap[e]},hasEntity:function(e){var t=this.getEntityName(e);return!(!this.entities[t]&&!this.entityClasses[t])},addMatrix:function(e,t,n,i,r){var o,a,s,l=this,d=l.getNamer(),c=l.associations,u=l.entities,h=i.type,f=r.type,g=i.field||d.apply("idField",h),p=r.field||d.apply("idField",f),m=i.role||d.matrixRole(n,h),x=r.role||d.matrixRole(n,f);a=u[h]||(u[h]={cls:null,name:h,associations:{}}),s=u[f]||(u[f]={cls:null,name:f,associations:{}}),++l.assocCount,c[t]=o=new Ext.data.schema.ManyToMany({name:t,schema:l,definedBy:e,left:{cls:a.cls,type:h,role:m,field:g,associationKey:i.associationKey},right:{cls:s.cls,type:f,role:x,field:p,associationKey:r.associationKey}}),a.associations[o.right.role]=o.right,s.associations[o.left.role]=o.left,a.cls&&(l.associationEntityMap[a.cls.entityName]=!0),s.cls&&(l.associationEntityMap[s.cls.entityName]=!0),l.decorateModel(o)},addReference:function(e,t,n,i,r){var o,a=this,s=a.getNamer(),l=a.entities,d=a.associations,c=e.entityName,u=n.association,h=n.child,f=n.parent,g=n.role,p=n.type||f||h,m=n.inverse,x=Ext.isString(m)?{role:m}:m,E=x&&x.role;g||(g=!t||n.legacy?s.apply("uncapitalize",p):s.apply("fieldRole",t.name)),E||(E=s.inverseFieldRole(c,i,g,p)),u||(u=i?s.oneToOne(e,E,p,g):s.manyToOne(e,E,p,g)),r&&u in d&&!1!==r(d[u],u,E,g)||(u in d&&Ext.raise('Duplicate association: "'+u+'" declared by '+c+(t?"."+t.name:"")+" (collides with "+d[u].definedBy.entityName+")"),t&&t.definedBy===l[p]&&Ext.raise("ForeignKey reference should not be owned by the target model"),o=l[p]||(l[p]={cls:null,name:p,associations:{}}),u=new(i?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne)({name:u,owner:h?"left":f?"right":null,definedBy:e,schema:a,field:t,nullable:!t||!!t.allowBlank,left:{cls:e,type:c,role:E,extra:x},right:{cls:o.cls,type:p,role:g,extra:n},meta:n}),e.associations[g]=u.right,o.associations[E]=u.left,t&&(t.reference=u.right,e.references.push(t)),++a.assocCount,a.associationEntityMap[c]=!0,o.cls&&(a.associationEntityMap[o.cls.entityName]=!0),d[u.name]=u,u.right.cls&&a.decorateModel(u))},privates:{addEntity:function(e){var t,n,i,r,o,a=this,s=a.entities,l=e.entityName,d=s[l],c=e.fields;if(d)if(d.cls)Ext.raise('Duplicate entity name "'+l+'": '+d.cls.$className+" and "+e.$className);else for(o in t=d.associations)t[o].inverse.cls=e,a.associationEntityMap[l]=!0,a.decorateModel(t[o].association);else s[l]=d={name:l,associations:{}};for(d.cls=e,e.prototype.associations=e.associations=d.associations,a.entityClasses[e.$className]=d,++a.entityCount,i=0,r=c.length;i<r;++i)(n=c[i]).reference&&a.addReferenceDescr(e,n)},addMatrices:function(e,t){var n,i,r;if(Ext.isString(t))this.addMatrixDescr(e,null,t);else if(t[0])for(n=0,i=t.length;n<i;++n)this.addMatrixDescr(e,null,t[n]);else for(r in t)this.addMatrixDescr(e,r,t[r])},addMatrixDescr:function(e,t,n){var i,r,o=this,a=e.entityName,s=o.associations,l=o.getNamer(),d=n.left,c=n.right;if(Ext.isString(n)?"#"===n.charAt(0)?(d={type:a},c={type:n.substring(1)}):"#"===n.charAt(i=n.length-1)?(d={type:n.substring(0,i)},c={type:a}):l.apply("multiRole",a)<l.apply("multiRole",n)?(d={type:a},c={type:n}):(d={type:n},c={type:a}):(Ext.Assert.isString(n.type,'No "type" for manyToMany in '+a),r=n.relation,d||!c&&l.apply("multiRole",a)<l.apply("multiRole",n.type)?(d=d&&!0!==d?Ext.apply({type:a},d):{type:a},c=n):(c=c&&!0!==c?Ext.apply({type:a},c):{type:a},d=n)),t||(t=l.manyToMany(r,d.type,c.type)),t in s){var u=s[t],h=[u.kind,u.left.type,u.left.role,u.left.field,u.right.type,u.right.role,u.right.field].join("|");delete s[t],o.addMatrix(e,t,r,d,c);var f=s[t];s[t]=u,u.left.cls.associations[u.right.role]=u.right,u.right.cls.associations[u.left.role]=u.left,--o.assocCount,h!=(f=[f.kind,f.left.type,f.left.role,f.left.field,f.right.type,f.right.role,f.right.field].join("|"))&&(Ext.log.warn(t+"("+u.definedBy.entityName+"): "+h),Ext.log.warn(t+"("+a+"): "+f),Ext.raise('Conflicting association: "'+t+'" declared by '+a+" was previously declared by "+u.definedBy.entityName))}else o.addMatrix(e,t,r,d,c)},addReferenceDescr:function(e,t){var n=t.$reference;n=Ext.isString(n)?{type:n}:Ext.apply({},n),this.addReference(e,t,n,t.unique)},addBelongsTo:function(e,t){this.addKeylessSingle(e,t,!1)},addHasOne:function(e,t){this.addKeylessSingle(e,t,!0)},addKeylessSingle:function(e,t,n){var i,r;(t=Ext.apply({},this.checkLegacyAssociation(e,t))).type=this.getEntityName(t.child||t.parent||t.type),i=t.foreignKey||t.type.toLowerCase()+"_id",r=e.getField(i),t.fromSingle=!0,r&&(r.$reference=t,r.unique=!0,t.legacy=!0,Ext.log.warn("Using foreignKey is deprecated, use a keyed association. See Ext.data.field.Field.reference")),this.addReference(e,r,t,n)},addHasMany:function(e,t){var n,i,r,o,a,s,l,d=this.entities,c=this.pending;(t=Ext.apply({},this.checkLegacyAssociation(e,t))).type=this.getEntityName(t.child||t.parent||t.type),o=d[i=t.type],(n=o&&o.cls)?(i=e.entityName,a=t.foreignKey||i.toLowerCase()+"_id",delete t.foreignKey,l=Ext.apply({},t.inverse),delete t.inverse,delete(s=Ext.apply({},t)).type,t=Ext.apply({type:i,inverse:s},l),s.child&&(delete s.child,t.parent=i),(r=n.getField(a))&&(r.$reference=t,t.legacy=!0,Ext.log.warn("Using foreignKey is deprecated, use a keyed association. See Ext.data.field.Field.reference")),this.addReference(n,r,t,!1,function(t,i,r,o){var a,s,l=!!t.meta.fromSingle&&n===t.left.cls;return l&&(a=n.entityName,s=e.entityName,Ext.raise('hasMany ("'+s+'") and belongsTo ("'+a+'") should not be used in conjunction to declare a relationship. Use only one.')),l})):(c[i]||(c[i]=[]),c[i].push([e,t]))},checkLegacyAssociation:function(e,t){(t=Ext.isString(t)?{type:t}:Ext.apply({},t)).model&&(t.type=t.model,delete t.model);var n=t.associatedName||t.name;return n&&(delete t.associatedName,delete t.name,t.role=n),t},afterKeylessAssociations:function(e){var t,n,i=this.pending,r=e.entityName,o=i[r];if(o){for(t=0,n=o.length;t<n;++t)this.addHasMany.apply(this,o[t]);delete i[r]}},clear:function(e){var t=this,n=t.timer;delete t.setConfig,n&&(window.clearTimeout(n),t.timer=null),t.associations={},t.associationEntityMap={},t.entities={},t.entityClasses={},t.pending={},t.assocCount=t.entityCount=0,e&&t.setNamespace(null)},constructProxy:function(e){var t=Ext.Object.chain(e),n=this.getProxy();return t.schema=this,t.prefix=this.getUrlPrefix(),n.apply(t)},applyDecoration:function(e){var t,n,i,r=e.inverse.cls,o=this.getNamer();r&&!e.decorated&&(e.decorated=!0,i=r.prototype,(t=e.getterName)||(e.getterName=t=o.getterName(e)),i[t]=e.createGetter(),e.createSetter&&((n=e.setterName)||(e.setterName=n=o.setterName(e)),i[n]=e.createSetter()))},decorateModel:function(e){this.applyDecoration(e.left),this.applyDecoration(e.right)},processKeyChecks:function(e){var t,n,i,r=this,o=r.keyCheckQueue,a=r.timer;if(a&&(window.clearTimeout(a),r.timer=null),o)do{for(o=r.keyCheckQueue,r.keyCheckQueue=[],n=0,t=o.length;n<t;++n)(i=o[n]).role.checkKeyForDrop(i.record)}while(e&&r.keyCheckQueue.length)},queueKeyCheck:function(e,t){var n=this,i=n.keyCheckQueue,r=n.timer;i||(n.keyCheckQueue=i=[]),i.push({record:e,role:t}),r||(n.timer=r=Ext.Function.defer(n.processKeyChecks,n.getKeyCheckDelay(),n))},rankEntities:function(){var e,t,n=this.entities,i=Ext.Object.getKeys(n),r=i.length;for(this.nextRank=1,i.sort(),t=0;t<r;++t)(e=n[i[t]].cls).rank||this.rankEntity(e);this.topoStack=null},rankEntity:function(e){var t,n,i,r=e.associations,o=this.topoStack||(this.topoStack=[]),a=e.entityName;for(i in o.push(a),0===e.rank&&Ext.raise(a+" has circular foreign-key references: "+o.join(" --\x3e ")),e.rank=0,r)!(n=r[i]).left&&n.association.field&&((t=n.cls).rank||this.rankEntity(t));e.rank=this.nextRank++,o.pop()}}}),Ext.define("Ext.data.AbstractStore",{mixins:["Ext.mixin.Observable","Ext.mixin.Factoryable"],requires:["Ext.util.Collection","Ext.data.schema.Schema","Ext.util.Filter"],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:!1,$configStrict:!1,config:{filters:null,autoDestroy:void 0,storeId:null,statefulFilters:!1,sorters:null,remoteSort:{lazy:!0,$value:!1},remoteFilter:{lazy:!0,$value:!1},groupField:void 0,groupDir:"ASC",grouper:null,pageSize:25,autoSort:null},currentPage:1,loading:!1,isStore:!0,updating:0,constructor:function(e){var t,n=this;n.isInitializing=!0,n.mixins.observable.constructor.call(n,e),n.isInitializing=!1,!(t=n.getStoreId())&&e&&e.id&&n.setStoreId(t=e.id),t&&Ext.data.StoreManager.register(n)},getCount:function(){var e=this.getData();return e?e.getCount():0},rangeCached:function(e,t){return this.getData().getCount()>=Math.max(e,t)},find:function(e,t,n,i,r,o){var a=!i,s=!(!a||!o);return this.getData().findIndex(e,t,n,a,s,!r)},findRecord:function(){var e=this.find.apply(this,arguments);return-1!==e?this.getAt(e):null},findExact:function(e,t,n){return this.getData().findIndexBy(function(n){return n.isEqual(n.get(e),t)},this,n)},findBy:function(e,t,n){return this.getData().findIndexBy(e,t,n)},getAt:function(e){return this.getData().getAt(e)||null},getRange:function(e,t,n){var i=this.getData().getRange(e,Ext.isNumber(t)?t+1:t);return n&&n.callback&&n.callback.call(n.scope||this,i,e,t,n),i},getFilters:function(e){var t=this.callParent();return t||!1===e||(this.setFilters([]),t=this.callParent()),t},applyFilters:function(e,t){var n;return t||(t=this.createFiltersCollection(),n=!0),t.add(e),n&&this.onRemoteFilterSet(t,this.getRemoteFilter()),t},getSorters:function(e){var t=this.callParent();return t||!1===e||(this.setSorters([]),t=this.callParent()),t},applySorters:function(e,t){var n;return t||(t=this.createSortersCollection(),n=!0),t.add(e),n&&this.onRemoteSortSet(t,this.getRemoteSort()),t},filter:function(e,t,n){Ext.isString(e)&&(e={property:e,value:t}),this.suppressNextFilter=!!n,this.getFilters().add(e),this.suppressNextFilter=!1},removeFilter:function(e,t){var n=this.getFilters();this.suppressNextFilter=!!t,e instanceof Ext.util.Filter?n.remove(e):n.removeByKey(e),this.suppressNextFilter=!1},updateAutoSort:function(e){this.getData().setAutoSort(e)},updateRemoteSort:function(e){this.onRemoteSortSet(this.getSorters(!1),e)},updateRemoteFilter:function(e){this.onRemoteFilterSet(this.getFilters(!1),e)},addFilter:function(e,t){this.suppressNextFilter=!!t,this.getFilters().add(e),this.suppressNextFilter=!1},filterBy:function(e,t){this.getFilters().add({filterFn:e,scope:t||this})},clearFilter:function(e){var t=this.getFilters(!1);t&&0!==t.getCount()&&(this.suppressNextFilter=!!e,t.removeAll(),this.suppressNextFilter=!1)},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){var e=this.getSorters(!1);return!!(e&&e.length>0)||this.isGrouped()},addFieldTransform:function(e){if(!e.getTransform()){var t,n,i=e.getProperty(),r=this.getModel();r&&(n=(t=r.getField(i))?t.getSortType():null),n&&n!==Ext.identityFn&&e.setTransform(n)}},beginUpdate:function(){this.updating++||this.fireEvent("beginupdate")},endUpdate:function(){this.updating&&!--this.updating&&(this.fireEvent("endupdate"),this.onEndUpdate())},getState:function(){var e,t,n,i=this,r=[],o=i.getFilters(),a=i.getGrouper();return i.getSorters().each(function(e){r[r.length]=e.getState(),t=!0}),i.statefulFilters&&i.saveStatefulFilters&&(t=!0,e=[],o.each(function(t){e[e.length]=t.getState()})),a&&(t=!0),t&&(n={},r.length&&(n.sorters=r),e&&(n.filters=e),a&&(n.grouper=a.getState())),n},applyState:function(e){var t=e.sorters,n=e.filters,i=e.grouper;t&&this.getSorters().replaceAll(t),n&&(this.saveStatefulFilters=!0,this.getFilters().replaceAll(n)),i&&this.setGrouper(i)},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var e=this;e.hasListeners.beforedestroy&&e.fireEvent("beforedestroy",e),e.destroying=!0,e.getStoreId()&&Ext.data.StoreManager.unregister(e),e.doDestroy(),e.hasListeners.destroy&&e.fireEvent("destroy",e),e.destroying=!1,e.callParent()},doDestroy:Ext.emptyFn,sort:function(e,t,n){0===arguments.length?this.getRemoteSort()?this.load():this.forceLocalSort():this.getSorters().addSort(e,t,n)},onBeforeCollectionSort:function(e,t){t&&this.fireEvent("beforesort",this,t.getRange())},onSorterEndUpdate:function(){var e,t=this;e=t.getSorters(!1),!t.settingGroups&&e&&((e=e.getRange()).length?t.getRemoteSort()?t.load({callback:function(){t.fireEvent("sort",t,e)}}):(t.fireEvent("datachanged",t),t.fireEvent("refresh",t),t.fireEvent("sort",t,e)):t.fireEvent("sort",t,e))},onFilterEndUpdate:function(){var e=this,t=e.suppressNextFilter;e.getFilters(!1)&&(e.getRemoteFilter()?(e.getFilters().each(function(e){e.getInitialConfig().filterFn&&Ext.raise("Unable to use a filtering function in conjunction with remote filtering.")}),e.currentPage=1,t||e.load()):t||(e.fireEvent("datachanged",e),e.fireEvent("refresh",e)),e.trackStateChanges&&(e.saveStatefulFilters=!0),e.fireEvent("filterchange",e,e.getFilters().getRange()))},updateGroupField:function(e){e?this.setGrouper({property:e,direction:this.getGroupDir()}):this.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},group:function(e,t){var n=this,i=n.getSorters(!1),r=e||i&&i.length;e&&"string"==typeof e&&(e={property:e,direction:t||n.getGroupDir()}),n.settingGroups=!0,n.getData().setGrouper(e),delete n.settingGroups,r?n.getRemoteSort()?n.load({scope:n,callback:n.fireGroupChange}):(n.fireEvent("datachanged",n),n.fireEvent("refresh",n),n.fireGroupChange()):n.fireGroupChange()},fireGroupChange:function(){this.destroyed||this.fireEvent("groupchange",this,this.getGrouper())},clearGrouping:function(){this.group(null)},getGroupField:function(){var e=this.getGrouper(),t="";return e&&(t=e.getProperty()),t},isGrouped:function(){return!!this.getGrouper()},applyGrouper:function(e){return this.group(e),this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(e,t){e&&e[t?"on":"un"]("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(e,t){var n=this;e&&(e[t?"on":"un"]("endupdate",n.onSorterEndUpdate,n),n.getData()[t?"un":"on"]("beforesort",n.onBeforeCollectionSort,n))}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}}),Ext.define("Ext.data.Error",{isError:!0,$configPrefixed:!1,config:{field:null,message:""},constructor:function(e){this.initConfig(e),this.msg=this.message}}),Ext.define("Ext.data.ErrorCollection",{extend:"Ext.util.MixedCollection",alternateClassName:"Ext.data.Errors",requires:["Ext.data.Error"],init:function(e){var t,n,i,r,o,a,s,l=this,d=e.fields,c=e.data;for(i=0,r=d.length;i<r;++i)a=c[s=(n=d[i]).name],n.validate&&!n.validate.$nullFn&&(t=l.length,o=n.validate(a,null,l,e),t===l.length&&!0!==o&&l.add(s,o));return l},add:function(e,t){var n,i=Ext.data.field.Field.defaultInvalidMessage,r=e;if(Ext.isString(e)?r=new Ext.data.Error({field:e,message:t||i}):(r.isError||(r=new Ext.data.Error({field:r.field||r.name,message:r.error||r.message||r.msg||i})),e=r.field),n=this.get(e)){if(Ext.isArray(n))return n.push(r),n;this.removeAtKey(e),(r=[n,r]).field=e,r=[r]}return this.callParent([r])},getKey:function(e){return e.field},isValid:function(){return 0===this.length},getByField:function(e){var t=this.get(e);return t&&!Ext.isArray(t)&&(t=[t]),t||[]}}),Ext.define("Ext.data.operation.Operation",{alternateClassName:"Ext.data.Operation",isOperation:!0,config:{synchronous:!1,url:"",params:void 0,callback:void 0,scope:void 0,resultSet:null,response:null,request:null,records:null,id:void 0,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,idPrefix:"ext-operation-",constructor:function(e){var t=e&&e.scope;this.initConfig(e),e&&(e.scope=t),t&&(this.setScope(t),this.initialConfig.scope=t),this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var e,t=this;return delete t.error,delete t.success,t.complete=t.exception=!1,t.setStarted(),t.request=e=t.doExecute(),e&&e.setOperation(t),e},doExecute:Ext.emptyFn,abort:function(){var e=this.request;this.running&&e&&(this.getProxy().abort(e),this.request=null)},process:function(e,t,n,i){var r=this;i=!1!==i,r.setResponse(n),r.setResultSet(e),e.getSuccess()?(r.doProcess(e,t,n),r.setSuccessful(i)):i&&r.setException(e.getMessage())},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(e,t,n){var i,r,o,a,s=this._commitSetOptions,l=this.getRecords(),d=l.length,c=l[0].clientIdProperty,u=e.getRecords(),h=u?u.length:0;if(h&&c){for(i=Ext.Array.toValueMap(l,"id"),a=0;a<h;++a)(o=i[(r=u[a])[c]])?(delete i[o.id],delete r[c],o.set(r,s)):Ext.log.warn("Ignoring server record: "+Ext.encode(r));for(a in i)i[a].commit()}else for(a=0;a<d;++a)o=l[a],0!==h&&(r=u[a])?o.set(r,s):o.commit()},setStarted:function(){this.started=this.running=!0},setCompleted:function(){var e=this,t=e.getProxy();e.complete=!0,e.running=!1,e.triggerCallbacks(),t&&t.completeOperation(e)},setSuccessful:function(e){this.success=!0,e&&this.setCompleted()},setException:function(e){var t=this;t.exception=!0,t.success=t.running=!1,t.error=e,t.setCompleted()},triggerCallbacks:function(){var e=this,t=e.getInternalCallback();t&&(t.call(e.getInternalScope()||e,e),e.setInternalCallback(null),e.setInternalScope(null)),(t=e.getCallback())&&(t.call(e.getScope()||e,e.getRecords(),e,e.wasSuccessful()),e.setCallback(null),e.setScope(null))},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var e;return this._records||((e=this.getResultSet())?e.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},allowWrite:function(){return!0}}),Ext.define("Ext.data.operation.Create",{extend:"Ext.data.operation.Operation",alias:"data.operation.create",action:"create",isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}}),Ext.define("Ext.data.operation.Destroy",{extend:"Ext.data.operation.Operation",alias:"data.operation.destroy",action:"destroy",isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){var e,t=this.getRecords(),n=t.length;for(e=0;e<n;++e)t[e].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(e,t){var n={};return n[e.idField[this.getNameProperty()||"name"]]=e.id,n}}),Ext.define("Ext.data.operation.Read",{extend:"Ext.data.operation.Operation",alias:"data.operation.read",action:"read",isReadOperation:!0,config:{filters:void 0,sorters:void 0,grouper:void 0,start:void 0,limit:void 0,page:void 0,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return!1}}),Ext.define("Ext.data.operation.Update",{extend:"Ext.data.operation.Operation",alias:"data.operation.update",action:"update",isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return null!=e?String(e).replace(this.stripTagsRe,""):"\0"},asUCText:function(e){return null!=e?String(e).toUpperCase().replace(this.stripTagsRe,""):"\0"},asUCString:function(e){return null!=e?String(e).toUpperCase():"\0"},asDate:function(e){return e?Ext.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(e){var t=parseFloat(String(e).replace(this.stripCommasRe,""));return isNaN(t)?0:t},asInt:function(e){var t=parseInt(String(e).replace(this.stripCommasRe,""),10);return isNaN(t)?0:t}}),Ext.define("Ext.data.validator.Validator",{mixins:["Ext.mixin.Factoryable"],alias:"data.validator.base",isValidator:!0,type:"base",statics:{all:{},register:function(e,t){var n=this.all;n[e.toUpperCase()]=n[e.toLowerCase()]=n[e]=t.prototype}},onClassExtended:function(e,t){t.type&&Ext.data.validator.Validator.register(t.type,e)},constructor:function(e){"function"==typeof e?(this.fnOnly=!0,this.validate=e):this.initConfig(e)},validate:function(){return!0},clone:function(){return this.fnOnly?new Ext.data.validator.Validator(this.validate):new this.self(this.getCurrentConfig())}},function(){this.register(this.prototype.type,this)}),Ext.define("Ext.data.field.Field",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.data.SortTypes","Ext.data.validator.Validator"],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:"This field is invalid",defaultValue:void 0,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:void 0,persist:null,reference:null,unique:!1,rank:null,stripRe:/[\$,%]/g,calculated:!1,evil:!1,identifier:!1,onClassExtended:function(e,t){var n=t.sortType,i=e.prototype,r=i.validators,o=t.validators;n&&Ext.isString(n)&&(i.sortType=Ext.data.SortTypes[n]),o&&(Ext.isArray(o)||(o=[o]),delete t.validators,r&&(o=r.concat(o)),i.validators=o)},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=h.calculateRe;if(e&&(Ext.isString(e)?h.name=e:((u=e.validators)&&(delete e.validators,h.instanceValidators=u),Ext.apply(h,e))),h.allowNull||(h.allowNull=!!h.reference),t=h.calculate,o=h.depends,t&&(h.convert=h.doCalculate,!o)){if(!(o=t.$depends))for(a={},d=t.toString(),t.$depends=o=[],l=(s=h.argumentNamesRe.exec(d))?s[1]:"data";s=f.exec(d);)l!==s[1]||a[c=s[2]]||(a[c]=1,o.push(c));h.depends=o}i=h.defaultValue,h.convert&&(h.calculated=n=h.convert.length>1,h.evil=n&&!o),null===h.persist&&(h.persist=!t),r=h.sortType,h.sortType?Ext.isString(r)&&(h.sortType=Ext.data.SortTypes[r]):h.sortType=Ext.data.SortTypes.none,o&&"string"==typeof o&&(h.depends=[o]),h.cloneDefaultValue=void 0!==i&&(Ext.isDate(i)||Ext.isArray(i)||Ext.isObject(i))},setModelValidators:function(e){this._validators=null,this.modelValidators=e},compileValidators:function(){var e=this;e._validators=[],e.constructValidators(e.validators),e.constructValidators(e.modelValidators),e.constructValidators(e.instanceValidators)},constructValidators:function(e){if(e){e instanceof Array||(e=[e]);var t,n,i=e.length,r=this._validators;for(t=0;t<i;++t)(n=e[t]).fn&&(n=n.fn),r.push(Ext.Factory.dataValidator(n))}},collate:function(e,t){var n=e,i=t;return this.sortType&&(n=this.sortType(n),i=this.sortType(i)),n===i?0:n<i?-1:1},compare:function(e,t){return e===t?0:e<t?-1:1},isEqual:function(e,t){return 0===this.compare(e,t)},convert:null,serialize:null,validate:function(e,t,n,i){var r,o,a,s,l=this,d="";for(l._validators||l.compileValidators(),s=0,a=(o=l._validators).length;s<a;++s)if(!0!==(r=o[s].validate(e,i)))if(r=r||l.defaultInvalidMessage,n)n.add(l.name,r),d=d||r;else{if(!t){d=r;break}d&&(d+=t),d+=r}return d||!0},doCalculate:function(e,t){return t?this.calculate(t.data):e},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var e=this.mapping;return!(!e&&0!==e)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}}),Ext.define("Ext.data.field.Boolean",{extend:"Ext.data.field.Field",alias:["data.field.bool","data.field.boolean"],isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(e){return"boolean"==typeof e?e:!this.allowNull||void 0!==e&&null!==e&&""!==e?this.trueRe.test(String(e)):null},getType:function(){return"bool"}}),Ext.define("Ext.data.field.Date",{extend:"Ext.data.field.Field",alias:"data.field.date",sortType:"asDate",isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(e,t){var n,i=e instanceof Date,r=t instanceof Date;return n=r&&i?0===(n=e.getTime()-t.getTime())?0:n<0?-1:1:i===r?0:i?1:-1},convert:function(e){if(!e)return null;if(e instanceof Date)return e;var t,n=this.dateReadFormat||this.dateFormat;return n?Ext.Date.parse(e,n,this.useStrict):(t=Date.parse(e))?new Date(t):null},serialize:function(e){var t,n=null;return Ext.isDate(e)&&(n=(t=this.getDateWriteFormat())?Ext.Date.format(e,t):e),n},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var e=this;return e.hasOwnProperty("dateWriteFormat")?e.dateWriteFormat:e.hasOwnProperty("dateFormat")?e.dateFormat:e.dateWriteFormat||e.dateFormat||"timestamp"},getType:function(){return"date"}}),Ext.define("Ext.data.field.Integer",{extend:"Ext.data.field.Field",alias:["data.field.int","data.field.integer"],isNumeric:!0,isIntegerField:!0,numericType:"int",convert:function(e){if("number"==typeof e)return this.getNumber(e);var t,n=void 0===e||null===e||""===e,i=this.allowNull;return n?t=i?null:0:(t=this.parse(e),i&&isNaN(t)&&(t=null)),t},getNumber:function(e){return parseInt(e,10)},getType:function(){return this.numericType},parse:function(e){return parseInt(String(e).replace(this.stripRe,""),10)},sortType:function(e){return null==e&&(e=1/0),e}}),Ext.define("Ext.data.field.Number",{extend:"Ext.data.field.Integer",alias:["data.field.float","data.field.number"],isIntegerField:!1,isNumberField:!0,numericType:"float",getNumber:Ext.identityFn,parse:function(e){return parseFloat(String(e).replace(this.stripRe,""))}}),Ext.define("Ext.data.field.String",{extend:"Ext.data.field.Field",alias:"data.field.string",sortType:"asUCString",isStringField:!0,convert:function(e){var t=this.allowNull?null:"";return void 0===e||null===e?t:String(e)},getType:function(){return"string"}}),Ext.define("Ext.data.identifier.Generator",{abstract:!0,mixins:["Ext.mixin.Factoryable"],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:!0,config:{id:null},constructor:function(e){var t;this.initConfig(e),(t=this.getId())&&(Ext.data.identifier.Generator.all[t]=this)},privates:{clone:function(e){var t=this.getInitialConfig();return t=e?Ext.apply({},e,t):t,new this.self(t)},statics:{all:{}}}},function(){var e=this,t=Ext.Factory,n=t.dataIdentifier;t.dataIdentifier=function(t){var i=Ext.isString(t)?t:t&&t.id;return i&&e.all[i]||n(t)}}),Ext.define("Ext.data.identifier.Sequential",{extend:"Ext.data.identifier.Generator",alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var e=this._seed,t=this._prefix;return this._seed+=this._increment,null!==t?t+e:e}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",requires:["Ext.data.ErrorCollection","Ext.data.operation.*","Ext.data.field.*","Ext.data.validator.Validator","Ext.data.schema.Schema","Ext.data.identifier.Generator","Ext.data.identifier.Sequential"],uses:["Ext.data.Validation"],isEntity:!0,isModel:!0,validIdRe:null,erasing:!1,observableType:"record",crudState:"R",crudStateWas:null,constructor:function(e,t){var n,i,r,o,a,s,l,d=this,c=d.self,u=c.identifier,h=Ext.data.Model,f=h.identifier,g=d.idField.name;d.data=d.data=e||(e={}),d.session=t||null,d.internalId=o=f.generate();var p=e[g];if(t&&!t.isSession&&Ext.raise('Bad Model constructor argument 2 - "session" is not a Session'),(n=e)instanceof Array)for(d.data=e={},l=d.getFields(),a=Math.min(l.length,n.length),s=0;s<a;++s)e[l[s].name]=n[s];(r=c.initializeFn)||(c.initializeFn=r=h.makeInitializeFn(c)),r.$nullFn||c.initializeFn(d),(d.id=i=e[g])||0===i||(p&&Ext.raise('The model ID configured in data ("'+p+'") has been rejected by the '+d.fieldsMap[g].type+" field converter for the "+g+" field"),i=t?(u=t.getIdentifier(c)).generate():f===u?o:u.generate(),e[g]=d.id=i,d.phantom=!0,d.crudState="C"),t&&t.add(d),d.init&&Ext.isFunction(d.init)&&d.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:"id",manyToMany:null,identifier:null,previousValues:void 0,proxy:void 0,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:!0,beginEdit:function(){var e=this,t=e.modified,n=e.previousValues;e.editing||(e.editing=!0,e.editMemento={dirty:e.dirty,data:Ext.apply({},e.data),generation:e.generation,modified:t&&Ext.apply({},t),previousValues:n&&Ext.apply({},n)})},cancelEdit:function(){var e=this.editMemento;e&&(this.editing=!1,Ext.apply(this,e),this.editMemento=null)},endEdit:function(e,t){var n=this,i=n.editMemento;i&&(n.editing=!1,n.editMemento=null,n.previousValues=i.previousValues,e||(t||(t=n.getModifiedFieldNames(i.data)),(n.dirty||t&&t.length)&&n.callJoined("afterEdit",[t])))},getField:function(e){return this.self.getField(e)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(e,t){this.set(this.idProperty,e,t)},getPrevious:function(e){var t=this.previousValues;return t&&t[e]},isModified:function(e){var t=this.modified;return!(!t||!t.hasOwnProperty(e))},getModified:function(e){var t;return this.isModified(e)&&(t=this.modified[e]),t},get:function(e){return this.data[e]},_singleProp:{},_rejectOptions:{convert:!1,silent:!0},set:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E,v,y=this,b=y.self,C=y.data,S=y.modified,w=y.previousValues,T=y.session,P=Ext.isString(e),k=P?n:t,I=k?!1!==k.convert:y.convertOnSet,M=y.fieldsMap,R=k&&k.silent,A=k&&k.commit,D=!(k&&!1===k.refs)&&T,F=!(k&&!1===k.dirty&&!A),L=null,O=0,B=y.associations;for(P?(E=y._singleProp)[e]=t:E=e,(p=b.rankedFields)||(p=b.rankFields()),f=p.length;;){for(s in E)if(x=E[s],i=C[s],d=y,(r=M[s])?(I&&r.convert&&(x=r.convert(x,y)),d=r,m=r.reference):m=null,!d.isEqual(i,x)){for(C[s]=x,(L||(L=[])).push(s),(w||(y.previousValues=w={}))[s]=i,m&&m.cls&&(D&&T.updateReference(y,r,x,i),m.onValueChange(y,T,x,i)),h=(u=r&&r.dependents)&&u.length;h-- >0;)(c=u[h]).dirty=!0,O=O?Math.min(O,c.rank):c.rank;r&&!r.persist||(S&&S.hasOwnProperty(s)?F&&!d.isEqual(S[s],x)||(delete S[s],y.dirty=-1):F&&(S||(y.modified=S={}),y.dirty=!0,S[s]=i)),s===y.idField.name&&(o=!0,l=i,g=x)}if(!O)break;for((r=p[O-1]).dirty=!1,P?delete E[e]:(E=y._singleProp,P=!0),E[e=r.name]=C[e],I=!0;O<f&&!p[O].dirty;++O);O<f?++O:O=0}if(y.dirty<0)for(a in y.dirty=!1,S)if(S.hasOwnProperty(a)){y.dirty=!0;break}if(P&&delete E[e],++y.generation,o&&(y.id=g,y.onIdChanged(g,l),y.callJoined("onIdChanged",[l,g]),B))for(v in B)B[v].onIdChanged(y,l,g);return A?y.commit(R,L):R||y.editing||!L||y.callJoined("afterEdit",[L]),L},reject:function(e){var t=this,n=t.modified;t.erased&&Ext.raise("Cannot reject once a record has been erased."),n&&t.set(n,t._rejectOptions),t.dropped=!1,t.clearState(),e||t.callJoined("afterReject")},commit:function(e,t){var n,i=this,r=i.versionProperty,o=i.data;i.clearState(),!r||i.phantom||isNaN(o[r])||++o[r],i.phantom=!1,i.dropped&&(i.erased=n=!0),e||(n?i.callJoined("afterErase"):i.callJoined("afterCommit",[t]))},clearState:function(){this.dirty=this.editing=!1,this.editMemento=this.modified=null},drop:function(e){var t,n=this,i=n.associations,r=n.session;if(!n.erased&&!n.dropped){if(n.dropped=!0,i&&!1!==e)for(t in i)i[t].onDrop(n,r);n.callJoined("afterDrop"),n.phantom&&n.setErased()}},join:function(e){var t=this.joined;t?t.length?Ext.Array.include(t,e):t[0]=e:t=this.joined=[e],e.isStore&&!this.store&&(this.store=e)},unjoin:function(e){var t,n=this,i=n.joined,r=i&&i.length,o=n.store;if(e===n.session)n.session=null;else if(1===r&&i[0]===e?i.length=0:r&&Ext.Array.remove(i,e),o===e){if(o=null,i)for(t=0,r=i.length;t<r;++t)if((e=i[t]).isStore){o=e;break}n.store=o}},clone:function(e){var t=this,n=t.modified,i=t.copy(t.id,e);return n&&(i.modified=Ext.apply({},n)),i.dirty=t.dirty,i.dropped=t.dropped,i.phantom=t.phantom,i},copy:function(e,t){var n=Ext.apply({},this.data),i=this.idProperty,r=this.self;return e||0===e?n[i]=e:null===e&&delete n[i],new r(n,t)},getProxy:function(){return this.self.getProxy()},getValidation:function(e){var t=this.validation;return t||(this.validation=t=new Ext.data.Validation,t.attach(this)),(!0===e||!1!==e&&t.syncGeneration!==this.generation)&&t.refresh(e),t},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var e=this.$className.split(".");return e[e.length-1].toLowerCase()+"/"+this.getId()},erase:function(e){return this.erasing=!0,this.drop(),this.erasing=!1,this.save(e)},setErased:function(){this.erased=!0,this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var e=this.self,t=e.criticalFields;return t||(e.rankFields(),t=e.criticalFields),t},getAssociatedData:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f=this,g=f.associations;for(d in e=e||{},f.$gathering=1,t&&(t=Ext.Object.chain(t)),g)if((r=g[d].getAssociatedItem(f))&&!r.$gathering){if(r.isStore){for(r.$gathering=1,s=(o=r.getData().items).length,a=[],i=0;i<s;++i)n=!(l=o[i]).$gathering,l.$gathering=1,t?(void 0===(h=t.associated)?(t.associated=n,u=!0):n||(t.associated=!1,u=!0),c=t):c=n?f._getAssociatedOptions:f._getNotAssociatedOptions,a.push(l.getData(c)),u&&(t.associated=h,u=!1),delete l.$gathering;delete r.$gathering}else c=t||f._getAssociatedOptions,t&&void 0===t.associated&&(c.associated=!0),a=r.getData(c);e[d]=a}return delete f.$gathering,e},getData:function(e){var t,n,i,r,o,a=this,s={},l=!0===e?a._getAssociatedOptions:e||s,d=a.data,c=l.associated,u=l.changes,h=u&&l.critical,f=u?a.modified:d,g=a.fieldsMap,p=l.persist,m=l.serialize;if(f)for(r in f){if(o=d[r],n=g[r]){if(p&&!n.persist)continue;m&&n.serialize&&(o=n.serialize(o,a))}s[r]=o}if(h)for(i=(t=a.self.criticalFields||a.getCriticalFields()).length;i-- >0;)(r=(n=t[i]).name)in s||(o=d[r],m&&n.serialize&&(o=n.serialize(o,a)),s[r]=o);return c&&a.getAssociatedData(s,l),s},getTransientFields:function(){var e=this.self,t=e.transientFields;return t||(e.rankFields(),t=e.transientFields),t},isLoading:function(){return!!this.loadOperation},abort:function(){var e=this.loadOperation;e&&e.abort()},load:function(e){var t,n=this,i=(e=Ext.apply({},e)).scope||n,r=n.getProxy(),o=e.callback,a=n.loadOperation,s=n.getId();if(a)return(t=a.extraCalls)||(t=a.extraCalls=[]),t.push(e),a;var l=!0;return n.phantom&&(l=!1),e.id=s,e.recordCreator=function(e,t,i){var r=n.session;return i&&(i.recordCreator=r?r.recordCreator:null),n.set(e,n._commitOptions),l&&n.getId()!==s&&Ext.raise("Invalid record id returned for "+s+"@"+n.entityName),n},e.internalCallback=function(t){var r,a,s=t.wasSuccessful()&&t.getRecords().length>0,l=n.loadOperation.extraCalls,d=[n,t],c=[n,t,s];if(n.loadOperation=null,s?Ext.callback(e.success,i,d):Ext.callback(e.failure,i,d),Ext.callback(o,i,c),l)for(r=0,a=l.length;r<a;++r)e=l[r],s?Ext.callback(e.success,i,d):Ext.callback(e.failure,i,d),Ext.callback(e.callback,i,c);n.callJoined("afterLoad")},delete e.callback,n.loadOperation=a=r.createOperation("read",e),a.execute(),a},save:function(e){e=Ext.apply({},e);var t,n=this,i=n.phantom,r=n.dropped,o=r?"destroy":i?"create":"update",a=e.scope||n,s=e.callback,l=n.getProxy();return e.records=[n],e.internalCallback=function(t){var i=[n,t],r=t.wasSuccessful();r?Ext.callback(e.success,a,i):Ext.callback(e.failure,a,i),i.push(r),Ext.callback(s,a,i)},delete e.callback,t=l.createOperation(o,e),r&&i?(t.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet),n.setErased(),t.setSuccessful(!0)):t.execute(),t},inheritableStatics:{addFields:function(e){this.replaceFields(e)},replaceFields:function(e,t){var n,i,r,o,a,s,l=this,d=l.prototype,c=Ext.data.field.Field,u=l.fields,h=l.fieldsMap,f=l.fieldOrdinals;if(!0===t)u.length=0,l.fieldsMap=h={},l.fieldOrdinals=f={};else if(t){for(i=t.length;i-- >0;)(a=t[i])in f&&(delete f[a],delete h[a]);for(i=0,o=u.length;i<o;++i)(a=(n=u[i]).name)in f?f[a]=i:(u.splice(i,1),--i,--o)}for(i=0,o=e?e.length:0;i<o;i++)(a=(n=e[i]).name)in f||(f[a]=s=u.length,u.push(n=c.create(n)),h[a]=n,n.ordinal=s,n.definedBy=n.owner=this);l.idField=d.idField=r=h[d.idProperty],r.allowNull=r.critical=r.identifier=!0,r.defaultValue=null,l.initializeFn=l.rankedFields=l.transientFields=l.criticalFields=null},removeFields:function(e){this.replaceFields(null,e)},getIdFromData:function(e){var t=this.idField;return t.calculated?new this(e).id:e[t.name]},createWithId:function(e,t,n){var i=t;return(e||0===e)&&(i={},t&&Ext.apply(i,t),i[this.idField.name]=e),new this(i,n)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(e){return this.fieldsMap[e]||null},getProxy:function(){var e,t=this,n=t.proxy,i=t.defaultProxy;return n||(!(n=t.proxyConfig)&&i&&(n=i),n&&n.isProxy||("string"==typeof n&&(n={type:n}),e=t.schema.constructProxy(t),n=n?Ext.merge(e,n):e),n=t.setProxy(n)),n},setProxy:function(e){var t;return e&&(e.isProxy?(t=e.getModel())&&t!==this&&(e=e.clone()):e=Ext.Factory.proxy(e),e.setModel(this)),this.prototype.proxy=this.proxy=e},load:function(e,t,n){var i,r={};return r[this.prototype.idProperty]=e,(i=new this(r,n)).load(t),i}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(e,t){var n,i=this.stores,r=i.length;for(n=0;n<r;++n)e.call(t,i[n])},join:function(e){var t=this,n=t.stores,i=t.joined;i?i.push(e):i=t.joined=[e],e.isStore&&(t.store=t.store||e,n||(n=t.stores=[]),n.push(e))},unjoin:function(e){var t=this.stores,n=this.joined;1===n.length?n.length=0:Ext.Array.remove(n,e),e.isStore&&(Ext.Array.remove(t,e),this.store=t[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},_getNotAssociatedOptions:{associated:!1},copyFrom:function(e){var t,n,i,r,o=this,a=o.fields,s=a.length,l=[],d=0,c=o.idProperty;if(e){for(t=o.data,n=e.data;d<s;d++)(i=a[d].name)!==c&&(void 0===(r=n[i])||o.isEqual(t[i],r)||(t[i]=r,l.push(i)));o.phantom&&!e.phantom&&(o.beginEdit(),o.setId(e.getId()),o.endEdit(!0),o.commit(!0))}return l},callJoined:function(e,t){var n,i,r,o,a=this,s=a.joined,l=a.session,d=a.dropped?"D":a.phantom?"C":a.dirty?"U":"R";if(a.crudState=d,s||l){if(t?t.unshift(a):t=[a],s)for(n=0,i=s.length;n<i;++n)(o=s[n])&&(r=o[e])&&r.apply(o,t);(r=l&&l[e])&&r.apply(l,t)}a.crudStateWas=d},onAssociatedRecordSet:function(e,t){this.callJoined("afterAssociatedRecordSet",[e,t])},onIdChanged:Ext.privateFn,setSession:function(e){e&&(this.session&&Ext.raise("This model already belongs to a session."),this.id||Ext.raise("The model must have an id to participate in a session.")),this.session=e,e&&e.add(this)},getModifiedFieldNames:function(e){var t,n=this.data,i=[],r=e||this.editMemento.data;for(t in n)n.hasOwnProperty(t)&&(this.isEqual(n[t],r[t],t)||i.push(t));return i},isEqual:function(e,t,n){var i;return n&&(i=n.isField?n:this.fieldsMap[n])?i.isEqual(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",defaultProxy:"memory",rankFields:function(){var e,t,n,i=this.prototype,r=this.fields,o=r.length,a=[],s=[],l=[];for(this.rankedFields=i.rankedFields=a,this.criticalFields=i.criticalFields=s,this.transientFields=i.transientFields=l,n=0;n<o;++n)(t=r[n]).critical&&s.push(t),t.persist||l.push(t),t.evil?(e||(e=[])).push(t):t.depends||(a.push(t),t.rank=a.length);for(n=0;n<o;++n)(t=r[n]).rank||t.evil||this.topoAdd(t);if(e)for(n=0,o=e.length;n<o;++n)a.push(t=e[n]),t.rank=a.length;return this.topoStack=null,a},topoAdd:function(e){var t,n,i=e.depends,r=i?i.length:0,o=this.rankedFields,a=this.topoStack||(this.topoStack=[]);for(a.push(e.name),0===e.rank&&Ext.raise(this.$className+" has circular field dependencies: "+a.join(" --\x3e ")),a.length&&e.evil&&Ext.raise(this.$className+": Field "+a[a.length-1]+" cannot depend on depends-less field "+e.name),e.rank=0,t=0;t<r;++t)(n=this.fieldsMap[i[t]])||Ext.raise(this.$className+": Field "+e.name+" depends on undefined field "+i[t]),(n.dependents||(n.dependents=[])).push(e),n.rank||this.topoAdd(n);o.push(e),e.rank=o.length,a.pop()},initFields:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=Ext.data.field.Field,g=e.fields,p=[],m={},x={},E=n.fields,v=e.versionProperty||n.versionProperty,y=t.idProperty;if(t.fields=n.fields=p,t.fieldOrdinals=n.fieldOrdinals=m,t.fieldsMap=n.fieldsMap=x,t.references=n.references=[],E)for(o=0,a=E.length;o<a;++o)p[o]=r=Ext.Object.chain(E[o]),r.dependents=null,r.owner=t,m[s=r.name]=o,x[s]=r,r.rank=null,r.generated&&(c=r,u=r.name);if(g)for(delete e.fields,o=0,a=g.length;o<a;++o)(d=(r=g[o]).reference)&&"string"!=typeof d&&(d=Ext.merge({},d)),r.$reference=d,void 0===(l=m[s=(r=f.create(g[o])).name])&&(m[s]=l=p.length),x[s]=r,p[l]=r,r.definedBy=r.owner=t,r.ordinal=l,s===y&&(h=r);if(i=x[y]){if(h&&c&&c.generated)for(Ext.Array.remove(p,c),delete x[u],delete m[u],x[y]=h,o=0,a=p.length;o<a;++o)r=p[o],p.ordinal=o,m[r.name]=o}else l=c&&c.generated?c.ordinal:p.length,delete x[u],delete m[u],i=new f(y),p[l]=i,m[y]=l,x[y]=i,i.definedBy=t,i.ordinal=l,i.generated=!0;i.allowNull=i.critical=i.identifier=!0,i.defaultValue=null,t.idField=n.idField=i,v&&((r=x[v])||(l=p.length,r=new f({name:v,type:"int"}),p[l]=r,m[v]=l,x[v]=r,r.definedBy=t,r.ordinal=l,r.generated=!0),r.defaultValue=1,r.critical=!0)},initValidators:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=n.validators;if(f)for(r in i={},f)i[r]=Ext.Array.clone(f[r]);if(a=e.validators||e.validations,e.validations&&(delete e.validations,Ext.log.warn((t.$className||"Ext.data.Model")+": validations has been deprecated. Please use validators instead.")),a){if(delete e.validators,i=i||{},Ext.isArray(a)){for(o={},s=0,l=a.length;s<l;++s)o[c=(h=a[s]).field]||(o[c]=[]),h=h.fn||h,o[c].push(h);a=o}for(c in a)d=a[c],Ext.isArray(d)||(d=[d]),u=i[c],i[c]?Ext.Array.push(u,d):i[c]=d}if(i)for(c in i)(r=t.getField(c))&&r.setModelValidators(i[c]);t.validators=n.validators=i},initAssociations:function(e,t,n){var i,r,o,a,s=t.associations,l=t.belongsTo,d=t.hasMany,c=t.hasOne,u=t.manyToMany;if(delete t.associations,delete t.belongsTo,delete t.hasMany,delete t.hasOne,delete t.manyToMany,u&&e.addMatrices(n,u),s)for(i=0,r=(s=Ext.isArray(s)?s:[s]).length;i<r;++i)switch(o=s[i],delete(a=Ext.apply({},o)).type,o.type){case"belongsTo":e.addBelongsTo(n,a);break;case"hasMany":e.addHasMany(n,a);break;case"hasOne":e.addHasOne(n,a);break;default:Ext.raise('Invalid association type: "'+o.type+'"')}if(l)for(i=0,r=(l=Ext.isArray(l)?l:[l]).length;i<r;++i)e.addBelongsTo(n,l[i]);if(d)for(i=0,r=(d=Ext.isArray(d)?d:[d]).length;i<r;++i)e.addHasMany(n,d[i]);if(c)for(i=0,r=(c=Ext.isArray(c)?c:[c]).length;i<r;++i)e.addHasOne(n,c[i]);e.afterKeylessAssociations(n)},initIdentifier:function(e,t,n){var i,r=e.identifier||e.idgen,o=n.identifier||t.schema._defaultIdentifier;e.idgen&&Ext.log.warn("Ext.data.Model: idgen has been deprecated. Please use identifier instead."),r?(delete e.identifier,delete e.idgen,r=Ext.Factory.dataIdentifier(r)):o&&(r=o.clone&&!o.getId()?o.clone():o.isGenerator?o:Ext.Factory.dataIdentifier(o)),t.identifier=n.identifier=r,r||((i=t.entityName)||(i=Ext.id(null,"extModel")),t.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:i+"-"}))},findValidator:function(e,t,n){var i,r,o,a=n.type||n,s=e[t];if(s)for(r=0,i=s.length;r<i;++r)if((o=s[r]).type===a)return o;return null},makeInitializeFn:function(e){var t,n,i,r,o,a,s,l,d,c,u=["var "],h=["\nreturn function (e) {\n    var data = e.data, v;\n"],f=0;for((a=e.rankedFields)||(a=e.rankFields()),d=0,c=a.length;d<c;++d)s="f"+d,i=(o=a[d]).convert,d&&u.push(",  \n    "),u.push(s," = $fields["+d+"]"),u.push("  /*  ",o.name,"  */"),((l=void 0!==o.defaultValue)||i)&&(r='data["'+o.name+'"]',++f,t=n="",o.cloneDefaultValue&&(t="Ext.clone(",n=")"),h.push("\n"),i&&l?h.push("    v = ",r,";\n    if (v !== undefined) {\n        v = ",s,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",t,s,".defaultValue",n,";\n    }\n    ",r," = v;"):i?h.push("    v = ",s,".convert(",r,",e);\n    if (v !== undefined) {\n        ",r," = v;\n    }\n"):l&&h.push("    if (",r," === undefined) {\n        ",r," = ",t,s,".defaultValue",n,";\n    }\n"));return f?(u.push(";\n"),u.push.apply(u,h),u.push("}"),u=u.join(""),new Function("$fields","Ext",u)(a,Ext)):Ext.emptyFn}}}},function(){var e,t=this,n=t.prototype,i=Ext.data.schema.Schema;t.proxyConfig=n.proxy,delete n.proxy,t.fields=[],t.fieldsMap=n.fieldsMap={},t.schema=n.schema=i.get(n.schema),n.idField=new Ext.data.field.Field(n.idProperty),t.identifier=new Ext.data.identifier.Sequential,t.onExtended(function(n,r){var o,a,s,l=n.prototype,d=r.schema,c=l.superclass.self;n.idProperty=r.idProperty||l.idProperty,d?(delete r.schema,o=i.get(d)):(o=l.schema)||(o=e||(e=i.get("default"))),n.rankFields=t.rankFields,n.topoAdd=t.topoAdd,l.schema=n.schema=o,(a=r.entityName)||(l.entityName=a=o.getEntityName(n),a||(r.associations&&Ext.raise('Anonymous entities cannot specify "associations"'),r.belongsTo&&Ext.raise('Anonymous entities cannot specify "belongsTo"'),r.hasMany&&Ext.raise('Anonymous entities cannot specify "hasMany"'),r.hasOne&&Ext.raise('Anonymous entities cannot specify "hasOne"'),r.matrices&&Ext.raise('Anonymous entities cannot specify "manyToMany"'))),n.entityName=a,n.fieldExtractors={},t.initIdentifier(r,n,l),t.initFields(r,n,l),t.initValidators(r,n,l),n.fields.items=n.fields,a&&(o.addEntity(n),t.initAssociations(o,r,n)),(s=r.proxy)?delete r.proxy:c!==t&&(s=c.proxyConfig||c.proxy),n.proxyConfig=s})}),Ext.define("Ext.data.ResultSet",{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null,metadata:null},constructor:function(e){this.initConfig(e)},getCount:function(){var e,t=this.callParent();return t||(e=this.getRecords())&&(t=e.length),t}}),Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],requires:["Ext.data.ResultSet","Ext.XTemplate","Ext.util.LruCache"],mixins:["Ext.mixin.Observable","Ext.mixin.Factoryable"],alias:"reader.base",factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:!0,readRecordsOnFailure:!0,model:null,proxy:null,transform:null,keepRawData:null},isReader:!0,constructor:function(e){e&&e.hasOwnProperty("root")&&((e=Ext.apply({},e)).rootProperty=e.root,delete e.root,Ext.log.error('Ext.data.reader.Reader: Using the deprecated "root" configuration. Use "rootProperty" instead.'));var t=this;t.duringInit=1,t.mixins.observable.constructor.call(t,e),--t.duringInit,t.buildExtractors()},applyModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},applyTransform:function(e){return e?(Ext.isFunction(e)?e={fn:e}:e.charAt&&(e={fn:this[e]}),e.fn.bind(e.scope||this)):e},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(e,t){var n,i,r;if(e)if(r=e.responseText){if((i=this.getResponseData(e))&&i.__$isError)return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:i.msg});n=this.readRecords(i,t)}else""!==r&&(n=this.readRecords(e,t));return n||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(e){return{__$isError:!0,msg:e}},readRecords:function(e,t,n){var i,r,o,a,s,l,d,c,u,h=this,f=n&&n.recordsOnly,g=n&&n.asRoot;return(u=h.getMeta?h.getMeta(e):e.metaData)&&h.onMetaChange(u),(c=h.getTransform())&&(e=c(e)),h.buildExtractors(),h.getKeepRawData()&&(h.rawData=e),h.hasListeners.rawdata&&h.fireEventArgs("rawdata",[e]),e=h.getData(e),i=!0,r=0,o=[],h.getSuccessProperty()&&(!1!==(l=h.getSuccess(e))&&"false"!==l||(i=!1)),h.getMessageProperty()&&(d=h.getMessage(e)),(i||h.getReadRecordsOnFailure())&&((a=g||Ext.isArray(e)?e:h.getRoot(e))&&(s=a.length),h.getTotalProperty()&&(l=parseInt(h.getTotal(e),10),isNaN(l)||(s=l)),a&&(r=(o=h.extractData(a,t)).length)),f?o:new Ext.data.ResultSet({total:s||r,metadata:u,count:r,records:o,success:i,message:d})},extractData:function(e,t){var n,i,r,o,a,s=this,l=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):s.getModel(),d=l.schema,c=d.hasAssociations(l)&&s.getImplicitIncludes(),u=s.getFieldExtractorInfo(l.fieldExtractors),h=e.length,f=new Array(h),g=s.getTypeProperty();for(!h&&Ext.isObject(e)&&(e=[e],h=1),a=0;a<h;a++)(o=e[a]).isModel||(i=o,(o=g&&(r=s.getChildType(d,i,g))?(n=r.getProxy().getReader()).extractRecord(i,t,r,d.hasAssociations(r)&&n.getImplicitIncludes(),n.getFieldExtractorInfo(r.fieldExtractors)):s.extractRecord(i,t,l,c,u)).isModel&&o.isNode&&(o.raw=i)),o.onLoad&&o.onLoad(),f[a]=o;return f},getChildType:function(e,t,n){var i;switch(typeof n){case"string":return e.getEntity(t[n]);case"object":return i=n.namespace,e.getEntity((i?i+".":"")+t[n.name]);case"function":return e.getEntity(n(t))}},extractRecordData:function(e,t){var n=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):this.getModel(),i=this.getFieldExtractorInfo(n.fieldExtractors);return this.extractRecord(e,t,n,!1,i)},extractRecord:function(e,t,n,i,r){var o,a,s=this,l=t&&t.recordCreator||s.defaultRecordCreator;return o=s.extractModelData(e,r),a=l.call(s,o,n||s.getModel(),t),i&&a.isModel&&s.readAssociated(a,e,t),a},getFieldExtractorInfo:function(e){if(e){var t=this.$className,n=e[t];return void 0===n&&(e[t]=n=this.buildFieldExtractors()),n}},buildFieldExtractors:function(){var e,t,n,i,r=this.getFields(),o=r.length,a=[],s=[],l=null,d=0;for(n=0;n<o;++n)e=r[n],(i=this.createFieldAccessor(e))&&(t=e.name,a.push("val = extractors["+d+"](raw); if (val !== undefined) { data['"+t+"'] = val; }"),s.push(i),++d);return a.length&&(l={extractors:s,fn:new Function("raw","data","extractors","var val;"+a.join(""))}),l},defaultRecordCreator:function(e,t){var n=new t(e);return n.phantom=!1,n},getModelData:function(e){return{}},extractModelData:function(e,t){var n=this.getModelData(e);return t&&(0,t.fn)(e,n,t.extractors),n},readAssociated:function(e,t,n){var i,r,o=e.associations;for(i in o)o.hasOwnProperty(i)&&(r=o[i]).cls&&r.read(e,t,this,n)},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(e){Ext.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(e){var t,n,i,r,o=this,a=e.fields;o.metaData=e,e.root&&o.setRootProperty(e.root),e.totalProperty&&o.setTotalProperty(e.totalProperty),e.successProperty&&o.setSuccessProperty(e.successProperty),e.messageProperty&&o.setMessageProperty(e.messageProperty),i=e.clientIdProperty,a?(n=Ext.define(null,{extend:"Ext.data.Model",fields:a,clientIdProperty:i}),o.setModel(n),(r=o.getProxy())&&r.setModel(n)):i&&(t=o.getModel())&&(t.self.prototype.clientIdProperty=i)},buildExtractors:function(e){var t,n,i,r=this;if(e||!r.hasExtractors)return t=r.getTotalProperty(),n=r.getSuccessProperty(),i=r.getMessageProperty(),t&&(r.getTotal=r.getAccessor(t)),n&&(r.getSuccess=r.getAccessor(n)),i&&(r.getMessage=r.getAccessor(i)),r.hasExtractors=!0,!0},getAccessor:function(e){var t,n,i=this.extractorCache;return"string"==typeof e?(n=this.getAccessorKey(e),(t=i.get(n))||(t=this.createAccessor(e),i.add(n,t))):t=this.createAccessor(e),t},getAccessorKey:function(e){return this.$className+e},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var e=this;e.model=e.getTotal=e.getSuccess=e.getMessage=e.rawData=null,e.onMetaChange=null,e.transform=null,e.callParent()},privates:{copyFrom:function(e){var t=this;e.buildExtractors(),t.getTotal=e.getTotal,t.getSuccess=e.getSuccess,t.getMessage=e.getMessage,++t.duringInit,t.setConfig(e.getConfig()),--t.duringInit,t.hasExtractors=!0}}},function(e){var t=e.prototype;Ext.apply(t,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""})}),t.extractorCache=new Ext.util.LruCache}),Ext.define("Ext.data.writer.Writer",{mixins:["Ext.mixin.Factoryable"],alias:"writer.base",factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:"name",writeRecordId:!0,transform:null},isWriter:!0,constructor:function(e){this.initConfig(e)},applyTransform:function(e){return e?(Ext.isFunction(e)&&(e={fn:e}),e.fn.bind(e.scope||this)):e},write:function(e){var t,n=e.getOperation(),i=n.getRecords()||[],r=i.length,o=[];for(t=0;t<r;t++)o.push(this.getRecordData(i[t],n));return this.writeRecords(e,o)},writeRecords:Ext.emptyFn,getRecordData:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.getNameProperty(),h="name"!==u,f=e.self.idField,g=f[u]||f.name,p=e.id,m=c.getWriteAllFields();if(f.serialize&&(p=f.serialize(p)),!m&&t&&t.isDestroyOperation)(n={})[g]=p;else for(g in i=c.getDateFormat(),o=(r=e.phantom)||m?c.getAllDataOptions():c.getPartialDataOptions(),a=r&&c.getClientIdProperty(),s=e.getFieldsMap(),o.serialize=!1,l=e.getData(o),n=h?{}:l,a?(n[a]=p,delete l[g]):c.getWriteRecordId()||delete l[g],l)p=l[g],(d=s[g])?(d.isDateField&&i&&Ext.isDate(p)?p=Ext.Date.format(p,i):d.serialize&&(p=d.serialize(p,e)),h&&(g=d[u]||g),n[g]=p):h&&(n[g]=p);return n}}),Ext.define("Ext.data.proxy.Proxy",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Observable"],$configPrefixed:!1,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],requires:["Ext.data.schema.Schema","Ext.data.reader.Reader","Ext.data.writer.Writer"],uses:["Ext.data.Batch","Ext.data.operation.*","Ext.data.Model"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:void 0,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,isSynchronous:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.pendingOperations={}},applyModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},updateModel:function(e){if(e){var t=this.getReader();t&&!t.getModel()&&t.setModel(e)}},applyReader:function(e){return this.isSynchronous&&((e=e||{}).keepRawData=!0),Ext.Factory.reader(e)},updateReader:function(e){if(e){var t=this.getModel();t?e.setModel(t):(t=e.getModel())&&this.setModel(t)}},applyWriter:function(e){var t=this.getReader();return(e=Ext.Factory.writer(e)).getRecord&&!e.getRecord()&&t&&t.getRecord&&(t=t.getRecord())&&e.setRecord(t),e},abort:Ext.emptyFn,onMetaChange:function(e){this.fireEvent("metachange",this,e)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(e,t){var n,i,r,o,a,s,l,d,c,u=this,h=u.getBatchActions();for(void 0===e.operations&&(e={operations:e,listeners:t}),e.batch?Ext.isDefined(e.batch.runOperation)&&(n=Ext.applyIf(e.batch,{proxy:u,listeners:{}})):e.batch={proxy:u,listeners:e.listeners||{}},n||(n=new Ext.data.Batch(e.batch)),n.on("complete",Ext.bind(u.onBatchComplete,u,[e],0)),o=(r=u.getBatchOrder().split(",")).length,s=0;s<o;s++)if(a=r[s],i=e.operations[a])if(h)n.add(u.createOperation(a,{records:i,params:e.params}));else for(d=i.length,l=0;l<d;l++)c=i[l],n.add(u.createOperation(a,{records:[c],params:e.params}));return n.start(),n},onBatchComplete:function(e,t){var n=e.scope||this;t.hasException()?Ext.isFunction(e.failure)&&Ext.callback(e.failure,n,[t,e]):Ext.isFunction(e.success)&&Ext.callback(e.success,n,[t,e]),Ext.isFunction(e.callback)&&Ext.callback(e.callback,n,[t,e])},createOperation:function(e,t){var n=Ext.createByAlias("data.operation."+e,t);return n.setProxy(this),this.pendingOperations[n._internalId]=n,n},completeOperation:function(e){delete this.pendingOperations[e._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var e,t,n=this.pendingOperations;for(e in n)(t=n[e])&&t.isRunning()&&t.abort();this.pendingOperations=null,this.callParent()}}),Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){Ext.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}}),Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{enablePaging:!1,data:{$value:null,merge:function(e,t,n,i){return Ext.isArray(e)?Ext.Array.clone(e):Ext.clone(e)}}},finishOperation:function(e){for(var t=0,n=e.getRecords(),i=n.length;t<i;t++)n[t].dropped=!!e.isDestroyOperation,n[t].commit();e.setSuccessful(!0)},create:function(e){this.finishOperation(e)},update:function(e){this.finishOperation(e)},erase:function(e){this.finishOperation(e)},read:function(e){var t,n=this.getReader().read(this.getData()),i=n.getRecords(),r=e.getSorters(),o=e.getGrouper(),a=e.getFilters(),s=e.getStart(),l=e.getLimit();!1!==e.process(n,null,null,!1)&&(a&&a.length&&(n.setRecords(i=Ext.Array.filter(i,Ext.util.Filter.createFilterFn(a))),n.setTotal(i.length)),o&&(r=r?r.concat(o):r),r&&r.length&&n.setRecords(i=Ext.Array.sort(i,Ext.util.Sortable.createComparator(r))),this.getEnablePaging()&&void 0!==s&&void 0!==l&&(s>=n.getTotal()?n.setConfig({success:!1,records:[],total:0}):n.setRecords(Ext.Array.slice(i,s,s+l))),e.setCompleted(),(t=n.getMetadata())&&this.onMetaChange(t))},clear:Ext.emptyFn}),Ext.define("Ext.data.ProxyStore",{extend:"Ext.data.AbstractStore",requires:["Ext.data.Model","Ext.data.proxy.Proxy","Ext.data.proxy.Memory","Ext.data.operation.*"],config:{model:void 0,fields:null,proxy:void 0,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",sortOnLoad:!0,trackRemoved:!0,asynchronousLoad:void 0},onClassExtended:function(e,t,n){var i,r=t.model;"string"==typeof r&&(i=n.onBeforeCreated,n.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){i.apply(e,t)})})},implicitModel:"Ext.data.Model",autoSyncSuspended:0,constructor:function(e){var t=this,n=t.model;if(t.removed=[],t.callParent(arguments),!1===t.getAsynchronousLoad()&&t.flushLoad(),!t.getModel()&&!1!==t.useModelWarning&&"ext-empty-store"!==t.getStoreId()){var i=[Ext.getClassName(t)||"Store"," created with no model."];"string"==typeof n&&i.push(" The name '",n,"'"," does not correspond to a valid model."),Ext.log.warn(i.join(""))}},applyAsynchronousLoad:function(e){return null==e&&(e=!this.loadsSynchronously()),e},updateAutoLoad:function(e){this.getData(),e&&this.load(Ext.isObject(e)?e:void 0)},getTotalCount:function(){return this.totalCount||0},applyFields:function(e){e&&this.createImplicitModel(e)},applyModel:function(e){return e?e=Ext.data.schema.Schema.lookupEntity(e):this.destroying||(this.getFields(),e=this.getModel()||this.createImplicitModel()),e},applyProxy:function(e){var t=this.getModel();return null!==e&&(e?e.isProxy?e.setModel(t):(Ext.isString(e)?e={type:e,model:t}:e.model||(e=Ext.apply({model:t},e)),(e=Ext.createByAlias("proxy."+e.type,e)).autoCreated=!0):t&&(e=t.getProxy(),this.useModelProxy=!0),e||((e=Ext.createByAlias("proxy.memory")).autoCreated=!0)),e},applyState:function(e){this.callParent([e]),(this.getAutoLoad()||this.isLoaded())&&this.load()},updateProxy:function(e,t){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(e){this.cleanRemoved(),this.removed=e?[]:null},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var n=new(this.getModel())(e);return(t=Ext.apply({},t)).records||(t.records=[n]),t.internalScope=this,t.internalCallback=this.onProxyWrite,this.createOperation("create",t).execute()},read:function(){return this.load.apply(this,arguments)},update:function(e){return(e=Ext.apply({},e)).records||(e.records=this.getUpdatedRecords()),e.internalScope=this,e.internalCallback=this.onProxyWrite,this.createOperation("update",e).execute()},onProxyWrite:function(e){var t=this,n=e.wasSuccessful(),i=e.getRecords();switch(e.getAction()){case"create":t.onCreateRecords(i,e,n);break;case"update":t.onUpdateRecords(i,e,n);break;case"destroy":t.onDestroyRecords(i,e,n)}n&&(t.fireEvent("write",t,e),t.fireEvent("datachanged",t))},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,n){n&&this.cleanRemoved()},erase:function(e){return(e=Ext.apply({},e)).records||(e.records=this.getRemovedRecords()),e.internalScope=this,e.internalCallback=this.onProxyWrite,this.createOperation("destroy",e).execute()},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var n,i=this,r=e.operations,o=r.length;if("operation"!==i.batchUpdateMode){for(i.suspendEvents(),n=0;n<o;n++)i.onProxyWrite(r[n]);i.resumeEvents()}i.isSyncing=!1,i.fireEvent("datachanged",i)},onBatchException:function(e,t){},filterNew:function(e){return!0===e.phantom&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return!0===e.dirty&&!0!==e.phantom&&e.isValid()},getRemovedRecords:function(){var e=this.getRawRemovedRecords();return e?Ext.Array.clone(e):[]},sync:function(e){var t=this,n={},i=t.getNewRecords(),r=t.getUpdatedRecords(),o=t.getRemovedRecords(),a=!1;return t.isSyncing&&Ext.log.warn("Sync called while a sync operation is in progress. Consider configuring autoSync as false."),t.needsSync=!1,i.length>0&&(n.create=i,a=!0),r.length>0&&(n.update=r,a=!0),o.length>0&&(n.destroy=o,a=!0),a&&!1!==t.fireEvent("beforesync",n)&&(t.isSyncing=!0,e=e||{},t.proxy.batch(Ext.apply(e,{operations:n,listeners:t.getBatchListeners()}))),t},getBatchListeners:function(){var e=this,t={scope:e,exception:e.onBatchException,complete:e.onBatchComplete};return"operation"===e.batchUpdateMode&&(t.operationcomplete=e.onBatchOperationComplete),t},save:function(){return this.sync.apply(this,arguments)},load:function(e){var t=this;return e="function"==typeof e?{callback:e}:e?Ext.Object.chain(e):{},t.pendingLoadOptions=e,t.getAsynchronousLoad()?t.loadTimer||(t.loadTimer=Ext.asap(t.flushLoad,t)):t.flushLoad(),t},flushLoad:function(){var e,t=this,n=t.pendingLoadOptions;t.clearLoadTask(),n&&(t.setLoadOptions(n),t.getRemoteSort()&&n.sorters&&t.fireEvent("beforesort",t,n.sorters),e=Ext.apply({internalScope:t,internalCallback:t.onProxyLoad,scope:t},n),t.lastOptions=e,e=t.createOperation("read",e),!1!==t.fireEvent("beforeload",t,e)&&(t.onBeforeLoad(e),t.loading=!0,e.execute()))},reload:function(e){return this.load(Ext.apply({},e,this.lastOptions))},onEndUpdate:function(){this.needsSync&&this.autoSync&&!this.autoSyncSuspended&&this.sync()},afterReject:function(e){this.contains(e)&&(this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null))},afterCommit:function(e,t){t||(t=null),this.contains(e)&&(this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t))},afterErase:function(e){this.onErase(e)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,doDestroy:function(){var e=this,t=e.getProxy();e.clearLoadTask(),e.getData().destroy(),e.data=null,e.setProxy(null),t.autoCreated&&t.destroy(),e.setModel(null),e.callParent()},hasPendingLoad:function(){return!!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return!!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(e){this.autoSyncSuspended||Ext.log.warn("Mismatched call to resumeAutoSync - auto synchronization is currently not suspended."),this.autoSyncSuspended&&!--this.autoSyncSuspended&&e&&this.sync()},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){this.loadTimer&&Ext.asapCancel(this.loadTimer),this.pendingLoadOptions=this.loadTimer=null},cleanRemoved:function(){var e,t,n=this.getRawRemovedRecords();if(n){for(t=0,e=n.length;t<e;++t)n[t].unjoin(this);n.length=0}},createOperation:function(e,t){var n,i=this,r=i.getProxy();return i.proxyListeners||(n={scope:i,destroyable:!0,beginprocessresponse:i.beginUpdate,endprocessresponse:i.endUpdate},i.disableMetaChangeEvent||(n.metachange=i.onMetaChange),i.proxyListeners=r.on(n)),r.createOperation(e,t)},createImplicitModel:function(e){var t,n,i={extend:this.implicitModel,statics:{defaultProxy:"memory"}};e&&(i.fields=e),n=Ext.define(null,i),this.setModel(n),(t=this.getProxy())?n.setProxy(t):this.setProxy(n.getProxy())},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(e){var t=this.getRawRemovedRecords();t&&(Ext.Array.remove(t,e),e.unjoin(this))},setLoadOptions:function(e){var t,n;this.getRemoteFilter()&&(t=this.getFilters(!1))&&t.getCount()&&(e.filters=t.getRange()),this.getRemoteSort()&&(n=this.getSorters(!1))&&n.getCount()&&(e.sorters=n.getRange())}}}),Ext.define("Ext.data.LocalStore",{extend:"Ext.Mixin",mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(e){var t,n=this.getData();for(t in n.setExtraKeys(e),e=n.getExtraKeys())this[t]=e[t]},add:function(e){return this.insert(this.getCount(),1===arguments.length?e:arguments)},constructDataCollection:function(){var e=new Ext.util.Collection({rootProperty:"data"});return e.addObserver(this),e},createModel:function(e){var t=this.getSession();return e.isModel||(e=new(this.getModel())(e,t)),e},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var e=this.getData().getSorters();return e.setSorterConfigure(this.addFieldTransform,this),e},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(e){return this.indexOf(e)>-1},each:function(e,t,n){var i,r,o,a=this.getData();for("object"==typeof n&&(n=n.filtered),!0===n&&a.filtered&&(a=a.getSource()),i=(a=a.items.slice(0)).length,o=0;o<i&&(r=a[o],!1!==e.call(t||r,r,o,i));++o);},collect:function(e,t,n){var i=this.getData();return"object"==typeof t&&(n=t.filtered,t=t.allowNull),!0===n&&i.filtered&&(i=i.getSource()),i.collect(e,"data",t)},getById:function(e){var t=this.getData();return t.filtered&&(t=t.getSource()),t.get(e)||null},getByInternalId:function(e){var t,n=this.getData();return n.filtered&&(n.$hasExtraKeys||(t=this.makeInternalKeyCfg(),n.setExtraKeys(t),n.$hasExtraKeys=!0),n=n.getSource()),n.$hasExtraKeys||(n.setExtraKeys(t||this.makeInternalKeyCfg()),n.$hasExtraKeys=!0),n.byInternalId.get(e)||null},getDataSource:function(){var e=this.getData();return e.getSource()||e},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},insert:function(e,t){var n,i;if(t&&(n=(t=Ext.isIterable(t)?Ext.Array.clone(t):[t]).length),!n)return[];for(i=0;i<n;++i)t[i]=this.createModel(t[i]);return this.getData().insert(e,t),t},queryBy:function(e,t){var n=this.getData();return(n.getSource()||n).createFiltered(e,t)},query:function(e,t,n,i,r){var o=this.getData();return(o.getSource()||o).createFiltered(e,t,n,i,r)},first:function(e){return this.getData().first(e)||null},last:function(e){return this.getData().last(e)||null},sum:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.sumByGroup(e):n.sum(e)},count:function(e){var t=this.getData();return e&&this.isGrouped()?t.countByGroup():t.count()},min:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.minByGroup(e):n.min(e)},max:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.maxByGroup(e):n.max(e)},average:function(e,t){var n=this.getData();return t&&this.isGrouped()?n.averageByGroup(e):n.average(e)},aggregate:function(e,t,n,i){var r,o,a,s,l,d=this;if(n&&d.isGrouped()){for(o=(r=d.getGroups().items).length,a={},l=0;l<o;++l)a[(s=r[l]).getGroupKey()]=d.getAggregate(e,t||d,s.items,i);return a}return d.getAggregate(e,t,d.getData().items,i)},getAggregate:function(e,t,n,i){var r,o=[],a=n.length;for(r=0;r<a;++r)o[r]=n[r].get(i);return e.call(t||this,n,o)},addObserver:function(e){var t=this.observers;t||(this.observers=t=new Ext.util.Collection),t.add(e)},removeObserver:function(e){var t=this.observers;t&&t.remove(e)},callObservers:function(e,t){var n,i,r,o,a,s=this.observers;if(s)for(i=s.items,t?t.unshift(this):t=[this],r=0,n=i.length;r<n;++r)(a=i[r])[o="onSource"+e]&&a[o].apply(a,t)},queryRecordsBy:function(e,t){var n,i,r,o=this.getData(),a=[];for(o=(o.getSource()||o).items,t=t||this,i=0,n=o.length;i<n;++i)r=o[i],!0===e.call(t,r)&&a.push(r);return a},queryRecords:function(e,t){var n,i,r,o=this.getData(),a=[];for(i=0,n=(o=(o.getSource()||o).items).length;i<n;++i)(r=o[i]).get(e)===t&&a.push(r);return a},privates:{isLast:function(e){return e===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}}),Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],isRemote:!0,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){var n=this.getExtraParams();n[e]=t,this.fireEvent("extraparamschanged",n)},updateExtraParams:function(e,t){this.fireEvent("extraparamschanged",e)},buildRequest:function(e){var t,n,i,r=this,o=Ext.apply({},e.getParams()),a=Ext.applyIf(o,r.getExtraParams()||{});return Ext.applyIf(a,r.getParams(e)),n=e.getId(),i=r.getIdParam(),void 0!==n&&void 0===a[i]&&(a[i]=n),(t=new Ext.data.Request({params:a,action:e.getAction(),records:e.getRecords(),url:e.getUrl(),operation:e,proxy:r})).setUrl(r.buildUrl(t)),e.setRequest(t),t},processResponse:function(e,t,n,i){var r,o,a,s,l=this;l.destroying||l.destroyed||(l.fireEvent("beginprocessresponse",l,i,t),!0===e?(o=l.getReader(),a=204===i.status?o.getNullResultSet():o.read(l.extractResponseData(i),{recordCreator:t.getRecordCreator()}),t.process(a,n,i),r=!t.wasSuccessful()):(l.setException(t,i),r=!0),r?l.fireEvent("exception",l,i,t):(s=a.getMetadata())&&l.onMetaChange(s),l.afterRequest(n,e),l.fireEvent("endprocessresponse",l,i,t))},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText,response:t})},extractResponseData:Ext.identityFn,applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e,t){var n,i=[],r=e.length;for(n=0;n<r;n++)i[n]=e[n].serialize();return this.applyEncoding(t?i[0]:i)},encodeFilters:function(e){var t,n,i=[],r=e.length;for(t=0;t<r;t++)(n=e[t]).getFilterFn(),n.generatedFilterFn&&i.push(n.serialize());return this.applyEncoding(i)},getParams:function(e){if(!e.isReadOperation)return{};var t,n,i=this,r={},o=e.getGrouper(),a=e.getSorters(),s=e.getFilters(),l=e.getPage(),d=e.getStart(),c=e.getLimit(),u=i.getSimpleSortMode(),h=i.getSimpleGroupMode(),f=i.getPageParam(),g=i.getStartParam(),p=i.getLimitParam(),m=i.getGroupParam(),x=i.getGroupDirectionParam(),E=i.getSortParam(),v=i.getFilterParam(),y=i.getDirectionParam();return f&&l&&(r[f]=l),g&&(d||0===d)&&(r[g]=d),p&&c&&(r[p]=c),(t=m&&o)&&(h?(r[m]=o.getProperty(),r[x]=o.getDirection()):r[m]=i.encodeSorters([o],!0)),E&&a&&a.length>0&&(u?(n=0,a.length>1&&t&&(n=1),r[E]=a[n].getProperty(),r[y]=a[n].getDirection()):r[E]=i.encodeSorters(a)),v&&s&&s.length>0&&(r[v]=i.encodeFilters(s)),r},buildUrl:function(e){var t=this.getUrl(e);return t||Ext.raise("You are using a ServerProxy but have not supplied it with a url."),this.getNoCache()&&(t=Ext.urlAppend(t,Ext.String.format("{0}={1}",this.getCacheString(),Ext.Date.now()))),t},getUrl:function(e){var t;return e&&(t=e.getUrl()||this.getApi()[e.getAction()]),t||this.callParent()},doRequest:function(e){Ext.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,destroy:function(){var e=this;e.destroying=!0,e.reader=e.writer=Ext.destroy(e.reader,e.writer),e.callParent(),e.destroying=!1,e.destroyed=!0}}),Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],isAjaxProxy:!0,defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:!1,headers:void 0,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(e){var t,n,i=this,r=i.getWriter(),o=i.buildRequest(e),a=i.getMethod(o);return r&&e.allowWrite()&&(o=r.write(o)),o.setConfig({binary:i.getBinary(),headers:i.getHeaders(),timeout:i.getTimeout(),scope:i,callback:i.createRequestCallback(o,e),method:a,useDefaultXhrHeader:i.getUseDefaultXhrHeader(),disableCaching:!1}),"GET"!==a.toUpperCase()&&i.getParamsAsJson()&&(n=o.getParams())&&(t=(t=o.getJsonData())?Ext.Object.merge({},t,n):n,o.setJsonData(t),o.setParams(void 0)),i.getWithCredentials()&&(o.setWithCredentials(!0),o.setUsername(i.getUsername()),o.setPassword(i.getPassword())),i.sendRequest(o)},sendRequest:function(e){return e.setRawRequest(Ext.Ajax.request(e.getCurrentConfig())),this.lastRequest=e,e},abort:function(e){(e=e||this.lastRequest)&&Ext.Ajax.abort(e.getRawRequest())},getMethod:function(e){var t,n=this.getActionMethods(),i=e.getAction();return n&&(t=n[i]),t||this.defaultActionMethods[i]},createRequestCallback:function(e,t){var n=this;return function(i,r,o){e===n.lastRequest&&(n.lastRequest=null),n.processResponse(r,t,e,o)}},destroy:function(){this.lastRequest=null,this.callParent()}}),Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",requires:["Ext.JSON"],alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:!1,preserveRawData:!1},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(e){var t;try{return Ext.decode(e.responseText)}catch(n){return t=this.createReadError(n.message),Ext.Logger.warn("Unable to parse the JSON returned by the server"),this.fireEvent("exception",this,e,t),t}},buildExtractors:function(){var e,t,n=this;n.callParent(arguments)&&(e=n.getMetaProperty(),t=n.getRootProperty(),n.getRoot=t?n.getAccessor(t):Ext.identityFn,e&&(n.getMeta=n.getAccessor(e)))},extractData:function(e,t){var n,i,r=this.getRecord(),o=[];if(r)for(!(n=e.length)&&Ext.isObject(e)&&(n=1,e=[e]),i=0;i<n;i++)o[i]=e[i][r];else o=e;return this.callParent([o,t])},getModelData:function(e){return this.getPreserveRawData()?Ext.apply({},e):e},createAccessor:function(){var e=/[\[\.]/;return function(t){var n,i,r,o,a,s,l,d,c,u,h,f,g,p=this.getUseSimpleAccessors();if(t||0===t){if("function"==typeof t)return t;if(p||(n=String(t).search(e)),!0===p||n<0)i=function(e){return e[t]};else{for(r="raw",o=[],a="",s=0,g=t.length,h=0;h<=g;++h)l="["===(u=t[h]),d="]"===u,!(c="."===u||l||d||!u)||s>1||s&&!d?a+=u:c&&(f=!1,l?++s:d&&(--s,f=!0),a&&(r+=a=f?"["+a+"]":"."+a,o.push(""+r),a=""));i=o.join(" && "),i=Ext.functionFactory("raw","return "+i)}return i}}}(),createFieldAccessor:function(e){var t=this,n=e.mapping,i=n||0===n,r=i?n:e.name;if(i)return"function"==typeof r?function(n){return e.mapping(n,t)}:t.createAccessor(r)},getAccessorKey:function(e){var t=this.getUseSimpleAccessors()?"simple":"";return this.$className+t+e},privates:{copyFrom:function(e){this.callParent([e]),this.getRoot=e.getRoot}}}),Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:void 0,encode:!1,allowSingle:!0,expandData:!1},constructor:function(e){e&&e.hasOwnProperty("root")&&((e=Ext.apply({},e)).rootProperty=e.root,delete e.root,Ext.log.warn('Ext.data.writer.Json: Using the deprecated "root" configuration. Use "rootProperty" instead.')),this.callParent([e])},getExpandedData:function(e){for(var t,n,i,r,o,a,s,l=e.length,d=0;d<l;d++)for(n in t=e[d])if(t.hasOwnProperty(n)&&(r=(i=n.split(".")).length-1)>0){for(o=t[n];r>0;r--)a=i[r],s=void 0,(s={})[a]=o,o=s;t[i[0]]=t[i[0]]||{},Ext.Object.merge(t[i[0]],o),delete t[n]}return e},writeRecords:function(e,t){var n,i,r,o=this,a=o.getRootProperty();return o.getExpandData()&&(t=o.getExpandedData(t)),o.getAllowSingle()&&1===t.length&&(t=t[0],i=!0),(r=this.getTransform())&&(t=r(t,e)),o.getEncode()?a?e.setParam(a,Ext.encode(t)):Ext.raise("Must specify a root when using encode"):(i||t&&t.length)&&(n=e.getJsonData()||{},a?n[a]=t:n=t,e.setJsonData(n)),e}}),Ext.define("Ext.util.Group",{extend:"Ext.util.Collection",config:{groupKey:null},$endUpdatePriority:2001,manageSorters:!1}),Ext.define("Ext.util.SorterCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Sorter"],isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(e){var t=this;t.sortFn=Ext.util.Sorter.createComparator(t),t.callParent([e]),t.setDecoder(t.decodeSorter)},addSort:function(e,t,n){var i,r,o,a,s,l,d,c=this;e?(a=c.getOptions(),e instanceof Array?(d=e,n=t,t=null):Ext.isString(e)?d=(l=c.get(e))?[l]:[{property:e,direction:t||a.getDefaultSortDirection()}]:Ext.isFunction(e)?d=[{sorterFn:e,direction:t||a.getDefaultSortDirection()}]:(Ext.isObject(e)||Ext.raise("Invalid sort descriptor: "+e),d=[e],n=t,t=null),n&&!c._sortModes[n]&&Ext.raise('Sort mode should be "multi", "append", "prepend" or "replace", not "'+n+'"'),n=c._sortModes[n||"replace"],s=c.getAt(0),i=c.length,r=n.append?i:0,c.beginUpdate(),c.splice(r,n.replace?i:0,d),n.multi&&(i=c.length)>(o=a.getMultiSortLimit())&&c.removeAt(o,i),l&&t?l.setDirection(t):0===r&&s&&s===c.getAt(0)&&s.toggle(),c.endUpdate()):(c.beginUpdate(),c.endUpdate())},clear:function(){this.beginUpdate(),this.callParent(),this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(e){var t,n,i=this.items,r=i.length;for(t=0;t<r;++t)if((n=i[t]).getProperty()===e)return n;return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(e,t){var n,i,r,o=this,a=o.getOptions(),s=a.getRootProperty(),l=o.getSorterOptionsFn();if(e.isSorter)e.getRoot()||e.setRoot(s);else{if(i={direction:a.getDefaultSortDirection(),root:s},"string"===(r=typeof e)){if(n=o.get(e))return n;i.property=e}else"function"===r?i.sorterFn=e:(Ext.isObject(e)||Ext.raise("Invalid sorter specified: "+e),(i=Ext.apply(i,e)).fn&&(i.sorterFn=i.fn,delete i.fn));e=Ext.create(t||"Ext.util.Sorter",i)}return l&&l.call(o.getSorterOptionsScope()||o,e),e},setSorterConfigure:function(e,t){this.setSorterOptionsFn(e),this.setSorterOptionsScope(t)},decodeRemoveItems:function(e,t){var n=void 0===t?e:e[t];if(!n||!n.$cloned){(e.length>t+1||!Ext.isIterable(n))&&(n=Ext.Array.slice(e,t));var i,r,o,a,s,l=this.items,d=n.length,c=[];for(i=0;i<d;i++)if((a=n[i])&&a.isSorter)c.push(a);else if("string"===(s=typeof a))(a=this.get(a))&&c.push(a);else if("function"===s)for(o=l.length;o-- >0;)(r=l[o]).getSorterFn()===a&&c.push(r);else Ext.raise("Invalid sorter specification: "+a);(n=c).$cloned=!0}return n},getOptions:function(){return this.$sortable||this}}),Ext.define("Ext.util.FilterCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Filter"],isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(e){var t=this;t.filterFn=Ext.util.Filter.createFilterFn(t),t.callParent([e]),t.setDecoder(t.decodeFilter)},filterData:function(e){return this.filtered?Ext.Array.filter(e,this.filterFn):e},getFilterFn:function(){return this.filterFn},isItemFiltered:function(e){return!this.filterFn(e)},decodeFilter:function(e){var t,n=this.getOptions().getRootProperty();if(e.isFilter)e.getRoot()||e.setRoot(n);else{if(t={root:n},Ext.isFunction(e))t.filterFn=e;else if(Ext.isObject(e)||Ext.raise("Invalid filter specified: "+e),(t=Ext.apply(t,e)).fn&&(t.filterFn=t.fn,delete t.fn),Ext.util.Filter.isInvalid(t))return!1;e=new Ext.util.Filter(t)}return e},decodeRemoveItems:function(e,t){var n=void 0===t?e:e[t];if(!n.$cloned){(e.length>t+1||!Ext.isIterable(n))&&(n=Ext.Array.slice(e,t));var i,r,o,a,s,l,d,c,u,h=this.items,f=n.length,g=[];for(r=0;r<f;r++)if((i=n[r])&&i.isFilter)g.push(i);else for(o="function"===(u=typeof i),a=void 0!==i.property&&void 0!==i.value,s="string"===u,o||a||s||Ext.raise("Invalid filter specification: "+i),c=h.length;c-- >0;)l=h[c],d=!1,s?d=l.getProperty()===i:o?d=l.getFilterFn()===i:a&&(d=l.getProperty()===i.property&&l.getValue()===i.value),d&&g.push(l);(n=g).$cloned=!0}return n},getOptions:function(){return this.$filterable||this}}),Ext.define("Ext.util.GroupCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Group","Ext.util.SorterCollection","Ext.util.FilterCollection"],isGroupCollection:!0,config:{grouper:null,itemRoot:null},observerPriority:-100,constructor:function(e){this.callParent([e]),this.on("remove","onGroupRemove",this)},onCollectionAdd:function(e,t){this.addItemsToGroups(e,t.items,t.at)},onCollectionBeforeItemChange:function(e,t){this.changeDetails=t},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){var n=t.item;t.indexChanged||this.syncItemGrouping(e,n,e.getKey(n),t.oldKey,t.oldIndex),this.changeDetails=null},onCollectionRefresh:function(e){this.removeAll(),this.addItemsToGroups(e,e.items)},onCollectionRemove:function(e,t){var n,i,r,o,a,s,l,d=this.changeDetails;for(d?(l=d.item,n=[],(r=this.findGroupForItem(l))&&n.push({group:r,items:[l]})):n=this.groupItems(e,t.items,!1),o=0,a=n.length;o<a;++o)(r=(i=n[o]).group)&&(r.remove(i.items),r.length||(s||(s=[])).push(r));s&&this.remove(s)},onCollectionSort:function(e){var t,n,i,r,o=e.getSorters(!1);if(o)for(t=this.items,n=this.length,i=0;i<n;++i)(r=t[i]).getSorters()!==o&&r.setSorters(o)},onCollectionUpdateKey:function(e,t){var n=t.index,i=t.item;t.indexChanged||(n=e.indexOf(i),this.syncItemGrouping(e,i,t.newKey,t.oldKey,n))},addItemsToGroups:function(e,t,n){this.groupItems(e,t,!0,n)},groupItems:function(e,t,n,i){var r,o,a,s,l,d,c,u,h,f=this,g={},p=[],m=e.getGrouper(),x=f.itemGroupKeys;for(l=0,u=t.length;l<u;++l)s=m.getGroupString(d=t[l]),c=e.getKey(d),n?(x||(f.itemGroupKeys=x={}))[c]=s:x&&delete x[c],(o=g[s])||(!(a=f.getByKey(s))&&n&&(h||(h=[])).push(a=f.createGroup(e,s)),p.push(g[s]=o={group:a,items:[]})),o.items.push(d);for(n&&f.length>1&&i&&(r=e.indexOf(p[0].group.getAt(0)),i=Math.max(i-r,0)),l=0,u=p.length;l<u;++l)(o=p[l]).group.insert(null!=i?i:a.items.length,o.items);return h&&f.add(h),p},syncItemGrouping:function(e,t,n,i,r){var o,a,s,l,d,c=this,u=c.itemGroupKeys||(c.itemGroupKeys={}),h=e.getGrouper().getGroupString(t),f=0,g=-1,p=n;i||0===i?(l=u[i],delete u[i],p=i):l=u[n],u[n]=h,(a=c.get(h))||(o=[a=c.createGroup(e,h)]),a.get(p)!==t?(a.getCount()>0&&0===e.getSorters().getCount()&&(g=r<(d=e.indexOf(a.items[0]))?0:r-d),-1===g?a.add(t):a.insert(g,t)):a.itemChanged(t,null,i),h===l||0!==l&&!l||(s=c.get(l))&&(s.remove(t),s.length||(f=[s])),o?c.splice(0,f,o):f&&c.splice(0,f)},createGroup:function(e,t){return new Ext.util.Group({groupKey:t,rootProperty:this.getItemRoot(),sorters:e.getSorters()})},getKey:function(e){return e.getGroupKey()},createSortFn:function(){var e=this.getGrouper(),t=this.getSorters().getSortFn();return e?function(n,i){return e.sort(n.items[0],i.items[0])||t(n,i)}:t},updateGrouper:function(e){var t=this;t.grouped=!(!e||!t.$groupable.getAutoGroup()),t.onSorterChange(),t.onEndUpdateSorters(t.getSorters())},destroy:function(){this.$groupable=null,this.destroyGroups(this.items),this.callParent()},privates:{destroyGroups:function(e){var t,n=e.length;for(t=0;t<n;++t)e[t].destroy()},findGroupForItem:function(e){var t,n,i=this.items,r=i.length;for(t=0;t<r;++t)if((n=i[t]).contains(e))return n},onGroupRemove:function(e,t){this.destroyGroups(t.items)}}}),Ext.define("Ext.data.Store",{extend:"Ext.data.ProxyStore",alias:"store.store",mixins:["Ext.data.LocalStore"],requires:["Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json","Ext.util.GroupCollection","Ext.util.DelayedTask"],uses:["Ext.data.StoreManager","Ext.util.Grouper"],config:{data:0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,moveMapCount:0,constructor:function(e){var t;if(e){if(e.buffered)return this.self!==Ext.data.Store&&Ext.raise("buffered config not supported on derived Store classes. Please derive from Ext.data.BufferedStore."),new Ext.data.BufferedStore(e);e.remoteGroup&&Ext.log.warn("Ext.data.Store: remoteGroup has been removed. Use remoteSort instead.")}this.callParent([e]),(t=this.inlineData)&&(delete this.inlineData,this.loadInlineData(t))},applyData:function(e,t){var n=this;return n.getFields(),n.getModel(),e&&e.isCollection?t=e:(t||(t=n.constructDataCollection()),e&&(n.isInitializing?n.inlineData=e:n.loadData(e))),t},loadInlineData:function(e){var t=this,n=t.getProxy();n&&n.isMemoryProxy?(n.setData(e),t.suspendEvents(),t.read(),t.resumeEvents()):(t.removeAll(!0),t.suspendEvents(),t.loadData(e),t.resumeEvents())},onCollectionAdd:function(e,t){this.onCollectionAddItems(e,t.items,t)},onCollectionFilterAdd:function(e,t){this.onCollectionAddItems(e,t)},onCollectionAddItems:function(e,t,n){var i,r,o,a,s=this,l=t.length,d=!!n&&!n.next,c=s.removed,u=s.ignoreCollectionAdd,h=s.getSession(),f=n&&n.replaced;for(i=0;i<l;++i)o=t[i],h&&h.adopt(o),u||(o.join(s),c&&c.length&&Ext.Array.remove(c,o),r=r||o.phantom||o.dirty);if(!u){if(f){a=[];do{Ext.Array.push(a,f.items),f=f.next}while(f);s.setMoving(a,!0)}n&&(n.replaced?d&&s.fireEvent("refresh",s):(s.fireEvent("add",s,t,n.at),d&&s.fireEvent("datachanged",s))),a&&s.setMoving(a,!1),s.needsSync=s.needsSync||r}},onCollectionBeforeItemChange:function(e,t){var n=t.item,i=t.modified||null,r=t.meta;this.fireEvent("beforeupdate",this,n,r,i,t)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(e,t){var n=t.item,i=t.modified||null,r=t.meta;this.fireChangeEvent(n)&&(this.onUpdate(n,r,i,t),this.fireEvent("update",this,n,r,i,t))},afterChange:function(e,t,n){this.getData().itemChanged(e,t||null,void 0,n)},afterCommit:function(e,t){this.afterChange(e,t,Ext.data.Model.COMMIT)},afterEdit:function(e,t){this.needsSync=this.needsSync||e.dirty,this.afterChange(e,t,Ext.data.Model.EDIT)},afterReject:function(e){this.afterChange(e,null,Ext.data.Model.REJECT)},afterDrop:function(e){this.getData().remove(e)},afterErase:function(e){this.removeFromRemoved(e)},addSorted:function(e){var t,n=this.getRemoteSort(),i=this.getData();return n&&i.setSorters(this.getSorters()),t=i.findInsertionIndex(e),n&&i.setSorters(null),this.insert(t,e)},remove:function(e,t,n){var i,r,o,a,s=this.getDataSource();if(e)if(e.isModel)s.indexOf(e)>-1?(o=[e],i=1):i=0;else{for(o=[],r=0,i=e.length;r<i;++r){if((a=e[r])&&a.isEntity){if(!s.contains(a))continue}else if(!(a=s.getAt(a)))continue;o.push(a)}i=o.length}return i?(this.removeIsMove=!0===t,this.removeIsSilent=n,s.remove(o),this.removeIsSilent=!1,o):[]},onCollectionRemove:function(e,t){var n,i,r=this,o=r.removed,a=t.items,s=a.length,l=t.at,d=t.replacement,c=r.removeIsMove||d&&Ext.Array.equals(a,d.items),u=r.removeIsSilent,h=!t.next,f=r.getDataSource();if(!r.ignoreCollectionRemove){for(d&&r.setMoving(d.items,!0),n=0;n<s;++n)i=a[n],f.contains(i)||(!o||c||i.phantom||i.erasing?i.unjoin(r):(i.removedFrom=l+n,o.push(i),r.needsSync=!0));u||d&&d.items.length||(r.fireEvent("remove",r,a,l,c),h&&r.fireEvent("datachanged",r)),d&&r.setMoving(d.items,!1)}},onFilterEndUpdate:function(){this.destroying||this.destroyed||(this.callParent(arguments),this.callObservers("Filter"))},removeAt:function(e,t){var n=this.getData();if((e=Math.max(e,0))<n.length){if(1===arguments.length)t=1;else if(!t)return;n.removeAt(e,t)}},removeAll:function(e){var t=this,n=t.getData(),i=(t.hasListeners.clear,n.getRange());return n.length&&(t.removeIsSilent=!0,t.callObservers("BeforeRemoveAll"),n.removeAll(),t.removeIsSilent=!1,e||(t.fireEvent("clear",t,i),t.fireEvent("datachanged",t)),t.callObservers("AfterRemoveAll",[!!e])),i},setRecords:function(e){var t=this.getCount();++this.loadCount,t?this.getData().splice(0,t,e):this.add(e)},splice:function(e,t,n){return this.getData().splice(e,t,n)},onProxyLoad:function(e){var t=this,n=e.getResultSet(),i=e.getRecords(),r=e.wasSuccessful();t.destroyed||(n&&(t.totalCount=n.getTotal()),r?(i=t.processAssociation(i),t.loadRecords(i,e.getAddRecords()?{addRecords:!0}:void 0)):t.loading=!1,t.hasListeners.load&&t.fireEvent("load",t,i,r,e),t.callObservers("AfterLoad",[i,r,e]))},filterDataSource:function(e){var t,n=this.getDataSource(),i=n.items,r=i.length,o=[];for(t=0;t<r;t++)e.call(n,i[t])&&o.push(i[t]);return o},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(e,t){var n,i=e.length,r=[];for(n=0;n<i;n++)r.push(this.createModel(e[n]));r=this.processAssociation(r),this.loadRecords(r,t?this.addRecordsOptions:void 0)},loadRawData:function(e,t){var n=this,i=n.getSession(),r=n.getProxy().getReader().read(e,i?{recordCreator:i.recordCreator}:void 0),o=r.getRecords(),a=r.getSuccess();return a&&(n.totalCount=r.getTotal(),n.loadRecords(o,t?n.addRecordsOptions:void 0)),a},loadRecords:function(e,t){var n,i,r,o=this,a=e.length,s=o.getData();for(t&&(n=t.addRecords),o.getRemoteSort()||o.getSortOnLoad()||(r=!0,s.setAutoSort(!1)),n||o.clearData(!0),o.loading=!1,o.ignoreCollectionAdd=!0,o.callObservers("BeforePopulate"),s.add(e),o.ignoreCollectionAdd=!1,r&&s.setAutoSort(!0),i=0;i<a;i++)e[i].join(o);++o.loadCount,o.complete=!0,o.hasListeners.datachanged&&o.fireEvent("datachanged",o),o.hasListeners.refresh&&o.fireEvent("refresh",o),o.callObservers("AfterPopulate")},loadPage:function(e,t){var n=this.getPageSize();this.currentPage=e,t=Ext.apply({page:e,start:(e-1)*n,limit:n,addRecords:!this.getClearOnPageLoad()},t),this.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){var t,n,i,r,o=this,a=o.removed,s=o.getDataSource(),l=o.getClearRemovedOnLoad(),d=a&&e&&!l;if(s){for(i=0,r=(t=s.items).length;i<r;++i)n=t[i],d&&Ext.Array.contains(a,n)||n.unjoin(o);o.ignoreCollectionRemove=!0,o.callObservers("BeforeClear"),s.removeAll(),o.ignoreCollectionRemove=!1,o.callObservers("AfterClear")}!a||e&&!l||(a.length=0)},onIdChanged:function(e,t,n){this.getData().updateKey(e,t),this.fireEvent("idchanged",this,e,t,n)},commitChanges:function(){var e=this.getModifiedRecords(),t=e.length,n=0;for(Ext.suspendLayouts(),this.beginUpdate();n<t;n++)e[n].commit();this.cleanRemoved(),this.endUpdate(),Ext.resumeLayouts(!0)},filterNewOnly:function(e){return!0===e.phantom},filterRejects:function(e){return e.phantom||e.dirty},rejectChanges:function(){var e,t,n,i,r,o,a=this,s=a.getRejectRecords(),l=s.length;for(Ext.suspendLayouts(),a.beginUpdate(),e=0;e<l;e++)(t=s[e]).phantom?(n=n||[]).push(t):t.reject();if(n)for(a.remove(n),e=0,l=n.length;e<l;++e)n[e].reject();if(s=a.getRawRemovedRecords()){for(l=s.length,(i=!a.getRemoteSort()&&a.isSorted())&&(o=(r=a.getData()).getAutoSort(),r.setAutoSort(!1)),e=l-1;e>=0;e--)(t=s[e]).reject(),i||a.insert(t.removedFrom||0,t);i&&(r.setAutoSort(o),a.add(s)),s.length=0}a.endUpdate(),Ext.resumeLayouts(!0)},doDestroy:function(){var e=this,t=e.loadTask,n=e.getData().getSource();e.clearData(),e.setSession(null),e.observers=null,t&&(t.cancel(),e.loadTask=null),n&&n.destroy(),e.callParent()},privates:{fetch:function(e){e=Ext.apply({},e),this.setLoadOptions(e),this.createOperation("read",e).execute()},fireChangeEvent:function(e){return this.getDataSource().contains(e)},onBeforeLoad:function(e){this.callObservers("BeforeLoad",[e])},onRemoteFilterSet:function(e,t){e&&this.getData().setFilters(t?null:e),this.callParent([e,t])},onRemoteSortSet:function(e,t){var n=this.getData();e&&n.setSorters(t?null:e),n.setAutoGroup(!t),this.callParent([e,t])},isMoving:function(e,t){var n,i,r=this.moveMap,o=0;if(r)if(e)if(Ext.isArray(e))for(i=0,n=e.length;i<n;++i)o+=r[e[i].id]?1:0;else r[e.id]&&++o;else o=t?r:this.moveMapCount;return o},setLoadOptions:function(e){var t,n,i=this,r=i.getPageSize();i.getRemoteSort()&&!e.grouper&&(n=i.getGrouper())&&(e.grouper=n),(r||"start"in e||"limit"in e||"page"in e)&&(e.page=null!=e.page?e.page:i.currentPage,e.start=void 0!==e.start?e.start:(e.page-1)*r,e.limit=null!=e.limit?e.limit:r,i.currentPage=e.page),e.addRecords=e.addRecords||!1,e.recordCreator||(t=i.getSession())&&(e.recordCreator=t.recordCreator),i.callParent([e])},setMoving:function(e,t){var n,i,r=this,o=r.moveMap||(r.moveMap={}),a=e.length;for(n=0;n<a;++n)i=e[n].id,t?o[i]?++o[i]:(o[i]=1,++r.moveMapCount):0==--o[i]&&(delete o[i],--r.moveMapCount);0===r.moveMapCount&&(r.moveMap=null)},processAssociation:function(e){var t=this.getAssociatedEntity();return t&&(e=this.getRole().processLoad(this,t,e,this.getSession())),e}}}),Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:void 0,successProperty:void 0},createFieldAccessor:function(e){var t,n=e.mapping,i=e.hasMapping()?n:e.ordinal;return e.mapping=i,t=this.callParent(arguments),e.mapping=n,t},getModelData:function(e){return{}}}),Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",alternateClassName:["Ext.data.SimpleStore"],requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(e,t){if(this.expandData){for(var n=[],i=0,r=e.length;i<r;i++)n[n.length]=[e[i]];e=n}this.callParent([e,t])}}),Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,requires:["Ext.data.ArrayStore"],register:function(){for(var e,t=0;e=arguments[t];t++)this.add(e)},unregister:function(){for(var e,t=0;e=arguments[t];t++)this.remove(this.lookup(e))},lookup:function(e,t){if(Ext.isArray(e)){var n,i,r=["field1"],o=!Ext.isArray(e[0]),a=e;if(o)for(a=[],n=0,i=e.length;n<i;++n)a.push([e[n]]);else for(n=2,i=e[0].length;n<=i;++n)r.push("field"+n);return new Ext.data.ArrayStore({data:a,fields:r,autoDestroy:!0,autoCreated:!0,expanded:o})}return Ext.isString(e)?this.get(e):Ext.Factory.store(e,t)},getKey:function(e){return e.storeId},addEmptyStore:function(){var e=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:!1});e.isEmptyStore=!0,e.add=e.remove=e.insert=e.loadData=function(){Ext.raise("Cannot modify ext-empty-store")},this.add(e)},clear:function(){this.callParent(),this.addEmptyStore()}},function(){Ext.regStore=function(e,t){var n;if(Ext.isObject(e))t=e;else{if(Ext.data.StoreManager.containsKey(e))return Ext.data.StoreManager.lookup(e);t.storeId=e}return n=t instanceof Ext.data.Store?t:new Ext.data.Store(t),Ext.data.StoreManager.register(n),n},Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)},Ext.data.StoreManager.addEmptyStore()}),Ext.define("Ext.app.domain.Store",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.data.AbstractStore"],type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){this.callParent(),this.monitor(Ext.data.AbstractStore)},match:function(e,t){var n=!1,i=e.alias;return"*"===t?n=!0:this.idMatchRe.test(t)?n=e.getStoreId()===t.substring(1):i&&(n=Ext.Array.indexOf(i,this.prefix+t)>-1),n}}),Ext.define("Ext.app.route.Queue",{queue:null,token:null,constructor:function(e){Ext.apply(this,e),this.queue=new Ext.util.MixedCollection},queueAction:function(e,t){this.queue.add({route:e,args:t})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var e=this.queue.removeAt(0);e&&(e&&e.route).execute(this.token,e.args,this.onActionExecute,this)},onActionExecute:function(e){e?this.clearQueue():this.runQueue()}}),Ext.define("Ext.app.route.Route",{action:null,conditions:null,controller:null,allowInactive:!1,url:null,before:null,caseInsensitive:!1,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(e){var t,n=this;Ext.apply(n,e,{conditions:{}}),t=n.url,n.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g),n.paramsInMatchString=t.match(n.paramMatchingRegex)||[],n.matcherRegex=n.createMatcherRegex(t)},recognize:function(e){var t,n,i=this,r=i.controller;return!(!i.allowInactive&&!r.isActive()||!i.recognizes(e))&&(t=i.matchesFor(e),(n=e.match(i.matcherRegex)).shift(),Ext.applyIf(t,{controller:r,action:i.action,historyUrl:e,args:n}))},recognizes:function(e){return this.matcherRegex.test(e)},execute:function(e,t,n,i){var r=t.args||[],o=this.before,a=this.controller,s=this.createCallback(t,n,i);o?(r.push(s),Ext.isString(o)&&(o=this.before=a[o]),o?o.apply(a,r):Ext.log.warn("The before action: "+this.before+" was not found on the controller. The action method will not be executed.")):s.resume()},matchesFor:function(e){var t={},n=this.paramsInMatchString,i=e.match(this.matcherRegex),r=0,o=n.length;for(i.shift();r<o;r++)t[n[r].replace(":","")]=i[r];return t},createMatcherRegex:function(e){for(var t,n,i=this.paramsInMatchString,r=this.conditions,o=0,a=i.length,s=Ext.util.Format.format,l=this.caseInsensitive?"i":"";o<a;o++)n=s("{0}",r[t=i[o]]||"([%a-zA-Z0-9\\-\\_\\s,]+)"),e=e.replace(new RegExp(t),n);return new RegExp("^"+e+"$",l)},createCallback:function(e,t,n){var i=this;return n=n||i,{resume:function(){var r,o=i.controller,a=i.action;Ext.isString(a)&&(a=o[a]),(r=(e=e&&e.args?e.args:[]).pop())&&!Ext.isObject(r)&&e.push(r),a?(i.action=a,a.apply(o,e)):Ext.log.warn("The action: "+i.action+" was not found on the controller."),t&&t.call(n)},stop:function(e){t&&t.call(n,e)}}}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},useTopWindow:!1,constructor:function(){var e=this;e.hiddenField=null,e.ready=!1,e.currentToken=null,e.mixins.observable.constructor.call(e)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(e){try{this.win.location.hash=e,this.currentToken=e}catch(e){}},handleStateChange:function(e){this.currentToken=e,this.fireEvent("change",e)},startUp:function(){var e=this;e.currentToken=e.getHash(),Ext.supports.Hashchange?Ext.get(e.win).on("hashchange",e.onHashChange,e):Ext.TaskManager.start({fireIdleEvent:!1,run:e.onHashChange,interval:50,scope:e}),e.ready=!0,e.fireEvent("ready",e)},onHashChange:function(){var e=this.getHash();e!==this.hash&&(this.hash=e,this.handleStateChange(e))},init:function(e,t){var n=this;n.ready?Ext.callback(e,t,[n]):Ext.isReady?(n.win=n.useTopWindow?window.top:window,n.hash=n.getHash(),e&&n.on("ready",e,t,{single:!0}),n.startUp()):Ext.onInternalReady(function(){n.init(e,t)})},add:function(e,t){var n=!1;return!1!==t&&this.getToken()===e||(this.setHash(e),n=!0),n},back:function(){(this.useTopWindow?window.top:window).history.go(-1)},forward:function(){(this.useTopWindow?window.top:window).history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}}),Ext.define("Ext.app.route.Router",{singleton:!0,requires:["Ext.app.route.Queue","Ext.app.route.Route","Ext.util.History"],multipleToken:"|",queueRoutes:!0,constructor:function(){var e=Ext.util.History;e.ready||e.init(),e.on("change",this.onStateChange,this),this.clear()},onStateChange:function(e){for(var t,n,i,r,o,a=this.application,s=this.routes,l=s.length,d=this.queueRoutes,c=e.split(this.multipleToken),u=0,h=c.length;u<h;u++){for(e=c[u],o=!1,d&&(n=new Ext.app.route.Queue({token:e})),t=0;t<l;t++)(r=(i=s[t]).recognize(e))&&(o=!0,d?n.queueAction(i,r):i.execute(e,r));d&&n.runQueue(),!o&&a&&a.fireEvent("unmatchedroute",e)}},connect:function(e,t,n){var i={url:e,action:t,controller:n};Ext.isObject(t)&&Ext.merge(i,t),this.routes.push(new Ext.app.route.Route(i))},disconnectAll:function(e){var t,n,i=this.routes,r=i.length,o=[];for(t=0;t<r;++t)(n=i[t]).controller!==e&&o.push(n);this.routes=o},recognize:function(e){for(var t,n,i=this.routes||[],r=0,o=i.length;r<o;r++)if(n=(t=i[r]).recognize(e))return{route:t,args:n};return!1},draw:function(e){e.call(this,this)},clear:function(){this.routes=[]}}),Ext.define("Ext.app.Controller",{extend:"Ext.app.BaseController",requires:["Ext.app.Util","Ext.data.StoreManager","Ext.ComponentManager","Ext.app.domain.Component","Ext.app.domain.Store","Ext.app.route.Router"],statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,profileRegex:/^(.*)\.profile\./,createGetter:function(e,t){return function(){return this[e](t)}},getGetterName:function(e,t){var n,i="get",r=e.split("."),o=r.length;for(n=0;n<o;n++)i+=Ext.String.capitalize(r[n]);return i+=t},resolveNamespace:function(e,t){var n,i,r,o=Ext.app.Controller,a=e.prototype.isProfile?o.profileRegex:o.controllerRegex;return n=Ext.getClassName(e),(i=t.$namespace||t.namespace||Ext.app.getNamespace(n)||(r=a.exec(n))&&r[1])||Ext.log.warn("Missing namespace for "+n+", please define it in namespaces property of your Application class."),i},processDependencies:function(e,t,n,i,r,o){if(r&&r.length){var a,s,l,d,c,u,h,f,g=this.strings[i];for(Ext.isArray(r)||(r=[r]),c=0,u=r.length;c<u;c++)d=r[c],a=this.getFullName(d,i,n,o),r[c]=s=a.absoluteName,l=a.shortName,t.push(s),e[h=this.getGetterName(l,g.upper)]?"getMainView"===h&&Ext.log.warn("Cannot have a view named 'Main' - getter conflicts with mainView config."):e[h]=f=this.createGetter(g.getter,d),f&&"controller"!==i&&(f["Ext.app.getter"]=!0)}},getFullName:function(e,t,n,i){var r,o,a=e;return(r=e.indexOf("@"))>0?(a=e.substring(0,r),o=e.substring(r+1)+"."+a):e.indexOf(".")>0&&(Ext.ClassManager.isCreated(e)||this.hasRegisteredPrefix(e))?(o=e,a=e.replace(n+"."+t+".","")):(n||Ext.log.warn("Cannot find namespace for "+t+" "+e+", assuming it is fully qualified class name"),n?(o=n+"."+t+"."+(i?i+"."+e:e),a=e):o=e),{absoluteName:o,shortName:a}},hasRegisteredPrefix:function(e){var t=Ext.ClassManager.getPrefix(e);return t&&t!==e}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:!0,moduleClassName:null},onClassExtended:function(e,t,n){var i=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var n,r,o=Ext.app.Controller,a=[];r=e.prototype,(n=o.resolveNamespace(e,t))&&(r.$namespace=n),o.processDependencies(r,a,n,"model",t.models),o.processDependencies(r,a,n,"view",t.views),o.processDependencies(r,a,n,"store",t.stores),o.processDependencies(r,a,n,"controller",t.controllers),Ext.require(a,Ext.Function.pass(i,arguments,this))}},constructor:function(e){this.initAutoGetters(),this.callParent([e])},normalizeRefs:function(e){var t=[];return e&&(Ext.isObject(e)?Ext.Object.each(e,function(e,n){Ext.isString(n)&&(n={selector:n}),n.ref=e,t.push(n)}):Ext.isArray(e)&&(t=Ext.Array.merge(t,e))),(e=this.refs)&&(this.refs=null,(e=this.normalizeRefs(e))&&(t=Ext.Array.merge(t,e))),t},getRefMap:function(){var e,t,n,i,r=this._refMap;if(!r&&(e=this.getRefs(),r=this._refMap={},e))for(i=0,n=e.length;i<n;i++)r[(t=e[i]).ref]=t.selector;return r},applyId:function(e){return e||Ext.app.Controller.getFullName(this.$className,"controller",this.$namespace).shortName},applyRefs:function(e){return this.normalizeRefs(Ext.clone(e))},updateRefs:function(e){e&&this.ref(e)},initAutoGetters:function(){var e,t,n=this.self.prototype;for(e in n)(t=n[e])&&t["Ext.app.getter"]&&t.call(this)},doInit:function(e){this._initialized||(this.init(e),this._initialized=!0)},finishInit:function(e){var t,n,i=this.controllers;if(this._initialized&&i&&i.length)for(t=0,n=i.length;t<n;t++)this.getController(i[t]).finishInit(e)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},ref:function(e){var t,n,i,r=this,o=0,a=e.length;for(e=Ext.Array.from(e),r.references=r.references||[];o<a;o++)n=(t=e[o]).ref,r[i="get"+Ext.String.capitalize(n)]||(r[i]=Ext.Function.pass(r.getRef,[n,t],r)),r.references.push(n.toLowerCase())},addRef:function(e){this.ref(e)},getRef:function(e,t,n){var i=this.refCache||(this.refCache={}),r=i[e];return t=t||{},n=n||{},Ext.apply(t,n),t.forceCreate?Ext.ComponentManager.create(t,"component"):(r||(t.selector&&(i[e]=r=Ext.ComponentQuery.query(t.selector)[0]),!r&&t.autoCreate&&(i[e]=r=Ext.ComponentManager.create(t,"component")),r&&r.on("destroy",function(){i[e]=null})),r)},hasRef:function(e){var t=this.references;return t&&-1!==Ext.Array.indexOf(t,e.toLowerCase())},getController:function(e){var t=this.getApplication();return e===this.getId()?this:t&&t.getController(e)},getStore:function(e){var t,n;return t=-1===e.indexOf("@")?e:e.split("@")[0],(n=Ext.StoreManager.get(t))||(e=Ext.app.Controller.getFullName(e,"store",this.$namespace))&&(n=Ext.create(e.absoluteName,{id:t})),n},getModel:function(e){var t=Ext.app.Controller.getFullName(e,"model",this.$namespace),n=Ext.ClassManager.get(t.absoluteName);return n||(n=Ext.data.schema.Schema.lookupEntity(e)),n},getProfile:function(e){return e=Ext.app.Controller.getFullName(e,"profile",this.$namespace)},getView:function(e){var t=Ext.app.Controller.getFullName(e,"view",this.$namespace);return t&&Ext.ClassManager.get(t.absoluteName)},destroy:function(e,t){var n,i,r=this,o=r.application;if(!t&&o&&o.unregister(r),r.application=null,e)for(i in n=r.refCache)n.hasOwnProperty(i)&&Ext.destroy(n[i]);r.callParent()}}),Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.util.History","Ext.util.MixedCollection"],isApplication:!0,scope:void 0,namespaces:[],paths:null,config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:!0},defaultToken:null,glyphFontFamily:null,quickTips:!0},onClassExtended:function(e,t,n){var i,r,o=Ext.app.Controller,a=e.prototype,s=[];(r=t.name||e.superclass.name)&&(t.$namespace=r,Ext.app.addNamespaces(r)),t.namespaces&&Ext.app.addNamespaces(t.namespaces),t["paths processed"]?delete t["paths processed"]:Ext.app.setupPaths(r,"appFolder"in t?t.appFolder:e.superclass.appFolder,t.paths),o.processDependencies(a,s,r,"profile",t.profiles),a.getDependencies(e,t,s),s.length&&(i=n.onBeforeCreated,n.onBeforeCreated=function(e,t){var n=Ext.Array.clone(arguments);t.__handleRequires?t.__handleRequires.call(this,s,Ext.bind(function(){return i.apply(this,n)},this)):Ext.require(s,function(){return i.apply(this,n)})})},getDependencies:Ext.emptyFn,constructor:function(e){var t=this;Ext.app.route.Router.application=t,t.callParent([e]),Ext.isEmpty(t.getName())&&Ext.raise("[Ext.app.Application] Name property is required"),t.doInit(t),t.initNamespace(),Ext.on("appupdate",t.onAppUpdate,t,{single:!0}),Ext.Loader.setConfig({enabled:!0}),this.onProfilesReady()},applyId:function(e){return e||this.$className},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){var e,t,n,i=this,r=i.getProfiles(),o=r.length;for(t=0;t<o;t++)(n=Ext.create(r[t],{application:i})).isActive()&&!e&&(e=n,i.setCurrentProfile(e));e&&e.init(),i.initControllers(),i.onBeforeLaunch(),i.finishInitControllers()},initNamespace:function(){var e,t=this,n=t.getAppProperty();(e=Ext.namespace(t.getName()))&&(e.getApplication=function(){return t},n&&(e[n]?e[n]!==t&&Ext.log.warn("An existing reference is being overwritten for "+name+"."+n+". See the appProperty config."):e[n]=t))},initControllers:function(){var e,t,n=this,i=Ext.Array.from(n.controllers),r=n.getCurrentProfile();for(n.controllers=new Ext.util.MixedCollection,e=0,t=i.length;e<t;e++)n.getController(i[e]);if(r)for(e=0,t=(i=r.getControllers()).length;e<t;e++)n.getController(i[e])},finishInitControllers:function(){var e,t,n;for(t=0,n=(e=this.controllers.getRange()).length;t<n;t++)e[t].finishInit(this)},launch:Ext.emptyFn,onBeforeLaunch:function(){var e,t,n,i,r=this,o=Ext.util.History,a=r.getDefaultToken(),s=r.getCurrentProfile();for(r.initMainView(),s&&s.launch(),r.launch.call(r.scope||r),r.launched=!0,r.fireEvent("launch",r),n=(e=r.controllers.items).length,t=0;t<n;t++)e[t].onLaunch(r);o.ready||o.init(),(i=o.getToken())||i===a?Ext.app.route.Router.onStateChange(i):a&&o.add(a),Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated&&Ext.Microloader.fireAppUpdate(),Ext.defer(Ext.ClassManager.clearNamespaceCache,2e3,Ext.ClassManager)},getModuleClassName:function(e,t){return Ext.app.Controller.getFullName(e,t,this.getName()).absoluteName},initMainView:function(){var e,t=this.getCurrentProfile();t&&(e=t.getMainView()),e?this.setMainView(e):this.getMainView()},applyMainView:function(e){return this.getView(e).create({$initParent:this.viewport})},createController:function(e){return this.getController(e)},destroyController:function(e){"string"==typeof e&&(e=this.getController(e,!0)),Ext.destroy(e)},getController:function(e,t){var n,i,r,o,a,s,l=this,d=l.controllers;if(!(i=d.get(e)))for(o=0,r=(s=d.items).length;o<r;++o)if((n=(a=s[o]).getModuleClassName())&&n===e){i=a;break}return i||t||(n=l.getModuleClassName(e,"controller"),i=Ext.create(n,{application:l,moduleClassName:n}),d.add(i),l._initialized&&i.doInit(l)),i},unregister:function(e){this.controllers.remove(e)},getApplication:function(){return this},destroy:function(e){var t=this,n=t.controllers,i=Ext.namespace(t.getName()),r=t.getAppProperty();Ext.un("appupdate",t.onAppUpdate,t),Ext.destroy(t.viewport),n&&n.each(function(t){t.destroy(e,!0)}),t.controllers=null,t.callParent([e,!0]),i&&i[r]===t&&delete i[r],Ext.app.route.Router.application===t&&(Ext.app.route.Router.application=null),Ext.app.Application.instance===t&&(Ext.app.Application.instance=null)},updateGlyphFontFamily:function(e){Ext.setGlyphFontFamily(e)},applyProfiles:function(e){var t=this;return Ext.Array.map(e,function(e){return t.getModuleClassName(e,"profile")})}}),Ext.application=function(e){var t=function(e){Ext.onReady(function(){var t=Ext.viewport;(t=t&&t.Viewport)&&t.setup&&t.setup(e.prototype.config.viewport),Ext.app.Application.instance=new e})};"string"==typeof e?Ext.require(e,function(){t(Ext.ClassManager.get(e))}):(e=Ext.apply({extend:"Ext.app.Application"},e),Ext.app.setupPaths(e.name,e.appFolder,e.paths),e["paths processed"]=!0,Ext.define(e.name+".$application",e,function(){t(this)}))},Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",uses:["Ext.tip.QuickTipManager"],autoCreateViewport:!1,config:{enableQuickTips:null},quickTips:!0,updateEnableQuickTips:function(e){this.setQuickTips(e)},applyMainView:function(e){var t,n,i,r;return(n=(t="string"==typeof e?this.getView(e):Ext.ClassManager.getByConfig(e)).prototype).isViewport||(r=n.plugins,i={plugins:r=["viewport"].concat(r?Ext.Array.from(r,!0):[])}),t.create(i)},getDependencies:function(e,t,n){var i=Ext.app.Controller,r=e.prototype,o=t.$namespace,a=t.autoCreateViewport;a&&(o||Ext.raise("[Ext.app.Application] Can't resolve namespace for "+t.$className+", did you forget to specify 'name' property?"),!0===a?a="Viewport":n.push("Ext.plugin.Viewport"),i.processDependencies(r,n,o,"view",a))},onBeforeLaunch:function(){var e=this.autoCreateViewport;this.getQuickTips()&&this.initQuickTips(),e&&this.initViewport(),this.callParent(arguments)},getViewportName:function(){var e=null,t=this.autoCreateViewport;return t&&(e=!0===t?"Viewport":t),e},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}}),Ext.define("Ext.app.Profile",{mixins:["Ext.mixin.Observable"],isProfile:!0,config:{mainView:{$value:null,lazy:!0},application:null,controllers:[],models:[],views:[],stores:[]},constructor:function(e){this.initConfig(e),this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return!1},init:function(){var e,t=this.getViews();if(t&&!(t instanceof Array))for(e in t)Ext.ClassManager.setXType(t[e],e)},launch:Ext.emptyFn,onClassExtended:function(e,t,n){var i=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var n,r,o=Ext.app.Controller,a=e.$className,s=[],l=e.prototype,d=t.views;(n=t.name)?delete t.name:n=(n=a.split("."))[n.length-1],e._name=n,e._namespace=n=(t.namespace||n).toLowerCase(),delete t.namespace,r=o.resolveNamespace(e,t),o.processDependencies(l,s,r,"model",t.models,n),o.processDependencies(l,s,r,"store",t.stores,n),o.processDependencies(l,s,r,"controller",t.controllers,n),d&&(d instanceof Array?o.processDependencies(l,s,r,"view",d,n):Ext.app.Profile.processViews(a,d,s)),Ext.require(s,Ext.Function.pass(i,arguments,this))}},getName:function(){return this.self._name},getNamespace:function(){return this.self._namespace},privates:{statics:{processViews:function(e,t,n){var i,r,o,a;for(a in t)"string"!=typeof(r=t[a])&&((o=r.xclass)||Ext.raise("Views must specify an xclass"),delete(i=Ext.apply({extend:o},r)).xclass,Ext.define(t[a]=e+"$"+a,i),r=o),n.push(r)}}}}),Ext.define("Ext.app.domain.View",{extend:"Ext.app.EventDomain",requires:["Ext.Widget"],isInstance:!0,constructor:function(e){this.callParent([e]),this.controller=e,this.monitoredClasses=[Ext.Widget]},match:function(e,t,n){return"#"===t?n===e.getController():e.is(t)},destroy:function(){this.controller=null,this.callParent()}}),Ext.define("Ext.overrides.app.domain.View",{override:"Ext.app.domain.View",requires:["Ext.Component"],constructor:function(e){this.callParent([e]),this.monitoredClasses.push(Ext.Component)}}),Ext.define("Ext.app.ViewController",{extend:"Ext.app.BaseController",alias:"controller.controller",requires:["Ext.app.domain.View"],mixins:["Ext.mixin.Factoryable"],isViewController:!0,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},view:null,constructor:function(){this.compDomain=new Ext.app.domain.View(this),this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var e=this,t=e.compDomain;t&&(t.unlisten(e),t.destroy()),e.compDomain=e.view=null,e.callParent()},closeView:function(){var e=this.getView();e&&e[this.getCloseViewAction()]()},control:function(e,t){var n=e;Ext.isString(e)&&((n={})[e]=t),this.compDomain.listen(n,this)},listen:function(e,t){var n=e.component;n&&(delete(e=Ext.apply({},e)).component,this.control(n)),this.callParent([e,t])},applyId:function(e){return e||(e=Ext.id(null,"controller-")),e},getReferences:function(){var e=this.view;return e&&e.getReferences()},getView:function(){return this.view},lookup:function(e){var t=this.view;return t&&t.lookup(e)},lookupReference:function(e){return this.lookup(e)},getSession:function(){var e=this.view;return e&&e.lookupSession()},getViewModel:function(){var e=this.view;return e&&e.lookupViewModel()},getStore:function(e){var t=this.getViewModel();return t?t.getStore(e):null},fireViewEvent:function(e,t){var n=this.view,i=!1,r=arguments;return n&&(n!==t&&(r=Ext.Array.slice(r)).splice(1,0,n),i=n.fireEvent.apply(n,r)),i},privates:{view:null,attachReference:function(e){var t=this.view;t&&t.attachReference(e)},clearReference:function(e){var t=this.view;t&&t.clearReference(e)},clearReferences:function(){var e=this.view;e&&e.clearReferences()},setView:function(e){this.view=e,this.beforeInit.$nullFn||this.beforeInit(e)}}}),Ext.define("Ext.util.Bag",{isBag:!0,constructor:function(){this.items=[],this.map={}},generation:0,length:0,beginUpdate:Ext.emptyFn,endUpdate:Ext.emptyFn,add:function(e){var t,n,i,r,o,a,s,l=this,d=l.items,c=l.map,u=1;for(Ext.isArray(e)&&(t=a=[],u=e.length),n=0;n<u;n++)void 0===(i=c[r=l.getKey(o=t?e[n]:e)])?(d.push(o),c[r]=l.length++,t?t.push(o):a=o):(s=d[i],t?t.push(s):a=s,d[i]=o);return++l.generation,a},clear:function(){var e=this,t=e.generation||e.length,n=t?e.items:[];return t&&(e.items=[],e.length=0,e.map={},++e.generation),n},clone:function(){var e=this,t=new e.self;return e.length&&(Ext.apply(t.map,e.map),t.items=e.items.slice(),t.length=e.length),t},contains:function(e){var t,n=!1,i=this.map;return null!=e&&(t=this.getKey(e))in i&&(n=this.items[i[t]]===e),n},containsKey:function(e){return e in this.map},destroy:function(){this.items=this.map=null,this.callParent()},each:function(e,t){var n,i,r=this.items,o=r.length;if(o)for(t=t||this,r=r.slice(0),n=0;n<o&&!1!==(i=e.call(t,r[n],n,o));n++);return i},getAt:function(e){var t=null;return e<this.length&&(t=this.items[e]),t},get:function(e){return this.getByKey(e)},getByKey:function(e){var t=this.map;return e in t?this.items[t[e]]:null},indexOfKey:function(e){var t=this.map;return e in t?t[e]:-1},last:function(){return this.items[this.length-1]},updateKey:function(e,t){var n,i=this,r=i.map;e&&t&&((n=i.getKey(e))!==t?i.getAt(r[t])!==e||n in r||(i.generation++,r[n]=r[t],delete r[t]):(n in r&&i.getAt(r[n])!==e&&Ext.raise('Duplicate newKey "'+n+'" for item with oldKey "'+t+'"'),t in r&&i.getAt(r[t])!==e&&Ext.raise('Incorrect oldKey "'+t+'" for item with newKey "'+n+'"')))},getCount:function(){return this.length},getKey:function(e){return e.id||e.getId()},getRange:function(e,t){var n,i=this.items,r=i.length;return r?(n=Ext.Number.clipIndices(r,[e,t]),n=i.slice(n[0],n[1])):n=[],n},remove:function(e){var t,n,i,r,o,a,s,l=this,d=l.map,c=l.items,u=null,h=1;if(Ext.isArray(e)&&(h=e.length,n=u=[]),l.length){for(i=0;i<h;i++)void 0!==(r=d[o=l.getKey(n?e[i]:e)])&&(delete d[o],s=c[r],n?n.push(s):u=s,a=c.pop(),r<--l.length&&(c[r]=a,d[l.getKey(a)]=r),t=!0);t&&++l.generation}return u},removeByKey:function(e){var t=this.getByKey(e);return t&&this.remove(t),t||null},replace:function(e){return this.add(e),e},sort:function(e){var t,n=this,i=n.items,r=i.length;if(r){for(Ext.Array.sort(i,e),n.map={};r-- >0;)t=i[r],n.map[n.getKey(t)]=r;++n.generation}}}),Ext.define("Ext.util.Scheduler",{mixins:["Ext.mixin.Observable"],requires:["Ext.util.Bag"],busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:!0,constructor:function(e){Ext.util.Scheduler.instances?Ext.util.Scheduler.instances.push(this):Ext.util.Scheduler.instances=[this],this.id=Ext.util.Scheduler.count=(Ext.util.Scheduler.count||0)+1,this.mixins.observable.constructor.call(this,e),this.items=new Ext.util.Bag},destroy:function(){var e=this,t=e.timer;t&&(window.clearTimeout(t),e.timer=null),e.items.destroy(),e.items=e.orderedItems=null,e.callParent(),Ext.Array.remove(Ext.util.Scheduler.instances,this)},add:function(e){var t=this,n=t.items;n===t.firing&&(t.items=n=n.clone()),e.id=e.id||++t.nextId,e.scheduler=t,n.add(e),t.sortMap||(t.orderedItems=null)},remove:function(e){var t=this,n=t.items;t.destroyed||(t.sortMap&&Ext.raise("Items cannot be removed during sort"),n===t.firing&&(t.items=n=n.clone()),e.scheduled&&(t.unscheduleItem(e),e.scheduled=!1),n.remove(e),t.orderedItems=null)},sort:function(){var e,t,n=this,i=n.items,r={},o=n.getPreSort();for(n.orderedItems=[],n.sortMap=r,n.sortStack=[],o&&i.sort(o),i=i.items,e=0;e<i.length;++e)r[(t=i[e]).id]||n.sortItem(t);n.sortMap=null,n.sortStack=null},sortItem:function(e){var t,n=this,i=n.sortMap,r=n.orderedItems;if(e.scheduler||n.add(e),t=e.id,e.scheduler!==n&&Ext.raise("Item "+t+" belongs to another Scheduler"),n.sortStack.push(e),0===i[t]){for(var o=[],a=0;a<n.sortStack.length;++a)o[a]=n.sortStack[a].getFullName();Ext.raise("Dependency cycle detected: "+o.join("\n --\x3e "))}return t in i||(i[t]=0,e.sort.$nullFn||e.sort(),i[t]=1,e.order=n.orderedItems.length,r.push(e)),n.sortStack.pop(),n},sortItems:function(e){var t=this.sortItem;return e&&(e instanceof Array?Ext.each(e,t,this):Ext.Object.eachValue(e,t,this)),this},applyPreSort:function(e){if("function"==typeof e)return e;var t,n,i,r=e.split(","),o=[],a=r.length;for(n=0;n<a;++n)o[n]=1,"-"===(t=(i=r[n]).charAt(0))?o[n]=-1:"+"!==t&&(t=0),t&&(r[n]=i.substring(1));return function(e,t){var n,i,s,l,d=0;for(n=0;!d&&n<a;++n)s=e[i=r[n]],l=t[i],d=o[n]*(s<l?-1:l<s?1:0);return d}},notify:function(){var e,t,n,i,r,o,a=this,s=a.timer,l=a.getCycleLimit(),d=Ext.GlobalEvents,c=a.suspendOnNotify;if(s&&(window.clearTimeout(s),a.timer=null),!a.firing&&a.scheduledCount){for(c&&Ext.suspendLayouts();a.scheduledCount;){if(!l){a.firing=null,a.onCycleLimitExceeded&&a.onCycleLimitExceeded();break}if(--l,o||(o=!0,d.hasListeners.beforebindnotify&&d.fireEvent("beforebindnotify",a)),++a.passes,(r=a.orderedItems)||(a.sort(),r=a.orderedItems),i=r.length)for(a.firing=a.items,t=0;t<i&&(!(n=r[t]).scheduled||(n.scheduled=!1,--a.scheduledCount,a.notifyIndex=t,n.react(),a.scheduledCount));++t);}a.firing=null,a.notifyIndex=-1,c&&Ext.resumeLayouts(!0)}(e=a.busyCounter)!==a.lastBusyCounter&&((a.lastBusyCounter=e)||a.fireEvent("idle",a))},onTick:function(){this.timer=null,this.notify()},scheduleItem:function(e){++this.scheduledCount,this.timer||this.firing||this.scheduleTick()},scheduleTick:function(){var e=this;e.destroyed||e.timer||(e.timer=Ext.Function.defer(e.onTick,e.getTickDelay(),e))},unscheduleItem:function(e){this.scheduledCount&&--this.scheduledCount},adjustBusy:function(e){var t=this,n=t.busyCounter+e;t.busyCounter=n,n?t.lastBusyCounter||(t.lastBusyCounter=n,t.fireEvent("busy",t)):t.lastBusyCounter&&!t.timer&&t.scheduleTick()},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)},debugHooks:{$enabled:!1,onCycleLimitExceeded:function(){Ext.raise("Exceeded cycleLimit "+this.getCycleLimit())},scheduleItem:function(e){e||Ext.raise("scheduleItem: Invalid argument"),Ext.log("Schedule item: "+e.getFullName()+" - "+(this.scheduledCount+1)),e.order<=this.notifyIndex&&Ext.log.warn("Suboptimal order: "+e.order+" < "+this.notifyIndex),this.callParent([e])},unscheduleItem:function(e){this.scheduledCount||Ext.raise("Invalid scheduleCount"),this.callParent([e]),Ext.log("Unschedule item: "+e.getFullName()+" - "+this.scheduledCount)}}}),Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.mixin.Observable"},config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.operations=[],this.exceptions=[]},add:function(e){var t,n,i=this;if(Ext.isArray(e))for(t=0,n=e.length;t<n;++t)i.add(e[t]);else i.total++,e.setBatch(i),i.operations.push(e);return i},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(e,t){var n=e.order-t.order;if(n)return n;var i,r=e.entityType,o=t.entityType;return r&&o?((i=r.rank)||(r.schema.rankEntities(),i=r.rank),(i-o.rank)*e.foreignKeyDirection):0},start:function(e){var t=this;return!t.operations.length||t.running?t:(t.exceptions.length=0,t.exception=!1,t.running=!0,t.runOperation(Ext.isDefined(e)?e:t.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.running&&this.runOperation(this.current+1),this},pause:function(){return this.running=!1,this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var e=null,t=this.current;return-1===t||this.complete||(e=this.operations[t]),e},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(e){var t=this,n=t.operations,i=n[e];return void 0===i?(t.running=!1,t.complete=!0,t.fireEvent("complete",t,n[n.length-1])):(t.current=e,i.setInternalCallback(t.onOperationComplete),i.setInternalScope(t),i.execute()),t},onOperationComplete:function(e){var t=this,n=e.hasException();n&&(t.exception=!0,t.exceptions.push(e),t.fireEvent("exception",t,e)),n&&t.getPauseOnException()?t.pause():(t.fireEvent("operationcomplete",t,e),t.runNextOperation())}}),Ext.define("Ext.data.matrix.Slice",{constructor:function(e,t){this.id=t,this.side=e,this.members={}},attach:function(e){var t=this;Ext.Assert.falsey(t.store,"Store is already attached"),t.store=e,e.matrix=t,e.on("load",t.onStoreLoad,t,{single:!0})},commit:function(){var e,t=this.members;for(e in t)t[e][2]=0},onStoreLoad:function(e){this.update(e.getData().items,0)},update:function(e,t){e instanceof Array||Ext.raise("Only array of records or record ids are supported");var n,i,r,o,a,s,l=this,d=Ext.data.matrix.Slice,c=l.side,u=c.index,h=e.length,f=l.id,g=l.members,p=c.inverse,m=p.slices;for(r=0;r<h;++r)i=null,n=g[a=(o=e[r]).isEntity?o.id:o],t<0&&n&&1===n[2]?(delete g[a],(s=m[a])&&delete s.members[f],i=1):n?t!==n[2]&&0!==t&&(n[2]=t,s=m[a],i=1):((n=[a,a,t])[u]=f,g[a]=n,(s=m[a])||(m[a]=s=new d(p,a)),s.members[f]=n,i=1),i&&(l.notify&&l.notify.call(l.scope,l,a,t),s&&s.notify&&s.notify.call(s.scope,s,f,t))},updateId:function(e){var t,n,i=this.id,r=this.side,o=r.slices,a=o[i],s=a.members,l=r.index,d=r.inverse.slices;for(t in this.id=e,o[e]=a,delete o[i],s)s[t][l]=e,(n=d[t].members)[e]=n[i],delete n[i]},destroy:function(){var e=this,t=e.store;t&&(t.matrix=null,t.un("load",e.onStoreLoad,e)),e.notify=e.scope=e.store=e.side=e.members=null,e.callParent()}}),Ext.define("Ext.data.matrix.Side",{requires:["Ext.data.matrix.Slice"],constructor:function(e,t,n){this.matrix=e,this.index=t,this.role=n,this.slices={}},commit:function(){var e,t=this.slices;for(e in t)t[e].commit()},get:function(e,t){var n=this.slices,i=n[e]||(n[e]=new Ext.data.matrix.Slice(this,e));return t||0===t?i.members[t]:i},update:function(e,t,n){return this.get(e).update(t,n)},updateId:function(e,t){var n=this.get(e);n&&n.updateId(t)},destroy:function(){var e,t=this,n=t.slices;for(e in n)n[e].destroy();t.inverse=t.matrix=t.role=t.slices=null,t.callParent()}}),Ext.define("Ext.data.matrix.Matrix",{requires:["Ext.data.matrix.Side"],constructor:function(e,t){var n=this,i=t.isManyToMany?t:e.getSchema().getAssociation(t),r=Ext.data.matrix.Side,o=new r(n,0,i.left),a=new r(n,1,i.right);Ext.Assert.truthy(i.isManyToMany,"Association is not many-to-many"),n.association=i,n.session=e,n.left=o,n.right=a,o.inverse=a,a.inverse=o},commit:function(){this.left.commit(),this.right.commit()},update:function(e,t,n){return this.left.update(e,t,n)},updateId:function(e,t,n){var i,r=e.self,o=this.left,a=this.right;r===o.role.cls&&(i=o),r===a.role.cls&&(i=a),i&&i.updateId(t,n)},destroy:function(){var e=this;e.left.destroy(),e.right.destroy(),e.association=e.session=e.left=e.right=null,e.callParent()}}),Ext.define("Ext.data.session.ChangesVisitor",{constructor:function(e){var t,n=this;n.session=e,t=e.getCrudProperties(),n.result=null,n.writerOptions={},n.createKey=t.create,n.readKey=t.read,n.updateKey=t.update,n.dropKey=t.drop},onDirtyRecord:function(e){var t,n,i,r,o=this,a=o.crud,s=e.phantom,l=e.dropped,d=e.$className,c=s||l?"allDataOptions":"partialDataOptions",u=o.writerOptions,h=e.entityName;if(s&&l)return!1;a=s?o.createKey:l?o.dropKey:o.updateKey,u=u[d]||(u[d]={}),l&&((t=u.drop)||(u.drop=t={all:e.getProxy().getWriter().getWriteAllFields()}),t.all||(i=e.id)),i||((t=u[c])||(t=e.getProxy().getWriter().getConfig(c),u[c]=t=Ext.Object.chain(t),o.setupOptions(t)),i=e.getData(t)),(n=(n=(r=o.result||(o.result={}))[h]||(r[h]={}))[a]||(n[a]=[])).push(i)},setupOptions:function(e){e.serialize=!0},onMatrixChange:function(e,t,n,i){var r,o,a=e.left.type,s=e.right.role,l=i<0?this.dropKey:this.createKey;(r=(r=(r=(r=(o=this.result||(this.result={}))[a]||(o[a]={}))[s]||(r[s]={}))[l]||(r[l]={}))[t]||(r[t]=[])).push(n)}}),Ext.define("Ext.data.session.ChildChangesVisitor",{extend:"Ext.data.session.ChangesVisitor",constructor:function(){this.seen={},this.callParent(arguments)},setupOptions:function(e){this.callParent([e]),e.serialize=!1},onDirtyRecord:function(e){!1!==this.callParent(arguments)&&(e.$source||!e.dropped&&e.phantom||this.readEntity(e))},readEntity:function(e){var t,n,i=this.readKey,r=e.entityName,o=e.id,a=this.seen,s=r+o;a[s]||(a[s]=!0,(n=(n=(t=this.result||(this.result={}))[r]||(t[r]={}))[i]||(n[i]=[])).push(Ext.apply({},e.modified,e.data)))}}),Ext.define("Ext.data.session.BatchVisitor",{map:null,constructor:function(e){this.batch=e},getBatch:function(e){var t,n,i,r,o,a=this.map,s=this.batch;if(a)for(i in s||(s=new Ext.data.Batch),a)for(r in o=(n=(t=a[i]).entity).getProxy(),delete t.entity,t)(r=o.createOperation(r,{records:t[r]})).entityType=n,s.add(r);return s&&!1!==e&&s.sort(),s},onDirtyRecord:function(e){var t=e.phantom?"create":e.dropped?"destroy":"update",n=e.$className,i=this.map||(this.map={}),r=i[n]||(i[n]={entity:e.self});(r=r[t]||(r[t]=[])).push(e)}}),Ext.define("Ext.mixin.Dirty",{mixinId:"dirty",config:{dirty:null},dirty:!1,_dirtyRecordCount:0,ignoreDirty:!1,recordStateIsDirtyState:!0,isDirty:function(){return this.getDirty()},applyDirty:function(e){return!this.ignoreDirty&&e},updateDirty:function(e,t){var n=this;n.dirty=e,!n.ignoreDirty&&n.fireEvent&&n.fireEvent("dirtychange",n,e)},clearRecordStates:function(){var e=this._crudCounters;e&&(e.C=e.U=e.D=0),this._dirtyRecordCount=0,this.recordStateIsDirtyState&&this.setDirty(!1)},trackRecordState:function(e,t){var n,i,r,o=this,a=o._crudCounters||(o._crudCounters={C:0,R:0,U:0,D:0}),s=o._dirtyRecordCount;return t||null===(r=e.crudStateWas)||--a[r],++a[e.crudState],o._dirtyRecordCount=i=a.C+a.U+a.D,(n=!i!=!s)&&o.recordStateIsDirtyState&&o.setDirty(i>0),n},untrackRecordState:function(e){var t,n,i=this,r=i._crudCounters,o=i._dirtyRecordCount;return r&&(--r[e.crudState],i._dirtyRecordCount=n=r.C+r.U+r.D,(t=!n!=!o)&&i.recordStateIsDirtyState&&i.setDirty(n>0)),t}}),Ext.define("Ext.data.Session",{requires:["Ext.data.schema.Schema","Ext.data.Batch","Ext.data.matrix.Matrix","Ext.data.session.ChangesVisitor","Ext.data.session.ChildChangesVisitor","Ext.data.session.BatchVisitor"],mixins:["Ext.mixin.Dirty","Ext.mixin.Observable"],isSession:!0,config:{schema:"default",parent:null,autoDestroy:!0,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},statics:{nextId:1},constructor:function(e){var t=this;t.data={},t.matrices={},t.id=Ext.data.Session.nextId++,t.identifierCache={},t.recordCreator=t.recordCreator.bind(t),t.mixins.observable.constructor.call(t,e)},destroy:function(){var e,t,n,i,r=this,o=r.matrices,a=r.data;for(i in o)o[i].destroy();for(e in a)for(i in t=a[e])(n=t[i].record)&&(n.$source=null,n.unjoin(r));r.identifierCache=r.recordCreator=r.matrices=r.data=null,r.setSchema(null),r.callParent()},adopt:function(e){var t,n=this,i=e.associations;if(n.checkModelType(e.self),e.session&&e.session!==n&&Ext.raise("Record already belongs to an existing session"),e.session!==n&&(e.session=n,n.add(e),i))for(t in i)i[t].adoptAssociated(e,n)},commit:function(){var e,t,n,i,r=this.data,o=this.matrices;for(e in r)for(n in t=r[e])(i=t[n].record)&&i.commit();for(n in o)o[n].commit();this.clearRecordStates()},createRecord:function(e,t){this.checkModelType(e);var n,i=e.$isClass?e:this.getSchema().getEntity(e),r=this.getParent();return t&&r&&(n=i.getIdFromData(t),r.peekRecord(i,n)&&Ext.raise("A parent session already contains an entry for "+i.entityName+": "+n)),new i(t,this)},getChanges:function(){var e=new Ext.data.session.ChangesVisitor(this);return this.visitData(e),e.result},getChangesForParent:function(){var e=new Ext.data.session.ChildChangesVisitor(this);return this.visitData(e),e.result},getRecord:function(e,t,n){var i,r,o,a,s=this,l=e.isModel;return l&&(l=e,t=e.id,e=e.self),(i=s.peekRecord(e,t))||(r=e.$isClass?e:s.getSchema().getEntity(e),(o=s.getParent())&&(a=o.peekRecord(r,t)),a&&(a.isLoading()?l=!1:(i=a.copy(void 0,s)).$source=a),i||(l?(i=l,s.adopt(i)):(i=r.createWithId(t,null,s),!1!==n&&i.load(Ext.isObject(n)?n:void 0)))),i},getSaveBatch:function(e){var t=new Ext.data.session.BatchVisitor;return this.visitData(t),t.getBatch(e)},onInvalidAssociationEntity:function(e,t){Ext.raise("Unable to read association entity: "+this.getModelIdentifier(e,t))},onInvalidEntityCreate:function(e,t){Ext.raise("Cannot create, record already not exists: "+this.getModelIdentifier(e,t))},onInvalidEntityDrop:function(e,t){Ext.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(e,t))},onInvalidEntityRead:function(e,t){Ext.raise("Cannot read, record already not exists: "+this.getModelIdentifier(e,t))},onInvalidEntityUpdate:function(e,t,n){n?Ext.raise("Cannot update, record dropped: "+this.getModelIdentifier(e,t)):Ext.raise("Cannot update, record does not exist: "+this.getModelIdentifier(e,t))},peekRecord:function(e,t,n){this.checkModelType(e);var i,r,o=(e.$isClass?e:this.getSchema().getEntity(e)).entityName,a=this.data[o];return!(i=(a=a&&a[t])&&a.record)&&n&&(i=(r=this.getParent())&&r.peekRecord(e,t,n)),i||null},save:function(){var e,t=this.getParent();t?(e=new Ext.data.session.ChildChangesVisitor(this),this.visitData(e),t.update(e.result),this.commit()):Ext.raise("Cannot commit session, no parent exists")},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(e){var t,n,i,r,o,a,s,l,d,c,u=this,h=u.getSchema(),f=u.crudOperations,g=f.length,p=u.crudKeys;for(t in u.getSchema().processKeyChecks(!0),e)for((n=h.getEntity(t))||Ext.raise("Invalid entity type: "+t),i=e[t],r=0;r<g;++r)(a=i[(o=f[r]).type])&&u[o.entityMethod](n,a);for(t in e)for(l in s=(n=h.getEntity(t)).associations,i=e[t])p[l]||((d=s[l])||Ext.raise("Invalid association key for "+t+', "'+l+'"'),c=i[d.role],d.processUpdate(u,c))},privates:{add:function(e){var t,n,i=e.id,r=this.getEntry(e.self,i);for(n in r.record&&Ext.raise("Duplicate id "+e.id+" for "+e.entityName),r.record=e,this.trackRecordState(e,!0),this.registerReferences(e),t=e.associations)t[n].checkMembership(this,e)},afterCommit:function(e){this.trackRecordState(e)},afterDrop:function(e){this.trackRecordState(e)},afterEdit:function(e){this.trackRecordState(e)},afterErase:function(e){this.evict(e)},applySchema:function(e){return Ext.data.schema.Schema.get(e)},checkModelType:function(e){e.$isClass&&(e=e.entityName),e?this.getSchema().getEntity(e)||Ext.raise("Unknown entity type "+e):Ext.raise("Unable to use anonymous models in a Session")},createEntities:function(e,t){var n,i,r,o,a=t.length;for(n=0;n<a;++n)i=t[n],o=e.getIdFromData(i),(r=this.peekRecord(e,o))?this.onInvalidEntityCreate(e,o):r=this.createRecord(e,i),r.phantom=!0},dropEntities:function(e,t){var n,i,r,o,a=t.length;for(a&&(o=Ext.isObject(t[0])),n=0;n<a;++n)r=t[n],o&&(r=e.getIdFromData(r)),(i=this.peekRecord(e,r))?i.drop():this.onInvalidEntityDrop(e,r)},evict:function(e){var t=e.entityName,n=this.data[t],i=e.id;n&&n[i]&&(this.untrackRecordState(e),e.unjoin(this),delete n[i])},getEntityList:function(e,t){var n,i,r,o,a=t.length;for(n=0;n<a;++n)i=t[n],(r=this.peekRecord(e,i))?t[n]=r:(o=!0,t[n]=null,this.onInvalidAssociationEntity(e,i));return o&&(t=Ext.Array.clean(t)),t},getEntry:function(e,t){e.isModel&&(t=e.getId(),e=e.self);var n,i=(e.$isClass?e:this.getSchema().getEntity(e)).entityName,r=this.data;return n=(n=r[i]||(r[i]={}))[t]||(n[t]={})},getRefs:function(e,t,n){var i,r,o,a=this.getEntry(e),s=a&&a.refs&&a.refs[t.role],l=n&&this.getParent();if(l&&(i=l.getRefs(e,t))){for(r in i)o=i[r],s&&s[r]||this.getRecord(o.self,o.id);s=a&&a.refs&&a.refs[t.role]}return s||null},getIdentifier:function(e){var t,n,i,r,o=this.getParent();return o?r=o.getIdentifier(e):(r=(t=this.identifierCache)[i=(n=e.identifier).getId()||e.entityName])||(r=n.clone?n.clone({id:null}):n,t[i]=r),r},getMatrix:function(e,t){var n,i=e.isManyToMany?e.name:e,r=this.matrices;return(n=r[i])||t||(n=r[i]=new Ext.data.matrix.Matrix(this,e)),n||null},getMatrixSlice:function(e,t){return this.getMatrix(e.association)[e.side].get(t)},getModelIdentifier:function(e,t){return t+"@"+e.entityName},onIdChanged:function(e,t,n){var i,r,o,a,s,l,d=this.matrices,c=e.entityName,u=e.id,h=this.data[c],f=h[t],g=e.associations,p=f.refs,m=this._setNoRefs;for(l in h[n]&&Ext.raise("Cannot change "+c+" id from "+t+" to "+n+" id already exists"),delete h[t],h[n]=f,d)d[l].updateId(e,t,n);if(p)for(a in p)if(s=p[a],!(i=g[a].association).isManyToMany)for(o in r=i.field.name,s)s[o].set(r,u,m);this.registerReferences(e,t)},processManyBlock:function(e,t,n,i){var r,o,a,s;if(n)for(r in n)(o=this.peekRecord(e,r))?(a=this.getEntityList(t.cls,n[r]),s=t.getAssociatedItem(o),this[i](t,s,o,a)):this.onInvalidAssociationEntity(e,r)},processManyCreate:function(e,t,n,i){t?t.add(i):n[e.getterName](null,null,i)},processManyDrop:function(e,t,n,i){t&&t.remove(i)},processManyRead:function(e,t,n,i){t?t.setRecords(i):n[e.getterName](null,null,i)},readEntities:function(e,t){var n,i,r,o,a=t.length;for(n=0;n<a;++n)i=t[n],o=e.getIdFromData(i),(r=this.peekRecord(e,o))?this.onInvalidEntityRead(e,o):r=this.createRecord(e,i),r.phantom=!1},recordCreator:function(e,t){var n=t.getIdFromData(e),i=this.peekRecord(t,n,!0);return i=i?this.getRecord(t,n):new t(e,this)},registerReferences:function(e,t){e.entityName;var n,i,r,o,a,s,l,d,c=e.id,u=e.data,h=t||0===t;for(o=(s=e.references).length,i=0;i<o;++i)((r=u[(a=s[i]).name])||0===r)&&((a=a.reference).type,d=a.inverse.role,(l=(l=(n=this.getEntry(a.cls,r)).refs||(n.refs={}))[d]||(l[d]={}))[c]=e,h&&delete l[t])},updateEntities:function(e,t){var n,i,r,o,a=t.length;if(Ext.isArray(t))for(n=0;n<a;++n)i=t[n],o=e.getIdFromData(i),(r=this.peekRecord(e,o))?r.set(i):this.onInvalidEntityUpdate(e,o);else for(o in t)i=t[o],(r=this.peekRecord(e,o))&&!r.dropped?r.set(i):this.onInvalidEntityUpdate(e,o,!!r)},updateReference:function(e,t,n,i){var r,o,a=t.reference,s=a.type,l=a.inverse.role,d=e.id;(i||0===i)&&delete(o=this.getEntry(s,i).refs[l])[d],(n||0===n)&&((o=(o=(r=this.getEntry(s,n)).refs||(r.refs={}))[l]||(o[l]={}))[d]=e)},visitData:function(e){var t,n,i,r,o,a,s,l,d,c,u=this.data,h=this.matrices;for(s in this.getSchema().processKeyChecks(!0),u)for(i in t=u[s])(l=t[i].record)&&(l.phantom||l.dirty||l.dropped?e.onDirtyRecord&&e.onDirtyRecord(l):e.onCleanRecord&&e.onCleanRecord(l));if(e.onMatrixChange)for(s in h)for(i in d=(o=h[s].left).slices,n=o.role.association,d)for(r in a=d[i].members)(c=(l=a[r])[2])&&e.onMatrixChange(n,l[0],l[1],c);return e},_setNoRefs:{refs:!1}}}),Ext.define("Ext.util.Schedulable",{abstract:!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var e=this,t=e.getScheduler();t&&t.remove(e),e.scheduler=null,e.schedule=e.react=Ext.emptyFn,e.callParent()},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var e,t=this;t.scheduled||(e=t.getScheduler())&&(t.scheduled=!0,t.onSchedule&&t.onSchedule(),e.scheduleItem(t))},unschedule:function(){var e;this.scheduled&&((e=this.getScheduler())&&e.unscheduleItem(this),this.scheduled=!1)},sort:function(){}}}),Ext.define("Ext.app.bind.BaseBinding",{extend:"Ext.util.Schedulable",calls:0,kind:20,defaultOptions:{},lastValue:void 0,constructor:function(e,t,n,i){var r=this;r.options=i,r.owner=e,r.scope=n,r.callback=t,t||Ext.raise("Callback is required"),r.lateBound=Ext.isString(t),i&&i.deep&&(r.deep=!0),r.callParent()},destroy:function(){var e=this,t=e.owner;t&&t.onBindDestroy(e),e.callParent(),e.scope=e.callback=e.owner=null},isReadOnly:function(){return!0},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},getSession:function(){var e=this.owner;return e.isSession?e:e.getSession()},notify:function(e){var t=this,n=t.options||t.defaultOptions,i=t.lastValue;(!t.calls||t.deep||t.valueChanged(e,i))&&(++t.calls,t.lastValue=e,t.lateBound?t.scope[t.callback](e,i,t):t.callback.call(t.scope,e,i,t),n.single&&t.destroy())},valueChanged:function(e,t){var n=!0;return t!==e?e&&t&&e instanceof Date&&t instanceof Date&&(n=e.getTime()!==t.getTime()):n=Ext.isArray(e),n}}}),Ext.define("Ext.app.bind.Binding",{extend:"Ext.app.bind.BaseBinding",constructor:function(e,t,n,i){this.callParent([e.owner,t,n,i]),this.stub=e,this.depth=e.depth,e.isLoading()||e.scheduled||this.schedule()},destroy:function(e){var t=this.stub;t&&!e&&(t.unbind(this),this.stub=null),this.callParent()},bindValidation:function(e,t){var n=this.stub;return n&&n.bindValidation(e,t)},bindValidationField:function(e,t){var n=this.stub;return n&&n.bindValidationField(e,t)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var e=this.stub;return e&&e.getValue()},isLoading:function(){var e=this.stub;return e&&e.isLoading()},isReadOnly:function(){var e=this.stub,t=this.options,n=!0;return t&&!1===t.twoWay||e&&(n=e.isReadOnly()),n},refresh:function(){},setValue:function(e){this.isReadOnly()&&Ext.raise("Cannot setValue on a readonly binding"),this.stub.set(e)},privates:{getDataObject:function(){var e=this.stub;return e&&e.getDataObject()},getRawValue:function(){var e=this.stub;return e&&e.getRawValue()},isDescendantOf:function(e){var t=this.stub;return!!t&&(e===t||t.isDescendantOf(e))},react:function(){this.notify(this.getValue())},schedule:function(){this.stub.scheduled||this.callParent()},sort:function(){var e=this.stub;e.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.AbstractStub",{extend:"Ext.util.Schedulable",requires:["Ext.app.bind.Binding"],children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(e,t){this.owner=e,this.name=t,this.callParent()},destroy:function(){var e,t,n,i=this,r=i.children,o=i.bindings;if(o)for(t=0,e=o.length;t<e;++t)o[t].destroy(!0);for(n in r)r[n].destroy();i.scheduled&&i.unschedule(),i.callParent()},add:function(e){(this.children||(this.children={}))[e.name]=e,e.depth=this.depth+1,e.parent=this},getChild:function(e){var t=Ext.isString(e)?e.split("."):e;return t&&t.length?this.descend(t,0):this},getFullName:function(){var e,t=this,n=t.fullName,i=t.parent;return n||(n=t.name||t.id,i&&(e=i.getFullName())&&(n=(":"!==e.charAt(e.length-1)?e+".":e)+n),t.fullName=n),n},getSession:function(){var e=this.owner;return e.isSession?e:e.getSession()},bind:function(e,t,n){var i=new Ext.app.bind.Binding(this,e,t,n),r=this.bindings||(this.bindings=[]);return i.depth=this.depth,r.push(i),i},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(e){var t,n=this,i=n.bindings,r=n.name;if(n.parent=n.bindings=null,n.destroy(),e.depth=n.depth,e.bindings=i,e.generation=n.generation+1,e.name=r,e.id=n.id,e.path=n.path,i)for(t=i.length;t-- >0;)i[t].stub=e;return e},isDescendantOf:function(e){for(var t=this;t=t.parent;)if(t===e)return!0;return!1},onSchedule:function(){for(var e,t,n,i,r=this.parent;r;r=r.parent)if(i=r.bindings)for(e=0,t=i.length;e<t;++e)(n=i[e]).deep&&!n.scheduled&&n.schedule()},react:function(){var e,t,n,i=this.bindings;if(i)for(t=0,n=i.length;t<n;++t)(e=i[t]).scheduled||e.schedule()},unbind:function(e){var t=this.bindings;t&&t.length&&Ext.Array.remove(t,e)},privates:{collect:function(){var e,t,n=this.children,i=this.bindings,r=0,o=0;if(n)for(t in n)0===(o=(e=n[t]).collect())&&(e.destroy(),delete n[t]),r+=o;return i&&(r+=i.length),r},getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},sort:function(){var e=this.parent;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.Stub",{extend:"Ext.app.bind.AbstractStub",requires:["Ext.app.bind.Binding"],isStub:!0,dirty:!0,formula:null,validationKey:"validation",constructor:function(e,t,n){var i=this,r=t;i.callParent([e,t]),i.boundValue=null,n&&(n.add(i),n.isRootStub||(r=n.path+"."+t),i.checkHadValue()),i.path=r},destroy:function(){var e=this.formula,t=this.storeBinding;e&&e.destroy(),t&&t.destroy(),this.detachBound(),this.callParent()},bindValidation:function(e,t){var n=this.parent;return n&&n.descend([this.validationKey,this.name]).bind(e,t)},bindValidationField:function(e,t){var n,i=this.parent,r=this.name,o="string"==typeof e;return i&&(n=i.bind(function(n){var i=null;n&&n.isModel&&(i=n.getField(r)),o?t[e](i,n,this):e.call(t,i,n,this)})),n||null},descend:function(e,t){var n,i=this.children||(this.children={}),r=t||0,o=e[r++];return(n=i[o])||(n=new Ext.app.bind.Stub(this.owner,o,this)),r<e.length&&(n=n.descend(e,r)),n},getChildValue:function(e){var t,n=this.name;return e||Ext.isString(e)?(t=this.inspectValue(e))||(t=e.isEntity?e.data[n]:e[n]):t=this.hadValue?null:void 0,t},getDataObject:function(){var e,t=this.parent.getDataObject(),n=this.name,i=t?t[n]:null;return!i&&t&&t.isEntity&&(e=t.associations)&&n in e&&(i=t[e[n].getterName]()),i&&(i.$className||Ext.isObject(i))||(t[n]=i={},this.hadValue=!0,this.invalidate(!0,!0)),i},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(e){var t,n=this,i=n.parent,r=n.children,o=n.name;if(e.parent=i,e.children=r,i&&(i.children[o]=e),r)for(t in r)r[t].parent=e;return n.children=null,e.checkHadValue(),n.callParent([e])},isLoading:function(){var e,t,n,i,r=this,o=r.parent,a=!1;return o&&!(a=o.isLoading())&&(t=r.getParentValue(),(n=r.inspectValue(t))?a=n.isLoading():(t&&t.isModel&&((e=t.associations)&&r.name in e||(a=!1,i=!0)),i||(a=!r.hadValue&&void 0===r.getRawValue()))),a},invalidate:function(e,t){var n,i=this,r=i.children;if(i.checkHadValue(),i.dirty=!0,t||i.isLoading()||i.scheduled||i.schedule(),e&&r)for(n in r)r[n].invalidate(e,t)},isReadOnly:function(){var e=this.formula;return!(!e||e.set)},set:function(e){var t,n,i,r,o=this,a=o.parent,s=o.name,l=o.formula;if(l&&!l.settingValue&&l.set)l.setValue(e);else{if(o.isLinkStub&&(l=(i=o.getLinkFormulaStub())?i.formula:null))return i.isReadOnly()&&Ext.raise("Cannot setValue on a readonly formula"),void l.setValue(e);(t=a.getDataObject()).isEntity?(n=t.associations)&&s in n?((r=n[s].setterName)&&t[r](e),o.invalidate(!0)):t.set(s,e):(e&&e.constructor===Object||e!==t[s])&&(o.setByLink(e)||(void 0===e?delete t[s]:t[s]=e,o.inspectValue(t),o.invalidate(!0)))}},onStoreLoad:function(){this.invalidate(!0)},afterLoad:function(e){this.invalidate(!0)},afterCommit:function(e){this.afterEdit(e,null)},afterEdit:function(e,t){var n,i,r,o=this.children,a=t&&t.length,s=e.associations;if(o)if(a)for(i=0;i<a;++i)(r=o[t[i]])&&r.invalidate();else for(n in o)s&&n in s||o[n].invalidate();this.invalidate()},afterReject:function(e){this.afterEdit(e,null)},afterAssociatedRecordSet:function(e,t,n){var i=this.children,r=n.role;i&&r in i&&i[r].invalidate(!0)},setByLink:function(e){var t,n,i,r,o=0;for(r=this;r;r=r.parent){if(r.isLinkStub){if(n=r,o)for(i=[],t=0,r=this;r!==n;r=r.parent)i[o-++t]=r.name;break}++o}return!(!n||!(r=n.getTargetStub()))&&(i&&(r=r.descend(i)),r.set(e),!0)},setFormula:function(e){var t=this.formula;t&&t.destroy(),this.formula=new Ext.app.bind.Formula(this,e)},react:function(){var e,t=this.boundValue,n=this.children;if(t)if(t.isValidation){if(t.refresh(),e=t.generation,this.lastValidationGeneration===e)return;this.lastValidationGeneration=e}else if(t.isModel)n&&n[this.validationKey]&&t.isValid();else if(t.isStore&&t.isLoading()&&!t.loadCount)return;this.callParent()},privates:{checkHadValue:function(){this.hadValue||(this.hadValue=void 0!==this.getRawValue())},collect:function(){return this.callParent()+(this.storeBinding?1:0)+(this.formula?1:0)},getLinkFormulaStub:function(){for(var e=this;e.isLinkStub;)e=e.binding.stub;return e.formula?e:null},getParentValue:function(){var e=this;return e.dirty&&(e.parentValue=e.parent.getValue(),e.dirty=!1),e.parentValue},setStore:function(e){this.storeBinding=e},inspectValue:function(e){var t,n,i=this,r=i.name,o=i.boundValue,a=null;return e&&e.isEntity?(t=e.associations)&&r in t?(a=e[t[r].getterName]())&&a.isStore&&(a.$associatedStore=!0):r===i.validationKey&&(a=e.getValidation(),i.lastValidationGeneration=null):e&&(n=e[r])&&(n.isModel||n.isStore)&&(a=n),o!==a&&(o&&i.detachBound(),a&&(a.isModel?a.join(i):(!a.associatedEntity||!1===a.autoLoad||a.complete||a.hasPendingLoad()||a.load(),a.on({scope:i,load:{fn:"onStoreLoad",single:!0},destroy:"onDestroyBound"}))),i.boundValue=a),a},detachBound:function(){var e=this.boundValue;e&&(e.isModel?e.unjoin(this):e.un({scope:this,load:"onStoreLoad",destroy:"onDestroyBound"}))},onDestroyBound:function(){this.owner.destroying||this.set(null)},sort:function(){var e=this.formula,t=this.scheduler,n=this.storeBinding;this.callParent(),n&&t.sortItem(n),e&&t.sortItem(e)}}}),Ext.define("Ext.app.bind.LinkStub",{extend:"Ext.app.bind.Stub",isLinkStub:!0,binding:null,destroy:function(){var e=this,t=e.binding,n=e.owner;t&&(e.binding=null,t.destroy(),n&&delete n.linkData[e.name]),e.target=null,e.callParent()},getFullName:function(){return this.fullName||(this.fullName="("+this.callParent()+" -> "+this.binding.getFullName()+")")},getDataObject:function(){var e=this.binding;return e&&e.getDataObject()},getRawValue:function(){var e=this.binding;return e&&e.getRawValue()},getValue:function(){var e=this.binding;return e&&e.getValue()},getTargetStub:function(){var e=this.binding;return e&&e.stub},isLoading:function(){var e=this.binding;return!!e&&e.isLoading()},link:function(e,t){var n=this,i=n.binding;i&&i.destroy(),t=n.target=t||n.owner,n.linkDescriptor=e,n.binding=t.bind(e,n.onChange,n),n.binding.deep=!0},onChange:function(){this.invalidate(!0)},react:function(){this.owner.linkData[this.name]=this.getValue(),this.callParent()},privates:{collect:function(){return this.callParent()+(this.binding?1:0)},sort:function(){var e=this.binding;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.RootStub",{extend:"Ext.app.bind.AbstractStub",requires:["Ext.app.bind.LinkStub","Ext.app.bind.Stub"],isRootStub:!0,depth:0,createRootChild:function(e,t){var n,i,r=this.owner,o=r.getData(),a=this.children,s=a&&a[e],l=s?null:this;return t||o.hasOwnProperty(e)||!(n=r.getParent())?i=new Ext.app.bind.Stub(r,e,l):(i=new Ext.app.bind.LinkStub(r,e,s?null:l)).link("{"+e+"}",n),s&&s.graft(i),i},createStubChild:function(e){return this.createRootChild(e,!0)},descend:function(e,t){var n=this.children,i=t||0,r=e[i++],o=n&&n[r]||this.createRootChild(r);return i<e.length&&(o=o.descend(e,i)),o},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return!1},isLoading:function(){return!1},set:function(e){e&&e.constructor===Object||Ext.raise("Only an object can be set at the root");var t,n,i,r,o=this,a=o.children||(o.children={}),s=o.owner,l=s.data,d=s.getParent();for(r in e)r.indexOf(".")>=0&&Ext.raise("Value names cannot contain dots"),void 0!==(i=e[r])?((n=a[r])?n.isLinkStub&&(n.getLinkFormulaStub()||(t=n,n=new Ext.app.bind.Stub(s,r),t.graft(n))):n=new Ext.app.bind.Stub(s,r,o),n.set(i)):l.hasOwnProperty(r)&&(delete l[r],(n=a[r])&&(!n.isLinkStub&&d&&(n=o.createRootChild(r)),n.invalidate(!0)))},schedule:Ext.emptyFn,unschedule:Ext.emptyFn}),Ext.define("Ext.app.bind.Multi",{extend:"Ext.app.bind.BaseBinding",isMultiBinding:!0,missing:1,deep:!0,constructor:function(e,t,n,i,r){var o=this,a=r&&r.trackStatics;o.callParent([t,n,i,r]),o.bindings=[],o.literal=e.$literal,e.constructor===Object?(a&&(o.staticKeys=[]),o.addObject(e,o.lastValue={},o.staticKeys)):o.addArray(e,o.lastValue=[]),--o.missing||o.scheduled||o.schedule()},destroy:function(){this.bindings=Ext.destroy(this.bindings),this.callParent()},add:function(e,t,n){var i,r,o=this,a=o.owner,s=o.bindings,l=o.literal?e.reference?"bindEntity":"bindExpression":"bind";return++o.missing,r=(i=a[l](e,function(e){t[n]=e,1===i.calls&&--o.missing,o.missing||o.scheduled||o.schedule()},o,null)).depth,(!s.length||r<o.depth)&&(o.depth=r),s.push(i),!this.isBindingStatic(i)},addArray:function(e,t){var n,i,r,o=e.length,a=!1;for(r=0;r<o;++r)(i=e[r])&&(i.reference||Ext.isString(i))?n=this.add(i,t,r):Ext.isArray(i)?n=this.addArray(i,t[r]=[]):i&&i.constructor===Object?n=this.addObject(i,t[r]={}):(t[r]=i,n=!1),a=a||n;return a},addObject:function(e,t,n){var i,r,o,a=!1;for(o in e)(r=e[o])&&(r.reference||Ext.isString(r))?i=this.add(r,t,o):Ext.isArray(r)?i=this.addArray(r,t[o]=[]):r&&r.constructor===Object?i=this.addObject(r,t[o]={}):(t[o]=r,i=!1),n&&!i&&n.push(o),a=a||i;return a},getFullName:function(){var e,t=this.fullName,n=this.bindings,i=n.length;if(!t){for(t="@[",e=0;e<i;++e)e&&(t+=","),t+=n[e].getFullName();t+="]",this.fullName=t}return t},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return!1},isLoading:function(){for(var e=this.bindings,t=e.length;t-- >0;)if(e[t].isLoading())return!0;return!1},isBindingStatic:function(e){return e.isTemplateBinding&&e.isStatic},isStatic:function(){var e,t,n=this.bindings,i=n.length;for(e=0;e<i;++e)if(t=n[e],!this.isBindingStatic(t))return!1;return!0},pruneStaticKeys:function(){var e,t=Ext.apply({},this.lastValue),n=this.staticKeys,i=n.length;for(e=0;e<i;++e)delete t[n[e]];return t},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}}),Ext.define("Ext.app.bind.Formula",{extend:"Ext.util.Schedulable",requires:["Ext.util.LruCache"],statics:{getFormulaParser:function(e){var t,n=this.formulaCache;return n||(n=this.formulaCache=new Ext.util.LruCache({maxSize:20})),(t=n.get(e))||(t=new RegExp("[^\\.a-z0-9_]"+e+"\\(\\s*(['\"])(.*?)\\1\\s*\\)","gi"),n.add(e,t)),t}},isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(e,t){var n,i,r,o,a=this,s=e.owner;a.owner=s,a.stub=e,a.callParent(),t instanceof Function?a.get=r=t:(a.get=r=t.get,a.set=t.set,i=t.bind,t.single&&(a.single=t.single),i&&(n=i.bindTo)&&(delete(o=Ext.apply({},i)).bindTo,i=n)),r||Ext.raise("Must specify a getter method for a formula"),i?a.explicit=!0:i=r.$expressions||a.parseFormula(r),a.binding=s.bind(i,a.onChange,a,o)},destroy:function(){var e=this,t=e.binding,n=e.stub;t&&(t.destroy(),e.binding=null),n&&(n.formula=null),e.callParent(),e.getterFn=e.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+this.callParent()+")")},getRawValue:function(){return this.calculation},onChange:function(){this.scheduled||this.schedule()},parseFormula:function(e){var t,n,i,r,o=e.toString(),a={$literal:!0};for(n=(t=this.argumentNamesRe.exec(o))?t[1]:"get",i=Ext.app.bind.Formula.getFormulaParser(n);t=i.exec(o);)a[r=t[2]]=r;return a.$literal=!0,e.$expressions=a,a},react:function(){var e,t=this,n=t.owner,i=t.binding.lastValue;t.getterFn;e=t.explicit?i:n.getFormulaFn(i),t.settingValue=!0,t.stub.set(t.calculation=t.get.call(n,e)),t.settingValue=!1,t.single&&t.destroy()},setValue:function(e){this.set.call(this.stub.owner,e)},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},sort:function(){var e=this.binding;e.destroyed||this.scheduler.sortItem(e)}}}),Ext.define("Ext.util.Fly",{inheritableStatics:{flyPoolSize:2,fly:function(){var e=this,t=e.flyweights||(e.flyweights=[]),n=t.length?t.pop():new e;return n.reset.apply(n,arguments),n}},release:function(){var e=this.self,t=e.flyweights||(e.flyweights=[]);this.reset(),t.length<e.flyPoolSize&&t.push(this)},reset:Ext.emptyFn}),Ext.define("Ext.parse.Tokenizer",function(e){var t=e.flyweights=[],n={literal:!0,boolean:!0},i={error:!0},r={ident:!0},o={literal:!0,nil:!0},a={literal:!0,number:!0},s={literal:!0,string:!0};return{extend:"Ext.util.Fly",isTokenizer:!0,statics:{BOOLEAN:n,ERROR:i,IDENT:r,LITERAL:{literal:!0},NULL:o,NUMBER:a,STRING:s},config:{keywords:{null:{type:"literal",is:o,value:null},false:{type:"literal",is:n,value:!1},true:{type:"literal",is:n,value:!0}},operators:{"+":"plus","-":"minus","*":"multiply","/":"divide","!":"bang",",":"comma",":":"colon","[":"arrayOpen","]":"arrayClose","{":"curlyOpen","}":"curlyClose","(":"parenOpen",")":"parenClose"}},error:null,index:-1,constructor:function(e){this.operators={},this.initConfig(e)},next:function(){var e=this.peek();return this.head=void 0,e},peek:function(){var e=this.error,t=this.head;return e||(void 0===t&&(this.head=t=this.advance()),t)},release:function(){this.reset(),t.length<e.flyPoolSize&&t.push(this)},reset:function(e,t,n){var i=this;return i.error=null,i.head=void 0,i.index=-1,i.text=e||null,i.pos=t||0,i.end=e&&null==n?e.length:n,i},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:void 0,pos:0,text:null,applyOperators:function(e){var t,n,i,r,o,a,s,l=this.operators;for(s in e){for(t=l,a=e[s],o=s.length,r=0;r<o;++r)t=t[n=s.charAt(r)]||(t[n]={});a?(t.token=i={type:"operator",value:s,is:{operator:!0}},i.is[a]=!0):t.token=null}},advance:function(){for(var e,t=this,n=t.spaceRe,i=t.text,r=t.end;t.pos<r;){if(e=i.charAt(t.pos),!n.test(e))return t.index=t.pos,t.parse(e);++t.pos}return null},parse:function(e){var t,n=this,i=n.digitRe,r=n.text,o=n.end;return"."===e&&n.pos+1<o&&i.test(r.charAt(n.pos+1))&&(t=n.parseNumber()),!t&&n.operators[e]&&(t=n.parseOperator(e)),t||(t='"'===e||"'"===e?n.parseString():i.test(e)?n.parseNumber():n.identFirstRe.test(e)?n.parseIdent():n.syntaxError("Unexpected character")),t},parseIdent:function(){for(var e,t,n=this,i=n.identRe,o=n.getKeywords(),a=!n.operators["."],s=n.text,l=n.pos,d=l,c=n.end,u=0;d<c;){if(e=s.charAt(d),a&&"."===e){if("."===u)return n.syntaxError(d,"Unexpected dot operator");++d}else{if(!i.test(e))break;++d}u=e}return"."===u?n.syntaxError(d-1,"Unexpected dot operator"):(t=s.substring(l,n.pos=d),o&&o[t]||{type:"ident",is:r,value:t})},parseNumber:function(){for(var e,t,n,i,r=this,o=r.digitRe,s=r.text,l=r.pos,d=r.end;r.pos<d;)if("-"===(e=s.charAt(r.pos))||"+"===e){if(r.pos!==l)return r.syntaxError(l,"Invalid number");++r.pos}else if("."===e){if(t)break;t=!0,++r.pos}else if("e"===e||"E"===e){if(n)break;t=n=!0,"-"!==(e=s.charAt(++r.pos))&&"+"!==e||++r.pos}else{if(!o.test(e))break;++r.pos}return i={type:"literal",is:a,value:+s.substring(l,r.pos)},isFinite(i.value)||(i=r.syntaxError(l,"Invalid number")),i},parseOperator:function(e){for(var t,n,i,r=this,o=r.operators,a=r.text,s=r.end,l=r.pos;o[e]&&(++l,(i=(o=o[e]).token)&&(t=i,n=l),l<s);)e=a.charAt(l);return t&&(r.pos=n),t},parseString:function(){var e,t,n,i=this,r=i.text,o=i.pos,a=o,l=i.end,d="";for(n=r.charAt(o++);o<l;){if((e=r.charAt(o++))===n){t=!0;break}"\\"===e&&o<l&&(e=r.charAt(o++)),d+=e}return i.pos=o,t?{type:"literal",is:s,value:d}:i.syntaxError(a,"Unterminated string")},syntaxError:function(e,t){"string"==typeof e&&(t=e,e=this.pos);var n=null==e?"":" (at index "+e+")",r=new Error(t+n);return r.type="error",r.is=i,n&&(r.at=e),this.error=r}}}}),Ext.define("Ext.parse.Symbol",{priority:0,constructor:function(e,t){var n=this.defaultProperty;t&&"object"==typeof t?Ext.apply(this,t):void 0!==t&&n&&(this[n]=t),this.id=e},dump:function(){var e,t=this,n={at:t.at,arity:t.arity};if("value"in t&&(n.value=t.value),t.lhs&&(n.lhs=t.lhs.dump(),n.rhs=t.rhs.dump()),t.operand&&(n.operand=t.operand.dump()),t.args)for(n.args=[],e=0;e<t.args.length;++e)n.args.push(t.args[e].dump());return n},led:function(){this.parser.syntaxError(this.at,"Missing operator")},nud:function(){this.parser.syntaxError(this.at,"Undefined")},update:function(e){if(e&&"object"==typeof e){var t=e.priority,n=e.led,i=e.nud;this.priority<=t&&(this.priority=t),n&&(this.led=n),i&&(this.nud=i)}}}),Ext.define("Ext.parse.symbol.Constant",{extend:"Ext.parse.Symbol",arity:"literal",isLiteral:!0,defaultProperty:"value",constructor:function(e,t){this.callParent([e,t]),this._value=this.value},nud:function(){var e=this;return e.value=e._value,e.arity="literal",e.isLiteral=!0,e}}),Ext.define("Ext.parse.symbol.Infix",{extend:"Ext.parse.Symbol",arity:"binary",isBinary:!0,defaultProperty:"priority",led:function(e){var t=this;return t.lhs=e,t.rhs=t.parser.parseExpression(t.priority),t.arity="binary",t.isBinary=!0,t}}),Ext.define("Ext.parse.symbol.InfixRight",{extend:"Ext.parse.symbol.Infix",led:function(e){var t=this;return t.lhs=e,t.rhs=t.parser.parseExpression(t.priority-1),t.arity="binary",t.isBinary=!0,t}}),Ext.define("Ext.parse.symbol.Paren",{extend:"Ext.parse.Symbol",arity:"binary",isBinary:!0,priority:80,led:function(e){var t=this,n=[],i=t.parser,r=e.id,o=e.arity;for("."!==r&&"["!==r&&("unary"===o&&"function"===r||"ident"===o||"("===r||"&&"===r||"||"===r||"?"===r||i.syntaxError(e.at,"Expected a variable name.")),t.arity="invoke",t.isInvoke=!0,t.operand=e,t.args=n;")"!==i.token.id;)n.length&&i.advance(","),n.push(i.parseExpression());return i.advance(")"),t},nud:function(){var e=this.parser,t=e.parseExpression();return e.advance(")"),t}}),Ext.define("Ext.parse.symbol.Prefix",{extend:"Ext.parse.Symbol",arity:"unary",isUnary:!0,priority:70,nud:function(){var e=this;return e.operand=e.parser.parseExpression(e.priority),e.arity="unary",e.isUnary=!0,e}}),Ext.define("Ext.parse.Parser",function(){var e=function(){return this};return{extend:"Ext.util.Fly",requires:["Ext.parse.Tokenizer","Ext.parse.symbol.Constant","Ext.parse.symbol.InfixRight","Ext.parse.symbol.Paren","Ext.parse.symbol.Prefix"],isParser:!0,config:{constants:{null:null,false:!1,true:!0},infix:{"+":50,"-":50,"*":60,"/":60},infixRight:{"&&":30,"||":30},prefix:{"!":0,"-":0,"+":0},symbols:{":":0,",":0,")":0,"[":0,"]":0,"{":0,"}":0,"(end)":0,"(ident)":{arity:"ident",isIdent:!0,nud:e},"(literal)":{arity:"literal",isLiteral:!0,nud:e},"(":{xclass:"Ext.parse.symbol.Paren"}},tokenizer:{keywords:null}},token:null,constructor:function(e){this.symbols={},this.initConfig(e)},advance:function(e){var t,n,i,r=this,o=r.tokenizer,a=o.peek(),s=r.symbols,l=o.index;if(r.error)throw r.error;return e&&r.expect(e),a?(o.next(),t=a.is,i=a.value,t.ident?n=s[i]||s["(ident)"]:t.operator?(n=s[i])||r.syntaxError(a.at,'Unknown operator "'+i+'"'):t.literal?n=s["(literal)"]:r.syntaxError(a.at,"Unexpected token"),r.token=n=Ext.Object.chain(n),n.at=l,n.value=i,n.arity||(n.arity=a.type),n):r.token=s["(end)"]},expect:function(e){var t=this.token;return e!==t.id&&this.syntaxError(t.at,'Expected "'+e+'"'),this},parseExpression:function(e){var t,n=this.token;for(e=e||0,this.advance(),t=n.nud();e<(n=this.token).priority;)this.advance(),t=n.led(t);return t},reset:function(e,t,n){var i=this;return i.error=i.token=null,i.tokenizer.reset(e,t,n),i.advance(),i},syntaxError:function(e,t){"string"==typeof e&&(t=e,e=this.pos);var n=null==e?"":" (at index "+e+")",i=new Error(t+n);throw i.type="error",n&&(i.at=e),this.error=i},privates:{error:null,addSymbol:function(e,t,n,i){var r,o,a,s=this.symbols,l=s[e];if(l){if("object"==typeof t)r=t;else{if(!i||!n)return l;for(o=(i=Ext.Array.from(i)).length,r={},a=0;a<o;a++)r[i[a]]=n.prototype[i[a]]}l.update(r)}else n=t&&t.xclass?Ext.ClassManager.get(t.xclass):n||Ext.parse.Symbol,s[e]=l=new n(e,t),l.parser=this;return l},addSymbols:function(e,t,n){for(var i in e)this.addSymbol(i,e[i],t,n)},applyConstants:function(e){this.addSymbols(e,Ext.parse.symbol.Constant,"nud")},applyInfix:function(e){this.addSymbols(e,Ext.parse.symbol.Infix,"led")},applyInfixRight:function(e){this.addSymbols(e,Ext.parse.symbol.InfixRight,"led")},applyPrefix:function(e){this.addSymbols(e,Ext.parse.symbol.Prefix,"nud")},applySymbols:function(e){this.addSymbols(e)},applyTokenizer:function(e){var t=e;e&&!e.isTokenizer&&(t=new Ext.parse.Tokenizer(e)),this.tokenizer=t}}}}),Ext.define("Ext.app.bind.Parser",{extend:"Ext.parse.Parser",requires:["Ext.util.Format"],infix:{":":{priority:70,dump:function(){var e,t=this,n={at:t.at,arity:t.arity,value:t.value,operand:t.operand.dump(),fmt:[]},i=t.fmt;for(e=0;e<i.length;++e)n.fmt.push(i[e].dump());return n},led:function(e){var t=this;return t.arity="formatter",t.operand=e,t.fmt=t.parser.parseFmt(),t}},"?":{priority:20,led:function(e){var t,n=this,i=n.parser,r=i.symbols[":"];return n.condition=e,t=r.priority,r.priority=0,n.tv=i.parseExpression(0),n.parser.advance(":"),r.priority=t,n.fv=i.parseExpression(0),n.arity="ternary",n}},"===":40,"!==":40,"==":40,"!=":40,"<":40,"<=":40,">":40,">=":40},symbols:{"(":{nud:function(){var e,t,n=this.parser,i=n.symbols[":"];return t=i.priority,i.priority=70,e=n.parseExpression(),n.advance(")"),i.priority=t,e}}},prefix:{"@":0},tokenizer:{operators:{"@":"at","?":"qmark","===":"feq","!==":"fneq","==":"eq","!=":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte","&&":"and","||":"or"}},compileExpression:function(e,t){var n,i,r=this;return r.tokens=e,r.tokensMap=t,(n="@"===r.token.value&&r.tokenizer.peek())&&(n="debugger"===n.value)&&(r.advance(),r.advance()),i=r.parseSlot(r.parseExpression(),n),r.tokens=r.tokensMap=null,i},compileFormat:function(){var e;try{e=this.parseSlot({arity:"formatter",fmt:this.parseFmt(),operand:{arity:"ident",value:"dummy"}}),this.expect("(end)")}catch(e){Ext.raise('Invalid format expression: "'+this.tokenizer.text+'"')}return e},privates:{useEval:Ext.isGecko,escapeRe:/("|'|\\)/g,parseFmt:function(){var e,t=this,n=[],i=t.symbols[":"].priority;do{n.length&&t.advance(),(e=t.parseExpression(i)).isIdent||e.isInvoke?n.push(e):t.syntaxError(e.at,"Expected formatter name")}while(":"===t.token.id);return n},parseSlot:function(e,t){var n,i,r,o,a,s=this,l=[],d=[],c=s.tokens||[];if(s.definitions=l,s.body=d,d.push("return "+s.compile(e)+";"),o=c.length,i="var fm = Ext.util.Format,\nme,",a="var a = Ext.Array.from(values);\nme = scope;\n",c.length)for(r=0;r<o;r++)i+="v"+r+(r==o-1?";":","),a+="v"+r+" = a["+r+"]; ";else i+="v0;",a+="v0 = a[0];";return l=Ext.Array.insert(l,0,[i]),d=(d=Ext.Array.insert(d,0,[a])).join("\n"),t&&(d="debugger;\n"+d),l.push((s.useEval?"$=":"return")+" function (values, scope) {",d,"}"),i=l.join("\n"),n=s.useEval?s.evalFn(i):new Function("Ext",i)(Ext),s.definitions=s.body=null,n},compile:function(e){var t,n=this;switch(e.arity){case"ident":return n.addToken(e.value);case"literal":return"string"==typeof(t=e.value)?'"'+String(t).replace(n.escapeRe,"\\$1")+'"':t;case"unary":return n.compileUnary(e);case"binary":return n.compileBinary(e);case"ternary":return n.compileTernary(e);case"formatter":return n.compileFormatter(e)}return this.syntaxError(e.at,"Compile error! Unknown symbol")},compileUnary:function(e){var t=e.value,n=e.operand;return"!"===t||"-"===t||"+"===t?t+"("+this.compile(n)+")":"@"===t?n.isIdent?n.value:this.syntaxError(e.at,"Compile error! Unexpected symbol"):""},compileBinary:function(e){return"("+this.compile(e.lhs)+" "+e.value+" "+this.compile(e.rhs)+")"},compileTernary:function(e){return"("+this.compile(e.condition)+" ? "+this.compile(e.tv)+" : "+this.compile(e.fv)+")"},compileFormatter:function(e){var t,n=e.fmt,i=n.length,r=["var ret;"];if(n.length)for(r.push("ret = "+this.compileFormatFn(n[0],this.compile(e.operand))+";"),t=1;t<i;t++)r.push("ret = "+this.compileFormatFn(n[t],"ret")+";");return r.push("return ret;"),this.addFn(r.join("\n"))},compileFormatFn:function(e,t){var n,i,r,o=[],a="";if(e.isIdent?n=e.value:e.isInvoke&&(n=e.operand.value,o=e.args),"this."===n.substring(0,5))n="me."+n.substring(5);else{if(!(n in Ext.util.Format))return this.syntaxError(e.at,'Compile error! Invalid format specified "'+n+'"');n="fm."+n}for(a+=t,i=o.length,r=0;r<i;r++)a+=", "+this.compile(o[r]);return n+"("+a+")"},addFn:function(e){var t=this.definitions,n="f"+t.length;return t.push("function "+n+"() {",e,"}"),n+"()"},evalFn:function($){return eval($),$},addToken:function(e){var t=this.tokensMap,n=this.tokens,i=0;return t&&n&&(e in t?i=t[e]:(t[e]=i=n.length,n.push(e))),"v"+i}}}),Ext.define("Ext.app.bind.Template",{requires:["Ext.util.Format","Ext.app.bind.Parser"],buffer:null,slots:null,tokens:null,constructor:function(e){var t,n=this._initters;for(t in this.text=e,n)this[t]=n[t]},_initters:{apply:function(e,t){return this.parse().apply(e,t)},getTokens:function(){return this.parse().getTokens()}},apply:function(e,t){var n,i,r=this.slots,o=this.buffer,a=r.length;for(n=0;n<a;++n)(i=r[n])&&(o[n]=i(e,t));return i&&this.single?o[0]:o.join("")},getTokens:function(){return this.tokens},isStatic:function(){var e=this.getTokens(),t=this.slots;return 0===e.length&&0===t.length},privates:{parse:function(){var e,t=this,n=t.text,i=Ext.app.bind.Parser.fly(),r=t.buffer=[],o=t.slots=[],a=0,s=n.length,l=0;for(e in t._initters)delete t[e];for(t.tokens=[],t.tokensMap={},e=0;e<s;){if(a=e,(e=n.indexOf("{",a))<0){r[l++]=n.substring(a);break}a<e&&(r[l++]=n.substring(a,e)),i.reset(n,e+1),o[l++]=i.compileExpression(t.tokens,t.tokensMap),e=i.token.at+1,i.expect("}")}return i.release(),t.single=0===r.length&&1===o.length,t}}}),Ext.define("Ext.app.bind.TemplateBinding",{extend:"Ext.app.bind.BaseBinding",requires:["Ext.app.bind.Multi","Ext.app.bind.Template"],isTemplateBinding:!0,lastValue:void 0,value:void 0,constructor:function(e,t,n,i,r){var o=this,a=new Ext.app.bind.Template(e),s=a.getTokens();o.callParent([t,n,i,r]),o.tpl=a,o.tokens=s,s.$literal=!0,a.isStatic()?(o.isStatic=!0,o.onData(a.text)):o.multiBinding=new Ext.app.bind.Multi(s,t,o.onBindData,o)},destroy:function(){Ext.destroy(this.multiBinding),this.tpl=this.multiBinding=null,this.callParent()},getFullName:function(){var e=this.multiBinding;return this.fullName||(this.fullName="$"+(e?e.getFullName():this.callParent()))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return!1},isLoading:function(){var e=this.multiBinding;return!!e&&e.isLoading()},onBindData:function(e){this.onData(this.tpl.apply(e,this.getTemplateScope()))},onData:function(e){var t=this.value;t!==(this.value=e)&&(this.lastValue=t,this.schedule())},react:function(){this.notify(this.value)},refresh:function(){var e=this.multiBinding;e&&e.refresh()},privates:{sort:function(){var e=this.multiBinding;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.data.ChainedStore",{extend:"Ext.data.AbstractStore",alias:"store.chained",config:{source:null,remoteFilter:!1,remoteSort:!1},mixins:["Ext.data.LocalStore"],updateRemoteFilter:function(e,t){e&&Ext.raise("Remote filtering cannot be used with chained stores."),this.callParent([e,t])},updateRemoteSort:function(e,t){e&&Ext.raise("Remote sorting cannot be used with chained stores."),this.callParent([e,t])},remove:function(){var e=this.getSource();return e.remove.apply(e,arguments)},removeAll:function(){return this.getSource().removeAll()},getData:function(){var e=this.data;return e||(this.data=e=this.constructDataCollection()),e},getTotalCount:function(){return this.getCount()},getSession:function(){return this.getSource().getSession()},applySource:function(e){if(e){var t,n=e;(e=Ext.data.StoreManager.lookup(e))||(t="Invalid source {0}specified for Ext.data.ChainedStore",t=Ext.String.format(t,"string"==typeof n?'"'+n+'" ':""),Ext.raise(t))}return e},updateSource:function(e,t){var n=this;t&&!t.destroyed&&t.removeObserver(n),e&&(n.getData().setSource(e.getData()),n.isInitializing||(n.fireEvent("refresh",n),n.fireEvent("datachanged",n)),e.addObserver(n))},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(e,t){var n=this,i=t.items,r=!t.next;n.ignoreCollectionAdd||(n.fireEvent("add",n,i,t.at),r&&n.fireEvent("datachanged",n))},onCollectionItemChange:function(e,t){var n=t.item,i=t.modified||null,r=t.meta;this.onUpdate(n,r,i,t),this.fireEvent("update",this,n,r,i,t)},onCollectionUpdateKey:function(e,t){this.fireEvent("idchanged",this,t.item,t.oldKey,t.newKey)},onUpdate:Ext.emptyFn,onCollectionRemove:function(e,t){var n=this,i=t.items,r=!t.next;n.ignoreCollectionRemove||(n.fireEvent("remove",n,i,t.at,!1),r&&n.fireEvent("datachanged",n))},onSourceBeforeLoad:function(e,t){this.fireEvent("beforeload",this,t)},onSourceAfterLoad:function(e,t,n,i){this.fireEvent("load",this,t,n,i)},onFilterEndUpdate:function(){this.callParent(arguments),this.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=!0,this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){var e=this;e.ignoreCollectionAdd=!1,e.fireEvent("datachanged",e),e.fireEvent("refresh",e),this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1,this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(e,t){var n=this;n.ignoreCollectionRemove=!1,t||(n.fireEvent("clear",n),n.fireEvent("datachanged",n)),this.callObservers("AfterRemoveAll",[t])},onSourceFilter:function(){this.fireEvent("refresh",this),this.fireEvent("datachanged",this)},hasPendingLoad:function(){return this.getSource().hasPendingLoad()},isLoaded:function(){return this.getSource().isLoaded()},isLoading:function(){return this.getSource().isLoading()},doDestroy:function(){var e=this;e.observers=null,e.setSource(null),e.getData().destroy(!0),e.data=null,e.callParent()},privates:{isMoving:function(){var e=this.getSource();return!!e.isMoving&&e.isMoving.apply(e,arguments)},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}}),Ext.define("Ext.app.ViewModel",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Identifiable"],requires:["Ext.util.Scheduler","Ext.data.Session","Ext.app.bind.RootStub","Ext.app.bind.LinkStub","Ext.app.bind.Multi","Ext.app.bind.Formula","Ext.app.bind.TemplateBinding","Ext.data.ChainedStore"],alias:"viewmodel.default",isViewModel:!0,factoryConfig:{name:"viewModel"},collectTimeout:100,expressionRe:/^(?:\{(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:!1,config:{data:!0,formulas:{$value:null,merge:function(e,t,n,i){return this.mergeNew(e,t,n,i)}},links:null,parent:null,root:!0,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(e){this.bindings={},this.initConfig(e)},destroy:function(){var e,t,n,i=this,r=i._scheduler,o=i.storeInfo,a=i.getParent(),s=i.collectTask,l=i.children,d=i.bindings;if(i.destroying=!0,s&&(s.cancel(),i.collectTask=null),l)for(e in l)l[e].destroy();if(o)for(e in o)((n=(t=o[e]).autoDestroy)||!t.$wasInstance&&!1!==n)&&t.destroy(),Ext.destroy(t.$binding);for(e in a&&a.unregisterChild(i),i.getRoot().destroy(),d)d[e].destroy();r&&r.$owner===i&&(r.$owner=null,r.destroy()),i.children=i.storeInfo=i._session=i._view=i._scheduler=i.bindings=i._root=i._parent=i.formulaFn=i.$formulaData=null,i.destroying=!1,i.callParent()},bind:function(e,t,n,i){var r,o=this,a=!0;return n=n||o,i||void 0===e.bindTo||Ext.isString(e)||(e=(i=e).bindTo),Ext.isString(e)?o.expressionRe.test(e)?(e=e.substring(1,e.length-1),r=o.bindExpression(e,t,n,i),a=!1):r=new Ext.app.bind.TemplateBinding(e,o,t,n,i):r=new Ext.app.bind.Multi(e,o,t,n,i),a&&(o.bindings[r.id]=r),r},getSession:function(){var e,t=this._session;return!t&&(e=this.getParent())&&this.setSession(t=e.getSession()),t||null},getStore:function(e){var t,n=this.storeInfo;return n&&(t=n[e]),t||null},linkTo:function(e,t){var n,i,r,o,a,s;e.indexOf(".")>-1&&Ext.raise('Links can only be at the top-level: "'+e+'"'),t.isModel&&(t={type:t.entityName,id:t.id}),o=t.type||t.reference,i=t.create,o?(r=t.id,!t.create&&Ext.isEmpty(r)&&Ext.raise('No id specified. To create a phantom model, specify "create: true" as part of the reference.'),i&&(r=void 0),s=this.getRecord(o,r),Ext.isObject(i)&&(s.set(i),s.commit(),s.phantom=!0),(n=this.getRoot().createStubChild(e)).set(s)):((n=this.getStub(e)).isLinkStub||(a=new Ext.app.bind.LinkStub(this,n.name),n.graft(a),n=a),n.link(t))},notify:function(){var e=this.getScheduler();e.firing||e.notify()},get:function(e){return this.getStub(e).getValue()},set:function(e,t){var n,i;this.getData(),void 0===t&&e&&e.constructor===Object?(i=this.getRoot(),t=e):e&&e.indexOf(".")<0?((n={})[e]=t,t=n,i=this.getRoot()):i=this.getStub(e),i.set(t)},privates:{registerChild:function(e){var t=this.children;t||(this.children=t={}),t[e.getId()]=e},unregisterChild:function(e){var t=this.children;!this.destroying&&t&&delete t[e.getId()]},getRecord:function(e,t){var n,i=this.getSession(),r=e,o=void 0!==t;return i?n=o?i.getRecord(e,t):i.createRecord(e):(r.$isClass||(r=this.getSchema().getEntity(r))||Ext.raise("Invalid model name: "+e),o?(n=r.createWithId(t)).load():n=new r),n},bindExpression:function(e,t,n,i){return this.getStub(e).bind(t,n,i)},applyScheduler:function(e){return e&&!e.isInstance&&((e=new Ext.util.Scheduler(e)).$owner=this),e},getScheduler:function(){var e,t=this._scheduler;return t||((e=this.getParent())?t=e.getScheduler():(t=new Ext.util.Scheduler({preSort:"kind,-depth"})).$owner=this,this.setScheduler(t)),t},getStub:function(e){var t=this.getRoot();return e?t.getChild(e):t},collect:function(){var e=this,t=e.getParent(),n=e.collectTask;t?t.collect():(n||(n=e.collectTask=new Ext.util.DelayedTask(e.doCollect,e)),0===e.collectTimeout?e.doCollect():n.delay(e.collectTimeout))},doCollect:function(){var e,t=this.children;if(t)for(e in t)t[e].doCollect();this.getRoot().collect()},onBindDestroy:function(e,t){var n;this.destroying||(t||delete this.bindings[e.id],(n=this.getParent())?n.onBindDestroy(e,!0):this.collect())},applyData:function(e,t){var n,i,r=this;r.getSession(),t||(i=r.getParent(),r.linkData=n=i?Ext.Object.chain(i.getData()):{},r.data=r._data=Ext.Object.chain(n)),e&&e.constructor===Object&&r.getRoot().set(e)},applyParent:function(e){return e&&e.registerChild(this),e},applyStores:function(e){var t,n,i,r,o=this,a=o.getRoot();for(t in o.storeInfo={},o.listenerScopeFn=function(){return o.getView().getInheritedConfig("defaultListenerScope")},e)(n=e[t]).isStore?(n.$wasInstance=!0,o.setupStore(n,t)):(r=(n=Ext.isString(n)?{source:n}:Ext.apply({},n)).listeners,delete n.listeners,(i=o.bind(n,o.onStoreBind,o,{trackStatics:!0})).isStatic()?(i.destroy(),o.createStore(t,n,r)):(i.$storeKey=t,i.$listeners=r,a.createStubChild(t).setStore(i)))},onStoreBind:function(e,t,n){var i,r=this.storeInfo,o=n.$storeKey,a=r[o];a?(i=(e=Ext.merge({},n.pruneStaticKeys())).proxy,delete e.type,delete e.model,delete e.fields,delete e.proxy,delete e.listeners,i&&(delete i.reader,delete i.writer,a.getProxy().setConfig(i)),a.setConfig(e)):this.createStore(o,e,n.$listeners,n)},createStore:function(e,t,n,i){var r,o=this.getSession();(t=Ext.apply({},t)).session&&(t.session=o),t.source&&(t.type=t.type||"chained"),t.listeners=n,t.resolveListenerScope=this.listenerScopeFn,(r=Ext.Factory.store(t)).$binding=i,this.setupStore(r,e)},setupStore:function(e,t){e.resolveListenerScope=this.listenerScopeFn,this.storeInfo[t]=e,this.set(t,e)},applyFormulas:function(e){var t,n=this.getRoot();for(t in this.getData(),e)t.indexOf(".")>=0&&Ext.raise("Formula names cannot contain dots: "+t),n.createStubChild(t),this.getStub(t).setFormula(e[t]);return e},applyLinks:function(e){for(var t in e)this.linkTo(t,e[t])},applySchema:function(e){return Ext.data.schema.Schema.get(e)},applyRoot:function(){var e=new Ext.app.bind.RootStub(this),t=this.getParent();return t&&(e.depth=t.getRoot().depth-1e3),e},getFormulaFn:function(e){var t=this,n=t.formulaFn;return n||(n=t.formulaFn=function(e){return t.$formulaData[e]}),t.$formulaData=e,n}}}),Ext.define("Ext.app.domain.Controller",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.app.Controller"],type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){this.callParent(),this.monitor(Ext.app.BaseController)},match:function(e,t){var n=!1,i=e.alias;return"*"===t?n=!0:"#"===t?n=!!e.isApplication:this.idMatchRe.test(t)?n=e.getId()===t.substring(1):i&&(n=Ext.Array.indexOf(i,this.prefix+t)>-1),n}}),Ext.define("Ext.direct.Manager",{singleton:!0,requires:["Ext.util.MixedCollection"],mixins:["Ext.mixin.Observable"],exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},providerClasses:{},remotingMethods:{},config:{varName:"Ext.REMOTING_API"},apiNotFoundError:"Ext Direct API was not found at {0}",constructor:function(){this.mixins.observable.constructor.call(this),this.transactions=new Ext.util.MixedCollection,this.providers=new Ext.util.MixedCollection},addProvider:function(e){var t,n,i=this,r=arguments,o=i.relayers||(i.relayers={});if(!(r.length>1))return e.isProvider||(e=Ext.create("direct."+e.type+"provider",e)),i.providers.add(e),e.on("data",i.onProviderData,i),e.relayedEvents&&(o[e.id]=i.relayEvents(e,e.relayedEvents)),e.isConnected()||e.connect(),e;for(t=0,n=r.length;t<n;++t)i.addProvider(r[t])},loadProvider:function(e,t,n){var i,r,o,a,s,l,d=this,c=d.providerClasses;if(Ext.isArray(e))for(s=0,l=e.length;s<l;s++)d.loadProvider(e[s],t,n);else{if(i=e.type,r=e.url,c[i]&&c[i].checkConfig(e))return a=d.addProvider(e),d.fireEventArgs("providerload",[r,a]),void Ext.callback(t,n,[r,a]);o=e.varName||d.getVarName(),delete e.varName,r||Ext.raise("Need API discovery URL to load a Remoting provider!"),delete e.url,Ext.Loader.loadScript({url:r,scope:d,onLoad:function(){this.onApiLoadSuccess({url:r,varName:o,config:e,callback:t,scope:n})},onError:function(){this.onApiLoadFailure({url:r,callback:t,scope:n})}})}},getProvider:function(e){return e.isProvider?e:this.providers.get(e)},removeProvider:function(e){var t,n=this.providers,i=this.relayers;return(e=e.isProvider?e:n.get(e))?(e.un("data",this.onProviderData,this),i[t=e.id]&&(i[t].destroy(),delete i[t]),n.remove(e),e):null},addTransaction:function(e){return this.transactions.add(e),e},removeTransaction:function(e){return e=this.getTransaction(e),this.transactions.remove(e),e},getTransaction:function(e){return"object"==typeof e?e:this.transactions.get(e)},onProviderData:function(e,t){var n,i;if(Ext.isArray(t))for(n=0,i=t.length;n<i;++n)this.onProviderData(e,t[n]);else t.name&&"event"!==t.name&&"exception"!==t.name?this.fireEvent(t.name,t):!1===t.status&&this.fireEvent("exception",t),this.fireEvent("event",t,e)},parseMethod:function(e){var t,n,i,r=Ext.global,o=0;if(Ext.isFunction(e))t=e;else if(Ext.isString(e)&&!(t=this.remotingMethods[e])){for(i=(n=e.split(".")).length;r&&o<i;)r=r[n[o]],++o;t=Ext.isFunction(r)?r:null}return t||null},resolveApi:function(e,t){var n,i,r,o,a;for(i in(n=e&&e.prefix)&&"."!==n.substr(n.length-1)&&(n+="."),e)r=e[i],"prefix"!==i&&"function"!=typeof r&&(o=(n||"")+r,"function"==typeof(a=this.parseMethod(o))?e[i]=a:Ext.raise("Cannot resolve Direct API method '"+o+"' for "+i+" action in "+t.$className+" instance with id: "+(null!=t.id?t.id:"unknown")));return e},privates:{addProviderClass:function(e,t){this.providerClasses[e]=t},onApiLoadSuccess:function(options){var me=this,url=options.url,varName=options.varName,api,provider,error;try{api=Ext.apply(options.config,eval(varName)),provider=me.addProvider(api)}catch(e){error=e+""}error?(me.fireEventArgs("providerloaderror",[url,error]),Ext.callback(options.callback,options.scope,[url,error])):(me.fireEventArgs("providerload",[url,provider]),Ext.callback(options.callback,options.scope,[url,provider]))},onApiLoadFailure:function(e){var t,n=e.url;t=Ext.String.format(this.apiNotFoundError,n),this.fireEventArgs("providerloaderror",[n,t]),Ext.callback(e.callback,e.scope,[n,t])},registerMethod:function(e,t){this.remotingMethods[e]=t},clearAllMethods:function(){this.remotingMethods={}}}},function(){Ext.Direct=Ext.direct.Manager}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:["Ext.mixin.Observable"],requires:["Ext.direct.Manager"],isProvider:!0,$configPrefixed:!1,$configStrict:!1,config:{headers:void 0},subscribers:0,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.requests={},Ext.applyIf(this,{id:Ext.id(null,"provider-")})},destroy:function(){this.disconnect(!0),this.callParent()},isConnected:function(){return this.subscribers>0},connect:function(){var e=this;0===e.subscribers&&(e.doConnect(),e.fireEventArgs("connect",[e])),e.subscribers++},doConnect:Ext.emptyFn,disconnect:function(e){var t=this;(t.subscribers>0||e)&&(e?t.subscribers=0:t.subscribers--,0===t.subscribers&&(t.doDisconnect(),t.fireEventArgs("disconnect",[t])))},doDisconnect:function(){var e,t=this.requests;for(e in t)t[e].abort();this.requests={}},sendAjaxRequest:function(e){var t=Ext.Ajax.request(e);return t&&t.id&&(this.requests[t.id]=t),t},onData:function(e,t,n){n&&n.request&&delete this.requests[n.request.id]},inheritableStatics:{checkConfig:Ext.returnFalse},onClassExtended:function(e,t,n){t.type&&Ext.direct.Manager.addProviderClass(t.type,e)}}),Ext.define("Ext.app.domain.Direct",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.direct.Provider"],type:"direct",idProperty:"id",constructor:function(){this.callParent(),this.monitor(Ext.direct.Provider)}}),Ext.define("Ext.data.PageMap",{extend:"Ext.util.LruCache",config:{store:null,pageSize:0,rootProperty:""},clear:function(e){this.pageMapGeneration=(this.pageMapGeneration||0)+1,this.indexMap={},this.callParent([e])},updatePageSize:function(e,t){if(null!=t)throw"pageMap page size may not be changed"},forEach:function(e,t){var n,i,r,o,a,s=Ext.Object.getKeys(this.map),l=s.length,d=this.getPageSize();for(n=0;n<l;n++)s[n]=+s[n];for(Ext.Array.sort(s,Ext.Array.numericSortFn),t=t||this,n=0;n<l;n++)for(r=s[n],a=(o=this.getPage(r)).length,i=0;i<a;i++)if(!1===e.call(t,o[i],(r-1)*d+i))return},findBy:function(e,t){var n=null;return t=t||this,this.forEach(function(i,r){if(e.call(t,i,r))return n=i,!1}),n},findIndexBy:function(e,t){var n=-1;return t=t||this,this.forEach(function(i,r){if(e.call(t,i))return n=r,!1}),n},find:function(e,t,n,i,r,o){if(Ext.isEmpty(t,!1))return null;var a=Ext.String.createRegex(t,i,r,o),s=this.getRootProperty();return this.findBy(function(t){return t&&a.test((s?t[s]:t)[e])},null,n)},findIndex:function(e,t,n,i,r,o){if(Ext.isEmpty(t,!1))return null;var a=Ext.String.createRegex(t,i,r,o),s=this.getRootProperty();return this.findIndexBy(function(t){return t&&a.test((s?t[s]:t)[e])},null,n)},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},addAll:function(e){this.getCount()&&Ext.raise("Cannot addAll to a non-empty PageMap"),this.addPage(1,e)},addPage:function(e,t){var n,i,r,o,a=this,s=a.getPageSize(),l=e+Math.floor((t.length-1)/s),d=(e-1)*s,c=a.indexMap;for(o=0;e<=l;e++,o+=s){for(i=0,r=(n=Ext.Array.slice(t,o,o+s)).length;i<r;i++)c[n[i].internalId]=d++;a.add(e,n),a.fireEvent("pageadd",a,e,n)}},getCount:function(){var e=this.callParent();return e&&(e=(e-1)*this.getPageSize()+this.last.value.length),e},getByInternalId:function(e){var t=this.indexMap[e];if(null!=t)return this.getAt(t)},indexOf:function(e){var t=-1;return e&&null==(t=this.indexMap[e.internalId])&&(t=-1),t},insert:function(){Ext.raise("insert operation not suppported into buffered Store")},remove:function(){Ext.raise("remove operation not suppported from buffered Store")},removeAt:function(){Ext.raise("removeAt operation not suppported from buffered Store")},removeAtKey:function(e){var t,n,i,r=this,o=r.getPage(e);if(o&&!1!==r.fireEvent("beforepageremove",r,e,o)){for(t=o.length,n=0;n<t;n++)delete r.indexMap[o[n].internalId];i=r.callParent(arguments),r.fireEvent("pageremove",r,e,o),o.length=0}return i},getPage:function(e){return this.get(e)},hasRange:function(e,t){for(var n=this,i=n.getPageFromRecordIndex(e),r=n.getPageFromRecordIndex(t);i<=r;i++)if(!n.hasPage(i))return!1;return(r-1)*n._pageSize+n.getPage(r).length>t},hasPage:function(e){return!!this.get(e)},peekPage:function(e){return this.map[e]},getAt:function(e){return this.getRange(e,e+1)[0]},getRange:function(e,t){t--,this.hasRange(e,t)||Ext.raise("PageMap asked for range which it does not have");for(var n,i,r,o=this,a=Ext.Array,s=o.getPageSize(),l=o.getPageFromRecordIndex(e),d=o.getPageFromRecordIndex(t),c=(l-1)*s,u=d*s-1,h=l,f=[];h<=d;h++)h===l?r=(n=e-c)>0:(n=0,r=!1),h===d&&(i=s-(u-t),r=r||i<s),r?a.push(f,a.slice(o.getPage(h),n,i)):a.push(f,o.getPage(h));return f}}),Ext.define("Ext.data.BufferedStore",{extend:"Ext.data.ProxyStore",alias:"store.buffered",requires:["Ext.data.PageMap","Ext.util.Filter","Ext.util.Sorter","Ext.util.Grouper"],uses:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.util.GroupCollection"],isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:!1},applyData:function(e){var t=this.data||(this.data=this.createDataCollection());return e&&!0!==e&&Ext.raise("Cannot load a buffered store with local data - the store is a map of remote data"),t},applyProxy:function(e){return(e=this.callParent([e]))&&e.setEnablePaging&&e.setEnablePaging(!0),e},applyAutoSort:function(){},createFiltersCollection:function(){return new Ext.util.FilterCollection},createSortersCollection:function(){return new Ext.util.SorterCollection},updateRemoteFilter:function(e,t){!1===e&&Ext.raise("Buffered stores are always remotely filtered."),this.callParent([e,t])},updateRemoteSort:function(e,t){!1===e&&Ext.raise("Buffered stores are always remotely sorted."),this.callParent([e,t])},updateTrackRemoved:function(e){!1!==e&&Ext.raise("Cannot use trackRemoved with a buffered store."),this.callParent(arguments)},updateGroupField:function(e){this.group(e)},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var e=this,t=new Ext.data.PageMap({store:e,rootProperty:"data",pageSize:e.getPageSize(),maxSize:e.getPurgePageCount(),listeners:{clear:e.onPageMapClear,scope:e}});return e.relayEvents(t,["beforepageremove","pageadd","pageremove"]),e.pageRequests={},t},add:function(){Ext.raise("add method may not be called on a buffered store - the store is a map of remote data")},insert:function(){Ext.raise("insert method may not be called on a buffered store - the store is a map of remote data")},removeAll:function(e){var t=this.getData();t&&(e&&this.suspendEvent("clear"),t.clear(),e&&this.resumeEvent("clear"))},flushLoad:function(){var e=this,t=e.pendingLoadOptions;if(e.clearLoadTask(),t)return e.getData().clear(),t.page=1,t.start=0,t.limit=e.getViewSize()||e.getDefaultViewSize(),t.loadCallback=t.callback,t.callback=null,e.loadToPrefetch(t)},reload:function(e){var t,n,i,r,o,a,s,l,d=this,c=d.getData(),u=Number.MAX_VALUE;if(e||(e={}),!d.loading&&!1!==d.fireEvent("beforeload",d,e))for(a=function(){var e=d.totalCount,i=n-t;n>=e&&(n=e-1,t=Math.max(n-i,0)),d.rangeCached(t,n,!1)&&(d.loadCount=(d.loadCount||0)+1,d.loading=!1,c.un("pageadd",a),l=c.getRange(t,n),d.fireEvent("load",d,l,!0),d.fireEvent("refresh",d))},s=Math.ceil((d.getLeadingBufferZone()+d.getTrailingBufferZone())/2),d.lastRequestStart&&d.preserveScrollOnReload?(t=d.lastRequestStart,n=d.lastRequestEnd,u=d.getTotalCount()):(t=e.start||0,n=t+(e.count||d.getPageSize())-1),c.clear(!0),delete d.totalCount,t=Math.max(t-s,0),n=Math.min(n+s,u),t=0===t?0:t-1,n=n===u?n:n+1,i=d.getPageFromRecordIndex(t),r=d.getPageFromRecordIndex(n),d.loading=!0,e.waitForReload=a,c.on("pageadd",a),o=i;o<=r;o++)d.prefetchPage(o,e)},filter:function(){this.getRemoteFilter()||Ext.raise("Local filtering may not be used on a buffered store - the store is a map of remote data"),this.callParent(arguments)},filterBy:function(e,t){Ext.raise("Local filtering may not be used on a buffered store - the store is a map of remote data")},loadData:function(e,t){Ext.raise("LoadData may not be used on a buffered store - the store is a map of remote data")},loadPage:function(e,t){var n=this;return(t=t||{}).page=n.currentPage=e,t.start=(e-1)*n.getPageSize(),t.limit=n.getViewSize()||n.getDefaultViewSize(),t.loadCallback=t.callback,t.callback=null,n.loadToPrefetch(t)},clearData:function(e){var t=this.getData();t&&t.clear()},getCount:function(){return this.totalCount||0},getRange:function(e,t,n){var i,r,o,a,s,l=this,d=l.totalCount-1,c=l.lastRequestStart,u=[],h=l.getData();return n=Ext.apply({prefetchStart:e,prefetchEnd:t},n),t=t>=l.totalCount?d:t,!1!==n.forRender?(r=0===e?0:e-1,o=t===d?t:t+1):(r=e,o=t),l.lastRequestStart=e,l.lastRequestEnd=t,l.rangeCached(e,t,n.forRender)?(l.onRangeAvailable(n),u=h.getRange(e,t+1)):(l.fireEvent("cachemiss",l,e,t),a=l.getPageFromRecordIndex(r),s=l.getPageFromRecordIndex(o),i=function(r,o,d){o>=a&&o<=s&&l.rangeCached(e,t)&&(l.fireEvent("cachefilled",l,e,t),h.un("pageadd",i),l.onRangeAvailable(n))},h.on("pageadd",i),l.prefetchRange(e,t)),l.primeCache(e,t,e<c?-1:1),u},getById:function(e){return this.data.findBy(function(t){return t.getId()===e})},getAt:function(e){var t=this.getData();if(t.hasRange(e,e))return t.getAt(e)},getByInternalId:function(e){return this.data.getByInternalId(e)},contains:function(e){return this.indexOf(e)>-1},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},group:function(e,t){var n,i=this;e&&"string"==typeof e?(n=i.grouper)&&void 0!==t?n.setDirection(t):i.grouper=new Ext.util.Grouper({property:e,direction:t||"ASC",root:"data"}):i.grouper=e?i.getSorters().decodeSorter(e,"Ext.util.Grouper"):null,i.getData().clear(),i.loadPage(1,{callback:function(){i.fireEvent("groupchange",i,i.getGrouper())}})},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},calculatePageCacheSize:function(e){var t=this,n=t.getPurgePageCount();return n?Math.max(t.getData().getMaxSize()||0,2*Math.ceil((e+t.getTrailingBufferZone()+t.getLeadingBufferZone())/t.getPageSize())+n):0},loadToPrefetch:function(e){var t,n,i,r,o=this,a=e,s=e.start,l=e.start+e.limit-1,d=o.getViewSize()||e.limit,c=Math.min(l,e.start+d-1),u=o.getPageFromRecordIndex(Math.max(s-o.getTrailingBufferZone(),0)),h=o.getPageFromRecordIndex(l+o.getLeadingBufferZone()),f=o.getData(),g=function(){n=n||[],e.loadCallback&&e.loadCallback.call(e.scope||o,n,r,!0),e.callback&&e.callback.call(e.scope||o,n,s||0,l||0,e)},p=function(){o.loadCount=(o.loadCount||0)+1,o.fireEvent("datachanged",o),o.fireEvent("refresh",o),o.fireEvent("load",o,n,!0)},m=function(){o.rangeCached(s,c)&&(o.loading=!1,n=f.getRange(s,c+1),f.un("pageadd",m),o.hasListeners.guaranteedrange&&o.guaranteeRange(s,c,e.callback,e.scope),g(),p())};!isNaN(o.pageSize)&&o.pageSize||Ext.raise("Buffered store configured without a pageSize",o),f.setMaxSize(o.calculatePageCacheSize(d)),!1!==o.fireEvent("beforeload",o,e)&&(delete o.totalCount,o.loading=!0,e.callback&&delete(a=Ext.apply({},e)).callback,o.on("prefetch",function(e,n,s,l){if(r=l,s)if(i=o.getTotalCount())for(f.on("pageadd",m),c=Math.min(c,i-1),h=o.getPageFromRecordIndex(Math.min(c+o.getLeadingBufferZone(),i-1)),t=u+1;t<=h;++t)o.prefetchPage(t,a);else g(),p();else o.loading=!1,g(),o.fireEvent("load",o,n,!1)},null,{single:!0}),o.prefetchPage(u,a))},prefetch:function(e){var t,n,i=this,r=i.getPageSize(),o=i.getData();return r?(i.lastPageSize&&r!=i.lastPageSize&&Ext.raise("pageSize cannot be dynamically altered"),o.getPageSize()||o.setPageSize(r)):i.pageSize=o.setPageSize(r=e.limit),i.lastPageSize=r,e.page||(e.page=i.getPageFromRecordIndex(e.start),e.start=(e.page-1)*r,e.limit=Math.ceil(e.limit/r)*r),(n=i.pageRequests[e.page])&&n.getOperation().pageMapGeneration===o.pageMapGeneration||(e=Ext.apply({action:"read",filters:i.getFilters().items,sorters:i.getSorters().items,grouper:i.getGrouper(),internalCallback:i.onProxyPrefetch,internalScope:i},e),(t=i.createOperation("read",e)).pageMapGeneration=o.pageMapGeneration,!1!==i.fireEvent("beforeprefetch",i,t)&&(i.pageRequests[e.page]=t.execute(),i.getProxy().isSynchronous&&delete i.pageRequests[e.page])),i},onPageMapClear:function(){var e,t=this,n=t.wasLoading,i=t.pageRequests,r=t.getData();for(e in r.clearListeners(),r.on("clear",t.onPageMapClear,t),t.relayEvents(r,["beforepageremove","pageadd","pageremove"]),t.loading=!0,t.totalCount=0,i)i.hasOwnProperty(e)&&i[e].getOperation().abort();t.fireEvent("clear",t),t.loading=n},prefetchPage:function(e,t){var n=this.getPageSize(),i=(e-1)*n,r=this.totalCount;void 0!==r&&this.data.getCount()===r||this.prefetch(Ext.applyIf({page:e,start:i,limit:n},t))},onProxyPrefetch:function(e){if(!this.destroying&&!this.destroyed){var t,n,i=this,r=e.getResultSet(),o=e.getRecords(),a=e.wasSuccessful(),s=e.getPage(),l=e.waitForReload,d=i.totalCount,c=i.pageRequests;if(e.pageMapGeneration===i.getData().pageMapGeneration){if(r&&(i.totalCount=r.getTotal(),i.totalCount!==d&&i.fireEvent("totalcountchange",i.totalCount)),void 0!==s&&delete i.pageRequests[s],i.loading=!1,i.fireEvent("prefetch",i,o,a,e),a)if(0===i.totalCount){if(l){for(t in c)(n=c[t].getOperation()).waitForReload===l&&delete n.waitForReload;i.getData().un("pageadd",l),i.fireEvent("load",i,[],!0),i.fireEvent("refresh",i)}}else i.cachePage(o,e.getPage());Ext.callback(e.getCallback(),e.getScope()||i,[o,e,a])}}},cachePage:function(e,t){var n,i=this,r=e.length;for(Ext.isDefined(i.totalCount)||(i.totalCount=e.length,i.fireEvent("totalcountchange",i.totalCount)),n=0;n<r;n++)e[n].join(i);i.getData().addPage(t,e)},rangeCached:function(e,t,n){var i=e,r=t;return!1!==n&&(i=0===e?0:e-1,r=t===this.totalCount-1?t:t+1),this.getData().hasRange(i,r)},pageCached:function(e){return this.getData().hasPage(e)},pagePending:function(e){return!!this.pageRequests[e]},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},onRangeAvailable:function(e){var t,n=this.getTotalCount(),i=e.prefetchStart,r=e.prefetchEnd>n-1?n-1:e.prefetchEnd;i>(r=Math.max(0,r))&&Ext.log({level:"warn",msg:"Start ("+i+") was greater than end ("+r+") for the range of records requested ("+i+"-"+e.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")}),t=this.getData().getRange(i,r+1),!1!==e.fireEvent&&this.fireEvent("guaranteedrange",t,i,r,e),e.callback&&e.callback.call(e.scope||this,t,i,r,e)},guaranteeRange:function(e,t,n,i,r){r=Ext.apply({callback:n,scope:i},r),this.getRange(e,t+1,r)},prefetchRange:function(e,t){var n,i,r,o=this,a=o.getData();if(!o.rangeCached(e,t))for(n=o.getPageFromRecordIndex(e),i=o.getPageFromRecordIndex(t),a.setMaxSize(o.calculatePageCacheSize(t-e+1)),r=n;r<=i;r++)o.pageCached(r)||o.prefetchPage(r)},primeCache:function(e,t,n){var i=this,r=i.getLeadingBufferZone(),o=i.getTrailingBufferZone(),a=i.getPageSize(),s=i.totalCount;-1===n?(e=Math.max(e-r,0),t=Math.min(t+o,s-1)):1===n?(e=Math.max(Math.min(e-o,s-a),0),t=Math.min(t+r,s-1)):(e=Math.min(Math.max(Math.floor(e-(r+o)/2),0),s-i.pageSize),t=Math.min(Math.max(Math.ceil(t+(r+o)/2),0),s-1)),i.prefetchRange(e,t)},sort:function(e,t,n){0===arguments.length?this.clearAndLoad():this.getSorters().addSort(e,t,n)},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange();t.length?(e.fireEvent("beforesort",e,t),e.clearAndLoad({callback:function(){e.fireEvent("sort",e,t)}})):e.fireEvent("sort",e,t)},clearAndLoad:function(e){this.clearing=!0,this.getData().clear(),this.clearing=!1,this.loadPage(1,e)},privates:{isLast:function(e){return this.indexOf(e)===this.getTotalCount()-1},isMoving:function(){return!1}}}),Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],config:{paramOrder:void 0,paramsAsHash:!0,directFn:void 0,api:void 0,metadata:void 0},paramOrderRe:/[\s,|]/,constructor:function(e){this.callParent([e]),this.canceledOperations={}},applyParamOrder:function(e){return Ext.isString(e)&&(e=e.split(this.paramOrderRe)),e},updateApi:function(){this.methodsResolved=!1},updateDirectFn:function(){this.methodsResolved=!1},resolveMethods:function(){var e,t=this,n=t.getDirectFn(),i=t.getApi();n&&(t.setDirectFn(e=Ext.direct.Manager.parseMethod(n)),Ext.isFunction(e)||Ext.raise("Cannot resolve directFn "+n)),i&&(i=Ext.direct.Manager.resolveApi(i,t),t.setApi(i)),t.methodsResolved=!0},doRequest:function(e){var t,n,i,r,o,a,s,l=this;return l.methodsResolved||l.resolveMethods(),i=(n=l.buildRequest(e)).getAction(),(a=l.getApi())&&(s=a[i]),(s=s||l.getDirectFn())&&s.directCfg||Ext.raise({msg:'No Ext Direct function specified for Direct proxy "'+i+'" operation',proxy:l}),!l.paramOrder&&s.directCfg.method.len>1&&Ext.raise({msg:'Incorrect parameters for Direct proxy "'+i+'" operation',proxy:l}),(t=l.getWriter())&&e.allowWrite()&&(n=t.write(n)),r="read"===i?n.getParams():n.getJsonData(),o=s.directCfg.method.getArgs({params:r,allowSingle:t.getAllowSingle(),paramOrder:l.getParamOrder(),paramsAsHash:l.getParamsAsHash(),paramsAsArray:!0,metadata:l.getMetadata(),callback:l.createRequestCallback(n,e),scope:l}),n.setConfig({args:o,directFn:s}),s.apply(window,o),n},abort:function(e){var t;e&&e.isDataRequest&&(e=e.getOperation()),e&&e.isOperation&&(t=e.id),null!=t&&(this.canceledOperations[t]=!0)},applyEncoding:Ext.identityFn,createRequestCallback:function(e,t){var n=this;return function(i,r){n.canceledOperations[t.id]||n.processResponse(r.status,t,e,r),delete n.canceledOperations[t.id]}},extractResponseData:function(e){return Ext.isDefined(e.result)?e.result:e.data},setException:function(e,t){e.setException(t.message)},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(e){if(!(e=Ext.apply({},e)).proxy){var t={type:"direct",reader:{type:"json"}};Ext.copyTo(t,e,"paramOrder,paramsAsHash,directFn,api,simpleSortMode,extraParams"),Ext.copyTo(t.reader,e,"totalProperty,root,rootProperty,idProperty"),e.proxy=t}this.callParent([e])}}),Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(e){(e=Ext.apply({},e)).url||Ext.raise("A url must be specified for a JSONP request.");var t,n,i=this,r=Ext.isDefined(e.disableCaching)?e.disableCaching:i.disableCaching,o=e.disableCachingParam||i.disableCachingParam,a=++i.requestCount,s=e.callbackName||"callback"+a,l=e.callbackKey||i.callbackKey,d=Ext.isDefined(e.timeout)?e.timeout:i.timeout,c=Ext.apply({},e.params),u=e.url,h=Ext.name;return r&&!c[o]&&(c[o]=Ext.Date.now()),e.params=c,c[l]=h+".data.JsonP."+s,n=i.createScript(u,c,e),i.requests[a]=t={url:u,params:c,script:n,id:a,scope:e.scope,success:e.success,failure:e.failure,callback:e.callback,callbackKey:l,callbackName:s},d>0&&(t.timeout=Ext.defer(i.handleTimeout,d,i,[t])),i.setupErrorHandling(t),i[s]=Ext.bind(i.handleResponse,i,[t],!0),i.loadScript(t),t},abort:function(e){var t,n=this.requests;if(e)e.id||(e=n[e]),this.handleAbort(e);else for(t in n)n.hasOwnProperty(t)&&this.abort(n[t])},setupErrorHandling:function(e){e.script.onerror=Ext.bind(this.handleError,this,[e])},handleAbort:function(e){e.errorType="abort",this.handleResponse(null,e)},handleError:function(e){e.errorType="error",this.handleResponse(null,e)},cleanupErrorHandling:function(e){e.script.onerror=null},handleTimeout:function(e){e.errorType="timeout",this.handleResponse(null,e)},handleResponse:function(e,t){var n=!0,i=Ext.GlobalEvents;t.timeout&&clearTimeout(t.timeout),delete this[t.callbackName],delete this.requests[t.id],this.cleanupErrorHandling(t),Ext.fly(t.script).destroy(),t.errorType?(n=!1,Ext.callback(t.failure,t.scope,[t.errorType])):Ext.callback(t.success,t.scope,[e]),Ext.callback(t.callback,t.scope,[n,e,t.errorType]),i.hasListeners.idle&&i.fireEvent("idle")},createScript:function(e,t,n){var i=document.createElement("script");return i.setAttribute("src",Ext.urlAppend(e,Ext.Object.toQueryString(t))),i.setAttribute("async",!0),i.setAttribute("type","text/javascript"),i},loadScript:function(e){Ext.getHead().appendChild(e.script)}}),Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],config:{callbackKey:"callback",recordParam:"records",autoAppendParams:!0},doRequest:function(e){var t=this,n=t.buildRequest(e),i=n.getParams();return n.setConfig({callbackKey:t.callbackKey,timeout:t.timeout,scope:t,disableCaching:!1,callback:t.createRequestCallback(n,e)}),t.getAutoAppendParams()&&n.setParams({}),n.setRawRequest(Ext.data.JsonP.request(n.getCurrentConfig())),n.setParams(i),t.lastRequest=n,n},createRequestCallback:function(e,t){var n=this;return function(i,r,o){e===n.lastRequest&&(n.lastRequest=null),n.processResponse(i,t,e,r)}},setException:function(e,t){e.setException(e.getRequest().getRawRequest().errorType)},buildUrl:function(e){var t,n,i,r,o,a=this,s=a.callParent(arguments),l=e.getRecords(),d=a.getWriter();if(d&&e.getOperation().allowWrite()&&(e=d.write(e)),n=(t=e.getParams()).filters,delete t.filters,n&&n.length)for(r=0;r<n.length;r++)(o=(i=n[r]).getValue())&&(t[i.getProperty()]=o);return!(Ext.isArray(l)&&l.length>0)||d&&d.getEncode()||(t[a.getRecordParam()]=a.encodeRecords(l)),a.getAutoAppendParams()&&(s=Ext.urlAppend(s,Ext.Object.toQueryString(t))),s},abort:function(e){(e=e||this.lastRequest)&&Ext.data.JsonP.abort(e.getRawRequest())},encodeRecords:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(Ext.encode(e[n].getData()));return t}}),Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",requires:["Ext.data.proxy.JsonP","Ext.data.reader.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"jsonp",reader:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.ModelManager",{alternateClassName:"Ext.ModelMgr",requires:["Ext.data.schema.Schema"],singleton:!0,deprecated:{5:{methods:{clear:null,create:function(e,t,n){var i=t;return i.isEntity||(i=this.getModel(t||e.name)),i.createWithId(n,e)},each:function(e,t){Ext.data.Model.schema.eachEntity(e,t)},get:function(e){return this.getModel(e)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},isRegistered:function(e){return!!this.getModel(e)}}}}}),Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.field.Boolean","Ext.data.field.Integer","Ext.data.field.String","Ext.data.writer.Json","Ext.mixin.Observable"],statics:{decorate:function(e){var t,n,i,r=Ext.data.schema.Schema.lookupEntity(e),o=r.prototype;r.prototype.isObservable||r.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable),o.isNode||(t=o.idProperty,i=(n=r.getField(t)).type,r.override(this.getPrototypeBody()),r.addFields([{name:"parentId",type:i,defaultValue:null,allowNull:n.allowNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"glyph",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"visible",type:"boolean",defaultValue:!0,persist:!1},{name:"text",type:"string",persist:!1}]))},getPrototypeBody:function(){var e={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0},t={silent:!0};return{isNode:!0,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){var e=this;return e.mixins.observable.constructor.call(e),e.callParent(arguments),e.childNodes=[],e},createNode:function(e){var t,n,i,r,o,a,s=this,l=s.childType,d=s.self;return e.isModel||(l?d=s.schema.getEntity(l):(n=(t=s.getTreeStore())&&t.getProxy().getReader(),r=(i=s.getProxy())?i.getReader():null,(o=!n||r&&r.initialConfig.typeProperty?r:n)&&(a=o.getTypeProperty())&&(d=o.getChildType(s.schema,e,a))),e=new d(e)),e.childNodes||(e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null,e.childNodes=[]),e},isLeaf:function(){return!0===this.get("leaf")},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e,t){var n,i=this,r=i.phantom;if(e={silent:!0,commit:e},t.depth!==i.data.depth){var o,a={depth:i.data.depth+1},s=i.childNodes,l=s.length;for(o=0;o<l;o++)s[o].set(a)}return n=i.set(t,e),i.phantom=r,n},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var e=this;return!!e.get("expandable")&&!(e.isLeaf()||e.isLoaded()&&!e.phantom&&!e.hasChildNodes())},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(e,t,n){var i,r,o,a,s,l,d,c=this,u={isLast:!0,parentId:c.getId(),depth:(c.data.depth||0)+1},h=c.getTreeStore(),f=(!h||h.triStateCheckbox,h&&h.bulkUpdate);if(Ext.suspendLayouts(),Ext.isArray(e)){for(r=e.length,l=new Array(r),c.callTreeStore("beginFill"),i=0;i<r;i++)l[i]=c.appendChild(e[i],t,n);c.callTreeStore("endFill",[l])}else{if(e=c.createNode(e),!0!==t&&!1===c.fireBubbledEvent("beforeappend",[c,e]))return Ext.resumeLayouts(!0),!1;if(o=c.childNodes.length,a=e.parentNode){if(!0!==t&&!1===e.fireBubbledEvent("beforemove",[e,a,c,o]))return Ext.resumeLayouts(!0),!1;if(!1===a.removeChild(e,!1,t,a.getTreeStore()===h))return Ext.resumeLayouts(!0),!1}h&&h.beginUpdate(),0===(o=c.childNodes.length)&&c.setFirstChild(e),c.childNodes[o]=e,e.parentNode=c,e.nextSibling=null,c.setLastChild(e),(s=c.childNodes[o-1])?(e.previousSibling=s,s.nextSibling=e,s.updateInfo(n,{isLast:!1}),f||s.triggerUIUpdate()):e.previousSibling=null,u.isFirst=0===o,u.index=o,d=e.updateInfo(n,u),c.isLeaf()&&c.set("leaf",!1),c.isLoaded()?1!==c.childNodes.length||f||c.triggerUIUpdate():f?c.data.loaded=!0:c.set("loaded",!0),o&&c.childNodes[o-1].isExpanded()&&!f&&c.childNodes[o-1].cascade(c.triggerUIUpdate),h&&(h.registerNode(c,!f),f&&h.registerNode(e)),!0!==t&&(c.fireBubbledEvent("append",[c,e,o]),a&&e.fireBubbledEvent("move",[e,a,c,o])),c.callTreeStore("onNodeAppend",[e,o]),d&&e.callJoined("afterEdit",[d]),l=e,h&&h.endUpdate()}return Ext.resumeLayouts(!0),l},getOwnerTree:function(){var e=this.getTreeStore();if(e)return e.ownerTree},getTreeStore:function(){for(var e=this;e&&!e.treeStore;)e=e.parentNode;return e&&e.treeStore},removeChild:function(e,n,i,r){var o,a,s,l,d=this,c=d.indexOf(e),u=d.getTreeStore(),h=u&&u.bulkUpdate,f=[];if(-1===c||!0!==i&&!1===d.fireBubbledEvent("beforeremove",[d,e,!!r]))return!1;if(Ext.suspendLayouts(),u&&u.beginUpdate(),Ext.Array.erase(d.childNodes,c,1),d.firstChild===e&&d.setFirstChild(e.nextSibling),d.lastChild===e&&d.setLastChild(e.previousSibling),(s=e.previousSibling)&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling)for(e.nextSibling.previousSibling=e.previousSibling,0===c&&e.nextSibling.updateInfo(!1,{isFirst:!0}),o=c,a=d.childNodes.length;o<a;o++)d.childNodes[o].updateInfo(!1,{index:o});else s&&(s.updateInfo(!1,{isLast:!0}),h||(s.isExpanded()?s.cascade(d.triggerUIUpdate):s.triggerUIUpdate()));return d.childNodes.length||h||d.triggerUIUpdate(),Ext.resumeLayouts(!0),!0!==i&&(l={parentNode:e.parentNode,previousSibling:e.previousSibling,nextSibling:e.nextSibling},d.callTreeStore("beforeNodeRemove",[[e],!!r,f]),e.previousSibling=e.nextSibling=e.parentNode=null,d.fireBubbledEvent("remove",[d,e,!!r,l]),d.callTreeStore("onNodeRemove",[[e],!!r,f])),n?e.erase(!0):e.clear(),r||e.set({parentId:null,lastParentId:d.getId()},t),u&&u.endUpdate(),e},copy:function(e,t,n){var i,r,o=[e],a=this.childNodes?this.childNodes.length:0;if(t&&t.isSession?o.push(t):arguments.length<3&&(n=t),i=this.callParent(o),n)for(r=0;r<a;r++)i.appendChild(this.childNodes[r].copy(void 0,!0));return i},clear:function(e,t){var n=this;n.parentNode=n.previousSibling=n.nextSibling=null,e&&(n.firstChild=n.lastChild=n.childNodes=null),t&&(n.firstChild=n.lastChild=null,n.childNodes.length=0,n.data&&(n.data.children=null))},drop:function(){var e,t,n,i=this,r=i.childNodes,o=i.parentNode,a=i.getTreeStore();for(i.callParent(),o?o.removeChild(i):i.get("root")&&a.setRoot(null),a&&a.beginUpdate(),t=0,e=r?r.length:0;t<e;t++)(n=r[t]).clear(),n.drop();a&&a.endUpdate()},erase:function(e){var t,n,i=this.childNodes,r=i&&i.length;for(this.remove(),this.clear(!0),this.callParent([e]),t=0;t<r;t++)(n=i[t]).parentNode=null,n.erase(e)},insertBefore:function(e,t,n){var i,r,o,a,s,l,d=this,c=d.indexOf(t),u=e.parentNode,h=c,f=d.getTreeStore(),g=f&&f.bulkUpdate;if(!t)return d.appendChild(e);if(e===t)return!1;if(e=d.createNode(e),!0!==n&&!1===d.fireBubbledEvent("beforeinsert",[d,e,t]))return!1;if(u===d&&d.indexOf(e)<c&&h--,u){if(!0!==n&&!1===e.fireBubbledEvent("beforemove",[e,u,d,c,t]))return!1;if(!1===u.removeChild(e,!1,n,u.getTreeStore()===f))return!1}for(f&&f.beginUpdate(),0===h&&d.setFirstChild(e),Ext.Array.splice(d.childNodes,h,0,e),e.parentNode=d,e.nextSibling=t,t.previousSibling=e,(r=d.childNodes[h-1])?(e.previousSibling=r,r.nextSibling=e):e.previousSibling=null,a=e.updateInfo(!1,{parentId:d.getId(),index:h,isFirst:0===h,isLast:!1,depth:(d.data.depth||0)+1}),o=h+1,i=d.childNodes.length;o<i;o++)(l=(s=d.childNodes[o]).updateInfo(!1,{index:o}))&&s.callJoined("afterEdit",[l]);return d.isLoaded()?1!==d.childNodes.length||g||d.triggerUIUpdate():g?d.data.loaded=!0:d.set("loaded",!0),f&&f.registerNode(d,!g),!0!==n&&(d.fireBubbledEvent("insert",[d,e,t]),u&&e.fireBubbledEvent("move",[e,u,d,h,t])),d.callTreeStore("onNodeInsert",[e,h]),a&&e.callJoined("afterEdit",[a]),f&&f.endUpdate(),e},insertChild:function(e,t){var n=this.childNodes[e];return n?this.insertBefore(t,n):this.appendChild(t)},isLastVisible:function(){var e=this.data.isLast,t=this.nextSibling;if(!e&&this.getTreeStore().isFiltered()){for(;t;){if(t.data.visible)return!1;t=t.nextSibling}return!0}return e},remove:function(e,t){var n=this.parentNode;return n?n.removeChild(this,e,t):e&&this.erase(!0),this},removeAll:function(e,t,n){var i,r,o,a=this,s=a.childNodes,l=s.length,d=[];if(l){for(n||(r=a.getTreeStore())&&(r.beginUpdate(),r.suspendEvent("remove"),a.callTreeStore("beforeNodeRemove",[s,!1,d])),o=0;o<l;++o)(i=s[o]).previousSibling=i.nextSibling=i.parentNode=null,a.fireBubbledEvent("remove",[a,i,!1]),e?i.erase(!0):i.removeAll(!1,t,!0);return!n&&r&&(r.resumeEvent("remove"),a.callTreeStore("onNodeRemove",[s,!1,d]),r.endUpdate()),a.firstChild=a.lastChild=null,s.length=0,n||a.triggerUIUpdate(),a}},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,n){var i=t?t.nextSibling:null;return this.removeChild(t,!1,n),this.insertBefore(e,i,n),t},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){for(var t=this.childNodes,n=t.length,i=0;i<n;++i)if(t[i].getId()===e)return i;return-1},getPath:function(e,t){e=e||this.idProperty,t=t||"/";for(var n=[this.get(e)],i=this.parentNode;i;)n.unshift(i.get(e)),i=i.parentNode;return t+n.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,n){for(var i=this;i&&!1!==e.apply(t||i,n||[i]);)i=i.parentNode},cascade:function(e,t,n,i){var r=this;if(1!==arguments.length||Ext.isFunction(e)||(i=e.after,t=e.scope,n=e.args,e=e.before),!e||!1!==e.apply(t||r,n||[r])){var o,a=r.childNodes,s=a.length;for(o=0;o<s;o++)a[o].cascade.call(a[o],e,t,n,i);i&&i.apply(t||r,n||[r])}},cascadeBy:function(){return this.cascade.apply(this,arguments)},eachChild:function(e,t,n){var i,r=this.childNodes,o=r.length;for(i=0;i<o&&!1!==e.apply(t||this,n||[r[i]]);i++);},findChild:function(e,t,n){return this.findChildBy(function(){return this.get(e)==t},null,n)},findChildBy:function(e,t,n){for(var i,r,o=this.childNodes,a=o.length,s=0;s<a;s++){if(i=o[s],!0===e.call(t||i,i))return i;if(n&&null!==(r=i.findChildBy(e,t,n)))return r}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){for(var t=this.parentNode;t;){if(t===e)return!0;t=t.parentNode}return!1},sort:function(e,t,n){var i,r,o=this,a=o.childNodes,s=a.length,l={isFirst:!0};if(s>0){for(e||(e=o.getTreeStore().getSortFn()),Ext.Array.sort(a,e),o.setFirstChild(a[0]),o.setLastChild(a[s-1]),i=0;i<s;i++)(r=a[i]).previousSibling=a[i-1],r.nextSibling=a[i+1],l.isLast=i===s-1,l.index=i,r.updateInfo(!1,l),l.isFirst=!1,t&&!r.isLeaf()&&r.sort(e,!0,!0);!0!==n&&(o.fireBubbledEvent("sort",[o,a]),o.callTreeStore("onNodeSort",[a]))}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isBranchLoaded:function(){var e=!this.isLeaf()&&this.isLoaded();return e&&this.cascade(function(t){return t.isLeaf()||(e=e||t.isBranchLoaded()),e}),e},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var e=this.parentNode;e;){if(!e.isExpanded())return!1;e=e.parentNode}return!0},expand:function(e,t,n){var i,r,o=this;o.isLeaf()?Ext.callback(t,n||o):o.isLoading()?o.on("expand",function(){o.expand(e,t,n)},o,{single:!0}):o.isExpanded()?e?o.expandChildren(!0,t,n):Ext.callback(t,n||o,[o.childNodes]):!1!==o.fireBubbledEvent("beforeexpand",[o])&&(e&&(o.parentNode&&o.parentNode.isSynchronousRecursiveExpand?o.isSynchronousRecursiveExpand=!0:((i=o.getTreeStore()).getProxy().isSynchronous||o.isBranchLoaded())&&(o.isSynchronousRecursiveExpand=!0,i.suspendEvent("add","datachanged"),r=!0)),o.callTreeStore("onBeforeNodeExpand",[o.onChildNodesAvailable,o,[e,t,n]]),r&&(i.resumeEvent("add","datachanged"),i.fireEvent("datachanged",i),i.fireEvent("refresh",i)),o.isSynchronousRecursiveExpand=!1)},onChildNodesAvailable:function(e,t,n,i){var r,o,a,s=this,l=s.getTreeStore(),d=l&&l.bulkUpdate;for(Ext.suspendLayouts(),r=s.parentNode;r;r=r.parentNode)r.isExpanded()||(a||(a=[])).unshift(r);if(d||!l.isVisible(s)?s.data.expanded=!0:s.set("expanded",!0),a){for(o=1;o<a.length;o++)r=a[o],d||!l.isVisible(r)?r.data.expanded=!0:r.set("expanded",!0);for(a[0].expand(),o=1;o<a.length;o++)(r=a[o]).fireBubbledEvent("expand",[r,r.childNodes])}else s.callTreeStore("onNodeExpand",[e,!1]);s.fireBubbledEvent("expand",[s,e]),t?s.expandChildren(!0,n,i):Ext.callback(n,i||s,[s.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(e,t,n,i){var r,o,a,s,l,d,c;for(Ext.isBoolean(t)&&(r=t,t=n,n=i,i=r),void 0===i&&(i=(c=this.getTreeStore())&&c.singleExpand),a=this.childNodes,s=[],l=i?Math.min(a.length,1):a.length,o=0;o<l;++o)(d=a[o]).isLeaf()||(s[s.length]=d);for(l=s.length,o=0;o<l;++o)s[o].expand(e);t&&Ext.callback(t,n||this,[this.childNodes])},collapse:function(e,t,n){var i,r,o=this,a=o.isExpanded(),s=o.getTreeStore(),l=s&&s.bulkUpdate,d=o.childNodes.length;if(!o.isLeaf()&&(!a&&e||!1!==o.fireBubbledEvent("beforecollapse",[o]))){if(Ext.suspendLayouts(),o.isExpanded())e?(r=function(){for(i=0;i<d;i++)o.childNodes[i].setCollapsed(!0)},t=t?Ext.Function.createSequence(r,Ext.Function.bind(t,n,[o.childNodes])):r):t&&(t=Ext.Function.bind(t,n,[o.childNodes])),l||!s.contains(o)?o.data.expanded=!1:o.set("expanded",!1),o.callTreeStore("onNodeCollapse",[o.childNodes,t,n]),o.fireBubbledEvent("collapse",[o,o.childNodes]),t=null;else if(e)for(i=0;i<d;i++)o.childNodes[i].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(t,n||o,[o.childNodes])},setCollapsed:function(e){var t,n=this,i=n.childNodes.length;if(!n.isLeaf()&&!1!==n.fireBubbledEvent("beforecollapse",[n])&&(n.data.expanded=!1,n.fireBubbledEvent("collapse",[n,n.childNodes]),e))for(t=0;t<i;t++)n.childNodes[t].setCollapsed(!0)},collapseChildren:function(e,t,n){var i,r,o=this.childNodes,a=o.length,s=[];for(i=0;i<a;++i)!(r=o[i]).isLeaf()&&r.isLoaded()&&r.isExpanded()&&s.push(r);if(a=s.length)for(i=0;i<a;++i)r=s[i],i===a-1?r.collapse(e,t,n):r.collapse(e);else Ext.callback(t,n)},fireEvent:function(e){return this.fireBubbledEvent(e,Ext.Array.slice(arguments,1))},fireBubbledEvent:function(t,n){var i,r,o;if(e[t]){for(r=this;!1!==i&&r;r=(o=r).parentNode)i=r.fireEventArgs.call(r,t,n);return!1!==i&&(r=o.getTreeStore())&&r.hasListeners&&r.hasListeners[t="node"+t]&&(i=r.fireEventArgs(t,n)),i}return this.fireEventArgs.apply(this,arguments)},serialize:function(e){var t,n,i=e||new Ext.data.writer.Json({writeAllFields:!0}),r=i.getRecordData(this),o=this.childNodes,a=o.length;if(a>0)for(r.children=t=[],n=0;n<a;n++)t.push(o[n].serialize(i));return r},callTreeStore:function(e,t){var n=this.getTreeStore(),i=n&&n[e];n&&i&&((t=t||[])[0]!==this&&t.unshift(this),i.apply(n,t))},addCls:function(e){this.replaceCls(null,e)},removeCls:function(e){this.replaceCls(e)},replaceCls:function(e,t){var n=this._parseCls(this.data.cls),i=this._parseCls(e);i.length&&(n=Ext.Array.difference(n,i)),(i=this._parseCls(t)).length&&(n=Ext.Array.unique(n.concat(i))),this.set("cls",n.join(" "))},toggleCls:function(e,t){if(void 0===t){var n,i,r=this._parseCls(this.data.cls),o=this._parseCls(e),a=o.length;for(n=0;n<a;++n)i=o[n],Ext.Array.contains(r,i)?Ext.Array.remove(r,i):r.push(i);this.set("cls",r.join(" "))}else t?this.addCls(e):this.removeCls(e)},privates:{_noCls:[],spacesRe:/\s+/,join:function(e){e.isTreeStore?this.isRoot()&&(this.treeStore=this.store=e):this.callParent([e])},callJoined:function(e,t){this.callParent([e,t]),this.callTreeStore(e,t)},_parseCls:function(e){return e?"string"==typeof e?e.split(this.spacesRe):e:this._noCls}}}}}}),Ext.define("Ext.mixin.Queryable",{mixinId:"queryable",isQueryable:!0,query:function(e){return e=e||"*",Ext.ComponentQuery.query(e,this.getQueryRoot())},queryBy:function(e,t){for(var n,i=[],r=this.getQueryRoot().getRefItems(!0),o=0,a=r.length;o<a;++o)n=r[o],!1!==e.call(t||n,n)&&i.push(n);return i},queryById:function(e){return this.down(Ext.makeIdSelector(e))},child:function(e){var t=this.getQueryRoot().getRefItems();return e&&e.isComponent?this.matchById(t,e.getItemId()):(e&&(t=Ext.ComponentQuery.query(e,t)),t.length?t[0]:null)},down:function(e){return e&&e.isComponent?this.matchById(this.getRefItems(!0),e.getItemId()):(e=e||"",this.query(e)[0]||null)},visitPreOrder:function(e,t,n,i){Ext.ComponentQuery._visit(!0,e,this.getQueryRoot(),t,n,i)},visitPostOrder:function(e,t,n,i){Ext.ComponentQuery._visit(!1,e,this.getQueryRoot(),t,n,i)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(e,t){var n,i,r=e.length;for(n=0;n<r;++n)if((i=e[n]).getItemId()===t)return i;return null}}}),Ext.define("Ext.data.TreeModel",{extend:"Ext.data.Model",requires:["Ext.data.NodeInterface"],mixins:["Ext.mixin.Queryable"],getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:"memory"}},function(){Ext.data.NodeInterface.decorate(this)}),Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.TreeModel","Ext.data.NodeInterface"],isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},implicitModel:"Ext.data.TreeModel",getTotalCount:function(){return this.getCount()},updateFolderSort:function(e){var t=this.getData();t.setTrackGroups(!1),e?t.setGrouper({groupFn:this.folderSortFn}):t.setGrouper(null)},folderSortFn:function(e){return e.data.leaf?1:0},afterReject:function(e){this.contains(e)&&(this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null))},afterCommit:function(e,t){t||(t=null),this.contains(e)&&(this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t))},onNodeAppend:function(e,t){e===this.getNode()&&this.add([t].concat(this.retrieveChildNodes(t)))},onNodeInsert:function(e,t,n){e===this.getNode()&&(this.indexOf(n)||0,this.insert(0,[t].concat(this.retrieveChildNodes(t))))},onNodeRemove:function(e,t){e===this.getNode()&&this.remove([t].concat(this.retrieveChildNodes(t)))},onNodeExpand:function(e,t){e===this.getNode()&&this.loadRecords(t)},applyNode:function(e){return e&&(e.isModel||(e=new(this.getModel())(e)),e.isNode||Ext.data.NodeInterface.decorate(e)),e},updateNode:function(e,t){var n,i=this;t&&!t.destroyed&&(t.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",scope:i}),t.unjoin(i)),e&&(e.on({scope:i,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove"}),e.join(i),n=[],e.childNodes.length&&(n=n.concat(i.retrieveChildNodes(e))),i.getRootVisible()?n.push(e):(e.isLoaded()||e.isLoading())&&e.set("expanded",!0),i.getData().clear(),i.fireEvent("clear",i),i.suspendEvents(),i.isInitializing?i.inlineData=n:i.add(n),i.resumeEvents(),0===n.length&&(i.loaded=e.loaded=!0),i.fireEvent("refresh",i,i.data))},isVisible:function(e){var t=e.parentNode;if(!this.getRecursive()&&t!==this.getNode())return!1;for(;t;){if(!t.isExpanded())return!1;if(t===this.getNode())break;t=t.parentNode}return!0},privates:{retrieveChildNodes:function(e){var t=this.getNode(),n=this.getRecursive(),i=[],r=e;if(!e.childNodes.length||!n&&e!==t)return i;if(!n)return e.childNodes;for(;r;)if(r._added){if(delete r._added,r===e)break;r=r.nextSibling||r.parentNode}else r!==e&&i.push(r),r.firstChild?(r._added=!0,r=r.firstChild):r=r.nextSibling||r.parentNode;return i}}}),Ext.define("Ext.data.Request",{isDataRequest:!0,config:{action:void 0,params:void 0,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:void 0,xmlData:void 0,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(e){this.initConfig(e)},getParam:function(e){var t=this.getParams();if(t)return t[e]},setParam:function(e,t){var n=this.getParams()||{};n[e]=t,this.setParams(n)}}),Ext.define("Ext.data.TreeStore",{extend:"Ext.data.Store",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.TreeModel","Ext.data.NodeInterface"],isTreeStore:!0,config:{root:null,rootVisible:!1,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:!1,pageSize:null},filterer:"topdown",lazyFill:!1,fillCount:0,bulkUpdate:0,nodesToUnregister:0,_silentOptions:{silent:!0},implicitModel:"Ext.data.TreeModel",constructor:function(e){var t=this;t.byIdMap={},t.callParent([e]),Ext.isDefined(t.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),t.nodeParam=t.nodeParameter,delete t.nodeParameter)},applyFields:function(e,t){e&&this.defaultRootProperty!==this.self.prototype.config.defaultRootProperty&&(e=e.concat({name:this.defaultRootProperty,type:"auto",defaultValue:null,persist:!1})),this.callParent([e,t])},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange(),n=e.getRoot(),i=e.getFolderSort();e.fireEvent("beforesort",e,t),n&&(i||t.length)?e.getRemoteSort()?t.length&&e.load({callback:function(){e.fireEvent("sort",e,t)}}):(n.sort(this.getSortFn(),!0),e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("sort",e,t)):e.fireEvent("sort",e,t)},updateFolderSort:function(e){this.needsFolderSort=e,this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var e=this,t=this.sorters.getSortFn();return function(n,i){var r=0;return e.needsFolderSort&&(r=(n.data.leaf?1:0)-(i.data.leaf?1:0)),e.needsIndexSort&&0===r&&(r=n.data.index-i.data.index),r||t(n,i)}},getTotalCount:function(){return this.getCount()},afterEdit:function(e,t){var n,i,r,o=this,a=e.parentNode,s=o.getRootVisible(),l=!a&&!s,d=e.get("visible");l||d===o.contains(e)?o.getRoot()&&o.needsLocalFilter()&&o.onFilterEndUpdate(o.getFilters()):d?a&&!o.isVisible(e)||(i=[e],e.isExpanded()&&o.handleNodeExpand(e,e.childNodes,i),n=e.previousSibling?o.indexOfPreviousVisibleNode(e.previousSibling):a?o.indexOf(a):-1,o.insert(n+1,i)):(r=o.indexOf(e),o.removeAt(r,o.indexOfNextVisibleNode(e)-r)),o.callParent([e,t])},afterReject:function(e){this.contains(e)&&(this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null))},afterCommit:function(e,t){t||(t=null),this.contains(e)&&(this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t))},updateRootVisible:function(e){var t,n=this.getRoot();n&&(t=this.getData(),e?t.insert(0,n):t.remove(n))},updateTrackRemoved:function(e){this.callParent(arguments),this.removedNodes=this.removed,this.removed=null},onDestroyRecords:function(e,t,n){n&&(this.removedNodes.length=0)},updateProxy:function(e){var t;e&&(e.setIdParam&&e.setIdParam(this.getNodeParam()),t=e.getReader(),Ext.isEmpty(t.getRootProperty())&&t.setRootProperty(this.getDefaultRootProperty()))},setProxy:function(e){this.changingProxy=!0,this.callParent([e]),this.changingProxy=!1},updateModel:function(e){if(e){var t=e.prototype.isNode;Ext.data.NodeInterface.decorate(e),t||this.changingProxy||this.getProxy().getReader().buildExtractors(!0)}},onCollectionFilter:Ext.emptyFn,onFilterEndUpdate:function(e){var t,n,i,r,o=this,a=e.length,s=o.getRoot();if(o.getRemoteFilter())o.callParent([e]);else{if(a?o.doFilter(s):s.cascade({after:function(e){e.set("visible",!0,o._silentOptions)}}),a)for(i=[],r=0,a=(t=s.childNodes).length;r<a;r++)(n=t[r]).get("visible")&&i.push(n);else i=s.childNodes;o.onNodeFilter(s,i),s.fireEvent("filterchange",s,i),o.suppressNextFilter=!0,o.callParent([e]),o.suppressNextFilter=!1}},onNodeFilter:function(e,t){var n=this,i=n.getData(),r=[];n.getRootVisible()&&e.get("visible")&&r.push(e),n.handleNodeExpand(e,t,r),n.suspendEvents(),i.splice(0,i.getCount(),r),n.resumeEvents(),n.suppressNextFilter||(n.fireEvent("datachanged",n),n.fireEvent("refresh",n))},onBeforeNodeExpand:function(e,t,n,i){var r,o,a,s,l,d,c=this;e.isLoaded()?(d=[e.childNodes],i&&d.push.apply(d,i),Ext.callback(t,n||e,d)):e.isLoading()?c.on("load",function(){d=[e.childNodes],i&&d.push.apply(d,i),Ext.callback(t,n||e,d)},c,{single:!0,priority:1001}):(r=c.getProxy().getReader(),(l=(s=(a=(o=e.getProxy())?o.getReader():null)&&a.initialConfig.rootProperty?a:r).getRoot(e.raw||e.data))||e.phantom&&!e.isRoot()?(l&&c.fillNode(e,s.extractData(l,{model:e.childType,recordCreator:c.recordCreator})),d=[e.childNodes],i&&d.push.apply(d,i),Ext.callback(t,n||e,d)):(c.read({node:e,onChildNodesAvailable:function(){delete c.lastOptions.onChildNodesAvailable,d=[e.childNodes],i&&d.push.apply(d,i),Ext.callback(t,n||e,d)}}),c.flushLoad()))},onNodeExpand:function(e,t){var n=this,i=n.indexOf(e)+1,r=[];n.handleNodeExpand(e,t,r),n.refreshCounter||!e.isRoot()||e.get("visible")?n.insert(i,r):n.loadRecords(r)},handleNodeExpand:function(e,t,n){var i,r,o=t?t.length:0;if((e===this.getRoot()||this.isVisible(e))&&o)for(i=0;i<o;i++)(r=t[i]).get("visible")&&(n.push(r),r.isExpanded()&&(r.isLoaded()?this.handleNodeExpand(r,r.childNodes,n):(r.set("expanded",!1),r.expand())))},onNodeCollapse:function(e,t,n,i){var r,o=this,a=o.indexOf(e)+1;o.needsLocalFilter()&&(t=Ext.Array.filter(t,o.filterVisible)),t.length&&o.isVisible(e)&&(r=o.indexOfNextVisibleNode(e),o.removeAt(a,r-a)),Ext.callback(n,i)},indexOfNextVisibleNode:function(e){for(var t;e.parentNode;){for(t=e.nextSibling;t&&!t.get("visible");t=t.nextSibling);if(t)return this.indexOf(t);e=e.parentNode}return this.getCount()},indexOfPreviousVisibleNode:function(e){var t;for(t=e;t&&!t.get("visible");t=t.previousSibling);if(t){if(t.isExpanded()&&t.lastChild)return this.indexOfPreviousVisibleNode(t.lastChild)}else t=e.parentNode;return this.indexOf(t)},filterNew:function(e){return!e.get("root")&&this.callParent([e])},filterRejects:function(e){return!e.get("root")&&this.callParent([e])},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getRejectRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterRejects,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(e,t,n,i){Ext.isArray(t)||(t=[t]);var r,o,a=this,s=t.length,l=a.removedNodes;for(r=0;!o&&r<s;r++)t[r].get("visible")&&(o=t[r]);for(o?(i[0]=a.indexOf(t[0]),i[1]=a.indexOfNextVisibleNode(t[t.length-1])-i[0]):(i[0]=-1,i[1]=0),r=0;r<s;r++)t[r].cascade(function(e){a.unregisterNode(e,!0),l&&!n&&(e.phantom||e.erasing||a.loading||(e.removedFrom=a.indexOf(e),l.push(e),a.needsSync=!0))})},afterDrop:Ext.emptyFn,onNodeRemove:function(e,t,n,i){var r=this;r.suspendAutoSync(),-1!==i[0]&&(r.removeIsMove=n,r.removeAt.apply(r,i),r.removeIsMove=!1),r.resumeAutoSync()},onNodeAppend:function(e,t,n){this.onNodeInsert(e,t,n)},onNodeInsert:function(e,t,n){var i,r,o,a,s,l,d=this,c=t.raw||t.data,u=d.removedNodes;e&&d.needsLocalFilter()&&d.doFilter(e),d.beginUpdate(),d.isVisible(t)&&(l=0!==n&&t.previousSibling?d.indexOfPreviousVisibleNode(t.previousSibling):d.indexOf(e),d.insert(l+1,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?d.onNodeExpand(t,t.childNodes):d.fillCount||(t.set("expanded",!1),t.expand()))),Ext.Array.remove(u,t),d.needsSync=d.needsSync||t.phantom||t.dirty,t.isLeaf()||t.isLoaded()||d.lazyFill||(i=d.getProxy().getReader(),(s=(a=(o=(r=t.getProxy())?r.getReader():null)&&o.initialConfig.rootProperty?o:i).getRoot(c))&&d.fillNode(t,a.extractData(s,{model:t.childType,recordCreator:d.recordCreator}))),d.endUpdate()},registerNode:function(e,t){var n,i,r,o=this,a=o.byIdMap[e.id];if(o.byIdMap[e.id]=e,e.onRegisterTreeNode&&e!==a&&e.onRegisterTreeNode(o),e.onUnregisterTreeNode&&o.nodesToUnregister++,!0===t)for(i=(n=e.childNodes).length,r=0;r<i;r++)o.registerNode(n[r],!0)},unregisterNode:function(e,t){var n,i,r,o=this,a=o.byIdMap[e.id];if(delete o.byIdMap[e.id],!0===t)for(i=(n=e.childNodes).length,r=0;r<i;r++)o.unregisterNode(n[r],!0);e.onUnregisterTreeNode&&e===a&&(e.onUnregisterTreeNode(o),o.nodesToUnregister--)},onNodeSort:function(e,t){var n=this;n.suspendAutoSync(),(-1!==n.indexOf(e)&&e.isExpanded()||e===n.getRoot()&&!n.getRootVisible())&&(Ext.suspendLayouts(),n.onNodeCollapse(e,t),n.onNodeExpand(e,t),Ext.resumeLayouts(!0)),n.resumeAutoSync(n.autoSync)},applyRoot:function(e){var t=this.getModel(),n=t.prototype.idProperty,i=this.getDefaultRootId();return e&&!e.isNode&&(e=Ext.apply({text:this.getDefaultRootText(),root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},e),i&&void 0===e[n]&&(e[n]=i),e=new t(e)),e},updateRoot:function(e,t){var n,i,r=this,o=!t,a=[];if(r.getTrackRemoved(),r.suspendEvent("add","remove"),t&&t.isModel&&(i=r.getRootVisible()?[t]:t.childNodes,r.beforeNodeRemove(null,i,!1,a),t.set("root",!1),r.onNodeRemove(null,i,!1,a),t.fireEvent("remove",null,t,!1),t.fireEvent("rootchange",null),t.clearListeners(),t.store=t.treeStore=null,r.unregisterNode(t)),r.getData().clear(),e)if(!1===e.fireEventArgs("beforeappend",[null,e]))e=null;else{if(n=e.parentNode){if(!n.removeChild(e,!1,!1,n.getTreeStore()===r))return}else(n=e.getTreeStore())&&n!==r&&e===n.getRoot()&&n.setRoot(null);e.store=e.treeStore=r,e.set("root",!0),e.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),r.registerNode(e,!0),e.fireEvent("append",null,e,!1),e.fireEvent("rootchange",e),r.onNodeAppend(null,e,0),e.phantom=!0}r.fireEvent("rootchange",e,t),e&&(r.getAutoLoad()||e.isExpanded())?e.isLoaded()?(r.onNodeExpand(e,e.childNodes),r.fireEvent("datachanged",r),r.fireEvent("refresh",r)):(e.data.expanded=!1,e.expand(!1),e.isLoaded&&!r.getProxy().isSynchronous&&(r.fireEvent("datachanged",r),r.fireEvent("refresh",r))):o||(r.fireEvent("datachanged",r),r.fireEvent("refresh",r)),r.resumeEvent("add","remove")},doDestroy:function(){var e=this,t=e.getRoot();t&&e.nodesToUnregister&&t.cascade(function(t){t.onUnregisterTreeNode&&t.onUnregisterTreeNode(e)}),e.callParent()},each:function(e,t,n){var i,r=0;if(n&&"object"==typeof n&&(i=n.collapsed,n=n.filtered),!i)return this.callParent([e,t,n]);this.getRoot().cascade(function(i){if(!0===n||i.get("visible"))return e.call(t||i,i,r++)})},collect:function(e,t,n){var i,r,o,a={},s=[];return t&&"object"==typeof t&&(i=t.collapsed,n=t.filtered,t=t.allowNull),i||n?this.getRoot().cascade(function(l){if((!0===n||l.get("visible"))&&(o=l.get(e),r=String(o),!t&&Ext.isEmpty(o)||a[r]||(a[r]=1,s.push(o))),!i&&!l.isExpanded())return!1}):s=this.callParent([e,t,n]),s},getNodeById:function(e){return this.byIdMap[e]||null},findNode:function(e,t,n,i,r){if(Ext.isEmpty(t,!1))return null;if(e===this.model.idProperty&&arguments.length<3)return this.byIdMap[t];var o=Ext.String.createRegex(t,n,i,r),a=null;return Ext.Object.eachValue(this.byIdMap,function(t){if(t&&o.test(t.get(e)))return a=t,!1}),a},load:function(e){var t=e&&e.node;if(!t&!(t=this.getRoot()))t=this.setRoot({expanded:!0});else if(!t.isLoading())return this.callParent([e])},reload:function(e){var t=Ext.apply({},e,this.lastOptions);return t.node=this.getRoot(),this.load(t)},flushLoad:function(){var e,t,n,i,r,o,a=this,s=a.pendingLoadOptions,l=a.getClearOnLoad();if(a.clearLoadTask(),s)return i=(e=s.node||a.getRoot())&&e.isRoot(),t=s.callback,n=s.scope,s.params=s.params||{},e.data.expanded&&!i&&(e.data.loaded=!1,l&&(e.data.expanded=!1),s.callback=function(i,r,o){l||e.collapse(),e.expand(),Ext.callback(t,n,[i,r,o])}),s.id=e.getId(),a.setLoadOptions(s),a.getRemoteSort()&&s.sorters&&a.fireEvent("beforesort",a,s.sorters),s=Ext.apply({node:s.node||e,internalScope:a,internalCallback:a.onProxyLoad},s),a.lastOptions=Ext.apply({},s),s.isRootLoad=i,r=a.createOperation("read",s),!1!==a.fireEvent("beforeload",a,r)&&(a.loading=!0,i?(a.getClearRemovedOnLoad()&&(a.removedNodes.length=0),l&&(a.unregisterNode(e,!0),e.clear(!1,!0),a.registerNode(e),o=!0)):(a.getTrackRemoved()&&a.getClearRemovedOnLoad()&&a.clearRemoved(e),l&&e.removeAll(!1)),a.loading&&e&&e.set("loading",!0),o&&(a.clearData(!0),a.getRootVisible()&&(a.suspendEvents(),a.add(e),a.resumeEvents())),r.execute()),a},onProxyLoad:function(e){var t=this,n=e.initialConfig,i=e.wasSuccessful(),r=e.getRecords(),o=n.node,a=n.isRootLoad,s=e.getScope()||t,l=[r,e,i];t.destroyed||(t.loading=!1,o.set("loading",!1),i&&(++t.loadCount,t.getClearOnLoad()||(r=t.cleanRecords(o,r)),t.getParentIdProperty()&&(r=t.treeify(o,r)),a&&t.suspendEvent("add","update"),r=t.fillNode(o,r)),Ext.callback(n.onChildNodesAvailable,s,l),a&&(t.resumeEvent("add","update"),t.callObservers("BeforePopulate"),t.fireEvent("datachanged",t),t.fireEvent("refresh",t),t.callObservers("AfterPopulate")),t.fireEvent("load",t,r,i,e,o))},clearRemoved:function(e){var t,n,i,r=this,o=r.removedNodes,a=e.getId(),s=o.length,l=s,d={},c=[],u={};if(e!==r.getRoot()){for(;l--;)u[(t=o[l]).getId()]=t;for(l=s;l--;){for(n=t=o[l];n&&n.getId()!==a;)i=n.get("parentId")||n.get("lastParentId"),n=n.parentNode||r.getNodeById(i)||u[i];n&&(d[t.getId()]=t)}for(l=0;l<s;l++)d[(t=o[l]).getId()]||c.push(t);r.removedNodes=c}else r.removedNodes.length=0},fillNode:function(e,t){var n=this,i=t?t.length:0;return 1==++n.bulkUpdate&&n.suspendEvent("datachanged"),i&&n.setupNodes(t),1===n.bulkUpdate?e.set("loaded",!0):e.data.loaded=!0,t.length&&e.appendChild(t,void 0,!0),--n.bulkUpdate||n.resumeEvent("datachanged"),t},setupNodes:function(e){var t,n,i,r=this,o=r.getSorters(),a=!1,s=e.length,l=r.sortOnLoad&&s>1&&!r.getRemoteSort()&&r.getFolderSort()||o.length,d=r.needsLocalFilter();for(d&&r.doFilter(e[0]),i=1;i<s;i++)t=e[i],n=e[i-1],d&&r.doFilter(t),a=t.data.index!==n.data.index;l?(r.needsIndexSort=!0,Ext.Array.sort(e,r.getSortFn()),r.needsIndexSort=!1):a&&Ext.Array.sort(e,r.sortByIndex)},beginFill:function(){var e=this;e.fillCount++||(e.beginUpdate(),e.suspendEvent("add","update"),e.suspendAutoSync(),e.fillArray=[])},endFill:function(e,t){var n,i,r,o=this,a=o.fillArray;if(a.push(t),!--o.fillCount){for(o.resumeAutoSync(),o.resumeEvent("add","update"),n=0,i=a.length;n<i;n++)-1!==(r=o.indexOf(a[n][0]))&&o.fireEvent("add",o,a[n],r);o.fillArray=null,o.endUpdate()}},sortByIndex:function(e,t){return e.data.index-t.data.index},onIdChanged:function(e,t,n){var i,r=e.childNodes,o=r&&r.length;for(this.callParent(arguments),delete this.byIdMap[t],this.byIdMap[n]=e,i=0;i<o;i++)r[i].set("parentId",n)},treeify:function(e,t){var n,i,r,o,a,s,l=e.getId(),d=this.getParentIdProperty(),c=t.length,u=[],h={};for(n=0;n<c;n++)(i=t[n]).data.depth=1,h[i.id]=i;for(n=0;n<c;n++)!(r=(i=t[n]).data[d])&&0!==r||r===l?u.push(i):(h[r]||Ext.raise('Ext.data.TreeStore, Invalid parentId "'+r+'"'),(o=h[r]).$children=o.$children||[],o.$children.push(i),i.data.depth=o.data.depth+1);for(a in h)(s=(i=h[a]).$children)&&(delete i.$children,this.setupNodes(s),i.appendChild(s)),this.registerNode(i);return this.setupNodes(u),u},cleanRecords:function(e,t){for(var n,i={},r=e.childNodes,o=0,a=r.length,s=[];o<a;++o)i[r[o].getId()]=!0;for(o=0,a=t.length;o<a;++o)i[(n=t[o]).getId()]||s.push(n);return s},removeAll:function(){this.suspendEvents(),this.setRoot(null),this.resumeEvents(),this.callParent()},doSort:function(e){var t=this;t.getRemoteSort()?t.load():(t.tree.sort(e,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())},filterVisible:function(e){return e.get("visible")},isVisible:function(e){for(var t=e.parentNode,n=e.data.visible,i=this.getRoot();n&&t;)n=t.data.expanded&&t.data.visible,t=t.parentNode;return n&&!(e===i&&!this.getRootVisible())},commitChanges:function(){var e=this.removedNodes;e&&(e.length=0),this.callParent()},getRootNode:function(){return this.getRoot()},setRootNode:function(e){return this.setRoot(e),this.getRoot()},privates:{fireChangeEvent:function(e){return!!this.byIdMap[e.id]},getRawRemovedRecords:function(){return this.removedNodes},createOperation:function(e,t){var n,i=t.node;return this.useModelProxy&&i&&i!==this.getRootNode()&&(n=i.getProxy()),n&&n!==this.getProxy()?n.createOperation(e,t):this.callParent([e,t])},recordCreator:function(e,t){return new t(e)},doFilter:function(e){this.filterNodes(e,this.getFilters().getFilterFn(),!0)},filterNodes:function(e,t,n){var i,r,o="bottomup"===this.filterer,a=t(e)&&n||e.isRoot()&&!this.getRootVisible(),s=e.childNodes,l=s&&s.length;if(l){for(i=0;i<l;++i)r=this.filterNodes(s[i],t,a||o)||r;o&&(a=r||a)}return e.set("visible",a,this._silentOptions),a},needsLocalFilter:function(){return!this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(e,t){this.getData().setFilters(null),e&&e.on("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(e,t){this.getData().setSorters(null),e&&e.on("endupdate",this.onSorterEndUpdate,this)}},deprecated:{5:{properties:{tree:null}}}}),Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"]},function(e){var t=Ext.data.SortTypes;Ext.apply(e,{stripRe:/[\$,%]/g,AUTO:{sortType:t.none,type:"auto"},STRING:{convert:function(e){var t=this.getAllowNull()?null:"";return void 0===e||null===e?t:String(e)},sortType:t.asUCString,type:"string"},INT:{convert:function(t){return"number"==typeof t?parseInt(t,10):void 0!==t&&null!==t&&""!==t?parseInt(String(t).replace(e.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"int"},FLOAT:{convert:function(t){return"number"==typeof t?t:void 0!==t&&null!==t&&""!==t?parseFloat(String(t).replace(e.stripRe,""),10):this.getAllowNull()?null:0},sortType:t.none,type:"float"},BOOL:{convert:function(e){return"boolean"==typeof e?e:!this.getAllowNull()||void 0!==e&&null!==e&&""!==e?"true"===e||1==e:null},sortType:t.none,type:"bool"},DATE:{convert:function(e){var t,n=this.getDateReadFormat()||this.getDateFormat();return e?e instanceof Date?e:n?Ext.Date.parse(e,n):(t=Date.parse(e))?new Date(t):null:null},sortType:t.asDate,type:"date"}}),e.BOOLEAN=e.BOOL,e.INTEGER=e.INT,e.NUMBER=e.FLOAT}),Ext.define("Ext.data.Validation",{extend:"Ext.data.Model",isValidation:!0,syncGeneration:0,attach:function(e){this.record=e,this.isBase=e.self===Ext.data.Model,delete this.data.id},getValidation:function(){return null},isValid:function(){return this.syncGeneration!==this.record.generation&&this.refresh(),!this.dirty},refresh:function(e){if(!this.isBase){var t,n,i,r,o,a,s,l,d,c=this,u=c.data,h=c.record,f=h.fields,g=h.generation,p=h.data,m=h.validationSeparator,x=null;if(e||c.syncGeneration!==g){for(c.syncGeneration=g,o=0,a=f.length;o<a;++o)l=p[d=(r=f[o]).name],t=r.defaultInvalidMessage,i=0,d in u?n=u[d]:u[d]=n=!0,r.validate!==Ext.emptyFn&&!0!==(s=r.validate(l,m,null,h))&&(i=s||t),i||(i=!0),i!==n&&((x||(x={}))[d]=i);x&&c.set(x)}}}}),Ext.define("Ext.dom.Helper",function(){var e=["BeforeBegin","previousSibling"],t=["AfterEnd","nextSibling"],n={beforebegin:e,afterend:t},i={beforebegin:e,afterend:t,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:!0,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){var e=/([a-z])([A-Z])/g,t={};function n(e,t,n){return t+"-"+n.toLowerCase()}return function(i){return t[i]||(t[i]=i.replace(e,n))}}(),generateMarkup:function(e,t){var n,i,r,o,a,s=this,l=typeof e;if("string"===l||"number"===l)t.push(e);else if(Ext.isArray(e))for(o=0;o<e.length;o++)e[o]&&s.generateMarkup(e[o],t);else{for(n in r=e.tag||"div",t.push("<",r),e)e.hasOwnProperty(n)&&(void 0===(i=e[n])||s.confRe.test(n)||(i&&i.join&&(i=i.join(" ")),"object"==typeof i?(t.push(" ",n,'="'),s.generateStyles(i,t,!0).push('"')):t.push(" ",s.attributeTransform[n]||n,'="',i,'"')));s.emptyTags.test(r)?t.push("/>"):(t.push(">"),(i=e.tpl)&&i.applyOut(e.tplData,t),(i=e.html)&&t.push(i),(i=e.cn||e.children)&&s.generateMarkup(i,t),a=s.closeTags,t.push(a[r]||(a[r]="</"+r+">")))}return t},generateStyles:function(e,t,n){var i,r,o=t||[];for(i in e)e.hasOwnProperty(i)&&(r=e[i],i=this.decamelizeName(i),n&&Ext.String.hasHtmlCharacters(r)&&(r=Ext.String.htmlEncode(r)),o.push(i,":",r,";"));return t||o.join("")},markup:function(e){return"string"==typeof e?e:this.generateMarkup(e,[]).join("")},applyStyles:function(e,t){Ext.fly(e).applyStyles(t)},createContextualFragment:function(e){var t,n,i=this.detachedDiv,r=document.createDocumentFragment();for(i.innerHTML=e,t=(n=i.childNodes).length;t--;)r.appendChild(n[0]);return r},createDom:function(e,t){var n,i=this.markup(e),r=this.detachedDiv;return r.innerHTML=i,n=r.firstChild,Ext.supports.ChildContentClearedWhenSettingInnerHTML?n.cloneNode(!0):n},insertHtml:function(e,t,r){var o,a,s,l,d;if(e=e.toLowerCase(),!t.insertAdjacentHTML){if(3===t.nodeType&&(e="beforeend"===(e="afterbegin"===e?"beforebegin":e)?"afterend":e),a=Ext.supports.CreateContextualFragment?t.ownerDocument.createRange():void 0,l="setStart"+(this.endRe.test(e)?"After":"Before"),n[e])return a?(a[l](t),d=a.createContextualFragment(r)):d=this.createContextualFragment(r),t.parentNode.insertBefore(d,"beforebegin"===e?t:t.nextSibling),t[("beforebegin"===e?"previous":"next")+"Sibling"];if(s=("afterbegin"===e?"first":"last")+"Child",t.firstChild){if(a)try{a[l](t[s]),d=a.createContextualFragment(r)}catch(e){d=this.createContextualFragment(r)}else d=this.createContextualFragment(r);"afterbegin"===e?t.insertBefore(d,t.firstChild):t.appendChild(d)}else t.innerHTML=r;return t[s]}return this.ieInsertHtml&&(d=this.ieInsertHtml(e,t,r))?d:(o=i[e])?(t.insertAdjacentHTML(o[0],r),t[o[1]]):void Ext.raise({sourceClass:"Ext.DomHelper",sourceMethod:"insertHtml",htmlToInsert:r,targetElement:t,msg:'Illegal insertion point reached: "'+e+'"'})},insertBefore:function(e,t,n){return this.doInsert(e,t,n,"beforebegin")},insertAfter:function(e,t,n){return this.doInsert(e,t,n,"afterend")},insertFirst:function(e,t,n){return this.doInsert(e,t,n,"afterbegin")},append:function(e,t,n){return this.doInsert(e,t,n,"beforeend")},overwrite:function(e,t,n){var i;return e=Ext.getDom(e),t=this.markup(t),this.ieOverwrite&&(i=this.ieOverwrite(e,t)),i||(e.innerHTML=t,i=e.firstChild),n?Ext.get(i):i},doInsert:function(e,t,i,r){var o;return"innerHTML"in(e=e.dom||Ext.getDom(e))?o=this.insertHtml(r,e,this.markup(t)):(o=this.createDom(t,null),3===e.nodeType&&(r="beforeend"===(r="afterbegin"===r?"beforebegin":r)?"afterend":r),n[r]?e.parentNode.insertBefore(o,"beforebegin"===r?e:e.nextSibling):e.firstChild&&"afterbegin"===r?e.insertBefore(o,e.firstChild):e.appendChild(o)),i?Ext.get(o):o},createTemplate:function(e){var t=this.markup(e);return new Ext.Template(t)},createHtml:function(e){return this.markup(e)}}}),Ext.define("Ext.overrides.dom.Helper",(tableRe=/^(?:table|thead|tbody|tr|td)$/i,tableElRe=/td|tr|tbody|thead/i,ts="<table>",te="</table>",tbs=ts+"<tbody>",tbe="</tbody>"+te,{override:"Ext.dom.Helper",ieInsertHtml:function(e,t,n){var i=null;return Ext.isIE9m&&tableRe.test(t.tagName)&&(i=this.insertIntoTable(t.tagName.toLowerCase(),e,t,n)),i},ieOverwrite:function(e,t){if(Ext.isIE9m&&tableRe.test(e.tagName)){for(;e.firstChild;)e.removeChild(e.firstChild);if(t)return this.insertHtml("afterbegin",e,t)}},ieTable:function(e,t,n,i){var r,o,a=-1,s=this.detachedDiv;for(s.innerHTML=[t,n,i].join("");++a<e;)s=s.firstChild;if(r=s.nextSibling)for(r=s,s=document.createDocumentFragment();r;)o=r.nextSibling,s.appendChild(r),r=o;return s},insertIntoTable:function(e,t,n,i){var r,o,a="beforebegin"===t,s="afterbegin"===t,l="beforeend"===t,d="afterend"===t;return"td"===e&&(s||l)||!tableElRe.test(e)&&(a||d)?null:(o=a?n:d?n.nextSibling:s?n.firstChild:null,(a||d)&&(n=n.parentNode),r="td"===e||"tr"===e&&(l||s)?this.ieTable(4,"<table><tbody><tr>",i,"</tr></tbody></table>"):("tbody"===e||"thead"===e)&&(l||s)||"tr"===e&&(a||d)?this.ieTable(3,tbs,i,tbe):this.ieTable(2,ts,i,te),n.insertBefore(r,o),r)}})),Ext.define("Ext.dom.Query",function(){var DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=(d=doc.createElement("div"),d.innerHTML="\x3c!-- --\x3etext\x3c!-- --\x3e",d.children&&0===d.children.length),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=!!window.ActiveXObject,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=(xmlString='<r><a:b xmlns:a="n"></a:b></r>',window.DOMParser?xmlDoc=(new DOMParser).parseFromString(xmlString,"application/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM")).loadXML(xmlString),!!xmlDoc.getElementsByTagName("a:b").length),longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){for(;t.length<6;)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return 1===(num=t.charCodeAt(0).toString(16)).length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return(hasEscapes=e.indexOf("\\")>-1)&&(e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),e},xmlDoc,xmlString,d;function children(e){for(var t,n=e.firstChild,i=-1;n;)t=n.nextSibling,3!=n.nodeType||nonSpace.test(n.nodeValue)?n.nodeIndex=++i:e.removeChild(n),n=t;return this}function attrValue(e,t){return e.tagName||void 0===e.length||(e=e[0]),e?"for"==t?e.htmlFor:"class"==t||"className"==t?e.className:e.getAttribute(t)||e[t]:null}function getNodes(e,t,n){var i,r,o,a,s,l,d,c,u,h=[],f=-1;if(!e)return h;if(n=n.replace("|",":")||"*",void 0!==e.getElementsByTagName&&(e=[e]),t){if("/"==t||">"==t)for(d=n.toUpperCase(),r=0;o=e[r];r++)for(l=o.childNodes,a=0;u=l[a];a++)u.nodeName!=d&&u.nodeName!=n&&"*"!=n||(h[++f]=u);else if("+"==t)for(d=n.toUpperCase(),r=0;c=e[r];r++){for(;(c=c.nextSibling)&&1!=c.nodeType;);!c||c.nodeName!=d&&c.nodeName!=n&&"*"!=n||(h[++f]=c)}else if("~"==t)for(d=n.toUpperCase(),r=0;c=e[r];r++)for(;c=c.nextSibling;)c.nodeName!=d&&c.nodeName!=n&&"*"!=n||(h[++f]=c)}else if(n=unescapeCssSelector(n),!supportsColonNsSeparator&&DQ.isXml(e[0])&&-1!==n.indexOf(":"))for(r=0;o=e[r];r++)for(i=o.getElementsByTagName(n.split(":").pop()),a=0;s=i[a];a++)s.tagName===n&&(h[++f]=s);else for(r=0;o=e[r];r++)for(i=o.getElementsByTagName(n),a=0;s=i[a];a++)h[++f]=s;return h}function concat(e,t){return e.push.apply(e,t),e}function byTag(e,t){if((e.tagName||e===doc)&&(e=[e]),!t)return e;var n,i,r=[],o=-1;for(t=t.toLowerCase(),n=0;i=e[n];n++)1==i.nodeType&&i.tagName.toLowerCase()==t&&(r[++o]=i);return r}function byId(e,t){if(t=unescapeCssSelector(t),(e.tagName||e===doc)&&(e=[e]),!t)return e;var n,i,r=[],o=-1;for(n=0;i=e[n];n++)if(i&&i.id==t)return r[++o]=i,r;return r}function byAttribute(e,t,n,i,r){var o,a,s,l,d,c=[],u=-1,h="{"==r,f=DQ.operators[i];for(n=unescapeCssSelector(n),l=0;d=e[l];l++)1===d.nodeType&&(s||(a=DQ.isXml(d),s=!0),o=a?d.getAttribute(t):h?DQ.getStyle(d,t):"class"==t||"className"==t?d.className:"for"==t?d.htmlFor:"href"==t?d.getAttribute("href",2):d.getAttribute(t),(f&&f(o,n)||!f&&o)&&(c[++u]=d));return c}function byPseudo(e,t,n){return n=unescapeCssSelector(n),DQ.pseudos[t](e,n)}function nodupIEXml(e){var t,n,i,r,o=++key;for(e[0].setAttribute("_nodup",o),t=[e[0]],n=1,i=e.length;n<i;n++)!(r=e[n]).getAttribute("_nodup")!=o&&(r.setAttribute("_nodup",o),t[t.length]=r);for(n=0,i=e.length;n<i;n++)e[n].removeAttribute("_nodup");return t}function nodup(e){if(!e)return[];var t,n,i,r,o,a=e.length,s=e,l=-1;if(!a||void 0!==e.nodeType||1==a)return e;if(isIE&&void 0!==e[0].selectSingleNode)return nodupIEXml(e);for(r=++key,e[0]._nodup=r,n=1;t=e[n];n++){if(t._nodup==r){for(s=[],o=0;o<n;o++)s[++l]=e[o];for(o=n+1;i=e[o];o++)i._nodup!=r&&(i._nodup=r,s[++l]=i);return s}t._nodup=r}return s}function quickDiffIEXml(e,t){var n,i,r=++key,o=[];for(n=0,i=e.length;n<i;n++)e[n].setAttribute("_qdiff",r);for(n=0,i=t.length;n<i;n++)t[n].getAttribute("_qdiff")!=r&&(o[o.length]=t[n]);for(n=0,i=e.length;n<i;n++)e[n].removeAttribute("_qdiff");return o}function quickDiff(e,t){var n,i,r=e.length,o=++key,a=[];if(!r)return t;if(isIE&&void 0!==e[0].selectSingleNode)return quickDiffIEXml(e,t);for(n=0;n<r;n++)e[n]._qdiff=o;for(n=0,i=t.length;n<i;n++)t[n]._qdiff!=o&&(a[a.length]=t[n]);return a}function quickId(e,t,n,i){return e==n?(i=unescapeCssSelector(i),(n.ownerDocument||n).getElementById(i)):byId(e=getNodes(e,t,"*"),i)}return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(e,t){return e.children[t]}:function(e,t){for(var n=0,i=e.firstChild;i;){if(1==i.nodeType&&++n==t)return i;i=i.nextSibling}return null},next=useElementPointer?function(e){return e.nextElementSibling}:function(e){for(;(e=e.nextSibling)&&1!=e.nodeType;);return e},prev=useElementPointer?function(e){return e.previousElementSibling}:function(e){for(;(e=e.previousSibling)&&1!=e.nodeType;);return e},byClassName=useClassList?function(e,t){if(!(t=unescapeCssSelector(t)))return e;var n,i,r,o=[],a=-1;for(n=0;i=e[n];n++)(r=i.classList)?r.contains(t)&&(o[++a]=i):-1!==(" "+i.className+" ").indexOf(t)&&(o[++a]=i);return o}:function(e,t){if(!(t=unescapeCssSelector(t)))return e;var n,i,r=[],o=-1;for(n=0;i=e[n];n++)-1!==(" "+i.className+" ").indexOf(t)&&(r[++o]=i);return r},{singleton:!0,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],requires:["Ext.dom.Helper","Ext.util.Operators"],_init:function(){(DQ=this).operators=Ext.Object.chain(Ext.util.Operators),DQ._cache=cache=new Ext.util.LruCache({maxSize:200}),DQ._valueCache=valueCache=new Ext.util.LruCache({maxSize:200}),DQ._simpleCache=simpleCache=new Ext.util.LruCache({maxSize:200})},clearCache:function(){cache.clear(),valueCache.clear(),simpleCache.clear()},getStyle:function(e,t){return Ext.fly(e,"_DomQuery").getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re),m){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,n){"string"==typeof(t=t||doc)&&(t=doc.getElementById(t));var i,r,o,a,s,l=Ext.splitAndUnescape(e,","),d=[];for(r=0,o=l.length;r<o;r++)a=l[r].replace(trimRe,""),(i=cache.get(a))?setupEscapes(a):((i=DQ.compile(a,n))||Ext.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:a+" is not a valid selector"}),cache.add(a,i)),(s=i(t))&&s!==doc&&(d=d.concat(s));return l.length>1?nodup(d):d},isXml:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName},select:doc.querySelectorAll?function(e,t,n,i){if(t=t||doc,!DQ.isXml(t))try{return t.parentNode&&9!==t.nodeType&&-1===e.indexOf(",")&&!startIdRe.test(e)&&(e=Ext.makeIdSelector(Ext.id(t))+" "+e,t=t.parentNode),i?[t.querySelector(e)]:Ext.Array.toArray(t.querySelectorAll(e))}catch(e){}return DQ.jsSelect.call(this,e,t,n)}:function(e,t,n){return DQ.jsSelect.call(this,e,t,n)},selectNode:function(e,t){return Ext.DomQuery.select(e,t,null,!0)[0]},selectValue:function(e,t,n){e=e.replace(trimRe,"");var i,r=valueCache.get(e);return r?setupEscapes(e):(r=DQ.compile(e,"select"),valueCache.add(e,r)),i=r(t),DQ.getNodeValue(i[0]||i,n)},getNodeValue:function(e,t){"function"==typeof e.normalize&&e.normalize();var n=e&&e.firstChild,i=n?n.nodeValue:null;return void 0===t||null!=i&&""!==i||(i=t),i},selectNumber:function(e,t,n){var i=DQ.selectValue(e,t,n||0);return parseFloat(i)},is:function(e,t){"string"==typeof e&&(e=doc.getElementById(e));var n=Ext.isArray(e),i=DQ.filter(n?e:[e],t);return n?i.length==e.length:i.length>0},filter:function(e,t,n){t=t.replace(trimRe,"");var i,r=simpleCache.get(t);return r?setupEscapes(t):(r=DQ.compile(t,"simple"),simpleCache.add(t,r)),i=r(e),n?quickDiff(i,e):i},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(e){var t,n,i,r=[],o=-1;for(n=0;i=t=e[n];n++){for(;(t=t.previousSibling)&&1!=t.nodeType;);t||(r[++o]=i)}return r},"last-child":function(e){var t,n,i,r=[],o=-1;for(n=0;i=t=e[n];n++){for(;(t=t.nextSibling)&&1!=t.nodeType;);t||(r[++o]=i)}return r},"nth-child":function(e,t){var n,i,r,o,a,s=[],l=-1,d=nthRe.exec(("even"==t?"2n":"odd"==t&&"2n+1")||!nthRe2.test(t)&&"n+"+t||t),c=(d[1]||1)-0,u=d[2]-0;for(n=0;i=e[n];n++){if(a=i.parentNode,batch!=a._batch){for(r=0,o=a.firstChild;o;o=o.nextSibling)1==o.nodeType&&(o.nodeIndex=++r);a._batch=batch}1==c?0!==u&&i.nodeIndex!=u||(s[++l]=i):(i.nodeIndex+u)%c==0&&(s[++l]=i)}return s},"only-child":function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)prev(n)||next(n)||(i[++r]=n);return i},empty:function(e){var t,n,i,r,o,a,s=[],l=-1;for(t=0;n=e[t];t++){for(i=n.childNodes,r=0,a=!0;o=i[r];)if(++r,1==o.nodeType||3==o.nodeType){a=!1;break}a&&(s[++l]=n)}return s},contains:function(e,t){var n,i,r=[],o=-1;for(n=0;i=e[n];n++)-1!=(i.textContent||i.innerText||i.text||"").indexOf(t)&&(r[++o]=i);return r},nodeValue:function(e,t){var n,i,r=[],o=-1;for(n=0;i=e[n];n++)i.firstChild&&i.firstChild.nodeValue==t&&(r[++o]=i);return r},checked:function(e){var t,n,i=[],r=-1;for(t=0;n=e[t];t++)!0===n.checked&&(i[++r]=n);return i},not:function(e,t){return DQ.filter(e,t,!0)},any:function(e,t){var n,i,r,o,a=t.split("|"),s=[],l=-1;for(i=0;r=e[i];i++)for(o=0;n=a[o];o++)if(DQ.is(r,n)){s[++l]=r;break}return s},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var n,i,r=DQ.select,o=[],a=-1;for(n=0;i=e[n];n++)r(t,i).length>0&&(o[++a]=i);return o},next:function(e,t){var n,i,r,o=DQ.is,a=[],s=-1;for(n=0;i=e[n];n++)(r=next(i))&&o(r,t)&&(a[++s]=i);return a},prev:function(e,t){var n,i,r,o=DQ.is,a=[],s=-1;for(n=0;i=e[n];n++)(r=prev(i))&&o(r,t)&&(a[++s]=i);return a},focusable:function(e){for(var t,n=e.length,i=[],r=0;r<n;r++)t=e[r],Ext.fly(t,"_DomQuery").isFocusable()&&i.push(t);return i},visible:function(e,t){for(var n,i=e.length,r=[],o=0;o<i;o++)n=e[o],Ext.fly(n,"_DomQuery").isVisible(t)&&r.push(n);return r},isScrolled:function(e){var t,n,i,r=[],o=-1;for(t=0;n=e[t];t++)((i=Ext.fly(n,"_DomQuery").getScroll()).top>0||i.left>0)&&(r[++o]=n);return r}}}},function(){this._init()}),Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",requires:["Ext.dom.Query"],alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",config:{record:"",namespace:""},createAccessor:function(e){return Ext.isEmpty(e)?Ext.emptyFn:Ext.isFunction(e)?e:function(t){return this.getNodeValue(Ext.DomQuery.selectNode(e,t))}},getNodeValue:function(e){if(e&&("function"==typeof e.normalize&&e.normalize(),e=e.firstChild))return e.nodeValue},getResponseData:function(e){var t=e.responseXML,n="XML data not found in the response";return t||(Ext.Logger.warn(n),this.createReadError(n))},getData:function(e){return e.documentElement||e},getRoot:function(e){var t=e.nodeName,n=this.getRootProperty();return!n||t&&t==n?e:Ext.DomQuery.isXml(e)?Ext.DomQuery.selectNode(n,e):void 0},extractData:function(e,t){var n=this.getRecord();return n||Ext.raise("Record is a required parameter"),e=n!==e.nodeName?Ext.DomQuery.select(n,e):[e],this.callParent([e,t])},readRecords:function(e,t,n){return Ext.isArray(e)&&(e=e[0]),this.callParent([e,t,n])},createFieldAccessor:function(e){var t,n=this,i=n.getNamespace();return"function"==typeof(t=e.mapping||(i?i+"|":"")+e.name)?function(t){return e.mapping(t,n)}:function(e){return n.getNodeValue(Ext.DomQuery.selectNode(t,e))}},deprecated:{"5.1.1":{properties:{xmlData:null}}}}),Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},selectorRe:/[^>\s]+/g,writeRecords:function(e,t){var n,i=[],r=0,o=t.length,a=this.getDocumentRoot(),s=this.getRecord(),l=s.match(this.selectorRe),d=l.length,c=1!==t.length&&1===d;for((n=this.getTransform())&&(t=n(t,e)),i.push(this.getHeader()||""),!a&&c&&(a=this.getDefaultDocumentRoot()),a&&i.push("<",a,">"),r=0;r<d-1;r++)i.push("<",l[r],">");for(s=l[r],r=0;r<o;++r)this.objectToElement(s,t[r],i);for(r=d-2;r>-1;r--)i.push("</",l[r],">");return a&&i.push("</",a,">"),e.setXmlData(i.join("")),e},objectToElement:function(e,t,n){var i,r,o,a,s,l,d,c,u,h=[];for(i in n||(n=[]),n.push("<",e),t)if(r=t[i],"@"===i[0])n.push(" ",i.substr(1),'="',r,'"');else if("object"==typeof r)this.objectToElement(i,r,h);else if((a=(o=i.match(this.selectorRe)).length)>1){for(l=d=d||{},s=0;s<a;s++)c=l,l=l[u=o[s]]||(l[u]={});c[u]=r}else h.push("<",i,">",r,"</",i,">");if(n.push(">"),n.push.apply(n,h),d)for(i in d)r=d[i],this.objectToElement(i,r,n);return n.push("</",e,">"),n}}),Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alias:"store.xml",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Xml","Ext.data.writer.Xml"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},e),this.callParent([e])}}),Ext.define("Ext.data.identifier.Negative",{extend:"Ext.data.identifier.Sequential",alias:"data.identifier.negative",config:{increment:-1,seed:-1}}),Ext.define("Ext.data.identifier.Uuid",{extend:"Ext.data.identifier.Generator",alias:"data.identifier.uuid",isUnique:!0,config:{id:null},constructor:function(e){this.callParent([e]),this.reconfigure(e)},reconfigure:function(e){var t=this.self;this.generate=e&&1===e.version?t.createSequential(e.salt,e.timestamp,e.clockSeq):t.createRandom()},clone:null,statics:{createRandom:function(){var e="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),t="0123456789abcdef".split(""),n=e.length,i=[];return function(){for(var r,o,a=0;a<n;++a)"-"!==(o=e[a])&&"4"!==o&&(r=16*Math.random(),o=t[r="R"===o?3&r|8:r|("M"===o?1:0)]),i[a]=o;return i.join("")}},createSequential:function(e,t,n){var i=[],r=Math.pow(2,32),o=e.lo,a=e.hi,s=t.lo,l=t.hi,d=function(e,t){var n=e.toString(16).toLowerCase();return n.length>t?n=n.substring(n.length-t):n.length<t&&(n=Ext.String.leftPad(n,t,"0")),n};return"number"==typeof e&&(a=Math.floor(e/r),o=Math.floor(e-a*r)),"number"==typeof t&&(l=Math.floor(t/r),s=Math.floor(t-l*r)),a|=256,i[3]=d(128|n>>>8&63,2)+d(255&n,2),i[4]=d(a,4)+d(o,8),function(){return i[0]=d(s,8),i[1]=d(65535&l,4),i[2]=d(l>>>16&4095|4096,4),++s>=r&&(s=0,++l),i.join("-")}}}},function(){this.Global=new this({id:"uuid"})}),Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:["Ext.data.identifier.Sequential"],config:{id:void 0},constructor:function(e){this.callParent(arguments),this.cache={},void 0===this.getStorageObject()&&Ext.raise("Local Storage is not supported in this browser, please use another type of data proxy"),void 0===this.getId()&&Ext.raise("No unique id was provided to the local storage proxy. See Ext.data.proxy.LocalStorage documentation for details"),this.initialize()},create:function(e){var t,n,i,r,o=this,a=e.getRecords(),s=a.length,l=o.getIds();for(void 0===o.isHierarchical&&(o.isHierarchical=!!a[0].isNode,o.isHierarchical&&o.getStorageObject().setItem(o.getTreeKey(),!0)),i=0;i<s;i++)(n=a[i]).phantom?(n.phantom=!1,t=(r=n.identifier)&&r.isUnique?n.getId():o.getNextId()):t=n.getId(),o.setRecord(n,t),n.commit(),l.push(t);o.setIds(l),e.setSuccessful(!0)},read:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g=this,p=[],m=!0,x=g.getModel(),E=0,v=e.getRecordCreator();if(g.isHierarchical)p=g.getTreeData();else if(d=(l=g.getIds()).length,u=e.getId())null!==(c=g.getRecord(u))&&(s=v?v(c,x):new x(c)),s?p.push(s):m=!1;else{for(i=e.getSorters(),n=e.getFilters(),r=e.getLimit(),t=[],h=0;h<d;h++)c=g.getRecord(l[h]),s=v?v(c,x):new x(c),t.push(s);for(i&&Ext.Array.sort(t,Ext.util.Sorter.createComparator(i)),h=e.getStart()||0;h<d;h++){if(s=t[h],a=!0,n)for(f=0,o=n.length;f<o;f++)a=n[f].filter(s);if(a&&(p.push(s),E++),r&&E===r)break}}m?(e.setResultSet(new Ext.data.ResultSet({records:p,total:p.length,loaded:!0})),e.setSuccessful(!0)):e.setException("Unable to load records")},update:function(e){var t,n,i,r=e.getRecords(),o=r.length,a=this.getIds();for(i=0;i<o;i++)t=r[i],this.setRecord(t),t.commit(),void 0!==(n=t.getId())&&-1===Ext.Array.indexOf(a,n)&&a.push(n);this.setIds(a),e.setSuccessful(!0)},erase:function(e){for(var t,n=e.getRecords(),i=this.getIds(),r=i.length,o=[],a={},s=n.length;s--;)Ext.apply(a,this.removeRecord(n[s]));for(s=0;s<r;s++)a[t=i[s]]||o.push(t);this.setIds(o),e.setSuccessful(!0)},getRecord:function(e){var t=this.cache,n=t[e]?t[e]:Ext.decode(this.getStorageObject().getItem(this.getRecordKey(e)));return n?(t[e]=n,n[this.getModel().prototype.idProperty]=e,Ext.merge({},n)):null},setRecord:function(e,t){t?e.set("id",t,{commit:!0}):t=e.getId();for(var n,i,r,o,a,s=e.getData(),l={},d=this.getModel(),c=d.getFields(),u=c.length,h=0;h<u;h++)i=(n=c[h]).name,n.persist&&(a=s[i],n.isDateField&&n.dateFormat&&Ext.isDate(a)?a=Ext.Date.format(a,n.dateFormat):n.serialize&&(a=n.serialize(a,e)),l[i]=a);delete l[d.prototype.idProperty],e.isNode&&1===e.get("depth")&&delete l.parentId,r=this.getStorageObject(),o=this.getRecordKey(t),this.cache[t]=l,r.removeItem(o),r.setItem(o,Ext.encode(l))},removeRecord:function(e){var t,n,i=e.getId(),r={};if(r[i]=e,this.getStorageObject().removeItem(this.getRecordKey(i)),delete this.cache[i],e.childNodes)for(t=(n=e.childNodes).length;t--;)Ext.apply(r,this.removeRecord(n[t]));return r},getRecordKey:function(e){return e.isModel&&(e=e.getId()),Ext.String.format("{0}-{1}",this.getId(),e)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var e,t=(this.getStorageObject().getItem(this.getId())||"").split(","),n=t.length,i=this.getIdField().isStringField;if(1===n&&""===t[0])t=[];else for(e=0;e<n;e++)t[e]=i?t[e]:+t[e];return t},getIdField:function(){return this.getModel().prototype.idField},setIds:function(e){var t=this.getStorageObject(),n=e.join(","),i=this.getId();t.removeItem(i),Ext.isEmpty(n)||t.setItem(i,n)},getNextId:function(){var e,t=this.getStorageObject(),n=this.getRecordCounterKey(),i=this.getIdField().isStringField;return e=this.idGenerator.generate(),t.setItem(n,e),i&&(e+=""),e},getTreeData:function(){for(var e,t,n,i,r,o,a=this.getIds(),s=a.length,l=[],d={},c=[],u=0,h=this.getModel(),f=h.prototype.idProperty;u<s;u++)o=a[u],t=this.getRecord(o),l.push(t),d[o]=t,t.parentId||c.push(t);for(e=c.length,Ext.Array.sort(l,this.sortByParentId),u=e;u<s;u++)i=(t=l[u]).parentId,n&&n[f]===i||((n=d[i]).children=r=[]),r.push(t);for(u=s;u--;)(t=l[u]).children||t.leaf||(t.loaded=!0);for(u=e;u--;)t=c[u],c[u]=new h(t);return c},sortByParentId:function(e,t){return(e.parentId||0)-(t.parentId||0)},initialize:function(){var e=this,t=e.getStorageObject(),n=+t.getItem(e.getRecordCounterKey()),i=e.getId();t.setItem(i,t.getItem(i)||""),t.getItem(e.getTreeKey())&&(e.isHierarchical=!0),e.idGenerator=new Ext.data.identifier.Sequential({seed:n?n+1:1})},clear:function(){var e,t=this,n=t.getStorageObject(),i=t.getIds(),r=i.length;for(e=0;e<r;e++)n.removeItem(t.getRecordKey(i[e]));n.removeItem(t.getRecordCounterKey()),n.removeItem(t.getTreeKey()),n.removeItem(t.getId()),t.cache={}},getStorageObject:function(){Ext.raise("The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass")}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(e){var t,n,i=this,r=e.getOperation(),o=r.getRecords(),a=o?o[0]:null,s=i.getFormat(),l=i.getUrl(e);return t=a&&!a.phantom?a.getId():r.getId(),i.getAppendId()&&i.isValidId(t)&&(l.match(i.slashRe)||(l+="/"),l+=encodeURIComponent(t),(n=e.getParams())&&delete n[i.getIdParam()]),s&&(l.match(i.periodRe)||(l+="."),l+=s),e.setUrl(l),i.callParent([e])},isValidId:function(e){return e||0===e}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.data.validator.Bound",{extend:"Ext.data.validator.Validator",alias:"data.validator.bound",type:"bound",config:{min:void 0,max:void 0,emptyMessage:"Must be present",minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){this.preventConfigure=!0,this.callParent(arguments),delete this.preventConfigure,this.configure()},setConfig:function(){this.preventConfigure=!0,this.callParent(arguments),delete this.preventConfigure,this.configure()},configure:function(){var e,t,n,i,r=this;r.preventConfigure||(n=r.getMin(),i=r.getMax(),e=r.hasMin=void 0!==n,t=r.hasMax=void 0!==i,e&&t?r._bothMsg=Ext.String.format(r.getBothMessage(),n,i):e?r._minMsg=Ext.String.format(r.getMinOnlyMessage(),n):t&&(r._maxMsg=Ext.String.format(r.getMaxOnlyMessage(),i)))},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(e){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},validate:function(e){var t=this,n=t.hasMin,i=t.hasMax,r=t.getMin(),o=t.getMax(),a=this.validateValue(e);return!0!==a?a:(e=t.getValue(e),n&&i?(e<r||e>o)&&(a=t._bothMsg):n?e<r&&(a=t._minMsg):i&&e>o&&(a=t._maxMsg),a)},validateValue:function(e){return void 0!==e&&null!==e||this.getEmptyMessage()},getValue:Ext.identityFn}),Ext.define("Ext.data.validator.Format",{extend:"Ext.data.validator.Validator",alias:"data.validator.format",type:"format",config:{message:"Is in the wrong format",matcher:void 0},constructor:function(){this.callParent(arguments),this.getMatcher()||Ext.raise("validator.Format must be configured with a matcher")},validate:function(e){var t=this.getMatcher(),n=t&&t.test(e);return n||this.getMessage()}}),Ext.define("Ext.data.validator.Email",{extend:"Ext.data.validator.Format",alias:"data.validator.email",type:"email",config:{message:"Is not a valid email address",matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}}),Ext.define("Ext.data.validator.List",{extend:"Ext.data.validator.Validator",alias:"data.validator.list",type:"list",config:{list:null},inclusion:null,validate:function(e){var t=Ext.Array.contains(this.getList(),e),n=this.inclusion;return n&&t||!n&&!t||this.getMessage()}}),Ext.define("Ext.data.validator.Exclusion",{extend:"Ext.data.validator.List",alias:"data.validator.exclusion",type:"exclusion",config:{message:"Is a value that has been excluded"},constructor:function(){this.callParent(arguments),this.getList()||Ext.raise("validator.Exclusion requires a list")},inclusion:!1}),Ext.define("Ext.data.validator.Inclusion",{extend:"Ext.data.validator.List",alias:"data.validator.inclusion",type:"inclusion",config:{message:"Is not in the list of acceptable values"},constructor:function(){this.callParent(arguments),this.getList()||Ext.raise("validator.Inclusion requires a list")},inclusion:!0}),Ext.define("Ext.data.validator.Length",{extend:"Ext.data.validator.Bound",alias:"data.validator.length",type:"length",config:{minOnlyMessage:"Length must be at least {0}",maxOnlyMessage:"Length must be no more than {0}",bothMessage:"Length must be between {0} and {1}"},getValue:function(e){return String(e).length}}),Ext.define("Ext.data.validator.Presence",{extend:"Ext.data.validator.Validator",alias:"data.validator.presence",type:"presence",config:{message:"Must be present",allowEmpty:!1},validate:function(e){var t=!(void 0===e||null===e);return t&&!this.getAllowEmpty()&&(t=!(""===e)),!!t||this.getMessage()}}),Ext.define("Ext.data.validator.Range",{extend:"Ext.data.validator.Bound",alias:"data.validator.range",type:"range",config:{minOnlyMessage:"Must be must be at least {0}",maxOnlyMessage:"Must be no more than than {0}",bothMessage:"Must be between {0} and {1}",nanMessage:"Must be numeric"},validateValue:function(e){var t=this.callParent([e]);return!0===t&&isNaN(e)&&(t=this.getNanMessage()),t}}),Ext.define("Ext.direct.Event",{alias:"direct.event",status:!0,constructor:function(e){Ext.apply(this,e)},getName:function(){return this.name},getData:function(){return this.data}}),Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){return this.transaction||Ext.direct.Manager.getTransaction(this.tid)}}),Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:!1}),Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],parseResponse:function(e){var t=e&&e.responseText;return null!=t?Ext.isObject(t)||Ext.isArray(t)?t:Ext.decode(t):null},createEvents:function(e){var t,n,i=null,r=[];try{i=this.parseResponse(e)}catch(t){return[new Ext.direct.ExceptionEvent({parsingError:!0,data:t,xhr:e,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+t})]}if(Ext.isArray(i))for(t=0,n=i.length;t<n;++t)r.push(this.createEvent(i[t]));else Ext.isObject(i)&&r.push(this.createEvent(i));return r},createEvent:function(e){return"object"==typeof e&&"type"in e?Ext.create("direct."+e.type,e):new Ext.direct.ExceptionEvent({data:e,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}}),Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",requires:["Ext.Ajax","Ext.util.TaskRunner","Ext.direct.ExceptionEvent"],type:"polling",interval:3e3,constructor:function(e){var t=this;t.callParent([e]),t.pollTask=Ext.TaskManager.newTask({run:t.runPoll,interval:t.interval,scope:t})},destroy:function(){this.pollTask=null,this.callParent()},doConnect:function(){var e=this,t=e.url,n=e.pollFn;if(n&&Ext.isString(n)){var i=n;e.pollFn=n=Ext.direct.Manager.parseMethod(n),Ext.isFunction(n)||Ext.raise("Cannot resolve Ext Direct API method "+i+" for PollingProvider")}else Ext.isFunction(t)&&(Ext.log.warn("Using a function for url is deprecated, use pollFn instead."),e.pollFn=n=t,e.url=t=null);(t||n)&&(e.setInterval(e.interval),e.pollTask.start())},doDisconnect:function(){this.pollTask&&this.pollTask.stop()},getInterval:function(){return this.pollTask&&this.pollTask.interval},setInterval:function(e){var t=this.pollTask;e<100&&Ext.raise("Attempting to configure PollProvider "+this.id+" with interval that is less than 100ms."),this.interval=t.interval=e,this.isConnected()&&t.restart(e)},runPoll:function(){var e,t,n=this,i=n.url,r=n.pollFn,o=n.baseParams;!1!==n.fireEvent("beforepoll",n)&&(r?(e=r.directCfg.method.getArgs({params:void 0!==o?o:{},callback:n.onPollFn,scope:n}),r.apply(window,e)):(t={url:i,callback:n.onData,scope:n,params:o,headers:n.getHeaders()},null!=n.timeout&&(t.timeout=n.timeout),n.sendAjaxRequest(t)),n.fireEvent("poll",n))},onData:function(e,t,n){var i,r,o,a,s=this;if(t)for(i=0,r=(o=s.createEvents(n)).length;i<r;++i)a=o[i],s.fireEvent("data",s,a),a.status||s.fireEvent("exception",s,a);else a=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n}),s.fireEvent("data",s,a),s.fireEvent("exception",s,a);s.callParent([e,t,n])},onPollFn:function(e,t,n,i){this.onData(null,n,{responseText:e})},inheritableStatics:{checkConfig:function(e){return e&&"polling"===e.type&&(e.url||e.pollFn)}}}),Ext.define("Ext.direct.RemotingMethod",{constructor:function(e){var t,n,i,r,o=this,a=e.params,s=e.len,l=e.metadata,d={};if(o.name=e.name,o.disableBatching=null!=e.batched&&!e.batched,e.formHandler)o.formHandler=e.formHandler;else if(Ext.isNumeric(s))o.len=s,o.ordered=!0;else for(o.named=!0,o.strict=void 0===e.strict||e.strict,o.params={},n=a&&a.length,i=0;i<n;i++)r=a[i],t=Ext.isObject(r)?r.name:r,o.params[t]=!0;if(l){if(a=l.params,s=l.len,Ext.isNumeric(s))0===s&&Ext.raise("metadata.len cannot be 0 for Ext Direct method "+o.name),d.ordered=!0,d.len=s;else if(Ext.isArray(a)){for(d.named=!0,d.params={},i=0,n=a.length;i<n;i++)r=a[i],d.params[r]=!0;d.strict=void 0===l.strict||l.strict}else Ext.raise("metadata is neither named nor ordered for Ext Direct method "+o.name);o.metadata=d}},getArgs:function(e){var t,n,i=this,r=e.params,o=e.paramOrder,a=(e.paramsAsArray,e.metadata),s=e.options,l=[];if(i.ordered){if(i.len>0)if(o)if(e.paramsAsArray&&1===i.len&&(o.length>1||Ext.isArray(r))){if(Ext.isArray(r))for(t=0,n=r.length;t<n;t++)l.push(i.convertParams(r[t],o,o.length,!0));else l=i.convertParams(r,o,o.length,!0);(!r.allowSingle||l.length>1)&&(l=[l])}else l=i.convertParams(r,o,i.len,!1);else l.push(r)}else l.push(r);return l.push(e.callback,e.scope||window),(s||a)&&(s=Ext.apply({},s),a&&(s.metadata=a),l.push(s)),l},convertParams:function(e,t,n,i){var r,o,a,s=[];for(o=0,a=n;o<a;o++)r=t[o],s.push(e[r]);return i?0===s.length?void 0:1===s.length?s[0]:s:s},getCallData:function(e){var t,n,i,r,o,a,s=this,l=null,d=s.len,c=s.params,u=s.strict;if(s.ordered)n=e[d],i=e[d+1],o=e[d+2],0!==d&&(l=e.slice(0,d));else if(s.formHandler)t=e[0],n=e[1],i=e[2],o=e[3];else if(l=Ext.apply({},e[0]),n=e[1],i=e[2],o=e[3],u)for(r in l)l.hasOwnProperty(r)&&!c[r]&&delete l[r];if(s.metadata&&o&&o.metadata){if(s.metadata.ordered)Ext.isArray(o.metadata)?o.metadata.length<s.metadata.len&&Ext.raise("Not enough parameters in options.metadata for Ext Direct method "+s.name):Ext.raise("options.metadata is not an Array for Ext Direct method "+s.name),a=o.metadata.slice(0,s.metadata.len);else{if(Ext.isObject(o.metadata)||Ext.raise("options.metadata is not an Object for Ext Direct method "+s.name),a=Ext.apply({},o.metadata),s.metadata.strict)for(r in a)a.hasOwnProperty(r)&&!s.metadata.params[r]&&delete a[r];for(r in s.metadata.params)a.hasOwnProperty(r)||Ext.raise("Named parameter "+r+" is missing in options.metadata for Ext Direct method "+s.name)}delete o.metadata}return{form:t,data:l,metadata:a,callback:n,scope:i,options:o}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",statics:{TRANSACTION_ID:0},constructor:function(e){var t=this;Ext.apply(t,e),t.id=t.tid=++t.self.TRANSACTION_ID,t.retryCount=0},send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++,this.send()},getProvider:function(){return this.provider}}),Ext.define("Ext.direct.RemotingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.remotingprovider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod","Ext.direct.Manager"],type:"remoting",enableBuffer:10,bufferLimit:Number.MAX_VALUE,maxRetries:1,constructor:function(e){var t=this;t.callParent([e]),t.namespace=Ext.isString(t.namespace)?Ext.ns(t.namespace):t.namespace||Ext.global,t.callBuffer=[]},connect:function(){this.url||Ext.raise('Error initializing RemotingProvider "'+this.id+'", no url configured.'),this.callParent()},doConnect:function(){this.apiCreated||(this.initAPI(),this.apiCreated=!0)},getNamespace:function(e,t){var n,i,r;for(e=e||Ext.global,i=0,r=(n=t.toString().split(".")).length;i<r;i++)if(void 0===(e=e[n[i]]))return e;return e},createNamespaces:function(e,t){var n,i,r,o;for(e=e||Ext.global,r=0,o=(n=t.toString().split(".")).length;r<o;r++)e[i=n[r]]=e[i]||{},e=e[i];return e},initAPI:function(){var e,t,n,i,r,o,a,s=this,l=s.actions,d=s.namespace,c=Ext.direct.Manager;for(e in l)if(l.hasOwnProperty(e))for(s.disableNestedActions?(t=d[e])||(t=d[e]={}):(t=s.getNamespace(d,e))||(t=s.createNamespaces(d,e)),i=0,r=(n=l[e]).length;i<r;++i)t[(o=new Ext.direct.RemotingMethod(n[i])).name]=a=s.createHandler(e,o),c.registerMethod(a.$name,a)},createHandler:function(e,t){var n,i=this;return(n=function(){i.invokeFunction(e,t,Array.prototype.slice.call(arguments,0))}).name=n.$name=e+"."+t.name,n.$directFn=!0,n.directCfg=n.$directCfg={action:e,method:t},n},invokeFunction:function(e,t,n){var i,r,o,a,s=this;i=s.configureTransaction(e,t,n),!1!==s.fireEvent("beforecall",s,i,t)&&(Ext.direct.Manager.addTransaction(i),i.isForm&&(r=i.form,o="multipart/form-data"===String(r.getAttribute("enctype")).toLowerCase(),a={extTID:i.id,extAction:e,extMethod:t.name,extType:"rpc",extUpload:String(o)},i.metadata&&(a.extMetadata=Ext.JSON.encode(i.metadata)),Ext.apply(i,{form:r,isUpload:o,params:a})),s.queueTransaction(i),s.fireEvent("call",s,i,t))},configureTransaction:function(e,t,n){var i,r,o,a,s;return r=(i=t.getCallData(n)).callback,o=i.scope,a=i.options,r&&!Ext.isFunction(r)&&Ext.raise("Callback argument is not a function for Ext Direct method "+e+"."+t.name),r=r&&o?Ext.Function.bind(r,o):r,s=Ext.apply({},{provider:this,args:n,action:e,method:t.name,form:i.form,data:i.data,metadata:i.metadata,callbackOptions:a,callback:r,isForm:!!t.formHandler,disableBatching:t.disableBatching}),a&&null!=a.timeout&&(s.timeout=a.timeout),new Ext.direct.Transaction(s)},queueTransaction:function(e){var t=this,n=t.callBuffer,i=t.enableBuffer;e.isForm||!1===i||e.disableBatching||null!=e.timeout?t.sendTransaction(e):(n.push(e),i&&n.length<t.bufferLimit?(t.callTask||(t.callTask=new Ext.util.DelayedTask(t.combineAndSend,t)),t.callTask.delay(Ext.isNumber(i)?i:10)):t.combineAndSend())},combineAndSend:function(){var e=this.callBuffer,t=e.length;t>0&&(this.sendTransaction(1===t?e[0]:e),this.callBuffer=[])},sendTransaction:function(e){var t,n,i,r,o,a,s=this,l=s.enableUrlEncode;if(t={url:s.url,callback:s.onData,scope:s,transaction:e,headers:s.getHeaders()},null!=e.timeout?t.timeout=e.timeout:null!=s.timeout&&(t.timeout=s.timeout),e.isForm)Ext.apply(t,{params:e.params,form:e.form,isUpload:e.isUpload});else{if(Ext.isArray(e))for(n=[],o=0,a=e.length;o<a;++o)r=s.getPayload(e[o]),n.push(r);else n=s.getPayload(e);l?((i={})[Ext.isString(l)?l:"data"]=Ext.encode(n),t.params=i):t.jsonData=n}return s.sendAjaxRequest(t)},getPayload:function(e){var t={action:e.action,method:e.method,data:e.data,type:"rpc",tid:e.id};return e.metadata&&(t.metadata=e.metadata),t},onData:function(e,t,n){var i,r,o,a,s,l,d=this;if(t=(o=t&&d.createEvents(n))&&o.length&&!o[0].parsingError)for(i=0,r=o.length;i<r;++i)a=o[i],d.fireEvent("data",d,a),(s=d.getTransaction(a))&&(!1!==d.fireEvent("beforecallback",d,a,s)&&d.runCallback(s,a,!0),Ext.direct.Manager.removeTransaction(s));else for(l=[].concat(e.transaction),a=o[0]||new Ext.direct.ExceptionEvent({data:null,transaction:s,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n}),i=0,r=l.length;i<r;++i)(s=d.getTransaction(l[i]))&&s.retryCount<d.maxRetries?s.retry():(d.fireEvent("data",d,a),d.fireEvent("exception",d,a),s&&!1!==d.fireEvent("beforecallback",d,a,s)&&d.runCallback(s,a,!1),Ext.direct.Manager.removeTransaction(s));d.callParent([e,t,n])},getTransaction:function(e){return e&&e.tid?Ext.direct.Manager.getTransaction(e.tid):null},runCallback:function(e,t){var n,i,r,o=!!t.status,a=o?"success":"failure";e&&e.callback&&(n=e.callback,i=e.callbackOptions,r=void 0!==t.result?t.result:t.data,Ext.isFunction(n)?n(r,t,o,i):(Ext.callback(n[a],n.scope,[r,t,o,i]),Ext.callback(n.callback,n.scope,[r,t,o,i])))},inheritableStatics:{checkConfig:function(e){return e&&"remoting"===e.type&&e.url&&Ext.isArray(e.actions)}}}),Ext.define("Ext.dom.GarbageCollector",{singleton:!0,interval:3e4,constructor:function(){var e=this;e.lastTime=Ext.now(),e.onTick=e.onTick.bind(e),e.resume()},collect:function(){var e,t,n,i,r,o,a=Ext.cache,s=[];for(e in a)if(a.hasOwnProperty(e)&&!(n=a[e]).skipGarbageCollection){(t=n.dom)||Ext.raise("Missing DOM node in element garbage collection: "+e);try{r=Ext.isGarbage(t)}catch(t){delete a[e],s.push("#"+n.id);continue}r&&n&&n.dom&&(o=n.dom.tagName,n.collect(),s.push((o||"")+"#"+n.id))}if(Ext.isIE9m){for(e in i={},a)a.hasOwnProperty(e)&&(i[e]=a[e]);Ext.cache=Ext.dom.Element.cache=i}return this.lastTime=Ext.now(),s},onTick:function(){this.timerId=null,Ext.enableGarbageCollector&&this.collect(),this.resume()},pause:function(){var e=this.timerId;e&&(this.timerId=null,clearTimeout(e))},resume:function(){var e=this,t=e.lastTime;Ext.enableGarbageCollector&&Ext.now()-t>e.interval&&e.collect(),e.timerId||(e.timerId=Ext.defer(e.onTick,e.interval))}}),Ext.define("Ext.dom.TouchAction",{singleton:!0,requires:["Ext.dom.Element","Ext.util.Point"],lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:Ext.baseCSSPrefix+"touch-action-pan-x",panYCls:Ext.baseCSSPrefix+"touch-action-pan-y",cssValues:["none","pan-x","pan-y","pan-x pan-y","pinch-zoom","pan-x pinch-zoom","pan-y pinch-zoom","manipulation","double-tap-zoom","pan-x double-tap-zoom","pan-y double-tap-zoom","pan-x pan-y double-tap-zoom","pinch-zoom double-tap-zoom","pan-x pinch-zoom double-tap-zoom","pan-y pinch-zoom double-tap-zoom",""],objectValues:[{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!0}],attributeName:"data-extTouchAction",constructor:function(){var e=this,t=Ext.supports;if(t.PointerEvents?e.cssProp="touch-action":t.MSPointerEvents?e.cssProp="-ms-touch-action":t.TouchEvents&&(Ext.getWin().on({touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",scope:e,translate:!1,capture:!0,priority:5e3}),Ext.on({scroll:"onScroll",scope:e,destroyable:!0})),Ext.isFunction(Object.freeze))for(var n=e.objectValues,i=0,r=n.length;i<r;i++)Object.freeze(n[i])},containsTargets:function(e,t){var n,i,r=!0,o="touchend"===t.type?t.changedTouches:t.touches;for(n=0,i=o.length;n<i;n++)if(!e.contains(o[n].target)){r=!1;break}return r},disableOverflow:function(e,t){var n,i,r=t?"overflow-y":"overflow-x";if(!this.disabledOverflowDom&&!Ext.isiOS&&!Ext.getScrollbarSize().width)for(this.disabledOverflowDom=e,i=t?this.panXCls:this.panYCls;e;)"auto"!==(n=Ext.fly(e).getStyle(r))&&"scroll"!==n||Ext.fly(e).addCls(i),e=e.parentNode},get:function(e){var t=e.getAttribute(this.attributeName),n=null;return null!=t&&(n=this.objectValues[t]),n},getFlags:function(e){var t;return"number"==typeof e?t=e:(t=0,!1!==e.panX&&(t|=1),!1!==e.panY&&(t|=2),!1!==e.pinchZoom&&(t|=4),!1!==e.doubleTapZoom&&(t|=8)),t},lookupFlags:function(e){return e.getAttribute&&e.getAttribute(this.attributeName)},onScroll:function(){this.scrollOccurred=!0,this.isDoubleTap=!1},onTouchEnd:function(e){var t,n=this,i=e.target;if(0===e.touches.length){if(n.isDoubleTap)for(;i;)null!=(t=n.lookupFlags(i))&&(8&t||e.preventDefault()),i=i.parentNode;n.isDoubleTap=!1,n.preventSingle=null,n.preventMulti=null,n.resetOverflow()}},onTouchMove:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this,f=null,g=e.target;if(c=h.preventSingle,u=h.preventMulti,(1!==(n=e.touches.length)||!1!==c)&&!1!==u){if(n>1&&!0===u||1===n&&!0===c)f=!0;else for(;g&&(null==(t=h.lookupFlags(g))||(t?1===n?(r=!!(2&t),(i=!!(1&t))&&r?f=!1:i||r?(o=e.getPoint(),a=h.startPoint,s=Ext.Element.getViewportScale(),Math.abs(o.getDistanceTo(h.startPoint)*s)>=h.minMoveDistance&&(l=Math.abs(o.x-a.x),d=Math.abs(o.y-a.y),f=!!(i&&d>l||r&&l>d))):f=!0):f=!!h.containsTargets(g,e)&&!(4&t):f=!0,!f));)g=g.parentNode;1===n?h.preventSingle=f:n>1&&(h.preventMulti=f),f&&e.preventDefault()}},onTouchStart:function(e){var t,n,i,r,o=this;if(1===e.touches.length)for(t=e.time,!o.scrollOccurred&&t-o.lastTouchStartTime<=500&&(o.isDoubleTap=!0),o.lastTouchStartTime=t,o.scrollOccurred=!1,o.startPoint=e.getPoint(),i=e.target;i;){if(null!=(n=o.lookupFlags(i))&&(r=!!(1&n))!==!!(2&n)){o.disableOverflow(i,r);break}i=i.parentNode}else o.isDoubleTap=!1},resetOverflow:function(){for(var e=this.disabledOverflowDom;e;)Ext.fly(e).removeCls([this.panXCls,this.panYCls]),e=e.parentNode;this.disabledOverflowDom=null},set:function(e,t){var n=this.cssProp,i=this.getFlags(t),r=this.attributeName;n&&Ext.fly(e).setStyle(n,this.cssValues[i]),15===i?e.removeAttribute(r):e.setAttribute(r,i)}}),Ext.define("Ext.drag.Constraint",{alias:"drag.constraint.base",mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"base",type:"drag.constraint"},config:{element:null,horizontal:!1,region:null,snap:null,source:null,vertical:!1,x:null,y:null},constructor:function(e){this.initConfig(e)},applyElement:function(e){return e&&(e="boolean"==typeof e?this.getSource().getElement().parent():Ext.get(e)),e||null},applySnap:function(e){return"number"==typeof e&&(e={x:e,y:e}),e},constrain:function(e,t){var n,i,r=this,o=e[0],a=e[1],s=r.constrainInfo,l=s.initial,d=s.x,c=s.y,u=s.snap;return s.vertical?o=l.x:(u&&u.x&&(o=u.xFn?u.x.call(r,t,o):r.doSnap(o,l.x,u.x)),d&&(n=d[0],i=d[1],null!==n&&o<n&&(o=n),null!==i&&o>i&&(o=i))),s.horizontal?a=l.y:(u&&u.y&&(a=u.yFn?u.y.call(r,t,a):r.doSnap(a,l.y,u.y)),c&&(n=c[0],i=c[1],null!==n&&a<n&&(a=n),null!==i&&a>i&&(a=i))),[o,a]},destroy:function(){this.setSource(null),this.setElement(null),this.callParent()},privates:{constrainValue:function(e,t,n){var i=null,r=null===e,o=null===t;return r&&o||(i=r?t:o?e:n(e,t)),i},doSnap:function(e,t,n){if(!n)return e;var i=(e-t)/n,r=Math.floor(i);return t+n*(i=i-r<=.5?r:r+1)},onDragStart:function(e){var t=this,n=t.getSnap(),i=t.getVertical(),r=t.getHorizontal(),o=t.getElement(),a=t.getRegion(),s=e.proxy,l=s.element,d=t.getX(),c=t.getY(),u=null,h=null,f=null,g=null,p=null,m=null,x=null,E=null;o&&(a=o.getRegion(!0)),a&&(i||(p=a.left,m=a.right-(l?s.width:0)),r||(x=a.top,E=a.bottom-(l?s.height:0))),i||!a&&!d||(d&&(u=d[0],h=d[1]),null===u&&null===h&&null===p&&null===m||(d=[u=t.constrainValue(u,p,Math.max),h=t.constrainValue(h,m,Math.min)])),r||!a&&!c||(c&&(f=c[0],g=c[1]),null===f&&null===g&&null===x&&null===E||(c=[f=t.constrainValue(f,x,Math.max),g=t.constrainValue(g,E,Math.min)])),n&&(n={x:n.x,xFn:"function"==typeof n.x,y:n.y,yFn:"function"==typeof n.y}),t.constrainInfo={initial:e.element.initial,vertical:t.getVertical(),horizontal:t.getHorizontal(),x:d,y:c,snap:n}}}}),Ext.define("Ext.drag.Info",{requires:["Ext.Promise"],constructor:function(e,t){if(e){var n,i,r,o,a,s=this,l=t.getXY(),d=l[0],c=l[1];s.source=e,i=(l=(n=e.getElement()).getXY())[0],r=l[1],s.eventTarget=t.target,s.cursor={current:{x:d,y:c},delta:{x:0,y:0},initial:{x:d,y:c},offset:{x:d-i,y:c-r}},s.element={current:{x:i,y:r},delta:{x:0,y:0},initial:{x:i,y:r}},s.proxy={current:{x:i,y:r},delta:{x:0,y:0},initial:{x:i,y:r},element:n,isUnderCursor:!1,isElement:!0},s.types=[],s.data={},e.describe(s),o=e.getProxy().getElement(s),(a=s.proxy).isElement=o===e.getElement(),a.element=o,o&&(a.width=o.getWidth(),a.height=o.getHeight()),a.isElement&&((n=s.element).current=a.current,n.delta=a.delta),s.needsCursorCheck=a.element&&e.manager&&e.manager.pointerBug}},cursor:null,element:null,eventTarget:null,files:null,isNative:!1,proxy:null,source:null,target:null,types:null,valid:!1,clearData:function(e){Ext.Array.remove(this.types,e),delete this.data[e]},clone:function(){var e=this,t=new Ext.drag.Info;return t.cursor=Ext.merge({},e.cursor),t.data=Ext.apply({},e.data),t.element=Ext.merge({},e.element),t.eventTarget=e.eventTarget,t.proxy=Ext.merge({},e.proxy),t.source=e.source,t.target=e.target,t.types=Ext.Array.clone(e.types),t.valid=e.valid,t},getData:function(e){var t,n=this,i=n.data,r=n.dataTransfer;return r?t=r.getData(e):(n.finalized||Ext.raise("Unable to call getData until the drop is complete"),"function"==typeof(t=i[e])&&(i[e]=t=t.call(n.source,n)),t||0===t||(t="")),Ext.Promise.resolve(t)},setData:function(e,t){Ext.Array.include(this.types,e),this.data[e]=t},destroy:function(){var e=this;e.eventTarget=e.data=e.proxy=e.targetMap=e.targetMap=e.types=e.elementMap=e.possibleTargets=e.target=null,e.callParent()},privates:{data:null,dataTransfer:null,elementMap:null,possibleTargets:null,targetMap:null,copyNativeData:function(e,t){var n=t.browserEvent.dataTransfer;this.target=e,this.dataTransfer=n,this.files=n.files},finalize:function(){var e=this.target;this.source;this.finalized=!0,e&&(e.info=null,e.handleDrop(this))},getAlignXY:function(e,t){var n=this,i=n.source,r=n.cursor.offset,o=i.getProxy(),a=n.proxy.element,s=i.getConstrain(),l=[e,t];return a&&(n.proxy.isElement?(l[0]-=r.x,l[1]-=r.y):l=o.adjustCursorOffset(n,l),s&&(l=s.constrain(l,n))),l},onNativeDragEnter:function(e,t){this.valid=e.accepts(this),e.info=this,this.copyNativeData(e,t)},onNativeDragLeave:function(e,t){var n=this;n.target===e&&(e.info=null,n.valid=!1,n.target=n.dataTransfer=n.files=null)},onNativeDragMove:function(e,t){this.copyNativeData(e,t)},onNativeDrop:function(e,t){this.copyNativeData(e,t),e.info=null},setActive:function(e){var t=this,n=t.source,i=t.target,r=i!==e;i&&r&&(i.handleDragLeave(t),i.info=null),t.target=e,e?(r&&(t.valid=!!t.possibleTargets[e.getId()]&&!1!==e.accepts(t),e.handleDragEnter(t),e.info=t),e.handleDragMove(t)):t.valid=!1,r&&n.getProxy().update(t)},update:function(e,t){var n=e.getXY(),i=n[0],r=n[1],o=this.getAlignXY(i,r),a=o[0],s=o[1],l=this.proxy,d=this.cursor,c=d.current,u=d.delta,h=d.initial,f=l.element;c.x=i,c.y=r,u.x=i-h.x,u.y=r-h.y,c=l.current,u=l.delta,h=l.initial,c.x=a,c.y=s,u.x=a-h.x,u.y=s-h.y,this.needsCursorCheck&&(l.isUnderCursor=!(i<a||r<s||i>l.width+a||r>l.height+s)),!t&&f&&f.setXY(o)}}}),Ext.define("Ext.drag.Item",{mixins:["Ext.mixin.Observable","Ext.mixin.Identifiable"],config:{autoDestroy:!0,element:null,groups:null},constructor:function(e){this.mixins.observable.constructor.call(this,e)},isDisabled:function(){return this.disabled},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},applyElement:function(e){return e?Ext.get(e):null},updateElement:function(e){this.setupListeners()},applyGroups:function(e){return"string"==typeof e&&(e=[e]),e},destroy:function(){var e=this,t=e.getElement();e.destroying=!0,e.setElement(null),t&&e.getAutoDestroy()&&t.destroy(),e.callParent(),e.destroying=!1},privates:{disabled:!1,getElListeners:Ext.privateFn,setupListeners:function(e){var t=this,n=t.elListeners;e=e||t.getElement(),n&&(n.destroy(),t.elListeners=null),e&&(t.elListeners=e.on(Ext.apply({scope:t,destroyable:!0},t.getElListeners())))}}}),Ext.define("Ext.drag.Manager",{singleton:!0,dragCls:Ext.baseCSSPrefix+"drag-body",pointerBug:Ext.isTouch||!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera,constructor:function(){this.targets={},this.nativeTargets=[],Ext.onReady(this.init,this)},init:function(){Ext.getDoc().on({scope:this,dragenter:{capture:!0,fn:"onNativeDragEnter"},dragleave:"onNativeDragLeave",dragover:"onNativeDragOver",drop:"onNativeDrop"})},destroy:function(){var e,t=this,n=t.targets;for(e in t.destroying=!0,n)n[e].destroy();t.targets=null,t.callParent(),t.destroying=!1},privates:{elementFromPoint:function(e,t){return Ext.rootInheritedState.rtl&&(e=Ext.Element.getViewportWidth()-e),Ext.dom.Element.fromPagePoint(e,t,!0)},getAtPoint:function(e){var t,n,i=e.cursor.current,r=e.elementMap,o=e.proxy.isUnderCursor,a=this.pointerBug&&o?e.proxy.element.dom:null;for(a&&(a.style.visibility="hidden"),n=this.elementFromPoint(i.x,i.y),a&&(a.style.visibility="visible");n;){if(t=r[n.id])return t;n=n.parentNode}return null},getNativeDragInfo:function(e){var t=this.nativeDragInfo;return t||(this.nativeDragInfo=t=new Ext.drag.Info,t.isNative=!0),t},onDragCancel:function(){Ext.getBody().removeCls(this.dragCls)},onDragEnd:function(e,t){e.finalize(),Ext.getBody().removeCls(this.dragCls)},onDragMove:function(e,t){this.processDrag(e)},onDragStart:function(e,t){var n,i,r,o,a,s,l,d=e.source,c=this.targets,u=d.getGroups(),h={},f={},g={};for(n in g={},f={},u&&(o=Ext.Array.toMap(u)),c){if(!(i=c[n]).isDisabled()){if(a=!1,r=i.getGroups(),o||r){if(o&&r)for(l=0,s=r.length;l<s;++l)if(o[r[l]]){a=!0;break}}else a=!0;a&&(f[n]=i)}h[n]=i,g[i.getElement().id]=i}e.possibleTargets=f,e.targetMap=h,e.elementMap=g,Ext.getBody().addCls(this.dragCls),this.processDrag(e)},onNativeDragEnter:function(e){var t=this.nativeTargets,n=e.target;e.preventDefault(),t[t.length-1]!==n&&t.push(n)},onNativeDragLeave:function(e){var t=this.nativeTargets;Ext.Array.remove(t,e.target),0===t.length&&(this.nativeDragInfo=null)},onNativeDragOver:function(e){e.preventDefault()},onNativeDrop:function(e){e.preventDefault(),this.nativeTargets.length=0,this.nativeDragInfo=null},processDrag:function(e){e.setActive(this.getAtPoint(e))},register:function(e){this.targets[e.getId()]=e},unregister:function(e){this.destroying||delete this.targets[e.getId()]}}}),Ext.define("Ext.drag.Source",{extend:"Ext.drag.Item",defaultIdPrefix:"source-",requires:["Ext.GlobalEvents","Ext.drag.Constraint"],config:{activateOnLongPress:!1,activeCls:null,constrain:null,handle:null,proxy:"original",revert:!1},dragging:!1,constructor:function(e){var t=e&&e.describe;t&&(this.describe=t,delete(e=Ext.apply({},e)).describe),this.callParent([e]),this.manager=Ext.drag.Manager},describe:Ext.emptyFn,isDragging:function(){return this.dragging},beforeDragStart:Ext.emptyFn,onDragCancel:Ext.emptyFn,onDragEnd:Ext.emptyFn,onDragMove:Ext.emptyFn,onDragStart:Ext.emptyFn,applyActivateOnLongPress:function(e){return"string"==typeof e&&(e=[e]),e},updateActivateOnLongPress:function(e){this.isConfiguring||this.setupListeners()},updateActiveCls:function(e,t){this.dragging&&(t&&this.getElement().removeCls(t),e&&this.getElement().addCls(e))},applyConstrain:function(e){return e&&!e.$isClass&&(e.isRegion?e={region:e}:!e.isElement&&Ext.isObject(e)||(e={element:e}),e=Ext.apply({source:this},e),e=Ext.Factory.dragConstraint(e)),e},updateElement:function(e,t){e&&!this.getHandle()&&e.setTouchAction({panX:!1,panY:!1}),this.callParent([e,t])},updateHandle:function(){this.isConfiguring||this.setupListeners()},applyProxy:function(e){return e&&(e=Ext.Factory.dragproxy(e)),e},updateProxy:function(e,t){t&&t.destroy(),e&&e.setSource(this)},destroy:function(){var e=this;e.manager=e.initialEvent=null,e.setConstrain(null),e.setProxy(null),e.callParent()},privates:{draggingCls:Ext.baseCSSPrefix+"drag-dragging",info:null,revertCls:Ext.baseCSSPrefix+"drag-revert",canActivateOnLongPress:function(e){var t=this.getActivateOnLongPress();return!(!t||!0!==t&&!Ext.Array.contains(t,e.pointerType))},dragCleanup:function(e){var t=this,n=t.getActiveCls(),i=t.getProxy(),r=t.getElement(),o=e?e.proxy.element:null;n&&r.removeCls(n),o&&o.removeCls(t.draggingCls),i.cleanup(e),t.dragging=!1,t.initialEvent=t.info=null},getElListeners:function(){var e={touchstart:"handleTouchStart",dragstart:"handleDragStart",drag:"handleDragMove",dragend:"handleDragEnd",dragcancel:"handleDragCancel"},t=this.getHandle();return t&&(e.delegate=t),this.getActivateOnLongPress()&&(e.longpress="handleLongPress"),e},handleDragCancel:function(e){var t=this,n=t.info,i=t.manager;i&&i.onDragCancel(n,e),t.onDragCancel(n),t.hasListeners.dragcancel&&t.fireEvent("dragcancel",t,n,e),Ext.fireEvent("dragcancel",t,n,e),t.dragCleanup(n)},handleDragEnd:function(e){if(this.dragging){var t=this,n=t.manager,i=t.getRevert(),r=t.info,o=r.proxy.initial,a=t.info.proxy.element;r.update(e),n&&n.onDragEnd(r,e),t.onDragEnd(r),t.hasListeners.dragend&&t.fireEvent("dragend",t,r,e),Ext.fireEvent("dragend",t,r,e),i&&a?(a.addCls(t.revertCls),a.setXY([o.x,o.y],Ext.apply({callback:function(){a.removeCls(t.revertCls),t.dragCleanup(r)}},i))):t.dragCleanup(r)}},handleDragMove:function(e){var t=this,n=t.info,i=t.manager;t.dragging&&(e.stopPropagation(),e.claimGesture(),n.update(e),i&&i.onDragMove(n,e),t.onDragMove(n),t.hasListeners.dragmove&&t.fireEvent("dragmove",t,n,e))},handleDragStart:function(e){var t,n,i,r,o,a=this,s=a.hasListeners,l=a.manager,d=a.getConstrain(),c=a.initialEvent;return!a.preventStart(e)&&(a.info=i=new Ext.drag.Info(a,c),a.setup(i),d&&d.onDragStart(i),i.update(e,!0),!(r=!1===a.beforeDragStart(i))&&s.beforedragstart&&(r=!1===a.fireEvent("beforedragstart",a,i,e)),r?(a.dragCleanup(),!1):(e.claimGesture(),a.dragging=!0,n=a.getActiveCls(),t=a.getElement(),n&&t.addCls(n),(o=i.proxy.element)&&o.addCls(a.draggingCls),i.update(e),l&&l.onDragStart(i,e),a.onDragStart(i),s.dragstart&&a.fireEvent("dragstart",a,i,e),void Ext.fireEvent("dragstart",a,i,e)))},handleLongPress:function(e){!this.isDisabled()&&this.canActivateOnLongPress(e)&&(this.initialEvent=e,e.startDrag())},handleTouchStart:function(e){this.isDisabled()||(this.initialEvent=e)},preventStart:function(e){return this.isDisabled()||!e.longpress&&this.canActivateOnLongPress(e)},setup:Ext.privateFn}}),Ext.define("Ext.drag.Target",{extend:"Ext.drag.Item",requires:["Ext.drag.Manager"],defaultIdPrefix:"target-",config:{invalidCls:"",validCls:""},constructor:function(e){var t=e&&e.accepts;t&&(this.accepts=t,delete(e=Ext.apply({},e)).accepts),this.callParent([e]),Ext.drag.Manager.register(this)},accepts:function(e){return!0},disable:function(){this.callParent(),this.setupListeners(null)},enable:function(){this.callParent(),this.setupListeners()},beforeDrop:Ext.emptyFn,onDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragLeave:Ext.emptyFn,onDragMove:Ext.emptyFn,updateInvalidCls:function(e,t){var n=this.info;this.doUpdateCls(n&&!n.valid,e,t)},updateValidCls:function(e,t){var n=this.info;this.doUpdateCls(n&&n.valid,e,t)},destroy:function(){Ext.drag.Manager.unregister(this),this.callParent()},privates:{doUpdateCls:function(e,t,n){var i=this.getElement();n&&i.removeCls(n),t&&e&&i.addCls(t)},getElListeners:function(){return{dragenter:"handleNativeDragEnter",dragleave:"handleNativeDragLeave",dragover:"handleNativeDragMove",drop:"handleNativeDrop"}},handleDrop:function(e){var t=this,n=t.hasListeners,i=e.valid;return t.getElement().removeCls([t.getInvalidCls(),t.getValidCls()]),!(!i||!1===t.beforeDrop(e))&&((!n.beforedrop||!1!==t.fireEvent("beforedrop",t,e))&&(t.onDrop(e),void(n.drop&&t.fireEvent("drop",t,e))))},handleDragEnter:function(e){var t=this,n=e.valid?t.getValidCls():t.getInvalidCls();n&&t.getElement().addCls(n),t.onDragEnter(e),t.hasListeners.dragenter&&t.fireEvent("dragenter",t,e)},handleDragLeave:function(e){var t=this;t.getElement().removeCls([t.getInvalidCls(),t.getValidCls()]),t.onDragLeave(e),t.hasListeners.dragleave&&t.fireEvent("dragleave",t,e)},handleDragMove:function(e){this.onDragMove(e),this.hasListeners.dragmove&&this.fireEvent("dragmove",this,e)},handleNativeDragEnter:function(e){var t=Ext.drag.Manager.getNativeDragInfo(e);t.onNativeDragEnter(this,e),this.hasListeners.dragenter&&this.fireEvent("dragenter",this,t)},handleNativeDragLeave:function(e){var t=Ext.drag.Manager.getNativeDragInfo(e);t.onNativeDragLeave(this,e),this.hasListeners.dragleave&&this.fireEvent("dragleave",this,t)},handleNativeDragMove:function(e){var t=Ext.drag.Manager.getNativeDragInfo(e);t.onNativeDragMove(this,e),this.hasListeners.dragmove&&this.fireEvent("dragmove",this,t)},handleNativeDrop:function(e){var t=this,n=t.hasListeners,i=Ext.drag.Manager.getNativeDragInfo(e),r=i.valid;if(i.onNativeDrop(t,e),r){if(n.beforedrop&&!1===t.fireEvent("beforedrop",t,i))return;n.drop&&t.fireEvent("drop",t,i)}}}}),Ext.define("Ext.drag.proxy.None",{mixins:["Ext.mixin.Factoryable"],alias:"drag.proxy.none",factoryConfig:{aliasPrefix:"drag.proxy.",type:"dragproxy"},config:{source:null},constructor:function(e){var t=e&&e.getElement;t&&(this.getElement=t,delete(e=Ext.apply({},e)).getElement),this.initConfig(e)},cleanup:Ext.emptyFn,getElement:function(){return null},update:Ext.emptyFn,privates:{adjustCursorOffset:function(e,t){return t}}}),Ext.define("Ext.drag.proxy.Original",{extend:"Ext.drag.proxy.None",alias:"drag.proxy.original",getElement:function(e){return e.source.getElement()}}),Ext.define("Ext.drag.proxy.Placeholder",{extend:"Ext.drag.proxy.None",alias:"drag.proxy.placeholder",config:{cls:"",cursorOffset:[12,20],html:null,invalidCls:"",validCls:""},placeholderCls:Ext.baseCSSPrefix+"drag-proxy-placeholder",cleanup:function(){var e=this.element;e&&e.hide()},getElement:function(e){var t=this,n=t.element;return n||(t.element=n=Ext.getBody().createChild({cls:t.getCls(),html:t.getHtml()}),n.addCls(t.placeholderCls),n.setTouchAction({panX:!1,panY:!1})),n.show(),n},update:function(e){var t=this.element,n=this.getInvalidCls(),i=this.getValidCls(),r=e.valid;e.target?t.replaceCls(r?n:i,r?i:n):t.removeCls([n,i])},updateCls:function(e,t){var n=this.element;n&&(t&&n.removeCls(t),e&&n.addCls(e))},updateHtml:function(e){var t=this.element;t&&t.setHtml(e||"")},updateInvalidCls:function(e,t){this.doUpdateCls(e,t)},updateValidCls:function(e,t){this.doUpdateCls(e,t)},destroy:function(){this.element=Ext.destroy(this.element),this.callParent()},privates:{adjustCursorOffset:function(e,t){var n=this.getCursorOffset();return n&&(t[0]+=n[0]||0,t[1]+=n[1]||0),t},doUpdateCls:function(e,t){var n,i=this.element;i&&(t&&(n=e&&i.hasCls(t),i.removeCls(t)),e&&n&&i.addCls(e))}}}),Ext.define("Ext.event.gesture.Recognizer",{requires:["Ext.event.publisher.Gesture"],mixins:["Ext.mixin.Identifiable"],priority:0,handledEvents:[],isStarted:!1,config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(e){this.initConfig(e),Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(e){return this.cancel(e)},fire:function(e,t,n,i){this.getOnRecognized().call(this.getCallbackScope(),this,e,t,n,i)},cancel:function(e){return this.isStarted&&this.onCancel(e),this.reset()},onCancel:Ext.emptyFn,reset:function(){return this.isStarted=!1,!1}}),Ext.define("Ext.event.gesture.SingleTouch",{extend:"Ext.event.gesture.Recognizer",isSingleTouch:!0,onTouchStart:function(e){if(e.touches.length>1)return this.cancel(e)}}),Ext.define("Ext.event.gesture.DoubleTap",{extend:"Ext.event.gesture.SingleTouch",priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(e){var t,n=this,i=n.callParent([e]);return!1!==i&&(n.isStarted=!0,t=n.lastStartPoint=e.changedTouches[0].point,n.startPoint=n.startPoint||t,n.startTime=e.time,clearTimeout(n.singleTapTimer)),i},onTouchMove:function(e){var t=e.changedTouches[0].point,n=Ext.Element.getViewportScale();if(Math.round(Math.abs(t.getDistanceTo(this.lastStartPoint)*n))>=this.getMoveDistance())return this.cancel(e)},onTouchEnd:function(e){var t,n,i=this,r=i.getMaxDuration(),o=e.time,a=e.target,s=i.lastTapTime,l=i.lastTarget,d=e.changedTouches[0].point;if(i.lastTapTime=o,i.lastTarget=a,s&&(t=o-s)<=r&&(n=Ext.Element.getViewportScale(),Math.round(Math.abs(d.getDistanceTo(i.startPoint)*n))<=i.getTapDistance()))return a!==l?i.cancel(e):(i.lastTarget=null,i.lastTapTime=0,i.fire("doubletap",e,{touch:e.changedTouches[0],duration:t}),i.callParent([e]));o-i.startTime>r?(i.fire("singletap",e),i.reset()):i.setSingleTapTimer(e)},setSingleTapTimer:function(e){var t=this;t.singleTapTimer=Ext.defer(function(){t.fire("singletap",e),t.reset()},t.getMaxDuration())},reset:function(){var e=this;return clearTimeout(e.singleTapTimer),e.startTime=e.lastTapTime=0,e.lastStartPoint=e.startPoint=e.singleTapTimer=null,e.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.doubleTap)}),Ext.define("Ext.event.gesture.Drag",{extend:"Ext.event.gesture.SingleTouch",priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callParent(arguments),this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0},longpress:!1}},onTouchStart:function(e){var t=this.callParent([e]);return!1!==t&&(this.startTime=e.time,this.startPoint=e.changedTouches[0].point),t},tryDragStart:function(e){var t=e.changedTouches[0].point,n=this.getMinDistance(),i=Ext.Element.getViewportScale();Math.round(Math.abs(t.getDistanceTo(this.startPoint)*i))>=n&&this.doDragStart(e)},doDragStart:function(e,t){var n,i=this,r=e.changedTouches[0],o=r.point,a=i.info;t?(n=Ext.now(),i.startTime=n,i.startPoint=o,a.longpress=!0):n=e.time,i.isStarted=!0,i.previousPoint=i.lastPoint=o,i.resetInfo("x",e,r),i.resetInfo("y",e,r),a.time=n,i.fire("dragstart",e,a)},onTouchMove:function(e){var t,n,i=this;i.startPoint&&(i.isStarted||i.tryDragStart(e),i.isStarted&&(n=(t=e.changedTouches[0]).point,i.lastPoint&&(i.previousPoint=i.lastPoint),i.lastPoint=n,i.lastMoveEvent=e,i.updateInfo("x",e,t),i.updateInfo("y",e,t),i.info.time=e.time,i.fire("drag",e,i.info)))},onAxisDragEnd:function(e,t){var n=t.time-t.previousTime[e];n>0&&(t.flick.velocity[e]=(t[e]-t.previous[e])/n)},resetInfo:function(e,t,n){var i=this,r=i.lastPoint[e],o=i.startPoint[e],a=r-o,s=e.toUpperCase(),l=i.info;l.touch=n,l.delta[e]=a,l.absDelta[e]=Math.abs(a),l.previousTime[e]=i.startTime,l.previous[e]=o,l[e]=r,l.direction[e]=0,l["start"+s]=i.startPoint[e],l["previous"+s]=l.previous[e],l["page"+s]=l[e],l["delta"+s]=l.delta[e],l["absDelta"+s]=l.absDelta[e],l["previousDelta"+s]=0,l.startTime=i.startTime},updateInfo:function(e,t,n){var i=this,r=i.lastPoint[e],o=i.previousPoint[e],a=i.startPoint[e],s=r-a,l=i.info,d=l.direction,c=e.toUpperCase(),u=l.previous[e];l.touch=n,l.delta[e]=s,l.absDelta[e]=Math.abs(s),r!==u&&r!==l[e]&&(l.previous[e]=l[e],l.previousTime[e]=l.time),l[e]=r,r>o?d[e]=1:r<o&&(d[e]=-1),l["start"+c]=a,l["previous"+c]=l.previous[e],l["page"+c]=l[e],l["delta"+c]=l.delta[e],l["absDelta"+c]=l.absDelta[e],l["previousDelta"+c]=l.previous[e]-a,l.startTime=i.startTime},onTouchEnd:function(e){var t,n,i,r=this;return r.isStarted&&(n=(t=e.changedTouches[0]).point,i=r.info,r.lastPoint=n,r.updateInfo("x",e,t),r.updateInfo("y",e,t),i.time=e.time,r.onAxisDragEnd("x",i),r.onAxisDragEnd("y",i),r.fire("dragend",e,i)),this.callParent([e])},onCancel:function(e){var t=this,n=e.changedTouches[0],i=t.info;e.touches.length||(t.lastPoint=n.point),t.updateInfo("x",e,n),t.updateInfo("y",e,n),i.time=e.time,t.fire("dragcancel",e,i,!0)},reset:function(){var e=this;return e.lastPoint=e.startPoint=e.previousPoint=e.lastPoint=e.lastMoveEvent=null,e.initInfo(),e.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.drag)}),Ext.define("Ext.event.gesture.Swipe",{extend:"Ext.event.gesture.SingleTouch",priority:600,handledEvents:["swipestart","swipe","swipecancel"],config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(e){var t,n=this,i=n.callParent([e]);return!1!==i&&(t=e.changedTouches[0],n.startTime=e.time,n.isHorizontal=!0,n.isVertical=!0,n.startX=t.pageX,n.startY=t.pageY),i},onTouchMove:function(e){var t,n,i,r=this,o=e.changedTouches[0],a=o.pageX,s=o.pageY,l=a-r.startX,d=s-r.startY,c=Math.abs(a-r.startX),u=Math.abs(s-r.startY),h=e.time-r.startTime;return 0===c&&0===u||h>r.getMaxDuration()?r.cancel(e):(r.isHorizontal&&u>r.getMaxOffset()&&(r.isHorizontal=!1),r.isVertical&&c>r.getMaxOffset()&&(r.isVertical=!1),r.isVertical&&r.isHorizontal||(t=r.getMinDistance(),r.isHorizontal&&c<t?(n=l<0?"left":"right",i=c):r.isVertical&&u<t&&(n=d<0?"up":"down",i=u)),r.isHorizontal||r.isVertical?void(n&&!r.isStarted&&(r.isStarted=!0,r.fire("swipestart",e,{touch:o,direction:n,distance:i,duration:h}))):r.cancel(e))},onTouchEnd:function(e){var t,n,i,r,o,a,s,l,d,c,u,h=this;return!1!==h.onTouchMove(e)&&(n=(t=e.changedTouches[0]).pageX,i=t.pageY,r=n-h.startX,o=i-h.startY,a=Math.abs(r),s=Math.abs(o),l=h.getMinDistance(),d=e.time-h.startTime,h.isVertical&&s<l&&(h.isVertical=!1),h.isHorizontal&&a<l&&(h.isHorizontal=!1),h.isHorizontal?(c=r<0?"left":"right",u=a):h.isVertical&&(c=o<0?"up":"down",u=s),h.fire("swipe",e,{touch:t,direction:c,distance:u,duration:d})),this.callParent([e])},onCancel:function(e){this.fire("swipecancel",e,null,!0)},reset:function(){var e=this;return e.startTime=e.isHorizontal=e.isVertical=e.startX=e.startY=null,e.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.swipe)}),Ext.define("Ext.event.gesture.EdgeSwipe",{extend:"Ext.event.gesture.Swipe",priority:500,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],config:{minDistance:60},onTouchStart:function(e){var t,n=this,i=n.callParent([e]);return!1!==i&&(t=e.changedTouches[0],n.direction=null,n.isHorizontal=!0,n.isVertical=!0,n.startX=t.pageX,n.startY=t.pageY),i},onTouchMove:function(e){var t,n,i=this,r=e.changedTouches[0],o=r.pageX,a=r.pageY,s=o-i.startX,l=a-i.startY,d=Math.abs(a-i.startY),c=Math.abs(o-i.startX),u=i.getMinDistance(),h=i.getMaxOffset(),f=e.time-i.startTime,g=Ext.Viewport&&Ext.Element.getViewportWidth(),p=Ext.Viewport&&Ext.Element.getViewportHeight();if(i.isVertical&&c>h&&(i.isVertical=!1),i.isHorizontal&&d>h&&(i.isHorizontal=!1),i.isVertical&&i.isHorizontal&&(d>c?i.isHorizontal=!1:i.isVertical=!1),i.isHorizontal?(t=s<0?"left":"right",n=s):i.isVertical&&(t=l<0?"up":"down",n=l),"up"===(t=i.direction||(i.direction=t))?n=-1*l:"left"===t&&(n=-1*s),i.distance=n,!n)return i.cancel(e);if(i.isStarted)i.fire("edgeswipe",e,{touch:r,direction:t,distance:n,duration:f});else{if("right"===t&&i.startX>u||"down"===t&&i.startY>u||"left"===t&&g-i.startX>u||"up"===t&&p-i.startY>u)return i.cancel(e);i.isStarted=!0,i.startTime=e.time,i.fire("edgeswipestart",e,{touch:r,direction:t,distance:n,duration:f})}},onTouchEnd:function(e){var t,n=this;return!1!==n.onTouchMove(e)&&(t=e.time-n.startTime,n.fire("edgeswipeend",e,{touch:e.changedTouches[0],direction:n.direction,distance:n.distance,duration:t})),this.reset()},onCancel:function(e){this.fire("edgeswipecancel",e,{touch:e.changedTouches[0]},!0)},reset:function(){var e=this;return e.direction=e.isHorizontal=e.isVertical=e.startX=e.startY=e.startTime=e.distance=null,e.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.edgeSwipe)}),Ext.define("Ext.event.gesture.LongPress",{extend:"Ext.event.gesture.SingleTouch",priority:400,config:{moveDistance:8,minDuration:1e3},handledEvents:["longpress","taphold"],onTouchStart:function(e){var t=this.callParent([e]);return!1!==t&&(this.startPoint=e.changedTouches[0].point,this.setLongPressTimer(e)),t},setLongPressTimer:function(e){this.timer=Ext.defer(this.fireLongPress,this.getMinDuration(),this,[e])},onTouchMove:function(e){var t=e.changedTouches[0].point,n=Ext.Element.getViewportScale();if(Math.round(Math.abs(t.getDistanceTo(this.startPoint)*n))>=this.getMoveDistance())return this.cancel(e)},reset:function(){return clearTimeout(this.timer),this.timer=this.startPoint=null,this.callParent()},fireLongPress:function(e){var t={touch:e.changedTouches[0],duration:this.getMinDuration(),startDrag:this.startDrag};this.fire("taphold",e,t),this.fire("longpress",e,t),this.reset()},startDrag:function(){var e=Ext.event.gesture.Drag.instance,t=this.parentEvent;e.doDragStart(t,!0),Ext.event.publisher.Gesture.instance.claimRecognizer(e,t)}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.longPress)}),Ext.define("Ext.event.gesture.MultiTouch",{extend:"Ext.event.gesture.Recognizer",requiredTouchesCount:2,isTracking:!1,isMultiTouch:!0,onTouchStart:function(e){var t=this.requiredTouchesCount,n=e.touches.length;if(n===t)this.isTracking=!0;else if(n>t)return this.cancel(e)},reset:function(){return this.isTracking=!1,this.callParent()}}),Ext.define("Ext.event.gesture.Pinch",{extend:"Ext.event.gesture.MultiTouch",priority:700,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(e){var t,n,i,r,o=this;if(o.isTracking){if(n=(t=e.touches)[0].point,i=t[1].point,0===(r=n.getDistanceTo(i)))return;o.isStarted?o.fire("pinch",e,{touches:t,distance:r,scale:r/o.startDistance}):(o.isStarted=!0,o.startDistance=r,o.fire("pinchstart",e,{touches:t,distance:r,scale:1}))}},onTouchEnd:function(e){return this.isStarted&&this.fire("pinchend",e),this.callParent([e])},onCancel:function(e){this.fire("pinchcancel",e,null,!0)},reset:function(){return this.lastTouches=null,this.startDistance=0,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.pinch)}),Ext.define("Ext.event.gesture.Rotate",{extend:"Ext.event.gesture.MultiTouch",priority:800,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(e){var t,n,i,r,o,a,s,l,d=this;d.isTracking&&(t=e.touches,n=d.lastAngle,i=t[0].point,r=t[1].point,o=i.getAngleTo(r),null!==n&&(l=Math.abs(n-o),a=o+360,s=o-360,Math.abs(a-n)<l?o=a:Math.abs(s-n)<l&&(o=s)),d.lastAngle=o,d.isStarted?d.fire("rotate",e,{touches:t,angle:o,rotation:o-d.startAngle}):(d.isStarted=!0,d.startAngle=o,d.fire("rotatestart",e,{touches:t,angle:o,rotation:0})),d.lastTouches=Ext.Array.clone(t))},onTouchEnd:function(e){return this.isStarted&&this.fire("rotateend",e),this.callParent([e])},onCancel:function(e){this.fire("rotatecancel",e,null,!0)},reset:function(){return this.lastTouches=this.lastAngle=this.startAngle=null,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.rotate)}),Ext.define("Ext.event.gesture.Tap",{extend:"Ext.event.gesture.SingleTouch",priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(e){var t=this.callParent([e]);return!1!==t&&(this.isStarted=!0,this.startPoint=e.changedTouches[0].point),t},onTouchMove:function(e){var t=e.changedTouches[0].point,n=Ext.Element.getViewportScale();if(Math.round(Math.abs(t.getDistanceTo(this.startPoint)*n))>=this.getMoveDistance())return this.cancel(e)},onTouchEnd:function(e){return this.fire("tap",e,{touch:e.changedTouches[0]}),this.callParent([e])},onCancel:function(e){this.fire("tapcancel",e,{touch:e.changedTouches[0]},!0)},reset:function(){return this.startPoint=null,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.tap)}),Ext.define("Ext.event.publisher.Focus",{extend:"Ext.event.publisher.Dom",requires:["Ext.dom.Element","Ext.GlobalEvents"],type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],publishDelegatedDomEvent:function(e){var t=e.relatedTarget;"focusout"===e.type?null==t&&this.processFocusIn(e,e.target,document.body):(null!=t&&t.tagName||(t=document.body),this.processFocusIn(e,t,e.target))},processFocusIn:function(e,t,n){var i,r,o,a,s,l,d=this,c=[];if(s=Ext.fly(t),l=Ext.fly(n),!(s&&s.isFocusSuspended()||l&&l.isFocusSuspended())){for(r=t,i=Ext.dom.Element.getCommonAncestor(n,t,!0);r&&r!==i;r=r.parentNode)c.push(r);if(!c.length||(o=d.createSyntheticEvent("focusleave",e,t,n),d.publish(o,c),!o.stopped)){for(c.length=0,r=n;r&&r!==i;r=r.parentNode)c.push(r);a=d.createSyntheticEvent("focusenter",e,n,t),c.length&&(d.publish(a,c),a.stopped)||(c=d.getPropagatingTargets(i)).length&&(o=d.createSyntheticEvent("focusmove",e,n,t),d.publish(o,c),o.stopped)||Ext.GlobalEvents.fireEvent("focus",{event:a,toElement:n,fromElement:t})}}},createSyntheticEvent:function(e,t,n,i){var r=new Ext.event.Event(t);return r.type=e,r.relatedTarget=i,r.target=n,r}},function(e){var t;e.instance=new e,Ext.supports.FocusinFocusoutEvents||this.override({handledDomEvents:["focus","blur"],publishDelegatedDomEvent:function(n){var i,r=this;r.callSuper([n]),i=n.target!==window&&n.target!==document,"blur"===n.type?(i?t=setTimeout(function(){t=0,r.processFocusIn(n,n.target,document.body),e.previousActiveElement=null},0):n.explicitOriginalTarget===e.previousActiveElement&&n.target===window&&(clearTimeout(t),t=0,r.processFocusIn(n,e.previousActiveElement,document.body),e.previousActiveElement=null),e.previousActiveElement=i?n.target:null):(clearTimeout(t),t=0,r.processFocusIn(n,e.previousActiveElement||document.body,i?n.target:document.body))}})}),Ext.define("Ext.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(e){this.data={},this.set(e)},setConfig:function(e){return this.set(e),this},setRaw:function(e){return this.data=e,this},clear:function(){return this.setRaw({})},setTransform:function(e,t){var n,i,r=this.data,o=Ext.isArray(t),a=r.transform;if(a||(a=r.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}),"string"==typeof e)switch(e){case"translate":if(o){if(0==(n=t.length))break;if(a.translateX=t[0],1==n)break;if(a.translateY=t[1],2==n)break;a.translateZ=t[2]}else a.translateX=t;break;case"rotate":if(o){if(0==(n=t.length))break;if(a.rotateX=t[0],1==n)break;if(a.rotateY=t[1],2==n)break;a.rotateZ=t[2]}else a.rotate=t;break;case"scale":if(o){if(0==(n=t.length))break;if(a.scaleX=t[0],1==n)break;if(a.scaleY=t[1],2==n)break;a.scaleZ=t[2]}else a.scaleX=t,a.scaleY=t;break;case"skew":if(o){if(0==(n=t.length))break;if(a.skewX=t[0],1==n)break;a.skewY=t[1]}else a.skewX=t;break;default:a[e]=t}else for(i in e)e.hasOwnProperty(i)&&(t=e[i],this.setTransform(i,t))},set:function(e,t){var n,i=this.data;if("string"!=typeof e)for(n in e)t=e[n],"transform"===n?this.setTransform(t):i[n]=t;else"transform"===e?this.setTransform(t):i[e]=t;return this},unset:function(e){var t=this.data;return t.hasOwnProperty(e)&&delete t[e],this},getData:function(){return this.data}}),Ext.define("Ext.fx.animation.Abstract",{extend:"Ext.Evented",isAnimation:!0,requires:["Ext.fx.State"],config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){return this.states={},this.callParent(arguments),this},applyElement:function(e){return Ext.get(e)},applyBefore:function(e,t){if(e)return Ext.factory(e,Ext.fx.State,t)},applyAfter:function(e,t){if(e)return Ext.factory(e,Ext.fx.State,t)},setFrom:function(e){return this.setState(this.STATE_FROM,e)},setTo:function(e){return this.setState(this.STATE_TO,e)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(e){var t,n=this.stateNameRegex;for(t in e)n.test(t)&&this.setState(t,e[t]);return this},getStates:function(){return this.states},updateCallback:function(e){e&&this.setOnEnd(e)},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop(),this.callParent()},setState:function(e,t){var n,i=this.getStates();return(n=Ext.factory(t,Ext.fx.State,i[e]))?i[e]=n:e===this.STATE_TO&&Ext.Logger.error("Setting and invalid '100%' / 'to' state of: "+t),this},getState:function(e){return this.getStates()[e]},getData:function(){var e,t,n=this,i=n.getStates(),r={},o=n.getBefore(),a=n.getAfter(),s=i[n.STATE_FROM],l=i[n.STATE_TO],d=s.getData(),c=l.getData();for(t in i)i.hasOwnProperty(t)&&(e=i[t].getData(),r[t]=e);return{before:o?o.getData():{},after:a?a.getData():{},states:r,from:d,to:c,duration:n.getDuration(),iteration:n.getIteration(),direction:n.getDirection(),easing:n.getEasing(),delay:n.getDelay(),onEnd:n.getOnEnd(),onBeforeEnd:n.getOnBeforeEnd(),onBeforeStart:n.getOnBeforeStart(),scope:n.getScope(),preserveEndState:n.getPreserveEndState(),replacePrevious:n.getReplacePrevious()}}}),Ext.define("Ext.fx.animation.Slide",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(e){return"auto"===e?"ease-"+(this.getOut()?"in":"out"):e},getContainerBox:function(){var e=this._containerBox;return"auto"===e&&(e=this.getElement().getParent().getBox()),e},getElementBox:function(){var e=this._elementBox;return this.getIsElementBoxFit()?this.getContainerBox():("auto"===e&&(e=this.getElement().getBox()),e)},getData:function(){var e,t,n,i,r=this.getElementBox(),o=this.getContainerBox(),a=r||o,s=this.getFrom(),l=this.getTo(),d=this.getOut(),c=this.getOffset(),u=this.getDirection(),h=this.getUseCssTransform(),f=0,g=0;switch(this.getReverse()&&(u=this.reverseDirectionMap[u]),u){case this.DIRECTION_UP:g=d?o.top-a.top-a.height-c:o.bottom-a.bottom+a.height+c;break;case this.DIRECTION_DOWN:g=d?o.bottom-a.bottom+a.height+c:o.top-a.height-a.top-c;break;case this.DIRECTION_RIGHT:f=d?o.right-a.right+a.width+c:o.left-a.left-a.width-c;break;case this.DIRECTION_LEFT:f=d?o.left-a.left-a.width-c:o.right-a.right+a.width+c}return e=d?0:f,t=d?0:g,h?s.setTransform({translateX:e,translateY:t}):(s.set("left",e),s.set("top",t)),n=d?f:0,i=d?g:0,h?l.setTransform({translateX:n,translateY:i}):(l.set("left",n),l.set("top",i)),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.SlideOut",{extend:"Ext.fx.animation.Slide",alias:["animation.slideOut"],config:{out:!0}}),Ext.define("Ext.fx.animation.Fade",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(e){var t=this.getTo(),n=this.getFrom();e?(n.set("opacity",1),t.set("opacity",0)):(n.set("opacity",0),t.set("opacity",1))}}),Ext.define("Ext.fx.animation.FadeOut",{extend:"Ext.fx.animation.Fade",alias:"animation.fadeOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.animation.Flip",{extend:"Ext.fx.animation.Abstract",alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var e=this,t=e.getFrom(),n=e.getTo(),i=e.getDirection(),r=e.getOut(),o=e.getHalf()?90:180,a=1,s=1,l=0,d=0,c=0,u=0;switch(r?s=.8:a=.8,i){case this.DIRECTION_UP:r?c=o:l=-o;break;case this.DIRECTION_DOWN:r?c=-o:l=o;break;case this.DIRECTION_RIGHT:r?u=o:d=-o;break;case this.DIRECTION_LEFT:r?u=-o:d=o}return t.setTransform({rotateX:l,rotateY:d,scale:a}),n.setTransform({rotateX:c,rotateY:u,scale:s}),this.callParent()}}),Ext.define("Ext.fx.animation.Pop",{extend:"Ext.fx.animation.Abstract",alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var e=this.getTo(),t=this.getFrom();return this.getOut()?(t.set("opacity",1),t.setTransform({scale:1}),e.set("opacity",0),e.setTransform({scale:0})):(t.set("opacity",0),t.setTransform({scale:0}),e.set("opacity",1),e.setTransform({scale:1})),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.PopOut",{extend:"Ext.fx.animation.Pop",alias:"animation.popOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.Animation",{requires:["Ext.fx.animation.Slide","Ext.fx.animation.SlideOut","Ext.fx.animation.Fade","Ext.fx.animation.FadeOut","Ext.fx.animation.Flip","Ext.fx.animation.Pop","Ext.fx.animation.PopOut"],constructor:function(e){var t,n=Ext.fx.animation.Abstract;return"string"==typeof e?(t=e,e={}):e&&e.type&&(t=e.type),t&&((n=Ext.ClassManager.getByAlias("animation."+t))||Ext.Logger.error("Invalid animation type of: '"+t+"'")),Ext.factory(e,n)}}),Ext.define("Ext.fx.runner.Css",{extend:"Ext.Evented",requires:["Ext.fx.Animation"],prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0,x:!0,y:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",customProperties:{x:!0,y:!0},formattedNameCache:{x:"left",y:"top"},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){var e=this;e.transformMethods=Ext.feature.has.Css3dTransforms?e.transformMethods3d:e.transformMethodsNo3d,e.vendorPrefix=Ext.browser.getStyleDashPrefix(),e.ruleStylesCache={},e.callParent()},getStyleSheet:function(){var e,t,n=this.styleSheet;return n||((e=document.createElement("style")).type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(e),t=document.styleSheets,this.styleSheet=n=t[t.length-1]),n},applyRules:function(e){var t,n,i,r,o,a,s,l=this.getStyleSheet(),d=this.ruleStylesCache,c=l.cssRules;for(t in e)for(a in n=e[t],void 0===(i=d[t])&&(o=c.length,l.insertRule(t+"{}",o),i=d[t]=c.item(o).style),(r=i.$cache)||(r=i.$cache={}),n)s=this.formatValue(n[a],a),r[a=this.formatName(a)]!==s&&(r[a]=s,null===s?i.removeProperty(a):i.setProperty(a,s,"important"));return this},applyStyles:function(e){var t,n,i,r,o,a;for(t in e)if(e.hasOwnProperty(t)){if(this.activeElement=n=document.getElementById(t),!n)continue;for(o in i=n.style,r=e[t])r.hasOwnProperty(o)&&(a=this.formatValue(r[o],o),o=this.formatName(o),null===a?i.removeProperty(o):i.setProperty(o,a,"important"))}return this.activeElement=null,this},formatName:function(e){var t=this.formattedNameCache,n=t[e];return n||(n=!Ext.os.is.Tizen&&Ext.feature.has.CssTransformNoPrefix||!this.prefixedProperties[e]?e:this.vendorPrefix+e,t[e]=n),n},formatValue:function(e,t){var n,i,r,o,a,s,l,d=typeof e,c=this.DEFAULT_UNIT_LENGTH,u=this.customProperties[t];if(null===e)return"";if("string"===d){if(this.lengthProperties[t]){if(!((l=e.match(this.lengthUnitRegex)[1]).length>0))return e+=c,u&&(e=this.getCustomValue(e,t)),e;l!==c&&Ext.Logger.error("Length unit: '"+l+"' in value: '"+e+"' of property: '"+t+"' is not valid for animation. Only 'px' is allowed")}return e}if("number"===d){if(0==e)return"0";if(this.lengthProperties[t])return e+=c,u&&(e=this.getCustomValue(e,t)),e;if(this.angleProperties[t])return e+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[t])return e+this.DEFAULT_UNIT_DURATION}else{if("transform"===t){for(a=[],r=0,o=(n=this.transformMethods).length;r<o;r++)i=n[r],a.push(i+"("+this.formatValue(e[i],i)+")");return a.join(" ")}if(Ext.isArray(e)){for(s=[],r=0,o=e.length;r<o;r++)s.push(this.formatValue(e[r],t));return s.length>0?s.join(", "):"none"}}return e},getCustomValue:function(e,t){var n=Ext.fly(this.activeElement),i=e.match(this.lengthUnitRegex)[1];return"x"===t?e=n.translateXY(parseInt(e,10)).x:"y"===t&&(e=n.translateXY(null,parseInt(e,10)).y),e+i}}),Ext.define("Ext.fx.runner.CssTransition",{extend:"Ext.fx.runner.Css",requires:["Ext.AnimationQueue"],alternateClassName:"Ext.Animator",singleton:!0,listenersAttached:!1,constructor:function(){return this.runningAnimationsData={},this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0,Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(e){var t=e.target,n=t.id;n&&this.runningAnimationsData.hasOwnProperty(n)&&this.refreshRunningAnimationsData(Ext.get(t),[e.browserEvent.propertyName])},getElementId:function(e){return e.getId?e.getId():e.id},onAnimationEnd:function(e,t,n,i,r){var o,a,s,l,d,c=this.getElementId(e),u=this.runningAnimationsData[c],h={},f={};if(n.un("stop","onAnimationStop",this),u&&(o=u.nameMap),h[c]=f,t.onBeforeEnd&&t.onBeforeEnd.call(t.scope||this,e,i),n.fireEvent("animationbeforeend",n,e,i),this.fireEvent("animationbeforeend",this,n,e,i),r||!i&&!t.preserveEndState)for(s=0,l=(a=t.toPropertyNames).length;s<l;s++)d=a[s],o&&!o.hasOwnProperty(d)&&(f[d]=null);t.after&&Ext.merge(f,t.after),this.applyStyles(h),t.onEnd&&t.onEnd.call(t.scope||this,e,i),n.fireEvent("animationend",n,e,i),this.fireEvent("animationend",this,n,e,i),Ext.AnimationQueue.stop(Ext.emptyFn,n)},onAllAnimationsEnd:function(e){var t=this.getElementId(e),n={};delete this.runningAnimationsData[t],n[t]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null},this.applyStyles(n),this.fireEvent("animationallend",this,e)},hasRunningAnimations:function(e){var t=this.getElementId(e),n=this.runningAnimationsData;return n.hasOwnProperty(t)&&n[t].sessions.length>0},refreshRunningAnimationsData:function(e,t,n,i){var r=this.getElementId(e),o=this.runningAnimationsData[r];if(o){var a,s,l,d,c,u,h,f,g=o.nameMap,p=o.nameList,m=o.sessions,x=!1;if(n=Boolean(n),i=Boolean(i),!m)return this;if(0===(a=m.length))return this;if(i){for(o.nameMap={},p.length=0,c=0;c<a;c++)u=m[c],this.onAnimationEnd(e,u.data,u.animation,n,i);m.length=0}else for(c=0;c<a;c++){for(h=(u=m[c]).map,f=u.list,s=0,l=t.length;s<l;s++)h[d=t[s]]&&(delete h[d],Ext.Array.remove(f,d),u.length--,0==--g[d]&&(delete g[d],Ext.Array.remove(p,d)));0==u.length&&(m.splice(c,1),c--,a--,x=!0,this.onAnimationEnd(e,u.data,u.animation,n))}i||n||0!=m.length||!x||this.onAllAnimationsEnd(e)}},getRunningData:function(e){var t=this.runningAnimationsData;return t.hasOwnProperty(e)||(t[e]={nameMap:{},nameList:[],sessions:[]}),t[e]},getTestElement:function(){var e,t,n=this,i=n.testElement,r=n.iframe;return i?i.ownerDocument.defaultView!==r.contentWindow&&(r.contentDocument.body.appendChild(i),n.testElementComputedStyle=e.defaultView.getComputedStyle(i)):((r=n.iframe=document.createElement("iframe")).setAttribute("data-sticky",!0),r.setAttribute("tabIndex",-1),(t=r.style).setProperty("visibility","hidden","important"),t.setProperty("width","0px","important"),t.setProperty("height","0px","important"),t.setProperty("position","absolute","important"),t.setProperty("border","0px","important"),t.setProperty("zIndex","-1000","important"),document.body.appendChild(r),(e=r.contentDocument).open(),e.writeln("</body>"),e.close(),n.testElement=i=e.createElement("div"),i.style.setProperty("position","absolute","important"),e.body.appendChild(i),n.testElementComputedStyle=e.defaultView.getComputedStyle(i)),i},getCssStyleValue:function(e,t){var n=this.getTestElement(),i=this.testElementComputedStyle,r=n.style;return r.setProperty(e,t),Ext.browser.is.Firefox&&n.offsetHeight,t=i.getPropertyValue(e),r.removeProperty(e),t},run:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E,v,y,b,C,S,w,T,P,k,I=this,M=Ext.Function,R=I.lengthProperties,A={},D={},F={},L={};for(I.listenersAttached||I.attachListeners(),h=0,g=(e=Ext.Array.from(e)).length;h<g;h++){for(y in p=e[h],p=Ext.factory(p,Ext.fx.Animation),I.activeElement=t=p.getElement(),Ext.AnimationQueue.start(Ext.emptyFn,p),E=window.getComputedStyle(t.dom),F[n=I.getElementId(t)]=F=Ext.merge({},p.getData()),p.onBeforeStart&&p.onBeforeStart.call(p.scope||I,t),p.fireEvent("animationstart",p,F),I.fireEvent("animationstart",I,p,F),o=F.before,i=F.from,r=F.to,F.fromPropertyNames=a=[],F.toPropertyNames=s=[],r)r.hasOwnProperty(y)&&(r[y]=b=I.formatValue(r[y],y),v=I.formatName(y),(S=R.hasOwnProperty(y))||(b=I.getCssStyleValue(v,b)),i.hasOwnProperty(y)?(i[y]=C=I.formatValue(i[y],y),S||(C=I.getCssStyleValue(v,C)),b!==C&&(a.push(v),s.push(v))):b!==E.getPropertyValue(v)&&s.push(v));if(0!==(m=s.length)){for((P=(c=I.getRunningData(n)).sessions).length>0&&I.refreshRunningAnimationsData(t,Ext.Array.merge(a,s),!0,F.replacePrevious),w=c.nameMap,T=c.nameList,x={},f=0;f<m;f++)x[y=s[f]]=!0,w.hasOwnProperty(y)?w[y]++:(w[y]=1,T.push(y));k={element:t,map:x,list:s.slice(),length:m,data:F,animation:p},P.push(k),p.on("stop","onAnimationStop",I),u=Ext.apply({},o),Ext.apply(u,i),T.length>0&&(a=Ext.Array.difference(T,a),s=Ext.Array.merge(a,s),u["transition-property"]=a),A[n]=u,D[n]=Ext.apply({},r),L[n]={"transition-property":s,"transition-duration":F.duration,"transition-timing-function":F.easing,"transition-delay":F.delay},p.startTime=Date.now()}else I.onAnimationEnd(t,F,p)}I.activeElement=null,d=I.$className,I.applyStyles(A),l=function(e){e.data===d&&e.source===window&&(window.removeEventListener("message",l,!1),I.applyStyles(D))},M.requestAnimationFrame(function(){Ext.isIE?(I.applyStyles(L),M.requestAnimationFrame(function(){window.addEventListener("message",l,!1),window.postMessage(d,"*")})):(Ext.merge(D,L),window.addEventListener("message",l,!1),window.postMessage(d,"*"))})},onAnimationStop:function(e){var t,n,i,r,o,a=this.runningAnimationsData;for(t in a)if(a.hasOwnProperty(t))for(i=0,r=(n=a[t].sessions).length;i<r;i++)(o=n[i]).animation===e&&this.refreshRunningAnimationsData(o.element,o.list.slice(),!1)}}),Ext.define("Ext.fx.Runner",{requires:["Ext.fx.runner.CssTransition"],constructor:function(){return new Ext.fx.runner.CssTransition}}),Ext.define("Ext.fx.animation.Cube",{extend:"Ext.fx.animation.Abstract",alias:"animation.cube",config:{before:{},after:{},direction:"right",out:!1},getData:function(){var e=this.getTo(),t=this.getFrom(),n=this.getBefore(),i=this.getAfter(),r=this.getOut(),o=this.getDirection(),a=this.getElement(),s=a.getWidth(),l=(a.getHeight(),r?"100% 100%":"0% 0%"),d=1,c=1,u={rotateY:0,translateZ:0},h={rotateY:0,translateZ:0};return"left"!=o&&"right"!=o||(r?(c=.5,h.translateZ=s,h.rotateY=-90):(d=.5,u.translateZ=s,u.rotateY=90)),n["transform-origin"]=l,i["transform-origin"]=null,e.set("transform",h),t.set("transform",u),t.set("opacity",d),e.set("opacity",c),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.Wipe",{extend:"Ext.fx.Animation",alternateClassName:"Ext.fx.animation.WipeIn",config:{easing:"ease-out",direction:"right",out:!1},refresh:function(){var e,t,n=this,i=n.getElement().dom.getBoundingClientRect(),r=i.width,o=i.height,a=n.getFrom(),s=n.getTo(),l=n.getOut(),d=0,c=0,u=0,h=0;switch(n.getDirection()){case"up":l?(e="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",c=3*o+"px",h=o+"px"):(e="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",c=2*-o+"px",h=0);break;case"down":l?(e="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",c=2*-o+"px",h=0):(e="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",c=3*o+"px",h=o+"px");break;case"right":l?(e="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",d=2*-r+"px",u=0):(e="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",u=2*-r+"px");break;case"left":l?(e="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",u=2*-r+"px"):(e="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",d=2*-r+"px",u=0)}l||(t=c,c=h,h=t,t=d,d=u,u=t),a.set("mask-image",e),a.set("mask-size",3*r+"px "+3*o+"px"),a.set("mask-position-x",d),a.set("mask-position-y",c),s.set("mask-position-x",u),s.set("mask-position-y",h)}}),Ext.define("Ext.fx.animation.WipeOut",{extend:"Ext.fx.animation.Wipe",config:{out:!0}}),Ext.define("Ext.fx.easing.Bounce",{extend:"Ext.fx.easing.Abstract",config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var e=(Ext.Date.now()-this.getStartTime())/this.getAcceleration(),t=e*Math.pow(Math.E,-this.getSpringTension()*e);return this.getStartValue()+this.getStartVelocity()*t}}),Ext.define("Ext.fx.easing.Momentum",{extend:"Ext.fx.easing.Abstract",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(e){var t=Math.log(1-e/10);this.theta=t,this.alpha=t/this.getAcceleration()},updateStartVelocity:function(e){this.velocity=e*this.getAcceleration()},updateAcceleration:function(e){this.velocity=this.getStartVelocity()*e,this.alpha=this.theta/e},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var e=Ext.Date.now()-this.getStartTime();return Math.exp(e*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}}),Ext.define("Ext.fx.easing.BoundMomentum",{extend:"Ext.fx.easing.Abstract",requires:["Ext.fx.easing.Momentum","Ext.fx.easing.Bounce"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(e,t){return Ext.factory(e,Ext.fx.easing.Momentum,t)},applyBounce:function(e,t){return Ext.factory(e,Ext.fx.easing.Bounce,t)},updateStartTime:function(e){this.getMomentum().setStartTime(e),this.callParent(arguments)},updateStartVelocity:function(e){this.getMomentum().setStartVelocity(e)},updateStartValue:function(e){this.getMomentum().setStartValue(e)},reset:function(){return this.lastValue=null,this.isBouncingBack=!1,this.isOutOfBound=!1,this.callParent(arguments)},getValue:function(){var e,t,n=this.getMomentum(),i=this.getBounce(),r=n.getStartVelocity(),o=r>0?1:-1,a=this.getMinMomentumValue(),s=this.getMaxMomentumValue(),l=1==o?s:a,d=this.lastValue;if(0===r)return this.getStartValue();if(!this.isOutOfBound){if(e=n.getValue(),t=n.getVelocity(),Math.abs(t)<this.getMinVelocity()&&(this.isEnded=!0),e>=a&&e<=s)return e;this.isOutOfBound=!0,i.setStartTime(Ext.Date.now()).setStartVelocity(t).setStartValue(l)}return e=i.getValue(),this.isEnded||(this.isBouncingBack?Math.round(e)==l&&(this.isEnded=!0):null!==d&&(1==o&&e<d||-1==o&&e>d)&&(this.isBouncingBack=!0)),this.lastValue=e,e}}),Ext.define("Ext.fx.easing.EaseIn",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-in",config:{exponent:4,duration:1500},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),n=this.getStartValue(),i=this.getEndValue(),r=this.distance,o=e/t,a=n+Math.pow(o,this.getExponent())*r;return e>=t?(this.isEnded=!0,i):a}}),Ext.define("Ext.fx.easing.EaseOut",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),n=this.getStartValue(),i=this.getEndValue(),r=this.distance,o=1-e/t,a=n+(1-Math.pow(o,this.getExponent()))*r;return e>=t?(this.isEnded=!0,i):a}}),Ext.define("Ext.fx.easing.Easing",{requires:["Ext.fx.easing.Linear"],constructor:function(e){return Ext.factory(e,Ext.fx.easing.Linear,null,"easing")}}),Ext.define("Ext.fx.layout.card.Abstract",{extend:"Ext.Evented",isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(e){e&&this.enable()},enable:function(){var e=this.getLayout();e&&e.on("beforeactiveitemchange","onActiveItemChange",this)},disable:function(){var e=this.getLayout();this.isAnimating&&this.stopAnimation(),e&&e.un("beforeactiveitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var e=this,t=e.getLayout();e.isAnimating&&e.stopAnimation(),t&&t.un("beforeactiveitemchange","onActiveItemChange",this),e.setLayout(null),e.observableId&&e.fireEvent("destroy",this),e.callParent()}}),Ext.define("Ext.fx.layout.card.Style",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.Animation"],config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(e){var t,n;this.callParent([e]),this.endAnimationCounter=0,t=this.getInAnimation(),n=this.getOutAnimation(),t.on("animationend","incrementEnd",this),n.on("animationend","incrementEnd",this)},updateDirection:function(e){this.getInAnimation().setDirection(e),this.getOutAnimation().setDirection(e)},updateDuration:function(e){this.getInAnimation().setDuration(e),this.getOutAnimation().setDuration(e)},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)},incrementEnd:function(){this.endAnimationCounter++,this.endAnimationCounter>1&&(this.endAnimationCounter=0,this.fireEvent("animationend",this))},applyInAnimation:function(e,t){return Ext.factory(e,Ext.fx.Animation,t)},applyOutAnimation:function(e,t){return Ext.factory(e,Ext.fx.Animation,t)},updateInAnimation:function(e){e.setScope(this)},updateOutAnimation:function(e){e.setScope(this)},onActiveItemChange:function(e,t,n,i){var r,o,a,s;t&&n&&n.isPainted()&&(a=this.getInAnimation(),s=this.getOutAnimation(),r=t.renderElement,o=n.renderElement,a.setElement(r),s.setElement(o),s.setOnEnd(function(){i.resume()}),r.dom.style.setProperty("visibility","hidden","important"),t.show(),Ext.Animator.run([s,a]),i.pause())},destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation()),this.callParent()}}),Ext.define("Ext.fx.layout.card.Slide",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Cover",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1},out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Reveal",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Fade",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}}),Ext.define("Ext.fx.layout.card.Flip",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},onActiveItemChange:function(e,t,n,i){var r=t.element.getParent();r.addCls(Ext.baseCSSPrefix+"layout-card-perspective"),this.on("animationend",function(){r.removeCls(Ext.baseCSSPrefix+"layout-card-perspective")},this,{single:!0}),this.callParent(arguments)},updateDuration:function(e){var t=e/2,n=this.getInAnimation(),i=this.getOutAnimation();n.setDelay(t),n.setDuration(t),i.setDuration(t)}}),Ext.define("Ext.fx.layout.card.Pop",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(e){var t=e/2,n=this.getInAnimation(),i=this.getOutAnimation();n.setDelay(t),n.setDuration(t),i.setDuration(t)}}),Ext.define("Ext.fx.layout.card.Scroll",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.easing.Linear"],alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(e){this.initConfig(e)},getEasing:function(){var e=this.easing;return e||(this.easing=e=new Ext.fx.easing.Linear),e},updateDuration:function(e){this.getEasing().setDuration(e)},onActiveItemChange:function(e,t,n,i){var r,o,a,s,l,d,c=this.getDirection(),u=this.getEasing();t&&n&&(this.isAnimating&&this.stopAnimation(),t.setWidth("100%"),t.setHeight("100%"),s=(r=this.getLayout().container.innerElement).getWidth(),l=r.getHeight(),o=t.renderElement,a=n.renderElement,this.oldItem=n,this.newItem=t,this.containerElement=r,this.currentEventController=i,this.isReverse=d=this.getReverse(),t.show(),"right"==c?(c="left",this.isReverse=d=!d):"down"==c&&(c="up",this.isReverse=d=!d),"left"==c?d?(u.setConfig({startValue:s,endValue:0}),r.dom.scrollLeft=s,a.setLeft(s)):(u.setConfig({startValue:0,endValue:s}),o.setLeft(s)):d?(u.setConfig({startValue:l,endValue:0}),r.dom.scrollTop=l,a.setTop(l)):(u.setConfig({startValue:0,endValue:l}),o.setTop(l)),this.startAnimation(),i.pause())},startAnimation:function(){this.isAnimating=!0,this.getEasing().setStartTime(Date.now()),Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var e,t=this.getEasing(),n=this.getDirection(),i="scrollTop";"left"!=n&&"right"!=n||(i="scrollLeft"),t.isEnded?this.stopAnimation():(e=t.getValue(),this.containerElement.dom[i]=e)},stopAnimation:function(){var e=this,t=e.getDirection(),n="setTop",i=e.oldItem,r=e.newItem;"left"!=t&&"right"!=t||(n="setLeft"),e.currentEventController.resume(),e.isReverse&&i&&i.renderElement&&i.renderElement.dom?i.renderElement[n](null):r&&r.renderElement&&r.renderElement.dom&&r.renderElement[n](null),Ext.AnimationQueue.stop(this.doAnimationFrame,this),e.isAnimating=!1,e.fireEvent("animationend",e)}}),Ext.define("Ext.fx.layout.Card",{requires:["Ext.fx.layout.card.Slide","Ext.fx.layout.card.Cover","Ext.fx.layout.card.Reveal","Ext.fx.layout.card.Fade","Ext.fx.layout.card.Flip","Ext.fx.layout.card.Pop","Ext.fx.layout.card.Scroll"],constructor:function(e){var t,n=Ext.fx.layout.card.Abstract;return e?("string"==typeof e?(t=e,e={}):e.type&&(t=e.type),e.elementBox=!1,t&&((n=Ext.ClassManager.getByAlias("fx.layout.card."+t))||Ext.Logger.error("Unknown card animation type: '"+t+"'")),Ext.factory(e,n)):null}}),Ext.define("Ext.fx.layout.card.Cube",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cube",config:{reverse:null,inAnimation:{type:"cube"},outAnimation:{type:"cube",out:!0}}}),Ext.define("Ext.fx.layout.card.ScrollCover",{extend:"Ext.fx.layout.card.Scroll",alias:"fx.layout.card.scrollcover",onActiveItemChange:function(e,t,n,i){var r,o,a,s;this.currentEventController=i,this.inItem=t,t&&n&&(r=this.getLayout().container.innerElement.getSize(),o=this.calculateXY(r),a={easing:this.getEasing(),duration:this.getDuration()},t.renderElement.dom.style.setProperty("visibility","hidden","important"),s=t.setTranslatable(!0).getTranslatable(),n.setTranslatable(!0).getTranslatable().translate({x:0,y:0}),s.translate({x:o.left,y:o.top}),s.getWrapper().dom.style.setProperty("z-index","100","important"),t.show(),s.on({animationstart:"onInAnimationStart",animationend:"onInAnimationEnd",scope:this}),s.translateAnimated({x:0,y:0},a),i.pause())},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty("visibility")},onInAnimationEnd:function(){this.inItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.currentEventController.resume()}}),Ext.define("Ext.fx.layout.card.ScrollReveal",{extend:"Ext.fx.layout.card.Scroll",alias:"fx.layout.card.scrollreveal",onActiveItemChange:function(e,t,n,i){var r,o,a,s,l;this.currentEventController=i,this.outItem=n,this.inItem=t,t&&n&&(r=this.getLayout().container.innerElement.getSize(),o=this.calculateXY(r),a={easing:this.getEasing(),duration:this.getDuration()},s=n.setTranslatable(!0).getTranslatable(),l=t.setTranslatable(!0).getTranslatable(),s.getWrapper().dom.style.setProperty("z-index","100","important"),s.translate({x:0,y:0}),l.translate({x:0,y:0}),t.show(),s.on({animationend:"onOutAnimationEnd",scope:this}),s.translateAnimated({x:o.x,y:o.y},a),i.pause())},onOutAnimationEnd:function(){this.outItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.currentEventController.resume()}}),Ext.define("Ext.fx.runner.CssAnimation",{extend:"Ext.fx.runner.Css",constructor:function(){return this.runningAnimationsMap={},this.elementEndStates={},this.animationElementMap={},this.keyframesRulesCache={},this.uniqueId=0,this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0,Ext.getWin().on({animationstart:"onAnimationStart",animationend:"onAnimationEnd",scope:this})},onAnimationStart:function(e){var t=e.browserEvent.animationName,n=this.animationElementMap[t],i=this.runningAnimationsMap[n][t],r=this.elementEndStates,o=r[n],a={};o&&(delete r[n],a[n]=o,this.applyStyles(a)),i.before&&(a[n]=i.before,this.applyStyles(a))},onAnimationEnd:function(e){var t=e.target,n=e.browserEvent.animationName,i=this.animationElementMap,r=i[n],o=this.runningAnimationsMap[r],a=o[n];a.onBeforeEnd&&a.onBeforeEnd.call(a.scope||this,t),a.onEnd&&a.onEnd.call(a.scope||this,t),delete i[n],delete o[n],this.removeKeyframesRule(n)},generateAnimationId:function(){return"animation-"+ ++this.uniqueId},run:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m={},x=this.elementEndStates,E=this.animationElementMap,v=this.runningAnimationsMap;for(this.listenersAttached||this.attachListeners(),o=0,a=(e=Ext.Array.from(e)).length;o<a;o++){for(l in s=e[o],i=(s=Ext.factory(s,Ext.fx.Animation)).getElement().getId(),E[r=s.getName()||this.generateAnimationId()]=i,n=(s=s.getData()).states,this.addKeyframesRule(r,n),(t=v[i])||(t=v[i]={}),t[r]=s,c=[],u=[],h=[],f=[],g=[],p=[],t)t.hasOwnProperty(l)&&(d=t[l],c.push(l),u.push(d.duration),h.push(d.easing),f.push(d.delay),g.push(d.direction),p.push(d.iteration));m[i]={"animation-name":c,"animation-duration":u,"animation-timing-function":h,"animation-delay":f,"animation-direction":g,"animation-iteration-count":p},s.preserveEndState&&(x[i]=n["100%"])}this.applyStyles(m)},addKeyframesRule:function(e,t){var n,i,r,o,a,s,l,d,c;for(n in l=(a=(o=this.getStyleSheet()).cssRules).length,o.insertRule("@"+this.vendorPrefix+"keyframes "+e+"{}",l),r=a[l],t){for(d in i=t[n],l=(a=r.cssRules).length,s=[],i)c=this.formatValue(i[d],d),d=this.formatName(d),s.push(d+":"+c);r.insertRule(n+"{"+s.join(";")+"}",l)}return this},removeKeyframesRule:function(e){var t,n,i=this.getStyleSheet(),r=i.cssRules;for(t=0,n=r.length;t<n;t++)if(r[t].name===e){i.removeRule(t);break}return this}}),Ext.define("Ext.list.AbstractTreeItem",{extend:"Ext.Widget",isTreeListItem:!0,cachedConfig:{expandable:!1,expanded:!1,iconCls:"",leaf:!0,loading:!1,selected:!1,selectedParent:!1},config:{iconClsProperty:"iconCls",indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:!0,$value:""},textProperty:"text"},updateNode:function(e){if(e){var t,n,i,r,o,a,s=this,l=s.itemMap;if(s.element.dom.setAttribute("data-recordId",e.internalId),!l)for(t=e.childNodes,n=s.getOwner(),s.itemMap=l={},r=0,i=t.length;r<i;++r)(a=t[r]).data.visible&&(o=n.createItem(a,s),l[a.internalId]=o,s.insertItem(o,null));s.setExpanded(e.isExpanded()),s.doNodeUpdate(e)}},updateSelected:function(e){if(!this.isConfiguring)for(var t=this.getParentItem();t&&!t.isRootListItem;)t.setSelectedParent(e),t=t.getParentItem()},collapse:function(){this.getNode().collapse()},expand:function(){this.getNode().expand()},getToolElement:Ext.emptyFn,insertItem:Ext.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:Ext.emptyFn,isToggleEvent:Ext.emptyFn,nodeCollapse:function(e,t){var n=this.getOwner(),i=this.preventAnimation?null:n.getAnimation();this.nodeCollapseBegin(i,t),i||this.nodeCollapseEnd(t)},nodeCollapseBegin:function(e,t){var n=this.getOwner();this.setExpanded(!1),n.fireEvent("itemcollapse",n,this)},nodeCollapseEnd:function(e){e||this.getOwner().updateLayout()},nodeExpand:function(e){var t=this.getOwner(),n=!this.getFloated()&&t.getAnimation();this.nodeExpandBegin(n),n||this.nodeExpandEnd()},nodeExpandBegin:function(e){var t=this.getOwner();this.setExpanded(!0),t.fireEvent("itemexpand",t,this)},nodeExpandEnd:function(){this.getOwner().updateLayout()},nodeInsert:function(e,t){var n,i=this,r=i.getOwner(),o=i.itemMap,a=e.internalId,s=r.getItem(e),l=null;s?((n=s.getParentItem()).removeItem(s),n!==i&&(n.doUpdateExpandable(),s.setParentItem(i))):s=i.getOwner().createItem(e,i),o[a]=s,t&&(l=o[t.internalId]),i.insertItem(s,l),i.doUpdateExpandable(),r.fireEvent("iteminsert",r,i,s,l),r.updateLayout()},nodeRemove:function(e){var t=this,n=t.itemMap,i=t.getOwner(),r=e.internalId,o=n[r];o&&(delete n[r],t.removeItem(o),o.destroy(),t.doUpdateExpandable(),i.fireEvent("itemremove",i,t,o),i.updateLayout())},nodeUpdate:function(e,t){this.doNodeUpdate(e)},removeItem:Ext.emptyFn,destroy:function(){var e,t=this,n=t.itemMap,i=t.getOwner();if(n){for(e in n)n[e].destroy();t.itemMap=null}i&&i.removeItem(t.getNode()),t.setNode(null),t.setParentItem(null),t.setOwner(null),t.callParent()},privates:{doNodeUpdate:function(e){var t=this,n=this.getTextProperty(),i=this.getIconClsProperty();n&&t.setText(e.data[n]),i&&t.setIconCls(e.data[i]),t.setLoading(e.isLoading()),t.setLeaf(e.isLeaf()),t.doUpdateExpandable()},doUpdateExpandable:function(){var e=this.getNode();this.setExpandable(e.isExpandable())},onClick:function(e){var t=this,n=t.getOwner(),i=t.getNode(),r={event:e,item:t,node:i,tree:n,select:!1!==i.get("selectable")&&t.isSelectionEvent(e),toggle:t.isToggleEvent(e)};!1!==n.fireEvent("itemclick",n,r)&&(r.toggle&&(t.toggleExpanded(),e.preventDefault()),r.select&&n.setSelection(t.getNode()))},toggleExpanded:function(){this.isExpanded()?this.collapse():this.expand()},updateIndent:function(e){var t,n=this.itemMap;for(t in n)n[t].setIndent(e)},updateOwner:function(e){this.parent=e}}}),Ext.define("Ext.list.RootTreeItem",{extend:"Ext.list.AbstractTreeItem",isRootListItem:!0,element:{reference:"element",tag:"ul",cls:Ext.baseCSSPrefix+"treelist-root-container"},insertItem:function(e,t){t?e.element.insertBefore(t.element):this.element.appendChild(e.element)},isToggleEvent:function(e){return!1}}),Ext.define("Ext.list.TreeItem",{extend:"Ext.list.AbstractTreeItem",xtype:"treelistitem",collapsedCls:Ext.baseCSSPrefix+"treelist-item-collapsed",expandedCls:Ext.baseCSSPrefix+"treelist-item-expanded",floatedCls:[Ext.Widget.prototype.floatedCls,Ext.baseCSSPrefix+"treelist-item-floated"],floatedToolCls:Ext.baseCSSPrefix+"treelist-item-tool-floated",leafCls:Ext.baseCSSPrefix+"treelist-item-leaf",expandableCls:Ext.baseCSSPrefix+"treelist-item-expandable",hideIconCls:Ext.baseCSSPrefix+"treelist-item-hide-icon",loadingCls:Ext.baseCSSPrefix+"treelist-item-loading",selectedCls:Ext.baseCSSPrefix+"treelist-item-selected",selectedParentCls:Ext.baseCSSPrefix+"treelist-item-selected-parent",withIconCls:Ext.baseCSSPrefix+"treelist-item-with-icon",hoverCls:Ext.baseCSSPrefix+"treelist-item-over",rowHoverCls:Ext.baseCSSPrefix+"treelist-row-over",isTreeListItem:!0,config:{rowCls:null},rowClsProperty:"rowCls",element:{reference:"element",tag:"li",cls:Ext.baseCSSPrefix+"treelist-item",children:[{reference:"rowElement",cls:Ext.baseCSSPrefix+"treelist-row",children:[{reference:"wrapElement",cls:Ext.baseCSSPrefix+"treelist-item-wrap",children:[{reference:"iconElement",cls:Ext.baseCSSPrefix+"treelist-item-icon"},{reference:"textElement",cls:Ext.baseCSSPrefix+"treelist-item-text"},{reference:"expanderElement",cls:Ext.baseCSSPrefix+"treelist-item-expander"}]}]},{reference:"itemContainer",tag:"ul",cls:Ext.baseCSSPrefix+"treelist-container"},{reference:"toolElement",cls:Ext.baseCSSPrefix+"treelist-item-tool"}]},constructor:function(e){this.callParent([e]);var t=this.toolElement.dom;t.parentNode.removeChild(t)},getToolElement:function(){return this.toolElement},insertItem:function(e,t){t?e.element.insertBefore(t.element):this.itemContainer.appendChild(e.element)},isSelectionEvent:function(e){var t=this.getOwner();return!this.isToggleEvent(e)||!t.getExpanderOnly()||t.getSelectOnExpander()},isToggleEvent:function(e){return this.getOwner().getExpanderOnly()?e.target===this.expanderElement.dom:!this.itemContainer.contains(e.target)},nodeCollapseBegin:function(e,t){var n,i=this,r=i.itemContainer;i.expanding&&i.stopAnimation(i.expanding),n=e&&r.getHeight(),i.callParent([e,t]),e&&(r.dom.style.display="block",i.collapsingForExpand=t,i.collapsing=this.runAnimation(Ext.merge({from:{height:n},to:{height:0},callback:i.nodeCollapseDone,scope:i},e)))},nodeCollapseDone:function(e){var t=this.itemContainer;this.collapsing=null,t.dom.style.display="",t.setHeight(null),this.nodeCollapseEnd(this.collapsingForExpand)},nodeExpandBegin:function(e){var t,n=this,i=n.itemContainer;n.collapsing&&n.stopAnimation(n.collapsing),n.callParent([e]),e&&(t=i.getHeight(),i.setHeight(0),n.expanding=n.runAnimation(Ext.merge({to:{height:t},callback:n.nodeExpandDone,scope:n},e)))},nodeExpandDone:function(){this.expanding=null,this.itemContainer.setHeight(null),this.nodeExpandEnd()},removeItem:function(e){this.itemContainer.removeChild(e.element)},updateNode:function(e,t){this.syncIndent(),this.callParent([e,t])},updateExpandable:function(){this.updateExpandCls()},updateExpanded:function(){this.updateExpandCls()},updateIconCls:function(e,t){var n=this,i=n.element;n.doIconCls(n.iconElement,e,t),n.doIconCls(n.toolElement,e,t),i.toggleCls(n.withIconCls,!!e),i.toggleCls(n.hideIconCls,null===e)},updateLeaf:function(e){this.element.toggleCls(this.leafCls,e)},updateLoading:function(e){this.element.toggleCls(this.loadingCls,e)},updateOver:function(e){this.element.toggleCls(this.hoverCls,!!e),this.rowElement.toggleCls(this.rowHoverCls,e>1)},updateRowCls:function(e,t){this.rowElement.replaceCls(t,e)},updateSelected:function(e,t){var n=this.selectedCls,i=this.getToolElement();this.callParent([e,t]),this.element.toggleCls(n,e),i&&i.toggleCls(n,e)},updateSelectedParent:function(e){this.element.toggleCls(this.selectedParentCls,e);var t=this.getToolElement();t&&t.toggleCls(this.selectedCls,e)},updateText:function(e){this.textElement.update(e)},privates:{doNodeUpdate:function(e){this.callParent([e]),this.setRowCls(e&&e.data[this.rowClsProperty])},doIconCls:function(e,t,n){n&&e.removeCls(n),t&&e.addCls(t)},syncIndent:function(){var e,t=this.getIndent(),n=this.getNode();n&&(e=n.data.depth-1,this.wrapElement.dom.style.marginLeft=e*t+"px")},updateExpandCls:function(){if(!this.updatingExpandCls){var e=this,t=e.getExpandable(),n=e.element,i=e.getExpanded(),r=e.expandedCls,o=e.collapsedCls;e.updatingExpandCls=!0,n.toggleCls(e.expandableCls,t),t?(n.toggleCls(r,i),n.toggleCls(o,!i)):n.removeCls([r,o]),e.updatingExpandCls=!1}},updateIndent:function(e,t){this.syncIndent(),this.callParent([e,t])}}}),Ext.define("Ext.overrides.list.TreeItem",{override:"Ext.list.TreeItem",config:{floated:null},setFloated:function(e){var t,n,i=this,r=i.element,o=i.placeholder;i.treeItemFloated!==e&&(e?((o=r.clone(!1,!0)).id+="-placeholder",i.placeholder=Ext.get(o),i.wasExpanded=i.getExpanded(),i.setExpanded(!0),r.addCls(i.floatedCls),r.dom.parentNode.insertBefore(o,r.dom),i.floater=i.createFloater()):o&&(n=i.wasExpanded,t=i.getNode(),i.setExpanded(n),!n&&t.isExpanded()&&(i.preventAnimation=!0,t.collapse(),i.preventAnimation=!1),i.floater.remove(i,!1),r.removeCls(i.floatedCls),o.dom.parentNode.insertBefore(r.dom,o.dom),o.destroy(),i.floater.destroy(),i.placeholder=i.floater=null),i.treeItemFloated=e)},getFloated:function(){return this.treeItemFloated},runAnimation:function(e){return this.itemContainer.addAnimation(e)},stopAnimation:function(e){e.jumpToEnd()},privates:{createFloater:function(){var e,t=this,n=t.getOwner(),i=t.up("treelist"),r=t.getToolElement();return t.floater=e=new Ext.container.Container({cls:i.self.prototype.element.cls+" "+i.uiPrefix+i.getUi()+" "+Ext.baseCSSPrefix+"treelist-floater",floating:!0,width:Ext.isIE8?200:i.expandedWidth-r.getWidth(),shadow:!1,renderTo:Ext.getBody(),listeners:{element:"el",click:function(e){return n.onClick(e)}}}),e.add(t),e.show(),e.el.alignTo(r,"tr?"),e}}}),Ext.define("Ext.list.Tree",{extend:"Ext.Widget",xtype:"treelist",requires:["Ext.list.RootTreeItem"],expanderFirstCls:Ext.baseCSSPrefix+"treelist-expander-first",expanderOnlyCls:Ext.baseCSSPrefix+"treelist-expander-only",highlightPathCls:Ext.baseCSSPrefix+"treelist-highlight-path",microCls:Ext.baseCSSPrefix+"treelist-micro",uiPrefix:Ext.baseCSSPrefix+"treelist-",element:{reference:"element",cls:Ext.baseCSSPrefix+"treelist "+Ext.baseCSSPrefix+"unselectable",listeners:{click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseover:"onMouseOver"},children:[{reference:"toolsElement",cls:Ext.baseCSSPrefix+"treelist-toolstrip",listeners:{click:"onToolStripClick",mouseover:"onToolStripMouseOver"}}]},cachedConfig:{animation:{duration:500,easing:"ease"},expanderFirst:!0,expanderOnly:!0},config:{defaults:{xtype:"treelistitem"},highlightPath:null,iconSize:null,indent:null,micro:!1,overItem:null,selection:null,selectOnExpander:!1,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:"store",constructor:function(e){var t=this;t.callParent([e]),t.publishState("selection",t.getSelection()),Ext.isIE8||t.el.on({resize:t.onElResize,buffer:300,scope:t})},beforeLayout:function(){this.syncIconSize()},destroy:function(){var e=this;e.destroying=!0,e.unfloatAll(),e.activeFloater=null,e.setSelection(null),e.setStore(null),e.callParent()},updateOverItem:function(e,t){var n,i,r={},o=2;for(n=e;n;n=this.getItem(i.parentNode))r[(i=n.getNode()).internalId]=!0,n.setOver(o),o=1;if(t)for(n=t;n&&!r[(i=n.getNode()).internalId];n=this.getItem(i.parentNode))n.setOver(0)},applyMicro:function(e){return Boolean(e)},applySelection:function(e,t){return this.getStore()||(e=null),e&&!1===e.get("selectable")&&(e=t),e},updateSelection:function(e,t){var n,i=this;i.destroying||((n=i.getItem(t))&&n.setSelected(!1),(n=i.getItem(e))&&n.setSelected(!0),i.fireEvent("selectionchange",i,e))},applyStore:function(e){return e&&Ext.StoreManager.lookup(e,"tree")},updateStore:function(e,t){var n,i=this;t&&(t.destroyed||(t.getAutoDestroy()?t.destroy():i.storeListeners.destroy()),i.removeRoot(),i.storeListeners=null),e&&(i.storeListeners=e.on({destroyable:!0,scope:i,filterchange:"onFilterChange",nodeappend:"onNodeAppend",nodecollapse:"onNodeCollapse",nodeexpand:"onNodeExpand",nodeinsert:"onNodeInsert",noderemove:"onNodeRemove",rootchange:"onRootChange",update:"onNodeUpdate"}),(n=e.getRoot())&&i.createRootItem(n)),i.destroying||i.updateLayout()},updateExpanderFirst:function(e){this.element.toggleCls(this.expanderFirstCls,e)},updateExpanderOnly:function(e){this.element.toggleCls(this.expanderOnlyCls,!e)},updateHighlightPath:function(e){this.element.toggleCls(this.highlightPathCls,e)},onElResize:function(e,t){this.getMicro()||(this.expandedWidth=t.width)},updateMicro:function(e){e||(this.unfloatAll(),this.activeFloater=null),this.element.toggleCls(this.microCls,e)},updateUi:function(e,t){var n=this.element,i=this.uiPrefix;t&&n.removeCls(i+t),e&&n.addCls(i+e),delete this.iconSize,this.syncIconSize()},getItem:function(e){var t,n=this.itemMap;return e&&n&&(t=n[e.internalId]),t||null},getItemConfig:function(e,t){return Ext.apply({parentItem:t.isRootListItem?null:t,owner:this,node:e,indent:this.getIndent()},this.getDefaults())},privates:{checkForOutsideClick:function(e){this.activeFloater.element.contains(e.target)||this.unfloatAll()},collapsingForExpand:!1,createItem:function(e,t){var n,i,r=this,o=Ext.create(r.getItemConfig(e,t)),a=r.toolsElement;return t.isRootListItem&&(n=o.getToolElement())&&((i=r.findVisiblePreviousSibling(e))?(i=r.getItem(i),n.insertAfter(i.getToolElement())):a.insertFirst(n),n.dom.setAttribute("data-recordId",e.internalId),n.isTool=!0),r.itemMap[e.internalId]=o,o},createRootItem:function(e){var t,n=this;n.itemMap={},n.rootItem=t=new Ext.list.RootTreeItem({indent:n.getIndent(),node:e,owner:n}),n.element.appendChild(t.element),n.itemMap[e.internalId]=t},findVisiblePreviousSibling:function(e){for(var t=e.previousSibling;t;){if(t.data.visible)return t;t=t.previousSibling}return null},floatItem:function(e,t){var n=this;e.getFloated()||(n.toolMouseListeners&&(n.toolMouseListeners.destroy(),n.floaterMouseListeners.destroy()),n.unfloatAll(),n.activeFloater=e,n.floatedByHover=t,e.setFloated(!0),t?(n.toolMouseListeners=e.getToolElement().monitorMouseLeave(300,n.checkForMouseLeave,n),n.floaterMouseListeners=(e.floater||e).el.monitorMouseLeave(300,n.checkForMouseLeave,n)):Ext.on("mousedown","checkForOutsideClick",n))},onClick:function(e){var t,n=e.getTarget("[data-recordId]");n&&(t=n.getAttribute("data-recordId"),(n=this.itemMap[t])&&n.onClick(e))},onMouseEnter:function(e){this.onMouseOver(e)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(e){var t=Ext.Component.fromElement(e.getTarget());this.setOverItem(t&&t.isTreeListItem&&t)},checkForMouseLeave:function(e){var t=this.activeFloater,n=e.getRelatedTarget();t&&(n===t.getToolElement().dom||t.element.contains(n)||this.unfloatAll())},onFilterChange:function(e){this.onRootChange(e.getRoot())},onNodeAppend:function(e,t){if(e){var n=this.itemMap[e.internalId];n&&n.nodeInsert(t,null)}},onNodeCollapse:function(e){var t=this.itemMap[e.internalId];t&&t.nodeCollapse(e,this.collapsingForExpand)},onNodeExpand:function(e){var t,n,i,r,o=this,a=o.itemMap[e.internalId];if(a){if(!a.isRootItem&&o.getSingleExpand()){for(o.collapsingForExpand=!0,i=0,n=(t=(a.getParentItem()||o.rootItem).getNode().childNodes).length;i<n;++i)(r=t[i])!==e&&r.collapse();o.collapsing=!1}a.nodeExpand(e)}},onNodeInsert:function(e,t,n){var i=this.itemMap[e.internalId];i&&i.nodeInsert(t,n)},onNodeRemove:function(e,t,n){if(e&&!n){var i=this.itemMap[e.internalId];i&&i.nodeRemove(t)}},onNodeUpdate:function(e,t,n,i){var r=this.itemMap[t.internalId];r&&r.nodeUpdate(t,i)},onRootChange:function(e){var t=this;t.removeRoot(),e&&t.createRootItem(e),t.updateLayout(),t.fireEvent("refresh",t)},removeItem:function(e){var t,n,i=this.itemMap,r=e.internalId;i&&(null===(t=i[r]).getParentItem()&&(n=t.getToolElement())&&this.toolsElement.removeChild(n),delete i[r])},removeRoot:function(){var e=this.rootItem;e&&(this.element.removeChild(e.element),this.rootItem=this.itemMap=Ext.destroy(e))},onToolStripClick:function(e){var t,n=e.getTarget("[data-recordId]");n&&(t=n.getAttribute("data-recordId"),(n=this.itemMap[t])&&(n===this.activeFloater?this.unfloatAll():this.floatItem(n,!1)))},onToolStripMouseOver:function(e){var t,n=e.getTarget("[data-recordId]");n&&(t=n.getAttribute("data-recordId"),(n=this.itemMap[t])&&this.floatItem(n,!0))},syncIconSize:function(){var e=this.iconSize||(this.iconSize=parseInt(this.element.getStyle("background-position"),10));this.setIconSize(e)},unfloatAll:function(){var e=this,t=e.activeFloater;t&&(t.setFloated(!1),e.activeFloater=null,e.floatedByHover?(t.getToolElement().un("mouseleave","checkForMouseLeave",e),t.element.un({scope:e,mouseleave:"checkForMouseLeave",mouseover:"onMouseOver"})):Ext.un("mousedown","checkForOutsideClick",e))},defaultIconSize:22,updateIconSize:function(e){this.setIndent(e||this.defaultIconSize)},updateIndent:function(e){var t=this.rootItem;t&&t.setIndent(e)}}}),Ext.define("Ext.mixin.ConfigState",{extend:"Ext.Mixin",mixinConfig:{id:"configstate"},alternateStateConfig:"",toggleConfigState:function(e){var t,n=this,i=n.capturedConfigState,r=n.getConfig(n.alternateStateConfig);if(r)if(e){for(t in i={},r)i[t]=n.getConfig(t);n.capturedConfigState=i,n.setConfig(r)}else!n.isConfiguring&&i&&(n.setConfig(i),delete n.capturedConfigState)}}),Ext.define("Ext.mixin.Container",{extend:"Ext.Mixin",mixinConfig:{id:"container"},isContainer:!0,config:{referenceHolder:!1},getReferences:function(){return Ext.ComponentManager.fixReferences(),this.refs||null},lookup:function(e){var t=this.getReferences();return t&&t[e]||null},lookupReference:function(e){return this.lookup(e)},privates:{attachReference:function(e){var t,n,i=this;i.destroying||i.destroyed||((n=i.refs||(i.refs={}))[t=e.referenceKey]&&n[t]!==e&&Ext.log.warn('Duplicate reference: "'+t+'" on '+i.id),n[t]=e)},clearReference:function(e){var t=this.refs,n=e.referenceKey;t&&n&&(e.viewModelKey=e.referenceKey=t[n]=null)},containerOnAdded:function(e,t){t&&Ext.ComponentManager.markReferencesDirty()},containerOnRemoved:function(e){var t;e||(t=this.lookupReferenceHolder())&&(Ext.ComponentManager.markReferencesDirty(),t.clearReferences())},clearReferences:function(){this.refs=null},initContainerInheritedState:function(e,t){var n=this,i=n.getController(),r=n.getSession(),o=n.getConfig("viewModel",!0),a=n.getReference(),s=n.getReferenceHolder();i?(e.referenceHolder=i,s=!0):s&&(e.referenceHolder=n),s?e.referencePath="":a&&n.isParentReference&&(e.referencePath=n.referenceKey+"."),r&&(e.session=r),o?e.viewModelPath="":a&&n.isParentReference&&(e.viewModelPath=n.viewModelKey+".")},setupReference:function(e){var t;return e&&">"===e.charAt(t=e.length-1)&&(this.isParentReference=!0,e=e.substring(0,t)),e&&!Ext.validIdRe.test(e)&&Ext.Error.raise('Invalid reference "'+e+'" for '+this.getId()+" - not a valid identifier"),e}}}),Ext.define("Ext.mixin.Hookable",{extend:"Ext.Mixin",mixinConfig:{id:"hookable"},bindHook:function(e,t,n,i,r){n||(n=t);var o,a,s=e[t];return s&&s.hasOwnProperty("$binding")&&(a=s.$binding).bindingMethod===n&&a.bindingScope===this?this:(e[t]=o=function(){var e=o.$binding,t=e.bindingScope,n=Array.prototype.slice.call(arguments);if(n.push(arguments),r&&n.push.apply(n,r),!e.preventDefault&&!1!==t[e.bindingMethod].apply(t,n))return e.boundFn.apply(this,arguments)},o.$binding={preventDefault:!!i,boundFn:s,bindingMethod:n,bindingScope:this},this)},unbindHook:function(e,t,n){n||(n=t);for(var i,r,o=e[t].$binding;o;){if(i=o.boundFn,o.bindingMethod===n&&o.bindingScope===this)return r?r.boundFn=i:e[t]=i,this;r=o,o=i.$binding}return this}}),Ext.define("Ext.mixin.Mashup",function(e){return{extend:"Ext.Mixin",mixinConfig:{id:"mashup",extended:function(t,n){e.process(n)}},statics:{process:function(e){var t=e.prototype,n=t.requiredScripts,i=e._classHooks,r=i.onCreated;n&&(delete t.requiredScripts,i.onCreated=function(){var e=this,t=Ext.Array.slice(arguments);Ext.Loader.loadScripts({url:n,cache:!0,onLoad:function(){i.onCreated=r,i.onCreated.call(e,t)}})})}},onClassMixedIn:function(t){e.process(t)}}}),Ext.define("Ext.mixin.Responsive",function(e){return{extend:"Ext.Mixin",requires:["Ext.GlobalEvents"],mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:void 0,merge:function(e,t,n,i){if(!e)return t;var r,o=t?Ext.Object.chain(t):{};for(r in e)i&&r in o||(o[r]={fn:null,config:e[r]});return o}},responsiveFormulas:{$value:0,merge:function(e,t,n,i){return this.mergeNew(e,t,n,i)}}},destroy:function(){e.unregister(this)},privates:{statics:{active:!1,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){e.active=!0,e.updateContext(),Ext.on("resize",e.onResize,e)},deactivate:function(){e.active=!1,Ext.un("resize",e.onResize,e)},notify:function(){var t,n=e.all,i=e.context,r=Ext.GlobalEvents,o=e.timer;for(t in o&&(e.timer=null,Ext.asapCancel(o)),e.updateContext(),Ext.suspendLayouts(),r.fireEvent("beforeresponsiveupdate",i),n)n[t].setupResponsiveContext();for(t in r.fireEvent("beginresponsiveupdate",i),n)n[t].updateResponsiveState();r.fireEvent("responsiveupdate",i),Ext.resumeLayouts(!0)},onResize:function(){e.timer||(e.timer=Ext.asap(e.onTimer))},onTimer:function(){e.timer=null,e.notify()},processConfig:function(e,t,n){var i,r=t&&t[n],o=e.config;r&&(i=e.self.getConfigurator().configs[n],o[n]=i.merge(r,o[n],e))},register:function(t){var n=t.$responsiveId;n||(t.$responsiveId=n=++e.nextId,e.all[n]=t,1==++e.count&&e.activate())},unregister:function(t){var n=t.$responsiveId;n in e.all&&(t.$responsiveId=null,delete e.all[n],0==--e.count&&e.deactivate())},updateContext:function(){var t=Ext.Element,n=t.getViewportWidth(),i=t.getViewportHeight(),r=e.context;r.width=n,r.height=i,r.tall=n<i,r.wide=!r.tall,r.landscape=r.portrait=!1,r.platform||(r.platform=Ext.platformTags),r[Ext.dom.Element.getOrientation()]=!0}},afterClassMixedIn:function(e){var t,n=e.prototype,i=n.responsiveConfig,r=n.responsiveFormulas;(i||r)&&(t={},i&&(delete n.responsiveConfig,t.responsiveConfig=i),r&&(delete n.responsiveFormulas,t.responsiveFormulas=r),e.getConfigurator().add(t))},applyResponsiveConfig:function(e){for(var t in e)e[t].fn=Ext.createRuleFn(t);return e},applyResponsiveFormulas:function(e){var t,n,i={};if(e)for(n in e)Ext.isString(t=e[n])&&(t=Ext.createRuleFn(t)),i[n]=t;return i},getResponsiveState:function(){var t,n,i=e.context,r=this.getResponsiveConfig(),o={};if(r)for(n in r)(t=r[n]).fn.call(this,i)&&Ext.merge(o,t.config);return o},setupResponsiveContext:function(){var t,n=this.getResponsiveFormulas(),i=e.context;if(n)for(t in n)i[t]=n[t].call(this,i)},transformInstanceConfig:function(t){var n,i=this;return e.register(i),t&&(e.processConfig(i,t,"responsiveConfig"),e.processConfig(i,t,"responsiveFormulas")),i.setupResponsiveContext(),n=i.getResponsiveState(),t&&(delete(n=Ext.merge({},t,n)).responsiveConfig,delete n.responsiveFormulas),n},updateResponsiveState:function(){var e=this.getResponsiveState();this.setConfig(e)}}}}),Ext.define("Ext.mixin.Selectable",{extend:"Ext.Mixin",mixinConfig:{id:"selectable",after:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0,selection:null,twoWayBindable:{selection:1},publishes:{selection:1}},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{add:"onSelectionStoreAdd",remove:"onSelectionStoreRemove",update:"onSelectionStoreUpdate",clear:{fn:"onSelectionStoreClear",priority:1e3},load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection,this.callParent(arguments)},initSelectable:function(){this.publishState("selection",this.getSelection())},applyMode:function(e){return e=e?e.toUpperCase():"SINGLE",this.modes[e]?e:"SINGLE"},updateStore:function(e,t){var n=Ext.apply({},this.selectableEventHooks,{scope:this});t&&Ext.isObject(t)&&t.isStore&&(t.autoDestroy?t.destroy():t.un(n)),e&&(e.on(n),this.refreshSelection())},selectAll:function(e){var t=this.getStore().getRange();this.select(t,!0,e)},deselectAll:function(e){var t=this,n=t.getStore().getRange();t.deselect(n,e),t.selected.clear(),t.setLastSelected(null),t.setLastFocused(null)},updateSelection:function(e){this.changingSelection||(e?this.select(e):this.deselectAll())},selectWithEvent:function(e){var t=this,n=t.isSelected(e);switch(t.getMode()){case"MULTI":case"SIMPLE":n?t.deselect(e):t.select(e,!0);break;case"SINGLE":t.getAllowDeselect()&&n?t.deselect(e):t.select(e,!1)}},selectRange:function(e,t,n){var i,r,o=this.getStore(),a=[];if(!this.getDisableSelection()){for(e>t&&(i=t,t=e,e=i),r=e;r<=t;r++)a.push(o.getAt(r));this.doMultiSelect(a,n)}},select:function(e,t,n){var i,r=this;r.getDisableSelection()||("number"==typeof e&&(e=[r.getStore().getAt(e)]),e&&("SINGLE"==r.getMode()&&e?(i=e.length?e[0]:e,r.doSingleSelect(i,n)):r.doMultiSelect(e,t,n)))},doSingleSelect:function(e,t){var n=this,i=n.selected;n.getDisableSelection()||n.isSelected(e)||(i.getCount()>0&&n.deselect(n.getLastSelected(),t),i.add(e),n.setLastSelected(e),n.onItemSelect(e,t),n.setLastFocused(e),t||n.fireSelectionChange([e]))},doMultiSelect:function(e,t,n){if(null!==e&&!this.getDisableSelection()){e=Ext.isArray(e)?e:[e];var i,r=this,o=r.selected,a=e.length,s=!1,l=0;for(!t&&o.getCount()>0&&(s=!0,r.deselect(r.getSelections(),!0));l<a;l++)i=e[l],t&&r.isSelected(i)||(s=!0,r.setLastSelected(i),o.add(i),n||r.setLastFocused(i),r.onItemSelect(i,n));s&&!n&&this.fireSelectionChange(e)}},deselect:function(e,t){var n=this;if(!n.getDisableSelection()){e=Ext.isArray(e)?e:[e];for(var i,r=n.selected,o=!1,a=0,s=n.getStore(),l=e.length;a<l;a++)"number"==typeof(i=e[a])&&(i=s.getAt(i)),r.remove(i)&&(n.getLastSelected()==i&&n.setLastSelected(r.last()),o=!0),i&&n.onItemDeselect(i,t);o&&!t&&n.fireSelectionChange(e)}},updateLastFocused:function(e,t){this.onLastFocusChanged(t,e)},fireSelectionChange:function(e){var t=this;t.changingSelection=!0,t.setSelection(t.getLastSelected()||null),t.changingSelection=!1,t.fireAction("selectionchange",[t,e],"getSelections")},getSelections:function(){return this.selected.getRange()},isSelected:function(e){return e=Ext.isNumber(e)?this.getStore().getAt(e):e,-1!==this.selected.indexOf(e)},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var e=this.getSelections();this.deselectAll(!0),e.length&&this.select(e,!1,!0)},onSelectionStoreRemove:function(e,t){var n,i,r,o=this,a=o.selected,s=t.length;if(!o.getDisableSelection()){for(r=0;r<s;r++)i=t[r],a.remove(i)&&(o.getLastSelected()==i&&o.setLastSelected(null),o.getLastFocused()==i&&o.setLastFocused(null),(n=n||[]).push(i));n&&o.fireSelectionChange([n])}},onSelectionStoreClear:function(e){var t=e.getData().items;this.onSelectionStoreRemove(e,t)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){}),Ext.define("Ext.mixin.StyleCacher",{extend:"Ext.Mixin",mixinConfig:{id:"stylecacher"},getCachedStyle:function(e,t){var n=this.$styleCache;return n||(n=this.$styleCache={}),t in n||(n[t]=Ext.fly(e).getStyle(t)),n[t]}}),Ext.define("Ext.mixin.Traversable",{extend:"Ext.Mixin",mixinConfig:{id:"traversable"},setParent:function(e){return this.parent=e,this},hasParent:function(){return Boolean(this.parent||this.$initParent)},getParent:function(){return this.parent||this.$initParent},getAncestors:function(){for(var e=[],t=this.getParent();t;)e.push(t),t=t.getParent();return e},getAncestorIds:function(){for(var e=[],t=this.getParent();t;)e.push(t.getId()),t=t.getParent();return e}}),Ext.define("Ext.perf.Accumulator",function(){var e,t=null,n=Ext.global.chrome,i=function(){var e,t;if(i=Ext.now,Ext.isChrome&&n&&n.Interval)(e=new n.Interval).start(),i=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{t=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=t,i=function(){return t.milliseconds}}catch(e){}return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=i,i()};function r(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function o(e){var n=e||i()-this.time,o=this.accum;++o.count,--o.depth||r(o.total,n),r(o.pure,n-this.childTime),(t=this.parent)&&(++t.accum.childCount,t.childTime+=n)}function a(){return{min:Number.MAX_VALUE,max:0,sum:0}}function s(e,t){return function(){var n=e.enter(),i=t.apply(this,arguments);return n.leave(),i}}function l(e,t,n,i){var r={avg:0,min:i.min,max:i.max,sum:0};return e&&(n=n||0,r.sum=i.sum-t*n,r.avg=r.sum/e),r}return{requires:["Ext.XTemplate","Ext.ClassManager"],constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure=a(),t.total=a(),t.name=e},statics:{getTimestamp:i},format:function(t){e||(e=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(100*e)/100}}));var n=this.getData(t);return n.name=this.name,n.pure.type="Pure",n.total.type="Total",n.times=[n.pure,n.total],e.apply(n)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:l(t.count,t.childCount,e,t.pure),total:l(t.count,t.childCount,e,t.total)}},enter:function(){var e=this,n={accum:e,leave:o,childTime:0,parent:t};return++e.depth,e.maxDepth<e.depth&&(e.maxDepth=e.depth),t=n,n.time=i(),n},monitor:function(e,t,n){var i=this.enter();n?e.apply(t,n):e.call(t),i.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var n,i,r,o,a,l,d,c,u=this,h="string"==typeof t?[t]:t;return c=function(){if("string"==typeof e)for(n=Ext.global,o=e.split("."),r=0,a=o.length;r<a;++r)n=n[o[r]];else n=e;for(r=0,a=h.length;r<a;++r)l=h[r],(i="!"===l.charAt(0))?l=l.substring(1):i=!(l in n.prototype),(d=i?n:n.prototype)[l]=s(u,d[l])},Ext.ClassManager.onCreated(c,u,e),u}}},function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var e,t=new Ext.perf.Accumulator("$"),n=t.total,i=Ext.perf.Accumulator.getTimestamp,r=0;e=i();do{t.enter().leave(),++r}while(n.sum<100);return(i()-e)/r},get:function(e){var t=this.accumulatorsByName[e];return t||(this.accumulatorsByName[e]=t=new Ext.perf.Accumulator(e),this.accumulators.push(t)),t},enter:function(e){return this.get(e).enter()},monitor:function(e,t,n){this.get(e).monitor(t,n)},report:function(){var e=this.accumulators,t=this.calibrate();e.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),this.updateGC(),Ext.log("Calibration: "+Math.round(100*t)/100+" msec/sample"),Ext.each(e,function(e){Ext.log(e.format(t))})},getData:function(e){var t={},n=this.accumulators;return Ext.each(n,function(n){(e||n.count)&&(t[n.name]=n.getData())}),t},reset:function(){Ext.each(this.accumulators,function(e){var t=e;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure={min:Number.MAX_VALUE,max:0,sum:0},t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e,t=this.accumulatorsByName.GC,n=Ext.senchaToolbox;t&&(t.count=n.garbageCollectionCounter||0,t.count&&(e=t.pure,t.total.sum=e.sum=n.garbageCollectionMilliseconds,e.min=e.max=e.sum/t.count,(e=t.total).min=e.max=e.sum/t.count))},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){var t,n,i,r,o;for(t in e||(e={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=e,e)if(e.hasOwnProperty(t))for(r in n=e[t],i=Ext.Perf.get(t),n)n.hasOwnProperty(r)&&(o=n[r],i.tap(r,o));this.watchGC()},setupLog:function(e){var t,n,i,r,o;for(t in e)if(e.hasOwnProperty(t)&&(n=Ext.ClassManager.get(t))){for(r in o={},i=e[t])o[r]=function(e,t){return function(){var n,i,r,o,a;return n=+Date.now(),a=this.callParent(arguments),i=+Date.now()-n,window.console&&i>0&&((o="this"===t?this:"string"==typeof t?this[t]:"number"==typeof t?arguments[t]:null)&&(r=o.id),null!=r?console.log(e+" for "+r+": "+i+"ms"):console.log(e+" for unknown: "+i+"ms"),console.trace&&console.trace()),a}}(r,i[r]);Ext.override(n,o)}}}),Ext.define("Ext.plugin.Abstract",{alternateClassName:"Ext.AbstractPlugin",isPlugin:!0,constructor:function(e){e&&(this.pluginConfig=e,this.initConfig(e))},clonePlugin:function(e){return new this.self(Ext.apply({},e,this.pluginConfig))},getCmp:function(){return this.cmp},setCmp:function(e){this.cmp=e},init:Ext.emptyFn,destroy:function(){this.cmp=this.pluginConfig=null,this.callParent()},onClassExtended:function(e,t,n){var i=t.alias,r=e.prototype;i&&!t.ptype&&(Ext.isArray(i)&&(i=i[0]),r.ptype=i.split("plugin.")[1])},resolveListenerScope:function(e){var t,n=this.getCmp();return n&&(t=n.resolveSatelliteListenerScope(this,e)),t||this.mixins.observable.resolveListenerScope.call(this,e)}}),Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:!1,$configPrefixed:!1,disabled:!1,getState:null,applyState:null,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.plugin.LazyItems",{extend:"Ext.plugin.Abstract",alias:"plugin.lazyitems",init:function(e){this.callParent(arguments),this.items&&this.eagerInstantiation&&(this.items=e.prepareItems(this.items)),e.beforeRender=Ext.Function.createInterceptor(e.beforeRender,this.beforeComponentRender,this)},beforeComponentRender:function(){this.cmp.add(this.items),this.cmp.beforeComponentRender=null}}),Ext.define("Ext.plugin.MouseEnter",{extend:"Ext.plugin.Abstract",alias:"plugin.mouseenter",element:"el",init:function(e){this.delegate||Ext.raise("mouseenter plugin must be configured with a delegate selector"),this.handler||Ext.raise("mouseenter plugin must be configured with handler callback");var t=this,n={mouseover:t.onMouseOver,scope:t,destroyable:!0};t.leaveHandler&&(n.mouseout=t.onMouseOut),"string"==typeof t.element?(n.element=t.element,t.mouseListener=e.on(n)):t.mouseListener=t.element.on(n)},onMouseOver:function(e){var t=this,n=e.getTarget(t.delegate);n&&n!==e.getRelatedTarget(t.delegate)&&Ext.callback(t.handler,null,[e,n],0,t.cmp,t.scope)},onMouseOut:function(e){var t=this,n=e.getRelatedTarget(t.delegate);n&&n!==e.getTarget(t.delegate)&&Ext.callback(t.leaveHandler,null,[e,n],0,t.cmp,t.scope)},destroy:function(){this.callParent(),Ext.destroy(this.mouseListener)}}),Ext.define("Ext.sparkline.Shape",{constructor:function(e,t,n,i){this.target=e,this.id=t,this.type=n,this.args=i},append:function(){return this.target.appendShape(this),this}}),Ext.define("Ext.sparkline.CanvasBase",{requires:["Ext.sparkline.Shape"],shapeCount:0,_pxregex:/(\d+)(px)?\s*$/i,constructor:function(e){this.owner=e,this.rtl=this.owner.getInherited().rtl},setWidth:function(e){this.pixelWidth=e},setHeight:function(e){this.pixelHeight=e},drawLine:function(e,t,n,i,r,o){return this.drawShape([[e,t],[n,i]],r,o)},drawShape:function(e,t,n,i){return this._genShape("Shape",[e,t,n,i])},drawCircle:function(e,t,n,i,r,o){return this._genShape("Circle",[e,t,n,i,r,o])},drawPieSlice:function(e,t,n,i,r,o,a){return this._genShape("PieSlice",[e,t,n,i,r,o,a])},drawRect:function(e,t,n,i,r,o){return this._genShape("Rect",[e,t,n,i,r,o])},getElement:function(){return this.el},getLastShapeId:function(){return this.lastShapeId},reset:function(){Ext.raise("reset not implemented")},_genShape:function(e,t){var n=this.shapeCount++;return t.unshift(n),new Ext.sparkline.Shape(this,n,e,t)},appendShape:function(e){Ext.raise("appendShape not implemented")},replaceWithShape:function(e,t){Ext.raise("replaceWithShape not implemented")},insertAfterShape:function(e,t){Ext.raise("insertAfterShape not implemented")},removeShapeId:function(e){Ext.raise("removeShapeId not implemented")},getShapeAt:function(e,t){Ext.raise("getShapeAt not implemented")},render:function(){Ext.raise("render not implemented")}}),Ext.define("Ext.sparkline.CanvasCanvas",{extend:"Ext.sparkline.CanvasBase",statics:{contextOverrides:(ratio=window.devicePixelRatio||1,{moveTo:function(e,t){this.rtl&&(e=this.canvas.width-e-1),this.$moveTo(e*ratio,t*ratio)},lineTo:function(e,t){this.rtl&&(e=this.canvas.width-e-1),this.$lineTo(e*ratio,t*ratio)},arc:function(e,t,n,i,r,o){this.rtl&&(e=this.canvas.width-e-1),this.$arc(e*ratio,t*ratio,n*ratio,i,r,o)},clearRect:function(e,t,n,i){this.rtl&&(e=this.canvas.width-e-n),this.$clearRect(e*ratio,t*ratio,n*ratio,i*ratio)}})},setWidth:function(e){this.callParent(arguments),this.owner.element.dom.width=e*(window.devicePixelRatio||1)},setHeight:function(e){this.callParent(arguments),this.owner.element.dom.height=e*(window.devicePixelRatio||1)},onOwnerUpdate:function(){var e=this;e.el=e.owner.element,e.interact=!e.owner.initialConfig.disableInteraction,e.shapes={},e.shapeseq=[],e.currentTargetShapeId=e.lastShapeId=null},_getContext:function(e,t,n){var i,r=this.el.dom.getContext("2d"),o=Ext.sparkline.CanvasCanvas.contextOverrides;if(!this.context){for(i in o)r["$"+i]=r[i];Ext.apply(r,o),r.rtl=this.rtl,this.context=r}return null!=e&&(r.strokeStyle=e),r.lineWidth=n||1,null!=t&&(r.fillStyle=t),r},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=this.lastShapeId=null},_drawShape:function(e,t,n,i,r){var o,a,s=this._getContext(n,i,r),l=this.rtl?-.5:.5;for(s.beginPath(),s.moveTo(t[0][0]+l,t[0][1]+.5),o=1,a=t.length;o<a;o++)s.lineTo(t[o][0]+l,t[o][1]+.5);null!=n&&s.stroke(),null!=i&&s.fill(),null!=this.targetX&&null!=this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,t,n,i,r,o,a){var s=this._getContext(r,o,a);s.beginPath(),s.arc(t,n,i,0,2*Math.PI,!1),null!=this.targetX&&null!=this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),null!=r&&s.stroke(),null!=o&&s.fill()},_drawPieSlice:function(e,t,n,i,r,o,a,s){var l=this._getContext(a,s);l.beginPath(),l.moveTo(t,n),l.arc(t,n,i,r,o,!1),l.lineTo(t,n),l.closePath(),null!=a&&l.stroke(),s&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,n,i,r,o,a){return this._drawShape(e,[[t,n],[t+i,n],[t+i,n+r],[t,n+r],[t,n]],o,a)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n,i=this.shapeseq;for(this.shapes[t.id]=t,n=i.length;n--;)i[n]===e&&(i[n]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var n,i,r,o=this.shapeseq,a={};for(i=e.length;i--;)a[e[i]]=!0;for(i=o.length;i--;)a[n=o[i]]&&(o.splice(i,1),delete this.shapes[n],r=i);for(i=t.length;i--;)o.splice(r,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(e,t){var n,i=this.shapeseq;for(n=i.length;n--;)if(i[n]===e)return i.splice(n+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,n=this.shapeseq;for(t=n.length;t--;)if(n[t]===e){n.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t){return this.rtl&&(e=this.el.dom.width-e-1),this.targetX=e,this.targetY=t,this.render(),this.currentTargetShapeId},render:function(){var e,t,n=this.shapeseq,i=this.shapes,r=n.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),t=0;t<r;t++)this["_draw"+(e=i[n[t]]).type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),Ext.define("Ext.sparkline.VmlCanvas",{extend:"Ext.sparkline.CanvasBase",setWidth:function(e){var t=this;t.callParent(arguments),t.owner.groupEl.dom.coordsize=t.width+" "+(t.height||0),t.owner.groupEl.dom.style.width=e+"px"},setHeight:function(e){var t=this;t.callParent(arguments),t.owner.groupEl.dom.coordsize=(t.width||0)+" "+t.height,t.owner.groupEl.dom.style.height=e+"px"},onOwnerUpdate:function(){var e=this;e.group=e.owner.groupEl,e.el=e.owner.element,e.prerender=[]},_drawShape:function(e,t,n,i,r){var o,a,s,l,d,c,u=[];for(c=0,d=t.length;c<d;c++)u[c]=t[c][0]+","+t[c][1];return o=u.splice(0,1),r=null==r?1:r,a=null==n?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+n+'" ',s=null==i?' filled="false"':' fillColor="'+i+'" filled="true" ',l=u[0]===u[u.length-1]?"x ":"",['<svml:shape coordorigin="0 0" coordsize="',this.pixelWidth," ",this.pixelHeight,'" id="jqsshape',e,'" ',a,s,' style="position:absolute;height:',this.pixelHeight,"px;width:",this.pixelWidth,'px" ',' path="m ',o," l ",u.join(", ")," ",l,'e"></svml:shape>'].join("")},_drawCircle:function(e,t,n,i,r,o,a){var s=2*i;return['<svml:oval id="jqsshape',e,'" ',null==r?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+r+'" ',null==o?' filled="false"':' fillColor="'+o+'" filled="true" ',' style="position:absolute;top:',n-=i,"px; left:",t-=i,"px;width:",s,"px;height:",s,'px"></svml:oval>'].join("")},_drawPieSlice:function(e,t,n,i,r,o,a,s){var l,d,c,u,h=this.pixelWidth,f=this.pixelHeight,g=null==a?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ',p=null==s?' filled="false"':' fillColor="'+s+'" filled="true" ';if(r===o)return"";if(o-r==2*Math.PI&&(r=0,o=2*Math.PI),l=t+Math.round(Math.cos(r)*i),d=n+Math.round(Math.sin(r)*i),c=t+Math.round(Math.cos(o)*i),u=n+Math.round(Math.sin(o)*i),l===c&&d===u){if(o-r<Math.PI)return"";l=c=t+i,d=u=n}return l===c&&d===u&&o-r<Math.PI?"":['<svml:shape coordorigin="0 0" coordsize="',h," ",f,'" id="jqsshape',e,'" ',g,p,' style="position:absolute;height:',f,"px;width:",h,'px" path="m ',t,",",n," wa ",[t-i,n-i,t+i,n+i,l,d,c,u].join(", "),' x e"></svml:shape>'].join("")},_drawRect:function(e,t,n,i,r,o,a){return this._drawShape(e,[[t,n],[t,n+r],[t+i,n+r],[t+i,n],[t,n]],o,a)},reset:function(){Ext.fly(this.group).empty()},appendShape:function(e){return this.prerender.push(this["_draw"+e.type].apply(this,e.args)),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n=this.el.getById("jqsshape"+e,!0),i=this["_draw"+t.type].apply(this,t.args);n.outerHTML=i},replaceWithShapes:function(e,t){var n,i=this.el.getById("jqsshape"+e[0],!0),r="",o=t.length;for(n=0;n<o;n++)r+=this["_draw"+t[n].type].apply(this,t[n].args);for(i.outerHTML=r,n=1;n<e.length;n++)this.el.getById("jqsshape"+e[n]).destroy()},insertAfterShape:function(e,t){var n=this.el.getById("jqsshape"+e,!0),i=this["_draw"+t.type].apply(this,t.args);n.insertAdjacentHTML("afterEnd",i)},removeShapeId:function(e){var t=this.el.getById("jqsshape"+e,!0);this.group.removeChild(t)},getShapeAt:function(e,t){return this.el.id.substr(8)},render:function(){this.group.dom.innerHTML=this.prerender.join("")}},function(){Ext.onInternalReady(function(){var e=document;e.namespaces&&!e.namespaces.svml&&e.namespaces.add("svml","urn:schemas-microsoft-com:vml","#default#VML")})}),Ext.define("Ext.util.Color",{alternateClassName:"Ext.draw.Color",statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:"none",RGBA_NONE:"rgba(0, 0, 0, 0)"},isColor:!0,lightnessFactor:.2,constructor:function(e,t,n,i){this.setRGB(e,t,n,i)},clone:function(){return new this.self(this.r,this.g,this.b,this.a)},setRGB:function(e,t,n,i){var r=this;r.r=Math.min(255,Math.max(0,e)),r.g=Math.min(255,Math.max(0,t)),r.b=Math.min(255,Math.max(0,n)),r.a=void 0===i?1:Math.min(1,Math.max(0,i))},getBrightness:function(){return(299*(this.r/255*100)+587*(this.g/255*100)+114*(this.b/255*100))/1e3},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},getHSL:function(){var e,t=this.r/255,n=this.g/255,i=this.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),a=r-o,s=0,l=.5*(r+o);return o!==r&&(s=l<=.5?a/(r+o):a/(2-r-o),(e=t===r?60*(n-i)/a:n===r?120+60*(i-t)/a:240+60*(t-n)/a)<0&&(e+=360),e>=360&&(e-=360)),[e,s,l]},getHSV:function(){var e,t=this.r/255,n=this.g/255,i=this.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),a=r-o,s=0;return o!=r&&(s=r?a/r:0,(e=t===r?60*(n-i)/a:n===r?60*(i-t)/a+120:60*(t-n)/a+240)<0&&(e+=360),e>=360&&(e-=360)),[e,s,r]},setHSL:function(e,t,n){var i,r,o,a=this,s=Math.abs;if(e=(e%360+360)%360,t=t>1?1:t<0?0:t,n=n>1?1:n<0?0:n,0===t||null===e)n*=255,a.setRGB(n,n,n);else switch(e/=60,r=(i=t*(1-s(2*n-1)))*(1-s(e%2-1)),o=n-i/2,o*=255,i*=255,r*=255,Math.floor(e)){case 0:a.setRGB(i+o,r+o,o);break;case 1:a.setRGB(r+o,i+o,o);break;case 2:a.setRGB(o,i+o,r+o);break;case 3:a.setRGB(o,r+o,i+o);break;case 4:a.setRGB(r+o,o,i+o);break;case 5:a.setRGB(i+o,o,r+o)}return a},setHSV:function(e,t,n){var i,r,o,a=this;if(e=(e%360+360)%360,t=t>1?1:t<0?0:t,n=n>1?1:n<0?0:n,0===t||null===e)n*=255,a.setRGB(n,n,n);else switch(e/=60,r=(i=n*t)*(1-Math.abs(e%2-1)),o=n-i,o*=255,i*=255,r*=255,Math.floor(e)){case 0:a.setRGB(i+o,r+o,o);break;case 1:a.setRGB(r+o,i+o,o);break;case 2:a.setRGB(o,i+o,r+o);break;case 3:a.setRGB(o,r+o,i+o);break;case 4:a.setRGB(r+o,o,i+o);break;case 5:a.setRGB(i+o,o,r+o)}return a},createLighter:function(e){var t=this.clone();return t.lighten(e),t},lighten:function(e){e||0===e||(e=this.lightnessFactor);var t=this.getHSL();this.setHSL(t[0],t[1],Ext.Number.constrain(t[2]+e,0,1))},createDarker:function(e){var t=this.clone();return t.darken(e),t},darken:function(e){return e||0===e||(e=this.lightnessFactor),this.lighten(-e)},toString:function(){var e=this,t=Math.round;if(1===e.a){var n=t(e.r).toString(16),i=t(e.g).toString(16),r=t(e.b).toString(16);return["#",n=1===n.length?"0"+n:n,i=1===i.length?"0"+i:i,r=1===r.length?"0"+r:r].join("")}return"rgba("+[t(e.r),t(e.g),t(e.b),0===e.a?0:e.a.toFixed(15)].join(", ")+")"},toHex:function(e){var t=this.r,n=this.g;return"#"+("000000"+(this.b|n<<8|t<<16).toString(16)).slice(-6)},setFromString:function(e){var t,n,i,r,o=1,a=parseInt;if(e===Ext.util.Color.NONE)return this.r=this.g=this.b=this.a=0,this;if(4!==e.length&&7!==e.length||"#"!==e.substr(0,1)){if(t=e.match(Ext.util.Color.rgbToHexRe))n=+t[1],i=+t[2],r=+t[3];else if(t=e.match(Ext.util.Color.rgbaToHexRe))n=+t[1],i=+t[2],r=+t[3],o=+t[4];else if(Ext.util.Color.ColorList.hasOwnProperty(e.toLowerCase()))return this.setFromString(Ext.util.Color.ColorList[e.toLowerCase()])}else(t=e.match(Ext.util.Color.hexRe))&&(n=a(t[1],16)>>0,i=a(t[2],16)>>0,r=a(t[3],16)>>0,4===e.length&&(n+=16*n,i+=16*i,r+=16*r));return void 0===n?this:(this.r=n,this.g=i,this.b=r,this.a=o,this)}},function(){var e=new this;this.addStatics({fly:function(t,n,i,r){switch(arguments.length){case 1:e.setFromString(t);break;case 3:case 4:e.setRGB(t,n,i,r);break;default:return null}return e},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(e,t,n){return new this(0,0,0,0).setHSL(e,t,n)},fromHSV:function(e,t,n){return new this(0,0,0,0).setHSL(e,t,n)},fromString:function(e){return new this(0,0,0,0).setFromString(e)},create:function(e){return e instanceof this?e:Ext.isArray(e)?new Ext.util.Color(e[0],e[1],e[2],e[3]):Ext.isString(e)?Ext.util.Color.fromString(e):arguments.length>2?new Ext.util.Color(arguments[0],arguments[1],arguments[2],arguments[3]):new Ext.util.Color(0,0,0,0)}})}),Ext.define("Ext.sparkline.Base",{extend:"Ext.Gadget",xtype:"sparkline",requires:["Ext.XTemplate","Ext.sparkline.CanvasCanvas","Ext.sparkline.VmlCanvas","Ext.util.Color"],cachedConfig:{baseCls:Ext.baseCSSPrefix+"sparkline",lineColor:"#157fcc",defaultPixelsPerValue:3,tagValuesAttribute:"values",enableTagOptions:!1,enableHighlight:!0,highlightColor:null,highlightLighten:.1,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableTooltips:!1,disableInteraction:!1,tipTpl:null},config:{values:null},element:{tag:"canvas",reference:"element",style:{display:"inline-block",verticalAlign:"top"},listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},width:0,height:0},defaultBindProperty:"values",redrawQueue:{},inheritableStatics:{sparkLineTipClass:Ext.baseCSSPrefix+"sparkline-tip-target",onClassCreated:function(e){var t,n,i=e.prototype.applyConfigChange,r=e.prototype,o=e.getConfigurator().configs;for(t in o)"tipTpl"!==t&&(r[n=Ext.Config.get(t).names.apply]?r[n]=Ext.Function.createSequence(r[n],i):r[n]=i)}},constructor:function(e){var t=this;t.canvas=Ext.supports.Canvas?new Ext.sparkline.CanvasCanvas(t):new Ext.sparkline.VmlCanvas(t),t.getDisableTooltips()||(t.element.cls=Ext.sparkline.Base.sparkLineTipClass),Ext.apply(t,e),t.callParent([e])},all:function(e,t,n){var i;for(i=t.length;i--;)if((!n||null!==t[i])&&t[i]!==e)return!1;return!0},applyConfigChange:function(e){var t=this;return t.redrawQueue[t.getId()]=t,t.redrawTimer||(Ext.sparkline.Base.prototype.redrawTimer=Ext.Function.requestAnimationFrame(t.processRedrawQueue)),e},applyTipTpl:function(e){return e&&!e.isTemplate&&(e=new Ext.XTemplate(e)),e},normalizeValue:function(e){var t;switch(e){case"undefined":e=void 0;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:e==(t=parseFloat(e))&&(e=t)}return e},normalizeValues:function(e){var t,n=[];for(t=e.length;t--;)n[t]=this.normalizeValue(e[t]);return n},updateWidth:function(e,t){var n=this,i=n.element.dom,r=n.measurer;n.callParent([e,t]),n.canvas.setWidth(e),n.width=e,null==n.height&&r&&n.setHeight(parseInt(r.getCachedStyle(i.parentNode,"line-height"),10))},updateHeight:function(e,t){this.callParent([e,t]),this.canvas.setHeight(e),this.height=e},applyValues:function(e,t){return e&&t&&Ext.Array.equals(e,t)&&(e=void 0),e},updateValues:function(e){this.values=e},redraw:function(){var e=this;!e.destroyed&&e.getValues()&&(e.onUpdate(),e.canvas.onOwnerUpdate(),e.renderGraph())},onUpdate:Ext.emptyFn,renderGraph:function(){var e=!0;return this.disabled&&(this.canvas.reset(),e=!1),e},onMouseEnter:function(e){this.onMouseMove(e)},onMouseMove:function(e){this.currentPageXY=e.getPoint(),this.redraw()},onMouseLeave:function(){var e=this;e.currentPageXY=e.targetX=e.targetY=null,e.redraw(),e.hideTip()},updateDisplay:function(){var e,t,n,i=this,r=i.getValues();r&&r.length&&i.currentPageXY&&i.el.getRegion().contains(i.currentPageXY)&&(e=i.canvas.el.getXY(),null!=(n=i.getRegion(i.currentPageXY[0]-e[0],i.currentPageXY[1]-e[1]))&&i.isValidRegion(n,r)&&(i.disableHighlight||i.renderHighlight(n),t=i.getRegionTooltip(n)),i.fireEvent("sparklineregionchange",i),t&&(i.tooltip.setHtml(t),i.showTip())),t||i.hideTip()},getRegion:Ext.emptyFn,getRegionTooltip:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=[],h=c.getTipTpl();if(t=c.getRegionFields(e),a=c.tooltipFormatter)return a(c,c,t);if(!h)return"";if(Ext.isArray(t)||(t=[t]),n=c.tooltipFormatFieldlist,i=c.tooltipFormatFieldlistKey,n&&i){for(r=[],l=t.length;l--;)o=t[l][i],-1!==(d=Ext.Array.indexOf(o,n))&&(r[d]=t[l]);t=r}for(s=t.length,d=0;d<s;d++)t[d].isNull&&c.getTooltipSkipNull()||(Ext.apply(t[d],{prefix:c.getTooltipPrefix(),suffix:c.getTooltipSuffix()}),u.push(h.apply(t[d])));return u.length?u.join("<br>"):""},getRegionFields:Ext.emptyFn,calcHighlightColor:function(e){var t,n=this.getHighlightColor(),i=this.getHighlightLighten();return n||(i&&(t=Ext.util.Color.fromString(e))&&(t.lighten(i),e=t.toHex()),e)},destroy:function(){delete this.redrawQueue[this.getId()],this.callParent()},privates:{hideTip:Ext.privateFn,isValidRegion:function(e,t){return e<t.length},showTip:Ext.privateFn}},function(e){var t=e.prototype;Ext.onInternalReady(function(){t.tooltip=e.constructTip()}),e.onClassCreated(e),t.processRedrawQueue=function(){var e,n=t.redrawQueue;for(e in n)n[e].redraw();t.redrawQueue={},t.redrawTimer=0},Ext.supports.Canvas||(e.prototype.element={tag:"span",reference:"element",listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},style:{display:"inline-block",position:"relative",overflow:"hidden",margin:"0px",padding:"0px",verticalAlign:"top",cursor:"default"},children:[{tag:"svml:group",reference:"groupEl",coordorigin:"0 0",coordsize:"0 0",style:"position:absolute;width:0;height:0;pointer-events:none"}]})}),Ext.define("Ext.override.sparkline.Base",{override:"Ext.sparkline.Base",statics:{constructTip:function(){return new Ext.tip.ToolTip({id:"sparklines-tooltip",showDelay:0,dismissDelay:0,hideDelay:400})}},onMouseMove:function(e){this.tooltip.triggerEvent=e,this.callParent([e])},onMouseLeave:function(e){this.callParent([e]),this.tooltip.target=null},privates:{hideTip:function(){var e=this.tooltip;e.target=null,e.hide()},showTip:function(){var e=this.tooltip;e.target=this.el,e.onTargetOver(e.triggerEvent)}}}),Ext.define("Ext.sparkline.BarBase",{extend:"Ext.sparkline.Base",renderHighlight:function(e){this.renderRegion(e,!0)},renderGraph:function(){var e,t,n,i,r=this,o=r.values,a=r.canvas,s=r.regionShapes||(r.regionShapes={});if(r.callParent()){for(n=o.length;n--;)if(e=r.renderRegion(n))if(Ext.isArray(e)){for(t=[],i=e.length;i--;)e[i].append(),t.push(e[i].id);s[n]=t}else e.append(),s[n]=e.id;else s[n]=null;r.currentPageXY&&(r.currentRegion=null,r.updateDisplay()),a.render()}}}),Ext.define("Ext.sparkline.RangeMap",{constructor:function(e){var t,n,i=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&t.indexOf(":")>-1&&((n=t.split(":"))[0]=0===n[0].length?-1/0:parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=e[t],i.push(n));this.map=e,this.rangelist=i||!1},get:function(e){var t,n,i,r=this.rangelist;if(void 0!==(i=this.map[e]))return i;if(r)for(t=r.length;t--;)if((n=r[t])[0]<=e&&n[1]>=e)return n[2]}}),Ext.define("Ext.sparkline.Bar",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinebar",config:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:null,nullColor:null,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMin:null,chartRangeMax:null,chartRangeClip:!1,colorMap:null},tipTpl:"&#9679; {prefix}{value}{suffix}",remove:function(e,t){var n,i,r=[];for(n=0,i=e.length;n<i;n++)e[n]!==t&&r.push(e[n]);return r},all:function(e,t,n){var i;for(i=e.length;i--;)if((!n||null!==e[i])&&e[i]!==t)return!1;return!0},applyColorMap:function(e){var t=this;return Ext.isArray(e)?(t.colorMapByIndex=e,t.colorMapByValue=null):(t.colorMapByIndex=null,t.colorMapByValue=e,t.colorMapByValue&&null==t.colorMapByValue.get&&(t.colorMapByValue=new Ext.sparkline.RangeMap(e))),t.applyConfigChange(),e},onUpdate:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E,v,y=this,b=y.values,C=y.getBarWidth(),S=y.getBarSpacing(),w=y.getChartRangeMin(),T=y.getChartRangeMax(),P=y.getChartRangeClip(),k=1/0,I=-1/0,M=y.getZeroAxis(),R=[],A=[];for(o=0,a=b.length;o<a;o++)((e="string"==typeof(E=b[o])&&E.indexOf(":")>-1)||Ext.isArray(E))&&(f=!0,e&&(E=b[o]=y.normalizeValues(E.split(":"))),E=y.remove(E,null),t=Math.min.apply(Math,E),n=Math.max.apply(Math,E),t<k&&(k=t),n>I&&(I=n));for(y.stacked=f,y.regionShapes={},y.totalBarWidth=C+S,y.width=b.length*C+(b.length-1)*S,P&&(u=null==w?-1/0:w,h=null==T?1/0:T),r=[],i=f?[]:r,o=0,a=b.length;o<a;o++)if(f)for(g=b[o],b[o]=x=[],R[o]=0,i[o]=A[o]=0,p=0,m=g.length;p<m;p++)null!==(E=x[p]=P?Ext.Number.constrain(g[p],u,h):g[p])&&(E>0&&(R[o]+=E),k<0&&I>0?E<0?A[o]+=Math.abs(E):i[o]+=E:i[o]+=Math.abs(E-(E<0?I:k)),r.push(E));else E=P?Ext.Number.constrain(b[o],u,h):b[o],null!==(E=b[o]=y.normalizeValue(E))&&r.push(E);y.max=c=Math.max.apply(Math,r),y.min=d=Math.min.apply(Math,r),y.stackMax=I=f?Math.max.apply(Math,R):c,y.stackMin=k=f?Math.min.apply(Math,r):d,null!=w&&(P||w<d)&&(d=w),null!=T&&(P||T>c)&&(c=T),l=d<=0&&c>=0&&M?0:M?d>0?d:c:d,y.xAxisOffset=l,s=f?Math.max.apply(Math,i)+Math.max.apply(Math,A):c-d,y.canvasHeightEf=M&&d<0?y.getHeight()-2:y.getHeight()-1,d<l?(v=((f&&c>=0?I:c)-l)/s*y.getHeight())!==Math.ceil(v)&&(y.canvasHeightEf-=2,v=Math.ceil(v)):v=y.getHeight(),y.yoffset=v,y.range=s},getRegion:function(e,t){var n=Math.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?void 0:n},getRegionFields:function(e){var t,n,i=Ext.Array.from(this.values[e]),r=[];for(n=i.length;n--;)t=i[n],r.push({isNull:null===t,value:t,color:this.calcColor(n,t,e),offset:e});return r},calcColor:function(e,t,n){var i,r,o=this,a=o.colorMapByIndex,s=o.colorMapByValue,l=o.getZeroColor();return i=this.stacked?o.getStackedBarColor():t<0?o.getNegBarColor():o.getBarColor(),0===t&&null!=l&&(i=l),s&&(r=s.get(t))?i=r:a&&a.length>n&&(i=a[n]),Ext.isArray(i)?i[e%i.length]:i},renderRegion:function(e,t){var n,i,r,o,a,s,l,d,c,u,h=this,f=h.values[e],g=h.xAxisOffset,p=h.range,m=h.stacked,x=h.canvas,E=h.getBarWidth(),v=e*h.totalBarWidth,y=h.canvasHeightEf,b=h.yoffset,C=h.getNullColor();if(l=(f=Ext.isArray(f)?f:[f]).length,d=f[0],o=h.all(f,null),u=h.all(f,g,!0),o)C&&(r=t?C:h.calcHighlightColor(C,h),n=b>0?b-1:b,x.drawRect(v,n,E-1,0,r,r).append());else for(a=b,s=0;s<l;s++){if(d=f[s],m&&d===g){if(!u||c)continue;c=!0}i=p>0?Math.floor(y*(Math.abs(d-g)/p))+1:1,d<g||d===g&&0===b?(n=a,a+=i):(n=b-i,b-=i),r=h.calcColor(s,d,e),t&&(r=h.calcHighlightColor(r,h)),x.drawRect(v,n,E-1,i-1,r,r).append()}}},function(e){e.onClassCreated(e)}),Ext.define("Ext.sparkline.Box",{extend:"Ext.sparkline.Base",alias:"widget.sparklinebox",config:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:null,targetColor:"#4a2",chartRangeMin:null,chartRangeMax:null},tipTpl:["{field:this.fields}: {value}",{fields:function(e){return{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}[e]}}],tooltipFormatFieldlistKey:"field",quartile:function(e,t){var n;return 2===t?(n=Math.floor(e.length/2),e.length%2?e[n]:(e[n-1]+e[n])/2):e.length%2?(n=(e.length*t+t)/4)%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1]:(n=(e.length*t+2)/4)%1?(e[Math.floor(n)]+e[Math.floor(n)-1])/2:e[n-1]},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),this.applyConfigChange(),e},getRegion:function(){return 1},getRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&e.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&e.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&e.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&e.push({field:"rw",value:this.rwhisker}),e},renderHighlight:Ext.emptyFn,renderGraph:function(){var e,t,n,i,r,o,a,s,l,d,c,u=this,h=u.canvas,f=u.values,g=f.length,p=u.getWidth(),m=u.getHeight(),x=u.getChartRangeMin(),E=u.getChartRangeMax(),v=null==x?Math.min.apply(Math,f):x,y=null==E?Math.max.apply(Math,f):E,b=0,C=u.getSpotRadius(),S=u.getOutlierLineColor(),w=u.getOutlierFillColor(),T=u.getShowOutliers(),P=u.getOutlierIQR(),k=u.getLineColor(),I=u.getWhiskerColor(),M=u.getTargetColor();if(u.callParent()){if(u.raw)T&&f.length>5?(t=f[0],e=f[1],i=f[2],r=f[3],o=f[4],a=f[5],s=f[6]):(e=f[0],i=f[1],r=f[2],o=f[3],a=f[4]);else if(f.sort(function(e,t){return e-t}),i=u.quartile(f,1),r=u.quartile(f,2),n=(o=u.quartile(f,3))-i,T){for(e=a=null,l=0;l<g;l++)null==e&&f[l]>i-n*P&&(e=f[l]),f[l]<o+n*P&&(a=f[l]);t=f[0],s=f[g-1]}else e=f[0],a=f[g-1];u.quartiles=[i,r,o],u.lwhisker=e,u.rwhisker=a,u.loutlier=t,u.routlier=s,c=p/(y-v+1),T&&(b=Math.ceil(C),c=(p-=2*Math.ceil(C))/(y-v+1),t<e&&h.drawCircle((t-v)*c+b,m/2,C,S,w).append(),s>a&&h.drawCircle((s-v)*c+b,m/2,C,S,w).append()),h.drawRect(Math.round((i-v)*c+b),Math.round(.1*m),Math.round((o-i)*c),Math.round(.8*m),u.getBoxLineColor(),u.getBoxFillColor()).append(),h.drawLine(Math.round((e-v)*c+b),Math.round(m/2),Math.round((i-v)*c+b),Math.round(m/2),k).append(),h.drawLine(Math.round((e-v)*c+b),Math.round(m/4),Math.round((e-v)*c+b),Math.round(m-m/4),I).append(),h.drawLine(Math.round((a-v)*c+b),Math.round(m/2),Math.round((o-v)*c+b),Math.round(m/2),k).append(),h.drawLine(Math.round((a-v)*c+b),Math.round(m/4),Math.round((a-v)*c+b),Math.round(m-m/4),I).append(),h.drawLine(Math.round((r-v)*c+b),Math.round(.1*m),Math.round((r-v)*c+b),Math.round(.9*m),u.getMedianColor()).append(),u.target&&(d=Math.ceil(u.spotRadius),h.drawLine(Math.round((u.target-v)*c+b),Math.round(m/2-d),Math.round((u.target-v)*c+b),Math.round(m/2+d),M).append(),h.drawLine(Math.round((u.target-v)*c+b-d),Math.round(m/2),Math.round((u.target-v)*c+b+d),Math.round(m/2),M).append()),u.currentPageXY&&u.el.getRegion().contains(u.currentPageXY)&&(u.currentRegion=null,u.updateDisplay()),h.render()}}}),Ext.define("Ext.sparkline.Bullet",{extend:"Ext.sparkline.Base",alias:"widget.sparklinebullet",config:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:null},tipTpl:["{fieldkey:this.fields} - {value}",{fields:function(e){return"r"===e?"Range":"p"===e?"Performance":"t"===e?"Target":void 0}}],applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),this.normalizeValue),this.disabled=!(e&&e.length),this.applyConfigChange(),e},onUpdate:function(){var e,t,n,i=this,r=i.values,o=i.getBase();i.callParent(arguments),(n=r.slice())[0]=null===n[0]?n[2]:n[0],n[1]=null===r[1]?n[2]:n[1],e=Math.min.apply(Math,r),t=Math.max.apply(Math,r),e=null==o?e<0?e:0:o,i.min=e,i.max=t,i.range=t-e,i.shapes={},i.valueShapes={},i.regiondata={},r.length||(i.disabled=!0)},getRegion:function(e,t){var n=this.canvas.getShapeAt(e,t);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getRegionFields:function(e){return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},renderHighlight:function(e){var t,n=this,i=n.valueShapes,r=n.shapes,o=i[e];switch(delete r[o],e.substr(0,1)){case"r":t=n.renderRange(e.substr(1),!0);break;case"p":t=n.renderPerformance(!0);break;case"t":t=n.renderTarget(!0)}i[e]=t.id,r[t.id]=e,n.canvas.replaceWithShape(o,t)},renderRange:function(e,t){var n=this.values[e],i=Math.round(this.getWidth()*((n-this.min)/this.range)),r=this.getRangeColors()[e-2];return t&&(r=this.calcHighlightColor(r)),this.canvas.drawRect(0,0,i-1,this.getHeight()-1,r,r)},renderPerformance:function(e){var t=this.values[1],n=Math.round(this.getWidth()*((t-this.min)/this.range)),i=this.getPerformanceColor();return e&&(i=this.calcHighlightColor(i)),this.canvas.drawRect(0,Math.round(.3*this.getHeight()),n-1,Math.round(.4*this.getHeight())-1,i,i)},renderTarget:function(e){var t=this.values[0],n=this.getTargetWidth(),i=Math.round(this.getWidth()*((t-this.min)/this.range)-n/2),r=Math.round(.1*this.getHeight()),o=this.getHeight()-2*r,a=this.getTargetColor();return e&&(a=this.calcHighlightColor(a)),this.canvas.drawRect(i,r,n-1,o-1,a,a)},renderGraph:function(){var e,t,n=this,i=n.values.length,r=n.canvas,o=n.shapes||(n.shapes={}),a=n.valueShapes||(n.valueShapes={});if(n.callParent()){for(e=2;e<i;e++)o[(t=n.renderRange(e).append()).id]="r"+e,a["r"+e]=t.id;null!==n.values[1]&&(o[(t=n.renderPerformance().append()).id]="p1",a.p1=t.id),null!==n.values[0]&&(o[(t=this.renderTarget().append()).id]="t0",a.t0=t.id),n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&n.updateDisplay(),r.render()}},privates:{isValidRegion:function(e,t){return!0}}}),Ext.define("Ext.sparkline.Discrete",{extend:"Ext.sparkline.BarBase",alias:"widget.sparklinediscrete",config:{lineHeight:"auto",thresholdColor:null,thresholdValue:0,chartRangeMax:null,chartRangeMin:null,chartRangeClip:!1},tipTpl:"{prefix}{value}{suffix}",applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),this.applyConfigChange(),e},onUpdate:function(){var e=this,t=e.values,n=e.getChartRangeMin(),i=e.getChartRangeMax(),r=e.getChartRangeClip();e.callParent(arguments),e.regionShapes={},e.min=Math.min.apply(Math,t),e.max=Math.max.apply(Math,t),e.range=e.max-e.min,e.width=e.getWidth(),e.interval=Math.floor(e.width/t.length),e.itemWidth=e.width/t.length,null!=n&&(r||n<e.min)&&(e.min=n),null!=i&&(r||i>e.max)&&(e.max=i),e.canvas&&"auto"===e.getLineHeight()&&e.setLineHeight(Math.round(.3*e.getHeight()))},getRegion:function(e,t){return Math.floor(e/this.itemWidth)},getRegionFields:function(e){return{isNull:void 0===this.values[e],value:this.values[e],offset:e}},renderRegion:function(e,t){var n,i,r,o,a=this,s=a.values,l=a.min,d=a.max,c=a.range,u=a.interval,h=a.canvas,f=a.getHeight(),g=a.getLineHeight(),p=f-g,m=a.getThresholdColor();i=Ext.Number.constrain(s[e],l,d),o=e*u,n=Math.round(p-p*((i-l)/c)),r=m&&i<a.getThresholdValue()?m:a.getLineColor(),t&&(r=a.calcHighlightColor(r)),h.drawLine(o,n,o,n+g,r).append()}}),Ext.define("Ext.sparkline.Line",{extend:"Ext.sparkline.Base",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklineline",config:{fillColor:"#def",spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:null,normalRangeMax:null,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:null,chartRangeMax:null,chartRangeMinX:null,chartRangeMaxX:null,valueSpots:null},tipTpl:"&#9679; {prefix}{y}{suffix}",applyValueSpots:function(e){return e&&!e.get&&(e=new Ext.sparkline.RangeMap(e)),this.applyConfigChange(),e},onUpdate:function(){this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[]},getRegion:function(e,t){var n,i=this.regionMap;for(n=i.length;n--;)if(null!==i[n]&&e>=i[n][0]&&e<=i[n][1])return i[n][2]},getRegionFields:function(e){return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.getLineColor(),fillColor:this.getFillColor(),offset:e}},renderHighlight:function(e){var t=this,n=t.canvas,i=t.vertices[e],r=t.getSpotRadius(),o=t.getHighlightSpotColor(),a=t.getHighlightLineColor();i&&(r&&o&&n.drawCircle(i[0],i[1],r,null,o).append(),a&&n.drawLine(i[0],t.canvasTop,i[0],t.canvasTop+t.getHeight(),a).append())},scanValues:function(){var e,t,n,i,r,o=this,a=o.values,s=a.length,l=o.xvalues,d=o.yvalues,c=o.yminmax;for(e=0;e<s;e++)t=a[e],n="string"==typeof a[e],i="object"==typeof a[e]&&a[e]instanceof Array,r=n&&a[e].split(":"),n&&2===r.length?(l.push(Number(r[0])),d.push(Number(r[1])),c.push(Number(r[1]))):i?(l.push(t[0]),d.push(t[1]),c.push(t[1])):(l.push(e),null===a[e]||"null"===a[e]?d.push(null):(d.push(Number(t)),c.push(Number(t))));o.xvalues&&(l=o.xvalues),o.maxy=o.maxyorg=Math.max.apply(Math,c),o.miny=o.minyorg=Math.min.apply(Math,c),o.maxx=Math.max.apply(Math,l),o.minx=Math.min.apply(Math,l),o.xvalues=l,o.yvalues=d,o.yminmax=c},processRangeOptions:function(){var e=this,t=e.getNormalRangeMin(),n=e.getNormalRangeMax(),i=e.getChartRangeMin(),r=e.getChartRangeMinX(),o=e.getChartRangeMax(),a=e.getChartRangeMaxX();null!=t&&(t<e.miny&&(e.miny=t),n>e.maxy&&(e.maxy=n)),null!=i&&(e.chartRangeClip||i<e.miny)&&(e.miny=i),null!=o&&(e.chartRangeClip||o>e.maxy)&&(this.maxy=o),null!=r&&(e.chartRangeClipX||r<e.minx)&&(e.minx=r),null!=a&&(e.chartRangeClipX||a>e.maxx)&&(e.maxx=a)},drawNormalRange:function(e,t,n,i,r){var o=this.getNormalRangeMin(),a=this.getNormalRangeMax(),s=t+Math.round(n-n*((a-this.miny)/r)),l=Math.round(n*(a-o)/r);this.canvas.drawRect(e,s,i,l,void 0,this.normalRangeColor).append()},renderGraph:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E,v,y,b,C,S=this,w=S.canvas,T=S.getWidth(),P=S.getHeight(),k=S.vertices,I=S.getSpotRadius(),M=S.regionMap,R=S.getValueSpots(),A=S.getSpotColor(),D=S.getMinSpotColor(),F=S.getMaxSpotColor(),L=S.getNormalRangeMin(),O=S.getDrawNormalOnTop();if(S.callParent()&&(S.scanValues(),S.processRangeOptions(),y=S.xvalues,b=S.yvalues,S.yminmax.length&&!(S.yvalues.length<2))){for(i=r=0,e=S.maxx-S.minx==0?1:S.maxx-S.minx,t=S.maxy-S.miny==0?1:S.maxy-S.miny,n=S.yvalues.length-1,I&&(T<4*I||P<4*I)&&(I=0),I&&(((E=S.getHighlightSpotColor()&&!S.disableInteraction)||D||A&&b[n]===S.miny)&&(P-=Math.ceil(I)),(E||F||A&&b[n]===S.maxy)&&(P-=Math.ceil(I),i+=Math.ceil(I)),(E||(D||F)&&(b[0]===S.miny||b[0]===S.maxy))&&(r+=Math.ceil(I),T-=Math.ceil(I)),(E||A||D||F&&(b[n]===S.miny||b[n]===S.maxy))&&(T-=Math.ceil(I))),P--,null==L||O||S.drawNormalRange(r,i,P,T,t),s=[a=[]],h=f=null,g=b.length,C=0;C<g;C++)l=y[C],c=y[C+1],d=b[C],f=(u=r+Math.round((l-S.minx)*(T/e)))+((C<g-1?r+Math.round((c-S.minx)*(T/e)):T)-u)/2,M[C]=[h||0,f,C],h=f,null===d?C&&(null!==b[C-1]&&(a=[],s.push(a)),k.push(null)):(d<S.miny&&(d=S.miny),d>S.maxy&&(d=S.maxy),a.length||a.push([u,i+P]),o=[u,i+Math.round(P-P*((d-this.miny)/t))],a.push(o),k.push(o));for(p=[],m=[],x=s.length,C=0;C<x;C++)(a=s[C]).length&&(S.fillColor&&(a.push([a[a.length-1][0],i+P]),m.push(a.slice(0)),a.pop()),a.length>2&&(a[0]=[a[0][0],a[1][1]]),p.push(a));for(x=m.length,C=0;C<x;C++)w.drawShape(m[C],S.fillColor,S.fillColor).append();for(null!=L&&O&&S.drawNormalRange(r,i,P,T,t),x=p.length,C=0;C<x;C++)w.drawShape(p[C],S.getLineColor(),null,S.getLineWidth()).append();if(I&&R)for(null==R.get&&(R=new Ext.sparkline.RangeMap(R)),C=0;C<g;C++)(v=R.get(b[C]))&&w.drawCircle(r+Math.round((y[C]-S.minx)*(T/e)),i+Math.round(P-P*((b[C]-S.miny)/t)),I,null,v).append();I&&A&&null!=b[n]&&w.drawCircle(r+Math.round((y[y.length-1]-S.minx)*(T/e)),i+Math.round(P-P*((b[n]-S.miny)/t)),I,null,A).append(),S.maxy!==S.minyorg&&(I&&D&&(l=y[Ext.Array.indexOf(b,S.minyorg)],w.drawCircle(r+Math.round((l-S.minx)*(T/e)),i+Math.round(P-P*((S.minyorg-S.miny)/t)),I,null,D).append()),I&&F&&(l=y[Ext.Array.indexOf(b,S.maxyorg)],w.drawCircle(r+Math.round((l-S.minx)*(T/e)),i+Math.round(P-P*((S.maxyorg-S.miny)/t)),I,null,F).append())),S.canvasTop=i,S.currentPageXY&&S.el.getRegion().contains(S.currentPageXY)&&S.updateDisplay(),w.render()}}}),Ext.define("Ext.sparkline.Pie",{extend:"Ext.sparkline.Base",alias:"widget.sparklinepie",config:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000"},tipTpl:'&#9679; {value} ({percent:number("0.0")}%)',applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),this.applyConfigChange(),e},onUpdate:function(){var e,t=this,n=t.values,i=0;if(t.callParent(arguments),t.shapes={},t.valueShapes={},n.length>0)for(e=n.length;e--;)i+=n[e];t.total=i,t.radius=Math.floor(Math.min(t.getWidth(),t.getHeight())/2)},getRegion:function(e,t){var n=window.devicePixelRatio||1,i=this.canvas.getShapeAt(e*n,t*n);return null!=i&&null!=this.shapes[i]?this.shapes[i]:null},getRegionFields:function(e){var t=this.getSliceColors();return{isNull:null==this.values[e],value:this.values[e],percent:this.values[e]/this.total*100,color:t[e%t.length],offset:e}},renderHighlight:function(e){this.renderSlice(e,!0).append()},renderSlice:function(e,t){var n,i,r,o,a,s=this,l=s.canvas,d=s.radius,c=s.getBorderWidth(),u=s.getOffset(),h=2*Math.PI,f=s.values,g=s.total,p=u?2*Math.PI*(u/360):0,m=this.getSliceColors();for(o=f.length,r=0;r<o;r++){if(n=p,i=p,g>0&&(i=p+h*(f[r]/g)),e===r)return a=m[r%m.length],t&&(a=s.calcHighlightColor(a)),l.drawPieSlice(d,d,d-c,n,i,null,a);p=i}},renderGraph:function(){var e,t,n=this,i=n.canvas,r=n.values,o=n.radius,a=n.getBorderWidth(),s=n.shapes||(n.shapes={}),l=n.valueShapes||(n.valueShapes={});if(n.callParent()){for(a&&i.drawCircle(o,o,Math.floor(o-a/2),n.getBorderColor(),null,a).append(),t=r.length;t--;)r[t]&&(e=n.renderSlice(t).append(),l[t]=e.id,s[e.id]=t);n.currentPageXY&&n.el.getRegion().contains(n.currentPageXY)&&(n.currentRegion=null,n.updateDisplay()),i.render()}}}),Ext.define("Ext.sparkline.TriState",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinetristate",config:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},tipTpl:["&#9679; {value:this.states}",{states:function(e){var t=Number(e);return-1===t?"Loss":0===t?"Draw":1===t?"Win":e}}],applyColorMap:function(e){var t=this;return Ext.isArray(e)?(t.colorMapByIndex=e,t.colorMapByValue=null):(t.colorMapByIndex=null,t.colorMapByValue=e,t.colorMapByValue&&null==t.colorMapByValue.get&&(t.colorMapByValue=new Ext.sparkline.RangeMap(e))),t.applyConfigChange(),e},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),this.applyConfigChange(),e},onUpdate:function(){this.totalBarWidth=this.getBarWidth()+this.getBarSpacing()},getBarWidth:function(){var e=this.values;return this._barWidth||(this.getWidth()-(e.length-1)*this.getBarSpacing())/e.length},getRegion:function(e,t){return Math.floor(e/this.totalBarWidth)},getRegionFields:function(e){return{isNull:null==this.values[e],value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var n,i=this,r=i.values,o=i.colorMapByIndex,a=i.colorMapByValue;return a&&(n=a.get(e))?n:o&&o.length>t?o[t]:r[t]<0?i.getNegBarColor():r[t]>0?i.getPosBarColor():i.getZeroBarColor()},renderRegion:function(e,t){var n,i,r,o,a,s,l=this,d=l.values,c=l.canvas;n=c.pixelHeight,r=Math.round(n/2),o=e*l.totalBarWidth,d[e]<0?(a=r,i=r-1):d[e]>0?(a=0,i=r-1):(a=r-1,i=2),null!=(s=l.calcColor(d[e],e))&&(t&&(s=l.calcHighlightColor(s)),c.drawRect(o,a,l.getBarWidth()-1,i-1,s,s).append())}}),Ext.define("Ext.util.Base64",{singleton:!0,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t,n,i,r,o,a,s,l=this,d="",c=0,u=(e=l._utf8_encode(e)).length;c<u;)r=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(n=e.charCodeAt(c++))>>4,a=(15&n)<<2|(i=e.charCodeAt(c++))>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),d=d+l._str.charAt(r)+l._str.charAt(o)+l._str.charAt(a)+l._str.charAt(s);return d},decode:function(e){for(var t,n,i,r,o,a,s=this,l="",d=0,c=(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length;d<c;)t=s._str.indexOf(e.charAt(d++))<<2|(r=s._str.indexOf(e.charAt(d++)))>>4,n=(15&r)<<4|(o=s._str.indexOf(e.charAt(d++)))>>2,i=(3&o)<<6|(a=s._str.indexOf(e.charAt(d++))),l+=String.fromCharCode(t),64!==o&&(l+=String.fromCharCode(n)),64!==a&&(l+=String.fromCharCode(i));return l=s._utf8_decode(l)},_utf8_encode:function(e){for(var t="",n=0,i=(e=e.replace(/\r\n/g,"\n")).length;n<i;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=0,r=0,o=0,a=e.length;n<a;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),r=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&r),n+=3);return t}}),Ext.define("Ext.util.DelimitedValue",{dateFormat:"C",delimiter:"\t",lineBreak:"\n",quote:'"',parseREs:{},quoteREs:{},lineBreakRe:/\r?\n/g,lastLineBreakRe:/(\r?\n|\r)$/,constructor:function(e){e&&Ext.apply(this,e)},decode:function(e,t){if(!e)return[];for(var n,i,r,o=this,a=t||o.delimiter,s=[],l=[s],d=o.quote,c=o.quoteREs,u=o.parseREs,h=(e=e.replace(o.lastLineBreakRe,""),u[a]||(u[a]=new RegExp("(\\"+a+"|\\r?\\n|\\r|^)(?:\\"+d+"([^\\"+d+"]*(?:\\"+d+"\\"+d+"[^\\"+d+"]*)*)\\"+d+'|([^"\\'+a+"\\r\\n]*))","gi"))),f=c[d]||(c[d]=new RegExp("\\"+d+"\\"+d,"g"));n=h.exec(e);)(i=n[1]).length&&i!==a&&l.push(s=[]),r=n[2]?n[2].replace(f,'"'):n[3],s.push(r);return l},encode:function(e,t){for(var n,i,r,o=this,a=t||o.delimiter,s=o.dateFormat,l=o.quote,d=l+l,c=e.length,u=o.lineBreakRe,h=[],f=[];c-- >0;){for(r=e[c],f.length=i=r.length;i-- >0;)null==(n=r[i])?n="":"string"==typeof n?n&&(n.indexOf(l)>-1?n=l+n.split(l).join(d)+l:(n.indexOf(a)>-1||u.test(n))&&(n=l+n+l)):Ext.isDate(n)?n=Ext.Date.format(n,s):n&&(isNaN(n)||Ext.isArray(n))&&Ext.raise("Cannot serialize "+Ext.typeOf(n)+" into CSV"),f[i]=n;h[c]=f.join(a)}return h.join(o.lineBreak)}}),Ext.define("Ext.util.CSV",{extend:"Ext.util.DelimitedValue",singleton:!0,delimiter:","}),Ext.define("Ext.util.ItemCollection",{extend:"Ext.util.MixedCollection",alternateClassName:"Ext.ItemCollection",getKey:function(e){return e.getItemId&&e.getItemId()},has:function(e){return this.map.hasOwnProperty(e.getId())}}),Ext.define("Ext.util.LocalStorage",{id:null,destroyed:!1,lazyKeys:!0,prefix:"",session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(e){var t,n=this.cache,i={_users:1};return Ext.isString(e)?i.id=e:Ext.apply(i,e),(t=n[i.id])?(!0===t&&Ext.raise('Creating a shared instance of private local store "'+this.id+'".'),++t._users):t=new this(i),t},supported:!0},constructor:function(e){var t=this;Ext.apply(t,e),t.hasOwnProperty("id")||Ext.raise("No id was provided to the local store."),t._users?Ext.util.LocalStorage.cache[t.id]=t:(Ext.util.LocalStorage.cache[t.id]&&Ext.raise('Cannot create duplicate instance of local store "'+t.id+'". Use Ext.util.LocalStorage.get() to share instances.'),Ext.util.LocalStorage.cache[t.id]=!0),t.init()},init:function(){var e=this,t=e.id;!e.prefix&&t&&(e.prefix=t+"-"),e._store=e.session?window.sessionStorage:window.localStorage},destroy:function(){var e=this;e._users&&Ext.log.warn("LocalStorage(id="+e.id+") destroyed while in use"),delete Ext.util.LocalStorage.cache[e.id],e._store=e._keys=null,e.callParent()},getKeys:function(){var e,t,n=this._store,i=this.prefix,r=this._keys,o=i.length;if(!r)for(this._keys=r=[],e=n.length;e--;)(t=n.key(e)).length>o&&i===t.substring(0,o)&&r.push(t.substring(o));return r},release:function(){--this._users||this.destroy()},save:Ext.emptyFn,clear:function(){var e,t=this._store,n=this.prefix,i=this._keys||this.getKeys();for(e=i.length;e--;)t.removeItem(n+i[e]);i.length=0},key:function(e){var t=this._keys||this.getKeys();return 0<=e&&e<t.length?t[e]:null},getItem:function(e){var t=this.prefix+e;return this._store.getItem(t)},removeItem:function(e){var t=this,n=t.prefix+e,i=t._store,r=t._keys,o=i.length;i.removeItem(n),r&&o!==i.length&&(t.lazyKeys?t._keys=null:Ext.Array.remove(r,e))},setItem:function(e,t){var n=this.prefix+e,i=this._store,r=i.length,o=this._keys;i.setItem(n,t),o&&r!==i.length&&o.push(e)}},function(){if(!("localStorage"in window))return Ext.isIE?void this.override({data:null,flushDelay:1,init:function(){var e,t=this,n=t.data;t.el=e=document.createElement("div"),e.id=t.id||(t.id="extjs-localstore"),e.addBehavior("#default#userdata"),Ext.getHead().dom.appendChild(e),e.load(t.id),n=e.getAttribute("xdata"),t.data=n=n?Ext.decode(n):{},t._flushFn=function(){t._timer=null,t.save(0)}},destroy:function(){var e=this,t=e.el;t&&(e._timer&&e.save(),t.parentNode.removeChild(t),e.data=e.el=null,e.callParent())},getKeys:function(){var e=this._keys;return e||(this._keys=e=Ext.Object.getKeys(this.data)),e},save:function(e){var t=this;e?t._timer||(t._timer=Ext.defer(t._flushFn,e)):(t._timer&&(clearTimeout(t._timer),t._timer=null),t.el.setAttribute("xdata",Ext.encode(t.data)),t.el.save(t.id))},clear:function(){this.data={},this._keys=null,this.save(this.flushDelay)},getItem:function(e){var t=this.data;return e in t?t[e]:null},removeItem:function(e){var t=this,n=t._keys,i=t.data;e in i&&(delete i[e],n&&(t.lazyKeys?t._keys=null:Ext.Array.remove(n,e)),t.save(t.flushDelay))},setItem:function(e,t){var n=this.data,i=this._keys;!i||e in n||i.push(e),n[e]=t,this.save(this.flushDelay)}}):(this.supported=!1,void(this.prototype.init=function(){Ext.raise("Local storage is not supported on this browser")}))}),Ext.define("Ext.util.TSV",{extend:"Ext.util.DelimitedValue",singleton:!0,delimiter:"\t"}),Ext.define("Ext.util.TaskManager",{extend:"Ext.util.TaskRunner",alternateClassName:["Ext.TaskManager"],singleton:!0}),Ext.define("Ext.util.TextMetrics",{requires:["Ext.dom.Element"],statics:{shared:null,measure:function(e,t,n){var i=this.shared;return i||(i=this.shared=new this(e,n)),i.bind(e),i.setFixedWidth(n||"auto"),i.getSize(t)},destroy:function(){Ext.destroy(this.shared),this.shared=null}},constructor:function(e,t){var n=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});n.setVisibilityMode(1),this.measure=n,e&&this.bind(e),n.position("absolute"),n.setLocalXY(-1e3,-1e3),n.hide(),t&&n.setWidth(t)},getSize:function(e){var t,n=this.measure;return n.setHtml(e),t=n.getSize(),n.setHtml(""),t},bind:function(e){this.el=Ext.get(e),this.measure.setStyle(this.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){this.el=this.measure=Ext.destroy(this.measure),this.callParent()}},function(){Ext.Element.override({getTextWidth:function(e,t,n){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(e,this.dom.innerHTML,!0)).width,t||0,n||1e6)}})}),Ext.define("Ext.util.translatable.CssTransform",{extend:"Ext.util.translatable.Dom",isCssTransform:!0,doTranslate:function(e,t){var n=this.getElement();this.destroyed||n.destroyed||n.translate(e,t),this.callParent([e,t])},destroy:function(){var e=this.getElement();e&&!e.destroyed&&(e.dom.style.webkitTransform=null),this.callParent()}}),Ext.define("Ext.util.translatable.ScrollParent",{extend:"Ext.util.translatable.Dom",isScrollParent:!0,applyElement:function(e){var t=Ext.get(e);return t&&(this.parent=t.parent()),t},doTranslate:function(e,t){var n=this.parent;n.setScrollLeft(Math.round(-e)),n.setScrollTop(Math.round(-t)),this.callParent([e,t])},getPosition:function(){var e=this.position,t=this.parent;return e.x=t.getScrollLeft(),e.y=t.getScrollTop(),e}}),Ext.define("Ext.util.translatable.CssPosition",{extend:"Ext.util.translatable.Dom",doTranslate:function(e,t){var n=this.getElement().dom.style;"number"==typeof e&&(n.left=e+"px"),"number"==typeof t&&(n.top=t+"px"),this.callParent([e,t])},destroy:function(){var e=this.getElement().dom.style;e.left=null,e.top=null,this.callParent()}}),Ext.define("Ext.util.Translatable",{requires:["Ext.util.translatable.CssTransform","Ext.util.translatable.ScrollPosition","Ext.util.translatable.ScrollParent","Ext.util.translatable.CssPosition"],constructor:function(e){var t=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(e)){case"scrollposition":return new t.ScrollPosition(e);case"scrollparent":return new t.ScrollParent(e);case"csstransform":return new t.CssTransform(e);case"cssposition":return new t.CssPosition(e)}}}),Ext.define("Ext.util.paintmonitor.OverflowChange",{extend:"Ext.util.paintmonitor.Abstract",eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(e){this.getCallback().apply(this.getScope(),this.getArgs())}}),Ext.define(null,{override:"Ext.event.publisher.Focus",compatibility:Ext.isIE10m,publishDelegatedDomEvent:function(e){var t=document.body,n=Ext.synchronouslyFocusing;(!n||("focusout"!==e.type||e.srcElement!==n&&e.srcElement!==window||e.toElement!==t)&&("focusin"!==e.type||e.srcElement!==t&&e.srcElement!==window||e.fromElement!==n||null!==e.toElement))&&this.callParent([e])}}),Ext.define(null,{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,changeEventName:"propertychange",onChangeEvent:function(e){this.duringSetRawValue||"checked"!==e.browserEvent.propertyName||this.callParent([e])},updateCheckedCls:function(e){var t=this.displayEl;this.callParent([e]),t&&e!==this.lastValue&&t.repaint()}}),Ext.define(null,{override:"Ext.form.field.Radio",compatibility:Ext.isIE8,getSubTplData:function(e){var t=this.callParent([e]);return delete t.checked,t},afterRender:function(){this.callParent(),this.checked&&(this.inputEl.dom.checked=!0)},onChange:function(e,t){this.callSuper([e,t])}}),Ext.define(null,{override:"Ext.scroll.Scroller",compatibility:Ext.isIE8,privates:{doScrollTo:function(e,t,n){var i,r,o,a,s,l=this,d=l.getElement();d&&!d.destroyed&&(r=this.getElement().dom,s=t===1/0,((a=e===1/0)||s)&&(i=l.getMaxPosition(),a&&(e=i.x),s&&(t=i.y)),e=l.convertX(e),n?(o={},null!=t&&(o.scrollTop=t),null!=e&&(o.scrollLeft=e),d.animate(Ext.mergeIf({to:{scrollTop:t,scrollLeft:e}},n))):(null!=e&&null!=t&&(l.deferDomScroll=!0),null!=t&&(r.scrollTop=t),null!=e&&(r.scrollLeft=e),l.deferDomScroll&&(l.deferDomScroll=!1,r.scrollLeft,r.scrollLeft=e)),l.positionDirty=!0)},onDomScroll:function(){this.deferDomScroll||this.callParent()}}}),Ext.define("Ext.Action",{constructor:function(e){this.initialConfig=e,this.itemId=e.itemId=e.itemId||e.id||Ext.id(),this.items=[]},isAction:!0,setText:function(e){this.initialConfig.text=e,this.callEach("setText",[e])},getText:function(){return this.initialConfig.text},setIconCls:function(e){this.initialConfig.iconCls=e,this.callEach("setIconCls",[e])},setGlyph:function(e){this.initialConfig.glyph=e,this.callEach("setGlyph",[e])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(e){this.initialConfig.disabled=e,this.callEach("setDisabled",[e])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(e){this.initialConfig.hidden=e,this.callEach("setVisible",[!e])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,t){this.initialConfig.handler=e,this.initialConfig.scope=t,this.callEach("setHandler",[e,t])},each:function(e,t){Ext.each(this.items,e,t)},callEach:function(e,t){var n,i=this.items,r=0,o=i.length;for(Ext.suspendLayouts();r<o;r++)(n=i[r])[e].apply(n,t);Ext.resumeLayouts(!0)},addComponent:function(e){this.items.push(e),e.on("destroy",this.removeComponent,this)},removeComponent:function(e){Ext.Array.remove(this.items,e)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.ElementLoader",{mixins:["Ext.util.Observable"],uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(e,t,n){return e.getTarget().setHtml(t.responseText,!0===n.scripts,n.rendererScope),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(e){var t,n=this;n.mixins.observable.constructor.call(n,e),n.setTarget(n.target),n.autoLoad&&(!0===(t=n.autoLoad)&&(t=null),n.load(t))},setTarget:function(e){e=Ext.get(e),this.target&&this.target!==e&&this.abort(),this.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;void 0!==e&&(Ext.Ajax.abort(e.request),e.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(!0===e?null:e)},load:function(e){this.target||Ext.raise("A valid target is required when loading content"),e=Ext.apply({},e);var t=this,n=Ext.isDefined(e.loadMask)?e.loadMask:t.loadMask,i=Ext.apply({},e.params),r=Ext.apply({},e.ajaxOptions),o=e.callback||t.callback,a=e.scope||t.scope||t;Ext.applyIf(r,t.ajaxOptions),Ext.applyIf(e,r),Ext.applyIf(i,t.params),Ext.apply(i,t.baseParams),Ext.applyIf(e,{url:t.url}),e.url||Ext.raise("You must specify the URL from which content should be loaded"),Ext.apply(e,{scope:t,params:i,callback:t.onComplete}),!1!==t.fireEvent("beforeload",t,e)&&(n&&t.addMask(n),t.active={options:e,mask:n,scope:a,callback:o,success:e.success||t.success,failure:e.failure||t.failure,renderer:e.renderer||t.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:t.scripts},t.active.request=Ext.Ajax.request(e),t.setOptions(t.active,e))},setOptions:function(e,t){e.rendererScope=t.rendererScope||this.rendererScope||this},onComplete:function(e,t,n){var i,r,o=this,a=o.active;a&&(r=a.scope,i=a.rendererScope,t&&(t=!1!==o.getRenderer(a.renderer).call(i,o,n,a)),t?(Ext.callback(a.success,r,[o,n,e]),o.fireEvent("load",o,n,e)):(Ext.callback(a.failure,r,[o,n,e]),o.fireEvent("exception",o,n,e)),Ext.callback(a.callback,r,[o,t,n,e]),a.mask&&o.removeMask()),delete o.active},getRenderer:function(e){return Ext.isFunction(e)?e:this.statics().Renderer.Html},startAutoRefresh:function(e,t){var n=this;n.stopAutoRefresh(),n.autoRefresh=Ext.interval(function(){n.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),this.autoRefresh=null},isAutoRefreshing:function(){return!!this.autoRefresh},destroy:function(){this.stopAutoRefresh(),this.abort(),this.callParent()}}),Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(e,t,n){var i=!0;try{e.getTarget().update(Ext.decode(t.responseText))}catch(e){i=!1}return i},Component:function(e,t,n){var i=!0,r=e.getTarget(),o=[];r.isContainer||Ext.raise({target:r,msg:"Components can only be loaded into a container"});try{o=Ext.decode(t.responseText)}catch(e){i=!1}return i&&(r.suspendLayouts(),n.removeAll&&r.removeAll(),r.add(o),r.resumeLayouts(!0)),i}}},target:null,loadOnRender:!1,loadMask:!1,renderer:"html",setTarget:function(e){var t=this;Ext.isString(e)&&(e=Ext.getCmp(e)),t.target&&t.target!==e&&t.abort(),t.target=e,e&&t.loadOnRender&&(e.rendered?t.doLoadOnRender():t.mon(e,"render",t.doLoadOnRender,t))},doLoadOnRender:function(){var e=this.loadOnRender;this.load(Ext.isObject(e)?e:null)},removeMask:function(){this.target.setLoading(!1)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll,e.rendererScope=t.rendererScope||this.rendererScope||this.target},getRenderer:function(e){if(Ext.isFunction(e))return e;var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.layout.SizeModel",{constructor:function(e){var t,n=this,i=n.self,r=i.sizeModelsArray;Ext.apply(n,e),n[t=n.name]=!0,n.fixed=!(n.auto=n.natural||n.shrinkWrap),r[n.ordinal=r.length]=i[t]=i.sizeModels[t]=n},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var e,t,n,i,r,o=this.sizeModelsArray;for(new this({name:"calculated"}),new this({name:"configured",names:{width:"width",height:"height"}}),new this({name:"natural"}),new this({name:"shrinkWrap"}),new this({name:"calculatedFromConfigured",configured:!0,calculatedFrom:!0,names:{width:"width",height:"height"}}),new this({name:"calculatedFromNatural",natural:!0,calculatedFrom:!0}),new this({name:"calculatedFromShrinkWrap",shrinkWrap:!0,calculatedFrom:!0}),new this({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new this({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new this({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),e=0,n=o.length;e<n;++e)for((r=o[e]).pairsByHeightOrdinal=i=[],t=0;t<n;++t)i.push({width:r,height:o[t]})}),Ext.define("Ext.layout.Layout",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.XTemplate","Ext.layout.SizeModel"],uses:["Ext.layout.Context"],factoryConfig:{type:"layout"},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:!1,$configStrict:!1,constructor:function(e){var t=this;t.id=Ext.id(null,t.type+"-"),t.initConfig(e),delete t.type,t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t,n=this,i=n.context;n.lastWidthModel!==e.widthModel&&(n.lastWidthModel&&(t=!0),n.lastWidthModel=e.widthModel),n.lastHeightModel!==e.heightModel&&(n.lastWidthModel&&(t=!0),n.lastHeightModel=e.heightModel),t&&((i=e.context).clearTriggers(n,!1),i.clearTriggers(n,!0),n.triggerCount=0)},finishedLayout:function(e){this.lastWidthModel=e.widthModel,this.lastHeightModel=e.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(e){return this.autoSizePolicy},isItemBoxParent:function(e){return!1},isItemLayoutRoot:function(e){var t=e.getSizeModel(),n=t.width,i=t.height;return!(!e.componentLayout.lastComponentSize&&(n.calculated||i.calculated))&&(!n.shrinkWrap&&!i.shrinkWrap)},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var n,i,r,o,a=e.length;if(a)for(o=[],n=0;n<a;++n)(i=e[n]).rendered||(t&&void 0!==t[i.id]?r=t[i.id]:(this.configureItem(i),r=i.getRenderTree(),t&&(t[i.id]=r)),r&&o.push(r));return o},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){var n,i,r=t.length;for(n=0;n<r;n++)(i=t[n]).rendering&&i.finishRender(n)},renderChildren:function(){var e=this.getLayoutItems(),t=this.getRenderTarget();this.renderItems(e,t)},renderItems:function(e,t){var n,i=e.length,r=0,o=0;if(i){for(Ext.suspendLayouts();r<i;r++,o++)(n=e[r])&&!n.rendered?this.renderItem(n,t,o):n.ignoreDomPosition?--o:this.isValidParent(n,t,o)?this.configureItem(n):this.moveItem(n,t,o);Ext.resumeLayouts(!0)}},isValidParent:function(e,t,n){var i=t&&t.dom||t,r=this.getItemLayoutEl(e);return!(!r||!i)&&("number"==typeof n?(n=this.getPositionOffset(n),r===i.childNodes[n]):r.parentNode===i)},getItemLayoutEl:function(e){var t,n=e.el?e.el.dom:Ext.getDom(e),i=n.parentNode;return i&&(t=i.className)&&-1!==t.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(n=n.parentNode),n},getPositionOffset:function(e){return e},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,n){e.rendered||(this.configureItem(e),e.render(t,n))},moveItem:function(e,t,n){var i=Ext.Element.getActiveElement(!0);t=t.dom||t,"number"==typeof n&&(n=t.childNodes[n]),e.el.contains(i)?i.suspendFocusEvents():i=null,t.insertBefore(e.el.dom,n||null),e.container=Ext.get(t),this.configureItem(e),i&&(i.focus(),i.resumeFocusEvents())},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},onAdd:function(e){e.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t,n=e.el,i=this.owner;e.rendered&&(t=[].concat(this.itemCls||[]),i.itemCls&&(t=Ext.Array.push(t,i.itemCls)),t.length&&n.removeCls(t)),delete e.ownerLayout},afterCollapse:function(e,t){t&&this.onContentChange(e)},afterExpand:function(e,t){t&&this.onContentChange(e)},destroy:function(){var e,t=this;t.targetCls&&(e=t.getTarget())&&e.removeCls(t.targetCls),t.onDestroy.$emptyFn||t.onDestroy(),t.callParent()},sortWeightedItems:function(e,t){for(var n=0,i=e.length;n<i;++n)e[n].$i=n;for(Ext.Array.sort(e,function(e,n){var i=n.weight-e.weight;return i||(i=e.$i-n.$i,e[t]&&(i=-i)),i}),n=0;n<i;++n)delete e[n].$i}},function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:["Ext.util.ElementContainer"],requires:["Ext.XTemplate"],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.mixins.elementCt.destroy.call(this),this.callParent()},beginLayout:function(e){this.callParent(arguments),e.targetContext=e.paddingContext=e.getEl("getTarget",this),this.cacheChildItems(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t&&(this.usesContainerHeight&&++e.consumersContainerHeight,this.usesContainerWidth&&++e.consumersContainerWidth)},cacheChildItems:function(e){var t,n,i,r,o;if(this.needsItemSize||this.setsItemSize)for(t=e.context,n=e.childItems=[],r=(i=e.visibleItems=this.getVisibleItems()).length,o=0;o<r;++o)n.push(t.getCmp(i[o]))},cacheElements:function(){var e=this.owner;this.attachChildEls(e.el,e)},calculate:function(e){var t=e.props,n=e.el;e.widthModel.shrinkWrap&&isNaN(t.width)&&e.setContentWidth(n.getWidth()),e.heightModel.shrinkWrap&&isNaN(t.height)&&e.setContentHeight(n.getHeight())},configureItem:function(e){var t,n,i=this.itemCls,r=this.owner.itemCls;e.ownerLayout=this,i&&("string"==typeof i?n=[i]:t=!!(n=i)),r&&(t&&(n=Ext.Array.clone(n)),n=Ext.Array.push(n||[],r)),n&&e.addCls(n)},doRenderBody:function(e,t){this.renderItems(e,t),this.renderContent(e,t)},doRenderContainer:function(e,t){var n=t.$comp.layout,i=n.getRenderTpl(),r=n.getRenderData();i.applyOut(r,e)},doRenderItems:function(e,t){var n=t.$layout.getRenderTree();n&&Ext.DomHelper.generateMarkup(n,e)},doRenderTabGuard:function(e,t,n){var i,r=t.$comp;r.tabGuard&&!t.$skipTabGuards&&(i=r.lookupTpl("tabGuardTpl"))&&(t.tabGuard=n,t.tabGuardEl=r.tabGuardElements[n],r.addChildEl(t.tabGuardEl),i.applyOut(t,e),delete t.tabGuard,delete t.tabGuardEl)},finishRender:function(){var e,t,n=this;n.owner;n.callParent(),n.cacheElements(),e=n.getRenderTarget(),t=n.getLayoutItems(),n.finishRenderItems(e,t)},notifyOwner:function(){this._hasTargetWarning||!this.targetCls||this.getTarget().hasCls(this.targetCls)||(this._hasTargetWarning=!0,Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). "+this.owner.id)),this.owner.afterLayout(this)},getContainerSize:function(e,t){var n,i,r,o,a=e.targetContext,s=a.getFrameInfo(),l=e.paddingContext.getPaddingInfo(),d=0,c=0;return e.widthModel.shrinkWrap||(++c,(n="number"==typeof(r=t?a.getDomProp("width"):a.getProp("width")))&&(++d,(r-=s.width+l.width)<0&&(r=0))),e.heightModel.shrinkWrap||(++c,(i="number"==typeof(o=t?a.getDomProp("height"):a.getProp("height")))&&(++d,(o-=s.height+l.height)<0&&(o=0))),{width:r,height:o,needed:c,got:d,gotAll:d===c,gotWidth:n,gotHeight:i}},getPositionOffset:function(e){if(!this.createsInnerCt){var t=this.owner.itemNodeOffset;t&&(e+=t)}return e},getLayoutItems:function(){var e=this.owner,t=e&&e.items;return t&&t.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){var e,t,n,i=this.getRenderTarget(),r=this.getLayoutItems(),o=r.length,a=[];for(e=0,t=0;e<o;e++,t++)if((n=r[e]).rendered){if(n.ignoreDomPosition)--t;else if(!this.isValidParent(n,i,t))continue;a.push(n)}return a},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=Ext.XTemplate.getTpl(this,"renderTpl");return e.renderContent||this.owner.setupRenderTpl(e),e},getRenderTree:function(){var e,t,n=this.owner.items,i={};do{t=n.generation,e=this.getItemsRenderTree(this.getLayoutItems(),i)}while(n.generation!==t);return e},renderChildren:function(){var e,t,n=this.owner.items,i=this.getRenderTarget();do{e=n.generation,t=this.getLayoutItems(),this.renderItems(t,i)}while(n.generation!==e)},getScrollbarsNeeded:function(e,t,n,i){var r=Ext.getScrollbarSize(),o="number"==typeof e,a="number"==typeof t,s=0,l=0;return r.width?(a&&t<i&&(l=2,e-=r.width),o&&e<n&&(s=1,!l&&a&&(t-=r.height)<i&&(l=2)),l+s):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e,t,n,i=this.getRenderTarget(),r=this.getLayoutItems(),o=r.length,a=[];for(e=0,t=0;e<o;e++,t++)if((n=r[e]).rendered&&!0!==n.hidden&&!n.floated){if(n.ignoreDomPosition)--t;else if(!this.isValidParent(n,i,t))continue;a.push(n)}return a},getMoveAfterIndex:function(e){return this.owner.items.indexOf(e)+1},moveItemBefore:function(e,t){var n,i=this.owner,r=i.items,o=r.indexOf(e);return e===t?e:(t?(n=r.indexOf(t),o>-1&&o<n&&--n):n=r.length,i.insert(n,e))},setupRenderTpl:function(e){e.renderBody=this.doRenderBody,e.renderContainer=this.doRenderContainer,e.renderItems=this.doRenderItems,e.renderTabGuard=this.doRenderTabGuard},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(e){e.liquidLayout||++this.activeItemCount,this.callParent([e])},onRemove:function(e,t){e.liquidLayout||--this.activeItemCount,this.callParent([e,t])}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:Ext.baseCSSPrefix+"autocontainer-outerCt",innerCtCls:Ext.baseCSSPrefix+"autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','<tpl if="!$comp.html">role="presentation"</tpl>','class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(e){this.callParent(arguments),this.initContextItems(e)},beforeLayoutCycle:function(e){var t=this.owner,n=t.inheritedState,i=t.inheritedStateInner;n&&!n.invalid||(n=t.getInherited(),i=t.inheritedStateInner),e.widthModel.shrinkWrap?i.inShrinkWrapTable=!0:delete i.inShrinkWrapTable},beginLayoutCycle:function(e){var t,n,i,r,o,a=this,s=a.outerCt,l=a.lastOuterCtWidth||"",d=a.lastOuterCtHeight||"",c=a.lastOuterCtTableLayout||"",u=e.state;a.callParent(arguments),n=i=r="",e.widthModel.shrinkWrap||(n="100%",o=a.owner.inheritedStateInner,t=a.getOverflowXStyle(e),r=o.inShrinkWrapTable||"auto"===t||"scroll"===t?"":"fixed"),e.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(i="100%"),(n!==l||a.hasOuterCtPxWidth)&&(s.setStyle("width",n),a.lastOuterCtWidth=n,a.hasOuterCtPxWidth=!1),r!==c&&(s.setStyle("table-layout",r),a.lastOuterCtTableLayout=r),(i!==d||a.hasOuterCtPxHeight)&&(s.setStyle("height",i),a.lastOuterCtHeight=i,a.hasOuterCtPxHeight=!1),a.hasInnerCtPxHeight&&(a.innerCt.setStyle("height",""),a.hasInnerCtPxHeight=!1),u.overflowAdjust=u.overflowAdjust||a.lastOverflowAdjust},calculate:function(e){var t=this,n=e.state,i=t.getContainerSize(e,!0),r=n.calculatedItems||(n.calculatedItems=!t.calculateItems||t.calculateItems(e,i));t.setCtSizeIfNeeded(e,i),r&&e.hasDomProp("containerChildrenSizeDone")&&(t.calculateContentSize(e),i.gotAll)?!t.manageOverflow||e.state.secondPass||t.reserveScrollbar||t.calculateOverflow(e,i):t.done=!1},calculateContentSize:function(e){var t=(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),n=1&t||void 0,i=2&t||void 0,r=0,o=e.props;n&&(isNaN(o.contentWidth)?++r:n=void 0),i&&(isNaN(o.contentHeight)?++r:i=void 0),r&&(n&&!e.setContentWidth(this.measureContentWidth(e))&&(this.done=!1),i&&!e.setContentHeight(this.measureContentHeight(e))&&(this.done=!1))},calculateOverflow:function(e){var t,n,i,r,o,a,s,l=this;o="auto"===l.getOverflowXStyle(e),a="auto"===l.getOverflowYStyle(e),(o||a)&&(i=Ext.getScrollbarSize(),r=0,(s=e.overflowContext.el.dom).scrollWidth>s.clientWidth&&(r|=1),s.scrollHeight>s.clientHeight&&(r|=2),t=a&&2&r?i.width:0,n=o&&1&r?i.height:0,t===l.lastOverflowAdjust.width&&n===l.lastOverflowAdjust.height||(l.done=!1,e.invalidate({state:{overflowAdjust:{width:t,height:n},overflowState:r,secondPass:!0}})))},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderBody:function(e,t){var n=t.$layout,i=Ext.XTemplate,r=n.beforeBodyTpl,o=n.afterBodyTpl;r&&i.getTpl(n,"beforeBodyTpl").applyOut(t,e),this.renderItems(e,t),this.renderContent(e,t),o&&i.getTpl(n,"afterBodyTpl").applyOut(t,e)},doRenderPadding:function(e,t){var n=t.$layout,i=t.$layout.owner,r=i[i.contentPaddingProperty];n.managePadding&&r&&e.push("padding:",i.unitizeBox(r))},finishedLayout:function(e){var t=this.innerCt;this.callParent(arguments),Ext.isIE8&&t.repaint(),Ext.isOpera&&(t.setStyle("position","relative"),t.dom.scrollWidth,t.setStyle("position",""))},getContainerSize:function(e,t){var n=this.callParent(arguments),i=e.state.overflowAdjust;return i&&(n.width-=i.width,n.height-=i.height),n},getRenderData:function(){var e=this.callParent();return e.innerCtCls=this.innerCtCls,e.outerCtCls=this.outerCtCls,e},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(e){return e.overflowXStyle||(e.overflowXStyle=this.owner.scrollFlags.overflowX||e.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){return e.overflowYStyle||(e.overflowYStyle=this.owner.scrollFlags.overflowY||e.overflowContext.getStyle("overflow-y"))},initContextItems:function(e){var t=e.target,n=this.owner.getOverflowEl();e.outerCtContext=e.getEl("outerCt",this),e.innerCtContext=e.getEl("innerCt",this),e.overflowContext=n===e.el?e:e.getEl(n),void 0!==t[t.contentPaddingProperty]&&(e.paddingContext=e.innerCtContext)},initLayout:function(){var e=this,t=Ext.getScrollbarSize().width,n=e.owner;e.callParent(),t&&e.manageOverflow&&!e.hasOwnProperty("lastOverflowAdjust")&&(n.scrollable||e.reserveScrollbar)&&(e.lastOverflowAdjust={width:t,height:0})},measureContentHeight:function(e){var t=this.outerCt.getHeight(),n=e.target;return this.managePadding&&void 0===n[n.contentPaddingProperty]&&(t+=e.targetContext.getPaddingInfo().height),t},measureContentWidth:function(e){var t,n,i,r,o;return this.chromeCellMeasureBug&&"table-cell"===(i=(n=(t=this.innerCt.dom).style).display)&&(n.display="",t.offsetWidth,n.display=i),Ext.isSafari&&((n=(t=this.outerCt.dom).style).display="table-cell",t.offsetWidth,t.style.display=""),r=this.outerCt.getWidth(),o=e.target,this.managePadding&&void 0===o[o.contentPaddingProperty]&&(r+=e.targetContext.getPaddingInfo().width),r},setCtSizeIfNeeded:function(e,t){var n,i,r=t.height,o=e.paddingContext.getPaddingInfo(),a=this.getTarget(),s=this.getOverflowXStyle(e),l="auto"===s||"scroll"===s,d=Ext.getScrollbarSize();r&&!e.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(n=!0),Ext.isIE8&&(i=!0),(n||i)&&l&&a.dom.scrollWidth>a.dom.clientWidth&&(r=Math.max(r-d.height,0)),n&&(e.outerCtContext.setProp("height",r+o.height),this.hasOuterCtPxHeight=!0),i&&(e.innerCtContext.setProp("height",r),this.hasInnerCtPxHeight=!0))},setupRenderTpl:function(e){this.callParent(arguments),e.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},function(e){var t=Ext.chromeVersion;e.prototype.chromeCellMeasureBug=Ext.isChrome&&t>=26&&t<=34}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",requires:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.GlobalEvents"],statics:{zBase:9e3,activeCounter:0},constructor:function(e){var t=this;t.id=Ext.id(null,"zindex-mgr-"),t.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(e,t){var n=(e.alwaysOnTop||0)-(t.alwaysOnTop||0);return n||(n=e.getActiveCounter()-t.getActiveCounter()),n}},filters:{filterFn:function(e){return e.isVisible()}}}),t.zIndexStack.addObserver(t),t.front=null,t.sortCount=0,t.globalListeners=Ext.GlobalEvents.on({beforehide:t.onComponentShowHide,show:t.onComponentShowHide,scope:t,destroyable:!0}),e?e.isContainer?(t.resizeListeners=e.on({resize:t.onContainerResize,scope:t,destroyable:!0}),t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):void 0,t.getNextZSeed()),t.targetEl=e.getTargetEl(),t.container=e):(t.resizeListeners=Ext.on({resize:t.onContainerResize,scope:t,destroyable:!0}),t.zseed=t.getNextZSeed(),t.targetEl=Ext.get(e)):(t.zseed=t.getNextZSeed(),Ext.onInternalReady(function(){t.resizeListeners=Ext.on({resize:t.scheduleContainerResize,scope:t,destroyable:!0,priority:-1e4}),t.targetEl=Ext.getBody()}))},getId:function(){return this.id},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){return this.zseed=e,this.onCollectionSort()},onCollectionSort:function(){var e,t,n,i,r=this,o=r.front,a=r.zseed,s=r.zIndexStack.getRange(),l=s.length,d=!o||o.isVisible();for(r.sortCount++,e=0;e<l;e++)(t=s[e]).destroying||t.destroyed||(a=t.setZIndex(a),t.hidden||(i=t,t.modal&&(n=t)));return i!==o&&(o&&!o.destroying&&o.setActive(!1),i&&(d=d&&i.isFocusable(!0)&&(i.modal||i.focusOnToFront&&!i.preventFocusOnActivate),i.setActive(!0,d))),r.front=i||null,n?n===o?r.syncModalMask(n):r.showModalMask(n):r.hideModalMask(),a},onComponentUpdate:function(e){this.zIndexStack.contains(e)&&this.zIndexStack.sort()},onAfterComponentRender:function(e){e.isVisible()&&e.toFrontOnShow&&(this.zIndexStack.itemChanged(e,"hidden"),this.zIndexStack.sort())},onComponentShowHide:function(e){var t=this,n=t.zIndexStack,i=t.sortCount;e.isFloating()&&!t.hidingAll&&(n.getSource()||n).contains(e)&&(t.tempHidden&&Ext.Array.remove(t.tempHidden,e),n.beginUpdate(),e.isVisible()?e.toFrontOnShow&&(n.itemChanged(e,"hidden"),e.setActiveCounter(++Ext.ZIndexManager.activeCounter)):n.itemChanged(e,"hidden"),n.endUpdate(),t.sortCount===i&&t.onCollectionSort())},register:function(e){e.zIndexManager&&e.zIndexManager.unregister(e),e.zIndexManager=this,e.rendered||e.on("afterrender",this.onAfterComponentRender,this,{single:!0}),this.zIndexStack.add(e)},unregister:function(e){delete e.zIndexManager,e.un("afterrender",this.onAfterComponentRender,this),this.zIndexStack.remove(e),this.onCollectionSort()},get:function(e){return e.isComponent?e:this.zIndexStack.get(e)},bringToFront:function(e,t){var n,i,r=this.zIndexStack,o=r.last();return!!(e=this.get(e))&&(i=e.preventFocusOnActivate,e.preventFocusOnActivate=t,e.setActiveCounter(++Ext.ZIndexManager.activeCounter),e.preventFocusOnActivate=i,(n=r.last())===e&&n!==o)},sendToBack:function(e){return(e=this.get(e))&&e.setActiveCounter(0),e||null},hideAll:function(){var e,t=this,n=t.zIndexStack.getRange(),i=n.length;for(t.hidingAll=!0,e=0;e<i;e++)n[e].hide();t.hidingAll=!1,t.hideModalMask(),t.front=null},hide:function(){var e,t,n=this,i=Ext.Element.getActiveElement(),r=n.zIndexStack.getRange(),o=r.length;for(n.focusRestoreElement=null,(n.tempHidden||(n.tempHidden=[])).length=0,e=0;e<o;e++)(t=r[e]).isVisible()&&(t.el.contains(i)&&(n.focusRestoreElement=i),t.el.hide(),t.pendingShow=t.hidden=!0,n.tempHidden.push(t))},show:function(){var e,t,n=this.tempHidden,i=n?n.length:0;for(e=0;e<i;e++)(t=n[e]).hidden=!1,t.pendingShow?(t.el.show(),t.pendingShow=!1,t.setPosition(t.x,t.y),t.onFloatShow()):t.hide();this.tempHidden=null,this.focusRestoreElement&&this.focusRestoreElement.focus()},getActive:function(){return this.zIndexStack.last()},getBy:function(e,t){return this.zIndexStack.filterBy(e,t).getRange()},each:function(e,t){this.zIndexStack.each(e,t)},eachBottomUp:function(e,t){var n,i,r=this.zIndexStack.getRange(),o=r.length;for(n=0;n<o;n++)if((i=r[n]).isComponent&&!1===e.call(t||i,i))return},eachTopDown:function(e,t){var n,i,r=this.zIndexStack.getRange();for(n=r.length;n-- >0;)if((i=r[n]).isComponent&&!1===e.call(t||i,i))return},destroy:function(){var e,t=this,n=t.zIndexStack.getRange(),i=n.length;for(e=0;e<i;e++)Ext.destroy(n[e]);Ext.destroy(t.mask,t.maskShim,t.zIndexStack,t.globalListeners,t.resizeListeners),t.callParent()},privates:{getMaskBox:function(){var e=this.mask.maskTarget;return e.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:e.getBox()},scheduleContainerResize:function(){this.containerResizeTimer||(this.containerResizeTimer=Ext.Function.requestAnimationFrame(this.onContainerResize,this))},onContainerResize:function(){var e,t=this.mask,n=this.maskShim;this.containerResizeTimer=null,t&&t.isVisible()&&(t.hide(),n&&n.hide(),e=this.getMaskBox(),n&&(n.setSize(e),n.show()),t.setSize(e),t.show())},onMaskMousedown:function(e){this.front&&(this.front.focus(),e.preventDefault())},onMaskClick:function(){var e=this.front;e&&(e.hasListeners.maskclick&&!1===e.fireEvent("maskclick",e)||e[e.maskClickAction||"focus"]())},showModalMask:function(e){var t=this,n=e.el,i=e.floatParent?e.floatParent.getEl():e.container,r=t.mask;r?t.hideModalMask():(t.mask=r=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",cls:Ext.baseCSSPrefix+"mask "+Ext.baseCSSPrefix+"border-box",style:"height:0;width:0"}),r.setVisibilityMode(Ext.Element.DISPLAY),r.on({mousedown:t.onMaskMousedown,click:t.onMaskClick,scope:t})),r.maskTarget=i,i.saveTabbableState({excludeRoot:n}),t.syncModalMask(e)},syncModalMask:function(e){var t=e.el.getZIndex()-4,n=this.mask,i=this.maskShim,r=this.getMaskBox();i&&(i.setZIndex(t),i.show(),i.setBox(r)),n.setZIndex(t),n.show(),n.setBox(r)},hideModalMask:function(){var e=this.mask,t=this.maskShim;e&&e.isVisible()&&(e.maskTarget.restoreTabbableState(),e.maskTarget=void 0,e.hide(),t&&t.hide())}}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.container.Container",{extend:"Ext.Component",xtype:"container",alternateClassName:["Ext.Container","Ext.AbstractContainer"],requires:["Ext.Action","Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager","Ext.util.ItemCollection"],mixins:["Ext.mixin.Queryable","Ext.mixin.Container"],renderTpl:"<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>{% this.renderContainer(out,values) %}<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>",config:{actions:null},autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,items:void 0,layout:"auto",suspendLayout:!1,tabGuardTpl:'<span id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" aria-hidden="true" class="'+Ext.baseCSSPrefix+"tab-guard "+Ext.baseCSSPrefix+'tab-guard-{tabGuardPosition}" style="width:0px;height:0px;"></span>',tabGuardElements:{before:"tabGuardBeforeEl",after:"tabGuardAfterEl"},_applyDefaultsOptions:{defaults:!0,strict:!1},ariaRole:"presentation",baseCls:Ext.baseCSSPrefix+"container",layoutCounter:0,add:function(){var e,t,n,i,r,o,a,s,l=this,d=Ext.Array.slice(arguments),c="number"==typeof d[0]?d.shift():-1,u=l.getLayout(),h=!1;for(1===d.length&&Ext.isArray(d[0])?(t=d[0],e=!0):t=d,l.rendered&&Ext.suspendLayouts(),a=t=l.prepareItems(t,!0),i=t.length,e||1!==i||(a=t[0]),n=0;n<i;n++)(r=t[n])||Ext.raise("Cannot add null item to Container with itemId/id: "+l.getItemId()),r.destroyed&&Ext.raise("Cannot add destroyed item '"+r.getId()+"' to Container '"+l.getId()+"'"),o=c<0?l.items.length:c+n,s=!!r.instancedCmp,delete r.instancedCmp,r.floating?((l.floatingItems||(l.floatingItems=new Ext.util.ItemCollection)).add(r),r.onAdded(l,o,s),delete r.$initParent,l.hasListeners.add&&l.fireEvent("add",l,r,o)):l.hasListeners.beforeadd&&!1===l.fireEvent("beforeadd",l,r,o)||!1===l.onBeforeAdd(r)||(l.items.insert(o,r),r.onAdded(l,o,s),delete r.$initParent,l.onAdd(r,o),u.onAdd(r,o),h=!0,l.hasListeners.add&&l.fireEvent("add",l,r,o));return h&&l.updateLayout(),l.rendered&&Ext.resumeLayouts(!0),a},onAdded:function(e,t,n){this.callParent([e,t,n]),this.containerOnAdded(e,n)},onRemoved:function(e){this.containerOnRemoved(e),this.callParent(arguments)},afterComponentLayout:function(){var e,t,n,i=this.floatingItems;if(this.callParent(arguments),i)for(e=(i=i.items).length,t=0;t<e;t++)!(n=i[t]).rendered&&n.autoShow&&n.show()},afterLayout:function(e){++this.layoutCounter,this.hasListeners.afterlayout&&this.fireEvent("afterlayout",this,e)},doDestroy:function(){var e,t=this,n=t.items,i=t.floatingItems;if(n){for(;e=n.first();)t.doRemove(e,!0);n.destroy(),t.items=null}if(i){for(;e=i.first();)t.doRemove(e,!0);i.destroy(),t.floatingItems=null}Ext.destroy(t.layout),t.callParent()},beforeRender:function(){var e,t=this,n=t.getLayout();t.preventChildDisable=!0,t.callParent(),t.preventChildDisable=!1,n.initialized||n.initLayout(),(e=n.targetCls)&&t.applyTargetCls(e)},cascade:function(e,t,n){var i,r=this,o=r.items?r.items.items:[],a=o.length,s=0,l=n?n.concat(r):[r],d=l.length-1;if(!1!==e.apply(t||r,l))for(;s<a;s++)(i=o[s]).cascade?i.cascade(e,t,n):(l[d]=i,e.apply(t||i,l));return this},contains:function(e,t){var n=!1;return t?(this.cascade(function(t){if(t.contains&&t.contains(e))return n=!0,!1}),n):this.items.contains(e)||this.floatingItems&&this.floatingItems.contains(e)},disable:function(e,t){var n,i,r,o=this,a=o.disabled;if(o.callParent([e,t]),!t&&!o.preventChildDisable&&!a)for(i=(n=o.getChildItemsToDisable()).length,r=0;r<i;r++)n[r].disable(e,!0);return o},enable:function(e,t){var n,i,r,o=this.disabled;if(this.callParent([e,t]),o)for(i=(n=this.getChildItemsToDisable()).length,r=0;r<i;r++)n[r].enable(e,!0);return this},getChildByElement:function(e,t){var n,i,r=0,o=this.getRefItems(),a=o.length;for(e=Ext.getDom(e);r<a;r++)if((i=(n=o[r]).getEl())&&(i.dom===e||i.contains(e)))return t&&n.getChildByElement?n.getChildByElement(e,t):n;return null},getComponent:function(e){Ext.isObject(e)&&(e=e.getItemId());var t=this.items.get(e),n=this.floatingItems;return!t&&n&&"number"!=typeof e&&(t=n.get(e)),t},getFocusEl:function(){var e=this.getDefaultFocus();return e||(this.focusable?this.getTargetEl():void 0)},getLayout:function(){var e=this.layout;return e&&e.isLayout||this.setLayout(e),this.layout},getRefItems:function(e){for(var t,n=this.items.items,i=n.length,r=0,o=[];r<i;r++)t=n[r],o[o.length]=t,e&&t.getRefItems&&o.push.apply(o,t.getRefItems(!0));if(this.floatingItems)for(i=(n=this.floatingItems.items).length,r=0;r<i;r++)t=n[r],o[o.length]=t,e&&t.getRefItems&&o.push.apply(o,t.getRefItems(!0));return o},getDefaultFocus:function(){var e,t=this.defaultFocus;return t&&(e=this.down(t)),e},initComponent:function(){var e=this;e.callParent(),e.getLayout(),e.constructing=!0,e.initItems(),e.disabled&&(e.disabled=!1,e.disable(!0)),delete e.constructing},initItems:function(){var e=this,t=e.items;t&&t.isMixedCollection||(e.items=new Ext.util.ItemCollection,t&&(Ext.isArray(t)||(t=[t]),e.$initingItems=!0,e.add(t),delete e.$initingItems))},initInheritedState:function(e,t){var n=this,i=(n.controller,n.layout);n.session,n.viewModel,n.reference,n.referenceHolder;n.callParent([e,t]),n.collapsed&&(e.collapsed=!0),n.initContainerInheritedState(e,t),i&&i.initInheritedState&&i.initInheritedState(e,t)},insert:function(e,t){var n;return t&&t.isComponent&&-1!==(n=this.items.indexOf(t))?this.move(n,e):this.add(e,t)},lookupComponent:function(e){var t,n=this.defaultType;if(!e.isComponent){if("string"==typeof e){if(!(t="@"===e[0]))return Ext.ComponentManager.get(e);e=this.getAction(e.substr(1)),n=this.defaultActionType||n}e=Ext.ComponentManager.create(e,n),t&&(e.instancedCmp=!0)}return e},move:function(e,t){var n,i=this,r=i.items;if(e.isComponent&&(e=r.indexOf(e)),n=r.getAt(e),e!==t){if(!1===(n=r.removeAt(e)))return!1;t=Math.min(t,r.getCount()),r.insert(t,n),i.onMove(n,e,t),i.hasListeners.childmove&&i.fireEvent("childmove",i,n,e,t),i.updateLayout()}return n},moveBefore:function(e,t){var n,i;return e!==t&&(n=Ext.Element.getActiveElement(!0),e.el&&e.el.contains(n)&&((i=n).suspendFocusEvents(),e.isLayoutMoving=!0),e=this.layout.moveItemBefore(e,t),i&&(e.isLayoutMoving=!1,i.focus(),i.resumeFocusEvents())),e},moveAfter:function(e,t){var n,i=this.layout;return e!==t&&(n=t?i.getMoveAfterIndex(t):0,e=this.moveBefore(e,this.items.getAt(n))),e},nextChild:function(e,t){var n,i=this.items,r=i.indexOf(e),o=0,a=i.length;if(-1!==r)if(t)for(;o<a&&((n=i.getAt(r+o))&&!Ext.ComponentQuery.is(n,t));o++);else n=i.getAt(r+1);return n||null},onAdd:Ext.emptyFn,onBeforeAdd:function(e){var t=e.ownerCt;t&&t!==this&&t.remove(e,!1)},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},prevChild:function(e,t){var n,i=this.items,r=i.indexOf(e),o=0,a=i.length;if(-1!==r)if(t)for(;o<a&&((n=i.getAt(r-o))&&!Ext.ComponentQuery.is(n,t));o++);else n=i.getAt(r-1);return n||null},remove:function(e,t){var n,i=this;if(!i.destroyed&&!i.destroying)return n=i.getComponent(e),arguments.length||Ext.log.warn("Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage."),!n||i.hasListeners.beforeremove&&!1===i.fireEvent("beforeremove",i,n)||(i.doRemove(n,t),i.hasListeners.remove&&i.fireEvent("remove",i,n),i.destroying||i.destroyAfterRemoving||n.floating||i.updateLayout(),i.destroyAfterRemoving&&i.destroy()),n},removeAll:function(e){var t,n,i,r=this,o=r.floatingItems,a=[],s=0;for(n=(t=o?r.items.items.concat(o.items):r.items.items.slice()).length,Ext.suspendLayouts(),r.removingAll=!0;s<n;s++)i=t[s],r.remove(i,e),i.ownerCt!==r&&a.push(i);return r.removingAll=!1,Ext.resumeLayouts(!!n),a},setLayout:function(e){var t,n,i=this.layout,r=i&&i.isLayout;"string"==typeof e&&(e={type:e}),n=e.type,!r||n&&n!==i.type?(r&&i.setOwner(null),"string"==typeof(t=this.self.prototype.layout)?e.type=n||t:Ext.merge(Ext.merge({},t),e),(e=this.layout=Ext.Factory.layout(e)).setOwner(this)):(delete e.type,i.setConfig(e)),this.rendered&&this.updateLayout()},setActiveItem:function(e){return this.getLayout().setActiveItem(e)},updateActions:function(e){var t;for(t in e)e[t].isAction||(e[t]=new Ext.Action(e[t]))},getAction:function(e){var t=this;for(t=this;t;t=t.getRefOwner())if(t.actions&&t.actions[e])return t.actions[e]},privates:{applyDefaults:function(e){var t=this,n=t.defaults;return n&&(Ext.isFunction(n)&&(n=n.call(t,e)),Ext.isString(e)&&(e=Ext.ComponentManager.get(e)),e.isComponent?e.setConfig(n,null,t._applyDefaultsOptions):e=t.self.getConfigurator().merge(t,Ext.Object.fork(n),e)),e},applyReference:function(e){return this.setupReference(e)},applyTargetCls:function(e){this.layoutTargetCls=e},detachComponent:function(e){Ext.getDetachedBody().appendChild(e.getEl())},doRemove:function(e,t){var n,i,r=this,o=r.detachOnRemove,a=r.layout,s=a&&r.rendered,l=e.floating;void 0===t?n=r.autoDestroy:"boolean"==typeof t?n=t:(n="destroy"in t&&t.destroy,o="detach"in t&&t.detach),i=e.destroying||n,l?r.floatingItems.remove(e):r.items.remove(e),s&&!l&&(a.running&&Ext.Component.cancelLayout(e,i),a.onRemove(e,i)),e.destroyed||e.onRemoved(i),r.onRemove(e,i),n?e.destroy():r.destroyed||(s&&!l&&a.afterRemove(e),o&&e.rendered&&r.detachComponent(e))},finishRenderChildren:function(){this.callParent();var e=this.getLayout();e&&e.finishRender()},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},prepareItems:function(e,t){for(var n,i=0,r=(e=Ext.isArray(e)?e.slice():[e]).length;i<r;i++)null==(n=e[i])?(Ext.Array.erase(e,i,1),--i,--r):(t&&(n=this.applyDefaults(n)),n.$initParent=this,n.isComponent&&(n.instancedCmp=!0),e[i]=this.lookupComponent(n),delete n.$initParent);return e},repositionFloatingItems:function(){var e,t,n,i=this.floatingItems;if(i)for(e=(i=i.items).length,t=0;t<e;t++)(n=i[t]).el&&!n.hidden&&n.setPosition(n.x,n.y)},initTabGuards:function(e){var t,n,i,r=this,o=r.tabGuardBeforeEl,a=r.tabGuardAfterEl,s=r.tabGuardBeforeIndex||0,l=r.tabGuardAfterIndex||0;if(r.rendered&&r.tabGuard){if((i=r.el.findTabbableElements({skipSelf:!0}))[0]===o.dom&&i.shift(),i[i.length-1]===a.dom&&i.pop(),i&&i.length){if(null==s||null==l)for(t=0;t<i.length;t++)(n=+i[t].getAttribute("tabIndex"))>0&&(s=Math.min(s,n),l=Math.max(l,n));o.dom.setAttribute("tabIndex",s),a.dom.setAttribute("tabIndex",l)}else o.dom.removeAttribute("tabIndex"),a.dom.removeAttribute("tabIndex");r.onTabGuardFocusEnter&&(o.hasListeners.focusenter||o.on("focusenter",r.onTabGuardFocusEnter,r),a.hasListeners.focusenter||a.on("focusenter",r.onTabGuardFocusEnter,r))}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){for(var e,t=this.items.items,n=t.length,i=this._noMargin;n--;)(e=t[n]).margin$=null,e.el.setStyle(i)},setupRenderTpl:function(e){this.callParent(arguments),this.getLayout().setupRenderTpl(e)}}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:"Ext.layout.container.Container",autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t=this.owner.autoSize,n=t&&t.width,i=this.sizePolicies;return i=(i=i[n]||i.$)[n=t&&t.height]||i.$},calculate:function(e){var t,n,i=this.owner,r=i.autoSize;!0===r&&(r=this.autoSizeDefault),r&&(t=this.getDimension(i,r.width,"getWidth",i.width),n=this.getDimension(i,r.height,"getHeight",i.height)),e.childItems[0].setSize(t,n),e.setWidth(t),e.setHeight(n),e.setContentSize(t||i.field.getWidth(),n||i.field.getHeight())},getDimension:function(e,t,n,i){switch(t){case"boundEl":return e.boundEl[n]();case"field":return;default:return i}}}),Ext.define("Ext.Editor",{extend:"Ext.container.Container",xtype:"editor",requires:["Ext.layout.container.Editor"],layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,baseCls:Ext.baseCSSPrefix+"editor",editing:!1,preventDefaultAlign:!0,useBoundValue:!0,specialKeyDelay:1,initComponent:function(){var e=this,t=e.field=Ext.ComponentManager.create(e.field||{},"textfield");t.msgTarget=t.msgTarget||"qtip",e.mon(t,{scope:e,specialkey:e.onSpecialKey}),t.grow&&e.mon(t,"autosize",e.onFieldAutosize,e,{delay:1}),e.floating={constrain:e.constrain},e.items=t,e.callParent()},onAdded:function(e){this.ownerCmp=e},onFieldAutosize:function(){this.updateLayout()},afterRender:function(e,t){var n=this.field.inputEl;this.callParent(arguments),n&&(n.dom.name="",this.swallowKeys&&n.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(e,t){var n=this,i=t.getKey(),r=n.completeOnEnter&&i===t.ENTER,o=n.cancelOnEsc&&i===t.ESC,a=n.specialKeyTask;(r||o)&&(t.stopEvent(),a||(n.specialKeyTask=a=new Ext.util.DelayedTask),a.delay(n.specialKeyDelay,r?n.completeEdit:n.cancelEdit,n),0===n.specialKeyDelay&&(a.cancel(),r?n.completeEdit():n.cancelEdit())),n.fireEvent("specialkey",n,e,t)},startEdit:function(e,t,n){var i,r,o,a=this,s=a.field;a.completeEdit(!0),a.boundEl=Ext.get(e),i=a.boundEl.dom,a.useBoundValue&&!Ext.isDefined(t)&&(t=Ext.String.trim(i.textContent||i.innerText||i.innerHTML)),!1!==a.fireEvent("beforestartedit",a,a.boundEl,t)&&(a.context&&(t=a.context.value),Ext.suspendLayouts(),a.rendered||(r=a.ownerCt,o=a.renderTo||r&&r.getEl()||Ext.getBody(),Ext.fly(o).position(),a.renderTo=o),a.startValue=t,a.show(),a.realign(!0),s.suspendEvents(),s.setValue(t),s.resetOriginalValue(),s.resumeEvents(),!1!==n&&s.focus(!!s.selectOnFocus||[Number.MAX_VALUE]),s.autoSize&&s.autoSize(),Ext.resumeLayouts(!0),a.toggleBoundEl(!1),a.editing=!0)},realign:function(e){var t=this;!0===e&&t.updateLayout(),t.alignTo(t.boundEl,t.alignment,t.offsets)},completeEdit:function(e){var t,n=this,i=n.field,r=n.startValue,o=n.context&&n.context.cancel;n.editing&&(i.assertValue&&i.assertValue(),t=n.getValue(),i.isValid()?!n.ignoreNoChange||i.didValueChange(t,r)?!1!==n.fireEvent("beforecomplete",n,t,r)&&(t=n.getValue(),n.updateEl&&n.boundEl&&n.boundEl.setHtml(t),n.onEditComplete(e,o),n.fireEvent("complete",n,t,r)):n.onEditComplete(e):!1!==n.revertInvalid&&n.cancelEdit(e))},onShow:function(){var e=this;e.callParent(arguments),e.fireEvent("startedit",e,e.boundEl,e.startValue)},cancelEdit:function(e){var t,n=this,i=n.startValue,r=n.field;n.editing&&(r&&(t=n.editedValue=n.getValue(),r.suspendEvents(),n.setValue(i),r.resumeEvents()),n.onEditComplete(e,!0),n.fireEvent("canceledit",n,t,i),delete n.editedValue)},onEditComplete:function(e,t){this.editing=!1,!0!==e&&(this.hide(),this.toggleBoundEl(!0))},onFocusLeave:function(e){!0===this.allowBlur&&this.editing&&this.completeEdit(),this.callParent([e])},onHide:function(){var e=this.field;this.editing?this.completeEdit():e.collapse&&e.collapse(),this.callParent(arguments)},getValue:function(){return this.field.getValue()},setValue:function(e){this.field.setValue(e)},toggleBoundEl:function(e){!1!==this.hideEl&&this.boundEl.setVisible(e)},doDestroy:function(){var e=this.specialKeyTask;e&&e.cancel(),Ext.destroy(this.field),this.callParent()}}),Ext.define("Ext.EventManager",{singleton:!0,mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,addListener:function(e,t,n,i,r){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.dom.Element#addListener to attach an event listener."),Ext.get(e).addListener(t,n,i,r)},onWindowResize:function(e,t,n){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.on('resize', fn) to attach a window resize listener."),Ext.GlobalEvents.on("resize",e,t,n)},onWindowUnload:function(e,t,n){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.getWin().on('unload', fn) to attach a window unload listener."),Ext.getWin().on("unload",e,t,n)},purgeElement:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Call clearListeners() on a Ext.dom.Element to remove all listeners."),Ext.get(e).clearListeners()},removeAll:function(e){Ext.log.warn("Ext.EventManager is deprecated. Call clearListeners() on a Ext.dom.Element to remove all listeners."),Ext.get(e).clearListeners()},removeListener:function(e,t,n,i,r){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.dom.Element#removeListener to remove an event listener."),Ext.get(e).removeListener(t,n,i,r)},removeResizeListener:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.on('resize', fn) to detach a window resize listener."),Ext.GlobalEvents.un("resize",e,t)},removeUnloadListener:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.getWin().un('unload', fn) to detach a window unload listener."),Ext.getWin().un("unload",e,t)},stopEvent:function(e){Ext.log.warn("Ext.EventManager.stopEvent() is deprecated. Call stopEvent() directly on the Ext.event.Event instance instead."),this.stopPropagation(e),this.preventDefault(e)},stopPropagation:function(e){Ext.log.warn("Ext.EventManager.stopPropagation() is deprecated. Call stopPropagation() directly on the Ext.event.Event instance instead."),(e=e.browserEvent||e).stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){if(Ext.log.warn("Ext.EventManager.preventDefault() is deprecated. Call preventDefault() directly on the Ext.event.Event instance instead."),(e=e.browserEvent||e).preventDefault)e.preventDefault();else{e.returnValue=!1;try{(e.ctrlKey||e.keyCode>111&&e.keyCode<124)&&(e.keyCode=-1)}catch(e){}}},getId:function(e){return Ext.log.warn("Ext.EventManager.getId() is deprecated. Call Ext.get() to assign ids to elements."),(e=Ext.get(e)).id},getRelatedTarget:function(e){Ext.log.warn("Ext.EventManager.getRelatedTarget() is deprecated. Call getRelatedTarget() directly on the Ext.event.Event instance instead.");var t=(e=e.browserEvent||e).relatedTarget;return t||(this.mouseLeaveRe.test(e.type)?t=e.toElement:this.mouseEnterRe.test(e.type)&&(t=e.fromElement)),this.resolveTextNode(t)},getPageX:function(e){return Ext.log.warn("Ext.EventManager.getPageX() is deprecated. Call getX() directly on the Ext.event.Event instance instead."),this.getPageXY(e)[0]},getPageXY:function(e){Ext.log.warn("Ext.EventManager.getPageXY() is deprecated. Call getXY() directly on the Ext.event.Event instance instead.");var t=(e=e.browserEvent||e).pageX,n=e.pageY,i=document.documentElement,r=document.body;return t||0===t||(t=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),[t,n]},getPageY:function(e){return Ext.log.warn("Ext.EventManager.getPageY() is deprecated. Call getY() directly on the Ext.event.Event instance instead."),this.getPageXY(e)[1]},getTarget:function(e){return Ext.log.warn("Ext.EventManager.getTarget() is deprecated. Call getTarget() directly on the Ext.event.Event instance instead."),e=e.browserEvent||e,Ext.EventManager.resolveTextNode(e.target||e.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(e){var t=HTMLElement.prototype.toString.call(e);if("[xpconnect wrapped native prototype]"!==t&&"[object XULElement]"!==t)return 3===e.nodeType?e.parentNode:e}}:function(e){return e&&3===e.nodeType?e.parentNode:e}},function(e){e.on=e.addListener,e.un=e.removeListener}),Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],requires:["Ext.Glyph"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",config:{src:null,glyph:null},alt:"",title:"",imgCls:"",maskOnDisable:!1,applySrc:function(e){return e&&Ext.resolveResource(e)},getElConfig:function(){var e,t=this,n=t.autoEl,i=t.callParent(),r=t.glyph;return r?(i.tag="div",i.html=r.character,i.style=i.style||{},i.style.fontFamily=r.fontFamily,i.role="img"):"img"===n||Ext.isObject(n)&&"img"===n.tag?e=i:i.cn=[e={tag:"img",id:t.id+"-img"}],e&&(t.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+t.imgCls),e.src=t.src||Ext.BLANK_IMAGE_URL),t.alt?(e||i).alt=t.alt:((e||i).alt="",Ext.log.warn("For WAI-ARIA compliance, IMG elements SHOULD have an alt attribute.")),t.title&&((e||i).title=t.title),i},onRender:function(){var e,t=this,n=t.autoEl;t.callParent(arguments),e=t.el,"img"===n||Ext.isObject(n)&&"img"===n.tag?t.imgEl=e:t.imgEl=e.getById(t.id+"-img")},doDestroy:function(){var e=this.imgEl;e&&this.el!==e&&e.destroy(),this.imgEl=null,this.callParent()},getTitle:function(){return this.title},setTitle:function(e){var t=this.imgEl;this.title=e||"",t&&(t.dom.title=e||"")},afterComponentLayout:function(e,t,n,i){var r,o=this.getSizeModel().height;(o.calculated||o.configured)&&t&&this.glyph&&(r=t+"px",this.setStyle({"line-height":r,"font-size":r})),this.callParent([e,t,n,i])},getAlt:function(){return this.alt},setAlt:function(e){var t=this.imgEl;this.alt=e||"",t&&(t.dom.alt=e||"")},_naturalSize:null,getNaturalSize:function(){var e,t,n,i=this.imgEl,r=this._naturalSize;return i&&!r&&(i=i.dom,this._naturalSize=r={width:t=i.naturalWidth,height:i.naturalHeight},t||(t=(e=i.style).width,n=e.height,e.width=e.height="auto",r.width=i.width,r.height=i.height,e.width=t,e.height=n),r.aspect=r.width/r.height),r},updateSrc:function(e){var t=this.imgEl;t&&(t.dom.src=e||Ext.BLANK_IMAGE_URL)},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var n=this.el;n&&(n.dom.innerHTML=e.character,n.setStyle(e.getStyle()))}}),Ext.define("Ext.util.StoreHolder",{requires:["Ext.data.StoreManager"],mixinId:"storeholder",autoDestroyBoundStore:!1,bindStore:function(e,t,n){n=n||"store";var i=this,r=t?null:i[n];return e!==r&&(r&&(i.onUnbindStore.$emptyFn||i.onUnbindStore(r,t,n),r.destroyed||(i.autoDestroyBoundStore&&"store"===n&&r.autoDestroy?r.destroy():i.unbindStoreListeners(r))),e?(i[n]=e=Ext.data.StoreManager.lookup(e),i.bindStoreListeners(e),i.onBindStore.$emptyFn||i.onBindStore(e,r,t)):i[n]=null,i.fireEvent&&i.fireEvent("storechange",i,e,r)),i},getStore:function(){return this.store},setStore:function(e){this.bindStore(e)},unbindStoreListeners:function(e){var t=this.storeListeners;t&&e.un(t)},bindStoreListeners:function(e){var t=this.getStoreListeners(e);t&&((t=Ext.apply({},t)).scope||(t.scope=this),this.storeListeners=t,e.on(t))},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:["Ext.util.StoreHolder"],uses:["Ext.data.StoreManager"],isLoadMask:!0,msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",msgWrapCls:Ext.baseCSSPrefix+"mask-msg",useMsg:!0,useTargetEl:!1,cls:Ext.baseCSSPrefix+"mask",componentCls:Ext.baseCSSPrefix+"border-box",ariaRole:"progressbar",focusable:!0,tabIndex:0,childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}" role="presentation">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner {childElCls}" role="presentation">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}" role="presentation">{msg}</div>',"</div>","</div>"],maskOnDisable:!1,skipLayout:!0,constructor:function(e){var t,n=this;2===arguments.length?(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask now uses a standard 1 arg constructor: use the target config"),t=n.target=e,e=arguments[1]):t=e.target,e.maskCls&&(Ext.log.warn("Ext.LoadMask property maskCls is deprecated, use msgWrapCls instead"),e.msgWrapCls=e.msgWrapCls||e.maskCls),n.callParent([e]),t.isComponent?(n.ownerCt=t,n.hidden=!0,n.renderTo=n.getMaskTarget(),n.external=n.renderTo===Ext.getBody(),n.bindComponent(t)):(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask"),t=Ext.get(t),n.isElement=!0,n.renderTo=n.target),n.render(n.renderTo),n.store&&n.bindStore(n.store,!0)},initRenderData:function(){var e=this.callParent(arguments);return e.msg=this.msg||"",e},onRender:function(){this.callParent(arguments),this.maskEl=this.el},bindComponent:function(e){var t=this,n={scope:this,resize:t.sizeMask};t.external&&(n.added=t.onComponentAdded,n.removed=t.onComponentRemoved,e.floating?(n.move=t.sizeMask,t.activeOwner=e):e.ownerCt&&t.onComponentAdded(e.ownerCt)),t.mon(e,n),t.external&&t.mon(Ext.GlobalEvents,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(e){var t=this;delete t.activeOwner,t.floatParent=e,e.floating||(e=e.up("[floating]")),e?(t.activeOwner=e,t.mon(e,"move",t.sizeMask,t),t.mon(e,"tofront",t.onOwnerToFront,t)):t.preventBringToFront=!0,e=t.floatParent.ownerCt,t.rendered&&t.isVisible()&&e&&(t.floatOwner=e,t.mon(e,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(e){var t=this,n=t.activeOwner,i=t.floatOwner;n&&(t.mun(n,"move",t.sizeMask,t),t.mun(n,"tofront",t.onOwnerToFront,t)),i&&t.mun(i,"afterlayout",t.sizeMask,t),delete t.activeOwner,delete t.floatOwner},afterRender:function(){this.callParent(arguments),Ext.isIE&&this.el.on("mousedown",this.onMouseDown,this),this.el.skipGarbageCollection=!0},onMouseDown:function(e){var t=this.el;e.within(t)&&(e.preventDefault(),t.focus())},onOwnerToFront:function(e,t){this.el.setStyle("zIndex",t+1)},onContainerShow:function(e){this.isHierarchicallyHidden()||this.onComponentShow()},onContainerHide:function(e){this.isHierarchicallyHidden()&&this.onComponentHide()},onContainerExpand:function(e){this.isHierarchicallyHidden()||this.onComponentShow()},onContainerCollapse:function(e){this.isHierarchicallyHidden()&&this.onComponentHide()},onComponentHide:function(){this.rendered&&this.isVisible()&&(this.hide(),this.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var e,t=this,n=t.activeOwner||t.target,i=t.external?t.getOwner().el:t.getMaskTarget();t.rendered&&t.isVisible()&&(t.external&&(!t.isElement&&n.floating&&(e=n.el.getZIndex(),isNaN(e)||t.onOwnerToFront(n,e)),t.el.setSize(i.getSize()).alignTo(i,"tl-tl")),t.msgWrapEl.center(t.el))},bindStore:function(e,t){var n=this;if(Ext.destroy(n.proxyListeners),n.mixins.storeholder.bindStore.apply(n,arguments),e=n.store){for(;e.getSource;)e=e.getSource();e.loadsSynchronously()||(n.proxyListeners=e.getProxy().on({exception:n.onLoad,scope:n,destroyable:!0})),e.isLoading()&&n.onBeforeLoad()}},getStoreListeners:function(e){var t=this.onLoad,n=this.onBeforeLoad,i={cachemiss:n,cachefilled:{fn:t,buffer:100}};return e.loadsSynchronously()||(i.beforeload=n,i.load=t),i},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var e=this.getOwner();return this.isElement?this.target:this.useTargetEl?e.getTargetEl():e.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var e,t=this,n=t.getOwner();t.disabled||(t.loading=!0,n.componentLayoutCounter?t.maybeShow():(e=n.afterComponentLayout,n.afterComponentLayout=function(){n.afterComponentLayout=e,e.apply(n,arguments),t.maybeShow()}))},maybeShow:function(){var e=this,t=e.getOwner();t.isVisible(!0)&&(!e.isComponent||t.el.isVisible(!0))?e.loading&&t.rendered&&e.show():e.showNext=!0},hide:function(){var e=this,t=e.ownerCt;return e.isElement?(t.unmask(),void e.fireEvent("hide",this)):(t&&t.updateMaskState(!1,e),delete e.showNext,e.callParent(arguments))},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):this.callParent(arguments)},afterShow:function(){var e=this,t=e.ownerCt;e.loading=!0,e.callParent(arguments),t.updateMaskState(!0,e),e.el.restoreTabbableState(),e.syncMaskState()},syncMaskState:function(){var e=this,t=e.ownerCt,n=e.el;e.isVisible()&&(e.hasOwnProperty("msgWrapCls")&&(n.dom.className=e.msgWrapCls),e.useMsg?(e.msgTextEl.setHtml(e.msg),e.ariaEl.dom.setAttribute("aria-valuetext",e.msg)):e.msgWrapEl.hide(),e.shim||Ext.useShims?n.enableShim(null,!0):n.disableShim(),t.el.contains(Ext.Element.getActiveElement())&&e.focus(),e.sizeMask())},onLoad:function(){this.loading=!1,this.hide()},doDestroy:function(){var e=this;e.ownerCt=null,e.bindStore(null),e.isElement&&e.ownerCt.unmask(),e.callParent()}}),Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(e,t){var n,i,r,o,a=this,s=a.owner,l=e.ownerCtContext,d=e.heightModel,c=e.widthModel,u=s.el.dom===document.body,h=s.lastBox||a.nullBox,f=s.el.lastBox||a.nullBox,g=!u,p=e.isTopLevel;a.callParent([e,t]),t&&(a.usesContentWidth&&++e.consumersContentWidth,a.usesContentHeight&&++e.consumersContentHeight,a.usesWidth&&++e.consumersWidth,a.usesHeight&&++e.consumersHeight,l&&!l.hasRawContent&&(n=s.ownerLayout)&&(n.usesWidth&&++e.consumersWidth,n.usesHeight&&++e.consumersHeight)),c.configured?(r=s[c.names.width],p&&c.calculatedFrom&&(r=h.width),u||(g=a.setWidthInDom||(t?r!==f.width:c.constrained)),e.setWidth(r,g)):p&&(c.calculated&&(i=h.width,e.setWidth(i,i!==f.width)),i=h.x,e.setProp("x",i,i!==f.x)),d.configured?(o=s[d.names.height],p&&d.calculatedFrom&&(o=h.height),u||(g=t?o!==f.height:d.constrained),e.setHeight(o,g)):p&&(d.calculated&&(i=h.height,e.setHeight(i,i!==f.height)),i=h.y,e.setProp("y",i,i!==f.y))},finishedLayout:function(e){var t,n,i,r,o,a=e.children,s=this.owner;if(a)for(t=a.length,n=0;n<t;n++)(i=a[n]).el.lastBox=i.props;e.previousSize=this.lastComponentSize,this.lastComponentSize=s.el.lastBox=o=e.props,(r=s.lastBox||(s.lastBox={})).x=o.x,r.y=o.y,r.width=o.width,r.height=o.height,r.invalid=!1,this.callParent([e])},notifyOwner:function(e){var t=this.lastComponentSize,n=e.previousSize;this.owner.afterComponentLayout(t.width,t.height,n?n.width:void 0,n?n.height:void 0)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t,n=this.targetInfo;return n||(t=e.getEl("getTarget",this),this.targetInfo=n={padding:t.getPaddingInfo(),border:t.getBorderInfo()}),n},measureAutoDimensions:function(e,t){var n,i,r,o,a,s,l,d=this,c=d.owner,u=c.layout,h=e.heightModel,f=e.widthModel,g=e.boxParent,p=e.isBoxParent,m=e.target,x=e.props,E={gotWidth:!1,gotHeight:!1,isContainer:n=!e.hasRawContent},v=t||3,y=0,b=0;return f.shrinkWrap&&e.consumersContentWidth?(++y,i=!(1&v),n?i?(E.contentWidth=0,E.gotWidth=!0,++b):void 0!==(E.contentWidth=e.getProp("contentWidth"))&&(E.gotWidth=!0,++b):"number"==typeof(o=x.contentWidth)?(E.contentWidth=o,E.gotWidth=!0,++b):(!!i||!!e.hasDomProp("containerChildrenSizeDone")&&(!(!p&&g&&!g.widthModel.shrinkWrap)||g.hasDomProp("width")))&&(i?a=0:u&&u.measureContentWidth?a=u.measureContentWidth(e):m.cacheWidth?(s=m.xtype+"-"+m.ui,a=(l=d.widthCache)[s]||(l[s]=d.measureContentWidth(e))):a=d.measureContentWidth(e),isNaN(E.contentWidth=a)||(e.setContentWidth(a,!0),E.gotWidth=!0,++b))):f.natural&&e.consumersWidth&&(++y,"number"==typeof(o=x.width)?(E.width=o,E.gotWidth=!0,++b):(!(!p&&g)||g.hasDomProp("width"))&&(isNaN(E.width=d.measureOwnerWidth(e))||(e.setWidth(E.width,!1),E.gotWidth=!0,++b))),h.shrinkWrap&&e.consumersContentHeight?(++y,r=!(2&v),n?r?(E.contentHeight=0,E.gotHeight=!0,++b):void 0!==(E.contentHeight=e.getProp("contentHeight"))&&(E.gotHeight=!0,++b):"number"==typeof(o=x.contentHeight)?(E.contentHeight=o,E.gotHeight=!0,++b):(!!r||!!e.hasDomProp("containerChildrenSizeDone")&&(!!c.noWrap||(f.shrinkWrap?!(!p&&g&&!g.widthModel.shrinkWrap)||g.hasDomProp("width"):(e.bodyContext||e).hasDomProp("width"))))&&(r?a=0:u&&u.measureContentHeight?a=u.measureContentHeight(e):m.cacheHeight?(s=m.xtype+"-"+m.ui,a=(l=d.heightCache)[s]||(l[s]=d.measureContentHeight(e))):a=d.measureContentHeight(e),isNaN(E.contentHeight=a)||(e.setContentHeight(a,!0),E.gotHeight=!0,++b))):h.natural&&e.consumersHeight&&(++y,"number"==typeof(o=x.height)?(E.height=o,E.gotHeight=!0,++b):(!(!p&&g)||g.hasDomProp("width"))&&(isNaN(E.height=d.measureOwnerHeight(e))||(e.setHeight(E.height,!1),E.gotHeight=!0,++b))),g&&e.onBoxMeasured(),E.gotAll=b===y,E},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(e,t){var n=this.lastWidthModel,i=this.lastHeightModel,r=this.owner.el;this.callParent(arguments),n&&n.fixed&&e.widthModel.shrinkWrap&&r.setWidth(null),i&&i.fixed&&e.heightModel.shrinkWrap&&r.setHeight(null)},calculate:function(e){var t,n,i=this,r=i.measureAutoDimensions(e),o=e.heightModel,a=e.widthModel;r.gotWidth?a.shrinkWrap?i.publishOwnerWidth(e,r.contentWidth):i.publishInnerWidth&&i.publishInnerWidth(e,r.width):!a.auto&&i.publishInnerWidth&&(void 0===(t=i.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width"))?i.done=!1:i.publishInnerWidth(e,t)),r.gotHeight?o.shrinkWrap?i.publishOwnerHeight(e,r.contentHeight):i.publishInnerHeight&&i.publishInnerHeight(e,r.height):!o.auto&&i.publishInnerHeight&&(void 0===(n=i.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height"))?i.done=!1:i.publishInnerHeight(e,n)),r.gotAll||(i.done=!1)},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var n,i,r,o=this,a=o.owner,s=o.calculateOwnerHeightFromContentHeight(e,t);isNaN(s)?o.done=!1:((n=Ext.Number.constrain(s,a.minHeight,a.maxHeight))===s?i=o.setHeightInDom:(r=o.sizeModels[n<s?"constrainedMax":"constrainedMin"],s=n,e.heightModel.calculatedFromShrinkWrap?e.heightModel=r:e.invalidate({heightModel:r})),e.setHeight(s,i))},publishOwnerWidth:function(e,t){var n,i,r,o=this,a=o.owner,s=o.calculateOwnerWidthFromContentWidth(e,t);isNaN(s)?o.done=!1:((n=Ext.Number.constrain(s,a.minWidth,a.maxWidth))===s?i=o.setWidthInDom:(r=o.sizeModels[n<s?"constrainedMax":"constrainedMin"],s=n,e.widthModel.calculatedFromShrinkWrap?e.widthModel=r:e.invalidate({widthModel:r})),e.setWidth(s,i))}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(e){var t,n;if(this.callParent(arguments),!e.textEls)if((n=this.owner.textEl).isComposite)for(e.textEls=[],t=(n=n.elements).length;t--;)e.textEls[t]=e.getEl(Ext.get(n[t]));else e.textEls=[e.getEl("textEl")]},calculate:function(e){var t,n,i;if(this.callParent(arguments),Ext.isNumber(i=e.getProp("width")))for(i-=e.getBorderInfo().width,t=(n=e.textEls).length;t--;)n[t].setWidth(i);else this.done=!1}}),Ext.define("Ext.ProgressBar",{extend:"Ext.Component",xtype:"progressbar",mixins:["Ext.ProgressBase"],requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back" role="presentation">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text" role="presentation">','<div role="presentation">{text}</div>',"</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",focusable:!0,tabIndex:0,autoEl:{"aria-valuemin":"0","aria-valuenow":"0","aria-valuemax":"100"},initRenderData:function(){var e,t=this.value||0;return e=this.callParent(),Ext.apply(e,{internalText:!this.hasOwnProperty("textEl"),text:this.text||Math.round(100*t)+"%",percentage:100*t})},onRender:function(){var e=this;e.callParent(arguments),e.textEl?(e.textEl=Ext.get(e.textEl),e.updateText(e.text)):e.textEl=e.el.select("."+e.baseCls+"-text")},afterRender:function(){this.callParent(arguments),this.text&&this.ariaEl.dom.setAttribute("aria-valuetext",this.text)},updateValue:function(e){this.updateProgress(e)},updateProgress:function(e,t,n){e=e||0;var i=this,r=i.value,o=i.getTextTpl();return i.value=e||(e=0),null!=t?(i.autoText=!1,i.updateText(t)):o?(i.autoText=!1,i.updateText(o.apply({value:e,percent:100*e}))):i.text||!1===i.autoText?i.text&&i.ariaEl.dom&&i.ariaEl.dom.removeAttribute("aria-valuetext"):(i.autoText=!0,i.updateText(Math.round(100*e)+"%")),i.rendered&&!i.destroyed&&(!0===n||!1!==n&&i.animate?(i.bar.stopAnimation(),i.bar.animate(Ext.apply({from:{width:100*r+"%"},to:{width:100*e+"%"}},i.animate))):i.bar.setStyle("width",100*e+"%"),i.ariaEl.dom.setAttribute("aria-valuenow",Math.round(100*e))),i.fireEvent("update",i,e,t),i},updateText:function(e){var t=this;return t.autoText||(t.text=e),t.rendered&&(t.textEl.setHtml(e),t.autoText?t.ariaEl.dom.removeAttribute("aria-valuetext"):t.ariaEl.dom.setAttribute("aria-valuetext",e)),t},applyText:function(e){this.updateText(e)},getText:function(){return this.text},wait:function(e){var t,n=this;return n.waitTimer||(t=n,null!=(e=e||{}).text&&(n.autoText=!1),n.updateText(e.text),n.waitTimer=Ext.TaskManager.start({run:function(t){var i=e.increment||10;t-=1,n.updateProgress(100/i*((t+i)%i+1)*.01,null,e.animate)},interval:e.interval||1e3,duration:e.duration,onStop:function(){e.fn&&e.fn.apply(e.scope||n),n.reset()},scope:t})),n},isWaiting:function(){return null!==this.waitTimer},reset:function(e){var t=this;return t.updateProgress(0),t.clearTimer(),!0===e&&t.hide(),t.rendered&&t.ariaEl.dom.removeAttribute("aria-valuetext"),t},clearTimer:function(){this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskManager.stop(this.waitTimer),this.waitTimer=null)},doDestroy:function(){var e=this,t=e.bar;e.clearTimer(),e.rendered&&(e.textEl.isComposite&&e.textEl.clear(),Ext.destroyMembers(e,"textEl","progressBar"),t&&e.animate&&t.stopAnimation()),e.callParent()}}),Ext.define("Ext.dom.ButtonElement",{extend:"Ext.dom.Element",setSize:function(e,t,n){var i=this.component;return this.callParent([e,t,n]),i.btnWrap.setStyle("table-layout",e&&"auto"!==e?"fixed":""),i.btnEl.setStyle("height",t&&"auto"!==t?"auto":""),this},setStyle:function(e,t){var n,i,r=this.component;return this.callParent([e,t]),e&&(("width"===e||"string"!=typeof e&&"width"in e)&&(n=t||e.width,r.btnWrap.setStyle("table-layout",n&&"auto"!==n?"fixed":"")),("height"===e||"string"!=typeof e&&"height"in e)&&(i=t||e.height,r.btnEl.setStyle("height",i&&"auto"!==i?"auto":""))),this},setHeight:function(e,t){return this.callParent([e,t]),this.component.btnEl.setStyle("height",e&&"auto"!==e?"auto":""),this},setWidth:function(e,t){return this.callParent([e,t]),this.component.btnWrap.setStyle("table-layout",e&&"auto"!==e?"fixed":""),this}}),Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,init:function(){this.initialized||(Ext.getDoc().on({mouseup:this.onDocumentMouseUp,scope:this}),this.initialized=!0)},onButtonMousedown:function(e,t){var n=this.pressedButton;!n||n.destroying||n.destroyed||n.onMouseUp(t),this.pressedButton=e},onDocumentMouseUp:function(e){var t=this.pressedButton;!t||t.destroying||t.destroyed||(t.onMouseUp(e),this.pressedButton=null)},toggleGroup:function(e,t){if(t){var n,i=this.groups[e.toggleGroup],r=i.length;for(n=0;n<r;n++)i[n]!==e&&i[n].toggle(!1)}},register:function(e){var t=this.groups,n=t[e.toggleGroup];this.init(),e.toggleGroup&&(n||(n=t[e.toggleGroup]=[]),n.push(e),e.on("toggle",this.toggleGroup,this))},unregister:function(e){if(e.toggleGroup){var t=this.groups[e.toggleGroup];t&&(Ext.Array.remove(t,e),e.un("toggle",this.toggleGroup,this))}},getPressed:function(e){var t,n=this.groups[e],i=0;if(n)for(t=n.length;i<t;i++)if(!0===n[i].pressed)return n[i];return null}}),Ext.define("Ext.menu.Manager",{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],groups:{},visible:[],constructor:function(){var e=this;e.onShow=function(){return e.registerGlobalListeners(),e.onShow.apply(e,arguments)}},onGlobalScroll:function(e){var t,n,i=this.visible,r=i.length,o=e.getElement();if(r&&e!==Ext.scroll.Scroller.viewport)for(i=i.slice(),t=0;t<r;++t)(n=i[t]).alignOnScroll||!1===n.hideOnScroll||n.owns(o)||n.hide()},checkActiveMenus:function(e){var t,n,i=this.visible,r=i.length,o=Ext.Component.fromElement(e.target);if(r)for(i=i.slice(),t=0;t<r;++t)(n=i[t]).owns(e)||o&&o.isMenuItem&&o.menu===n||n.hide()},onShow:function(e){e.floating&&Ext.Array.include(this.visible,e)},onHide:function(e){e.floating&&Ext.Array.remove(this.visible,e)},hideAll:function(){var e,t=this.visible,n=t.length,i=!1;if(n)for(t=t.slice(),e=0;e<n;e++)t[e].hide(),i=!0;return i},get:function(e,t){var n;return"string"==typeof e?(n=Ext.getCmp(e))instanceof Ext.menu.Menu&&(e=n):Ext.isArray(e)?(t=Ext.apply({items:e},t),e=new Ext.menu.Menu(t)):e.isComponent||(t=Ext.apply({},e,t),e=Ext.ComponentManager.create(t,"menu")),e},registerCheckable:function(e){var t=this.groups,n=e.group;n&&(t[n]||(t[n]=[]),t[n].push(e))},unregisterCheckable:function(e){var t=this.groups,n=e.group;n&&Ext.Array.remove(t[n],e)},onCheckChange:function(e,t){var n,i,r,o=this.groups,a=e.group,s=0;if(a&&t)for(i=(n=o[a]).length;s<i;s++)(r=n[s])!==e&&r.setChecked(!1)},registerGlobalListeners:function(){delete this.onShow,Ext.on({mousedown:this.checkActiveMenus,scroll:this.onGlobalScroll,scope:this})}}),Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(e,t){var n=this;n.el=Ext.get(e),n.el.unselectable(),Ext.apply(n,t),n.callParent(),n.disabled||(n.disabled=!0,n.enable()),n.handler&&n.on("click",n.handler,n.scope||n)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE8&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(e){!e&&this.disabled||(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.clearListeners()),this.disabled=!0},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},destroy:function(){this.disable(!0),this.callParent()},handleDblClick:function(e){clearTimeout(this.timer),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e),this.accelerate&&(this.delay=400),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e]),this.mousedownPreventDefault&&e.preventDefault(),this.mousedownStopEvent&&e.stopEvent()},click:function(e){this.fireEvent("click",this,e),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,n,i){return e===i?t+n:n*(1-Math.pow(2,-10*e/i))+t},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(e){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click(e)},handleMouseUp:function(e){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,e)}}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.dom.ButtonElement","Ext.button.Manager","Ext.menu.Manager","Ext.util.ClickRepeater","Ext.util.TextMetrics","Ext.Glyph"],mixins:["Ext.mixin.Queryable"],alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:!0,glyph:null},isButton:!0,_syncFrameHeight:!0,liquidLayout:!0,hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",hrefTarget:"_blank",destroyMenu:!0,focusable:!0,ariaRole:"button",keyMap:{scope:"this",SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey"},defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","arrowEl"],publishes:{pressed:1},_btnWrapCls:Ext.baseCSSPrefix+"btn-wrap",_btnCls:Ext.baseCSSPrefix+"btn-button",_baseIconCls:Ext.baseCSSPrefix+"btn-icon-el",_glyphCls:Ext.baseCSSPrefix+"btn-glyph",_innerCls:Ext.baseCSSPrefix+"btn-inner",_textCls:Ext.baseCSSPrefix+"btn-text",_noTextCls:Ext.baseCSSPrefix+"btn-no-text",_hasIconCls:Ext.baseCSSPrefix+"btn-icon",_pressedCls:Ext.baseCSSPrefix+"btn-pressed",overCls:Ext.baseCSSPrefix+"btn-over",_disabledCls:Ext.baseCSSPrefix+"btn-disabled",_menuActiveCls:Ext.baseCSSPrefix+"btn-menu-active",_arrowElCls:Ext.baseCSSPrefix+"btn-arrow-el",_focusCls:Ext.baseCSSPrefix+"btn-focus",_arrowFocusCls:Ext.baseCSSPrefix+"arrow-focus",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl><tpl if="split"><span id="{id}-arrowEl" class="{arrowElCls}" data-ref="arrowEl" role="button" hidefocus="on" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="arrowElAttributes"> {$}="{.}"</tpl> style="{arrowElStyle}">{arrowElText}</span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){"_blank"===this.hrefTarget?window.open(this.getHref(),this.hrefTarget):location.href=this.getHref()},_triggerRegion:{},initComponent:function(){var e=this;!e.isSplitButton&&e.menu&&((e.enableToggle||e.toggleGroup)&&Ext.ariaWarn(e,"According to WAI-ARIA 1.0 Authoring guide (http://www.w3.org/TR/wai-aria-practices/#menubutton), menu button '"+e.id+"' behavior will conflict with toggling."),e.href&&Ext.ariaWarn(e,"According to WAI-ARIA 1.0 Authoring guide (http://www.w3.org/TR/wai-aria-practices/#menubutton), menu button '"+e.id+"' cannot behave as a link."),(e.handler||e.hasListeners.hasOwnProperty("click"))&&Ext.ariaWarn(e,"According to WAI-ARIA 1.0 Authoring guide (http://www.w3.org/TR/wai-aria-practices/#menubutton), menu button '"+e.id+"' should display the menu on SPACE and ENTER keys, which will conflict with the button handler.")),e.addCls(Ext.baseCSSPrefix+"unselectable"),e.callParent(),e.menu&&(e.split=!0,e.setMenu(e.menu,!1,!0)),e.url&&(e.href=e.url),e.configuredWithPreventDefault=e.hasOwnProperty("preventDefault"),e.href&&!e.configuredWithPreventDefault&&(e.preventDefault=!1),Ext.isString(e.toggleGroup)&&""!==e.toggleGroup&&(e.enableToggle=!0),e.html&&!e.text&&(e.text=e.html,delete e.html)},getElConfig:function(){var e=this,t=e.callParent(),n=e.getHref(),i=e.hrefTarget;return"a"===t.tag&&(e.disabled||(t.tabIndex=e.tabIndex),n&&(e.disabled||(t.href=n,i&&(t.target=i)))),e.ariaStaticRoles[e.ariaRole]||(e.menu&&!e.isSplitButton&&(t["aria-haspopup"]=!0),e.enableToggle&&(t["aria-pressed"]=!!e.pressed)),t},beforeRender:function(){this.callParent(),this.pressed&&this.addCls(this._pressedCls)},initRenderData:function(){return Ext.apply(this.callParent(),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(e,t,n){var i,r,o=this,a=o.menu,s=o.isSplitButton?o.arrowEl&&o.arrowEl.dom:o.ariaEl.dom;a&&!n&&(!1!==t&&o.destroyMenu&&a.destroy(),a.ownerCmp=null),e?(i=e.isMenu,(e=Ext.menu.Manager.get(e,{ownerCmp:o})).setOwnerCmp(o,i),e.menuClickBuffer=250,o.mon(e,{scope:o,show:o.onMenuShow,hide:o.onMenuHide}),!a&&o.getArrowVisible()&&(o.split=!0,o.rendered&&(o._addSplitCls(),o.updateLayout())),o.menu=e,s?(s.setAttribute("aria-haspopup",!0),s.setAttribute("aria-owns",e.id)):((r=o.isSplitButton?o.ariaArrowElAttributes||(o.ariaArrowElAttributes={}):o.ariaRenderAttributes||(o.ariaRenderAttributes={}))["aria-haspopup"]=!0,r["aria-owns"]=e.id)):(o.rendered?(s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-owns"),o._removeSplitCls(),o.updateLayout()):(r=o.isSplitButton?o.ariaArrowElAttributes:o.ariaRenderAttributes)&&(delete r["aria-haspopup"],delete r["aria-owns"]),o.split=!1,o.menu=null)},onRender:function(){var e,t,n,i=this;i.callParent(arguments),t=i.el,i.tooltip&&i.setTooltip(i.tooltip,!0),i.handleMouseEvents?(n={scope:i,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousedown:i.onMouseDown},i.split&&(n.mousemove=i.onMouseMove)):n={scope:i},Ext.supports.Touch&&(n.touchstart=i.onTouchStart),i.repeat?i.mon(new Ext.util.ClickRepeater(t,Ext.isObject(i.repeat)?i.repeat:{}),"click",i.onRepeatClick,i):n[i.clickEvent]?e=!0:n[i.clickEvent]=i.onClick,i.mon(t,n),i.hasFrameTable()&&i.mon(i.frameTable,"click",i.frameTableListener,i),e&&i.mon(t,i.clickEvent,i.onClick,i),Ext.button.Manager.register(i)},onFocusLeave:function(e){this.callParent([e]),this.menu&&this.menu.hide()},getTemplateArgs:function(){var e,t=this,n=t._btnCls,i=t._baseIconCls,r=t.getIconAlign(),o=t.glyph,a=t.text,s=t._hasIcon(),l=t._hasIconCls;return o&&(e=o.fontFamily,o=o.character),{split:t.isSplitButton,innerCls:t._innerCls,splitCls:t.getArrowVisible()?t.getSplitCls():"",iconUrl:t.icon,iconCls:t.iconCls,glyph:o,glyphCls:o?t._glyphCls:"",glyphFontFamily:e,text:a||"&#160;",closeText:t.closeText,textCls:a?t._textCls:"",noTextCls:a?"":t._noTextCls,hasIconCls:s?l:"",btnWrapCls:t._btnWrapCls,btnWrapStyle:t.width?"table-layout:fixed;":"",btnElStyle:t.height?"height:auto;":"",btnCls:n,baseIconCls:i,iconBeforeText:"left"===r||"top"===r,iconAlignCls:s?l+"-"+r:"",textAlignCls:n+"-"+t.getTextAlign(),arrowElCls:t._arrowElCls,arrowElStyle:t.arrowVisible?"":"display:none",tabIndex:t.tabIndex}},renderIcon:function(e){return this.lookupTpl("iconTpl").apply(e)},setHref:function(e){var t,n=this,i=n.hrefTarget;n.href=e,n.configuredWithPreventDefault||(n.preventDefault=!e),n.rendered&&(t=n.el.dom,!e||n.disabled?(t.removeAttribute("href"),t.removeAttribute("hrefTarget")):(t.href=n.getHref(),i&&(t.target=i)))},getHref:function(){var e=this.href;return!!e&&Ext.urlAppend(e,Ext.Object.toQueryString(Ext.apply({},this.params,this.baseParams)))},setParams:function(e){var t,n=this;n.params=e,n.rendered&&(t=n.el.dom,n.disabled?t.removeAttribute("href"):t.href=n.getHref()||"")},getSplitCls:function(){var e=this;return e.split?e.baseCls+"-"+e.arrowCls+" "+e.baseCls+"-"+e.arrowCls+"-"+e.arrowAlign:""},setIcon:function(e){e=e||"";var t=this,n=t.btnIconEl,i=t.icon||"";return t.glyph&&t.setGlyph(null),t.icon=e,e!==i&&(n&&(n.removeCls(t.iconCls),n.setStyle("background-image",e?"url("+e+")":""),t._syncHasIconCls(),t.didIconStateChange(i,e)&&t.updateLayout()),t.fireEvent("iconchange",t,i,e)),t},setIconCls:function(e){e=e||"";var t=this,n=t.btnIconEl,i=t.iconCls||"";return t.glyph&&t.setGlyph(null),t.iconCls=e,i!==e&&(n&&(n.setStyle("background-image",""),n.removeCls(i),n.addCls(e),t._syncHasIconCls(),t.didIconStateChange(i,e)&&t.updateLayout()),t.fireEvent("iconchange",t,i,e)),t},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var n=this,i=n.btnIconEl,r=n._glyphCls;return i&&(n.icon=null,i.setStyle("background-image",""),e?(i.dom.innerHTML=e.character,i.addCls(r),i.setStyle(e.getStyle())):(i.dom.innerHTML="",i.removeCls(r)),n._syncHasIconCls(),n.didIconStateChange(t,e)&&n.updateLayout()),n.fireEvent("glyphchange",n,e&&e.glyphConfig,t&&t.glyphConfig),n},setTooltip:function(e,t){var n=this;return n.rendered?(t&&e||n.clearTip(),e&&(Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.el.id},e)),n.tooltip=e):n.el.dom.setAttribute(n.getTipAttr(),e))):n.tooltip=e,n},updateIconAlign:function(e,t){var n,i,r,o=this;o.rendered&&(n=o.btnEl,i=o.btnIconEl,r=o._hasIconCls,t&&n.removeCls(r+"-"+t),n.addCls(r+"-"+e),"top"===e||"left"===e?n.insertFirst(i):n.appendChild(i),o.updateLayout())},updateTextAlign:function(e,t){var n=this.btnEl,i=this._btnCls;this.rendered&&(n.removeCls(i+"-"+t),n.addCls(i+"-"+e))},getTipAttr:function(){return"qtip"===this.tooltipType?"data-qtip":"title"},getRefItems:function(e){var t=this.menu,n=[];return t&&(e&&(n=t.getRefItems(e)),n.unshift(t)),n},clearTip:function(){var e=this.el;Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.unregister(e):e.dom.removeAttribute(this.getTipAttr())},doDestroy:function(){var e=this,t=e.menu;e.rendered&&e.clearTip(),Ext.destroy(e.repeater),t&&e.destroyMenu&&(e.menu=Ext.destroy(t)),Ext.button.Manager.unregister(e),e.callParent()},setHandler:function(e,t){return this.handler=e,arguments.length>1&&(this.scope=t),this},updateText:function(e,t){e=null==e?"":String(e),t=t||"";var n=this,i=n.btnInnerEl,r=n.btnEl;n.rendered&&(i.setHtml(e||"&#160;"),r[e?"addCls":"removeCls"](n._textCls),r[e?"removeCls":"addCls"](n._noTextCls),n.updateLayout()),n.fireEvent("textchange",n,t,e)},didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},click:function(e){return this.onClick(e)},setPressed:function(e){return this.toggle(!1!==e)},toggle:function(e,t){var n=this,i=n.ariaEl.dom;return n.enableToggle?(e=void 0===e?!n.pressed:!!e,!1!==n.fireEvent("beforetoggle",n,e)&&e!==n.pressed&&(n[e?"addCls":"removeCls"](n._pressedCls),n.pressed=e,i&&i.setAttribute("aria-pressed",e),t||(n.fireEvent("toggle",n,e),Ext.callback(n.toggleHandler,n.scope,[n,e],0,n),n.publishState&&n.publishState("pressed",e))),n):n},maybeShowMenu:function(e){this.menu&&this.showMenu(e)},showMenu:function(e){var t=this,n=t.menu,i=!e||e.pointerType;return n&&t.rendered&&(t.tooltip&&Ext.quickTipsActive&&"title"!==t.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(t.el),n.isVisible()?i?n.hide():n.focus():(!e||t.showEmptyMenu||n.items.getCount()>0)&&(n.autoFocus=!i,n.showBy(t.el,t.menuAlign))),t},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onTouchStart:function(e){this.doPreventDefault(e)},onEnterKey:function(e){if(!this.href)return this.onClick(e),e.stopEvent(),!1},onClick:function(e){var t=this;e&&t.doPreventDefault(e),e&&"keydown"!==e.type&&e.button||t.disabled||(t.doToggle(),t.maybeShowMenu(e),t.fireHandler(e))},doToggle:function(){!1===this.allowDepress&&this.pressed||this.toggle()},doPreventDefault:function(e){e&&(this.preventDefault||this.disabled&&this.getHref())&&e.preventDefault()},fireHandler:function(e){var t=this;!1===t.fireEvent("click",t,e)||t.destroyed||Ext.callback(t.handler,t.scope,[t,e],0,t)},onMouseOver:function(e){this.disabled||e.within(this.el,!0,!0)||this.onMouseEnter(e)},onMouseOut:function(e){e.within(this.el,!0,!0)||(this.overMenuTrigger&&this.onMenuTriggerOut(e),this.onMouseLeave(e))},onMouseMove:function(e){var t=this,n=t.overMenuTrigger;t.split&&(t.isWithinTrigger(e)?n||t.onMenuTriggerOver(e):n&&t.onMenuTriggerOut(e))},isWithinTrigger:function(e){var t,n,i=this.el;return(t="right"===this.arrowAlign?e.getX()-this.getX():e.getY()-i.getY())>(n=this.getTriggerRegion()).begin&&t<n.end},getTriggerRegion:function(){var e=this,t=e._triggerRegion,n="right"===e.arrowAlign,i=n?"getRight":"getBottom",r=n?e.getWidth():e.getHeight();return t.begin=r-(e.el[i]()-e.btnEl[i]()),t.end=r,t},onMouseEnter:function(e){this.fireEvent("mouseover",this,e)},onMouseLeave:function(e){this.fireEvent("mouseout",this,e)},onMenuTriggerOver:function(e){var t=this,n=t.arrowTooltip;t.overMenuTrigger=!0,t.split&&n&&t.btnWrap.dom.setAttribute(t.getTipAttr(),n),t.fireEvent("menutriggerover",t,t.menu,e)},onMenuTriggerOut:function(e){var t=this;delete t.overMenuTrigger,t.split&&t.arrowTooltip&&t.btnWrap.dom.setAttribute(t.getTipAttr(),""),t.fireEvent("menutriggerout",t,t.menu,e)},onEnable:function(){var e=this,t=e.href,n=e.hrefTarget,i=e.el.dom;e.callParent(),e.removeCls(e._disabledCls),i.setAttribute("tabIndex",e.tabIndex),t&&(i.href=t),n&&(i.target=n)},onDisable:function(){var e=this,t=e.el.dom;e.callParent(),e.addCls(e._disabledCls),e.removeCls(e.overCls),t.removeAttribute("tabIndex"),e.href&&t.removeAttribute("href"),e.hrefTarget&&t.removeAttribute("target")},setScale:function(e){var t=this,n=t.ui.replace("-"+t.scale,"");if(!Ext.Array.contains(t.allowedScales,e))throw"#setScale: scale must be an allowed scale ("+t.allowedScales.join(", ")+")";t.scale=e,t.setUI(n)},setUI:function(e){this.scale&&!e.match(this.scale)&&(e=e+"-"+this.scale),this.callParent([e])},onMouseDown:function(e){var t=this;(Ext.isIE||"touch"===e.pointerType)&&Ext.defer(function(){var n=t.getFocusEl();n&&!e.defaultPrevented&&n.focus()},1),t.disabled||0!==e.button||(Ext.button.Manager.onButtonMousedown(t,e),t.addCls(t._pressedCls))},onMouseUp:function(e){this.destroyed||0!==e.button||this.pressed||this.removeCls(this._pressedCls)},onMenuShow:function(){var e=this;e.addCls(e._menuActiveCls),e.fireEvent("menushow",e,e.menu)},onMenuHide:function(e){var t=this;t.removeCls(t._menuActiveCls),t.fireEvent("menuhide",t,t.menu)},onDownKey:function(e){if(this.menu&&!this.disabled)return this.showMenu(e),e.stopEvent(),!1},updateArrowVisible:function(e){var t=this;return t.rendered&&(e?(t.menu||t.isSplitButton)&&(t.split=!0,t._addSplitCls()):(t._removeSplitCls(),t.split=!1)),e},privates:{elClsMap:{btnWrap:"_btnWrapCls",btnEl:"_btnCls",btnIconEl:"_baseIconCls",btnInnerEl:"_innerCls"},addUIToElement:function(){this.callParent(),this.updateChildElsUICls(!0)},addOverCls:function(){this.disabled||this.addCls(this.overCls)},_addSplitCls:function(){this.btnWrap.addCls(this.getSplitCls())},getTdCls:function(){return Ext.baseCSSPrefix+"button-"+this.ui+"-"+this.scale+"-cell"},getValue:function(){return this.value},removeUIFromElement:function(){this.callParent(),this.updateChildElsUICls(!1)},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){this.btnWrap.removeCls(this.getSplitCls())},_syncHasIconCls:function(){var e=this.btnEl,t=this._hasIconCls;e&&e[this._hasIcon()?"addCls":"removeCls"]([t,t+"-"+this.iconAlign])},_hasIcon:function(){return!!(this.icon||this.iconCls||this.glyph)},updateChildElsUICls:function(e){var t,n,i,r=this.ui,o=e?"addCls":"removeCls",a=this.elClsMap;for(t in a)n=this[t],i=this[a[t]],n&&i&&n[o](i+"-"+r)},wrapPrimaryEl:function(e){this.el=new Ext.dom.ButtonElement(e),this.callParent([e])}}}),Ext.define("Ext.button.Split",{extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",alias:"widget.splitbutton",isSplitButton:!0,arrowCls:"split",split:!0,initComponent:function(){var e=this;e.menu&&(e.arrowHandler||e.hasListeners.hasOwnProperty("arrowclick"))&&Ext.ariaWarn(e,"Using both menu and arrowHandler config options in Split buttons leads to confusing user experience and conflicts with accessibility best practices. See WAI-ARIA 1.0 Authoring guide: http://www.w3.org/TR/wai-aria-practices/#menubutton"),e.callParent()},getTemplateArgs:function(){var e,t,n=this;return t=n.callParent(),n.disabled&&(t.tabIndex=null),(e=n.ariaArrowElAttributes||{})["aria-hidden"]=!!n.hidden,e["aria-disabled"]=!!n.disabled,n.arrowTooltip?e["aria-label"]=n.arrowTooltip:e["aria-labelledby"]=n.id,t.arrowElAttributes=e,t},onRender:function(){var e,t=this;t.callParent(),(e=t.getFocusEl())&&e.on({scope:t,focus:t.onMainElFocus,blur:t.onMainElBlur}),(e=t.arrowEl)&&(e.dom.setAttribute("data-componentid",t.id),e.setVisibilityMode(Ext.dom.Element.DISPLAY),e.on({scope:t,focus:t.onArrowElFocus,blur:t.onArrowElBlur}))},setArrowHandler:function(e,t){this.arrowHandler=e,this.scope=t},onClick:function(e){var t=this,n="keydown"===e.type&&e.target===t.arrowEl.dom;t.doPreventDefault(e),t.disabled||(n||t.isWithinTrigger(e)?(e.preventDefault(),t.maybeShowMenu(e),t.fireEvent("arrowclick",t,e),t.arrowHandler&&t.arrowHandler.call(t.scope||t,t,e)):(t.doToggle(),t.fireHandler(e)))},enable:function(e){var t=this.arrowEl;this.callParent([e]),t&&(t.dom.setAttribute("tabIndex",this.tabIndex),t.dom.setAttribute("aria-disabled","false"))},disable:function(e){var t=this.arrowEl;this.callParent([e]),t&&(t.dom.removeAttribute("tabIndex"),t.dom.setAttribute("aria-disabled","true"))},afterHide:function(e,t){this.callParent([e,t]),this.arrowEl.dom.setAttribute("aria-hidden","true")},afterShow:function(e,t,n){this.callParent([e,t,n]),this.arrowEl.dom.setAttribute("aria-hidden","false")},privates:{isFocusing:function(e){var t=this,n=e.fromElement,i=e.toElement,r=t.focusEl&&t.focusEl.dom,o=t.arrowEl&&t.arrowEl.dom;return!!t.focusable&&(i===r?n!==o:i!==o||n!==r)},isBlurring:function(e){var t=this,n=e.fromElement,i=e.toElement,r=t.focusEl&&t.focusEl.dom,o=t.arrowEl&&t.arrowEl.dom;return!!t.focusable&&(n===r?i!==o:n!==o||i!==r)},getFocusClsEl:Ext.privateFn,onMainElFocus:function(e){this.el.addCls(this._focusCls)},onMainElBlur:function(e){this.el.removeCls(this._focusCls)},onArrowElFocus:function(e){this.el.addCls(this._arrowFocusCls)},onArrowElBlur:function(){this.el.removeCls(this._arrowFocusCls)},setTabIndex:function(e){this.callParent([e]),this.arrowEl&&this.arrowEl.set({tabIndex:e})},_addSplitCls:function(){var e=this.arrowEl;this.callParent(),e.dom.setAttribute("tabIndex",this.tabIndex),e.setVisible(!0)},_removeSplitCls:function(){var e=this.arrowEl;this.callParent(),e.dom.removeAttribute("tabIndex"),e.setVisible(!1)}}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(e){var t="";return e&&!0===this.showText?(this.prependText&&(t+=this.prependText),t+=e.text):this.text},setActiveItem:function(e,t){var n=this,i=n.changeHandler,r=n.forceIcon,o=n.forceGlyph;n.settingActive=!0,Ext.isObject(e)||(e=n.menu.getComponent(e)),e&&(n.setText(n.getButtonText(e)),n.setIconCls(r||e.iconCls),n.setGlyph(o||e.glyph),n.activeItem=e,e.checked||e.setChecked(!0,!1),t||(i&&Ext.callback(i,n.scope,[n,e],0,n),n.fireEvent("change",n,e))),n.settingActive=!1},getActiveItem:function(){return this.activeItem},initComponent:function(){var e,t,n,i,r=this,o=0;for(Ext.ariaWarn(r,"Using Cycle buttons is not recommended in accessible applications, because their behavior conflicts with accessibility best practices. See WAI-ARIA 1.0 Authoring guide: http://www.w3.org/TR/wai-aria-practices/#menubutton"),e=(r.menu.items||[]).concat(r.items||[]),r.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},r.menu),n=e.length,t=0;t<n;t++)i=e[t],i=Ext.applyIf({group:r.id,itemIndex:t,checkHandler:r.checkHandler,scope:r,checked:i.checked||!1},i),r.menu.items.push(i),i.checked&&(o=t);r.itemCount=r.menu.items.length,r.callParent(arguments),r.on("click",r.toggleSelected,r),r.setActiveItem(o,!0)},checkHandler:function(e,t){t&&!this.settingActive&&this.setActiveItem(e)},toggleSelected:function(){var e=this.menu;(this.activeItem.next(":not([disabled])")||e.items.getAt(0)).setChecked(!0)}}),Ext.define("Ext.layout.container.SegmentedButton",{extend:"Ext.layout.container.Container",alias:"layout.segmentedbutton",needsItemSize:!1,setsItemSize:!1,_btnRowCls:Ext.baseCSSPrefix+"segmented-button-row",getRenderTree:function(){var e,t,n=this.callParent();if(this.owner.getVertical())for(e=0,t=n.length;e<t;e++)n[e]={cls:this._btnRowCls,cn:n[e]};return n},getItemLayoutEl:function(e){var t=e.el.dom;return this.owner.getVertical()?t.parentNode:t},onDestroy:function(){if(this.rendered)for(var e,t=this.getRenderTarget();e=t.last();)e.destroy()}}),Ext.define("Ext.button.Segmented",{extend:"Ext.container.Container",xtype:"segmentedbutton",requires:["Ext.button.Button","Ext.layout.container.SegmentedButton"],config:{allowDepress:!1,allowMultiple:!1,forceSelection:!1,allowToggle:!0,vertical:!1,defaultUI:"default"},beforeRenderConfig:{value:void 0},defaultBindProperty:"value",publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:!1,isSegmentedButton:!0,baseCls:Ext.baseCSSPrefix+"segmented-button",itemCls:Ext.baseCSSPrefix+"segmented-button-item",_firstCls:Ext.baseCSSPrefix+"segmented-button-first",_lastCls:Ext.baseCSSPrefix+"segmented-button-last",_middleCls:Ext.baseCSSPrefix+"segmented-button-middle",applyValue:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.getAllowMultiple();if(r=e instanceof Array?e:null==e?[]:[e],o=t instanceof Array?t:null==t?[]:[t],c._isApplyingValue=!0,!c.rendered)for(s=(a=c.items.items).length-1;s>=0;s--)i=a[s],!c.forceSelection||s||d||(i.pressed=!0),i.pressed&&(d=!0,null==(n=i.value)&&(n=c.items.indexOf(i)),Ext.Array.contains(r,n)||r.unshift(n));for((l=r.length)>1&&!u&&Ext.raise("Cannot set multiple values when allowMultiple is false"),s=0;s<l;s++)e=r[s],(i=c._lookupButtonByValue(e))?(null!=(n=i.value)&&n!==e&&(r[s]=n),i.pressed||i.setPressed(!0)):Ext.raise("Invalid value '"+e+"' for segmented button: '"+c.id+"'");for(e=u?r:l?r[0]:null,s=0,l=o.length;s<l;s++)t=o[s],Ext.Array.contains(r,t)||c._lookupButtonByValue(t).setPressed(!1);return c._isApplyingValue=!1,e},updateValue:function(e,t){var n;this.hasListeners.change&&(e&&t&&this.getAllowMultiple()&&(n=Ext.Array.equals(e,t)),n||this.fireEvent("change",this,e,t))},beforeRender:function(){var e=this;e.addCls(e.baseCls+e._getClsSuffix()),e._syncItemClasses(!0),e.callParent()},onAdd:function(e){var t,n,i=this,r=i.items.items,o=r.length,a=0;for("default"!==e.ui||e.hasOwnProperty("ui")||"default"!==(n=i.getDefaultUI())&&(e.ui=n);a<o;a++)r[a]!==e&&null!=(t=r[a].value)&&t===e.value&&Ext.raise("Segmented button '"+i.id+"' cannot contain multiple items with value: '"+t+"'");i.mon(e,{hide:"_syncItemClasses",show:"_syncItemClasses",beforetoggle:"_onBeforeItemToggle",toggle:"_onItemToggle",scope:i}),i.getAllowToggle()&&(e.enableToggle=!0,i.getAllowMultiple()||(e.toggleGroup=i.getId(),e.allowDepress=i.getAllowDepress())),e.addCls(i.itemCls+i._getClsSuffix()),i._syncItemClasses(),i.callParent([e])},onRemove:function(e){e.removeCls(this.itemCls+this._getClsSuffix()),this._syncItemClasses(),this.callParent([e])},beforeLayout:function(){Ext.isChrome&&this.el.dom.offsetWidth,this.callParent()},updateDefaultUI:function(e){var t,n,i,r=this.items;if(this.rendered)Ext.raise("Changing the ui config of a segmented button after render is not supported.");else if(r)for(r.items&&(r=r.items),n=0,i=r.length;n<i;n++)"default"!==(t=r[n]).ui||"default"===e||t.hasOwnProperty("ui")||(r[n].ui=e)},updateAllowDepress:function(e,t){this.rendered&&e!==t&&Ext.raise("Changing the allowDepress config of a segmented button after render is not supported.")},updateAllowMultiple:function(e,t){this.rendered&&e!==t&&Ext.raise("Changing the allowMultiple config of a segmented button after render is not supported.")},updateAllowToggle:function(e,t){this.rendered&&e!==t&&Ext.raise("Changing the allowToggle config of a segmented button after render is not supported.")},updateVertical:function(e,t){this.rendered&&e!==t&&Ext.raise("Changing the orientation of a segmented button after render is not supported.")},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(e){for(var t,n,i=this.items.items,r=i.length,o=0,a=null;o<r;o++)if(null!=(t=(n=i[o]).value)&&t===e){a=n;break}return a||"number"!=typeof e||(a=i[e]),a},_onBeforeItemToggle:function(e,t){if(this.allowMultiple&&this.forceSelection&&!t&&1===this.getValue().length)return!1},_onItemToggle:function(e,t){if(!this._isApplyingValue){var n,i=this,r=Ext.Array,o=i.allowMultiple,a=null!=e.value?e.value:i.items.indexOf(e),s=i.getValue();o&&(n=r.indexOf(s,a)),t?o?-1===n&&(s=r.slice(s)).push(a):s=a:o?n>-1&&(s=r.slice(s)).splice(n,1):s===a&&(s=null),i.setValue(s),i.fireEvent("toggle",i,e,t)}},_syncItemClasses:function(e){var t,n,i,r,o,a,s,l,d=this;if(e||d.rendered){for(t=d._getFirstCls(),n=d._middleCls,i=d._getLastCls(),o=(r=d.items.items).length,a=[],l=0;l<o;l++)(s=r[l]).hidden||a.push(s);for(o=a.length,l=0;l<o;l++)a[l].removeCls([t,n,i]);if(o>1){for(a[0].addCls(t),l=1;l<o-1;l++)a[l].addCls(n);a[o-1].addCls(i)}}}}}),Ext.define("Ext.panel.Bar",{extend:"Ext.container.Container",vertical:!1,_verticalSides:{left:1,right:1},initComponent:function(){var e=this,t=e.vertical;e.dock=e.dock||(t?"left":"top"),e.layout=Ext.apply(t?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},e.layout),this.callParent()},onAdded:function(e,t,n){this.initOrientation(),this.callParent([e,t,n])},onRemoved:function(e){this.removeClsWithUI(this.uiCls),this.callParent([e])},beforeRender:function(){!this.forceOrientation&&this.ownerCt||this.initOrientation(),this.callParent()},setDock:function(e){var t,n,i=this;e!==i.dock&&(Ext.suspendLayouts(),i.clearOrientation(),i.callParent([e]),i.initOrientation(),n=i.vertical,(t=i.layout).setVertical(n),t.setAlignRoundingMethod(n?"ceil":"floor"),Ext.resumeLayouts(!0))},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var e=this,t=e.dock,n=e.vertical=t?t in e._verticalSides:e.vertical;e.addClsWithUI([n?"vertical":"horizontal",e.getDockName()])}}}),Ext.define("Ext.panel.Title",{extend:"Ext.Component",xtype:"title",requires:["Ext.Glyph"],isTitle:!0,noWrap:!0,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:"presentation",unselectable:"on"},textElRole:"presentation",tabIndex:0,childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="textElRole"> role="{textElRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">{glyph}</tpl></div></div>',_textAlignClasses:{left:Ext.baseCSSPrefix+"title-align-left",center:Ext.baseCSSPrefix+"title-align-center",right:Ext.baseCSSPrefix+"title-align-right"},_iconAlignClasses:{top:Ext.baseCSSPrefix+"title-icon-top",right:Ext.baseCSSPrefix+"title-icon-right",bottom:Ext.baseCSSPrefix+"title-icon-bottom",left:Ext.baseCSSPrefix+"title-icon-left"},_rotationClasses:{0:Ext.baseCSSPrefix+"title-rotate-none",1:Ext.baseCSSPrefix+"title-rotate-right",2:Ext.baseCSSPrefix+"title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:Ext.baseCSSPrefix+"title",_titleSuffix:"-title",_glyphCls:Ext.baseCSSPrefix+"title-glyph",_iconWrapCls:Ext.baseCSSPrefix+"title-icon-wrap",_baseIconCls:Ext.baseCSSPrefix+"title-icon",_itemCls:Ext.baseCSSPrefix+"title-item",_textCls:Ext.baseCSSPrefix+"title-text",afterComponentLayout:function(){var e,t,n,i=this.getRotation();i&&!Ext.isIE8&&(n=this.el,t=(e=this.lastBox).x,n.setStyle(this._getVerticalAdjustDirection(),t+(1===i?e.width:-e.height)+"px")),this.callParent()},onRender:function(){var e=this.getRotation(),t=this.el;this.callParent(),e&&t.setVertical(this._rotationAngles[e]),Ext.supports.FixedTableWidthBug&&(t._needsTableWidthFix=!0)},applyText:function(e){return e||(e="&#160;"),e},beforeRender:function(){var e=this;e.callParent(),e.addCls(e._rotationClasses[e.getRotation()]),e.addCls(e._textAlignClasses[e.getTextAlign()])},getIconMarkup:function(){return this.lookupTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var e,t=this,n=t.getIcon(),i=t.getIconCls(),r=t.getGlyph(),o=t.getIconAlign();return r&&(e=r.fontFamily,r=r.character),{id:t.id,ui:t.ui,itemCls:t._itemCls,iconUrl:n,iconCls:i,iconWrapCls:t._iconWrapCls,baseIconCls:t._baseIconCls,iconAlignCls:t._iconAlignClasses[o],glyph:r,glyphCls:r?t._glyphCls:"",glyphFontFamily:e}},initRenderData:function(){var e,t,n=this;return t=Ext.apply({text:n.getText(),textElRole:n.textElRole,id:n.id,ui:n.ui,itemCls:n._itemCls,textCls:n._textCls,iconMarkup:null,iconBeforeTitle:null},n.callParent()),n._hasIcon()&&(e=n.getIconAlign(),t.iconMarkup=n.getIconMarkup(),t.iconBeforeTitle="top"===e||"left"===e),t},onAdded:function(e,t,n){var i=this._titleSuffix,r=e.baseCls;this.addCls([r+i,r+i+"-"+e.ui]),this.callParent([e,t,n])},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var n,i=this,r=i._glyphCls;i.rendered&&(i._syncIconVisibility(),n=i.iconEl,e?(n.dom.innerHTML=e.character,n.addCls(r),n.setStyle("font-family",e.fontFamily)):t!==e&&(n.dom.innerHTML="",n.removeCls(r)),i._didIconStateChange(t,e)&&i.updateLayout())},updateIcon:function(e,t){e=e||"";var n=this;n.rendered&&e!==t&&(n._syncIconVisibility(),n.iconEl.setStyle("background-image",e?"url("+e+")":""),n._didIconStateChange(t,e)&&n.updateLayout())},updateIconAlign:function(e,t){var n,i,r=this,o=r.iconWrapEl;r.iconWrapEl&&(n=r.el,i=r._iconAlignClasses,t&&o.removeCls(i[t]),o.addCls(i[e]),"top"===e||"left"===e?n.insertFirst(o):n.appendChild(o),r.updateLayout())},updateIconCls:function(e,t){e=e||"";var n,i=this;i.rendered&&t!==e&&(i._syncIconVisibility(),n=i.iconEl,t&&n.removeCls(t),n.addCls(e),i._didIconStateChange(t,e)&&i.updateLayout())},updateRotation:function(e,t){var n,i,r=this;r.rendered&&(n=r.el,i=r._rotationClasses,r.removeCls(i[t]),r.addCls(i[e]),n.setHorizontal(),e&&n.setVertical(r._rotationAngles[e]),n.setStyle({right:"",left:"",top:"",height:"",width:""}),r.lastBox=null,r.updateLayout())},updateText:function(e){this.rendered&&(this.textEl.setHtml(e),this.updateLayout())},updateTextAlign:function(e,t){var n=this,i=n._textAlignClasses;n.rendered&&(t&&n.removeCls(i[t]),n.addCls(i[e]),n.updateLayout())},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},_hasIcon:function(){return!!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var e,t,n=this,i=n.el,r=n._hasIcon(),o=n.iconWrapEl;r&&!o&&(e="left"===(t=n.iconAlign)||"top"===t,i.dom.insertAdjacentHTML(e?"afterbegin":"beforeend",n.getIconMarkup()),o=n.iconWrapEl=i[e?"first":"last"](),n.iconEl=o.first()),o&&o.setDisplayed(r)}}}),Ext.define("Ext.panel.Tool",{extend:"Ext.Component",uses:["Ext.tip.QuickTipManager"],xtype:"tool",requires:["Ext.Glyph"],config:{glyph:null},isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",childEls:["toolEl"],renderTpl:['<div id="{id}-toolEl" data-ref="toolEl" class="{className} {childElCls}" role="presentation"<tpl if="glyph"><tpl if="glyphFontFamily"> style="font-family:{glyphFontFamily};"></tpl>{glyph}<tpl else>></tpl></div>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,ariaRole:"button",focusable:!0,tabIndex:0,keyMap:{scope:"this",SPACE:"onClick",ENTER:"onClick"},cacheHeight:!0,cacheWidth:!0,_toolTypes:{close:1,collapse:1,down:1,expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){var e=this;e.id&&e._toolTypes[e.id]&&Ext.raise("When specifying a tool you should use the type option, the id can conflict now that tool is a Component"),e.tooltip=e.tooltip||e.qtip,e.callParent()},initRenderData:function(){var e,t=this.callParent(),n=this.getGlyph();return n&&(e=n.fontFamily,n=n.character),Ext.applyIf(t,{className:this.calculateClassName(),glyph:n,glyphFontFamily:e}),t},calculateClassName:function(){var e=this,t=e.baseCls+"-tool-el ";return e.type?t+=e.baseCls+"-img "+e.baseCls+"-"+e.type:e.iconCls&&(t+=e.iconCls),t},afterRender:function(){var e,t=this;t.callParent(),t.setTypeAfterRender&&(t.setTypeAfterRender=!1,t.setType(t.type)),t.el.on({click:t.onClick,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseout:t.onMouseOut,scope:t}),(e=t.tooltip)&&t.setTooltip(e)},tipAttrs:{qtip:"data-qtip"},setTooltip:function(e,t){var n,i=this,r=i.tooltip,o=i.tooltipType,a=i.id,s=i.el;r&&Ext.quickTipsActive&&Ext.isObject(r)&&Ext.tip.QuickTipManager.unregister(a),i.tooltip=e,t&&(i.tooltipType=t),e&&(Ext.quickTipsActive&&Ext.isObject(e)?Ext.tip.QuickTipManager.register(Ext.apply({target:a},e)):s&&(t&&o&&t!==o&&(n=i.tipAttrs[o]||"title",s.dom.removeAttribute(n)),n=i.tipAttrs[t||o]||"title",s.dom.setAttribute(n,e)),"title"!==n&&i.ariaRole&&"presentation"!==i.ariaRole&&(s?s.dom.setAttribute("aria-label",e):(i.ariaRenderAttributes=i.ariaRenderAttributes||{},i.ariaRenderAttributes["aria-label"]=e)))},setType:function(e){var t,n,i=this,r=(i.toolEl,i.updating),o=i.rendering;return r||(t=i.calculateClassName(),o||(i.updating=n=!0),i.setIconCls(null),i.setGlyph(null)),i.type=e,n?(i.updateToolCls(t),i.updating=!1):o&&(i.setTypeAfterRender=!0),i},setIconCls:function(e){var t,n,i=this;i.toolEl;return i.updating||(t=i.calculateClassName(),i.updating=n=!0,i.setType(null),i.setGlyph(null)),i.iconCls=e,n&&(i.updateToolCls(t),i.updating=!1),i},doDestroy:function(){this.setTooltip(null),delete this.toolOwner,this.callParent()},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var n,i,r=this,o=r.toolEl;r.updating||(n=r.calculateClassName(),r.updating=i=!0,r.setType(null),r.setIconCls(null)),o&&(e?(o.dom.innerHTML=e.character,o.setStyle(e.getStyle())):o.dom.innerHTML=""),i&&(r.updateToolCls(n),r.updating=!1)},privates:{onClick:function(e,t){var n=this;return!n.disabled&&("keydown"!==e.type&&n.el.removeCls(n.toolPressedCls+" "+n.toolOverCls),!1!==n.stopEvent&&e.stopEvent(),n.handler?Ext.callback(n.handler,n.scope,[e,t,n.ownerCt,n],0,n):n.callback&&Ext.callback(n.callback,n.scope,[n.toolOwner||n.ownerCt,n,e],0,n),n.destroyed?void 0:(n.fireEvent("click",n,e,n.toolOwner||n.ownerCt),!0))},onMouseDown:function(e){if(e.preventDefault(),this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)},updateToolCls:function(e){var t=this.toolEl;t&&(t.removeCls(e),t.addCls(this.calculateClassName()))}}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(e){var t=this;1!==arguments.length||"string"==typeof e||e.dom||e.tagName||e===document||e.isComponent?t.legacyConstructor.apply(t,arguments):(Ext.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=Ext.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),t.enable())},legacyConstructor:function(e,t,n){Ext.apply(this,{target:Ext.get(e),eventName:n||this.eventName,bindings:[]}),t&&this.addBinding(t),this.enable()},addBinding:function(e){var t,n,i=this,r=e.key;if(i.processing&&(i.bindings=i.bindings.slice(0)),Ext.isArray(e))for(t=0,n=e.length;t<n;t++)i.addBinding(e[t]);else i.bindings.push(Ext.apply({keyCode:i.processKeys(r)},e))},removeBinding:function(e){var t,n,i,r=this,o=r.bindings,a=o.length;for(r.processing&&(r.bindings=o.slice(0)),i=r.processKeys(e.key),t=0;t<a;++t)if(((n=o[t]).fn||n.handler)===(e.fn||e.handler)&&n.scope===e.scope&&e.alt===n.alt&&e.ctrl===n.ctrl&&e.shift===n.shift&&Ext.Array.equals(n.keyCode,i))return void Ext.Array.erase(r.bindings,t,1)},processKeys:function(e){var t,n,i,r,o,a=!1;if(e.test)return e;if(Ext.isString(e)){for(n=[],o=0,r=(i=e.toUpperCase()).length;o<r;++o)n.push(i.charCodeAt(o));e=n,a=!0}if(Ext.isArray(e)||(e=[e]),!a)for(o=0,r=e.length;o<r;++o)t=e[o],Ext.isString(t)&&(e[o]=t.toUpperCase().charCodeAt(0));return e},handleTargetEvent:function(e){var t,n,i,r,o=this;if(o.enabled&&(n=0,i=(t=o.bindings).length,e=o.processEvent.apply(o.processEventScope||o,arguments))){if(o.lastKeyEvent=e,o.ignoreInputFields&&Ext.fly(e.target).isInputField())return;if(!e.getKey)return e;for(o.processing=!0;n<i;++n)if(!1===(r=o.processBinding(t[n],e)))return o.processing=!1,r;o.processing=!1}},processEvent:Ext.identityFn,processBinding:function(e,t){if(this.checkModifiers(e,t)){var n,i,r,o=t.getKey(),a=e.fn||e.handler,s=e.scope||this,l=e.keyCode,d=e.defaultEventAction;if(l.test){if(l.test(String.fromCharCode(t.getCharCode()))&&(!0!==(r=a.call(s,o,t))&&d&&t[d](),!1===r))return r}else if(l.length)for(n=0,i=l.length;n<i;++n)if(o===l[n]){if(!0!==(r=a.call(s,o,t))&&d&&t[d](),!1===r)return r;break}}},checkModifiers:function(e,t){for(var n,i,r=["shift","ctrl","alt"],o=0,a=r.length;o<a;++o)if(void 0!==(n=e[i=r[o]])&&n!==t[i+"Key"])return!1;return!0},on:function(e,t,n){var i,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(i=e.key,r=e.shift,o=e.ctrl,a=e.alt):i=e,this.addBinding({key:i,shift:r,ctrl:o,alt:a,fn:t,scope:n})},un:function(e,t,n){var i,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(i=e.key,r=e.shift,o=e.ctrl,a=e.alt):i=e,this.removeBinding({key:i,shift:r,ctrl:o,alt:a,fn:t,scope:n})},isEnabled:function(){return this.enabled},enable:function(){var e=this;e.enabled||(e.target.on(e.eventName,e.handleTargetEvent,e,{capture:e.capture,priority:e.priority}),e.enabled=!0)},disable:function(){var e=this;e.enabled&&(e.target.removeListener(e.eventName,e.handleTargetEvent,e),e.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this,n=t.target;t.bindings=[],t.disable(),e&&n.destroy(),delete t.target,t.callParent()}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],disabled:!1,defaultEventAction:!1,forceKeyDown:!1,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){2!==arguments.length?this.doConstruction(e):this.legacyConstructor.apply(this,arguments)},legacyConstructor:function(e,t){this.doConstruction(Ext.apply({target:e},t))},doConstruction:function(e){var t,n=this,i={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:n.getKeyEvent("forceKeyDown"in e?e.forceKeyDown:n.forceKeyDown,e.eventName),capture:e.capture};n.map&&n.map.destroy(),n.initConfig(e),e.processEvent&&(i.processEvent=e.processEvent,i.processEventScope=e.processEventScope||n),e.priority&&(i.priority=e.priority),e.keyMap?t=n.map=e.keyMap:(t=n.map=new Ext.util.KeyMap(i),n.destroyKeyMap=!0),this.addBindings(e),t.disable(),e.disabled||t.enable()},addBindings:function(e){var t,n,i,r=this,o=r.map,a=Ext.util.KeyNav.keyOptions,s=e.scope||r;for(t in e)n=e[t],null!=(i=a[t])&&(t=i),!n||1!==t.length&&isNaN(t=parseInt(t,10))||("function"==typeof n&&(n={handler:n,defaultEventAction:void 0!==e.defaultEventAction?e.defaultEventAction:r.defaultEventAction}),o.addBinding({key:t,ctrl:n.ctrl,shift:n.shift,alt:n.alt,handler:Ext.Function.bind(r.handleEvent,n.scope||s,[n.handler||n.fn,r],!0),defaultEventAction:void 0!==n.defaultEventAction?n.defaultEventAction:r.defaultEventAction}))},handleEvent:function(e,t,n,i){return i.lastKeyEvent=t,n.call(this,t)},destroy:function(e){this.destroyKeyMap&&this.map.destroy(e),delete this.map,this.callParent()},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},getKeyEvent:function(e,t){return e||Ext.supports.SpecialKeyDownRepeat&&!t?"keydown":t||this.eventName}}),Ext.define("Ext.util.FocusableContainer",{extend:"Ext.Mixin",requires:["Ext.util.KeyNav"],mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",doDestroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave",afterShow:"activateFocusableContainer"}},isFocusableContainer:!0,enableFocusableContainer:!0,activeChildTabIndex:0,inactiveChildTabIndex:-1,focusableContainerEl:"el",tabGuard:!0,privates:{initFocusableContainer:function(e){var t,n,i;if(this.enableFocusableContainer)e=null==e||e,this.doInitFocusableContainer(e);else for(n=0,i=(t=this.getFocusables()).length;n<i;n++)t[n].focusableContainer=null},doInitFocusableContainer:function(e){var t=this,n=t.focusableContainerEl;e&&t.clearFocusables(),t.findNextFocusableChild({step:1,beforeRender:!0})?t.activateFocusableContainer(!0):t.isFocusableContainerActive()&&t.activateFocusableContainer(!1),n.isElement||(n=t.focusableContainerEl=t[n]),t.focusableKeyNav=t.createFocusableContainerKeyNav(n)},createFocusableContainerKeyNav:function(e){var t=this;return new Ext.util.KeyNav(e,{eventName:"keydown",ignoreInputFields:!0,scope:t,tab:t.onFocusableContainerTabKey,enter:t.onFocusableContainerEnterKey,space:t.onFocusableContainerSpaceKey,up:t.onFocusableContainerUpKey,down:t.onFocusableContainerDownKey,left:t.onFocusableContainerLeftKey,right:t.onFocusableContainerRightKey})},destroyFocusableContainer:function(){this.enableFocusableContainer&&this.doDestroyFocusableContainer()},doDestroyFocusableContainer:function(){this.focusableKeyNav=Ext.destroy(this.focusableKeyNav)},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){this.activeChildTabIndex;var e,t,n,i,r=!1;if(i=(e=this.getFocusables()).length){for(n=0;n<i;n++)if(!(t=e[n]).disabled&&t.isFocusable&&t.isFocusable()){r=!0;break}if(r)return(t=this.findNextFocusableChild({items:e,step:!0}))&&this.activateFocusable(t),t}},clearFocusables:function(){var e,t,n=this.getFocusables(),i=n.length;for(t=0;t<i;t++)(e=n[t]).focusable&&!e.disabled&&this.deactivateFocusable(e)},activateFocusable:function(e,t){var n=null!=t?t:this.activeChildTabIndex;e.setTabIndex(n)},deactivateFocusable:function(e,t){var n=null!=t?t:this.inactiveChildTabIndex;e.setTabIndex(n)},activateFocusableContainer:function(e){var t=this,n=t.tabGuardBeforeEl,i=t.tabGuardAfterEl;t.rendered&&!t.destroying&&!t.destroyed&&n&&i&&((e=null==e||e)?(n.dom.setAttribute("tabIndex",t.activeChildTabIndex),i.dom.setAttribute("tabIndex",t.activeChildTabIndex)):(n.dom.removeAttribute("tabIndex"),i.dom.removeAttribute("tabIndex")))},onFocusableContainerTabKey:function(){return!0},onFocusableContainerEnterKey:function(){return!0},onFocusableContainerSpaceKey:function(){return!0},onFocusableContainerUpKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!1)},onFocusableContainerDownKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!0)},onFocusableContainerLeftKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!1)},onFocusableContainerRightKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!0)},getFocusableFromEvent:function(e){var t=Ext.Component.fromElement(e.getTarget());return t||Ext.raise("No focusable child found for keyboard event!"),t},moveChildFocus:function(e,t){var n=this.getFocusableFromEvent(e);return this.focusChild(n,t,e)},focusChild:function(e,t){var n=this.findNextFocusableChild({child:e,step:t});return n&&n.focus(),n},findNextFocusableChild:function(e){var t,n,i,r,o,a,s,l,d=e.beforeRender;for(t=e.items||this.getFocusables(),r=null!=e.step?e.step:1,i=e.child,l=!!this.allowFocusingDisabledChildren,o=Ext.Array.indexOf(t,i),r=!0===r?1:!1===r?-1:r,s=t.length,a=r>0?o<s?o+r:0:o>0?o+r:s-1;;a+=r){if(o<0&&(a>=s||a<0))return null;if(a>=s)a=-1;else if(a<0)a=s;else{if(a===o)return null;if((n=t[a])&&n.focusable&&(!n.disabled||l)&&(d||n.isFocusable&&n.isFocusable()))return n}}return null},isFocusableContainerActive:function(){var e,t,n=!1,i=this.tabGuardBeforeEl,r=this.focusableContainerEl;return i&&i.isTabbable&&i.isTabbable()?n=!0:r.isTabbable&&r.isTabbable()?n=!0:(t=(e=this.lastFocusedChild)&&e.getFocusEl&&e.getFocusEl())&&t.isTabbable&&t.isTabbable()&&(n=!0),n},onFocusEnter:function(e){var t,n=this,i=e.toComponent;return!n.enableFocusableContainer||n.destroying||n.destroyed?null:(i===n?(t=n.initDefaultFocusable())&&(t.focus(),n.activateFocusableContainer(!1)):n.activateFocusableContainer(!1),i)},onFocusLeave:function(e){var t=this,n=t.lastFocusedChild;!t.enableFocusableContainer||t.destroying||t.destroyed||(t.clearFocusables(),n&&!n.disabled?t.activateFocusable(n):t.activateFocusableContainer(!0))},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(e){var t=this;!t.enableFocusableContainer||t.destroying||t.destroyed||(t.clearFocusables(),t.activateFocusable(e),e.needArrowKeys&&t.guardFocusableChild(e))},guardFocusableChild:function(e){var t,n=this.activeChildTabIndex;(t=this.findNextFocusableChild({child:e,step:-1}))&&t.setTabIndex(n),(t=this.findNextFocusableChild({child:e,step:1}))&&t.setTabIndex(n)},afterFocusableChildFocus:function(e){!this.enableFocusableContainer||this.destroying||this.destroyed||(this.lastFocusedChild=e)},onFocusableChildAdd:function(e){if(this.enableFocusableContainer)return this.doFocusableChildAdd(e)},doFocusableChildAdd:function(e){e.focusable&&(e.focusableContainer=this,this.$initingItems||this.isFocusableContainerActive()||this.activateFocusableContainer(!0))},onFocusableChildRemove:function(e){if(this.enableFocusableContainer)return this.doFocusableChildRemove(e);e.focusableContainer=null},doFocusableChildRemove:function(e){var t=this;e===t.lastFocusedChild&&(t.lastFocusedChild=null,t.activateFocusableContainer(!0)),(e=t.findNextFocusableChild({step:1,beforeRender:!0}))||t.activateFocusableContainer(!1)},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(e){var t=this;!t.enableFocusableContainer||t.destroying||t.destroyed||e!==t.lastFocusedChild&&(t.deactivateFocusable(e),t.isFocusableContainerActive()||t.activateFocusableContainer(!0))},beforeFocusableChildDisable:function(e){var t;!this.enableFocusableContainer||this.destroying||this.destroyed||e.hasFocus&&(t=this.findNextFocusableChild({child:e})||e.findFocusTarget())&&t.focus()},onFocusableChildDisable:function(e){var t=this,n=t.lastFocusedChild;!t.enableFocusableContainer||t.destroying||t.destroyed||(e===n&&t.activateFocusableContainer(!0),t.findNextFocusableChild({step:1})||t.activateFocusableContainer(!1))},beforeFocusableChildHide:function(e){return this.beforeFocusableChildDisable(e)},onFocusableChildHide:function(e){return this.onFocusableChildDisable(e)},beforeFocusableChildShow:function(e){return this.beforeFocusableChildEnable(e)},onFocusableChildShow:function(e){return this.onFocusableChildEnable(e)},onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}}),Ext.define("Ext.panel.Header",{extend:"Ext.panel.Bar",xtype:"header",requires:["Ext.panel.Title","Ext.panel.Tool"],mixins:["Ext.util.FocusableContainer"],isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",autoEl:{role:"presentation"},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:"title",flex:1},merge:function(e,t){return"object"!=typeof e&&(e={text:e}),Ext.merge(t?Ext.Object.chain(t):{},e)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var e=this,t=e.items,n=e.itemPosition,i=[e.headerCls];e.tools=e.tools||[],e.items=t=t?t.slice():[],void 0!==n&&(e._userItems=t.slice(),e.items=t=[]),e.indicateDragCls=e.headerCls+"-draggable",e.indicateDrag&&i.push(e.indicateDragCls),e.addCls(i),e.syncNoBorderCls(),Ext.Array.push(t,e.tools),e.tools.length=0,e.callParent(),e.on({dblclick:e.onDblClick,click:e.onClick,element:"el",scope:e})},addTool:function(e){this.add(Ext.ComponentManager.create(e,"tool")),this.checkFocusableTools()},afterLayout:function(){var e,t,n,i,r=this;r.vertical&&(t=r.frameTR)&&(e=r.frameBR,n=r.frameTL,i=r.getWidth()-t.getPadding("r")-(n?n.getPadding("l"):r.el.getBorderWidth("l"))+"px",e.setStyle("background-position-x",i),t.setStyle("background-position-x",i)),this.callParent()},applyTitle:function(e,t){var n,i,r=this;return e=e||"",n=Ext.isString(e),Ext.isObject(e)||(e={text:e.toString()}),t?(Ext.suspendLayouts(),t.setConfig(e),Ext.resumeLayouts(!0),e=t):(n&&(e.xtype="title"),e.ui=r.ui,i="rotation"in e,e.id=r.id+"-title",r.isAccordionHeader&&(e.ariaRole="tab",e.textElRole=null,e.focusable=!0),e=Ext.create(e),!i&&r.vertical&&"default"===r.titleRotation&&(e.rotation=1)),e},applyTitlePosition:function(e){var t=this.items.getCount();return this._titleInItems&&--t,Math.max(Math.min(e,t),0)},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},beforeRender:function(){var e=this,t=e.itemPosition;e.protoEl.unselectable(),e.callParent(),void 0!==t&&e.insert(t,e._userItems),e.checkFocusableTools()},checkFocusableTools:function(){var e,t,n,i=this,r=i.tools;if(i.isAccordionHeader)i.enableFocusableContainer=!1;else{for(t=0,n=r.length;t<n;t++)if(r[t].focusable){e=!0;break}e?i.initialConfig.hasOwnProperty("enableFocusableContainer")&&!i.enableFocusableContainer||(i.ariaRole="toolbar",i.enableFocusableContainer=!0,i.rendered&&(i.ariaEl.dom.setAttribute("role","toolbar"),i.initFocusableContainer(!0))):(i.ariaRole="presentation",i.enableFocusableContainer=!1,i.rendered&&(i.ariaEl.dom.setAttribute("role","presentation"),i.initFocusableContainer(!0)))}},getTools:function(){return this.tools.slice()},onAdd:function(e,t){var n=this.tools;this.callParent([e,t]),e.isTool&&(n.push(e),n[e.type]=e)},onAdded:function(e,t,n){this.syncNoBorderCls(),this.callParent([e,t,n])},onRemoved:function(e,t,n){this.syncNoBorderCls(),this.callParent([e,t,n])},setDock:function(e){var t=this,n=t.getTitle(),i=t.getTitleRotation(),r=n.getRotation();Ext.suspendLayouts(),t.callParent([e]),"default"===i&&((i=t.vertical?1:0)!==r&&n.setRotation(i),t.rendered&&t.resetItemMargins()),Ext.resumeLayouts(!0)},updateGlyph:function(e){this.getTitle().setGlyph(e)},updateIcon:function(e){this.getTitle().setIcon(e)},updateIconAlign:function(e,t){this.getTitle().setIconAlign(e)},updateIconCls:function(e){this.getTitle().setIconCls(e)},updateTitle:function(e,t){t||(this.insert(this.getTitlePosition(),e),this._titleInItems=!0),this.titleCmp=e},updateTitleAlign:function(e,t){this.getTitle().setTextAlign(e)},updateTitlePosition:function(e){this.insert(e,this.getTitle())},updateTitleRotation:function(e){"default"===e&&(e=this.vertical?1:0),this.getTitle().setRotation(e)},privates:{fireClickEvent:function(e,t){var n="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(n)||this.fireEvent(e,this,t)},getFramingInfoCls:function(){var e=this,t=e.callParent(),n=e.ownerCt;return!e.expanding&&n&&(n.collapsed||e.isCollapsedExpander)&&(t+="-"+n.collapsedCls),t+"-"+e.dock},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},syncBeforeAfterTitleClasses:function(e){var t,n,i,r,o=this,a=o.items,s=a.items,l=o.getTitlePosition(),d=s.length,c=a.generation,u=o.syncBeforeAfterGen;if(e||u!==c)for(o.syncBeforeAfterGen=c,i=0;i<d;++i)t=(r=s[i]).afterTitleCls||(r.afterTitleCls=r.baseCls+"-after-title"),n=r.beforeTitleCls||(r.beforeTitleCls=r.baseCls+"-before-title"),!o.title||i<l?(u&&r.removeCls(t),r.addCls(n)):i>l&&(u&&r.removeCls(n),r.addCls(t))},syncNoBorderCls:function(){var e=this.ownerCt,t=this.headerCls+"-noborder";(e?!1!==e.border||e.frame:!1!==this.border)?this.removeCls(t):this.addCls(t)}}}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",alias:["box.overflow.none","box.overflow.None"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"none"},isBoxOverflowHandler:!0,$configPrefixed:!1,$configStrict:!1,constructor:function(e){this.initConfig(e)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(e){var t,n=e.state.boxPlan;n&&n.tooNarrow?(t=this.handleOverflow(e))&&t.reservedSpace&&this.layout.publishInnerCtSize(e,t.reservedSpace):this.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(e){var t,n,i=this.layout.owner;i.hasListeners.overflowchange&&(n=(t=i.query(">[hidden]")).length)!==this.lastHiddenCount&&(i.fireEvent("overflowchange",this.lastHiddenCount,n,t),this.lastHiddenCount=n)},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){return e.isToolbar?"toolbar":e.isTabBar?"tab-bar":e.isMenu?"menu":e.isBreadcrumb?"breadcrumb":e.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var e=this.layout,t=e.innerCt;t.removeCls(this.getOverflowCls(e.oppositeDirection)),t.addCls(this.getOverflowCls(e.direction))}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",alias:["box.overflow.scroller","box.overflow.Scroller"],mixins:{observable:"Ext.mixin.Observable"},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(e){this.mixins.observable.constructor.call(this,e),this.scrollPosition=0,this.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(e){var t=this.layout,n=t.owner,i=this.getOwnerType(n),r=this.scrollerCls,o=r+" "+r+"-"+t.names[e]+" "+r+"-"+i+" "+r+"-"+i+"-"+n.ui;return n.plain&&(o+=" "+r+"-plain"),o},getOverflowCls:function(e){return this.scrollerCls+"-body-"+e},beginLayout:function(e){e.innerCtScrollPos=this.getScrollPosition(),this.callParent(arguments)},finishedLayout:function(e){var t,n=this,i=e.state.boxPlan,r=n.layout,o=r.names,a=Math.min(n.getMaxScrollPosition(),e.innerCtScrollPos);i&&i.tooNarrow&&(t=e.childItems[e.childItems.length-1].props,n.scrollSize=t[o.x]+t[o.width],n.updateScrollButtons(),r.innerCt[o.setScrollLeft](a)),n.callParent([e])},handleOverflow:function(e){var t,n,i,r,o=this.layout.names,a=o.getWidth,s=o.parallelMargins;return this.showScrollers(),i=this.getBeforeScroller(),r=this.getAfterScroller(),t=i[a]()+r[a]()+i.getMargin(s)+r.getMargin(s),n=e.targetContext.getPaddingInfo()[o.width],{reservedSpace:Math.max(t-n,0)}},getBeforeScroller:function(){return this._beforeScroller||(this._beforeScroller=this.createScroller(this.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){return this._afterScroller||(this._afterScroller=this.createScroller(this.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(e,t,n){var i,r=this,o=r.layout.owner,a=r.scrollerCls;return(i=o.el.getById(o.id+e)).addClsOnOver(a+"-hover"),i.addClsOnClick(a+"-pressed"),i.setVisibilityMode(Ext.Element.DISPLAY),r[t]=new Ext.util.ClickRepeater(i,{interval:r.scrollRepeatInterval,handler:n,scope:r}),i},createWheelListener:function(){this.wheelListener=this.layout.innerCt.on("mousewheel",this.onMouseWheel,this,{destroyable:!0})},onMouseWheel:function(e){e.stopEvent(),this.scrollBy(this.getWheelDelta(e)*this.wheelIncrement*-1,!1)},getWheelDelta:function(e){return e.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var e=this;e.wheelListener||e.createWheelListener(),e.getBeforeScroller().show(),e.getAfterScroller().show(),e.layout.owner.addClsWithUI("vertical"===e.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var e=this.getBeforeScroller(),t=this.getAfterScroller();e&&(e.hide(),t.hide(),this.layout.owner.removeClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener"),this.callParent()},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e,t=this,n=t.getBeforeScroller(),i=t.getAfterScroller();n&&i&&(e=t.scrollerCls+"-disabled",n[t.atExtremeBefore()?"addCls":"removeCls"](e),i[t.atExtremeAfter()?"addCls":"removeCls"](e),t.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var e=this.layout;return isNaN(this.scrollPosition)?e.innerCt[e.names.getScrollLeft]():this.scrollPosition},getMaxScrollPosition:function(){var e=this.layout,t=this.scrollSize-e.innerCt.lastBox[e.names.width];return t<0?0:t},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var e=this.getBeforeScroller(),t=this.getAfterScroller(),n=this.layout.names,i=this.scrollerCls;e.removeCls(i+"-"+n.beforeY),t.removeCls(i+"-"+n.afterY),e.addCls(i+"-"+n.beforeX),t.addCls(i+"-"+n.afterX),this.callParent()},scrollTo:function(e,t){var n=this,i=n.layout,r=i.names,o=n.getScrollPosition(),a=Ext.Number.constrain(e,0,n.getMaxScrollPosition());a===o||n.scrolling||(n.scrollPosition=NaN,void 0===t&&(t=n.animateScroll),i.innerCt[r.scrollTo](r.beforeScrollX,a,!!t&&n.getScrollAnim()),t?n.scrolling=!0:n.updateScrollButtons(),n.fireEvent("scroll",n,a,!!t&&n.getScrollAnim()))},scrollToItem:function(e,t){var n,i,r,o=this,a=o.layout,s=a.owner,l=a.names,d=a.innerCt;void 0!==(e=o.getItem(e))&&(e===s.items.first()?r=0:e===s.items.last()?r=o.getMaxScrollPosition():(n=o.getItemVisibility(e)).fullyVisible||(r=(i=e.getBox(!1,!0))[l.x],n.hiddenEnd&&(r-=d[l.getWidth]()-i[l.width])),void 0!==r&&o.scrollTo(r,t))},getItemVisibility:function(e){var t=this.getItem(e).getBox(!0,!0),n=this.layout,i=n.names,r=t[i.x],o=r+t[i.width],a=this.getScrollPosition(),s=a+n.innerCt[i.getWidth]();return{hiddenStart:r<a,hiddenEnd:o>s,fullyVisible:r>=a&&o<=s}}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!1,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",currentPoint:new Ext.util.Point,_execOnAll:function(e,t){var n,i,r,o,a=this.ids;for(n in a)if(a.hasOwnProperty(n))for(i in o=a[n])if(o.hasOwnProperty(i)){if(r=o[i],!this.isTypeOfDD(r))continue;r[e].apply(r,t)}},addListeners:function(){this.init(),Ext.getWin().on({unload:this._onUnload,resize:this._onResize,scope:this})},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});var n=this.ids[t];n&&n[e.id]&&delete n[e.id]},_remove:function(e,t){var n,i=this,r=i.ids,o=e.groups;if(!i.clearingAll){for(n in i.dragCurrent===e&&(i.dragCurrent=null),o)o.hasOwnProperty(n)&&(t?delete r[n]:r[n]&&delete r[n][e.id]);delete i.handleIds[e.id],delete i.locationCache[e.id]}},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return!!this.getDDById(e)},getRelated:function(e,t){var n,i,r,o=[];for(n in e.groups)for(i in this.ids[n])r=this.ids[n][i],this.isTypeOfDD(r)&&(t&&!r.isTarget||(o[o.length]=r));return o},isLegalTarget:function(e,t){var n,i,r=this.getRelated(e,!0);for(n=0,i=r.length;n<i;++n)if(r[n].id===t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e,t){var n,i;for(n in this.ids)if((i=this.ids[n][e])instanceof Ext.dd.DDTarget||t)return i;return null},handleMouseDown:function(e,t){var n=this,i=e.getXY(),r=t.getEl(),o={translate:!1,fn:n.handleMouseUp,capture:!1,priority:-1e3},a={translate:!1,fn:n.handleMouseMove,capture:!1},s={capture:!0,destroyable:!0,scope:n},l=Ext.supports;s.touchstart=n.handleMouseUp,l.PointerEvents?(s.pointerup=o,s.pointermove=a):l.MSPointerEvents?(s.mouseup=o,s.mousemove=a):"mouse"===e.pointerType?(s.mouseup=o,s.mousemove=a):(s.touchend=o,s.touchmove=a),n.pointerMoveListeners=Ext.getDoc().on(s),n.isMouseDown=!0,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),n.currentPoint.setPosition(i),n.dragCurrent&&n.handleMouseUp(e),n.mousedownEvent=e,n.currentTarget=e.getTarget(),n.dragCurrent=t,Ext.fly(r).setCapture(),n.startX=i[0],n.startY=i[1],n.offsetX=n.offsetY=0,n.deltaX=n.startX-r.offsetLeft,n.deltaY=n.startY-r.offsetTop,n.dragThreshMet=!1},startDrag:function(e,t){var n,i=this,r=i.dragCurrent;clearTimeout(i.clickTimeout),r&&(r.b4StartDrag(e,t),r.startDrag(e,t),(n=Ext.fly(r.getDragEl()))&&(n.addCls(i.dragCls),n.shim&&n.shim.el&&n.shim.el.addCls(i.dragCls))),i.dragThreshMet=!0},handleMouseUp:function(e){var t=this;t.pointerMoveListeners.destroy(),t.isMouseDown=!1,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),t.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(t.clickTimeout),t.dragThreshMet&&t.fireEvents(e,!0),t.stopDrag(e),t.dragThreshMet&&t.stopEvent(e),t.mousedownEvent=t.currentTarget=null)},stopEvent:function(e){this.stopPropagation&&e.stopPropagation(),this.preventDefault&&"touch"===e.pointerType&&e.preventDefault()},stopDrag:function(e){var t,n=this,i=n.dragCurrent;i&&(n.dragThreshMet&&((t=Ext.fly(i.getDragEl()))&&(t.removeCls(n.dragCls),t.shim&&t.shim.el&&t.shim.el.removeCls(n.dragCls)),i.b4EndDrag(e),i.endDrag(e)),n.dragCurrent.onMouseUp(e)),n.dragCurrent=null,n.dragOvers={}},handleMouseMove:function(e){var t,n,i=this,r=i.dragCurrent,o=e.getXY(),a=o[0],s=o[1];return i.offsetX=a-i.startX,i.offsetY=s-i.startY,i.currentPoint.setPosition(o),!r||(i.dragThreshMet||(t=Math.abs(i.offsetX),n=Math.abs(i.offsetY),(t>i.clickPixelThresh||n>i.clickPixelThresh)&&(e.claimGesture(),i.startDrag(i.startX,i.startY))),i.dragThreshMet&&(r.b4Drag(e),r.onDrag(e),r.moveOnly||i.fireEvents(e,!1)),i.stopEvent(e),!0)},fireEvents:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=Ext.supports.Touch,h=c.dragCurrent,f=c.currentPoint,g=[],p=[],m=[],x=[],E=[],v=[];if(h&&!h.isLocked()){for(a in d=!(h.deltaX<0||h.deltaY<0),(u||!c.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&d)&&(n=h.getDragEl(),d&&(n.style.visibility="hidden"),e=e.chain({target:c.elementFromPoint(e.clientX,e.clientY)||document.documentElement}),d&&(n.style.visibility="visible")),c.dragOvers)i=c.dragOvers[a],delete c.dragOvers[a],c.isTypeOfDD(i)&&!i.destroyed&&(t?m.push(i):c.notifyOccluded?this.isOverTarget(f,i,c.mode)||m.push(i):e.within(i.getEl())||m.push(i),p[a]=!0);for(l in h.groups)if("string"==typeof l)for(a in c.ids[l])if(i=c.ids[l][a],c.isTypeOfDD(i)&&(r=i.getEl())&&i.isTarget&&!i.isLocked()&&Ext.fly(r).isVisible(!0)&&(i!==h||!1===h.ignoreSelf))if(c.notifyOccluded)-1!==(i.zIndex=c.getZIndex(r))&&(o=!0),g.push(i);else if(e.within(i.getEl())){g.push(i);break}for(o&&Ext.Array.sort(g,c.byZIndex),a=0,s=g.length;a<s&&(i=g[a],!c.isOverTarget(f,i,c.mode)||(t?E.push(i):(p[i.id]?x.push(i):v.push(i),c.dragOvers[i.id]=i),c.notifyOccluded));a++);if(c.mode)v.length&&h.onDragEnter(e,v),x.length&&(h.b4DragOver(e,x),h.onDragOver(e,x)),E.length&&(h.b4DragDrop(e,E),h.onDragDrop(e,E)),m.length&&(h.b4DragOut(e,m),h.onDragOut(e,m));else{for(a=0,s=v.length;a<s;++a)h.onDragEnter(e,v[a].id);for(a=0,s=x.length;a<s;++a)h.b4DragOver(e,x[a].id),h.onDragOver(e,x[a].id);for(a=0,s=E.length;a<s;++a)h.b4DragDrop(e,E[a].id),h.onDragDrop(e,E[a].id);for(a=0,s=m.length;a<s;++a)h.b4DragOut(e,m[a].id),h.onDragOut(e,m[a].id)}t&&!E.length&&h.onInvalidDrop(e)}},elementFromPoint:function(e,t){return Ext.rootInheritedState.rtl&&(e=Ext.Element.getViewportWidth()-e),Ext.Element.fromPoint(e,t,!0)},getZIndex:function(e){var t,n=document.body,i=-1;for(e=Ext.getDom(e);e!==n;)isNaN(t=Number(Ext.fly(e).getStyle("zIndex")))||(i=t),e=e.parentNode;return i},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t,n,i=null,r=e.length;if(1===r)i=e[0];else for(t=0;t<r;++t){if((n=e[t]).cursorIsOver){i=n;break}(!i||i.overlap.getArea()<n.overlap.getArea())&&(i=n)}return i},refreshCache:function(e){var t,n,i,r;for(t in e)if("string"==typeof t)for(n in this.ids[t])i=this.ids[t][n],this.isTypeOfDD(i)&&((r=this.getLocation(i))?this.locationCache[i.id]=r:delete this.locationCache[i.id])},verifyEl:function(e){return Ext.getBody().contains(e)},getLocation:function(e){if(!this.isTypeOfDD(e))return null;if(e.getRegion)return e.getRegion();var t,n,i,r,o,a,s,l,d,c=e.getEl();try{t=Ext.fly(c).getXY()}catch(e){}return t?(i=(n=t[0])+c.offsetWidth,o=(r=t[1])+c.offsetHeight,a=r-e.padding[0],s=i+e.padding[1],l=o+e.padding[2],d=n-e.padding[3],new Ext.util.Region(a,s,l,d)):null},isOverTarget:function(e,t,n){var i,r,o,a,s=this.locationCache[t.id];return s&&this.useCache||(s=this.getLocation(t),this.locationCache[t.id]=s),!!s&&(t.cursorIsOver=s.contains(e),(i=this.dragCurrent)&&i.getTargetCoord&&(n||i.constrainX||i.constrainY)?(t.overlap=null,r=i.getTargetCoord(e.x,e.y),o=i.getDragEl(),!!(a=new Ext.util.Region(r.y,r.x+o.offsetWidth,r.y+o.offsetHeight,r.x).intersect(s))&&(t.overlap=a,!!n||t.cursorIsOver)):t.cursorIsOver)},_onUnload:function(e,t){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var e,t=this,n=t.elementCache;for(e in t.dragCurrent&&(t.stopDrag(),t.dragCurrent=null),t.clearingAll=!0,t._execOnAll("unreg",[]),delete t.clearingAll,n)delete n[e];t.elementCache={},t.ids={},t.handleIds={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];return t&&t.el||(t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))),t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){var t=Ext.getDom(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return Ext.fly(e).getX()},getPosY:function(e){return Ext.fly(e).getY()},swapNode:function(e,t){if(e.swapNode)e.swapNode(t);else{var n=t.parentNode,i=t.nextSibling;i===e?n.insertBefore(e,t):t===e.nextSibling?n.insertBefore(t,e):(e.parentNode.replaceChild(t,e),n.insertBefore(e,i))}},getScroll:function(){var e=window.document,t=e.documentElement,n=e.body,i=0,r=0;return t&&(t.scrollTop||t.scrollLeft)?(i=t.scrollTop,r=t.scrollLeft):n&&(i=n.scrollTop,r=n.scrollLeft),{top:i,left:r}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var n=Ext.fly(t).getXY();Ext.fly(e).setXY(n)},numericSort:function(e,t){return e-t},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;for(var n=e.parentNode;n;){if(this.isHandle(t,n.id))return!0;n=n.parentNode}return!1}},function(e){Ext.onInternalReady(function(){e.addListeners()})}),Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],xtype:"splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">',"</div>","</tpl>"],isSplitter:!0,baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,touchAction:void 0,size:5,tracker:null,ariaRole:"separator",focusable:!0,tabIndex:0,applyTouchAction:function(e,t){return void 0===e&&(e=this.vertical?{panX:!1}:{panY:!1}),this.callParent([e,t])},getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var e=this,t=e.getCollapseTarget(),n=e.collapsible;e.callParent(),t.collapsed&&e.addCls(e.collapsedClsInternal),e.canResize||e.addCls(e.baseCls+"-noresize"),Ext.applyIf(e.renderData,{collapseDir:e.getCollapseDirection(),collapsible:null!==n?n:t.collapsible}),e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-orientation"]=e.orientation,e.protoEl.unselectable()},onRender:function(){var e,t,n=this;n.callParent(arguments),!1!==n.performCollapse&&(n.renderData.collapsible&&n.mon(n.collapseEl,"click",n.toggleTargetCmp,n),n.collapseOnDblClick&&n.mon(n.el,"dblclick",n.toggleTargetCmp,n)),(e=n.getCollapseTarget())&&e.isPanel&&e.on({collapse:n.onTargetCollapse,expand:n.onTargetExpand,beforeexpand:n.onBeforeTargetExpand,beforecollapse:n.onBeforeTargetCollapse,scope:n}),n.canResize&&(n.tracker=Ext.create(n.getTrackerConfig()),n.relayEvents(n.tracker,["beforedragstart","dragstart","dragend"])),(t=n.collapseEl)&&(t.lastCollapseDirCls=n.collapseDirProps[n.collapseDirection].cls)},getCollapseDirection:function(){var e,t,n,i,r=this,o=r.collapseDirection;return o||((e=r.collapseTarget).isComponent&&(o=e.collapseDirection),o||(i=r.ownerCt.layout.type,e.isComponent?(n=r.ownerCt.items,t=Number(n.indexOf(e)===n.indexOf(r)-1)<<1|Number("hbox"===i)):t=Number("prev"===r.collapseTarget)<<1|Number("hbox"===i),o=["bottom","right","top","left"][t]),r.collapseDirection=o),r.setOrientation("top"===o||"bottom"===o?"horizontal":"vertical"),o},getCollapseTarget:function(){var e=this;return e.collapseTarget.isComponent?e.collapseTarget:"prev"===e.collapseTarget?e.previousSibling():e.nextSibling()},setCollapseEl:function(e){var t=this.collapseEl;t&&t.setDisplayed(e)},onBeforeTargetExpand:function(e){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(e){var t=this;e===t.getCollapseTarget()&&e["vertical"===t.orientation?"collapsedHorizontal":"collapsedVertical"]()&&t.el.addCls(t.collapsedClsInternal+" "+(t.collapsedCls||"")),t.setCollapseEl("")},onTargetExpand:function(e){this.el.removeCls(this.collapsedClsInternal+" "+(this.collapsedCls||"")),this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var e,t=this.collapseEl,n=this.collapseDirProps[this.collapseDirection];t&&((e=t.lastCollapseDirCls)&&t.removeCls(e),t.addCls(t.lastCollapseDirCls=n.cls))},applyOrientation:function(){var e=this,t=e.orientation,n=e.orientationProps[t],i=e.size,r=n.fixedAxis,o=n.stretchedAxis,a=e.baseCls+"-";e[t]=!0,e[n.opposite]=!1,e.hasOwnProperty(r)&&"100%"!==e[r]||(e[r]=i),e.hasOwnProperty(o)&&e[o]!==i||(e[o]="100%"),e.removeCls(a+n.opposite),e.addCls(a+t)},setOrientation:function(e){this.orientation!==e&&(this.orientation=e,this.applyOrientation())},updateOrientation:function(){delete this.collapseDirection,this.getCollapseDirection(),this.applyCollapseDirection()},toggleTargetCmp:function(e,t){var n=this.getCollapseTarget(),i=n.placeholder;Ext.isFunction(n.expand)&&Ext.isFunction(n.collapse)&&(!(!i||i.hidden)||!n.hidden)&&(n.collapsed||n.floatedFromCollapse?n.expand():n.collapseDirection?n.collapse():n.collapse(this.renderData.collapseDir))},setSize:function(){this.callParent(arguments),Ext.isIE&&this.el&&this.el.repaint()},doDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.layout.container.Box",{extend:"Ext.layout.container.Container",alias:"layout.box",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager","Ext.resizer.Splitter"],type:"box",config:{align:"begin",constrainAlign:!1,enableSplitters:!0,overflowHandler:{$value:null,merge:function(e,t){return"string"==typeof e&&(e={type:e}),Ext.merge(t?Ext.Object.chain(t):{},e)}},padding:0,pack:"start",stretchMaxPartner:void 0,vertical:!1,alignRoundingMethod:"round"},itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var t,n=this;n.callParent([e]),n.setVertical(n.vertical),n.flexSortFn=n.flexSort.bind(n),"string"!==(t=typeof n.padding)&&"number"!==t||(n.padding=Ext.util.Format.parseBox(n.padding),n.padding.height=n.padding.top+n.padding.bottom,n.padding.width=n.padding.left+n.padding.right)},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var n=this,i=n.sizePolicy,r=n.align,o=e.flex,a=r,s=n.names,l=s.height,d=s.width,c=e[d],u=e[l],h=n._percentageRe,f=h.test(c),g="stretch"===r,p="stretchmax"===r,m=n.constrainAlign;return!t&&(g||o||f||m&&!p)&&(t=n.owner.getSizeModel()),g?!h.test(u)&&t[l].shrinkWrap&&(a="stretchmax"):p||(a=h.test(u)?"stretch":m&&!t[l].shrinkWrap?"stretchmax":""),(o||f)&&(t[d].shrinkWrap||(i=i.flex)),i[a]},flexSort:function(e,t){var n,i,r,o,a,s,l=this.names.maxWidth,d=this.names.minWidth,c=e.target,u=t.target,h=c.flex,f=u.flex,g=0;return r=c[l]||1/0,o=u[l]||1/0,n=c[d]||0,i=u[d]||0,a=isFinite(n)||isFinite(i),s=isFinite(r)||isFinite(o),(a||s)&&(s&&(g=r-o),0===g&&a&&(g=i-n),0===g&&(g=s?f-h:h-f)),g},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},roundFlex:function(e){return Math.floor(e)},beginCollapse:function(e){"vertical"===this.direction&&e.collapsedVertical()?(e.collapseMemento.capture(["flex"]),delete e.flex):"horizontal"===this.direction&&e.collapsedHorizontal()&&(e.collapseMemento.capture(["flex"]),delete e.flex)},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this,n=t.owner,i=n.stretchMaxPartner,r=t.innerCt.dom.style,o=t.names,a=t.overflowHandler;e.boxNames=o,a&&a.beginLayout(e),"string"==typeof i&&(i=Ext.getCmp(i)||n.query(i)[0]),e.stretchMaxPartner=i&&e.context.getCmp(i),t.callParent([e]),e.innerCtContext=e.getEl("innerCt",t),e.targetElContext=e.getEl("targetEl",t),e.ownerScrollable=n.getScrollable(),r.width=r.height=""},beginLayoutCycle:function(e,t){var n,i,r=this,o=e.state,a=e.ownerScrollable,s=r.align,l=e.boxNames,d=r.pack,c=r._centerRe,u=r.overflowHandler,h=e.state.canScroll;u&&u.beginLayoutCycle(e,t),r.callParent([e,t]),e.parallelSizeModel=n=e[l.widthModel],e.perpendicularSizeModel=i=e[l.heightModel],e.boxOptions={align:s={stretch:"stretch"===s,stretchmax:"stretchmax"===s,center:c.test(s),bottom:r._endRe.test(s)},pack:d={center:c.test(d),end:"end"===d}},a&&(h||(o.canScroll={parallel:!n.shrinkWrap&&a[l.getX](),perpendicular:!i.shrinkWrap&&a[l.getY]()}),o.actualScroll||(o.actualScroll={parallel:!1,perpendicular:!1})),s.stretch&&i.shrinkWrap&&(s.stretchmax=!0,s.stretch=!1),s.nostretch=!(s.stretch||s.stretchmax),n.shrinkWrap&&(d.center=d.end=!1),r.cacheFlexes(e),r.targetEl.setWidth(2e4)},cacheFlexes:function(e){for(var t,n,i,r,o,a,s,l=e.boxNames,d=l.widthModel,c=l.heightModel,u=e.boxOptions.align.nostretch,h=0,f=e.childItems,g=f.length,p=[],m=0,x=0,E=0,v=l.minWidth,y=l.minHeight,b=this._percentageRe,C=0,S=0;g--;)t=(n=f[g]).target,(a=n[d]).calculated&&(n.flex=i=t.flex,i?(h+=i,p.push(n),m+=t[v]||0):(r=b.exec(t[l.width]))&&(n.percentageParallel=parseFloat(r[1])/100,++C)),E+=a.configured?t[l.width]:t[v]||0,o=n[c],u&&o.calculated&&(r=b.exec(t[l.height]),n.percentagePerpendicular=parseFloat(r[1])/100,++S),(s=o.configured?t[l.height]:t[y]||0)>x&&(x=s);e.flexedItems=p,e.flexedMinWidth=m,e.smallestWidth=E,e.smallestHeight=x,e.totalFlex=h,e.percentageWidths=C,e.percentageHeights=S,Ext.Array.sort(p,this.flexSortFn)},calculate:function(e){var t=this,n=e.boxNames,i=e.state,r=i.actualScroll,o=i.needsScroll,a=i.canScroll,s=i.boxPlan||(i.boxPlan={}),l=t.overflowHandler;if(s.targetSize=t.getContainerSize(e),a&&!o&&(i.needsScroll=o={parallel:a.parallel&&s.targetSize[n.width]<e.smallestWidth,perpendicular:a.perpendicular&&s.targetSize[n.height]<e.smallestHeight}),i.parallelDone||(i.parallelDone=t.calculateParallel(e,n,s)),i.perpendicularDone||(i.perpendicularDone=t.calculatePerpendicular(e,n,s)),i.parallelDone&&i.perpendicularDone){if(a&&!i.scrollPass&&(o.parallel!==r.parallel||o.perpendicular!==r.perpendicular))return e.invalidate({state:{scrollPass:!0,canScroll:a,needsScroll:r}}),void(t.done=!1);t.publishInnerCtSize(e),t.done&&e.boxOptions.align.stretchmax&&!i.stretchMaxDone&&(t.calculateStretchMax(e,n,s),i.stretchMaxDone=!0),l&&l.calculate(e)}else t.done=!1},calculateParallel:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=e.parallelSizeModel.shrinkWrap,p=t.width,m=e.childItems,x=t.beforeX,E=t.afterX,v=t.setWidth,y=m.length,b=e.flexedItems,C=b.length,S=e.boxOptions.pack,w=this.padding,T=n.targetSize,P=T[p],k=e.state,I=k.needsScroll,M=k.canScroll,R=0,A=w[x],D=A+w[E],F=Ext.getScrollbarSize(),L=F[t.width],O=F[t.height];if(!g&&!T[t.gotWidth])return!1;for(i=0;i<y;++i)if(R+=(r=(s=m[i]).marginInfo||s.getMarginInfo())[p],!s[t.widthModel].calculated&&(D+=u=s.getProp(p),isNaN(D)))return!1;if(D+=R,e.percentageWidths){if(h=P-R,isNaN(h))return!1;for(i=0;i<y;++i)(s=m[i]).percentageParallel&&(u=Math.ceil(h*s.percentageParallel),D+=u=s[v](u))}for(g?(f=0,n.tooNarrow=!1):(f=P-D,I&&I.perpendicular&&(f-=O),n.tooNarrow=f<e.flexedMinWidth,n.tooNarrow&&M&&M.parallel&&(k.actualScroll.parallel=!0)),c=D,o=f,a=e.totalFlex,i=0;i<C;i++)l=(s=b[i]).flex,d=this.roundFlex(l/a*o),c+=d=s[v](d),o=Math.max(0,o-d),a-=l;for(S.center?(A+=o/2)<0&&(A=0):S.end&&(A+=o),i=0;i<y;++i)A+=(r=(s=m[i]).marginInfo)[x],s.setProp(t.x,A),A+=r[E]+s.props[p];return c+=e.targetContext.getPaddingInfo()[p],e.state.contentWidth=c,I&&I.perpendicular&&(g&&(c+=L),e[t.hasOverflowY]=!0,e.target.componentLayout[t.setWidthInDom]=!0,e[t.invalidateScrollY]=Ext.isIE8),e[t.setContentWidth](c),!0},calculatePerpendicular:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=this,p=e.state,m=p.needsScroll,x=p.canScroll,E=e.perpendicularSizeModel.shrinkWrap,v=n.targetSize,y=e.childItems,b=y.length,C=Math.max,S=t.height,w=t.setHeight,T=t.beforeY,P=t.y,k=g.padding,I=k[T],M=v[S]-I-k[t.afterY],R=e.boxOptions.align,A=R.stretch,D=R.stretchmax,F=R.center,L=R.bottom,O=g.constrainAlign,B=0,N=0,H=g.onBeforeConstrainInvalidateChild,V=g.onAfterConstrainInvalidateChild,z=Ext.getScrollbarSize().height;if(!E&&!v[t.gotHeight])return!1;if((A||(F||L)&&!E)&&isNaN(M))return!1;if(m&&m.parallel&&(E?h=!0:(M-=z,n.targetSize[S]-=z)),A)B=C(l=M,e.smallestHeight);else for(r=0;r<b;r++){if(a=((d=y[r]).marginInfo||d.getMarginInfo())[S],f=d.percentagePerpendicular){if(++N,E)continue;o=f*M-a,o=d[w](o)}else o=d.getProp(S);if(!E&&O&&d[t.heightModel].shrinkWrap&&o>M&&(d.invalidate({before:H,after:V,layout:g,childHeight:M,names:t}),e.state.parallelDone=!1),isNaN(B=C(B,o+a,d.target[t.minHeight]||0)))return!1}if(h&&(B+=z,e[t.hasOverflowX]=!0,e.target.componentLayout[t.setHeightInDom]=!0,e[t.invalidateScrollX]=Ext.isIE8),(c=e.stretchMaxPartner)&&(e.setProp("maxChildHeight",B),(u=c.childItems)&&u.length&&(B=C(B,c.getProp("maxChildHeight")),isNaN(B))))return!1;for(e[t.setContentHeight](B+g.padding[S]+e.targetContext.getPaddingInfo()[S]),h&&(B-=z),B>v[S]&&x&&x.perpendicular&&(p.actualScroll.perpendicular=!0),n.maxSize=B,D?l=B:(F||L||N)&&(l=O?E?B:M:E?B:C(M,B),l-=e.innerCtContext.getBorderInfo()[S]),r=0;r<b;r++)i=I+(a=(d=y[r]).marginInfo||d.getMarginInfo())[T],A?d[w](l-a[S]):(f=d.percentagePerpendicular,E&&f&&(o=f*l-(a=d.marginInfo||d.getMarginInfo())[S],o=d[w](o)),F?(s=l-d.props[S])>0&&(i=I+Math[g.alignRoundingMethod](s/2)):L&&(i=C(0,l-i-d.props[S]))),d.setProp(P,i);return!0},onBeforeConstrainInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMin||(e[n]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(e,t){var n=t.names;e.setProp(n.beforeY,0),e[n.heightModel].calculated&&e[n.setHeight](t.childHeight)},calculateStretchMax:function(e,t,n){var i,r,o,a,s=t.height,l=t.width,d=e.childItems,c=d.length,u=n.maxSize,h=this.onBeforeStretchMaxInvalidateChild,f=this.onAfterStretchMaxInvalidateChild;for(o=0;o<c;++o)r=(i=d[o]).props,((a=u-i.getMarginInfo()[s])!==r[s]||i[t.heightModel].constrained)&&i.invalidate({before:h,after:f,layout:this,childWidth:r[l],childHeight:a,childX:r.x,childY:r.y,names:t})},onBeforeStretchMaxInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMax||(e[n]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(e,t){var n=t.names,i=t.childHeight,r=t.childWidth;e.setProp("x",t.childX),e.setProp("y",t.childY),e[n.heightModel].calculated&&e[n.setHeight](i),e[n.widthModel].calculated&&e[n.setWidth](r)},completeLayout:function(e){var t,n,i,r,o,a=e.invalidateScrollX,s=e.invalidateScrollY,l=this.overflowHandler;l&&l.completeLayout(e),(a||s)&&(o=(t=(n=this.getTarget()).dom).style,a&&("auto"===(i=n.getStyle("overflowX"))?(i=o.overflowX,o.overflowX="scroll"):a=!1),s&&("auto"===(r=n.getStyle("overflowY"))?(r=o.overflowY,o.overflowY="scroll"):s=!1),(a||s)&&(t.scrollWidth,a&&(o.overflowX=i),s&&(o.overflowY=r)))},finishedLayout:function(e){var t=this.overflowHandler;t&&t.finishedLayout(e),this.callParent([e])},getLayoutItems:function(){var e,t,n,i,r,o,a,s=this.callParent(),l=s.length;for(n=0;n<l;++n)(i=s[n]).isSplitter||(a=i.splitter,i.hidden?a&&(a.hidden||(a.hidden=!0,a.el&&a.el.hide())):(o=!!a&&"next"===a.collapseTarget,t=null,e&&r?(r.hidden&&(r.hidden=!1,r.el&&r.el.show()),o&&(t=!0)):o&&(t=!e),null!==t&&a.hidden!==t&&(a.hidden=t,a.el&&a.el.setVisible(!t)),r=!o&&a,e=i));return e&&r&&!r.hidden&&(r.hidden=!0,r.el&&r.el.hide()),s},insertSplitter:function(e,t,n,i){var r={xtype:"splitter",id:e.id+"-splitter",hidden:n,splitterFor:e,synthetic:!0},o=t+("prev"===i.collapseTarget?1:0);r[this.names.height]="100%",i&&Ext.apply(r,i),e.splitter=this.owner.add(o,r)},publishInnerCtSize:function(e,t){t=t||0;var n,i,r=e.state,o=e.boxNames,a=o.height,s=o.width,l=e.boxOptions.align,d=this.padding,c=r.boxPlan,u=c.targetSize,h=c.maxSize,f=r.needsScroll,g=e.innerCtContext;e.parallelSizeModel.shrinkWrap||c.tooNarrow&&r.canScroll?n=r.contentWidth-e.targetContext.getPaddingInfo()[s]:(n=u[s],f&&f.perpendicular&&(n-=Ext.getScrollbarSize()[s])),n-=t,this.owner.tooNarrow=c.tooNarrow,l.stretch?i=h:(i=c.maxSize+d[o.beforeY]+d[o.afterY]+g.getBorderInfo()[a],e.perpendicularSizeModel.shrinkWrap||!l.center&&!l.bottom||(i=Math.max(u[a],i))),g[o.setWidth](n),g[o.setHeight](i),e.targetElContext.setWidth(e.innerCtContext.props.width-(this.vertical?0:t||0)),isNaN(n+i)&&(this.done=!1)},onAdd:function(e,t){var n=this.enableSplitters&&!e.isButton&&e.split;this.callParent([e,t]),n&&(n=!0===n?{collapseTarget:"next"}:Ext.isString(n)?{collapseTarget:"before"===n?"next":"prev"}:Ext.apply({collapseTarget:"before"===n.side?"next":"prev"},n),this.insertSplitter(e,t,!!e.hidden,n))},onRemove:function(e,t){var n,i=this,r=i.names,o=i.owner,a=e.splitter,s=i.overflowHandler;i.callParent([e,t]),a&&o.contains(a)&&(o.doRemove(a,!0),e.splitter=null),s&&s.onRemove(e),e.layoutMarginCap===i.id&&delete e.layoutMarginCap,o.destroying||t||!e.rendered||(n=e.getEl())&&(n.setStyle(r.beforeY,""),n.setStyle(r.beforeX,""),n.setStyle("margin",""))},applyOverflowHandler:function(e,t){return"string"==typeof e&&(e={type:e}),e.type,t&&t.type===e.type?(delete e.type,t.setConfig(e),t):(e.layout=this,Ext.Factory.boxOverflow(e))},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){var e=this;Ext.destroy(e.innerCt,e.overflowHandler),e.flexSortFn=e.innerCt=null,e.callParent()},getRenderData:function(){var e=this.callParent();return e.targetElCls=this.targetElCls,e},updateVertical:function(e){var t=this.overflowHandler,n=this.owner,i=this._props;Ext.apply(this,e?i.vbox:i.hbox),t&&n&&n.rendered&&t.setVertical(e)},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:!0,vertical:!1,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:!1,vertical:!0,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}}),Ext.define("Ext.layout.container.HBox",{extend:"Ext.layout.container.Box",alias:"layout.hbox",alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:!1}),Ext.define("Ext.layout.container.VBox",{extend:"Ext.layout.container.Box",alias:"layout.vbox",alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:!0}),Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Fill","Ext.toolbar.Separator","Ext.toolbar.Spacer"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",mixins:["Ext.util.FocusableContainer"],isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:void 0,vertical:void 0,enableOverflow:!1,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this,t=e.layout,n=e.vertical;void 0===n&&(e.vertical=n="right"===e.dock||"left"===e.dock),e.layout=t=Ext.applyIf(Ext.isString(t)?{type:t}:t||{},{type:n?"vbox":"hbox",align:n?"stretchmax":"middle"}),e.overflowHandler?t.overflowHandler=e.overflowHandler:e.enableOverflow&&(t.overflowHandler="menu"),n&&e.addClsWithUI("vertical"),"footer"===e.ui&&(e.ignoreBorderManagement=!0),e.callParent()},getRefItems:function(e){var t,n=this.callParent(arguments),i=this.layout;return e&&(this.enableOverflow||"menu"===this.overflowHandler)&&(t=i.overflowHandler)&&t.menu&&(n=n.concat(t.menu.getRefItems(e))),n},lookupComponent:function(e){var t,n,i=arguments;return"string"==typeof e&&"@"!==e[0]&&(e="string"==typeof(t=(n=Ext.toolbar.Toolbar).shortcutsHV[this.vertical?1:0][e]||n.shortcuts[e])?{xtype:t}:t?Ext.apply({},t):{xtype:"tbtext",text:e},this.applyDefaults(e),i=[e]),this.callParent(i)},onBeforeAdd:function(e){var t=this,n="footer"===t.ui,i=n?t.defaultFooterButtonUI:t.defaultButtonUI;e.isSegmentedButton?"default"!==e.getDefaultUI()||e.config.hasOwnProperty("defaultUI")||e.setDefaultUI(i):"default"!==e.ui||e.hasOwnProperty("ui")||(e.isButton?e.ui=i:e.isFormField&&(e.ui=n?t.defaultFooterFieldUI:t.defaultFieldUI)),e instanceof Ext.toolbar.Separator&&e.setUI(t.vertical?"vertical":"horizontal"),t.callParent(arguments)},onAdd:function(e){var t=this;e.needArrowKeys&&t.enableFocusableContainer&&(t.enableFocusableContainer=!1,t.ariaRole="group"),t.callParent(arguments),t.trackMenu(e)},onRemove:function(e){this.callParent(arguments),this.trackMenu(e,!0)},privates:{applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},trackMenu:function(e,t){var n=this;n.trackMenus&&e.menu&&e[t?"un":"on"]({mouseover:n.onButtonOver,menushow:n.onButtonMenuShow,menuhide:n.onButtonMenuHide,scope:n})},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e,t){var n=this.activeMenuBtn;n&&n!==e&&(n.hideMenu(),e.focus(),e.showMenu(t),this.activeMenuBtn=e)},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(e){this.activeMenuBtn=null}}}),Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(e,t,n){e&&this.init(e,t,n)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,triggerEvent:"mousedown",b4StartDrag:function(e,t){},startDrag:function(e,t){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,t){},b4DragOver:function(e){},onDragOver:function(e,t){},b4DragOut:function(e){},onDragOut:function(e,t){},b4DragDrop:function(e){},onDragDrop:function(e,t){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t,n){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t}),t=t||this.defaultPadding;var i,r,o,a,s=Ext.get(this.getEl()).getBox(),l=Ext.get(e),d=l.getScroll(),c=l.dom;i=c===document.body?{x:d.left,y:d.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}:{x:(r=l.getXY())[0],y:r[1],width:c.clientWidth,height:c.clientHeight},o=s.y-i.y,a=s.x-i.x,this.resetConstraints(),this.setXConstraint(a-(t.left||0),i.width-a-s.width-(t.right||0),this.xTickSize),this.setYConstraint(o-(t.top||0),i.height-o-s.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,n){var i=this;i.el=i.el||Ext.get(e),i.initTarget(e,t,n),Ext.get(i.id).on(i.triggerEvent,i.handleMouseDown,i),Ext.supports.Touch&&"longpress"===i.triggerEvent&&Ext.get(i.id).swallowEvent("contextmenu",!0)},initTarget:function(e,t,n){this.config=n||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof e&&(e=Ext.id(e)),this.id=e,this.addToGroup(t||"default"),this.handleElId=e,this.setDragElId(e),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=!1!==this.config.isTarget,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,n,i){this.padding=t||0===t?n||0===n?[e,t,n,i]:[e,t,e,t]:[e,e,e,e]},setInitPosition:function(e,t){var n,i,r,o=this.getEl();this.DDMInstance.verifyEl(o)&&(n=e||0,i=t||0,r=Ext.fly(o).getXY(),this.initPageX=r[0]-n,this.initPageY=r[1]-i,this.lastPageX=r[0],this.lastPageY=r[1],this.setStartPosition(r))},setStartPosition:function(e){var t=e||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null,this.startPageX=t[0],this.startPageY=t[1]},addToGroup:function(e){this.groups[e]=!0,this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.handleElId=e,this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),Ext.get(e).on(this.triggerEvent,this.handleMouseDown,this),this.setHandleElId(e),this.hasOuterHandles=!0},unreg:function(){var e,t=this;t._domRef&&(e=Ext.fly(t.id))&&e.un(t.triggerEvent,t.handleMouseDown,t),t._domRef=null,t.DDMInstance._remove(t,t.autoGroup)},destroy:function(){this.unreg(),this.callParent()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,t){var n=this;n.primaryButtonOnly&&e.button||n.isLocked()||(n.DDMInstance.refreshCache(n.groups),(n.hasOuterHandles||n.DDMInstance.isOverTarget(e.getPoint(),n))&&n.clickValidator(e)&&(n.setStartPosition(),n.b4MouseDown(e),n.onMouseDown(e),n.DDMInstance.handleMouseDown(e,n),n.DDMInstance.stopEvent(e)))},clickValidator:function(e){var t=e.getTarget();return this.isValidHandleChild(t)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){var t,n=this.invalidHandleClasses,i=n.length;for(t=0;t<i;++t)n[t]===e&&delete n[t]},isValidHandleChild:function(e){var t,n,i,r=!0;try{t=e.nodeName.toUpperCase()}catch(n){t=e.nodeName}for(r=(r=r&&!this.invalidHandleTypes[t])&&!this.invalidHandleIds[e.id],n=0,i=this.invalidHandleClasses.length;r&&n<i;++n)r=!Ext.fly(e).hasCls(this.invalidHandleClasses[n]);return r},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;var n,i={};for(n=this.initPageX;n>=this.minX;n-=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);for(n=this.initPageX;n<=this.maxX;n+=t)i[n]||(this.xTicks[this.xTicks.length]=n,i[n]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;var n,i={};for(n=this.initPageY;n>=this.minY;n-=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);for(n=this.initPageY;n<=this.maxY;n+=t)i[n]||(this.yTicks[this.yTicks.length]=n,i[n]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,n){this.leftConstraint=e,this.rightConstraint=t,this.minX=this.initPageX-e,this.maxX=this.initPageX+t,n&&this.setXTicks(this.initPageX,n),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,n){this.topConstraint=e,this.bottomConstraint=t,this.minY=this.initPageY-e,this.maxY=this.initPageY+t,n&&this.setYTicks(this.initPageY,n),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(t){if(t[0]>=e)return t[0];var n,i,r,o;for(n=0,i=t.length;n<i;++n)if(t[r=n+1]&&t[r]>=e)return o=e-t[n],t[r]-e>o?t[n]:t[r];return t[t.length-1]}return e},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(e,t,n){e&&this.init(e,t,n)},scroll:!0,autoOffset:function(e,t){var n=e-this.startPageX,i=t-this.startPageY;this.setDelta(n,i)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var n=this.getDragEl();this.alignElWithMouse(n,e,t)},alignElWithMouse:function(e,t,n){var i,r,o,a,s=this.getTargetCoord(t,n),l=e.dom?e:Ext.fly(e,"_dd"),d=l.getSize(),c=Ext.Element;return this.deltaSetXY?(i=this.cachedViewportSize,this.setLocalXY(l,Math.max(0,Math.min(s.x+this.deltaSetXY[0],i.width-d.width)),Math.max(0,Math.min(s.y+this.deltaSetXY[1],i.height-d.height)))):(i=this.cachedViewportSize={width:c.getDocumentWidth(),height:c.getDocumentHeight()},r=[Math.max(0,Math.min(s.x,i.width-d.width)),Math.max(0,Math.min(s.y,i.height-d.height))],l.setXY(r),o=this.getLocalX(l),a=l.getLocalY(),this.deltaSetXY=[o-s.x,a-s.y]),this.cachePosition(s.x,s.y),this.autoScroll(s.x,s.y,e.offsetHeight,e.offsetWidth),s},cachePosition:function(e,t){if(e)this.lastPageX=e,this.lastPageY=t;else{var n=Ext.fly(this.getEl()).getXY();this.lastPageX=n[0],this.lastPageY=n[1]}},autoScroll:function(e,t,n,i){if(this.scroll){var r=Ext.Element.getViewportHeight(),o=Ext.Element.getViewportWidth(),a=this.DDMInstance.getScrollTop(),s=this.DDMInstance.getScrollLeft(),l=n+t,d=i+e,c=r+a-t-this.deltaY,u=o+s-e-this.deltaX,h=document.all?80:30;l>r&&c<40&&window.scrollTo(s,a+h),t<a&&a>0&&t-a<40&&window.scrollTo(s,a-h),d>o&&u<40&&window.scrollTo(s+h,a),e<s&&s>0&&e-s<40&&window.scrollTo(s-h,a)}},getTargetCoord:function(e,t){var n=e-this.deltaX,i=t-this.deltaY;return this.constrainX&&(n<this.minX&&(n=this.minX),n>this.maxX&&(n=this.maxX)),this.constrainY&&(i<this.minY&&(i=this.minY),i>this.maxY&&(i=this.maxY)),{x:n=this.getTick(n,this.xTicks),y:i=this.getTick(i,this.yTicks)}},applyConfig:function(){this.callParent(),this.scroll=!1!==this.config.scroll},b4MouseDown:function(e){var t=e.getXY();this.autoOffset(t[0],t[1])},b4Drag:function(e){var t=e.getXY();this.setDragElPos(t[0],t[1])},toString:function(){return"DD "+this.id},getLocalX:function(e){return e.getLocalX()},setLocalXY:function(e,t,n){e.setLocalXY(t,n)}}),Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(e,t,n){e&&(this.init(e,t,n),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var e,t,n=this,i=document.body;i&&i.firstChild?(e=this.getDragEl())||((e=document.createElement("div")).id=this.dragElId,e.setAttribute("role","presentation"),(t=e.style).position="absolute",t.visibility="hidden",t.cursor="move",t.border="2px solid #aaa",t.zIndex=999,i.insertBefore(e,i.firstChild)):Ext.defer(function(){n.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=!1!==this.config.resizeFrame,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){var n=this,i=n.getDragEl(),r=i.style;n._resizeProxy(),n.centerFrame&&n.setDelta(Math.round(parseInt(r.width,10)/2),Math.round(parseInt(r.height,10)/2)),n.setDragElPos(e,t),Ext.fly(i).show()},_resizeProxy:function(){if(this.resizeFrame){var e=this.getEl();Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight)}},b4MouseDown:function(e){var t=e.getXY(),n=t[0],i=t[1];this.autoOffset(n,i),this.setDragElPos(n,i)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var t=this.getEl(),n=this.getDragEl();n.style.visibility="",this.beforeMove(),t.style.visibility="hidden",Ext.dd.DDM.moveToEl(t,n),n.style.visibility="hidden",t.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost" role="presentation"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",skipLayout:!0,alignOnScroll:!1,constructor:function(e){e=e||{},Ext.apply(this,{hideMode:"visibility",hidden:!0,floating:!0,id:this.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||!1,renderTo:Ext.getDetachedBody()}),this.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed,this.dropStatus!==e&&(this.el.replaceCls(this.dropStatus,e),this.dropStatus=e)},reset:function(e){var t=this,n=Ext.baseCSSPrefix+"dd-drag-proxy ";t.el.replaceCls(n+t.dropAllowed,n+t.dropNotAllowed),t.dropStatus=t.dropNotAllowed,e&&t.ghost.setHtml("")},update:function(e){"string"==typeof e?this.ghost.setHtml(e):(this.ghost.setHtml(""),e.style.margin="0",this.ghost.dom.appendChild(e));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(e){this.callParent(),e&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.syncUnderlays()},repair:function(e,t,n){var i=this;i.callback=t,i.scope=n,e&&!1!==i.animRepair?(i.el.addCls(i.repairCls),i.el.setUnderlaysVisible(!1),i.anim=i.el.animate({duration:i.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:!0,callback:i.afterRepair,scope:i})):i.afterRepair()},afterRepair:function(){var e=this;e.hide(!0),e.el.removeCls(e.repairCls),"function"==typeof e.callback&&e.callback.call(e.scope||e),delete e.callback,delete e.scope}}),Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e),this.dragData||(this.dragData={}),Ext.apply(this,t),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:!0===this.scroll}]),this.dragging=!1},getDragData:function(e){return this.dragData},onDragEnter:function(e,t){var n,i=Ext.dd.DragDropManager.getDDById(t);this.cachedTarget=i,!1!==this.beforeDragEnter(i,e,t)&&(i.isNotifyTarget?(n=i.notifyEnter(this,e,this.dragData),this.proxy.setStatus(n)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(i,e,t))},beforeDragEnter:function(e,t,n){return!0},onDragOver:function(e,t){var n,i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragOver(i,e,t)&&(i.isNotifyTarget&&(n=i.notifyOver(this,e,this.dragData),this.proxy.setStatus(n)),this.afterDragOver&&this.afterDragOver(i,e,t))},beforeDragOver:function(e,t,n){return!0},onDragOut:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragOut(n,e,t)&&(n.isNotifyTarget&&n.notifyOut(this,e,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(n,e,t)),this.cachedTarget=null},beforeDragOut:function(e,t,n){return!0},onDragDrop:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragDrop(n,e,t)&&(n.isNotifyTarget?!1!==n.notifyDrop(this,e,this.dragData)?this.onValidDrop(n,e,t):this.onInvalidDrop(n,e,t):this.onValidDrop(n,e,t),this.afterDragDrop&&this.afterDragDrop(n,e,t)),delete this.cachedTarget},beforeDragDrop:function(e,t,n){return!0},onValidDrop:function(e,t,n){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(e,t,n)},getRepairXY:function(e,t){return this.el.getXY()},onInvalidDrop:function(e,t,n){var i=this;t||(t=e,e=null,n=t.getTarget().id),!1!==i.beforeInvalidDrop(e,t,n)&&(i.cachedTarget&&(i.cachedTarget.isNotifyTarget&&i.cachedTarget.notifyOut(i,t,i.dragData),i.cacheTarget=null),i.proxy.repair(i.getRepairXY(t,i.dragData),i.afterRepair,i),i.afterInvalidDrop&&i.afterInvalidDrop(t,n))},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor),this.dragging=!1},beforeInvalidDrop:function(e,t,n){return!0},handleMouseDown:function(e){if(!this.dragging){var t=this.getDragData(e);t&&!1!==this.onBeforeDrag(t,e)&&(this.dragData=t,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(e,t){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(e,t),this.proxy.show()},onInitDrag:function(e,t){var n=this.el.dom.cloneNode(!0);return n.id=Ext.id(),this.proxy.update(n),this.onStartDrag(e,t),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(e,t){},autoOffset:function(e,t){this.setDelta(-12,-20)},destroy:function(){Ext.destroy(this.proxy),this.callParent()}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(e,t){this.panel=e,this.id=this.panel.id+"-ddproxy",Ext.apply(this,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var e=this;e.ghost&&(e.proxy&&(e.proxy.destroy(),delete e.proxy),e.panel.unghost(null,e.moveOnDrag),delete e.ghost)},show:function(){var e,t=this;t.ghost||(e=t.panel.getSize(),t.panel.el.setVisibilityMode(Ext.Element.DISPLAY),t.ghost=t.panel.ghost(),t.insertProxy&&(t.proxy=t.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),t.proxy.setSize(e)))},repair:function(e,t,n){this.hide(),Ext.callback(t,n||this)},moveProxy:function(e,t){this.proxy&&e.insertBefore(this.proxy.dom,t)}}),Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(e,t){var n=this;n.panel=e,n.dragData={panel:e},n.panelProxy=new Ext.panel.Proxy(e,t),n.proxy=n.panelProxy.proxy,n.callParent([e.el,t]),n.setupEl(e)},setupEl:function(e){var t=e.header,n=e.body;t&&(this.setHandleElId(t.id),n=t.el),n?(n.setStyle("cursor","move"),this.scroll=!1):e.on("boxready",this.setupEl,this,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(e,t){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getXY(),n=t[0],i=t[1];this.autoOffset(n,i)},onInitDrag:function(e,t){return this.onStartDrag(e,t),!0},createFrame:Ext.emptyFn,getDragEl:function(e){var t=this.panelProxy.ghost;if(t)return t.el.dom},endDrag:function(e){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY,this.setDelta(e,t)},onInvalidDrop:function(e,t,n){var i=this;!1!==i.beforeInvalidDrop(e,t,n)&&(i.cachedTarget&&(i.cachedTarget.isNotifyTarget&&i.cachedTarget.notifyOut(i,t,i.dragData),i.cacheTarget=null),i.afterInvalidDrop&&i.afterInvalidDrop(t,n))}}),Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var e,t;this.callParent(),e=this.getRenderTarget(),t=this.getDockedItems(),this.finishRenderItems(e,t)},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:Ext.baseCSSPrefix+"docked",handleItemBorders:function(){var e,t,n,i,r,o,a,s=this,l=s.owner,d=s.lastDockedItems,c=s.borders,u=l.dockedItems.generation,h=s.noBorderClassesSides,f=s.borderWidthProps,g=s.collapsed;if(!(s.initializedBorders===u||l.border&&!l.manageBodyBorders||l.collapsed&&"mini"===l.collapseMode)){for(s.initializedBorders=u,s.collapsed=!1,s.lastDockedItems=t=s.getLayoutItems(),s.collapsed=g,e={top:[],right:[],bottom:[],left:[]},n=0,i=t.length;n<i;n++)o=(r=t[n]).dock,r.ignoreBorderManagement||(e[o].satisfied||(e[o].push(r),e[o].satisfied=!0),e.top.satisfied||"bottom"===o||e.top.push(r),e.right.satisfied||"left"===o||e.right.push(r),e.bottom.satisfied||"top"===o||e.bottom.push(r),e.left.satisfied||"right"===o||e.left.push(r));if(d)for(n=0,i=d.length;n<i;n++)(r=d[n]).destroyed||r.ignoreBorderManagement||l.manageBodyBorders||r.removeCls(s.noBorderClasses);if(c)for(a in c)l.manageBodyBorders&&c[a].satisfied&&l.setBodyStyle(f[a],"");for(a in e)if(i=e[a].length,l.manageBodyBorders)e[a].satisfied&&l.setBodyStyle(f[a],"1px");else{for(n=0;n<i;n++)e[a][n].addCls(h[a]);!e[a].satisfied&&!l.bodyBorder||!1===l.bodyBorder?l.addBodyCls(h[a]):l.removeBodyCls(h[a])}s.borders=e}},beforeLayoutCycle:function(e){var t,n,i=this.owner,r=this.sizeModels.shrinkWrap,o=i.shrinkWrapDock;i.collapsed&&(i.collapsedVertical()?(n=!0,e.measureDimensions=1):(t=!0,e.measureDimensions=2)),e.collapsedVert=n,e.collapsedHorz=t,n?e.heightModel=r:t&&(e.widthModel=r),o=!0===o?3:o||0,e.shrinkWrapDockHeight=1&o&&e.heightModel.shrinkWrap,e.shrinkWrapDockWidth=2&o&&e.widthModel.shrinkWrap},beginLayout:function(e){var t,n,i,r,o,a,s,l=this,d=l.owner,c=l.getLayoutItems(),u=e.context,h=c.length,f=l.lastCollapsedState;for(l.callParent(arguments),(a=d.getCollapsed())!==f&&void 0!==f&&(l.owner.collapsed?(e.isCollapsingOrExpanding=1,d.addClsWithUI(d.collapsedCls)):(e.isCollapsingOrExpanding=2,d.removeClsWithUI(d.collapsedCls),e.lastCollapsedState=l.lastCollapsedState)),l.lastCollapsedState=a,e.dockedItems=t=[],n=0;n<h;n++)(i=c[n]).rendered&&(s=i.dock,(r=u.getCmp(i)).dockedAt={x:0,y:0},r.offsets=o=Ext.Element.parseBox(i.offsets||0),r.horizontal="top"===s||"bottom"===s,o.width=o.left+o.right,o.height=o.top+o.bottom,t.push(r));e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t,n,i,r=this,o=e.dockedItems,a=o.length,s=r.owner,l=s.frameBody,d=r.lastHeightModel;for(r.callParent(arguments),r.owner.manageHeight?r.lastBodyDisplay&&(s.body.dom.style.display=r.lastBodyDisplay=""):("inline-block"!==r.lastBodyDisplay&&(s.body.dom.style.display=r.lastBodyDisplay="inline-block"),d&&d.shrinkWrap&&!e.heightModel.shrinkWrap&&(s.body.dom.style.marginBottom="")),e.widthModel.auto&&(e.widthModel.shrinkWrap&&s.el.setWidth(null),s.body.setWidth(null),l&&l.setWidth(null)),e.heightModel.auto&&(s.body.setHeight(null),l&&l.setHeight(null)),e.collapsedVert?e.setContentHeight(0):e.collapsedHorz&&e.setContentWidth(0),t=0;t<a;t++)if("right"===(i=(n=o[t].target).dock))n.setLocalX(0);else if("left"!==i)continue},calculate:function(e){var t,n,i,r,o,a=this,s=a.measureAutoDimensions(e,e.measureDimensions),l=e.state,d=l.horzDone,c=l.vertDone,u=e.bodyContext;for(e.borderInfo||e.getBorderInfo(),e.paddingInfo||e.getPaddingInfo(),e.frameInfo||e.getFrameInfo(),u.borderInfo||u.getBorderInfo(),u.paddingInfo||u.getPaddingInfo(),e.frameBorder||((t=e.framing)?(e.frameBorder=t.border,e.framePadding=t.padding):(e.frameBorder=e.borderInfo,e.framePadding=e.paddingInfo)),n=!d&&a.createAxis(e,s.contentWidth,e.widthModel,a.horzAxisProps,e.collapsedHorz),i=!c&&a.createAxis(e,s.contentHeight,e.heightModel,a.vertAxisProps,e.collapsedVert),r=0,o=e.dockedItems.length;o--;++r)n&&a.dockChild(e,n,o,r),i&&a.dockChild(e,i,o,r);n&&a.finishAxis(e,n)&&(l.horzDone=d=n),i&&a.finishAxis(e,i)&&(l.vertDone=c=i),d&&c&&a.finishConstraints(e,d,c)?a.finishPositions(e,d,c):a.done=!1},createAxis:function(e,t,n,i,r){var o,a,s,l=0,d=this.owner,c=d[i.maxSize],u=d[i.minSize]||0,h=i.dockBegin,f=i.dockEnd,g=i.pos,p=i.size,m=null!=c;return n.shrinkWrap?s=r?0:t+e.bodyContext.borderInfo[p]:(o=e.frameBorder,a=e.framePadding,l=o[h]+a[h],s=e.getProp(p)-(o[f]+a[f])),{shrinkWrap:n.shrinkWrap,sizeModel:n,initialBegin:l,begin:l,end:s,collapsed:r,horizontal:i.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:s-l,maxChildSize:0,hasMinMaxConstraints:(u||m)&&n.shrinkWrap,minSize:u,maxSize:m?c:1e9,bodyPosProp:this.owner.manageHeight?g:i.marginBegin,dockBegin:h,dockEnd:f,posProp:g,sizeProp:p,setSize:i.setSize,shrinkWrapDock:e[i.shrinkWrapDock],sizeModelName:i.sizeModel,dockedPixelsEnd:0}},dockChild:function(e,t,n,i){var r,o,a=this,s=e.dockedItems[t.shrinkWrap?n:i],l=s.target,d=l.dock,c=t.sizeProp;l.ignoreParentFrame&&e.isCollapsingOrExpanding&&s.clearMarginCache(),s.marginInfo||s.getMarginInfo(),d===t.dockBegin?r=t.shrinkWrap?a.dockOutwardBegin(e,s,l,t):a.dockInwardBegin(e,s,l,t):d===t.dockEnd?r=t.shrinkWrap?a.dockOutwardEnd(e,s,l,t):a.dockInwardEnd(e,s,l,t):t.shrinkWrapDock?(o=s.getProp(c)+s.marginInfo[c],t.maxChildSize=Math.max(t.maxChildSize,o),r=0):r=a.dockStretch(e,s,l,t),s.dockedAt[t.posProp]=r},dockInwardBegin:function(e,t,n,i){var r,o,a,s=i.begin,l=i.sizeProp,d=n.ignoreParentFrame;return d&&(i.ignoreFrameBegin=t,a=n.dock,s-=(r=e.frameBorder[a])+e.framePadding[a]),n.overlay||(o=t.getProp(l)+t.marginInfo[l],i.begin+=o,d&&(i.begin-=r)),s},dockInwardEnd:function(e,t,n,i){var r,o=i.sizeProp,a=t.getProp(o)+t.marginInfo[o],s=i.end-a;return n.overlay||(i.end=s),n.ignoreParentFrame&&(i.ignoreFrameEnd=t,s+=(r=e.frameBorder[n.dock])+e.framePadding[n.dock],i.end+=r),s},dockOutwardBegin:function(e,t,n,i){var r=i.begin,o=i.sizeProp;return i.collapsed?i.ignoreFrameBegin=i.ignoreFrameEnd=t:n.ignoreParentFrame&&(i.ignoreFrameBegin=t),n.overlay||(r-=t.getProp(o)+t.marginInfo[o],i.begin=r),r},dockOutwardEnd:function(e,t,n,i){var r,o=i.end,a=i.sizeProp;return r=t.getProp(a)+t.marginInfo[a],i.collapsed?i.ignoreFrameBegin=i.ignoreFrameEnd=t:n.ignoreParentFrame&&(i.ignoreFrameEnd=t),n.overlay||(i.end=o+r,i.dockedPixelsEnd+=r),o},dockStretch:function(e,t,n,i){var r,o=n.dock,a=i.sizeProp,s="top"===o||"bottom"===o,l=e.frameBorder,d=t.offsets,c=e.framePadding,u=s?"right":"bottom",h=s?"left":"top",f=i.begin+d[h];return!1!==n.stretch&&(r=i.end-f-d[u],n.ignoreParentFrame&&(f-=c[h]+l[h],r+=c[a]+l[a]),r-=t.marginInfo[a],t[i.setSize](r)),f},finishAxis:function(e,t){if(isNaN(t.maxChildSize))return!1;var n,i,r,o,a=t.begin,s=t.end-a,l=t.collapsed,d=t.setSize,c=t.dockBegin,u=t.dockEnd,h=e.framePadding,f=e.frameBorder,g=f[c],p=e.framing,m=p&&p[c],x=l?0:h[c],E=t.sizeProp,v=t.ignoreFrameBegin,y=t.ignoreFrameEnd,b=e.bodyContext,C=Math.max(g+x-m,0);return t.shrinkWrap?(i=t.initialSize,p?n=(r=-a+g+x)-m-C:r=(n=-a)+x,l||(s+=h[E]),v?(r-=g,n-=g,v.dockedAt[t.posProp]-=x):s+=g,l||(y?y.dockedAt[t.posProp]+=h[u]:s+=f[u]),t.size=s,t.horizontal||this.owner.manageHeight||(o=!1)):(p?(r=0,n=a-m-C):(r=-g,n=a-x-g),i=s),t.delta=r,b[d](i,o),b.setProp(t.bodyPosProp,n),!isNaN(s)},beforeInvalidateShrinkWrapDock:function(e,t){var n=t.axis.sizeModelName;e[n].constrainedMin||(e[n]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(e,t){var n,i=t.axis,r=t.layout;e[i.sizeModelName].calculated&&(n=r.dockStretch(t.ownerContext,e,e.target,i),e.setProp(i.posProp,i.delta+n))},finishConstraints:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=this.sizeModels,g=t.shrinkWrap,p=n.shrinkWrap,m=this.owner;if(g&&(l=t.size,d=t.collapsed?0:t.minSize,c=t.maxSize,u=t.maxChildSize,(h=Math.max(l,u))>c?(s=f.constrainedMax,o=c):h<d?(s=f.constrainedMin,o=d):l<u?(s=f.constrainedDock,m.dockConstrainedWidth=o=u):o=l),p&&(l=n.size,d=n.collapsed?0:n.minSize,c=n.maxSize,u=n.maxChildSize,(h=Math.max(l,u+l-n.initialSize))>c?(a=f.constrainedMax,r=c):h<d?(a=f.constrainedMin,r=d):l<u?(a=f.constrainedDock,m.dockConstrainedHeight=r=u):(e.collapsedVert||m.manageHeight||(i=!1,e.bodyContext.setProp("margin-bottom",n.dockedPixelsEnd)),r=l)),s||a){if(s&&a&&s.constrainedMax&&a.constrainedByMin)return e.invalidate({widthModel:s}),!1;if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap)return e.invalidate({widthModel:s,heightModel:a}),!1}else this.invalidateAxes(e,t,n);return g&&(e.setWidth(o),s&&(e.widthModel=s)),p&&(e.setHeight(r,i),a&&(e.heightModel=a)),!0},invalidateAxes:function(e,t,n){var i,r,o,a,s,l,d,c,u=this.beforeInvalidateShrinkWrapDock,h=this.afterInvalidateShrinkWrapDock,f=t.end-t.begin,g=n.initialSize,p=t.shrinkWrapDock&&t.maxChildSize<=f,m=n.shrinkWrapDock&&n.maxChildSize<=g;if(p||m)for(m&&(n.begin=n.initialBegin,n.end=n.begin+n.initialSize),o=0,r=(i=e.dockedItems).length;o<r;++o)l=(a=i[o]).horizontal,d=null,p&&l?(c=t.sizeProp,s=f,d=t):m&&!l&&(c=n.sizeProp,s=g,d=n),d&&(s-=a.getMarginInfo()[c])!==a.props[c]&&a.invalidate({before:u,after:h,axis:d,ownerContext:e,layout:this})},finishPositions:function(e,t,n){var i,r,o=e.dockedItems,a=o.length,s=t.delta,l=n.delta;for(i=0;i<a;++i)(r=o[i]).setProp("x",s+r.dockedAt.x),r.setProp("y",l+r.dockedAt.y)},finishedLayout:function(e){var t=e.target;this.callParent(arguments),e.animatePolicy||(1===e.isCollapsingOrExpanding?t.afterCollapse(!1):2===e.isCollapsingOrExpanding&&t.afterExpand(!1))},getAnimatePolicy:function(e){var t,n;return 1===e.isCollapsingOrExpanding?t=this.lastCollapsedState:2===e.isCollapsingOrExpanding&&(t=e.lastCollapsedState),"left"===t||"right"===t?n=this.horizontalCollapsePolicy:"top"!==t&&"bottom"!==t||(n=this.verticalCollapsePolicy),n},getDockedItems:function(e,t){var n,i,r,o,a,s,l=this,d="visual"===e,c=d?Ext.ComponentQuery.query("[rendered]",l.owner.dockedItems.items):l.owner.dockedItems.items,u=c&&c.length&&!1!==e;if(null==t)r=u&&!d?c.slice():c;else{for(r=[],o=0,s=c.length;o<s;++o)a="top"===(i=c[o].dock)||"left"===i,(t?a:!a)&&r.push(c[o]);u=u&&r.length}return u&&(n="render"===(e=e||"render"),Ext.Array.sort(r,function(t,i){var r,o;return!n||(r=l.owner.dockOrder[t.dock])===(o=l.owner.dockOrder[i.dock])||r+o?(r=l.getItemWeight(t,e),o=l.getItemWeight(i,e),void 0!==r&&void 0!==o?r-o:0):r-o})),r||[]},getItemWeight:function(e,t){var n=e.weight||this.owner.defaultDockWeights[e.dock];return n[t]||n},getLayoutItems:function(){var e,t,n,i,r;if(this.owner.collapsed)r=this.owner.getCollapsedDockedItems();else for(t=(e=this.getDockedItems("visual")).length,r=[],i=0;i<t;i++)(n=e[i]).hidden||r.push(n);return r},measureContentWidth:function(e){var t=e.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(e){var t=e.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(e){var t=this.owner;1===e.isCollapsingOrExpanding?(t.reExpander&&t.reExpander.el.show(),t.addClsWithUI(t.collapsedCls),e.redo(!0)):2===e.isCollapsingOrExpanding&&(t.removeClsWithUI(t.collapsedCls),e.bodyContext.redo())},getRenderTarget:function(){return this.owner.bodyWrap},renderChildren:function(){var e=this.getDockedItems(),t=this.getRenderTarget();this.handleItemBorders(),this.renderItems(e,t)},renderItems:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=this,x=m.owner,E={},v=e.length,y=x.body.dom,b=x.bodyWrap.dom,C=!!x.frameSize,S=x.bodyContainer;if(v){for(f=0;f<v;f++)E[(o=e[f]).id]=o,o.dockToEl&&(r=!0);for(i=(n=m.getRenderTarget().dom.childNodes).length,l=0,f=0;f<i;++f){if(s=(a=n[f])===y){d=f;break}E[a.id]&&++l}if(s||Ext.log.error("Dock layout error for "+x.id+": bodyEl not found!"),d-=l,r){for(s=!1,l=0,i=(n=x.el.dom.childNodes).length,f=0;f<i;f++){if(a=n[f],C?!(s=a===b||a===S)&&Ext.fly(a).contains(b)&&(s=!0,x.bodyContainer=a):s=a===b,s){u=f;break}E[a.id]&&++l}s||Ext.log.error("Dock layout error for "+x.id+": bodyWrapEl not found!"),u-=l}for(c=h=0,f=0;f<v;f++)(o=e[f]).dockToEl?(p=x.el,g=u+h++,"right"===o.dock||"bottom"===o.dock?(g++,C&&g++):C&&g>0&&g--):(p=t,g=d+c++,"right"!==o.dock&&"bottom"!==o.dock||g++),o.rendered?m.isValidParent(o,p,g)||m.moveItem(o,p,g):m.renderItem(o,p,g)}},undoLayout:function(e){var t=this.owner;1===e.isCollapsingOrExpanding?(t.reExpander&&t.reExpander.el.hide(),t.removeClsWithUI(t.collapsedCls),e.undo(!0)):2===e.isCollapsingOrExpanding&&(t.addClsWithUI(t.collapsedCls),e.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e,t){var n,i,r=this.sizePolicy,o=this.owner.shrinkWrapDock;return!1===e.stretch?r.nostretch:(i="left"===(n=e.dock)||"right"===n,o=!0===o?3:o||0,i?(r=r.vert,o&=1):(r=r.horz,o&=2),o&&(t||(t=this.owner.getSizeModel()),t[i?"height":"width"].shrinkWrap)?r.shrinkWrap:r.stretch)},configureItem:function(e,t){this.callParent(arguments),e.addCls(this._itemCls),e.ignoreBorderManagement||e.addClsWithUI(this.getDockCls(e.dock))},getDockCls:function(e){return"docked-"+e},afterRemove:function(e){var t;this.callParent(arguments),e.removeCls(this._itemCls),e.ignoreBorderManagement||e.removeClsWithUI(this.getDockCls(e.dock)),t=e.el.dom,!e.destroying&&t&&t.parentNode.removeChild(t),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var e,t=this.borderCollapseMap,n=this.owner,i=n.baseCls,r=n.ui;return(e=(t=t[i]||(t[i]={}))[r])||(i+="-"+r+"-outer-border-",t[r]=e=[0,i+"l",i+"b",i+"bl",i+"r",i+"rl",i+"rb",i+"rbl",i+"t",i+"tl",i+"tb",i+"tbl",i+"tr",i+"trl",i+"trb",i+"trbl"]),e}}),Ext.define("Ext.util.Memento",function(){function e(e,t,n,i){e[i?i+n:n]=t[n]}function t(e,t,n){delete e[n]}function n(e,t,n,r){var o=r?r+n:n,a=e[o];(a||e.hasOwnProperty(o))&&i(t,n,a)}function i(e,t,n){Ext.isDefined(n)?e[t]=n:delete e[t]}function r(e,t,n,i,r){if(t)if(Ext.isArray(i)){var o,a=i.length;for(o=0;o<a;o++)e(t,n,i[o],r)}else e(t,n,i,r)}return{data:null,target:null,constructor:function(e,t){this.data={},e&&(this.target=e,t&&this.capture(t))},capture:function(t,n,i){r(e,this.data||(this.data={}),n||this.target,t,i)},remove:function(e){r(t,this.data,null,e)},restore:function(e,t,i,o){r(n,this.data,i||this.target,e,o),!1!==t&&this.remove(e)},restoreAll:function(e,t){var n,r=t||this.target,o=this.data;for(n in e=!1!==e,o)o.hasOwnProperty(n)&&(i(r,n,o[n]),e&&delete o[n])}}}()),Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(e,t){var n,i,r,o,a=this,s=a.rendered,l=0,d=a.dockedItems,c=d.getCount();for(o=(e=a.prepareItems(e)).length,s&&Ext.suspendLayouts(),t=void 0===t?c:Math.min(t,c);l<o;l++)(r=e[l]).dock=r.dock||"top","left"!==r.dock&&"right"!==r.dock||a.horizontalDocks++,n=t+l,d.insert(n,r),i=!!r.instancedCmp,delete r.instancedCmp,r.onAdded(a,n,i),delete r.$initParent,a.onDockedAdd!==Ext.emptyFn&&a.onDockedAdd(r),a.hasListeners.dockedadd&&a.fireEvent("dockedadd",a,r,n);return a.rendered&&(a.updateLayout(),Ext.resumeLayouts(!0)),e},destroyDockedItems:function(){var e,t=this.dockedItems;if(t)for(;e=t.first();)this.removeDocked(e,!0)},doRenderDockedItems:function(e,t,n){var i,r,o=t.$comp,a=o.componentLayout;o.tabGuard&&o.lookupTpl("tabGuardTpl");a.getDockedItems&&(r=(i=a.getDockedItems("render",!n))&&a.getItemsRenderTree(i))&&Ext.DomHelper.generateMarkup(r,e)},getDockedComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.dockedItems.get(e)},getDockedItems:function(e,t){var n=this.getComponentLayout().getDockedItems("render",t);return e&&n.length&&(n=Ext.ComponentQuery.query(e,n)),n},getDockingRefItems:function(e,t){var n,i=e&&"*,* *",r=this.getDockedItems(i,!0);return r.push.apply(r,t),n=this.getDockedItems(i,!1),r.push.apply(r,n),r},initDockingItems:function(){var e=this.dockedItems;e&&e.isMixedCollection||(this.dockedItems=new Ext.util.ItemCollection,e&&this.addDocked(e))},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var n,i,r=this;return t=!0===t||!1!==t&&r.autoDestroy,r.dockedItems.contains(e)?("left"!==e.dock&&"right"!==e.dock||r.horizontalDocks--,(i=(n=r.componentLayout)&&r.rendered)&&n.onRemove(e),r.dockedItems.remove(e),e.onRemoved(e.destroying||t),r.onDockedRemove(e),t?e.destroy():i&&n.afterRemove(e),r.hasListeners.dockedremove&&r.fireEvent("dockedremove",r,e),r.destroying||r.updateLayout(),e):e},moveDocked:function(e,t){this.rendered&&Ext.suspendLayouts(),this.removeDocked(e,!1),e.dock=t,this.addDocked(e),this.rendered&&(e.frame&&(Ext.getDetachedBody().appendChild(e.el),e.updateFrame()),Ext.resumeLayouts(!0))},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.panel.Panel",{extend:"Ext.container.Container",alias:"widget.panel",alternateClassName:"Ext.Panel",requires:["Ext.panel.Header","Ext.util.MixedCollection","Ext.toolbar.Toolbar","Ext.fx.Anim","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],mixins:{docking:"Ext.container.DockingContainer"},childEls:["bodyWrap","body"],renderTpl:['<tpl if="headingText">','<div id="{id}-headingEl" data-ref="headingEl" role="heading"',' class="',Ext.baseCSSPrefix,'hidden-clip" style="height:0">',"{headingText}","</div>","</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<div id="{id}-bodyWrap" data-ref="bodyWrap" class="{baseCls}-bodyWrap"','<tpl if="bodyWrapAriaAttributes">','<tpl foreach="bodyWrapAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyAriaAttributes">','<tpl foreach="bodyAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",'<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}","</div>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:!0,closable:!1,closeAction:"destroy",closeToolText:"Close panel",collapsed:!1,collapsedCls:"collapsed",collapseFirst:!0,collapsible:void 0,collapseToolText:"Collapse panel",expandToolText:"Expand panel",constrain:!1,constrainHeader:!1,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:!0,frame:!1,frameHeader:!0,hideCollapseTool:!1,manageHeight:!0,maskElement:"el",minButtonWidth:75,preventHeader:!1,shrinkWrapDock:!1,titleCollapse:void 0,baseCls:Ext.baseCSSPrefix+"panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:!0,defaultBindProperty:"title",addBodyCls:function(e){return(this.rendered?this.body:this.getProtoBody()).addCls(e),this},addTool:function(e){Ext.isArray(e)||(e=[e]);var t,n,i=this,r=i.header,o=e.length,a=i.tools;for(r&&r.isHeader||(r=null,a||(i.tools=a=[])),t=0;t<o;t++)(n=e[t]).toolOwner=i,r?r.addTool(n):a.push(n);i.updateHeader()},addTools:Ext.emptyFn,getClosable:function(){return this.closable},setClosable:function(e){var t=this.tab;e=!!e,this.closable!==e&&(this.closable=e,t&&t.setClosable(e))},setCollapsible:function(e){var t=this,n=t.collapsible,i=t.collapseTool;t.collapsible=e,e&&!n?(t.updateCollapseTool(),(i=t.collapseTool)&&i.show()):!e&&n&&i&&i.hide()},addUIClsToElement:function(e){var t=this,n=t.callParent(arguments);return t.addBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},afterCollapse:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0,t.updateCollapseTool(),e&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),n&&n.afterCollapse(t,e),t.setHiddenDocked(),t.fireEvent("collapse",t)},afterExpand:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0,t.updateCollapseTool(),e&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),n&&n.afterExpand(t,e),t.fireEvent("expand",t),t.fireHierarchyEvent("expand")},doDestroy:function(){var e=this;Ext.destroy(e.placeholder,e.ghostPanel,e.dd,e.accordionHeaderKeyNav,e.accordionBodyKeyNav,e.defaultButtonKeyNav),e.destroyDockedItems(),e.callParent()},beforeRender:function(){var e,t=this;t.getProtoBody(),t.callParent(),t.initTools(),(!t.preventHeader&&!1!==t.header||t.isViewportBorderChild)&&t.updateHeader(),t.afterHeaderInit=!0,t.collapsed&&(t.isPlaceHolderCollapse()?t.hidden||(t.setHiddenState(!0),t.preventCollapseFire=!0,t.placeholderCollapse(),delete t.preventCollapseFire,e=t.collapsed,t.collapsed=!1):(t.beginCollapse(),t.addClsWithUI(t.collapsedCls))),e&&(t.collapsed=e)},getMemento:function(e){if(e&&"string"==typeof e)return this[e+="Memento"]||(this[e]=new Ext.util.Memento(this))},beginCollapse:function(){var e,t=this,n=t.lastBox,i=t.rendered,r=t.getMemento("collapse"),o=t.getSizeModel(),a=t.header;r.capture(["height","minHeight","width","minWidth"]),n&&r.capture(t.restoreDimension(),n,"last."),t.collapsedVertical()?(o.width.shrinkWrap&&(t.width=i?t.getWidth():t.width||t.minWidth||100),delete t.height,t.minHeight=0):t.collapsedHorizontal()&&(o.height.shrinkWrap&&(t.height=i?t.getHeight():t.height||t.minHeight||100),delete t.width,t.minWidth=0),t.ownerCt&&t.ownerCt.getLayout().beginCollapse(t),t.isPlaceHolderCollapse()||!1===a||(a===(e=t.getReExpander())?(a.collapseImmune=!0,a.getInherited().collapseImmune=!0,a.addClsWithUI(t.getHeaderCollapsedClasses(a)),a.rendered&&a.updateFrame()):e.el&&(e.el.show(),e.hidden=!1)),t.resizer&&t.resizer.disable(),t.rendered&&(t.ariaEl.dom.setAttribute("aria-expanded",!1),t.isAccordionPanel&&t.body.dom.setAttribute("aria-hidden",!0))},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},beginExpand:function(){var e,t=this,n=t.lastBox,i=t.getMemento("collapse"),r=t.restoreDimension(),o=t.header;i&&(i.restore(["minHeight","minWidth",r]),n&&i.restore(r,!0,n,"last.")),t.ownerCt&&t.ownerCt.getLayout().beginExpand(t),t.isPlaceHolderCollapse()||!1===o||(o===(e=t.getReExpander())?(delete o.collapseImmune,delete o.getInherited().collapseImmune,o.removeClsWithUI(t.getHeaderCollapsedClasses(o)),o.rendered&&(o.expanding=!0,o.updateFrame(),delete o.expanding)):(e.hidden=!0,e.el.hide())),t.resizer&&t.resizer.enable(),t.rendered&&(t.ariaEl.dom.setAttribute("aria-expanded",!0),t.isAccordionPanel&&t.body.dom.setAttribute("aria-hidden",!1))},bridgeToolbars:function(){var e,t,n,i=this,r=[],o=i.minButtonWidth;function a(e,t,n,r){return Ext.isArray(e)?e={xtype:"toolbar",items:e}:e.isComponent||(e=Ext.apply({},e)),e.xtype||(e.xtype="toolbar"),e.dock=t,r&&(e.enableFocusableContainer=!1),n&&(e.layout=Ext.applyIf(e.layout||{},{pack:{left:"start",center:"center"}[i.buttonAlign]||"end"})),e}i.tbar&&(r.push(a(i.tbar,"top")),i.tbar=null),i.bbar&&(r.push(a(i.bbar,"bottom")),i.bbar=null),i.buttons&&(i.fbar=i.buttons,i.buttons=null,n=!0),i.fbar&&((e=a(i.fbar,"bottom",!0,n)).ui="footer",o&&(t=e.defaults,e.defaults=function(e){var n,i=t||{},r=!e.xtype||e.isButton;return r||(n=Ext.ClassManager.getByAlias("widget."+e.xtype))&&(r=n.prototype.isButton),!r||"minWidth"in i||(i=Ext.apply({minWidth:o},i)),i}),r.push(e),i.fbar=null),i.lbar&&(r.push(a(i.lbar,"left")),i.lbar=null),i.rbar&&(r.push(a(i.rbar,"right")),i.rbar=null),i.dockedItems?i.dockedItems.isMixedCollection?i.addDocked(r):(Ext.isArray(i.dockedItems)||(i.dockedItems=[i.dockedItems]),i.dockedItems=i.dockedItems.concat(r)):i.dockedItems=r},close:function(){!1!==this.fireEvent("beforeclose",this)&&this.doClose()},collapse:function(e,t){var n=this,i=e||n.collapseDirection,r=n.ownerCt,o=n.ownerLayout,a=n.rendered;return n.isCollapsingOrExpanding?n:(arguments.length<2&&(t=n.animCollapse),n.collapsed||!1===n.fireEvent("beforecollapse",n,e,t)?n:o&&o.onBeforeComponentCollapse&&!1===o.onBeforeComponentCollapse(n)?n:a&&r&&n.isPlaceHolderCollapse()?n.placeholderCollapse(e,t):(n.collapsed=i,a&&n.beginCollapse(),n.getInherited().collapsed=!0,n.fireHierarchyEvent("collapse"),a&&n.doCollapseExpand(1,t),n))},collapsedHorizontal:function(){var e=this.getCollapsed();return"left"===e||"right"===e},collapsedVertical:function(){var e=this.getCollapsed();return"top"===e||"bottom"===e},convertCollapseDir:function(e){return e.substr(0,1)},createGhost:function(e){var t=this,n=t.header,i=t.frame&&!t.alwaysFramed;return{xtype:"panel",hidden:!1,header:n?{titleAlign:n.getTitleAlign()}:null,ui:i?t.ui.replace(/-framed$/,""):t.ui,id:t.id+"-ghost",renderTo:Ext.getBody(),resizable:!1,draggable:!1,closable:!1,focusable:!1,floating:!0,alignOnScroll:!1,shadow:!1,frame:i,shim:t.shim,alwaysFramed:t.alwaysFramed,overlapHeader:t.overlapHeader,headerPosition:t.getHeaderPosition(),titleRotation:t.getTitleRotation(),baseCls:t.baseCls,getRefOwner:function(){return t.getRefOwner()},cls:t.baseCls+"-ghost "+(e||"")}},createReExpander:function(e,t){var n=this,i="left"===e,r="right"===e,o=i||r,a=n.ownerCt,s=n.header,l=Ext.apply({hideMode:"offsets",title:n.getTitle(),titleAlign:n.getTitleAlign(),vertical:o,textCls:n.headerTextCls,icon:n.getIcon(),iconCls:n.getIconCls(),iconAlign:n.getIconAlign(),glyph:n.getGlyph(),baseCls:n.self.prototype.baseCls+"-header",ui:n.ui,frame:n.frame&&n.frameHeader,ignoreParentFrame:n.frame||n.overlapHeader,ignoreBorderManagement:n.frame||n.ignoreHeaderBorderManagement,indicateDrag:n.draggable,collapseImmune:!0,ariaRole:n.ariaRole,preventRefocus:!0,ownerCt:a&&"placeholder"===n.collapseMode?a:n,ownerLayout:n.componentLayout,forceOrientation:!0,margin:n.margin,defaultFocus:"tool[isDefaultExpandTool]"},t);return"mini"===n.collapseMode&&(o?l.width=1:l.height=1),s&&Ext.apply(l,{enableFocusableContainer:s.enableFocusableContainer,activeChildTabIndex:s.activeChildTabIndex,inactiveChildTabIndex:s.inactiveChildTabIndex,allowFocusingDisabledChildren:s.allowFocusingDisabledChildren}),n.hideCollapseTool||((i||r&&n.isPlaceHolderCollapse())&&(l.titlePosition=1),l.tools=[{xtype:"tool",type:"expand-"+n.getOppositeDirection(e),isDefaultExpandTool:!0,uiCls:["top"],handler:n.toggleCollapse,scope:n,tooltip:n.expandToolText}]),(l=new Ext.panel.Header(l)).addClsWithUI(n.getHeaderCollapsedClasses(l)),l.expandTool=l.down("tool[isDefaultExpandTool=true]"),l},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},doCollapseExpand:function(e,t){var n=this,i=n.animCollapse,r=n.ownerLayout;return n.animCollapse=t,n.isCollapsingOrExpanding=e,t&&n.addCls(Ext.baseCSSPrefix+"animating-size"),r&&!t?r.onContentChange(n):n.updateLayout({isRoot:!0}),n.animCollapse=i,n},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},expand:function(e){var t=this,n=t.ownerLayout,i=t.rendered;return t.isCollapsingOrExpanding?t:(arguments.length||(e=t.animCollapse),t.collapsed||t.floatedFromCollapse?!1===t.fireEvent("beforeexpand",t,e)?t:n&&n.onBeforeComponentExpand&&!1===n.onBeforeComponentExpand(t)?t:(delete t.getInherited().collapsed,i&&t.isPlaceHolderCollapse()?t.placeholderExpand(e):(t.restoreHiddenDocked(),i&&t.beginExpand(),t.collapsed=!1,t.rendered&&t.doCollapseExpand(2,e),t)):t)},findReExpander:function(e){var t,n,i=Ext.Component,r=this.dockedItems.items,o=r.length;if("mini"!==this.collapseMode)switch(e){case i.DIRECTION_TOP:case i.DIRECTION_BOTTOM:for(n=0;n<o;n++)if(!(t=r[n]).hidden&&t.isHeader&&(!t.dock||"top"===t.dock||"bottom"===t.dock))return t;break;case i.DIRECTION_LEFT:case i.DIRECTION_RIGHT:for(n=0;n<o;n++)if(!(t=r[n]).hidden&&t.isHeader&&("left"===t.dock||"right"===t.dock))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},floatCollapsedPanel:function(){var e,t,n=this,i=n.placeholder,r=n.splitter,o=Ext.util.Region.from(i.getBox(!1,!0)),a=Ext.panel.Panel.floatCls,s=n.collapsed,l=n.ownerCt||n,d={mouseleave:n.onMouseLeaveFloated,mouseenter:n.onMouseEnterFloated,scope:n,destroyable:!0};if(!n.isSliding)if(n.el.hasCls(a))n.slideOutFloatedPanel();else if(n.isSliding=!0,i.el.hide(),i.hidden=!0,n.el.show(),n.setHiddenState(!1),n.collapsed=!1,l.updateLayout(),i.el.show(),i.hidden=!1,n.el.hide(),n.setHiddenState(!0),n.collapsed=s,l.updateLayout(),t=n.getBox(!1,!0),!1!==n.fireEvent("beginfloat",n)){switch(n.slideOutTask=n.slideOutTask||new Ext.util.DelayedTask(n.slideOutFloatedPanel,n),n.pointerLeaveListener=Ext.getDoc().on({mousedown:n.onFloatedPointerEvent,mousemove:n.onFloatedPointerEvent,scope:n,destroyable:!0}),n.placeholderListener||(n.placeholderListener=i.on({resize:n.onPlaceholderResize,scope:n,destroyable:!0})),n.phHoverListeners=i.el.on(d),n.elHoverListeners=n.el.on(d),n.el.addCls(a),n.floated=s,n.collapseTool&&n.collapseTool.el.hide(),r&&(o=o.union(r.getBox(!1,!0))),n.collapsed){case"top":n.width=o.width,n.setLocalXY(t.x,t.y+o.height);break;case"right":n.height=o.height,n.setLocalXY(t.x-o.width,t.y);break;case"bottom":n.width=o.width,n.setLocalXY(t.x,t.y-o.height);break;case"left":n.height=o.height,n.setLocalXY(t.x+o.width,t.y)}e=n.convertCollapseDir(n.collapsed),n.floatedFromCollapse=n.collapsed,n.collapsed=!1,n.setHiddenState(!1),n.el.slideIn(e,{preserveScroll:!0,duration:Ext.Number.from(n.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.isSliding=!1,n.fireEvent("endfloat",n),n.fireEvent("float",n)}}})}},onFloatedPointerEvent:function(e){var t=this;t.owns(e)||t.placeholder.owns(e)||t.splitter&&t.splitter.owns(e)||t.floatCollapsedPanel&&t.el.getRegion().contains(e.getPoint())?t.slideOutTask.cancel():t.slideOutTask.delay(500)},onMouseEnterFloated:function(e){this.slideOutTask.cancel()},onMouseLeaveFloated:function(e){var t=e.getRelatedTarget();t&&(this.owns(t)||this.placeholder.owns(t))||this.slideOutTask.delay(500)},onPlaceholderResize:function(e,t,n){var i=this,r=i.splitter,o=i.getBox(!1,!0),a=Ext.util.Region.from(e.getBox(!1,!0));switch(r&&(a=a.union(r.getBox(!1,!0))),i.floated){case"top":i.width=t,i.setLocalY(a.y+a.height);break;case"right":i.height=n,i.setLocalX(a.x-o.width);break;case"bottom":i.width=t,i.setLocalY(a.y-o.height);break;case"left":i.height=n,i.setLocalX(a.x+a.width)}i.updateLayout({isRoot:!0})},getAnimationProps:function(){var e,t=this;return e=t.callParent(),"number"==typeof t.animCollapseDuration?e.duration=t.animCollapseDuration:"number"==typeof t.animCollapse&&(e.duration=t.animCollapse),e},getCollapsed:function(){return!0===this.collapsed?this.collapseDirection:this.collapsed},getCollapsedDockedItems:function(){return!1===this.header||"placeholder"===this.collapseMode?this.emptyArray:[this.getReExpander()]},getComponent:function(e){var t=this.callParent(arguments);return void 0!==t||Ext.isNumber(e)||(t=this.getDockedComponent(e)),t},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(e){var t,n=this.collapsedCls;return t=[n,n+"-"+e.getDockName()],this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&t.push(n+"-border-"+e.getDockName()),t},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getPlaceholder:function(e){var t=this,n=e||t.collapseDirection,i=null,r=t.placeholder,o=t.floatable,a=t.titleCollapse;return r||((o||t.collapsible&&a)&&(i={click:{fn:function(e,n){r.expandTool.el.dom.contains(arguments[1])||t[!a&&o?"floatCollapsedPanel":"toggleCollapse"]()},element:"el",scope:t}}),t.placeholder=r=Ext.widget(t.createReExpander(n,{id:t.id+"-placeholder",listeners:i}))),r.placeholderFor||(r.isComponent||(t.placeholder=r=t.lookupComponent(r)),Ext.applyIf(r,{margin:t.margin,placeholderFor:t,synthetic:!0}),r.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+n+"-placeholder",t.collapsedCls])),r},getProtoBody:function(){var e=this.protoBody;return e||(this.protoBody=e=new Ext.util.ProtoElement({cls:this.bodyCls,style:this.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),e},getReExpander:function(e){var t=this,n=e||t.collapseDirection,i=t.reExpander||t.findReExpander(n),r=t.titleCollapse,o=null;return t.expandDirection=t.getOppositeDirection(n),i||(r&&(o={click:{fn:t.toggleCollapse,element:"el",scope:t}}),t.reExpander=i=t.createReExpander(n,{dock:n,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",isCollapsedExpander:!0,listeners:o}),t.dockedItems.insert(0,i)),i},getRefItems:function(e){var t,n=this.placeholder;return n?(t=[n],e&&n.getRefItems&&t.push.apply(t,n.getRefItems(e))):t=[],t.push.apply(t,this.getDockingRefItems(e,this.callParent([e]))),t},getState:function(){var e,t,n=this,i=n.callParent()||{},r=n.collapsed,o=n.floated;return o&&(n.collapsed=o),i=n.addPropertyToState(i,"collapsed"),o&&(n.collapsed=r),n.getCollapsed()&&(e=n.getMemento("collapse").data,i=n.addPropertyToState(i,"collapsed",e),t=n.isPlaceHolderCollapse(),n.collapsedVertical()?t?delete(i=n.addPropertyToState(i,"height")).width:(delete i.height,e&&(i=n.addPropertyToState(i,"height",e.height))):t?delete(i=n.addPropertyToState(i,"width")).height:(delete i.width,e&&(i=n.addPropertyToState(i,"width",e.width)))),i},applyState:function(e){var t,n={};e&&((t=e.collapsed)&&(n=this.getMemento("collapse"),Ext.Object.merge(n.data,t),e.collapsed=!0),this.callParent(arguments))},ghost:function(e){var t,n,i,r,o,a,s=this,l=s.el,d=s.ghostPanel,c=s.getBox(),u=s.header;if(d?d.el.show():(s.ghostPanel=d=Ext.widget(s.createGhost(e)),d.el.dom.removeAttribute("tabIndex")),d.setHiddenState(!1),d.floatParent=s.floatParent,u&&!s.preventHeader){for((t=d.header).suspendLayouts(),a=(n=t.query("tool")).length;a--;)t.remove(n[a]);t.setTitlePosition(0),d.addTool(s.ghostTools()),d.setTitle(s.getTitle()),t.setTitlePosition(u.titlePosition),(r=s.getIconCls())?d.setIconCls(r):(i=s.getIcon())?d.setIcon(i):(o=s.getGlyph())&&d.setGlyph(o),t.addCls(Ext.baseCSSPrefix+"header-ghost"),t.resumeLayouts(!0)}return d.setPagePosition(c.x,c.y),d.setSize(c.width,c.height),s.elVisMode=l.getVisibilityMode(),l.setVisibilityMode(Ext.Element.CLIP),l.hide(),d},ghostTools:function(){var e,t,n,i=[],r=this.header,o=r?r.query("tool[hidden=false]"):[];if(o.length)for(e=0,t=o.length;e<t;e++)n=o[e],i.push({type:n.type,tooltip:n.tooltip});else i=[{type:"placeholder"}];return i},initBodyBorder:function(){var e=this;e.frame&&e.bodyBorder&&(Ext.isNumber(e.bodyBorder)||(e.bodyBorder=1),e.getProtoBody().setStyle("border-width",this.unitizeBox(e.bodyBorder)))},initBodyStyles:function(){var e=this,t=e.getProtoBody();void 0!==e.bodyPadding&&(e.layout.managePadding?t.setStyle("padding",0):t.setStyle("padding",this.unitizeBox(!0===e.bodyPadding?5:e.bodyPadding))),e.initBodyBorder()},initBorderProps:function(){var e=this;e.frame&&e.border&&void 0===e.bodyBorder&&(e.bodyBorder=!1),e.frame&&e.border&&(!1===e.bodyBorder||0===e.bodyBorder)&&(e.manageBodyBorders=!0)},initComponent:function(){var e=this;e.collapsible&&e.addStateEvents(["expand","collapse"]),e.unstyled&&e.setUI("plain"),e.frame&&e.setUI(e.ui+"-framed"),e.bridgeToolbars(),e.initBorderProps(),e.callParent(),e.collapseDirection=e.collapseDirection||e.getHeaderPosition()||Ext.Component.DIRECTION_TOP,"number"==typeof e.animCollapse&&(e.animCollapseDuration=e.animCollapse),e.hiddenOnCollapse=new Ext.dom.CompositeElement},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var e,t=this,n=t.bodyWrapAriaRole,i=t.bodyAriaRole;return e=t.callParent(),t.initBodyStyles(),t.protoBody.writeTo(e),delete t.protoBody,t.headingText&&(e.headingText=t.headingText,t.addChildEl("headingEl")),n&&(e.bodyWrapAriaAttributes={role:n},!t.ariaStaticRoles[n]&&t.bodyWrapAriaRenderAttributes&&Ext.apply(e.bodyWrapAriaAttributes,t.bodyWrapAriaRenderAttributes)),i&&(e.bodyAriaAttributes={role:i},!t.ariaStaticRoles[i]&&t.bodyAriaRenderAttributes&&Ext.apply(e.bodyAriaAttributes,t.bodyAriaRenderAttributes)),e},calculateConstrainedPosition:function(e,t,n,i){var r,o,a=this,s=a.header;return a.constrainHeader&&(r=s.lastBox,i?i=s.vertical?[r?r.width:i[0],i[1]]:[i[0],r?r.height:i[1]]:r&&(i=[r.width,r.height]),o=a.floatParent,e=e||a.constrainTo||(o?o.getTargetEl():null)||a.container||a.el.parent()),a.callParent([e,t,n,i])},initTools:function(){var e,t,n,i=this,r=i.tools;for(i.tools=[],e=r&&r.length;e;)--e,i.tools[e]=n=r[e],n.toolOwner=i;!i.collapsible||i.hideCollapseTool||!1===i.header||i.preventHeader||(i.updateCollapseTool(),i.collapseFirst&&i.tools.unshift(i.collapseTool)),i.addTools(),i.pinnable&&i.initPinnable(),i.closable&&(i.addClsWithUI("closable"),t={xtype:"tool",type:"close",scope:i,handler:i.close,tooltip:i.closeToolText},(i.isAccordionPanel||i.disableCloseToolFocus)&&(t.focusable=!1,t.ariaRole="presentation"),i.addTool(t)),i.collapseTool&&!i.collapseFirst&&i.addTool(i.collapseTool)},isLayoutRoot:function(){return!!this.floatedFromCollapse||this.callParent()},isPlaceHolderCollapse:function(){return"placeholder"===this.collapseMode},isVisible:function(e){return this.collapsed&&this.placeholder?this.placeholder.isVisible(e):this.callParent(arguments)},onBoxReady:function(){var e,t=this;t.callParent(arguments),t.collapsed&&t.setHiddenDocked(),t.isAccordionPanel&&(t.ariaEl=t.header.titleCmp.el,t.ariaEl.dom.setAttribute("aria-expanded",!t.collapsed),t.ariaEl.dom.setAttribute("aria-controls",t.body.id),t.body.dom.setAttribute("aria-labelledby",t.header.titleCmp.id),t.body.dom.setAttribute("aria-hidden",!!t.collapsed),t.accordionHeaderKeyNav=new Ext.util.KeyNav({target:t.header.titleCmp.el,scope:t,left:t.navigateAccordionHeader,right:t.navigateAccordionHeader,up:t.navigateAccordionHeader,down:t.navigateAccordionHeader,home:t.navigateAccordionHeader,end:t.navigateAccordionHeader,space:t.toggleCollapse,enter:t.toggleCollapse,del:{alt:!0,fn:t.maybeClose}}),t.accordionBodyKeyNav=new Ext.util.KeyNav({target:t.body,scope:t,up:{ctrl:!0,fn:t.navigateAccordionBody}})),t.defaultButton&&(e=t.defaultButtonTarget?t[t.defaultButtonTarget]:t.body,t.defaultButtonKeyNav=new Ext.util.KeyNav({target:e,scope:t,defaultEventAction:"stopEvent",enter:t.fireDefaultButton}))},onHide:function(e,t,n){var i=this,r=i.dd;i.floatedFromCollapse&&i.slideOutFloatedPanel(!0),i.draggable&&r&&r.endDrag(),i.collapsed&&i.placeholder?(i.splitter&&(Ext.suspendLayouts(),i.splitter.hide(),Ext.resumeLayouts()),i.placeholder.hide()):i.callParent([e,t,n])},onRemoved:function(e){this.placeholder&&!e&&this.ownerCt.remove(this.placeholder,!1),this.callParent(arguments)},onShow:function(){var e=this;e.collapsed&&e.isPlaceHolderCollapse()?(e.splitter&&(Ext.suspendLayouts(),e.splitter.show(),Ext.resumeLayouts()),e.setHiddenState(!0),e.placeholderCollapse()):e.callParent(arguments)},placeholderCollapse:function(e,t){var n,i=this,r=i.ownerCt,o=e||i.collapseDirection,a=Ext.panel.Panel.floatCls,s=i.collapseTool,l=i.getPlaceholder(o);return(Ext.Component.layoutSuspendCount||i.isLayoutSuspended())&&(t=!1),i.fireEvent("beginfloat",i),i.isCollapsingOrExpanding=1,i.setHiddenState(!0),i.collapsed=o,l.rendered?(l.el.dom.parentNode!==i.el.dom.parentNode&&i.el.dom.parentNode.insertBefore(l.el.dom,i.el.dom),l.hidden=!1,l.setHiddenState(!1),l.el.show(),r.updateLayout()):r.insert(r.items.indexOf(i),l),i.rendered?(i.focusPlaceholderExpandTool=i.focusPlaceHolder=!1,s&&Ext.ComponentManager.getActiveComponent()===s?i.focusPlaceholderExpandTool=!0:i.containsFocus&&(i.focusPlaceHolder=!0),i.el.setVisibilityMode(i.placeholderCollapseHideMode),t?(i.el.addCls(a),l.el.hide(),n=i.convertCollapseDir(o),i.el.slideOut(n,{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{scope:i,afteranimate:function(){var e=this,t=e.placeholder.el;e.el.removeCls(a),t.show(),e.ownerCt?(t.setStyle("display","none"),t.slideIn(n,{easing:"linear",duration:100,listeners:{afteranimate:e.doPlaceholderCollapse,scope:e}})):e.doPlaceholderCollapse()}}})):(i.el.hide(),i.doPlaceholderCollapse())):(i.isCollapsingOrExpanding=0,i.preventCollapseFire||i.fireEvent("collapse",i)),i},doPlaceholderCollapse:function(){var e,t=this,n=t.placeholder,i=n.expandTool;t.focusPlaceholderExpandTool&&i?i.focus():t.focusPlaceHolder&&n.focus(),t.focusPlaceholderExpandTool=!1,n.setHiddenState(!1),n.rendered&&((e=n.ariaEl.dom).setAttribute("aria-hidden",!1),e.setAttribute("aria-expanded",!1)),(e=t.ariaEl.dom).setAttribute("aria-hidden",!0),e.setAttribute("aria-expanded",!1),t.isCollapsingOrExpanding=0,t.fireEvent("collapse",t),t.fireEvent("endfloat",t)},placeholderExpand:function(e){var t,n,i=this,r=i.collapsed,o=i.placeholder.expandTool,a=Ext.panel.Panel.floatCls,s=i.ownerLayout?i.ownerLayout.centerRegion:null;return Ext.Component.layoutSuspendCount&&(e=!1),i.floatedFromCollapse&&(n=i.getPosition(!0),i.slideOutFloatedPanelBegin(),i.slideOutFloatedPanelEnd(),i.floated=!1),o&&Ext.ComponentManager.getActiveComponent()===o&&(i.focusHeaderCollapseTool=!0,o._ariaRole=o.ariaEl.dom.getAttribute("role"),o._ariaLabel=o.ariaEl.dom.getAttribute("aria-label"),o.ariaEl.dom.setAttribute("role","presentation"),o.ariaEl.dom.removeAttribute("aria-label")),e?(Ext.suspendLayouts(),i.placeholder.hide(),i.el.show(),i.collapsed=!1,i.setHiddenState(!1),s&&!n&&(s.hidden=!0),Ext.resumeLayouts(!0),s.hidden=!1,i.floatedFromCollapse||i.fireEvent("beginfloat",i),i.el.addCls(a),i.isCollapsingOrExpanding=2,n?(t=i.getXY(),i.setLocalXY(n[0],n[1]),i.setXY([t[0],t[1]],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{scope:i,afteranimate:function(){var e=this;e.el.removeCls(a),e.isCollapsingOrExpanding=0,e.fireEvent("expand",e),e.fireEvent("endfloat",e)}}})):(i.el.hide(),i.placeholder.el.show(),i.placeholder.hidden=!1,i.setHiddenState(!1),i.el.slideIn(i.convertCollapseDir(r),{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:i.doPlaceholderExpand,scope:i}}))):(i.floated=i.collapsed=!1,i.doPlaceholderExpand(!0)),i},doPlaceholderExpand:function(e){e=!0===e;var t=this,n=t.placeholder,i=t.collapseTool,r=n.expandTool;e&&(Ext.suspendLayouts(),t.show()),t.el.removeCls(Ext.panel.Panel.floatCls),n.hide(),e?Ext.resumeLayouts(!0):t.updateLayout(),t.focusHeaderCollapseTool&&i&&i.focus(),t.focusHeaderCollapseTool=!1,n.ariaEl.dom.setAttribute("aria-expanded",!0),t.ariaEl.dom.setAttribute("aria-expanded",!0),r&&r._ariaRole&&(r.ariaEl.dom.setAttribute("role",r._ariaRole),r.ariaEl.dom.setAttribute("aria-label",r._ariaLabel),r._ariaRole=r._ariaLabel=null),t.isCollapsingOrExpanding=0,t.fireEvent("expand",t),t.fireEvent("endfloat",t)},remove:function(e,t){var n=this.dockedItems;return n&&n.contains(e)?this.removeDocked(e,t):this.callParent([e,t]),e},removeBodyCls:function(e){return(this.rendered?this.body:this.getProtoBody()).removeCls(e),this},removeUIClsFromElement:function(e){var t=this,n=t.callParent(arguments);return t.removeBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},restoreDimension:function(){var e=this.collapseDirection;return"top"===e||"bottom"===e?"height":"width"},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,!0)},setBodyStyle:function(e,t){var n=this.rendered?this.body:this.getProtoBody();return Ext.isFunction(e)&&(e=e()),1===arguments.length?(Ext.isString(e)&&(e=Ext.Element.parseStyles(e)),n.setStyle(e)):n.setStyle(e,t),this},setBorder:function(e,t){if(!t){var n=this,i=n.header;e=e?!0===e?"1px":n.unitizeBox(e):0,i&&(i.isHeader?i.setBorder(e):i.border=e),n.rendered&&!1!==n.bodyBorder&&n.body.setStyle("border-width",e),n.updateLayout(),n.border=e}},setCollapsed:function(e){this[e?"collapse":"expand"]()},setDockedItemsVisibility:function(e,t){var n,i,r=this.getDockedItems(),o=r.length,a=0;for(!1!==this.header&&(i=this.getReExpander());a<o;a++)(n=r[a])&&n!==i&&n.el&&e.add(n.el);e.setStyle("visibility",t?"":"hidden"),e.clear()},setGlyph:function(e){var t=this,n=t.glyph,i=t.header,r=t.placeholder;e!==n&&(t.glyph=e,i?i.isHeader?i.setGlyph(e):i.glyph=e:(t.rendered||t.afterHeaderInit)&&t.updateHeader(),r&&r.setGlyph&&r.setGlyph(e),t.fireEvent("glyphchange",t,e,n))},setIcon:function(e){var t=this,n=t.icon,i=t.header,r=t.placeholder;e!==n&&(t.icon=e,i?i.isHeader?i.setIcon(e):i.icon=e:(t.rendered||t.afterHeaderInit)&&t.updateHeader(),r&&r.setIcon&&r.setIcon(e),t.fireEvent("iconchange",t,e,n))},setIconCls:function(e){var t=this,n=t.iconCls,i=t.header,r=t.placeholder;e!==n&&(t.iconCls=e,i?i.isHeader?i.setIconCls(e):i.iconCls=e:(t.rendered||t.afterHeaderInit)&&t.updateHeader(),r&&r.setIconCls&&r.setIconCls(e),t.fireEvent("iconclschange",t,e,n))},setTitle:function(e){var t=this,n=t.title,i=t.header,r=t.reExpander,o=t.placeholder;e!==n&&(t.title=e,i?i.isHeader&&i.setTitle(e):(t.rendered||t.afterHeaderInit)&&t.updateHeader(),t.headingEl&&t.headingEl.setHtml(e),r&&r.setTitle(e),o&&o.setTitle&&o.setTitle(e),t.fireEvent("titlechange",t,e,n))},setHiddenDocked:function(){var e=new Ext.dom.CompositeElement;this.hiddenOnCollapse.add(this.body),e.add(this.body),this.setDockedItemsVisibility(e,!1)},setUI:function(e){this.callParent(arguments),this.header&&this.header.rendered&&this.header.setUI(e)},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var e,t=this,n=t.collapseTool;!n&&t.collapsible&&(t.collapseDirection=t.collapseDirection||t.getHeaderPosition()||"top",e={xtype:"tool",handler:t.toggleCollapse,scope:t},t.isAccordionPanel&&(e.focusable=!1,e.ariaRole="presentation"),t.collapseTool=t.expandTool=n=Ext.widget(e)),n&&(t.collapsed&&!t.isPlaceHolderCollapse()?(n.setType("expand-"+t.getOppositeDirection(t.collapseDirection)),n.setTooltip(t.expandToolText)):(n.setType("collapse-"+t.collapseDirection),n.setTooltip(t.collapseToolText)))},navigateAccordionHeader:function(e){var t,n=this;switch(e.getKey()){case e.UP:case e.LEFT:t=n.findAccordionSibling("prev");break;case e.DOWN:case e.RIGHT:t=n.findAccordionSibling("next");break;case e.HOME:t=n.findAccordionSibling("first");break;case e.END:t=n.findAccordionSibling("last");break;case e.DELETE:(t=n.findAccordionSibling("prev")||n.findAccordionSibling("next"))||(e.doNotClose=!0)}e.stopEvent(),t&&t!==n&&t.header.titleCmp.focus()},navigateAccordionBody:function(e){var t;e.getKey()===e.UP&&(t=this),e.stopEvent(),t&&t.header.titleCmp.focus()},findAccordionSibling:function(e,t){var n,i=this,r="[isAccordionPanel]";switch(e){case"prev":(n=i.prev(r))||(i.accordionWrapOver?n=i.ownerCt.child(r+":last"):t&&(n=i));break;case"next":(n=i.next(r))||(i.accordionWrapOver?n=i.ownerCt.child(r+":first"):t&&(n=i));break;case"first":n=i.ownerCt.child(r+":first");break;case"last":n=i.ownerCt.child(r+":last")}return n},fireDefaultButton:function(e){var t,n=this;if((t=(n.lookupReferenceHolder(!1)||n).lookupReference(n.defaultButton))&&t.click)return t.click(e),e.stopEvent(),!1;t?Ext.raise({msg:'Component referenced by defaultButton config "'+n.defaultButton+'" in '+n.xtype+" "+n.id+" does not have click() method",component:t}):Ext.raise({msg:'No component found for defaultButton reference "'+n.defaultButton+'" in '+n.xtype+" "+n.id,panel:n})},maybeClose:function(e){this.closable&&(this.navigateAccordionHeader(e),e.doNotClose||this.close())},canFocus:function(e,t){return this.collapsed?!(!this.placeholder||!this.placeholder.canFocus(e,t)):this.mixins.focusable.canFocus.call(this,e,t)},focus:function(){var e=this.placeholder;this.collapsed&&e&&e.canFocus()?e.focus.apply(e,arguments):this.callParent(arguments)},onFocusEnter:function(e){var t=this.ariaEl.dom;this.callParent([e]),this.isAccordionPanel&&t&&t.setAttribute("aria-selected",!0)},onFocusLeave:function(e){var t=this.ariaEl.dom;this.callParent([e]),this.isAccordionPanel&&t&&t.setAttribute("aria-selected","false")},updateHeaderPosition:function(e){var t=this.header;t&&t.isHeader&&t.setDock(e)},updateIconAlign:function(e){var t=this.header;t&&t.isHeader&&t.setIconAlign(e)},updateTitleAlign:function(e){var t=this.header;t&&t.isHeader&&t.setTitleAlign(e)},updateTitleRotation:function(e){var t=this.header;t&&t.isHeader&&t.setTitleRotation(e)},unghost:function(e,t,n){var i=this.el,r=this.ghostPanel;r&&(i.show(),i.setVisibilityMode(this.elVisMode),!1!==e?!1!==t&&this.setPagePosition(r.getXY()):i.hide(),r.el.hide(),r.setHiddenState(!0))},updateHeader:function(e){var t,n,i=this,r=i.header,o=i.getTitle(),a=i.tools,s=i.getIcon(),l=i.getGlyph(),d=i.getIconCls(),c=l||s||d,u=i.ariaEl.dom,h=i.getHeaderPosition(),f="left"===h||"right"===h;Ext.isObject(r)||!1!==r&&(e||o||c||a&&a.length||i.collapsible&&!i.titleCollapse)?(r&&r.isHeader?(r.dockToEl=!0,r.show()):(r=i.header=Ext.widget(Ext.merge({xtype:"header",title:o,titleAlign:i.getTitleAlign(),vertical:f,dock:i.getHeaderPosition()||"top",dockToEl:!0,titleRotation:i.getTitleRotation(),textCls:i.headerTextCls,iconCls:d,iconAlign:i.getIconAlign(),icon:s,glyph:l,baseCls:i.baseCls+"-header",tools:a,ui:i.ui,id:i.id+"_header",overCls:i.headerOverCls,indicateDrag:i.draggable,frame:(i.frame||i.alwaysFramed)&&i.frameHeader,ignoreParentFrame:i.frame||i.overlapHeader,ignoreBorderManagement:i.frame||i.ignoreHeaderBorderManagement,isAccordionHeader:i.isAccordionPanel,ownerCt:i,synthetic:!0,listeners:i.collapsible&&i.titleCollapse?{click:i.toggleCollapse,scope:i}:null},i.header)),i.addDocked(r,0)),i.isAccordionPanel?u?(u.setAttribute("aria-labelledby",r.id+"-title"),u.removeAttribute("aria-label")):((n=i.ariaRenderAttributes||(i.ariaRenderAttributes={}))["aria-labelledby"]=r.id+"-title",delete n["aria-label"]):o?"tabpanel"!==i.ariaRole&&(u?(u.setAttribute("aria-labelledby",r.id+"-title-textEl"),u.removeAttribute("aria-label")):((n=i.ariaRenderAttributes||(i.ariaRenderAttributes={}))["aria-labelledby"]=r.id+"-title-textEl",delete n["aria-label"])):i.ariaRenderAttributes&&delete i.ariaRenderAttributes["aria-label"]):(r&&r.hide(),o=Ext.util.Format.stripTags(o),u?u.hasAttribute("aria-labelledby")||(o?u.setAttribute("aria-label",o):u.removeAttribute("aria-label")):(n=i.ariaRenderAttributes||(i.ariaRenderAttributes={}))["aria-labelledby"]||(o?n["aria-label"]=o:delete n["aria-label"])),i.isViewportBorderChild&&!i.hasOwnProperty("ariaRole")&&(i.ariaRole="region"),"region"!==i.ariaRole||o||Ext.ariaWarn(i,"Panel "+i.id+" is a region section of the application, but it does not have a title. Per WAI-ARIA, all regions should have a heading element that contains region's title."),o&&"region"===i.ariaRole?(t=i.headingEl)?t.setHtml(o):i.rendered?(i.headingEl=Ext.dom.Helper.insertFirst(i.el,{tag:"div",id:i.id+"-headingEl",role:"heading",class:Ext.baseCSSPrefix+"hidden-clip",style:"height:0",html:o},!0),u.removeAttribute("aria-label"),u.setAttribute("aria-labelledby",i.id+"-headingEl")):(i.headingText=i.title,(n=i.ariaRenderAttributes||(i.ariaRenderAttributes={}))["aria-labelledby"]=i.id+"-headingEl",delete n["aria-label"]):i.headingEl&&(i.headingEl.destroy(),i.headingEl=null)},statics:{floatCls:Ext.baseCSSPrefix+"border-region-slide-in"},privates:{addUIToElement:function(){this.callParent(arguments),this.addBodyCls(this.baseCls+"-body-"+this.ui)},applyTargetCls:function(e){this.getProtoBody().addCls(e)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.protoBody||this.frameBody||this.el},initDraggable:function(){var e=this;e.simpleDrag?e.initSimpleDraggable():e.dd=new Ext.panel.DD(e,Ext.isBoolean(e.draggable)?null:e.draggable)},initResizable:function(e){this.callParent([e]),this.collapsed&&this.resizer.disable()},initSimpleDraggable:function(){var e=this,t=e.draggable;e.header||t.delegate||e.updateHeader(!0),(e.header||t.delegate)&&(t=Ext.apply({el:e.el,delegate:e.header&&e.header.el},t),(e.constrain||e.constrainHeader)&&(t.constrain=e.constrain,t.constrainDelegate=e.constrainHeader,t.constrainTo=e.constrainTo||e.container),t=e.dd=new Ext.util.ComponentDragger(e,t),e.relayEvents(t,["dragstart","drag","dragend"]))},removeUIFromElement:function(){this.callParent(arguments),this.removeBodyCls(this.baseCls+"-body-"+this.ui)},setupRenderTpl:function(e){this.callParent(arguments),this.setupDockingRenderTpl(e)},slideOutFloatedPanel:function(e){var t,n,i=this,r=i.el,o=function(){i.slideOutFloatedPanelEnd(),i.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in"),i.fireEvent("endfloat",i)};if(!i.isSliding&&!i.destroyed){if(i.isSliding=!0,i.floated=!1,i.slideOutFloatedPanelBegin(),e)return r.hide(),o();"string"==typeof i.collapsed&&(t=i.convertCollapseDir(i.collapsed)),i.fireEvent("beginfloat",i),r.slideOut(t,{preserveScroll:!0,duration:Ext.Number.from(i.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:o}}),this.containsFocus&&(n=this.findFocusTarget())&&n.focus()}},slideOutFloatedPanelBegin:function(){var e=this,t=(e.placeholder.el,e.el,e.bodyMousedownListener);e.collapsed=e.floatedFromCollapse,e.setHiddenState(!0),e.floatedFromCollapse=null,Ext.destroy(e.pointerLeaveListener,e.phHoverListeners,e.elHoverListeners),t&&(e.bodyMousedownListener=t.destroy())},slideOutFloatedPanelEnd:function(e){var t=this;t.collapseTool&&t.collapseTool.el.show(),t.slideOutTask.cancel(),t.isSliding=!1,e||t.fireEvent("unfloat",t)}}},function(){var e=this.prototype;e.animCollapse=Ext.enableFx,e.placeholderCollapseHideMode=Ext.Element.VISIBILITY}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",childEls:["table","tbody"],tableAttrs:null,getItemSizePolicy:function(e){return this.autoSizePolicy},initInheritedState:function(e,t){t.inShrinkWrapTable=!0},getLayoutItems:function(){var e,t,n=[],i=this.callParent(),r=i.length;for(t=0;t<r;t++)(e=i[t]).hidden||n.push(e);return n},getHiddenItems:function(){var e,t,n=[],i=this.owner.items.items,r=i.length;for(e=0;e<r;++e)(t=i[e]).rendered&&t.hidden&&n.push(t);return n},renderChildren:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getLayoutItems(),c=l.tbody.dom,u=c.rows,h=d.length,f=l.getHiddenItems();for(e=l.calculateCells(d),s=0;s<h;s++)if(n=(t=e[s]).rowIdx,i=t.cellIdx,r=d[s],(o=u[n])||(o=c.insertRow(n),l.trAttrs&&o.set(l.trAttrs)),a=Ext.get(o.cells[i]||o.insertCell(i)),r.rendered?l.isValidParent(r,a,n,i,c)||l.moveItem(r,a,0):l.renderItem(r,a,0),l.tdAttrs&&a.set(l.tdAttrs),r.tdAttrs&&a.set(r.tdAttrs),a.set({colSpan:r.colspan||1,rowSpan:r.rowspan||1,cls:l.cellCls+" "+(r.cellCls||"")}),!e[s+1]||e[s+1].rowIdx!==n)for(i++;o.cells[i];)o.deleteCell(i);for(n++;c.rows[n];)c.deleteRow(n);for(s=0,h=f.length;s<h;++s)l.ensureInDocument(f[s].getEl())},ensureInDocument:function(e){for(var t=e.dom.parentNode;t;){if("BODY"===t.tagName.toUpperCase())return;t=t.parentNode}Ext.getDetachedBody().appendChild(e)},calculate:function(e){if(e.hasDomProp("containerChildrenSizeDone")){var t=e.targetContext,n=e.widthModel.shrinkWrap,i=e.heightModel.shrinkWrap,r=i||n,o=r&&this.table.dom,a=r&&t.getPaddingInfo();n&&e.setContentWidth(o.offsetWidth+a.width,!0),i&&e.setContentHeight(o.offsetHeight+a.height,!0)}else this.done=!1},calculateCells:function(e){var t,n,i,r=[],o=0,a=0,s=0,l=this.columns||1/0,d=[],c=e.length;for(n=0;n<c;n++){for(t=e[n];a>=l||d[a]>0;)if(a>=l)for(a=0,s=0,o++,i=0;i<l;i++)d[i]>0&&d[i]--;else a++;for(r.push({rowIdx:o,cellIdx:s}),i=t.colspan||1;i;--i)d[a]=t.rowspan||1,++a;++s}return r},getRenderTree:function(){var e,t,n,i,r,o,a,s,l=this,d=l.getLayoutItems(),c=[],u=Ext.apply({tag:"table",id:l.owner.id+"-table","data-ref":"table",role:"presentation",cls:l.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",id:l.owner.id+"-tbody","data-ref":"tbody",role:"presentation",cn:c}},l.tableAttrs),h=l.tdAttrs,f=d.length;for(s=l.calculateCells(d),e=0;e<f;e++)t=d[e],r=(n=s[e]).rowIdx,o=n.cellIdx,(i=c[r])||(i=c[r]={tag:"tr",role:"presentation",cn:[]},l.trAttrs&&Ext.apply(i,l.trAttrs)),a=i.cn[o]={tag:"td",role:"presentation"},h&&Ext.apply(a,h),Ext.apply(a,{colSpan:t.colspan||1,rowSpan:t.rowspan||1,cls:l.cellCls+" "+(t.cellCls||"")}),l.configureItem(t),a.cn=t.getRenderTree();return u},isValidParent:function(e,t,n,i){return 3===arguments.length?this.table.isAncestor(e.el):e.el.dom.parentNode===this.tbody.dom.rows[n].cells[i]}}),Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",requires:["Ext.layout.container.Table"],mixins:["Ext.util.FocusableContainer"],baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",bodyAriaRole:"toolbar",focusableContainerEl:"body",initComponent:function(){var e=this,t=e.columns;t&&(e.layout=Ext.apply({},{columns:t},e.layout)),e.title||e.addClsWithUI(e.noTitleCls),e.callParent()},onBeforeAdd:function(e){e.isButton&&(this.defaultButtonUI&&"default"===e.ui&&!e.hasOwnProperty("ui")?e.ui=this.defaultButtonUI:e.ui=e.ui+"-toolbar"),this.callParent(arguments)},beforeRender:function(){var e=this;e.callParent(),e.afterHeaderInit&&!e.header&&e.title&&((e.bodyAriaRenderAttributes||(e.bodyAriaRenderAttributes={}))["aria-label"]=e.title)},updateHeader:function(e){var t,n,i=this,r=i.body;i.callParent([e]),(t=i.header)?r?(r.dom.setAttribute("aria-labelledby",t.id+"-title-textEl"),r.dom.removeAttribute("aria-label")):((n=i.bodyAriaRenderAttributes||(i.bodyAriaRenderAttributes={}))["aria-labelledby"]=t.id+"-title-textEl",delete n["aria-label"]):i.title&&(r?(r.dom.setAttribute("aria-label",i.title),r.dom.removeAttribute("aria-labelledby")):((n=i.bodyAriaRenderAttributes||(i.bodyAriaRenderAttributes={}))["aria-label"]=i.title,delete n["aria-labelledby"]))},privates:{applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e}}}),Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,clearPropertiesOnDestroy:!1,clearPrototypeOnDestroy:!1,disabled:0,constructor:function(e){Ext.apply(this,e)},destroy:function(){this.unbind(),this.callParent()},bind:function(e){this.target=e,e.on("beforedestroy",this.disable,this),this.onContainerAdd(e)},unbind:function(){var e=this,t=e.target;t&&!t.destroyed&&(e.onContainerRemove(t,t),t.un("beforedestroy",e.disable,e)),e.items=Ext.destroy(e.items)},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(e,t){this.disabled||(Ext.ComponentQuery.is(t,this.selector)&&this.onItemAdd(t.ownerCt,t),t.isQueryable&&this.onContainerAdd(t))},onItemAdd:function(e,t){var n=this.items,i=this.addHandler;this.disabled||(i&&i.call(this.scope||t,t),n&&n.add(t)),t.clearPropertiesOnDestroy=t.clearPrototypeOnDestroy=!1},onItemRemove:function(e,t){var n=this.items,i=this.removeHandler;this.disabled||(i&&i.call(this.scope||t,t),n&&n.remove(t))},onContainerAdd:function(e,t){var n,i,r,o,a=this;if(e.isContainer&&e.on({scope:a,add:a.handleAdd,dockedadd:a.handleAdd,remove:a.handleRemove,dockedremove:a.handleRemove}),!0!==t)for(r=0,i=(n=e.query(a.selector)).length;r<i;++r)o=n[r],a.onItemAdd(o.ownerCt,o);for(r=0,i=(n=e.query(">container")).length;r<i;++r)a.onContainerAdd(n[r],!0);e.clearPropertiesOnDestroy=e.clearPrototypeOnDestroy=!1},handleRemove:function(e,t){this.disabled||(Ext.ComponentQuery.is(t,this.selector)&&this.onItemRemove(e,t),t.isQueryable&&this.onContainerRemove(e,t))},onContainerRemove:function(e,t){var n,i,r,o,a=this;if(!t.destroyed&&t.isContainer&&(a.removeCtListeners(t),!t.destroying)){for(i=0,r=(n=t.query(a.selector)).length;i<r;++i)o=n[i],a.onItemRemove(o.ownerCt,o);for(i=0,r=(n=t.query("container")).length;i<r;++i)a.removeCtListeners(n[i])}a.invalidateItems(!0)},removeCtListeners:function(e){var t=this;e.un({scope:t,add:t.handleAdd,dockedadd:t.handleAdd,remove:t.handleRemove,dockedremove:t.handleRemove})},getItems:function(){var e=this.items;return e||(e=this.items=new Ext.util.MixedCollection).addAll(this.target.query(this.selector)),e},invalidateItems:function(e){var t=this,n=t.invalidateHandler;e&&n&&n.call(t.scope||t,t),t.items=Ext.destroy(t.items)}}),Ext.define("Ext.plugin.Responsive",{extend:"Ext.mixin.Responsive",alias:"plugin.responsive",id:"responsive",isPlugin:!0,constructor:function(e){var t=this,n=e.cmp,i=Ext.apply({responsiveConfig:n.responsiveConfig,responsiveFormulas:n.responsiveFormulas},e);delete i.cmp,t.cmp=n,n||Ext.raise("Responsive plugin must be constructed by Component"),t.initConfig(i),t.transformed&&(n.setConfig(t.transformed),t.transformed=null)},init:Ext.emptyFn,privates:{transformInstanceConfig:function(e){var t=this.callParent([e]);t.ptype&&delete(t=Ext.apply({},t)).ptype,this.transformed=t;var n=Ext.apply({},e);return delete n.ptype,delete n.responsiveConfig,delete n.responsiveFormulas,n},updateResponsiveState:function(){var e=this.getResponsiveState();this.cmp.setConfig(e)}}}),Ext.define("Ext.plugin.Viewport",{extend:"Ext.plugin.Responsive",alias:"plugin.viewport",setCmp:function(e){this.cmp=e,e&&!e.isViewport&&(this.decorate(e),e.renderConfigs&&e.flushRenderConfigs(),e.setupViewport())},statics:{decorate:function(e){Ext.applyIf(e.prototype||e,{ariaRole:"application",viewportCls:Ext.baseCSSPrefix+"viewport"}),Ext.override(e,{isViewport:!0,preserveElOnDestroy:!0,initComponent:function(){this.callParent(),this.setupViewport()},getSizeModel:function(){var e=Ext.layout.SizeModel.configured;return e.pairsByHeightOrdinal[e.ordinal]},handleViewportResize:function(){var e=Ext.dom.Element,t=e.getViewportWidth(),n=e.getViewportHeight();t===this.width&&n===this.height||this.setSize(t,n)},setupViewport:function(){var e=this,t=document.body;t.id||(t.id=e.id),t.setAttribute("data-componentid",e.id),e.ariaStaticRoles[e.ariaRole]||t.setAttribute("role",e.ariaRole),t=e.el=Ext.getBody(),Ext.fly(document.documentElement).addCls(e.viewportCls),t.setHeight=t.setWidth=Ext.emptyFn,t.dom.scroll="no",e.allowDomMove=!1,e.renderTo=t,Ext.supports.Touch&&e.addMeta("apple-mobile-web-app-capable","yes"),Ext.getScrollbarSize(),e.width=e.height=void 0,e.initialViewportHeight=Ext.Element.getViewportHeight(),e.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(e){Ext.supports.Touch&&(document.body.scrollTop=0),this.callParent([e])},onRender:function(){var e=this,t=(e.getOverflowEl(),Ext.getBody());e.callParent(arguments),Ext.setViewportScroller(e.getScrollable()||{x:!1,y:!1,element:t}),e.getOverflowEl()!==t&&t.setStyle("overflow","hidden"),e.width=e.initialViewportWidth,e.height=e.initialViewportHeight,e.initialViewportWidth=e.initialViewportHeight=null},initInheritedState:function(e,t){var n=Ext.rootInheritedState;e!==n?this.initInheritedState(this.inheritedState=n,this.inheritedStateInner=Ext.Object.chain(n)):this.callParent([e,t])},doDestroy:function(){var e,t=this,n=Ext.rootInheritedState;for(e in n)"rtl"!==e&&delete n[e];t.removeUIFromElement(),t.el.removeCls(t.baseCls),Ext.fly(document.body.parentNode).removeCls(t.viewportCls),t.callParent()},addMeta:function(e,t){var n=document.createElement("meta");n.setAttribute("name",e),n.setAttribute("content",t),Ext.getHead().appendChild(n)},privates:{applyTargetCls:function(e){this.el===this.getTargetEl()?this.el.addCls(e):this.callParent([e])},disableTabbing:function(){var e=this.el;e&&e.saveTabbableState({skipSelf:!0})},enableTabbing:function(){var e=this.el;e&&e.restoreTabbableState(!0)}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize(),this.callParent()}}},function(e){e.prototype.decorate=e.decorate}),Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",requires:["Ext.plugin.Viewport"],mixins:["Ext.mixin.Responsive"],alias:"widget.viewport",alternateClassName:"Ext.Viewport",ariaRole:"application",privates:{updateResponsiveState:function(){this.handleViewportResize(),this.mixins.responsive.updateResponsiveState.call(this)}}},function(){Ext.plugin.Viewport.decorate(this)}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(e){var t,n,i,r,o,a=0;for(this.callParent(arguments),o=(i=e.childItems).length,r=0;r<o&&(!(t=(n=i[r]).target.anchorSpec)||(n.widthModel.calculated&&t.right&&(a|=1),n.heightModel.calculated&&t.bottom&&(a|=2),3!==a));++r);e.anchorDimensions=a,this.sanityCheck(e)},calculateItems:function(e,t){var n,i,r,o,a,s,l=e.childItems,d=l.length,c=t.gotHeight,u=t.gotWidth,h=t.height,f=t.width,g=(u?1:0)|(c?2:0),p=e.anchorDimensions;if(!p)return!0;for(a=0;a<d;a++)r=(i=l[a]).getMarginInfo(),n=i.target.anchorSpec,u&&i.widthModel.calculated&&(s=n.right(f)-r.width,s=this.adjustWidthAnchor(s,i),i.setWidth(s)),c&&i.heightModel.calculated&&(o=n.bottom(h)-r.height,o=this.adjustHeightAnchor(o,i),i.setHeight(o));return(g&p)===p},sanityCheck:function(e){var t,n,i,r,o,a=e.widthModel.shrinkWrap,s=e.heightModel.shrinkWrap,l=e.childItems;for(r=0,o=l.length;r<o;++r)(t=(n=(i=l[r]).target).anchorSpec)&&(i.widthModel.calculated&&t.right&&a&&Ext.log({level:"warn",msg:"Right anchor on "+n.id+" in shrinkWrap width container"}),i.heightModel.calculated&&t.bottom&&s&&Ext.log({level:"warn",msg:"Bottom anchor on "+n.id+" in shrinkWrap height container"}))},anchorFactory:{offset:function(e){return function(t){return t+e}},ratio:function(e){return function(t){return Math.floor(t*e)}},standard:function(e){return function(t){return t-e}}},parseAnchor:function(e,t,n){if(e&&"none"!==e){var i,r=this.anchorFactory;if(this.parseAnchorRE.test(e))return r.standard(n-t);if(-1!==e.indexOf("%"))return r.ratio(.01*parseFloat(e.replace("%","")));if(i=parseInt(e,10),!isNaN(i))return r.offset(i)}return null},adjustWidthAnchor:function(e,t){return e},adjustHeightAnchor:function(e,t){return e},configureItem:function(e){var t,n,i,r=this,o=r.owner,a=e.anchor;r.callParent(arguments),e.anchor||!e.items||Ext.isNumber(e.width)||(e.anchor=a=r.defaultAnchor),o.anchorSize?"number"==typeof o.anchorSize?n=o.anchorSize:(n=o.anchorSize.width,i=o.anchorSize.height):(n=o.initialConfig.width,i=o.initialConfig.height),a&&(t=a.split(" "),e.anchorSpec={right:r.parseAnchor(t[0],e.initialConfig.width,n),bottom:r.parseAnchor(t[1],e.initialConfig.height,i)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t,n=e.anchorSpec,i="$",r=this.sizePolicy;return n&&(t=this.owner.getSizeModel(),n.right&&!t.width.shrinkWrap&&(r=r.r),n.bottom&&!t.height.shrinkWrap&&(i="b")),r[i]}}),Ext.define("Ext.dashboard.Panel",{extend:"Ext.panel.Panel",xtype:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-panel",anchor:"100%",layout:"fit",frame:!0,closable:!0,collapsible:!0,animCollapse:!0,titleCollapse:!0,stateful:!0,draggable:{moveOnDrag:!1},animateClose:!0,loadMask:!0,loadMessage:"Loading...",minHeight:90,resizable:!0,resizeHandles:"s",doClose:function(){var e=this;e.animateClose?e.closing||(e.closing=!0,e.el.animate({opacity:0,callback:e.finishClose,scope:e})):e.finishClose()},finishClose:function(){var e=this,t=e.closeAction;e.closing=!1,e.fireEvent("close",e),Ext.suspendLayouts(),e[t](),Ext.resumeLayouts(!0),"hide"===t&&e.el.setOpacity(1)},afterRender:function(){this.callParent(),this.loading&&this.onViewBeforeLoad()},getLoadMask:function(){var e,t=this.rendered&&this.loadMask;return t&&!t.isComponent&&(e={target:this},!0===t?t=e:Ext.apply(e,t),this.loadMask=t=Ext.ComponentManager.create(e,"loadmask")),t||null},onAdd:function(e){this.callParent(arguments),e.on({beforeload:"onViewBeforeLoad",load:"onViewLoaded",scope:this})},onViewBeforeLoad:function(){this.loading=!0;var e=this.getLoadMask();e&&e.show()},onViewLoaded:function(){this.loading=!1;var e=this.getLoadMask();e&&e.hide();var t=this.items.getAt(0);if(t.getTitle){var n=t.getTitle();n&&this.setTitle(n)}},setBox:function(e){this.setSize(e.width,e.height)},getState:function(){var e=this,t=e.callParent()||{};return t.collapsed||e.addPropertyToState(t,"height",e.rendered?e.getHeight():e.height||e.minHeight||100),t}}),Ext.define("Ext.dashboard.Column",{extend:"Ext.container.Container",xtype:"dashboard-column",requires:["Ext.layout.container.Anchor","Ext.dashboard.Panel"],layout:"anchor",isDashboardColumn:!0,defaultType:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-column",synthetic:!0,onRemove:function(e,t){var n,i,r,o,a=this,s=a.ownerCt,l=0;if(s&&0===a.items.getCount()&&(i=(n=Ext.Array.filter(s.query(">"+a.xtype+"[rowIndex="+a.rowIndex+"]"),function(e){return e!==a})).length,!a.destroying&&!a.destroyed)){if(s.remove(a),1===i)n[0].columnWidth=1;else{for(o=0;o<i;o++)l+=n[o].columnWidth||0;for(o=0;o<i;o++)r=n[o].columnWidth,n[o].columnWidth=Math.floor(r/l*100)/100}t&&s.updateLayout()}}}),Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Auto",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",clearSide:"left",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,setsItemSize:!0,needsItemSize:!0,isItemShrinkWrap:function(e){return!0},getItemSizePolicy:function(e,t){return e.columnWidth&&(t||(t=this.owner.getSizeModel()),!t.width.shrinkWrap)?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(e,t){var n,i,r,o,a,s,l=this.columnCount,d=e.targetContext,c=e.childItems,u=c.length,h=0,f=t.gotWidth;if(!1===f)d.domBlock(this,"width"),n=!0;else{if(!f)return!0;i=t.width}for(r=0;r<u;++r)o=c[r],l&&(r%l?o.setProp("clear",null):o.setProp("clear",this.clearSide)),a=o.getMarginInfo().width,o.widthModel.calculated||("number"!=typeof(s=o.getProp("width"))&&(o.block(this,"width"),n=!0),h+=s+a);if(!n){for(i=i<h?0:i-h,r=0;r<u;++r)(o=c[r]).widthModel.calculated&&(a=o.marginInfo.width,s=o.target.columnWidth,s=Math.floor(s*i)-a,h+=(s=o.setWidth(s))+a);e.setContentWidth(h+e.paddingContext.getPaddingInfo().width)}return!n}}),Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.dragRegion=new Ext.util.Region(0,0,0,0),t.el&&t.initEl(t.el),t.mixins.observable.constructor.call(t),t.disabled&&t.disable(),Ext.supports.Touch&&Ext.getWin().on({touchstart:"onWindowTouchStart",scope:t,capture:!0})},initEl:function(e){var t,n,i=this,r=i.delegate;i.el=e=Ext.get(e),e.addCls(Ext.baseCSSPrefix+"unselectable"),r&&r.isElement&&(i.handle=r),i.delegate=i.handle?void 0:i.delegate,Ext.supports.Touch&&(n=(t=Ext.ComponentManager.fromElement(e))&&t.getScrollable())&&(t=n.getElement(),n=!(i.handle&&!t.contains(i.handle))&&(!(i.delegate&&!t.down(i.delegate))&&(n.getX()||n.getY()))),i.handle||(i.handle=e),i.handleListeners={scope:i,delegate:i.delegate,dragstart:i.onDragStart},n?(i.handleListeners.longpress=i.onMouseDown,i.handleListeners.mousedown={fn:i.onMouseDown,delegate:i.delegate,translate:!1},i.handleListeners.contextmenu=function(e){e.stopEvent()}):i.handleListeners.mousedown=i.onMouseDown,Ext.supports.TouchEvents||!i.trackOver&&!i.overCls||Ext.apply(i.handleListeners,{mouseover:i.onMouseOver,mouseout:i.onMouseOut}),i.mon(i.handle,i.handleListeners),i.keyNav=new Ext.util.KeyNav({target:e,up:i.onResizeKeyDown,left:i.onResizeKeyDown,right:i.onResizeKeyDown,down:i.onResizeKeyDown,scope:i})},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){var e=this;e.endDrag({}),e.el=e.handle=e.onBeforeStart=e.onStart=e.onDrag=e.onEnd=e.onCancel=null,e.callParent()},onWindowTouchStart:function(e){this.mouseIsDown&&this.onMouseUp(e)},onMouseOver:function(e,t){var n,i,r,o,a,s=this;if(!s.disabled&&(e.within(e.target,!0,!0)||s.delegate)){if(n=s.handleCls,s.mouseIsOut=!1,n)for(r=0,o=s.handleEls.length;r<o;r++)(a=(i=s.handleEls[r]).delegateCls)||(a=i.delegateCls=[n,"-",i.region,"-over"].join("")),i.addCls([a,s.overCls]);s.fireEvent("mouseover",s,e,s.delegate?e.getTarget(s.delegate,t):s.handle)}},onMouseOut:function(e){var t,n,i,r=this;if(r.mouseIsDown)r.mouseIsOut=!0;else{if(r.handleCls)for(n=0,i=r.handleEls.length;n<i;n++)(t=r.handleEls[n]).removeCls([t.delegateCls,r.overCls]);r.fireEvent("mouseout",r,e)}},onMouseDown:function(e,t){var n=this,i=e.parentEvent||e;n.disabled||i.dragTracked||(n.dragTarget=n.delegate?t:n.handle.dom,n.startXY=n.lastXY=e.getXY(),n.startRegion=Ext.fly(n.dragTarget).getRegion(),!1!==n.fireEvent("mousedown",n,e)&&!1!==n.fireEvent("beforedragstart",n,e)&&!1!==n.onBeforeStart(e)&&(n.mouseIsDown=!0,i.dragTracked=!0,n.el.setCapture(),e.stopPropagation(),!1===n.preventDefault&&"touch"!==e.pointerType||e.preventDefault(),Ext.getDoc().on({scope:n,capture:!0,mouseup:n.onMouseUp,mousemove:n.onMouseMove,selectstart:n.stopSelect}),n.dragEnded=!1,n.tolerance?n.autoStart&&(n.timer=Ext.defer(n.triggerStart,!0===n.autoStart?1e3:n.autoStart,n,[e])):n.triggerStart()))},onMouseMove:function(e,t){var n=this,i=e.getXY(),r=n.startXY;if(e.stopPropagation(),!1!==n.preventDefault&&e.preventDefault(),!n.dragEnded){if(n.lastXY=i,!n.active){if(!(Math.max(Math.abs(r[0]-i[0]),Math.abs(r[1]-i[1]))>n.tolerance))return;n.triggerStart(e)}!1===n.fireEvent("mousemove",n,e)?n.onMouseUp(e):(n.onDrag(e),n.fireEvent("drag",n,e))}},onMouseUp:function(e){var t=this;t.mouseIsDown=!1,t.mouseIsOut&&(t.mouseIsOut=!1,t.onMouseOut(e)),!1!==t.preventDefault&&e.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),t.fireEvent("mouseup",t,e),t.endDrag(e)},endDrag:function(e){var t=this,n=t.active;Ext.getDoc().un({mousemove:t.onMouseMove,mouseup:t.onMouseUp,selectstart:t.stopSelect,capture:!0,scope:t}),t.clearStart(),t.active=!1,t.dragEnded=!0,n?(t.onEnd(e),t.fireEvent("dragend",t,e)):t.onCancel(e),t._constrainRegion=null},triggerStart:function(e){var t=this;t.clearStart(),t.active=!0,t.onStart(e),t.fireEvent("dragstart",t,e)},clearStart:function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null)},stopSelect:function(e){return e.stopEvent(),!1},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onCancel:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region)return e.constrainTo;e._constrainRegion||(e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion())}else e._constrainRegion||(e._constrainRegion=e.getDragCt().getViewRegion());return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),n=this.startXY;return[t[0]-n[0],t[1]-n[1]]},onDragStart:function(e){e.stopPropagation()},constrainModes:{point:function(e,t){var n=e.dragRegion,i=e.getConstrainRegion();return i?(n.x=n.left=n[0]=n.right=t[0],n.y=n.top=n[1]=n.bottom=t[1],n.constrainTo(i),[n.left,n.top]):t},dragTarget:function(e,t){var n,i=e.startXY,r=e.startRegion.copy(),o=e.getConstrainRegion();return o?(r.translateBy(t[0]-i[0],t[1]-i[1]),r.right>o.right&&(t[0]+=n=o.right-r.right,r.left+=n),r.left<o.left&&(t[0]+=o.left-r.left),r.bottom>o.bottom&&(t[1]+=n=o.bottom-r.bottom,r.top+=n),r.top<o.top&&(t[1]+=o.top-r.top),t):t}}}),Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var e,t=Ext.dom.Element;(e=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"})).unselectable(),e.setSize(t.getDocumentWidth(),t.getDocumentHeight()),e.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(":not([hidden])")},getNextCmp:function(){return this.getSplitter().nextSibling(":not([hidden])")},onBeforeStart:function(e){var t,n=this,i=n.getPrevCmp(),r=n.getNextCmp(),o=n.getSplitter().collapseEl,a=e.getTarget();return!(!i||!r)&&((!o||a!==o.dom)&&(!r.collapsed&&!i.collapsed&&(n.prevBox=i.getEl().getBox(),n.nextBox=r.getEl().getBox(),n.constrainTo=t=n.calculateConstrainRegion(),t||!1)))},onMouseDown:function(e,t){this.callParent([e,t]),this.mouseIsDown&&this.getSplitter().el.dom===t&&Ext.dom.Element.maskIframes()},onMouseUp:function(e){this.callParent([e]),Ext.dom.Element.unmaskIframes()},onStart:function(e){var t=this.getSplitter();this.createDragOverlay(),t.addCls(t.baseCls+"-active")},onResizeKeyDown:function(e){var t,n=this,i=n.getSplitter(),r=e.getKey(),o="vertical"===i.orientation?0:1,a=r===e.UP||r===e.LEFT?-1:1;!n.active&&n.onBeforeStart(e)&&(Ext.fly(e.target).on("keyup",n.onResizeKeyUp,n),n.triggerStart(e),n.onMouseDown(e),n.startXY=i.getXY(),n.lastKeyDownXY=Ext.Array.slice(n.startXY),(t=n.easing=new Ext.fx.easing.Linear).setStartTime(Ext.Date.now()),t.setStartValue(1),t.setEndValue(4),t.setDuration(2e3)),n.active&&(n.lastKeyDownXY[o]=Math.round(n.lastKeyDownXY[o]+a*n.easing.getValue()),n.lastXY=n.lastKeyDownXY,i.setXY(n.getXY("dragTarget")))},onResizeKeyUp:function(e){this.onMouseUp(e)},calculateConstrainRegion:function(){var e,t,n,i=this,r=i.getSplitter(),o=r.getWidth(),a=r.defaultSplitMin,s=r.orientation,l=i.prevBox,d=i.getPrevCmp(),c=i.nextBox,u=i.getNextCmp();return"vertical"===s?(n={prevCmp:d,nextCmp:u,prevBox:l,nextBox:c,defaultMin:a,splitWidth:o},e=new Ext.util.Region(l.y,i.getVertPrevConstrainRight(n),l.bottom,i.getVertPrevConstrainLeft(n)),t=new Ext.util.Region(c.y,i.getVertNextConstrainRight(n),c.bottom,i.getVertNextConstrainLeft(n))):(e=new Ext.util.Region(l.y+(d.minHeight||a),l.right,(d.maxHeight?l.y+d.maxHeight:c.bottom-(u.minHeight||a))+o,l.x),t=new Ext.util.Region((u.maxHeight?c.bottom-u.maxHeight:l.y+(d.minHeight||a))-o,c.right,c.bottom-(u.minHeight||a),c.x)),e.intersect(t)},performResize:function(e,t){for(var n,i,r=this,o=r.getSplitter(),a=o.orientation,s=r.getPrevCmp(),l=r.getNextCmp(),d=o.ownerCt,c=d.query(">[flex]"),u=c.length,h="vertical"===a,f=0,g=h?"width":"height";f<u;f++)n=c[f],i=h?n.getWidth():n.getHeight(),n.flex=i;t=h?t[0]:t[1],s&&(i=r.prevBox[g]+t,s.flex?s.flex=i:s[g]=i),l&&(i=r.nextBox[g]-t,l.flex?l.flex=i:l[g]=i),d.updateLayout()},endDrag:function(){this.overlay&&(this.overlay.destroy(),delete this.overlay),this.callParent(arguments)},onEnd:function(e){var t=this.getSplitter();t.removeCls(t.baseCls+"-active"),this.performResize(e,this.getResizeOffset())},onDrag:function(e){var t=this.getOffset("dragTarget"),n=this.getSplitter(),i=n.getEl();"vertical"===n.orientation?i.setX(this.startRegion.left+t[0]):i.setY(this.startRegion.top+t[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(e){return(e.prevCmp.maxWidth?e.prevBox.x+e.prevCmp.maxWidth:e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin))+e.splitWidth},getVertPrevConstrainLeft:function(e){return e.prevBox.x+(e.prevCmp.minWidth||e.defaultMin)},getVertNextConstrainRight:function(e){return e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin)},getVertNextConstrainLeft:function(e){return(e.nextCmp.maxWidth?e.nextBox.right-e.nextCmp.maxWidth:e.prevBox.x+(e.prevBox.minWidth||e.defaultMin))-e.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}}),Ext.define("Ext.layout.container.ColumnSplitterTracker",{extend:"Ext.resizer.SplitterTracker",onStart:function(e){Ext.apply(this.getSplitter().el.dom.style,{top:0,left:0}),this.callParent(arguments)},endDrag:function(){this.callParent(arguments),this.getSplitter().el.dom.style.left=0},performResize:function(e,t){var n,i,r,o=this,a=o.getPrevCmp(),s=o.getNextCmp(),l=o.getSplitter().ownerCt,d=t[0];a&&s&&(a.width=n=o.prevBox.width+d,s.width=i=o.nextBox.width-d,r=(a.columnWidth+s.columnWidth)/(n+i),a.columnWidth=n*r,s.columnWidth=i*r),l.updateLayout()}}),Ext.define("Ext.layout.container.ColumnSplitter",{extend:"Ext.resizer.Splitter",xtype:"columnsplitter",requires:["Ext.layout.container.ColumnSplitterTracker"],isSplitter:!0,synthetic:!0,cls:Ext.baseCSSPrefix+"splitter-vertical",orientation:"vertical",collapseDirection:"left",trackerClass:"Ext.layout.container.ColumnSplitterTracker",width:7,height:1,getTrackerConfig:function(){var e=this.callParent();return e.xclass=this.trackerClass,e}}),Ext.define("Ext.layout.container.Dashboard",{extend:"Ext.layout.container.Column",alias:"layout.dashboard",requires:["Ext.layout.container.ColumnSplitter"],type:"dashboard",firstColumnCls:Ext.baseCSSPrefix+"dashboard-column-first",lastColumnCls:Ext.baseCSSPrefix+"dashboard-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},getColumns:function(e){var t=Ext.Array;return t.filter(t.from(e),function(e){return e.target&&!0!==e.target.isSplitter})},beginLayout:function(e){var t=this;t.callParent([e]);var n,i,r,o,a,s,l,d=e.childItems,c=e.rows=[],u=d.length,h=2,f=0,g=0,p=t.owner.getMaxColumns();for(i=0;i<u;++i)f+=(a=(s=(n=d[i]).target)&&s.isSplitter)?0:1,(h+(l=a?0:s.columnWidth||1)>1||p&&f>p)&&(r&&(r.orphan=1,r.el.setHeight(0)),h=0,f=1,c.length&&(g=c.length-1,t.syncFirstLast(t.getColumns(c[g].items))),c.push(o={index:c.length,items:[],maxHeight:0})),h+=l,o.items.push(n),n.row=o,s.rowIndex=o.index,a&&n.el.setHeight(1),r=n;c.length&&t.syncFirstLast(t.getColumns(c[c.length-1].items))},beforeLayoutCycle:function(e){var t=this,n=t.owner.items;t.splitterGen!==n.generation&&(t.syncSplitters(),t.splitterGen=n.generation),t.callParent(arguments)},finishedLayout:function(e){var t,n,i,r,o,a=e.childItems,s=a.length;for(this.callParent([e]),i=0;i<s;i+=2)t=(r=(n=a[i]).target).lastBox,(o=n.row).maxHeight=Math.max(o.maxHeight,t.height),r.width=t.width;for(i=1;i<s;i+=2)r=(n=a[i]).target,n.orphan||r.el.setHeight(n.row.maxHeight)},syncSplitters:function(){for(var e,t=this.owner,n=t.items.items,i=n.length,r=!0,o=!1;i-- >0;)e=n[i],o?e.isSplitter?o=!1:(r&&(r=!1,t.suspendLayouts()),t.add(i+1,this.getSplitterConfig())):e.isSplitter?(r&&(r=!1,t.suspendLayouts()),t.remove(e)):o=!0;for(;n.length&&(e=n[0]).isSplitter;)r&&(r=!1,t.suspendLayouts()),t.remove(e);r||t.resumeLayouts()},syncFirstLast:function(e){var t,n,i,r,o=this.firstColumnCls,a=this.lastColumnCls,s=[o,a];for(t=(e=Ext.Array.from(e)).length,n=0;n<t;++n)i=e[n].target,r=n===t-1,n?r?(i.addCls(a),i.removeCls(o)):i.removeCls(s):r?i.addCls(s):(i.addCls(o),i.removeCls(a))}}),Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(e,t,n){e&&this.initTarget(e,t,n)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,requires:["Ext.dd.DragDropManager"],dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var e=Ext.dd.DragDropManager;e.fireEvents=Ext.Function.createSequence(e.fireEvents,this.onFire,this),e.stopDrag=Ext.Function.createSequence(e.stopDrag,this.onStop,this),this.doScroll=this.doScroll.bind(this),this.ddmInstance=e,this.els={},this.dragEl=null,this.proc={}},onStop:function(e){var t=Ext.dd.ScrollManager;t.dragEl=null,t.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){var e=this;if(e.ddmInstance.dragCurrent){var t=e.proc,n=t.el,i=t.component,r=t.el.ddScrollConfig,o=r&&r.increment?r.increment:e.increment,a=r&&"animate"in r?r.animate:e.animate,s=function(){e.triggerRefresh()};a&&(!0===a?a={callback:s}:a.callback=a.callback?Ext.Function.createSequence(a.callback,s):s),i?(o*=e.dirTrans[t.dir],"up"===t.dir||"down"===t.dir?i.scrollBy(0,o,a):i.scrollBy(o,0,a)):n.scroll(t.dir,o,a),a||s()}},clearProc:function(){var e=this.proc;e.id&&clearInterval(e.id),e.id=0,e.el=null,e.dir=""},startProc:function(e,t){var n,i,r=this,o=r.proc;r.clearProc(),o.el=e,o.dir=t,n=e.ddScrollConfig?e.ddScrollConfig.ddGroup:void 0,i=e.ddScrollConfig&&e.ddScrollConfig.frequency?e.ddScrollConfig.frequency:r.frequency,void 0!==n&&r.ddmInstance.dragCurrent.ddGroup!==n||(o.id=Ext.interval(r.doScroll,i))},onFire:function(e,t){var n,i,r,o,a,s,l,d=this;if(!t&&d.ddmInstance.dragCurrent){for(o in d.dragEl&&d.dragEl===d.ddmInstance.dragCurrent||(d.dragEl=d.ddmInstance.dragCurrent,d.refreshCache()),n=e.getPoint(),i=d.proc,r=d.els)if(s=(a=r[o])._region,l=a.ddScrollConfig||d,s&&s.contains(n)&&a.isScrollable()){if(s.bottom-n.y<=l.vthresh)return void(i.el!==a&&d.startProc(a,"down"));if(s.right-n.x<=l.hthresh)return void(i.el!==a&&d.startProc(a,"right"));if(n.y-s.top<=l.vthresh)return void(i.el!==a&&d.startProc(a,"up"));if(n.x-s.left<=l.hthresh)return void(i.el!==a&&d.startProc(a,"left"))}d.clearProc()}},register:function(e){if(Ext.isArray(e))for(var t=0,n=e.length;t<n;t++)this.register(e[t]);else e=Ext.get(e),this.els[e.id]=e},unregister:function(e){if(Ext.isArray(e))for(var t=0,n=e.length;t<n;t++)this.unregister(e[t]);else e=Ext.get(e),delete this.els[e.id]},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var e,t=this.els;for(e in t)"object"==typeof t[e]&&(t[e]._region=t[e].getRegion())}}),Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(e,t){this.el=Ext.get(e),Ext.apply(this,t),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},containerScroll:!1,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(e,t,n){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(e,t,n){return this.dropAllowed},notifyOut:function(e,t,n){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(e,t,n){return this.overClass&&this.el.removeCls(this.overClass),!1},destroy:function(){this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el),this.callParent()}}),Ext.define("Ext.dashboard.DropZone",{extend:"Ext.dd.DropTarget",ddScrollConfig:{vthresh:75,hthresh:-1,animate:!0,increment:200},containerScroll:!0,overClass:Ext.baseCSSPrefix+"dashboard-dd-over",constructor:function(e,t){this.dashboard=e,e.body.ddScrollConfig=this.ddScrollConfig,this.callParent([e.body,t])},getOverEvent:function(e,t,n){var i,r,o,a,s,l,d,c,u,h=this.dashboard,f=h.body,g=h.items.items,p=f.getBox(),m=g.length,x=t.getXY(),E=x[0]-p.x+f.getScrollLeft(),v=x[1]-p.y+f.getScrollTop(),y={columnIndex:0,column:null,dashboard:h,above:null,extensible:!1,beforeAfter:0,data:n,panel:n.panel,rawEvent:t,source:e,status:this.dropAllowed};for(o=0;o<m;o+=2){if(l=(s=g[o]).lastBox.width,g[o+1]&&(l+=g[o+1].lastBox.width),t.within(s.el)){if(y.columnIndex=o,y.column=s,y.extensible=this.isRowExtensible(s.rowIndex),i=Math.min(80,.2*l),y.beforeAfter=i=y.extensible&&(E<i?-1:E>l-i?1:0),!i||!y.extensible)for(a=0,d=(c=s.items.items).length;a<d;++a){if(v<(r=(u=c[a]).el.getHeight())/2){y.above=u;break}v-=r}break}E-=l}return y},notifyOver:function(e,t,n){var i,r,o,a=this.dashboard,s=this.getOverEvent(e,t,n),l=s.column&&s.column.el,d=e.proxy,c=s.above,u=0,h=a.hasListeners;return n.lastOver=s,h.validatedrop&&!1===a.fireEvent("validatedrop",s)||h.beforedragover&&!1===a.fireEvent("beforedragover",s)||(i=e.panelProxy.getProxy(),d.getProxy().setWidth("auto"),l?(u=r=l.getWidth(),s.beforeAfter?(e.panelProxy.moveProxy(l.dom,l.dom.firstChild),u=r/2,i.setWidth(u)):(c?e.panelProxy.moveProxy(c.el.dom.parentNode,c.el.dom):e.panelProxy.moveProxy(l.dom,null),i.setWidth("auto")),i.setStyle({float:"none",clear:"none","margin-left":s.beforeAfter>0?r-u-l.getPadding("lr")+"px":"","margin-top":"7px"})):(o=a.body.getPadding("lr"),i.setStyle({float:"left",clear:"left",margin:"0 7px 0 7px"}),i.setWidth(a.body.getWidth()-o),e.panelProxy.moveProxy(a.body.dom.firstChild.firstChild,null)),this.scrollPos=a.body.getScroll(),h.dragover&&a.fireEvent("dragover",s)),s.status},isRowExtensible:function(e){var t=this.dashboard,n=t.getMaxColumns()||1;return Ext.Array.from(t.query(">dashboard-column[rowIndex="+e+"]")).length<n},notifyDrop:function(e,t,n){this.callParent(arguments);var i,r,o=this.dashboard,a=n.lastOver,s=a.panel,l=s.ownerCt,d=a.column,c=d?a.beforeAfter:1,u=l.items.indexOf(s),h=d?a.above?d.items.indexOf(a.above):d.items.getCount():0,f=o.hasListeners;if(l===d){if(1===l.items.getCount())return;if(!c&&(u<h&&--h,u===h))return}f.validatedrop&&!1===o.fireEvent("validatedrop",a)||f.beforedrop&&!1===o.fireEvent("beforedrop",a)||(Ext.suspendLayouts(),s.isMoving=!0,c&&((i=o.items.indexOf(d))<0?i=o.items.getCount():c>0&&++i,r=o.createColumn(),d?(r.columnWidth=d.columnWidth=d.columnWidth/2,delete d.width):r.columnWidth=1,d=o.insert(i,r),h=0),s.el.dom.style.display="",d.insert(h,s),s.isMoving=!1,d.updateLayout(),Ext.resumeLayouts(!0),f.drop&&o.fireEvent("drop",a))}}),Ext.define("Ext.dashboard.Part",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Identifiable"],requires:["Ext.util.ObjectTemplate"],alias:"part.part",factoryConfig:{type:"part"},isPart:!0,_lastId:0,config:{id:null,dashboard:null,viewTemplate:{collapsed:"{collapsed}",columnIndex:"{columnIndex}",id:"{id}",title:"{title}",height:"{height}"}},viewTemplateOptions:{excludeProperties:{bind:1}},valueRe:/^[{][a-z]*[}]$/i,constructor:function(e){this.initConfig(e)},applyViewTemplate:function(e){return Ext.isObject(e)||Ext.raise("The viewTemplate for "+this.$className+" is not an Object"),Ext.util.ObjectTemplate.create(e,this.viewTemplateOptions)},displayForm:function(e,t,n,i){n.call(i||this,{})},createView:function(e){var t=this.getViewTemplate().apply(e);return t.dashboard=this.getDashboard(),t.part=this,t._partConfig=e,t}}),Ext.define("Ext.dashboard.Dashboard",{extend:"Ext.panel.Panel",xtype:"dashboard",requires:["Ext.layout.container.Dashboard","Ext.dashboard.DropZone","Ext.dashboard.Column","Ext.dashboard.Part"],isDashboard:!0,cls:Ext.baseCSSPrefix+"dashboard",bodyCls:Ext.baseCSSPrefix+"dashboard-body",defaultType:"dashboard-column",scrollable:!0,layout:null,stateful:!1,idSeed:1,config:{parts:null},renderConfig:{maxColumns:4},initComponent:function(){this.layout||(this.layout={type:"dashboard"}),this.callParent()},applyParts:function(e,t){var n,i;for(n in t||(t=new Ext.util.Collection({decoder:Ext.Factory.part})),e)i=e[n],Ext.isString(i)&&(i={type:i}),i.id=n,i.dashboard=this,t.add(i);return t},getPart:function(e){return this.getParts().getByKey(e)},addNew:function(e,t,n){var i=this;i.getPart(e).displayForm(null,null,function(r){r.type=e,i.addView(r,t,n)})},addView:function(e,t,n){var i,r=this,o=r.query("dashboard-column"),a=o.length,s=t||0,l=e.id?e:r.createView(e),d=r.columnWidths;return a||(o=[i=r.add(0,r.createColumn({columnWidth:Ext.isArray(d)?d[0]:1}))],a=1),s>=a&&(s=a-1,n=1),!n&&(i=o[s])?i.add(l):(n>0&&++s,i=r.createColumn(),d&&(i.columnWidth=d[s]||(d[s]=1)),i.items||(i.items=[]),i.items.push(l),(i=r.add(i)).items.first())},createColumn:function(e){var t=this.cycleLayout;return Ext.apply({items:[],bubbleEvents:["add","remove","childmove","resize"],listeners:{remove:this.onRemoveItem,expand:t,collapse:t,scope:this}},e)},createView:function(e){var t=e.type,n=this.getPart(t).createView(e);return n.id||(n.id=this.id+"_"+t+this.idSeed++),n.bubbleEvents=Ext.Array.from(n.bubbleEvents).concat(["expand","collapse"]),n.stateful=this.stateful,n},initEvents:function(){this.callParent(),this.dd=new Ext.dashboard.DropZone(this,this.dropConfig)},cycleLayout:function(){this.updateLayout()},doDestroy:function(){this.dd&&Ext.destroy(this.dd),this.callParent()},applyState:function(e){delete e.items;this.callParent([e]);var t,n,i=e.columnWidths,r=this.items.items,o=r.length;if(i)for(n=i.length,this.columnWidths=[],t=0;t<o;++t)this.columnWidths.push(r[t].columnWidth=t<n?i[t]:1/o)},getState:function(){var e,t,n=this,i=[],r=n.items.items,o=n.callParent()||{},a=r.length;for(e=0;e<a;++e)(t=r[e]).isSplitter||i.push(t.columnWidth);return o.columnWidths=i,o.idSeed=n.idSeed,o.items=n.serializeItems(),n.columnWidths=i,o},initItems:function(){var e,t=this,n=t.defaultContent;t.stateful&&(n=(e=Ext.state.Manager.get(t.getStateId()))&&e.items||n),!t.items&&n&&(t.items=t.deserializeItems(n)),t.callParent()},deserializeItems:function(e){var t,n,i,r,o,a,s=e.length,l=[],d=this.columnWidths,c=this.getMaxColumns();for(r=0;r<s;++r)a=e[r],n=Math.min(a.columnIndex||0,c-1),delete a.columnIndex,(t=l[n])||(l[n]=t=this.createColumn(),(i=d&&d[n])&&(t.columnWidth=i)),o=this.createView(a),t.items.push(o);for(r=0,s=l.length;r<s;++r)(t=l[r]).columnWidth||(t.columnWidth=1/s);return l},serializeItem:function(e){return Ext.apply({type:e.part.id,id:e.id,columnIndex:e.columnIndex},e._partConfig)},serializeItems:function(){var e,t,n,i,r,o,a=this.items.items,s=a.length,l=[],d=0;for(n=0;n<s;++n)if(!(i=a[n]).isSplitter){for(r=0,o=(t=i.items.items).length;r<o;++r)(e=t[r]).columnIndex=d,l.push(this.serializeItem(e));++d}return l},onRemoveItem:function(e,t){t.stateful&&!t.isMoving&&Ext.state.Manager.clear(t.getStateId())}}),Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(e,t){var n;this.callParent([e,t]),(n=this.containerScroll)&&(e=this.scrollEl||e,e=Ext.get(e),Ext.isObject(n)&&(e.ddScrollConfig=n),Ext.dd.ScrollManager.register(e))},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(e,t){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(e,t),!0},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el),this.callParent()}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(e,t){if("string"==typeof e)return e;var n=e.id;return n||!1===t||(n="extdd-"+ ++this.autoIdSeed,e.id=n),n},register:function(e,t){if(t=t||{},"string"==typeof e&&(e=document.getElementById(e)),t.ddel=e,this.elements[this.getId(e)]=t,!1!==t.isHandle&&(this.handles[t.ddel.id]=t),t.handles){var n,i,r=t.handles;for(n=0,i=r.length;n<i;n++)this.handles[this.getId(r[n])]=t}},unregister:function(e){var t,n,i,r=this.getId(e,!1),o=this.elements[r];if(o&&(delete this.elements[r],o.handles))for(n=0,i=(t=o.handles).length;n<i;n++)delete this.handles[this.getId(t[n],!1)]},getHandle:function(e){return"string"!=typeof e&&(e=e.id),this.handles[e]},getHandleFromEvent:function(e){var t=e.getTarget();return t?this.handles[t.id]:null},getTarget:function(e){return"string"!=typeof e&&(e=e.id),this.elements[e]},getTargetFromEvent:function(e){var t=e.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}}),Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(e,t,n,i){},onNodeOver:function(e,t,n,i){return this.dropAllowed},onNodeOut:function(e,t,n,i){},onNodeDrop:function(e,t,n,i){return!1},onContainerOver:function(e,t,n){return this.dropNotAllowed},onContainerDrop:function(e,t,n){return!1},notifyEnter:function(e,t,n){return this.callParent([e,t,n]),this.dropNotAllowed},notifyOver:function(e,t,n){var i=this,r=i.getTargetFromEvent(t);return r?(i.lastOverNode!==r&&(i.lastOverNode&&i.onNodeOut(i.lastOverNode,e,t,n),i.onNodeEnter(r,e,t,n),i.lastOverNode=r),i.onNodeOver(r,e,t,n)):(i.lastOverNode&&(i.onNodeOut(i.lastOverNode,e,t,n),i.lastOverNode=null),i.onContainerOver(e,t,n))},notifyOut:function(e,t,n){this.callParent([e,t,n]),this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,n),this.lastOverNode=null)},notifyDrop:function(e,t,n){var i=this,r=i.getTargetFromEvent(t),o=r?i.onNodeDrop(r,e,t,n):i.onContainerDrop(e,t,n);return i.lastOverNode&&(i.onNodeOut(i.lastOverNode,e,t,n),i.lastOverNode=null),o},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.dom.Layer",{extend:"Ext.Element",alternateClassName:"Ext.Layer",isLayer:!0,constructor:function(e,t){e=e||{};var n,i,r,o,a=this,s=Ext.DomHelper,l=e.parentEl,d=l?Ext.getDom(l):document.body,c=e.hideMode,u=Ext.baseCSSPrefix+(e.fixed?"fixed-layer":"layer");t&&((n=Ext.getDom(t)).parentNode||d.appendChild(n)),n||(n=s.append(d,e.dh||{tag:"div",cls:u})),e.id&&(n.id=e.id),(i=n.id)&&(r=Ext.cache[i])&&(delete Ext.cache[i],r.dom=null),this.callParent([n]),t&&a.addCls(u),e.preventSync&&(a.preventSync=!0),e.cls&&a.addCls(e.cls),a.constrain=!1!==e.constrain,c?a.setVisibilityMode(Ext.Element[c.toUpperCase()]):e.useDisplay?a.setVisibilityMode(Ext.Element.DISPLAY):a.setVisibilityMode(Ext.Element.VISIBILITY),e.shadow?(a.shadowOffset=e.shadowOffset||4,o={offset:a.shadowOffset,fixed:e.fixed},!0!==e.shadow&&(o.mode=e.shadow),a.enableShadow(o)):a.shadowOffset=0,e.shim&&a.enableShim({fixed:e.fixed}),!0===e.hidden?a.hide():!1===e.hidden&&a.show()}}),Ext.define("Ext.event.publisher.MouseEnterLeave",{extend:"Ext.event.publisher.Dom",type:"mouseEnterLeave"},function(e){var t={mouseover:"mouseenter",mouseout:"mouseleave"};Ext.supports.MouseEnterLeave||e.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],publishDelegatedDomEvent:function(e){var n,i,r,o,a,s;n=(e=this.callParent([e])).getTarget(),(i=e.getRelatedTarget())&&Ext.fly(n).contains(i)||(r=n.id)&&(o=Ext.cache[r])&&(a=t[e.type],e=e.chain({type:a}),o.hasListeners[a]&&(s=o.events[a])&&(s=s.directs)&&(e.setCurrentTarget(o.dom),s.fire(e,e.target)))}}),e.instance=new e}),Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}" role="application"></div>'],initComponent:function(){"swfobject"in window||Ext.raise("The SWFObject library is not loaded. Ext.flash.Component requires SWFObject version 2.2 or later: http://code.google.com/p/swfobject/"),this.url||Ext.raise('The "url" config is required for Ext.flash.Component'),this.callParent()},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var e=this,t=Ext.apply({},e.flashParams),n=Ext.apply({},e.flashVars);e.callParent(),t=Ext.apply({allowScriptAccess:"always",bgcolor:e.backgroundColor,wmode:e.wmode},t),n=Ext.apply({allowedDomain:document.location.hostname},n),new swfobject.embedSWF(e.url,e.getSwfId(),e.swfWidth,e.swfHeight,e.flashVersion,e.expressInstall?e.statics.EXPRESS_INSTALL_URL:void 0,n,t,e.flashAttributes,e.swfCallback.bind(e))},swfCallback:function(e){var t=this;e.success?(t.swf=Ext.get(e.ref),t.onSuccess(),t.fireEvent("success",t)):(t.onFailure(),t.fireEvent("failure",t))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,doDestroy:function(){var e=this.swf;e&&(swfobject.removeSWF(this.getSwfId()),this.swf=Ext.destroy(e)),this.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(e){e&&Ext.apply(this,e);var t=e.params;Ext.isString(t)&&(this.params=Ext.Object.fromQueryString(t))},run:Ext.emptyFn,onFailure:function(e){var t=this.form,n=t&&!t.destroying&&!t.destroyed;this.response=e,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,n&&t.afterAction(this,!1)},processResponse:function(e){return this.response=e,!e.responseText&&!e.responseXML||(this.result=this.handleResponse(e))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var e=this;return{success:e.onSuccess,failure:e.onFailure,scope:e,timeout:1e3*(e.timeout||e.form.timeout)}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var t=this.processResponse(e),n=this.form,i=n&&!n.destroying&&!n.destroyed;if(!0===t||!t.success||!t.data)return this.failureType=Ext.form.action.Action.LOAD_FAILURE,void(i&&n.afterAction(this,!1));i&&(n.clearInvalid(),n.setValues(t.data),n.afterAction(this,!0))},handleResponse:function(e){var t,n,i=this.form.reader;return i?(n=(t=i.read(e)).records&&t.records[0]?t.records[0].data:null,{success:t.success,data:n}):Ext.decode(e.responseText)}}),Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var e=this,t=e.form;!1===e.clientValidation||t.isValid()?e.doSubmit():(e.failureType=Ext.form.action.Action.CLIENT_INVALID,t.afterAction(e,!1))},doSubmit:function(){var e,t=this,n=Ext.apply(t.createCallback(),{url:t.getUrl(),method:t.getMethod(),headers:t.headers}),i=t.form,r=t.jsonSubmit||i.jsonSubmit,o=r?"jsonData":"params";i.hasUpload()?(e=t.buildForm(),n.form=e.formEl,n.isUpload=!0):n[o]=t.getParams(r),Ext.Ajax.request(n),e&&t.cleanup(e)},cleanup:function(e){var t,n,i=e.formEl,r=e.uploadEls,o=e.uploadFields,a=o.length;for(t=0;t<a;++t)(n=o[t]).clearOnSubmit||n.restoreInput(r[t]);i&&Ext.removeNode(i)},getParams:function(e){var t=this.callParent(),n=this.form.getValues(!1,!1,!1!==this.submitEmptyText,e,!0);return Ext.apply({},n,t)},buildForm:function(){var e,t,n,i,r,o,a,s,l,d=this,c=[],u=d.form,h=d.getParams(),f=[],g=[],p=u.getFields().items,m=p.length;for(n=0;n<m;++n)(i=p[n]).isFileUpload()&&f.push(i);for(r in h)if(h.hasOwnProperty(r))if(o=h[r],Ext.isArray(o))for(s=o.length,a=0;a<s;a++)c.push(d.getFieldConfig(r,o[a]));else c.push(d.getFieldConfig(r,o));for((e={tag:"form",role:"presentation",action:d.getUrl(),method:d.getMethod(),target:d.target?Ext.isString(d.target)?d.target:Ext.fly(d.target).dom.name:"_self",style:"display:none",cn:c}).target||Ext.raise("Invalid form target."),f.length&&(e.encoding=e.enctype="multipart/form-data"),t=Ext.DomHelper.append(Ext.getBody(),e),m=f.length,n=0;n<m;++n)l=f[n].extractFileInput(),t.appendChild(l),g.push(l);return{formEl:t,uploadFields:f,uploadEls:g}},getFieldConfig:function(e,t){return{tag:"input",type:"hidden",name:e,value:Ext.String.htmlEncode(t)}},onSuccess:function(e){var t=this.form,n=t&&!t.destroying&&!t.destroyed,i=!0,r=this.processResponse(e);!0===r||r.success||(r.errors&&n&&t.markInvalid(r.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,i=!1),n&&t.afterAction(this,i)},handleResponse:function(e){var t,n,i,r,o,a,s=this.form.errorReader;if(s){if(n=[],o=(t=s.read(e)).records)for(i=0,r=o.length;i<r;i++)n[i]=o[i].data;n.length<1&&(n=null),a={success:t.success,errors:n}}else try{a=Ext.decode(e.responseText)}catch(e){a={success:!1,errors:[]}}return a}}),Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var e=this.buildForm();e.formEl.submit(),this.cleanup(e)}}),Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(e,t){this.comp=e,this.initialConstrainTo=t.constrainTo,this.callParent([t])},onStart:function(e){var t=this,n=t.comp;t.dragTarget=t.el,t.startRegion=t.el.getRegion(),t.startPosition=n.getXY(),n.ghost&&!n.liveDrag&&(t.proxy=n.ghost()),(t.constrain||t.constrainDelegate)&&(t.constrainTo=t.calculateConstrainRegion()),n.beginDrag&&n.beginDrag(),n.el.shim&&Ext.dom.Element.maskIframes()},calculateConstrainRegion:function(){var e,t,n=this,i=n.comp,r=n.initialConstrainTo||n.comp.el.dom.parentNode,o=i.constraintInsets,a=n.proxy?n.proxy.el:i.el,s=a.shadow,l=s&&!n.constrainDelegate&&i.constrainShadow&&!s.disabled?s.getShadowSize():0;return r=r instanceof Ext.util.Region?r.copy():Ext.fly(r).getConstrainRegion(),o&&(o=Ext.isObject(o)?o:Ext.Element.parseBox(o),r.adjust(o.top,o.right,o.bottom,o.left)),l&&r.adjust(l[0],-l[1],-l[2],l[3]),n.constrainDelegate&&(e=Ext.fly(n.handle).getRegion(),t=a.getRegion(),r.adjust(t.top-e.top,t.right-e.right,t.bottom-e.bottom,t.left-e.left)),r},onDrag:function(e){var t=this,n=t.proxy&&!t.comp.liveDrag?t.proxy:t.comp,i=t.getOffset(t.constrain||t.constrainDelegate?"dragTarget":null);n.setPagePosition(t.startPosition[0]+i[0],t.startPosition[1]+i[1])},onEnd:function(e){var t=this.comp;t.destroyed||t.destroying||(this.proxy&&!t.liveDrag&&t.unghost(),t.endDrag&&t.endDrag(),t.el.shim&&Ext.dom.Element.unmaskIframes())}}),Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,alignOnScroll:!1,itemCls:Ext.baseCSSPrefix+"window-item",overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,ariaRole:"dialog",focusable:!0,tabGuard:!0,closeToolText:"Close dialog",keyMap:{scope:"this",ESC:"onEsc"},maskClickAction:"focus",disableCloseToolFocus:!0,initComponent:function(){var e=this;e.frame=!1,e.callParent(),e.plain&&e.addClsWithUI("plain"),e.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e;return(e=this.callParent()).tabIndex=-1,e},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var e,t=this,n=t.callParent()||{},i=!!t.maximized,r=t.ghostBox;return n.maximized=i,e=i?t.restorePos:r?[r.x,r.y]:t.getPosition(!0),Ext.apply(n,{size:i?t.restoreSize:t.getSize(),pos:e}),n},applyState:function(e){var t=this;e&&(t.maximized=e.maximized,t.maximized?(t.hasSavedRestore=!0,t.restoreSize=e.size,t.restorePos=e.pos):Ext.apply(t,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]}))},onRender:function(e,t){var n=this;n.callParent(arguments),n.header&&n.header.on({scope:n,click:n.onHeaderClick}),n.maximizable&&n.header.on({scope:n,dblclick:n.toggleMaximize})},afterRender:function(){var e=this,t=e.header;e.maximized&&(e.maximized=!1,e.maximize(null,!0),t&&t.removeCls(t.indicateDragCls)),e.callParent(),e.initTabGuards()},onEsc:function(e){e.stopEvent(),this.close()},doDestroy:function(){var e=this;e.rendered&&(Ext.un("resize",e.onWindowResize,e),delete e.animateTarget,e.hide()),e.callParent()},addTools:function(){var e=this,t=[];e.callParent(),e.minimizable&&t.push({type:"minimize",handler:"minimize",scope:e}),e.maximizable&&t.push({type:"maximize",handler:"toggleMaximize",scope:e}),t.length&&e.addTool(t)},addTool:function(e){this.callParent([e]),this.rendered&&this.tabGuard&&this.initTabGuards()},add:function(){var e;return e=this.callParent(arguments),this.rendered&&this.tabGuard&&this.initTabGuards(),e},remove:function(){var e;return e=this.callParent(arguments),this.rendered&&this.tabGuard&&this.initTabGuards(),e},addDocked:function(){var e;return e=this.callParent(arguments),this.rendered&&this.tabGuard&&this.initTabGuards(),e},removeDocked:function(){var e;return e=this.callParent(arguments),this.rendered&&this.tabGuard&&this.initTabGuards(),e},onShow:function(){var e=this;e.callParent(arguments),e.expandOnShow&&e.expand(!1),e.syncMonitorWindowResize(),e.rendered&&e.tabGuard&&e.initTabGuards()},doClose:function(){var e=this;e.hidden?(e.fireEvent("close",e),"destroy"!==e.closeAction||e.destroying||e.destroyed||e.destroy()):e.hide(e.animateTarget,e.doClose,e)},afterHide:function(){var e=this;e.syncMonitorWindowResize(),e.callParent(arguments),e.rendered&&e.tabGuard&&e.initTabGuards()},onWindowResize:function(){var e,t=this;t.destroyed||(t.maximized?t.fitContainer():(((e=t.getSizeModel()).width.natural||e.height.natural)&&t.updateLayout(),t.doConstrain()))},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(e){this.header.resumeLayouts(e?this.isRootCfg:null)},afterCollapse:function(){var e=this,t=e.header,n=e.tools;t&&e.maximizable&&(t.suspendLayouts(),n.maximize.hide(),this.resumeHeaderLayout(!0)),e.resizer&&e.resizer.disable(),e.callParent(arguments)},afterExpand:function(){var e,t=this,n=t.header,i=t.tools;n&&(n.suspendLayouts(),t.maximizable&&(i.maximize.show(),e=!0),this.resumeHeaderLayout(e)),t.resizer&&t.resizer.enable(),t.callParent(arguments)},maximize:function(e,t){var n,i=this,r=i.header,o=i.tools,a=i.width,s=i.height;return i.maximized||i.maximizing||(i.maximizing=!0,i.expand(!1),i.hasSavedRestore||(i.restoreSize={width:a||null,height:s||null},i.restorePos=t?[i.x||0,i.y||0]:i.getPosition()),r&&(r.suspendLayouts(),o.maximize&&o.maximize.setType("restore"),i.collapseTool&&(i.collapseTool.hide(),n=!0),i.resumeHeaderLayout(n)),i.el.disableShadow(),i.dd&&(i.dd.disable(),r&&r.removeCls(r.indicateDragCls)),i.resizer&&i.resizer.disable(),i.el.addCls(Ext.baseCSSPrefix+"window-maximized"),i.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),i.syncMonitorWindowResize(),i.fitContainer(e=e||i.animateTarget?{callback:function(){i.maximizing=!1,i.maximized=!0,t||i.fireEvent("maximize",i)}}:null),e||(i.maximizing=!1,i.maximized=!0,t||i.fireEvent("maximize",i))),i},restore:function(e){var t,n=this,i=n.tools,r=n.header,o=n.restoreSize;return n.maximized&&(n.hasSavedRestore=null,n.removeCls(Ext.baseCSSPrefix+"window-maximized"),r&&(r.suspendLayouts(),i.maximize&&i.maximize.setType("maximize"),n.collapseTool&&(n.collapseTool.show(),t=!0),n.resumeHeaderLayout(t)),o.x=n.restorePos[0],o.y=n.restorePos[1],n.setBox(o,e=e||n.animateTarget?{callback:function(){n.el.enableShadow(null,!0),n.maximized=!1,n.fireEvent("restore",n)}}:null),n.restorePos=n.restoreSize=null,n.dd&&(n.dd.enable(),r&&r.addCls(r.indicateDragCls)),n.resizer&&n.resizer.enable(),n.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),n.syncMonitorWindowResize(),e||(n.el.enableShadow(null,!0),n.maximized=!1,n.fireEvent("restore",n))),n},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,n=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,i=e.hidden||e.destroying||e.destroyed;n&&!i?t||(Ext.on("resize",e.onWindowResize,e,{buffer:1}),e._monitoringResize=!0):t&&(Ext.un("resize",e.onWindowResize,e),e._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var e=this.callParent(arguments);return e.xtype="window",e.focusOnToFront=!1,e},getDefaultFocus:function(){var e,t,n=this.defaultFocus;return void 0!==n&&(Ext.isNumber(n)?e=this.query("button")[n]:Ext.isString(n)?(t=n,Ext.validIdRe.test(t)&&(e=this.down(Ext.makeIdSelector(t))),e||(e=this.down(t))):n.focus&&(e=n)),e},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(e,t){var n;e.el.contains(t.getTarget())&&(n=this.getDefaultFocus())&&n.focus()},initResizable:function(e){this.callParent([e]),(this.maximized||this.maximizing)&&this.resizer.disable()},initSimpleDraggable:function(){var e;this.callParent(),((e=this.dd)&&this.maximized||this.maximizing)&&e.disable()},onTabGuardFocusEnter:function(e,t){var n,i,r,o=this.el,a=this.tabGuardBeforeEl,s=this.tabGuardAfterEl,l=e.relatedTarget;(n=o.findTabbableElements({skipSelf:!0}))[0]===a.dom&&n.shift(),n[n.length-1]===s.dom&&n.pop(),0===n.length?r=o:i=l===o.dom?t===a.dom:o.contains(l)?!!e.forwardTab:t===a.dom,(r=r||(i?n[0]:n[n.length-1]))&&r.focus()}}}),Ext.define("Ext.form.Labelable",{extend:"Ext.Mixin",requires:["Ext.XTemplate","Ext.overrides.dom.Element"],isLabelable:!0,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl","ariaErrorEl","ariaStatusEl","ariaHelpEl","labelTextEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"','<tpl if="inputId && !skipLabelForAttribute"> for="{inputId}"</tpl>'," {labelAttrTpl}>",'<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<span id="{id}-labelTextEl" data-ref="labelTextEl" class="{labelTextCls}">','<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","</span>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" role="presentation"',' class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}",'<tpl if="renderAriaElements">','<tpl if="ariaHelp">','<span id="{id}-ariaHelpEl" data-ref="ariaHelpEl"',' class="'+Ext.baseCSSPrefix+'hidden-offsets">',"{ariaHelp}","</span>","</tpl>",'<span id="{id}-ariaStatusEl" data-ref="ariaStatusEl" aria-hidden="true"',' class="'+Ext.baseCSSPrefix+'hidden-offsets">',"{ariaStatus}","</span>",'<span id="{id}-ariaErrorEl" data-ref="ariaErrorEl" aria-hidden="true" aria-live="assertive"',' class="'+Ext.baseCSSPrefix+'hidden-clip">',"</span>","</tpl>","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="presentation" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{tipAnchorTarget}">',"</div>","</div>","</tpl>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],ariaActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors" between=". ">{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",topLabelCls:Ext.baseCSSPrefix+"form-item-label-top",rightLabelCls:Ext.baseCSSPrefix+"form-item-label-right",labelInnerCls:Ext.baseCSSPrefix+"form-item-label-inner",labelTextCls:Ext.baseCSSPrefix+"form-item-label-text",topLabelSideErrorCls:Ext.baseCSSPrefix+"form-item-label-top-side-error",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",errorWrapCls:Ext.baseCSSPrefix+"form-error-wrap",errorWrapSideCls:Ext.baseCSSPrefix+"form-error-wrap-side",errorWrapUnderCls:Ext.baseCSSPrefix+"form-error-wrap-under",errorWrapUnderSideLabelCls:Ext.baseCSSPrefix+"form-error-wrap-under-side-label",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",invalidIconCls:Ext.baseCSSPrefix+"form-invalid-icon",invalidUnderCls:Ext.baseCSSPrefix+"form-invalid-under",noLabelCls:Ext.baseCSSPrefix+"form-item-no-label",fieldBodyCls:"",extraFieldBodyCls:"",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:!0,ariaHelp:void 0,ariaErrorText:"Input error. {0}.",labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var e,t,n=this.tip;n||(e={id:"ext-form-error-tip",sticky:!0,ui:"form-invalid"},Ext.supports.Touch&&(e.dismissDelay=0,e.anchor="top",e.showDelay=0,e.showOnTap=!0,e.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.activeTarget.el).getWidth()}}),n=this.tip=Ext.create("Ext.tip.QuickTip",e),(t=Ext.apply({},n.tagConfig)).attribute="errorqtip",n.setTagConfig(t))},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var e=this,t=e.padding;t&&(e.padding=void 0,e.extraMargins=Ext.Element.parseBox(t)),Ext.isIE8&&(e.restoreDisplay=Ext.Function.createDelayed(e.doRestoreDisplay,0,e)),e.activeErrorsTpl||("title"===e.msgTarget?e.activeErrorsTpl=e.plaintextActiveErrorsTpl:e.activeErrorsTpl=e.htmlActiveErrorsTpl),e.addCls([e.formItemCls,e.formItemCls+"-"+e.ui]),e.lastActiveError="",e.enableBubble("errorchange")},trimLabelSeparator:function(){var e=this.labelSeparator,t=this.fieldLabel||"";return t.substr(t.length-1)===e?t.slice(0,-1):t},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(e){e=e||"";var t=this,n=t.labelSeparator,i=(t.labelEl,t.errorWrapEl),r="top"!==t.labelAlign,o=t.noLabelCls,a=t.errorWrapUnderSideLabelCls;t.fieldLabel=e,t.rendered&&(Ext.isEmpty(e)&&t.hideEmptyLabel?(t.addCls(o),r&&i&&i.removeCls(a)):(n&&(e=t.trimLabelSeparator()+n),t.labelTextEl.dom.innerHTML=e,t.removeCls(o),r&&i&&i.addCls(a)),t.updateLayout())},setHideLabel:function(e){var t=this;e!==t.hideLabel&&(t.hideLabel=e,t.rendered&&(t[e?"addCls":"removeCls"](t.noLabelCls),t.updateLayout()))},setHideEmptyLabel:function(e){var t=this;e!==t.hideEmptyLabel&&(t.hideEmptyLabel=e,t.rendered&&!t.hideLabel&&(t[e&&!t.getFieldLabel()?"addCls":"removeCls"](t.noLabelCls),t.updateLayout()))},getInsertionRenderData:function(e,t){for(var n,i,r=t.length;r--;)(i=this[n=t[r]])&&"string"!=typeof i&&(i.isTemplate||(i=Ext.XTemplate.getTpl(this,n)),i=i.apply(e)),e[n]=i||"";return e},getLabelableRenderData:function(){var e,t,n=this,i=n.labelAlign,r="top"===i,o="right"===i,a="side"===n.msgTarget,s="under"===n.msgTarget,l=n.errorMsgCls,d=n.labelPad,c=n.labelWidth,u=n.labelClsExtra||"",h=a?n.errorWrapSideCls:n.errorWrapUnderCls,f="",g="",p=n.hasVisibleLabel(),m=n.autoFitErrors,x=n.defaultBodyWidth;return r?(u+=" "+n.topLabelCls,d&&(g="padding-bottom:"+d+"px;"),a&&!m&&(u+=" "+n.topLabelSideErrorCls)):(o&&(u+=" "+n.rightLabelCls),d&&(f+=n.getHorizontalPaddingStyle()+d+"px;"),f+="width:"+(c+(d||0))+"px;",g="width:"+c+"px"),p&&!r&&s&&(h+=" "+n.errorWrapUnderSideLabelCls),x&&(e="min-width:"+x+"px;max-width:"+x+"px;"),t={id:n.id,inputId:n.getInputId(),labelCls:n.labelCls,labelClsExtra:u,labelStyle:f+(n.labelStyle||""),labelInnerStyle:g,labelInnerCls:n.labelInnerCls,labelTextCls:n.labelTextCls,skipLabelForAttribute:!!n.skipLabelForAttribute,unselectableCls:Ext.Element.unselectableCls,bodyStyle:e,baseBodyCls:n.baseBodyCls,fieldBodyCls:n.fieldBodyCls,extraFieldBodyCls:n.extraFieldBodyCls,errorWrapCls:n.errorWrapCls,errorWrapExtraCls:h,renderError:a||s,invalidMsgCls:a?n.invalidIconCls:s?n.invalidUnderCls:"",errorMsgCls:l,growCls:n.grow?n.growCls:"",tipAnchorTarget:n.id+"-inputEl",errorWrapStyle:a&&!m?"visibility:hidden":"display:none",fieldLabel:n.getFieldLabel(),labelSeparator:n.labelSeparator,renderAriaElements:!!n.renderAriaElements,ariaStatus:""},n.ariaHelp&&(t.ariaHelp=Ext.String.htmlEncode(n.ariaHelp)),n.getInsertionRenderData(t,n.labelableInsertions),t},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var e=this;e.setFieldDefaults(e.getInherited().fieldDefaults),e.ownerLayout&&e.addCls(Ext.baseCSSPrefix+e.ownerLayout.type+"-form-item"),e.hasVisibleLabel()||e.addCls(e.noLabelCls)},onLabelRender:function(){var e,t,n=this,i={},r=Ext.Element,o=n.errorWrapEl;if(o&&o.setVisibilityMode("side"!==n.msgTarget||n.autoFitErrors?r.DISPLAY:r.VISIBILITY),n.extraMargins){for(t in e=n.el.getMargin())e.hasOwnProperty(t)&&(i["margin-"+t]=e[t]+n.extraMargins[t]+"px");n.el.setStyle(i)}},hasVisibleLabel:function(){return!this.hideLabel&&!(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(e){this.setActiveErrors(e)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(e){var t,n,i,r,o,a,s=this,l=s.errorWrapEl,d=s.msgTarget,c="side"===d,u="qtip"===d,h=s.ariaErrorEl;e=Ext.Array.from(e),i=s.lookupTpl("activeErrorsTpl"),s.activeErrors=e,n=s.activeError=i.apply({fieldLabel:s.fieldLabel,errors:e,listCls:Ext.baseCSSPrefix+"list-plain"}),s.renderActiveError(),s.rendered&&(t=s.getActionEl(),c?s.errorEl.dom.setAttribute("data-errorqtip",n):u?t.dom.setAttribute("data-errorqtip",n):"title"===d&&t.dom.setAttribute("title",n),"title"!==d&&h&&(o=s.lookupTpl("ariaActiveErrorsTpl").apply({errors:e}),a=Ext.String.formatEncode(s.ariaErrorText,o,s.fieldLabel),h.dom.innerHTML!==a&&(h.dom.innerHTML=a),s.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(o)),(c||u)&&Ext.form.Labelable.initTip(),s.msgTargets[d]||(r=Ext.get(d))&&(r.dom.innerHTML=n)),l&&(l.setVisible(e.length>0),c&&s.autoFitErrors&&s.labelEl.addCls(s.topLabelSideErrorCls),s.updateLayout())},unsetActiveError:function(){var e,t,n=this,i=n.errorWrapEl,r=n.ariaErrorEl,o=n.msgTarget,a=n.restoreDisplay;n.hasActiveError()&&(delete n.activeError,delete n.activeErrors,n.renderActiveError(),n.rendered&&(e=n.getActionEl(),"qtip"===o?e.dom.removeAttribute("data-errorqtip"):"title"===o&&e.dom.removeAttribute("title"),"title"!==o&&r&&(r.dom.innerHTML=n.ariaStatusEl.dom.innerHTML=""),n.msgTargets[o]||(t=Ext.get(o))&&(t.dom.innerHTML=""),i&&(i.hide(),"side"===o&&n.autoFitErrors&&n.labelEl.removeCls(n.topLabelSideErrorCls),n.updateLayout(),a&&(n.el.dom.style.display="block",n.restoreDisplay()))))},doRestoreDisplay:function(){var e=this.el;e&&e.dom&&(e.dom.style.display="")},renderActiveError:function(){var e=this,t=e.getActiveError(),n=!!t;t!==e.lastActiveError&&(e.lastActiveError=t,e.fireEvent("errorchange",e,t)),!e.rendered||e.destroyed||e.preventMark||(e.toggleInvalidCls(n),e.errorEl&&(e.errorEl.dom.innerHTML=t))},toggleInvalidCls:function(e){this.el[e?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(e){var t;for(t in e)this.hasOwnProperty(t)||(this[t]=e[t])}},function(){Ext.supports.Touch&&(this.prototype.msgTarget="side")}),Ext.define("Ext.form.field.Field",{mixinId:"field",isFormField:!0,config:{validation:null,validationField:null},disabled:!1,submitValue:!0,validateOnChange:!0,valuePublishEvent:"change",suspendCheckChange:0,dirty:!1,initField:function(){var e,t,n=this,i=n.valuePublishEvent;n.initValue();var r=this.name;if(r&&Ext.Array.indexOf(["tagName","nodeName","children","childNodes"],r)>-1&&Ext.log.warn(['It is recommended to not use "',r,'" as a field name, because it ',"can cause naming collisions during form submission."].join("")),Ext.isString(i))n.on(i,n.publishValue,n);else for(t=0,e=i.length;t<e;++t)n.on(i[t],n.publishValue,n)},initValue:function(){var e=this;"value"in e&&(e.suspendCheckChange++,e.setValue(e.value),e.suspendCheckChange--),e.initialValue=e.originalValue=e.lastValue=e.getValue()},cleanupField:function(){delete this._ownerRecord},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){return this.value=e,this.checkChange(),this},isEqual:function(e,t){return String(e)===String(t)},isEqualAsString:function(e,t){return String(Ext.valueFrom(e,""))===String(Ext.valueFrom(t,""))},getSubmitData:function(){var e=null;return!this.disabled&&this.submitValue&&((e={})[this.getName()]=""+this.getValue()),e},getModelData:function(e,t){var n=null;return this.disabled||!this.submitValue&&t||((n={})[this.getFieldIdentifier()]=this.getValue()),n},reset:function(){var e=this;e.beforeReset(),e.setValue(e.originalValue),e.clearInvalid(),delete e.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){var e,t,n=this;n.suspendCheckChange||n.destroying||n.destroyed||(e=n.getValue(),t=n.lastValue,n.didValueChange(e,t)&&(n.lastValue=e,n.fireEvent("change",n,e,t),n.onChange(e,t)))},didValueChange:function(e,t){return!this.isEqual(e,t)},onChange:function(e){this.validateOnChange&&this.validate(),this.checkDirty()},publishValue:function(){this.rendered&&!this.getErrors().length&&this.publishState("value",this.getValue())},isDirty:function(){return!this.disabled&&!this.isEqual(this.getValue(),this.originalValue)},checkDirty:function(){var e=this,t=e.isDirty();t!==e.wasDirty&&(e.dirty=t,e.fireEvent("dirtychange",e,t),e.onDirtyChange(t),e.wasDirty=t)},onDirtyChange:Ext.emptyFn,getErrors:function(e){var t,n=[],i=this.getValidationField(),r=this.getValidation();return i&&!0!==(t=i.validate(e,null,null,this._ownerRecord))&&n.push(t),r&&!0!==r&&n.push(r),n},isValid:function(){return this.disabled||Ext.isEmpty(this.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(e){return e!==this.wasValid&&(this.wasValid=e,this.fireEvent("validitychange",this,e)),e},setValidationField:function(e,t){this.callParent([e]),this._ownerRecord=t},batchChanges:function(e){try{this.suspendCheckChange++,e()}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(e,t){t&&this.validate()},privates:{resetToInitialValue:function(){var e=this,t=e.originalValue;e.originalValue=e.initialValue,e.reset(),e.originalValue=t}}}),Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:["Ext.form.Labelable","Ext.form.field.Field"],xtype:"field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate"],focusable:!0,shrinkWrap:!0,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"<tpl if=\"ariaEl == 'inputEl'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"</tpl>",'<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],defaultBindProperty:"value",autoEl:{role:"presentation"},subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:!0,invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:!0,readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",fieldBodyCls:Ext.baseCSSPrefix+"field-body",maskOnDisable:!1,stretchInputElFixed:!0,ariaEl:"inputEl",renderAriaElements:!0,initComponent:function(){var e=this;e.callParent(),e.subTplData=e.subTplData||{},e.initLabelable(),e.initField(),e.initDefaultName(),e.readOnly&&e.addCls(e.readOnlyCls),e.addCls(Ext.baseCSSPrefix+"form-type-"+e.inputType),e.format&&e.formatText&&!e.ariaHelp&&(e.ariaHelp=Ext.String.format(e.formatText,e.format))},initDefaultName:function(){this.name||(this.name=this.getInputId())},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(e){var t,n,i,r=this,o=r.id,a=r.inputType,s=r.getInputId();return t=Ext.apply({ui:r.ui,id:s,cmpId:o,name:r.name||s,disabled:r.disabled,readOnly:r.readOnly,value:r.getRawValue(),type:a,fieldCls:r.fieldCls,fieldStyle:r.getFieldStyle(),childElCls:e.childElCls,tabIdx:r.tabIndex,inputCls:r.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(r.isTextInput?"text":a),ariaEl:r.ariaEl},r.subTplData),r.ariaRole&&(n={},r.ariaStaticRoles[r.ariaRole]||(n["aria-hidden"]=!!r.hidden,n["aria-disabled"]=!!r.disabled,i={"aria-invalid":!1,"aria-readonly":!!r.readOnly},r.ariaLabel&&(n["aria-label"]=Ext.String.htmlEncode(r.ariaLabel)),(n=Ext.apply(n,r.getAriaAttributes()))["aria-describedby"]||(r.ariaHelp?i["aria-describedby"]=o+"-ariaStatusEl "+o+"-ariaHelpEl":i["aria-describedby"]=o+"-ariaStatusEl"),t.inputElAriaAttributes=i),"native"!==r.ariaRole&&(n.role=r.ariaRole),r.ariaLabel&&(n["aria-label"]=r.ariaLabel),r.format&&r.formatText&&!t.title&&(n.title=Ext.String.formatEncode(r.formatText,r.format)),t.ariaElAttributes=n),r.getInsertionRenderData(t,r.subTplInsertions),t},getSubTplMarkup:function(e){var t=this.getSubTplData(e),n=this.lookupTpl("preSubTpl"),i=this.lookupTpl("postSubTpl"),r="";return n&&(r+=n.apply(t)),r+=this.lookupTpl("fieldSubTpl").apply(t),i&&(r+=i.apply(t)),r},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var t=this.inputEl;t&&t.applyStyles(e),this.fieldStyle=e},getFieldStyle:function(){var e=this.fieldStyle;return Ext.isObject(e)?Ext.DomHelper.generateStyles(e,null,!0):e||""},onRender:function(){this.callParent(arguments),this.mixins.labelable.self.initTip(),this.renderActiveError()},beforeBlur:function(e){this.validateOnBlur&&this.validate()},onFocusLeave:function(e){this.callParent([e]),this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var e,t=null;return!this.disabled&&this.submitValue&&null!==(e=this.getSubmitValue())&&((t={})[this.getName()]=e),t},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this.inputEl?this.inputEl.getValue():Ext.valueFrom(this.rawValue,"");return this.rawValue=e,e},setRawValue:function(e){var t=this,n=t.rawValue;return t.transformRawValue.$nullFn||(e=t.transformRawValue(e)),e=Ext.valueFrom(e,""),void 0!==n&&n===e||(t.rawValue=e,t.inputEl&&(t.bindChangeEvents(!1),t.inputEl.dom.value=e,t.bindChangeEvents(!0))),t.rendered&&t.reference&&t.publishState("rawValue",e),e},transformRawValue:Ext.identityFn,valueToRaw:function(e){return""+Ext.valueFrom(e,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var e=this.rawToValue(this.processRawValue(this.getRawValue()));return this.value=e,e},setValue:function(e){return this.setRawValue(this.valueToRaw(e)),this.mixins.field.setValue.call(this,e)},onBoxReady:function(){this.callParent(arguments),this.setReadOnlyOnBoxReady&&this.setReadOnly(this.readOnly)},onDisable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!0,e.hasActiveError()&&(e.clearInvalid(),e.hadErrorOnDisable=!0)),!1===e.wasValid&&e.checkValidityChange(!0)},onEnable:function(){var e,t=this,n=t.inputEl,i=t.preventMark;t.callParent(),n&&(n.dom.disabled=!1),void 0!==t.wasValid&&(t.forceValidation=!0,t.preventMark=!t.hadErrorOnDisable,e=t.isValid(),t.forceValidation=!1,t.preventMark=i,t.checkValidityChange(e)),delete t.hadErrorOnDisable},setReadOnly:function(e){var t=this,n=t.inputEl,i=t.readOnly;t[(e=!!e)?"addCls":"removeCls"](t.readOnlyCls),t.readOnly=e,n?(n.dom.readOnly=e,n.dom.setAttribute("aria-readonly",e)):t.rendering&&(t.setReadOnlyOnBoxReady=!0),e!==i&&t.fireEvent("writeablechange",t,e)},fireKey:function(e,t){e.isSpecialKey()&&this.fireEvent("specialkey",this,e,t)},initEvents:function(){var e,t,n=this,i=n.inputEl,r=n.onFieldMutation,o=n.checkChangeEvents,a=o.length;if(i)for(n.mon(i,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",n.fireKey,n),e=0;e<a;++e)"propertychange"===(t=o[e])&&(n.usesPropertychange=!0),"textInput"===t&&(n.usesTextInput=!0),n.mon(i,t,r,n);n.callParent()},onFieldMutation:function(e){this.readOnly||"propertychange"===e.type&&this.ignoreChangeRe.test(e.browserEvent.propertyName)||this.startCheckChangeTask()},startCheckChangeTask:function(){var e=this,t=e.checkChangeTask;t||(e.checkChangeTask=t=new Ext.util.DelayedTask(e.doCheckChangeTask,e)),e.bindNotifyListener||(e.bindNotifyListener=Ext.on("beforebindnotify",e.onBeforeNotify,e,{destroyable:!0})),t.delay(e.checkChangeBuffer)},doCheckChangeTask:function(){var e=this.bindNotifyListener;e&&(e.destroy(),this.bindNotifyListener=null),this.checkChange()},publishValue:function(){this.rendered&&!this.getErrors().length&&this.publishState("value",this.getValue())},onDirtyChange:function(e){var t=this;t[e?"addCls":"removeCls"](t.dirtyCls),t.rendered&&t.reference&&t.publishState("dirty",e)},isValid:function(){var e=this,t=e.disabled;return e.forceValidation||!t?e.validateValue(e.processRawValue(e.getRawValue())):t},validateValue:function(e){var t=this.getErrors(e),n=Ext.isEmpty(t);return this.preventMark||(n?this.clearInvalid():this.markInvalid(t)),n},markInvalid:function(e){var t,n=this,i=n.getActiveError();n.setActiveErrors(Ext.Array.from(e)),i!==(t=n.getActiveError())&&(n.setError(t),!n.ariaStaticRoles[n.ariaRole]&&n.inputEl&&n.inputEl.dom.setAttribute("aria-invalid",!0))},clearInvalid:function(){var e=this,t=e.hasActiveError();delete e.hadErrorOnDisable,e.unsetActiveError(),t&&(e.setError(""),!e.ariaStaticRoles[e.ariaRole]&&e.inputEl&&e.inputEl.dom.setAttribute("aria-invalid",!1))},setError:function(e){var t,n=this.msgTarget;this.rendered&&("title"===n||"qtip"===n?(t="qtip"===n?"data-errorqtip":"title",this.getActionEl().dom.setAttribute(t,e||"")):this.updateLayout())},renderActiveError:function(){var e=this,t=e.hasActiveError(),n=e.invalidCls+"-field";e.inputEl&&e.inputEl[t?"addCls":"removeCls"]([n,n+"-"+e.ui]),e.mixins.labelable.renderActiveError.call(e)},doDestroy:function(){var e=this.checkChangeTask;e&&e.cancel(),Ext.destroy(this.bindNotifyListener),this.cleanupField(),this.callParent()},privates:{applyBind:function(e,t){var n,i,r=t&&t.value;return(n=this.callParent([e,t]))&&(i=n.value,this.hasBindingValue=!!i,i!==r&&this.getInherited().modelValidation&&this.updateValueBinding(n)),n},applyRenderSelectors:function(){var e=this;e.callParent(),e.inputEl||(e.inputEl=e.el.getById(e.getInputId()))},bindChangeEvents:function(e){var t=e?"resumeEvent":"suspendEvent",n=this.inputEl;this.usesPropertychange&&n[t]("propertychange"),this.usesTextInput&&n[t]("textInput")},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){return this.hasOwnProperty("renderTpl")||(this.renderTpl=this.lookupTpl("labelableRenderTpl")),this.callParent()},onBeforeNotify:function(){this.checkChangeTask.cancel(),this.checkChange()},updateValueBinding:function(e){var t=e.value,n=e.$fieldBinding;n&&(n.destroy(),e.$fieldBinding=null),t&&t.bindValidationField&&(this.fieldBinding=t.bindValidationField("setValidationField",this))}},deprecated:{5:{methods:{doComponentLayout:function(){this.bindChangeEvents(!1),this.callParent(arguments),this.bindChangeEvents(!0)}}}}}),Ext.define("Ext.form.field.VTypes",(alpha=/^[a-zA-Z_]+$/,alphanum=/^[a-zA-Z0-9_]+$/,email=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,url=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i,{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(e){return email.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return url.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return alpha.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return alphanum.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i})),Ext.define("Ext.form.trigger.Trigger",{alias:"trigger.trigger",requires:["Ext.util.ClickRepeater"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"trigger"},repeatClick:!1,hidden:!1,hideOnReadOnly:void 0,tooltip:null,weight:0,preventMouseDown:!0,focusOnMousedown:!1,baseCls:Ext.baseCSSPrefix+"form-trigger",focusCls:Ext.baseCSSPrefix+"form-trigger-focus",overCls:Ext.baseCSSPrefix+"form-trigger-over",clickCls:Ext.baseCSSPrefix+"form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>','<tpl if="ariaRole"> role="{ariaRole}"<tpl else> role="presentation"</tpl>',">","{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(e,t){return e.weight-t.weight}},constructor:function(e){var t,n=this;Ext.apply(n,e),n.compat4Mode&&(t=n.cls,n.focusCls=[n.focusCls,t+"-focus"],n.overCls=[n.overCls,t+"-over"],n.clickCls=[n.clickCls,t+"-click"]),n.validIdRe.test(n.id)||Ext.raise('Invalid trigger "id": "'+n.id+'"')},afterFieldRender:function(){var e=this.tooltip;this.initEvents(),e&&(this.tooltip=null,this.setTooltip(e))},destroy:function(){var e=this;e.clickRepeater=e.el=Ext.destroy(e.clickRepeater,e.el),e.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var e=this.el;this.hidden=!0,e&&e.hide()},initEvents:function(){var e=this,t=e.isFieldEnabled,n=e.getStateEl(),i=e.el;n.addClsOnOver(e.overCls,t,e),n.addClsOnClick(e.clickCls,t,e),e.repeatClick?e.clickRepeater=new Ext.util.ClickRepeater(i,{preventDefault:!0,handler:e.onClick,listeners:{mousedown:e.onClickRepeaterMouseDown,mouseup:e.onClickRepeaterMouseUp,scope:e},scope:e}):e.field.mon(i,{click:e.onClick,mousedown:e.onMouseDown,scope:e})},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var e=this.field,t=!1;return!this.hidden&&e&&this.rendered&&!this.destroyed||(t=!0),!t},onClick:function(){var e=this,t=arguments,n=e.clickRepeater?t[1]:t[0],i=e.handler,r=e.field;i&&!r.readOnly&&e.isFieldEnabled()&&Ext.callback(e.handler,e.scope,[r,e,n],0,r)},resolveListenerScope:function(e){return this.field.resolveSatelliteListenerScope(this,e)},onMouseDown:function(e){"touch"===e.pointerType||this.field.containsFocus&&!this.focusOnMousedown||this.field.focus(),this.preventMouseDown&&e.preventDefault()},onClickRepeaterMouseDown:function(e,t){t.parentEvent&&"mousedown"!==t.parentEvent.type||this.field.inputEl.focus(),t.preventDefault()},onClickRepeaterMouseUp:function(e){var t=this.field;Ext.callback(this.endHandler,this.scope,[t,this,e],0,t)},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){(this.el=this.field.triggerWrap.selectNode("#"+this.domId,!1)).setVisibilityMode(Ext.Element.DISPLAY),this.rendered=!0},renderBody:function(e){var t=this.bodyTpl;return Ext.apply(e,this.getBodyRenderData()),t?Ext.XTemplate.getTpl(this,"bodyTpl").apply(e):""},renderTrigger:function(e){var t=this,n=t.width,i=t.hidden?"display:none;":"";return n&&(i+="width:"+n),Ext.XTemplate.getTpl(t,"renderTpl").apply({$trigger:t,fieldData:e,ui:e.ui,childElCls:e.childElCls,triggerId:t.domId=t.field.id+"-trigger-"+t.id,cls:t.cls,triggerStyle:i,extraCls:t.extraCls,baseCls:t.baseCls,ariaRole:t.ariaRole})},setHidden:function(e){e!==this.hidden&&this[e?"hide":"show"]()},setTooltip:function(e){var t=this.el;e!==this.tooltip&&(this.tooltip=e,t&&t.dom.setAttribute("data-qtip",Ext.htmlEncode(e)))},setVisible:function(e){this.setHidden(!e)},show:function(){var e=this.el;this.hidden=!1,e&&e.show()}}),Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.form.trigger.Trigger","Ext.util.TextMetrics"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:!1,triggers:void 0},renderConfig:{editable:!0},growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",placeholderCoverCls:Ext.baseCSSPrefix+"placeholder-label",requiredCls:Ext.baseCSSPrefix+"form-required-field",ariaRole:"textbox",repeatTriggerClick:!1,triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerWrapFocusCls:Ext.baseCSSPrefix+"form-trigger-wrap-focus",triggerWrapInvalidCls:Ext.baseCSSPrefix+"form-trigger-wrap-invalid",fieldBodyCls:Ext.baseCSSPrefix+"form-text-field-body",inputWrapCls:Ext.baseCSSPrefix+"form-text-wrap",inputWrapFocusCls:Ext.baseCSSPrefix+"form-text-wrap-focus",inputWrapInvalidCls:Ext.baseCSSPrefix+"form-text-wrap-invalid",growCls:Ext.baseCSSPrefix+"form-text-grow",emptyClsElements:null,needArrowKeys:!0,squashMouseUp:{mouseup:function(e){this.selectOnFocus&&this.inputEl.dom.select()},translate:!1,single:!0,preventDefault:!0},childEls:["triggerWrap","inputWrap","placeholderLabel"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap"',"<tpl if=\"ariaEl == 'triggerWrap'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",' class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap"',' role="presentation" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:['<tpl if="!Ext.supports.Placeholder">','<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{id}" class="{placeholderCoverCls} {placeholderCoverCls}-{ui}">{placeholder}</label>',"</tpl>","</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var e=this,t=e.emptyCls;!1===e.allowOnlyWhitespace&&(e.allowBlank=!1),e.size&&Ext.log.warn('Ext.form.field.Text "size" config was deprecated in Ext 5.0. Please specify a "width" or use a layout instead.'),e.size&&(e.defaultBodyWidth=6.5*e.size+20),e.onTrigger1Click||(e.onTrigger1Click=e.onTriggerClick),e.callParent(),e.readOnly&&e.setReadOnly(e.readOnly),e.fieldFocusCls=e.baseCls+"-focus",e.emptyUICls=t+" "+t+"-"+e.ui,e.addStateEvents("change")},initEvents:function(){var e=this,t=e.inputEl;e.callParent(),(e.selectOnFocus||e.emptyText)&&e.mon(t,"mousedown",e.onMouseDown,e),(e.maskRe||e.vtype&&!0!==e.disableKeyFilter&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))&&e.mon(t,"keypress",e.filterKeys,e),e.enableKeyEvents&&e.mon(t,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})},isEqual:function(e,t){return this.isEqualAsString(e,t)},onChange:function(e,t){this.callParent([e,t]),this.autoSize()},getSubTplData:function(e){var t,n,i,r=this,o=r.getRawValue(),a=r.emptyText&&o.length<1,s=r.maxLength;return r.enforceMaxLength?s===Number.MAX_VALUE&&(s=void 0):s=void 0,r.emptyText&&(t=r.emptyText),(i=(n=Ext.apply(r.callParent([e]),{triggerWrapCls:r.triggerWrapCls,inputWrapCls:r.inputWrapCls,placeholderCoverCls:r.placeholderCoverCls,triggers:r.orderedTriggers,maxLength:s,readOnly:!r.editable||r.readOnly,placeholder:t,value:o,fieldCls:r.fieldCls+(r.allowBlank?"":" "+r.requiredCls)+(a?" "+r.emptyUICls:"")})).inputElAriaAttributes)&&(i["aria-required"]=!r.allowBlank),n},onRender:function(){var e,t=this,n=t.getTriggers(),i=[];if(Ext.supports.FixedTableWidthBug&&(t.el._needsTableWidthFix=!0),t.callParent(),n){for(e in this.invokeTriggers("onFieldRender"),n)i.push(n[e].el);t.triggerEl=t.triggerCell=new Ext.CompositeElement(i,!0)}t.inputCell=t.inputWrap},afterRender:function(){var e=this;e.autoSize(),e.callParent(),e.invokeTriggers("afterFieldRender"),e.emptyClsElements=[e.inputEl]},onMouseDown:function(){this.hasFocus||(this.squashMouseUp.scope=this,Ext.getDoc().on(this.squashMouseUp))},applyTriggers:function(e){var t,n,i,r,o,a=this,s=a.getHideTrigger(),l=a.readOnly,d=a.orderedTriggers=[],c=a.repeatTriggerClick;if(a.rendered&&Ext.raise("Cannot set triggers after field has already been rendered."),(a.triggerCls&&!e||a.trigger1Cls)&&Ext.log.warn("Ext.form.field.Text: 'triggerCls' and 'trigger<n>Cls' are deprecated.  Use 'triggers' instead."),!e)for(e={},a.triggerCls&&!a.trigger1Cls&&(a.trigger1Cls=a.triggerCls),o=1;r=a["trigger"+o+"Cls"];o++)e["trigger"+o]={cls:r,extraCls:Ext.baseCSSPrefix+"trigger-index-"+o,handler:"onTrigger"+o+"Click",compat4Mode:!0,scope:a};for(t in e)e.hasOwnProperty(t)&&((n=e[t]).field=a,n.id=t,(l&&!1!==n.hideOnReadOnly||s&&!1!==n.hidden)&&(n.hidden=!0),c&&!1!==n.repeatClick&&(n.repeatClick=!0),i=e[t]=Ext.form.trigger.Trigger.create(n),d.push(i));return Ext.Array.sort(d,Ext.form.trigger.Trigger.weightComparator),e},invokeTriggers:function(e,t){var n,i,r=this.getTriggers();if(r)for(n in r)r.hasOwnProperty(n)&&(i=r[n])[e].apply(i,t||[])},getTrigger:function(e){return this.getTriggers()[e]},updateHideTrigger:function(e){this.invokeTriggers(e?"hide":"show")},updateEditable:function(e,t){this.setReadOnlyAttr(!e||this.readOnly)},setReadOnly:function(e){var t,n,i=this,r=i.getTriggers(),o=i.getHideTrigger();if(e=!!e,i.callParent([e]),i.rendered&&i.setReadOnlyAttr(e||!i.editable),r)for(n in r)(!0===(t=r[n]).hideOnReadOnly||!1!==t.hideOnReadOnly&&!o)&&t.setVisible(!e)},setReadOnlyAttr:function(e){var t=this.inputEl.dom;e?t.setAttribute("readonly","readonly"):t.removeAttribute("readonly"),this.ariaStaticRoles[this.ariaRole]||this.inputEl.dom.setAttribute("aria-readonly",!!e)},processRawValue:function(e){var t,n,i=this.stripCharsRe;return i&&(i.global||(t="g",t+=i.ignoreCase?"i":"",t+=i.multiline?"m":"",i=new RegExp(i.source,t)),(n=e.replace(i,""))!==e&&(this.setRawValue(n),this.lastValue===e&&(this.lastValue=n),e=n)),e},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},getEmptyText:function(){return this.emptyText},setEmptyText:function(e){var t=this,n=t.inputEl;return e=e||"",t.emptyText=e,t.rendered&&(Ext.supports.Placeholder&&!t.simulatePlaceholder?e?n.dom.setAttribute("placeholder",e):n.dom.removeAttribute("placeholder"):t.placeholderLabel.setHtml(e),t.refreshEmptyText()),this},afterFirstLayout:function(){if(this.callParent(),Ext.isIE&&this.disabled){var e=this.inputEl;e&&(e.dom.unselectable="on")}},toggleInvalidCls:function(e){var t=e?"addCls":"removeCls";this.callParent([e]),this.triggerWrap[t](this.triggerWrapInvalidCls),this.inputWrap[t](this.inputWrapInvalidCls)},onFieldMutation:function(e){this.refreshEmptyText(),this.callParent([e])},refreshEmptyText:function(){var e,t,n,i=this,r=i.inputEl,o=i.emptyClsElements;if(r)for(e=i.getValue(),t=!(r.dom.value||Ext.isArray(e)&&e.length),i.placeholderLabel&&i.placeholderLabel.setDisplayed(t),n=0;n<o.length;n++)o[n].toggleCls(i.emptyUICls,t)},setValue:function(e){return e=this.callParent([e]),this.refreshEmptyText(),e},onFocus:function(e){var t,n=this;n.callParent([e]),Ext.asap(function(){n.destroyed||document.activeElement!==n.inputEl.dom||(t=n.inputEl.dom.value.length,n.selectText(n.selectOnFocus?0:t,t))}),n.emptyText&&n.autoSize(),n.addCls(n.fieldFocusCls),n.triggerWrap.addCls(n.triggerWrapFocusCls),n.inputWrap.addCls(n.inputWrapFocusCls),n.invokeTriggers("onFieldFocus",[e])},onBlur:function(e){var t=this;t.callParent([e]),t.removeCls(t.fieldFocusCls),t.triggerWrap.removeCls(t.triggerWrapFocusCls),t.inputWrap.removeCls(t.inputWrapFocusCls),t.invokeTriggers("onFieldBlur",[e])},filterKeys:function(e){if(!(e.ctrlKey&&!e.altKey||e.isSpecialKey())){var t=String.fromCharCode(e.getCharCode());this.maskRe.test(t)||e.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(e){this.callParent([e]),e.hasOwnProperty("value")&&this.setValue(e.value)},getErrors:function(e){e=arguments.length?null==e?"":e:this.processRawValue(this.getRawValue());var t,n,i=this,r=i.callParent([e]),o=i.validator,a=i.vtype,s=Ext.form.field.VTypes,l=i.regex,d=Ext.String.format;if(Ext.isFunction(o)&&!0!==(t=o.call(i,e))&&r.push(t),(i.allowOnlyWhitespace?e:Ext.String.trim(e)).length<1){if(i.allowBlank||r.push(i.blankText),!i.validateBlank)return r;n=!0}return!n&&e.length<i.minLength&&r.push(d(i.minLengthText,i.minLength)),e.length>i.maxLength&&r.push(d(i.maxLengthText,i.maxLength)),a&&(s[a](e,i)||r.push(i.vtypeText||s[a+"Text"])),l&&!l.test(e)&&r.push(i.regexText||i.invalidText),r},selectText:function(e,t){var n,i=this.inputEl.dom,r=i.value.length;r>0&&(e=void 0===e?0:Math.min(e,r),t=void 0===t?r:Math.min(t,r),i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((n=i.createTextRange()).moveStart("character",e),n.moveEnd("character",t-r),n.select()))},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var e,t,n,i,r,o,a=this;if(a.grow&&a.rendered&&a.getSizeModel().width.auto){for(t in i=a.inputEl,e=a.getTriggers(),n=0,o=Ext.util.Format.htmlEncode(a.getGrowWidth()||(a.hasFocus?"":a.emptyText)||""),o+=a.growAppend,e)n+=e[t].el.getWidth();r=i.getTextWidth(o)+n+a.inputWrap.getBorderWidth("lr")+a.triggerWrap.getBorderWidth("lr"),r=Math.min(Math.max(r,a.growMin),a.growMax),a.bodyEl.setWidth(r),a.updateLayout(),a.fireEvent("autosize",a,r)}},doDestroy:function(){this.invokeTriggers("destroy"),Ext.destroy(this.triggerRepeater),this.callParent()},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var e,t=this.getTriggers(),n=0;if(t&&this.rendered)for(e in t)t.hasOwnProperty(e)&&(n+=t[e].el.getWidth());return n}}}}}),Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" data-ref="inputEl" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",enterIsSpecial:!1,preventScrollbars:!1,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",extraFieldBodyCls:Ext.baseCSSPrefix+"form-textarea-body",ariaAttributes:{"aria-multiline":!0},constructor:function(e){this.callParent([e]),this.cols&&Ext.log.warn('Ext.form.field.TextArea "cols" config was removed in Ext 5.0. Please specify a "width" or use a layout instead.'),this.rows&&Ext.log.warn('Ext.form.field.TextArea "rows" config was removed in Ext 5.0. Please specify a "height" or use a layout instead.')},getSubTplData:function(e){var t=this,n=t.getFieldStyle(),i=t.callParent(arguments);return t.grow&&t.preventScrollbars&&(i.fieldStyle=(n||"")+";overflow:hidden;height:"+t.growMin+"px"),i},afterRender:function(){var e=this;e.callParent(arguments),e.needsMaxCheck=e.enforceMaxLength&&e.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,e.needsMaxCheck&&e.inputEl.on("paste",e.onPaste,e)},transformRawValue:function(e){return this.stripReturns(e)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(e){return e=this.stripReturns(e),this.callParent([e])},stripReturns:function(e){return e&&"string"==typeof e&&(e=e.replace(this.returnRe,"")),e},onPaste:function(){var e=this;e.pasteTask||(e.pasteTask=new Ext.util.DelayedTask(e.pasteCheck,e)),e.pasteTask.delay(1)},pasteCheck:function(){var e=this.getValue(),t=this.maxLength;e.length>t&&(e=e.substr(0,t),this.setValue(e))},fireKey:function(e){var t=this,n=e.getKey();e.isSpecialKey()&&(t.enterIsSpecial||n!==e.ENTER||e.hasModifier())&&t.fireEvent("specialkey",t,e),n===e.ENTER&&e.stopPropagation(),!t.needsMaxCheck||n===e.BACKSPACE||n===e.DELETE||e.isNavKeyPress()||t.isCutCopyPasteSelectAll(e,n)||t.getValue().length>=t.maxLength&&e.stopEvent()},isCutCopyPasteSelectAll:function(e,t){return!!e.ctrlKey&&(t===e.A||t===e.C||t===e.V||t===e.X)},autoSize:function(){var e,t,n,i,r=this;r.grow&&r.rendered&&r.getSizeModel().height.auto&&(n=(e=r.inputEl).getWidth(!0),i=Ext.util.Format.htmlEncode(e.dom.value)||"&#160;",i=(i+=r.growAppend).replace(/\n/g,"<br/>"),t=Ext.util.TextMetrics.measure(e,i,n).height+e.getPadding("tb")+r.inputWrap.getBorderWidth("tb")+r.triggerWrap.getBorderWidth("tb"),t=Math.min(Math.max(t,r.growMin),r.growMax),r.bodyEl.setHeight(t),r.updateLayout(),r.fireEvent("autosize",r,t))},doDestroy:function(){var e=this.pasteTask;e&&e.cancel(),this.callParent()}}),Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,scrollable:!0,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:Ext.baseCSSPrefix+"message-box-icon",ariaRole:"alertdialog",makeButton:function(e){var t=this.buttonIds[e];return new Ext.button.Button({handler:this.btnCallback,itemId:t,scope:this,text:this.buttonText[t],minWidth:75})},btnCallback:function(e,t){var n,i,r=this;!t||"keydown"!==t.type||t.isSpecialKey()?((r.cfg.prompt||r.cfg.multiline)&&(n=(i=r.cfg.multiline?r.textArea:r.textField).getValue(),i.reset()),r.hide(),r.userCallback(e.itemId,n,r.cfg)):t.getTarget(null,null,!0).on({keyup:function(t){r.btnCallback(e,t)},single:!0})},hide:function(){var e=this,t=e.cfg?e.cfg.cls:"";e.progressBar.reset(),t&&e.removeCls(t),e.callParent(arguments)},constructor:function(e){var t=this;t.callParent(arguments),t.minWidth=t.defaultMinWidth=t.minWidth||t.defaultMinWidth,t.maxWidth=t.defaultMaxWidth=t.maxWidth||t.defaultMaxWidth,t.minHeight=t.defaultMinHeight=t.minHeight||t.defaultMinHeight,t.maxHeight=t.defaultMaxHeight=t.maxHeight||t.defaultMaxHeight},initComponent:function(e){var t,n,i=this,r=i.id;for(i.title=i.title||"&#160;",i.iconCls=i.iconCls||"",i.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[i.iconComponent=new Ext.Component({cls:i.baseIconCls}),i.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[i.msg=new Ext.Component({id:r+"-msg",cls:i.baseCls+"-text"}),i.textField=new Ext.form.field.Text({id:r+"-textfield",enableKeyEvents:!0,ariaAttributes:{"aria-labelledby":i.msg.id},listeners:{keydown:i.onPromptKey,scope:i}}),i.textArea=new Ext.form.field.TextArea({id:r+"-textarea",height:75,ariaAttributes:{"aria-labelledby":i.msg.id}})]})]}),i.progressBar=new Ext.ProgressBar({id:r+"-progressbar",margin:"0 10 10 10"}),i.items=[i.topContainer,i.progressBar],i.msgButtons=[],t=0;t<4;t++)n=i.makeButton(t),i.msgButtons[n.itemId]=n,i.msgButtons.push(n);i.bottomTb=new Ext.toolbar.Toolbar({id:r+"-toolbar",ui:"footer",dock:"bottom",enableFocusableContainer:!1,ariaRole:null,layout:{pack:"center"},items:[i.msgButtons[0],i.msgButtons[1],i.msgButtons[2],i.msgButtons[3]]}),i.dockedItems=[i.bottomTb],i.on("close",i.onClose,i),i.callParent()},afterRender:function(){this.callParent(arguments),this.textField.labelEl.dom.removeAttribute("for"),this.textArea.labelEl.dom.removeAttribute("for")},onClose:function(){var e=this.msgButtons[3];e&&this.btnCallback(e)},onPromptKey:function(e,t){var n=this;t.keyCode!==t.RETURN&&10!==t.keyCode||(n.msgButtons.ok.isVisible()?n.msgButtons.ok.handler.call(n,n.msgButtons.ok):n.msgButtons.yes.isVisible()&&n.msgButtons.yes.handler.call(n,n.msgButtons.yes))},reconfigure:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g=this,p=0,m=!0,x=g.buttonText,E=g.resizer,v=g.header,y=v&&!v.isHeader,b=e&&(e.message||e.msg),C=e.buttonTips;g.updateButtonText(),g.cfg=e=e||{},h=e.wait,e.width&&(r=e.width),e.height&&(o=e.height),g.minWidth=e.minWidth||g.defaultMinWidth,g.maxWidth=e.maxWidth||g.defaultMaxWidth,g.minHeight=e.minHeight||g.defaultMinHeight,g.maxHeight=e.maxHeight||g.defaultMaxHeight,"maskClickAction"in e?g.maskClickAction=e.maskClickAction:delete g.maskClickAction,E&&(i=E.resizeTracker,E.minWidth=i.minWidth=g.minWidth,E.maxWidth=i.maxWidth=g.maxWidth,E.minHeight=i.minHeight=g.minHeight,E.maxHeight=i.maxHeight=g.maxHeight),delete g.defaultFocus,e.defaultFocus&&(g.defaultFocus=e.defaultFocus),g.animateTarget=e.animateTarget||void 0,g.modal=!1!==e.modal,t=null!=e.title?e.title:y&&null!=v.title?v.title:g.title,n=null!=e.iconCls?e.iconCls:y&&null!=v.iconCls?v.iconCls:g.iconCls,g.setTitle(t),g.setIconCls(n),Ext.isObject(e.buttons)?(g.buttonText=e.buttons,p=0):(g.buttonText=e.buttonText||g.buttonText,p=Ext.isNumber(e.buttons)?e.buttons:0),Ext.each(g.buttonIds,function(e){g.msgButtons[e].setTooltip(C&&C[e]||null)}),p|=g.updateButtonText(),g.buttonText=x,Ext.suspendLayouts(),g.width=g.height=null,(r||o)&&(r&&g.setWidth(r),o&&g.setHeight(o)),g.rendered||g.render(Ext.getBody()),g.closable=!1!==e.closable&&!h,(v=g.header)&&((f=v.child("[type=close]"))&&f.setVisible(g.closable),e.title||g.closable||e.iconCls?v.show():v.hide()),g.liveDrag=!e.proxyDrag,g.userCallback=Ext.Function.bindCallback(e.callback||e.fn||Ext.emptyFn,e.scope||Ext.global),g.setIcon(e.icon),d=g.msg,b?(d.setHtml(b),d.show(),g.ariaEl.dom.setAttribute("aria-describedby",d.id)):(d.hide(),g.ariaEl.dom.removeAttribute("aria-describedby")),s=g.textArea,l=g.textField,e.prompt||e.multiline?(g.multiline=e.multiline,e.multiline?(s.setValue(e.value),s.setHeight(e.defaultTextHeight||g.defaultTextHeight),s.show(),l.hide(),g.defaultFocus=s):(l.setValue(e.value),s.hide(),l.show(),g.defaultFocus=l),g.ariaEl.dom.removeAttribute("aria-describedby")):(s.hide(),l.hide()),c=g.progressBar,e.progress||h?(c.show(),g.updateProgress(0,e.progressText),g.defaultFocus=c,h&&c.wait(!0===h?e.waitConfig:h)):c.hide(),u=g.msgButtons;for(a=0;a<4;a++)p&Math.pow(2,a)?(g.defaultFocus||(g.defaultFocus=u[a]),u[a].show(),m=!1):u[a].hide();m?g.bottomTb.hide():g.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var e,t,n=this,i=n.buttonText,r=0;for(e in i)i.hasOwnProperty(e)&&(t=n.msgButtons[e])&&(n.cfg&&n.cfg.buttonText&&(r|=Math.pow(2,Ext.Array.indexOf(n.buttonIds,e))),t.text!==i[e]&&t.setText(i[e]));return r},show:function(e){var t,n=this;return e=e||{},Ext.Component.layoutSuspendCount?(Ext.on({resumelayouts:function(){n.show(e)},single:!0}),n):(n.reconfigure(e),e.cls&&n.addCls(e.cls),t=n.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),n.preventFocusOnActivate=!t.length,n.callParent(),n)},onShow:function(){this.callParent(arguments),this.center()},updateText:function(e){this.msg.setHtml(e)},setIcon:function(e,t,n){var i=this.iconComponent,r=this.messageIconCls;return r&&i.removeCls(r),e?(i.show(),(t||n)&&i.setSize(t||i.getWidth(),n||i.getHeight()),i.addCls(Ext.baseCSSPrefix+"dlg-icon"),i.addCls(this.messageIconCls=e)):(i.removeCls(Ext.baseCSSPrefix+"dlg-icon"),i.hide()),this},updateProgress:function(e,t,n){return this.progressBar.updateProgress(e,t),n&&this.updateText(n),this},onEsc:function(){!1!==this.closable&&this.callParent(arguments)},confirm:function(e,t,n,i){return Ext.isString(e)&&(e={title:e,icon:this.QUESTION,message:t,buttons:this.YESNO,callback:n,scope:i}),this.show(e)},prompt:function(e,t,n,i,r,o){return Ext.isString(e)&&(e={prompt:!0,title:e,minWidth:this.minPromptWidth,message:t,buttons:this.OKCANCEL,callback:n,scope:i,multiline:r,value:o}),this.show(e)},wait:function(e,t,n){return Ext.isString(e)&&(e={title:t,message:e,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:n}),this.show(e)},alert:function(e,t,n,i){return Ext.isString(e)&&(e={title:e,message:t,buttons:this.OK,fn:n,scope:i,minWidth:this.minWidth}),this.show(e)},progress:function(e,t,n){return Ext.isString(e)&&(e={title:e,message:t,progress:!0,progressText:n}),this.show(e)}},function(e){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new e})}),Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.form.action.StandardSubmit","Ext.window.MessageBox","Ext.data.ErrorCollection","Ext.util.DelayedTask"],taskDelay:10,constructor:function(e,t){var n,i=this;i.owner=e,i.fieldMonitors={validitychange:i.checkValidityDelay,enable:i.checkValidityDelay,disable:i.checkValidityDelay,dirtychange:i.checkDirtyDelay,errorchange:i.checkErrorDelay,scope:i},i.checkValidityTask=new Ext.util.DelayedTask(i.checkValidity,i),i.checkDirtyTask=new Ext.util.DelayedTask(i.checkDirty,i),i.checkErrorTask=new Ext.util.DelayedTask(i.checkError,i),i.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:i,addHandler:i.onFieldAdd,removeHandler:i.onFieldRemove,invalidateHandler:i.onMonitorInvalidate}),i.monitor.bind(e),Ext.apply(i,t),Ext.isString(i.paramOrder)&&(i.paramOrder=i.paramOrder.split(/[\s,|]/)),(n=i.reader)&&!n.isReader&&("string"==typeof n&&(n={type:n}),i.reader=Ext.createByAlias("reader."+n.type,n)),(n=i.errorReader)&&!n.isReader&&("string"==typeof n&&(n={type:n}),i.errorReader=Ext.createByAlias("reader."+n.type,n)),i.callParent()},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var e=this,t=e.monitor;t&&(t.unbind(),e.monitor=null),e.clearListeners(),e.checkValidityTask.cancel(),e.checkDirtyTask.cancel(),e.checkErrorTask.cancel(),e.checkValidityTask=e.checkDirtyTask=e.checkErrorTask=null,e.callParent()},onFieldAdd:function(e){e.on(this.fieldMonitors),this.onMonitorInvalidate()},onFieldRemove:function(e){e.un(this.fieldMonitors),this.onMonitorInvalidate()},onMonitorInvalidate:function(){this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var e=this._boundItems;return e&&0!==e.getCount()||(e=this._boundItems=new Ext.util.MixedCollection).addAll(this.owner.query("[formBind]")),e},hasInvalidField:function(){return!!this.getFields().findBy(function(e){var t,n=e.preventMark;return e.preventMark=!0,t=e.isValid(),e.preventMark=n,!t})},isValid:function(){var e;return Ext.suspendLayouts(),e=this.getFields().filterBy(function(e){return!e.validate()}),Ext.resumeLayouts(!0),e.length<1},checkValidity:function(){var e,t=this;t.destroyed||(e=!t.hasInvalidField())!==t.wasValid&&(t.onValidityChange(e),t.fireEvent("validitychange",t,e),t.wasValid=e)},checkValidityDelay:function(){var e=this.taskDelay;e?this.checkValidityTask.delay(e):this.checkValidity()},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var e=this.taskDelay;e?this.checkErrorTask.delay(e):this.checkError()},onValidityChange:function(e){var t,n,i,r,o=this.getBoundItems();if(o)for(i=(t=o.items).length,n=0;n<i;n++)(r=t[n]).disabled===e&&r.setDisabled(!e)},isDirty:function(){return!!this.getFields().findBy(function(e){return e.isDirty()})},checkDirtyDelay:function(){var e=this.taskDelay;e?this.checkDirtyTask.delay(e):this.checkDirty()},checkDirty:function(){var e;this.destroyed||(e=this.isDirty())!==this.wasDirty&&(this.fireEvent("dirtychange",this,e),this.wasDirty=e)},hasUpload:function(){return!!this.getFields().findBy(function(e){return e.isFileUpload()})},doAction:function(e,t){return Ext.isString(e)&&(e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},t,{form:this}))),!1!==this.fireEvent("beforeaction",this,e)&&(this.beforeAction(e),Ext.defer(e.run,100,e)),this},submit:function(e){var t;return t=(e=e||{}).standardSubmit||this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit",this.doAction(t,e)},load:function(e){return this.doAction(this.api?"directload":"load",e)},updateRecord:function(e){if(!(e=e||this._record))return Ext.raise("A record is required."),this;for(var t,n=e.self.fields,i=this.getFieldValues(),r={},o=0,a=n.length;o<a;++o)t=n[o].name,i.hasOwnProperty(t)&&(r[t]=i[t]);return e.beginEdit(),e.set(r),e.endEdit(),this},loadRecord:function(e){return this._record=e,this.setValues(e.getData())},getRecord:function(){return this._record},beforeAction:function(e){var t,n,i,r=this,o=e.waitMsg,a=Ext.baseCSSPrefix+"mask-loading",s=r.getFields().items,l=s.length;for(t=0;t<l;t++)(n=s[t]).isFormField&&n.syncValue&&n.syncValue();o&&(!0===(i=r.waitMsgTarget)?r.owner.el.mask(o,a):i?(i=r.waitMsgTarget=Ext.get(i)).mask(o,a):(r.floatingAncestor=r.owner.up("[floating]"),r.floatingAncestor&&(r.savePreventFocusOnActivate=r.floatingAncestor.preventFocusOnActivate,r.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(o,e.waitTitle||r.waitTitle)))},afterAction:function(e,t){var n=this;if(e.waitMsg){var i=Ext.MessageBox,r=n.waitMsgTarget;!0===r?n.owner.el.unmask():r?r.unmask():i.hide()}n.floatingAncestor&&(n.floatingAncestor.preventFocusOnActivate=n.savePreventFocusOnActivate),t?(e.reset&&n.reset(),Ext.callback(e.success,e.scope||e,[n,e]),n.fireEvent("actioncomplete",n,e)):(Ext.callback(e.failure,e.scope||e,[n,e]),n.fireEvent("actionfailed",n,e))},findField:function(e){return this.getFields().findBy(function(t){return t.id===e||t.name===e||t.dataIndex===e})},markInvalid:function(e){var t,n,i,r,o=this;function a(e,t){var n=o.findField(e);n&&n.markInvalid(t)}if(Ext.isArray(e))for(n=e.length,t=0;t<n;t++)a((i=e[t]).id||i.field,i.msg||i.message);else if(e instanceof Ext.data.ErrorCollection)for(n=e.items.length,t=0;t<n;t++)a((i=e.items[t]).field,i.message);else for(r in e)e.hasOwnProperty(r)&&a(r,e[r]);return this},setValues:function(e){var t,n,i,r=this;function o(e,t){var n=r.findField(e);n&&(n.setValue(t),r.trackResetOnLoad&&n.resetOriginalValue())}if(Ext.suspendLayouts(),Ext.isArray(e))for(n=e.length,t=0;t<n;t++)o((i=e[t]).id,i.value);else Ext.iterate(e,o);return Ext.resumeLayouts(!0),this},getValues:function(e,t,n,i,r){var o,a,s,l,d,c,u={},h=this.getFields().items,f=h.length,g=Ext.isArray;for(c=0;c<f;c++)if(o=h[c],(!t||o.isDirty())&&(a=o[i?"getModelData":"getSubmitData"](n,r),Ext.isObject(a)))for(d in a)if(a.hasOwnProperty(d))if(s=a[d],n&&""===s&&(s=o.emptyText||""),o.isRadio)u[d]=u[d]||s;else{if(o.isCheckbox&&null===s)continue;u.hasOwnProperty(d)?(g(l=u[d])||(l=u[d]=[l]),g(s)?u[d]=l.concat(s):l.push(s)):u[d]=s}return e&&(u=Ext.Object.toQueryString(u)),u},getFieldValues:function(e){return this.getValues(!1,e,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var e,t=this.getFields().items,n=t.length;for(e=0;e<n;e++)t[e].clearInvalid();return Ext.resumeLayouts(!0),this},reset:function(e){Ext.suspendLayouts();var t,n=this.getFields().items,i=n.length;for(t=0;t<i;t++)n[t].reset();return Ext.resumeLayouts(!0),!0===e&&delete this._record,this},applyToFields:function(e){var t,n=this.getFields().items,i=n.length;for(t=0;t<i;t++)Ext.apply(n[t],e);return this},applyIfToFields:function(e){var t,n=this.getFields().items,i=n.length;for(t=0;t<i;t++)Ext.applyIf(n[t],e);return this}}),Ext.define("Ext.form.FieldAncestor",{extend:"Ext.Mixin",requires:["Ext.container.Monitor"],mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{doDestroy:"onBeforeDestroy"}},initFieldAncestor:function(){var e=this;e.monitor=new Ext.container.Monitor({scope:e,selector:"[isFormField]:not([excludeForm])",addHandler:e.onChildFieldAdd,removeHandler:e.onChildFieldRemove}),e.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(e){var t=e.fieldDefaults,n=this.fieldDefaults;n&&(e.fieldDefaults=t?Ext.apply(Ext.Object.chain(t),n):n)},onChildFieldAdd:function(e){var t=this;t.mon(e,"errorchange",t.handleFieldErrorChange,t),t.mon(e,"validitychange",t.handleFieldValidityChange,t)},onChildFieldRemove:function(e){var t=this;t.mun(e,"errorchange",t.handleFieldErrorChange,t),t.mun(e,"validitychange",t.handleFieldValidityChange,t)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(e,t){e!==this&&(this.fireEvent("fieldvaliditychange",this,e,t),this.onFieldValidityChange(e,t))},handleFieldErrorChange:function(e,t){e!==this&&(this.fireEvent("fielderrorchange",this,e,t),this.onFieldErrorChange(e,t))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor=Ext.destroy(this.monitor)}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:"Ext.layout.component.Auto",alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(e){var t=this.owner.containerEl;this.callParent([e]),e.hasRawContent=!0,t.setStyle("width",""),t.setStyle("height",""),e.containerElContext=e.getEl("containerEl")},calculateOwnerHeightFromContentHeight:function(e,t){return this.callParent([e,t])+this.getHeightAdjustment()},calculateOwnerWidthFromContentWidth:function(e,t){return this.callParent([e,t])+this.getWidthAdjustment()},measureContentHeight:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent([e]):NaN},measureContentWidth:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent([e]):NaN},publishInnerHeight:function(e,t){t-=this.getHeightAdjustment(),e.containerElContext.setHeight(t)},publishInnerWidth:function(e,t){t-=this.getWidthAdjustment(),e.containerElContext.setWidth(t)},privates:{getHeightAdjustment:function(){var e=this.owner,t=0;return"top"===e.labelAlign&&e.hasVisibleLabel()&&(t+=e.labelEl.getHeight()),"under"===e.msgTarget&&e.hasActiveError()&&(t+=e.errorWrapEl.getHeight()),t+e.bodyEl.getPadding("tb")},getWidthAdjustment:function(){var e=this.owner,t=0;return"top"!==e.labelAlign&&e.hasVisibleLabel()&&(t+=e.labelWidth+(e.labelPad||0)),"side"===e.msgTarget&&e.hasActiveError()&&(t+=e.errorWrapEl.getWidth()),t+e.bodyEl.getPadding("lr")}}}),Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",shrinkWrap:!0,autoEl:{tag:"div",role:"presentation"},childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}"','<tpl if="ariaAttributes">','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){this.initLabelable(),this.initFieldAncestor(),this.callParent(),this.initMonitor()},onAdd:function(e){var t=this;e.isLabelable&&Ext.isGecko&&Ext.firefoxVersion<37&&"absolute"===t.layout.type&&!t.hideLabel&&"top"!==t.labelAlign&&(e.x+=t.labelWidth+t.labelPad),t.callParent(arguments),e.isLabelable&&t.combineLabels&&(e.oldHideLabel=e.hideLabel,e.hideLabel=!0),t.updateLabel()},onRemove:function(e,t){this.callParent(arguments),t||(e.isLabelable&&this.combineLabels&&(e.hideLabel=e.oldHideLabel),this.updateLabel())},initRenderData:function(){var e=this,t=e.callParent();return t.containerElCls=e.containerElCls,t=Ext.applyIf(t,e.getLabelableRenderData()),"top"!==e.labelAlign&&"under"!==e.msgTarget||(t.extraFieldBodyCls+=" "+Ext.baseCSSPrefix+"field-container-body-vertical"),t.tipAnchorTarget=e.id+"-containerEl",t},getFieldLabel:function(){var e=this.fieldLabel||"";return!e&&this.combineLabels&&(e=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)),e},getSubTplData:function(){var e=this.initRenderData();return Ext.apply(e,this.subTplData),e},getSubTplMarkup:function(e){var t=this.lookupTpl("fieldSubTpl");return t.renderContent||this.setupRenderTpl(t),t.apply(this.getSubTplData(e))},updateLabel:function(){this.labelEl&&this.setFieldLabel(this.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var e=this,t=e.getActiveError(),n=Ext.Array.filter(e.query("[isFormField]"),function(e){return e.hasActiveError()}),i=e.getCombinedErrors(n);i?e.setActiveErrors(i):e.unsetActiveError(),t!==e.getActiveError()&&e.updateLayout()}},getCombinedErrors:function(e){var t,n,i,r,o,a,s,l=[],d=e.length;for(t=0;t<d;t++)for(o=(i=(n=e[t]).getActiveErrors()).length,r=0;r<o;r++)a=i[r],s=n.getFieldLabel(),l.push((s?s+": ":"")+a);return l},privates:{applyTargetCls:function(e){var t=this.containerElCls;this.containerElCls=t?t+" "+e:e},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){return this.hasOwnProperty("renderTpl")||(this.renderTpl=this.lookupTpl("labelableRenderTpl")),this.callParent()}}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:'<table id="{ownerId}-innerCt" data-ref="innerCt" class="'+Ext.baseCSSPrefix+'table-plain" cellpadding="0"role="presentation" style="{tableStyle}"><tbody role="presentation"><tr role="presentation"><tpl for="columns"><td class="{parent.colCls}" valign="top" style="{style}" role="presentation">{% this.renderColumn(out,parent,xindex-1) %}</td></tpl></tr></tbody></table>',lastOwnerItemsGeneration:null,initLayout:function(){var e=this,t=e.owner;e.columnsArray=Ext.isArray(t.columns),e.autoColumns=!t.columns||"auto"===t.columns,e.autoColumns||(e.vertical=t.vertical||1===t.columns||1===t.columns.length),e.callParent()},beginLayout:function(e){var t,n,i,r,o,a=this,s=0,l=0,d=a.autoFlex,c=a.innerCt.dom.style;if(a.callParent(arguments),t=a.rowNodes[0].children,e.innerCtContext=e.getEl("innerCt",a),e.widthModel.shrinkWrap)c.tableLayout="auto",c.width="";else{if(n=t.length,a.columnsArray){for(i=0;i<n;i++)(r=a.owner.columns[i])<1&&(s+=r,l++);for(i=0;i<n;i++)o=(r=a.owner.columns[i])<1?r/s*100+"%":r+"px",t[i].style.width=o}else for(i=0;i<n;i++)o=d?1/n*100+"%":"",t[i].style.width=o,l++;l?l<n?(c.tableLayout="fixed",c.width="100%"):(c.tableLayout="auto",c.width=d?"100%":""):(c.tableLayout="fixed",c.width="")}},cacheElements:function(){var e=this;e.callParent(),e.rowNodes=e.innerCt.query("tr",!0),e.tBodyNode=e.rowNodes[0].parentNode},calculate:function(e){var t,n,i,r,o,a;e.getDomProp("containerChildrenSizeDone")?(t=e.innerCtContext,n=e.widthModel.shrinkWrap,r=(i=e.heightModel.shrinkWrap)||n,o=t.el.dom,a=r&&t.getPaddingInfo(),n&&e.setContentWidth(o.offsetWidth+a.width,!0),i&&e.setContentHeight(o.offsetHeight+a.height,!0)):this.done=!1},doRenderColumn:function(e,t,n){var i,r,o,a,s,l=t.$layout,d=l.owner,c=t.columnCount,u=d.items.items,h=u.length;for(d.vertical?(r=n*(o=Math.ceil(h/c)),h=Math.min(h,r+o),a=1):(r=n,a=c);r<h;r+=a)i=u[r],l.configureItem(i),s=i.getRenderTree(),Ext.DomHelper.generateMarkup(s,e)},getColumnCount:function(){var e=this.owner,t=e.columns;return this.columnsArray?t.length:Ext.isNumber(t)?t:e.items.length},getItemSizePolicy:function(e){return this.autoSizePolicy},getRenderData:function(){var e,t,n,i,r=this,o=r.callParent(),a=r.owner,s=r.getColumnCount(),l=r.autoFlex,d=0,c=0;if(r.columnsArray)for(e=0;e<s;e++)(t=r.owner.columns[e])<1&&(d+=t,c++);for(o.colCls=a.groupCls,o.columnCount=s,o.columns=[],e=0;e<s;e++)n=o.columns[e]={},r.columnsArray?(i=(t=r.owner.columns[e])<1?t/d*100+"%":t+"px",n.style="width:"+i):(n.style="width:"+1/s*100+"%",c++);return o.tableStyle=c?c<s?"table-layout:fixed;width:100%":l?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",o},isValidParent:Ext.returnTrue,setupRenderTpl:function(e){this.callParent(arguments),e.renderColumn=this.doRenderColumn},renderChildren:function(){var e=this,t=e.owner.items.generation;e.lastOwnerItemsGeneration!==t&&(e.lastOwnerItemsGeneration=t,e.renderItems(e.getLayoutItems()))},renderItems:function(e){var t,n,i,r,o,a,s=this,l=e.length;if(l){for(Ext.suspendLayouts(),s.autoColumns?(i=l,n=1):(i=s.columnsArray?s.owner.columns.length:s.owner.columns,n=Math.ceil(l/i)),a=0;a<l;a++)t=e[a],r=s.getRenderRowIndex(a,n,i),o=s.getRenderColumnIndex(a,n,i),t.rendered?s.isItemAtPosition(t,r,o)||s.moveItem(t,r,o):s.renderItem(t,r,o);s.pruneRows(n,i),Ext.resumeLayouts(!0)}},isItemAtPosition:function(e,t,n){return e.el.dom===this.getItemNodeAt(t,n)},getRenderColumnIndex:function(e,t,n){return this.vertical?Math.floor(e/t):e%n},getRenderRowIndex:function(e,t,n){return this.vertical?e%t:Math.floor(e/n)},getItemNodeAt:function(e,t){var n=this.getColumnNodeAt(e,t);return this.vertical?n.children[e]:n.children[0]},getRowNodeAt:function(e){var t;return e=this.vertical?0:e,(t=this.rowNodes[e])||((t=this.rowNodes[e]=document.createElement("tr")).role="presentation",this.tBodyNode.appendChild(t)),t},getColumnNodeAt:function(e,t,n){var i;return(i=(n=n||this.getRowNodeAt(e)).children[t])||(i=Ext.fly(n).appendChild({tag:"td",cls:this.owner.groupCls,vAlign:"top",role:"presentation"},!0)),i},pruneRows:function(e,t){var n,i,r,o,a,s=this.tBodyNode.children;for(e=this.vertical?1:e;s.length>e;)(i=s[s.length-1]).parentNode.removeChild(i);for(o=e-1;o>=0;o--){for(n=(i=s[o]).children;n.length>t;)r=n[n.length-1],i.removeChild(r);if(o>0)for(a=n.length-1;a>=0&&0===(r=n[a]).children.length;a--)i.removeChild(r)}},renderItem:function(e,t,n){var i,r;this.configureItem(e),r=this.vertical?t:0,i=Ext.get(this.getColumnNodeAt(t,n)),e.render(i,r)},moveItem:function(e,t,n){var i,r,o;r=this.vertical?t:0,o=(i=this.getColumnNodeAt(t,n)).children[r],i.insertBefore(e.el.dom,o||null)}}),Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(e,t){return this.filterBy(function(n){return n.name===e&&n.getFormId()===t})}}),Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],stretchInputElFixed:!1,childEls:["boxLabelEl","innerWrapEl","displayEl"],fieldSubTpl:['<div id="{cmpId}-innerWrapEl" data-ref="innerWrapEl" role="presentation"',' class="{wrapInnerCls}">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<span id="{cmpId}-displayEl" data-ref="displayEl" role="presentation" class="{fieldCls} {typeCls} ','{typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}">','<input type="{inputType}" id="{id}" name="{inputName}" data-ref="inputEl" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="checked"> checked="checked"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{checkboxCls}" autocomplete="off" hidefocus="true" ','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',"/>","</span>",'<tpl if="!labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:!0,compiled:!0}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",afterLabelCls:Ext.baseCSSPrefix+"form-cb-after",wrapInnerCls:Ext.baseCSSPrefix+"form-cb-wrap-inner",noBoxLabelCls:Ext.baseCSSPrefix+"form-cb-no-box-label",inputValue:"on",checkChangeEvents:[],changeEventName:"change",inputType:"checkbox",isTextInput:!1,ariaRole:"native",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",_checkboxCls:Ext.baseCSSPrefix+"form-cb-input",initComponent:function(){var e=this,t=e.value;void 0!==t&&(e.checked=e.isChecked(t,e.inputValue)),e.callParent(),e.getManager().add(e)},initDefaultName:Ext.emptyFn,initValue:function(){var e=this,t=!!e.checked;e.originalValue=e.initialValue=e.lastValue=t,e.setValue(t)},getElConfig:function(){var e=this;return e.isChecked(e.rawValue,e.inputValue)&&e.addCls(e.checkedCls),e.fieldLabel||(e.skipLabelForAttribute=!0),e.callParent()},getModelData:function(){var e=this.callParent(arguments);return e&&(e[this.getName()]=this.getSubmitValue()),e},getSubTplData:function(e){var t,n,i=this,r=i.boxLabel,o=i.boxLabelAlign,a="before"===o;return(n=(t=Ext.apply(i.callParent([e]),{inputType:i.inputType,checkboxCls:i._checkboxCls,disabled:i.readOnly||i.disabled,checked:!!i.checked,wrapInnerCls:i.wrapInnerCls,boxLabel:r,boxLabelCls:i.boxLabelCls,boxLabelAlign:o,labelAlignedBefore:a,afterLabelCls:a?i.afterLabelCls:"",noBoxLabelCls:r?"":i.noBoxLabelCls,inputName:i.name||i.id})).inputElAriaAttributes)&&delete n["aria-readonly"],t},initEvents:function(){var e=this;e.callParent(),e.inputEl.on(e.changeEventName,e.onChangeEvent,e,{delegated:!1}),Ext.isIE?e.bodyEl.on("mousedown",e.onBodyElMousedown,e):Ext.isMac&&(Ext.isGecko||Ext.isSafari)&&(e.boxLabelEl.on("mousedown",e.onBoxLabelOrInputMousedown,e),e.inputEl.on("mousedown",e.onBoxLabelOrInputMousedown,e))},setBoxLabel:function(e){var t=this;t.boxLabel=e,t.rendered&&(t.boxLabelEl.setHtml(e),t.boxLabelEl[e?"removeCls":"addCls"](t.noBoxLabelCls),t.updateLayout())},onBodyElMousedown:function(e){e.target!==this.inputEl.dom&&e.preventDefault()},onBoxLabelOrInputMousedown:function(e){this.inputEl.focus(),e.preventDefault()},onChangeEvent:function(e){this.updateValueFromDom()},updateValueFromDom:function(){var e=this,t=e.inputEl&&e.inputEl.dom;t&&(e.checked=e.rawValue=e.value=t.checked,e.checkChange())},updateCheckedCls:function(e){this[(e=null!=e?e:this.getValue())?"addCls":"removeCls"](this.checkedCls)},getRawValue:function(){var e=this.inputEl&&this.inputEl.dom;return e?e.checked:this.checked},getValue:function(){var e=this.inputEl&&this.inputEl.dom;return e?e.checked:this.checked},getSubmitValue:function(){var e=this.uncheckedValue,t=Ext.isDefined(e)?e:null;return this.getValue()?this.inputValue:t},isChecked:function(e,t){return!0===e||"true"===e||("on"===t||!t&&0!==t||!Ext.isString(e)&&!Ext.isNumber(e)?"1"===e||1===e||this.onRe.test(e):e==t)},setRawValue:function(e){var t=this,n=t.inputEl&&t.inputEl.dom,i=t.isChecked(e,t.inputValue);return n&&(t.duringSetRawValue=!0,n.checked=i,t.duringSetRawValue=!1,t.updateCheckedCls(i)),t.checked=t.rawValue=i,t.duringSetValue||(t.lastValue=i),i},setValue:function(e){var t,n,i,r,o=this;if(Ext.isArray(e))for(i=(t=o.getManager().getByName(o.name,o.getFormId()).items).length,n=0;n<i;++n)(r=t[n]).setValue(Ext.Array.contains(e,r.inputValue));else o.duringSetValue=!0,o.callParent(arguments),delete o.duringSetValue;return o},valueToRaw:Ext.identityFn,onChange:function(e,t){var n=this,i=n.handler;n.updateCheckedCls(e),i&&Ext.callback(i,n.scope,[n,e],0,n),n.callParent(arguments),n.reference&&n.publishState&&n.publishState("checked",e)},resetOriginalValue:function(e){var t,n,i,r=this;if(!e)for(n=(t=r.getManager().getByName(r.name,r.getFormId()).items).length,i=0;i<n;++i)t[i]!==r&&t[i].resetOriginalValue(!0);r.callParent()},doDestroy:function(){this.getManager().removeAtKey(this.id),this.callParent()},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var e=this.inputEl&&this.inputEl.dom;this.callParent(),e&&(e.disabled=this.readOnly)},setReadOnly:function(e){var t=this.inputEl&&this.inputEl.dom;t&&(t.disabled=!!e||this.disabled),this.callParent(arguments)},getFormId:function(){var e;return this.formId||(e=this.up("form"))&&(this.formId=e.id),this.formId},getFocusClsEl:function(){return this.displayEl}}),Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",xtype:"checkboxgroup",isCheckboxGroup:!0,mixins:{field:"Ext.form.field.Field"},requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Checkbox","Ext.form.field.Base"],columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",defaultBindProperty:"value",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",ariaRole:"group",ariaEl:"containerEl",skipLabelForAttribute:!0,ariaRenderAttributes:{"aria-invalid":!1},initComponent:function(){var e=this;e.name=e.name||e.id,e.callParent(),e.initField()},initRenderData:function(){var e,t;return(e=this.callParent()).inputId=this.id+"-"+this.ariaEl,(t=e.ariaAttributes)&&(t["aria-labelledby"]||(t["aria-labelledby"]=this.id+"-labelTextEl")),e},initValue:function(){var e=this,t=e.value;e.originalValue=e.lastValue=t||e.getValue(),t&&e.setValue(t)},onAdd:function(e){var t,n,i,r=this;if(e.isCheckbox)null==e.name&&(e.name=r.name),r.mon(e,"change",r.checkChange,r);else if(e.isContainer)for(i=0,n=(t=e.items.items).length;i<n;i++)r.onAdd(t[i]);r.callParent(arguments)},onRemove:function(e){var t,n,i,r=this;if(e.isCheckbox)r.mun(e,"change",r.checkChange,r);else if(e.isContainer)for(i=0,n=(t=e.items.items).length;i<n;i++)r.onRemove(t[i]);r.callParent(arguments)},isEqual:function(e,t){var n=Ext.Object.toQueryString;return n(e)===n(t)},getErrors:function(){var e=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&e.push(this.blankText),e},getBoxes:function(e){return this.query("[isCheckbox]"+(e||""))},eachBox:function(e,t){Ext.Array.forEach(this.getBoxes(),e,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var e,t=this.getBoxes(),n=t.length;for(e=0;e<n;e++)if(t[e].isDirty())return!0},setReadOnly:function(e){var t,n=this.getBoxes(),i=n.length;for(t=0;t<i;t++)n[t].setReadOnly(e);this.readOnly=e},reset:function(){var e=this,t=e.hasActiveError(),n=e.preventMark;e.preventMark=!0,e.batchChanges(function(){var t,n=e.getBoxes(),i=n.length;for(t=0;t<i;t++)n[t].reset()}),e.preventMark=n,e.unsetActiveError(),t&&e.updateLayout()},resetOriginalValue:function(){var e,t=this.getBoxes(),n=t.length;for(e=0;e<n;e++)t[e].resetOriginalValue();this.originalValue=this.getValue(),this.checkDirty()},setValue:function(e){var t,n,i,r,o=this.getBoxes(),a=o.length;return this.batchChanges(function(){for(Ext.suspendLayouts(),t=0;t<a;t++)n=o[t],i=n.getName(),r=!1,e&&(r=Ext.isArray(e[i])?Ext.Array.contains(e[i],n.inputValue):e[i]),n.setValue(r);Ext.resumeLayouts(!0)}),this},getValue:function(){var e,t,n,i,r,o={},a=this.getBoxes(),s=a.length;for(e=0;e<s;e++)n=(t=a[e]).getName(),i=t.inputValue,t.getValue()&&(o.hasOwnProperty(n)?(r=o[n],Ext.isArray(r)||(r=o[n]=[r]),r.push(i)):o[n]=i);return o},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var e,t,n,i=this;return i.disabled?t=!0:(e=i.getErrors(),t=Ext.isEmpty(e),n=i.wasValid,t?i.unsetActiveError():i.setActiveError(e)),t!==n&&(i.wasValid=t,i.fireEvent("validitychange",i,t),i.updateLayout()),t}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}),Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],checkboxUI:"default",collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",descriptionText:"{0} field set",expandText:"Expand field set",componentLayout:"fieldset",ariaRole:"group",focusable:!1,autoEl:"fieldset",checkbox:null,childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,initComponent:function(){var e=this,t=e.baseCls;e.ariaRole&&!e.ariaLabel&&(e.ariaLabel=Ext.String.formatEncode(e.descriptionText,e.title||"")),e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-expanded"]=!e.collapsed,e.initFieldAncestor(),e.callParent(),e.layout.managePadding=e.layout.manageOverflow=!1,e.collapsed&&(e.addCls(t+"-collapsed"),e.collapse()),(e.title||e.checkboxToggle||e.collapsible)&&(e.addTitleClasses(),e.legend=e.createLegendCt()),e.initMonitor()},initRenderData:function(){var e=this.callParent();return e.bodyTargetCls=this.bodyTargetCls,this.protoBody.writeTo(e),delete this.protoBody,e},doDestroy:function(){var e=this.legend;e&&(delete e.ownerCt,e.destroy(),this.legend=null),this.callParent()},getState:function(){var e=this.callParent();return e=this.addPropertyToState(e,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var e=this,t=[],n={baseCls:e.baseCls+"-header",layout:"container",ui:e.ui,id:e.id+"-legend",autoEl:"legend",ariaRole:null,items:t,ownerCt:e,shrinkWrap:!0,ownerLayout:e.componentLayout};return e.checkboxToggle?t.push(e.createCheckboxCmp()):e.collapsible&&t.push(e.createToggleCmp()),t.push(e.createTitleCmp()),new Ext.container.Container(n)},createTitleCmp:function(){var e=this,t={html:e.title,ui:e.ui,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle",ariaRole:"presentation"};return e.collapsible&&e.toggleOnTitleClick&&(t.listeners={click:{element:"el",scope:e,fn:e.toggle}},t.cls+=" "+e.baseCls+"-header-text-collapsible"),e.titleCmp=new Ext.Component(t),e.titleCmp},createCheckboxCmp:function(){var e,t=this,n=t.baseCls+"-header-checkbox";return n+=" "+n+"-"+t.ui,t.checkboxCmp=e=new Ext.form.field.Checkbox(Ext.apply({hideEmptyLabel:!0,name:t.checkboxName||t.id+"-checkbox",cls:n,id:t.id+"-legendChk",ui:t.checkboxUI,checked:!t.collapsed,msgTarget:"none",listeners:{change:t.onCheckChange,scope:t},ariaLabel:t.expandText},t.checkbox)),e},createToggleCmp:function(){var e,t=this;return t.toggleCmp=e=new Ext.panel.Tool({cacheHeight:!1,cls:t.baseCls+"-header-tool-"+t.ui,type:"toggle",handler:t.toggle,id:t.id+"-legendToggle",scope:t,ariaRole:"checkbox",ariaLabel:t.expandText,ariaRenderAttributes:{"aria-checked":!t.collapsed}}),e},doRenderLegend:function(e,t){var n,i=t.$comp,r=i.legend;r&&(r.ownerLayout.configureItem(r),i.setLegendCollapseImmunity(r),n=r.getRenderTree(),Ext.DomHelper.generateMarkup(n,e))},getCollapsed:function(){return!!this.collapsed&&"top"},getCollapsedDockedItems:function(){var e=this.legend;return e?[e]:[]},setTitle:function(e){var t=this,n=t.legend;return t.title=e,t.ariaLabel=Ext.String.formatEncode(t.descriptionText,e||""),t.rendered?(n||(t.legend=n=t.createLegendCt(),t.addTitleClasses(),n.ownerLayout.configureItem(n),t.setLegendCollapseImmunity(n),n.render(t.el,0)),t.titleCmp.update(e),t.ariaEl.dom.setAttribute("aria-label",t.ariaLabel)):n?t.titleCmp.update(e):(t.addTitleClasses(),t.legend=t.createLegendCt()),t},addTitleClasses:function(){var e=this,t=e.title,n=e.baseCls;t&&e.addCls(n+"-with-title"),(t||e.checkboxToggle||e.collapsible)&&e.addCls(n+"-with-legend")},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setCollapsed:function(e){this.setExpanded(!e)},setExpanded:function(e){var t=this,n=t.checkboxCmp,i=t.toggleCmp,r=e?"expand":"collapse";return t.rendered&&!1===t.fireEvent("before"+r,t)||(e=!!e,n?n.setValue(e):i&&i.ariaEl.dom&&i.ariaEl.dom.setAttribute("aria-checked",e),e?t.removeCls(t.baseCls+"-collapsed"):t.addCls(t.baseCls+"-collapsed"),t.ariaEl.dom&&t.ariaEl.dom.setAttribute("aria-expanded",!!e),t.collapsed=!e,e?delete t.getInherited().collapsed:t.getInherited().collapsed=!0,t.rendered&&(t.updateLayout({isRoot:!1}),t.fireEvent(r,t))),t},getRefItems:function(e){var t=this.callParent(arguments),n=this.legend;return n&&(t.unshift(n),e&&t.unshift.apply(t,n.getRefItems(!0))),t},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(e){this.bodyTargetCls=e},finishRender:function(){var e=this.legend;this.callParent(),e&&e.finishRender()},getProtoBody:function(){var e=this.protoBody;return e||(this.protoBody=e=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),e},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(e){var t,n=this,i=n.getProtoBody(),r=n.padding;void 0!==r&&(Ext.isIE8&&(r=n.parseBox(r),(t=Ext.Element.parseBox(0)).top=r.top,r.top=0,i.setStyle("padding",n.unitizeBox(t))),e.setStyle("padding",n.unitizeBox(r)))},onCheckChange:function(e,t){this.setExpanded(t)},setLegendCollapseImmunity:function(e){e.collapseImmune=!0,e.getInherited().collapseImmune=!0},setupRenderTpl:function(e){this.callParent(arguments),e.renderLegend=this.doRenderLegend}}}),Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:!1,getElConfig:function(){var e=this;return e.html=e.text?Ext.util.Format.htmlEncode(e.text):e.html||"",Ext.apply(e.callParent(),{htmlFor:e.forId||""})},setText:function(e,t){var n=this;return(t=!1!==t)?(n.text=e,delete n.html):(n.html=e,delete n.text),n.rendered&&(n.el.dom.innerHTML=!1!==t?Ext.util.Format.htmlEncode(e):e,n.updateLayout()),n}}),Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",bodyAriaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var e=this;e.frame&&(e.border=!1),e.initFieldAncestor(),e.callParent(),e.relayEvents(e.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),e.pollForChanges&&e.startPolling(e.pollInterval||500)},initItems:function(){this.callParent(),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments),this.form.initialize()},createForm:function(){for(var e,t={},n=this.basicFormConfigs,i=n.length,r=0;r<i;++r)t[e=n[r]]=this[e];return new Ext.form.Basic(this,t)},getForm:function(){return this.form},loadRecord:function(e){return this.getForm().loadRecord(e)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(e){return this.getForm().updateRecord(e)},getValues:function(e,t,n,i){return this.getForm().getValues(e,t,n,i)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(e){return this.form.reset(e)},hasInvalidField:function(){return this.form.hasInvalidField()},doDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(e){this.form.load(e)},submit:function(e){this.form.submit(e)},startPolling:function(e){this.stopPolling();var t=new Ext.util.TaskRunner(e);t.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=t},stopPolling:function(){var e=this.pollTask;e&&(e.stopAll(),delete this.pollTask)},checkChange:function(){var e,t=this.form.getFields().items,n=t.length;for(e=0;e<n;e++)t[e].checkChange()}}),Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(e,t){return this.filterBy(function(n){return n.name===e&&n.getFormId()===t})},getWithValue:function(e,t,n){return this.filterBy(function(i){return i.name===e&&i.inputValue==t&&i.getFormId()===n})},getChecked:function(e,t){return this.findBy(function(n){return n.name===e&&n.checked&&n.getFormId()===t})}}),Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:!0,inputType:"radio",formId:null,getGroupValue:function(){var e=this.getManager().getChecked(this.name,this.getFormId());return e?e.inputValue:null},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(e){var t,n=this;return Ext.isBoolean(e)?n.callParent(arguments):(t=n.getManager().getWithValue(n.name,e,n.getFormId()).getAt(0))&&t.setValue(!0),n},getSubmitValue:function(){return this.checked?this.inputValue:null},onChange:function(e,t){var n,i,r,o,a=this,s=a.ownerCt;if(a.callParent(arguments),e)for(i=(o=a.getManager().getByName(a.name,a.getFormId()).items).length,n=0;n<i;n++)(r=o[n])!==a&&r.updateValueFromDom();s&&s.isRadioGroup&&s.simpleValue&&s.checkChange()},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",xtype:"radiogroup",isRadioGroup:!0,requires:["Ext.form.field.Radio"],allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",local:!1,simpleValue:!1,defaultBindProperty:"value",groupCls:Ext.baseCSSPrefix+"form-radio-group",ariaRole:"radiogroup",initRenderData:function(){var e,t;return(t=(e=this.callParent()).ariaAttributes)&&(t["aria-required"]=!this.allowBlank,t["aria-invalid"]=!1),e},lookupComponent:function(e){var t=this.callParent([e]);return this.local&&(t.formId=this.getId()),t},getBoxes:function(e,t){return(t||this).query("[isRadio]"+(e||""))},checkChange:function(){var e,t;t="object"==typeof(e=this.getValue())&&Ext.Object.getKeys(e)[0],(this.simpleValue||t&&!Ext.isArray(e[t]))&&this.callParent(arguments)},isEqual:function(e,t){return this.simpleValue?e===t:this.callParent([e,t])},getValue:function(){var e,t,n,i=this.items.items;if(this.simpleValue){for(e=i.length;e-- >0;)if((t=i[e]).checked){n=t.inputValue;break}}else n=this.callParent();return n},setValue:function(e){var t,n,i,r,o,a,s,l=this.items;if(Ext.suspendLayouts(),this.simpleValue){for(o=0,a=l.length;o<a;++o)if((n=l.items[o]).inputValue===e){n.setValue(!0);break}}else if(Ext.isObject(e))for(s in i=(n=l.first())?n.getFormId():null,e)for(t=e[s],a=(r=Ext.form.RadioManager.getWithValue(s,t,i).items).length,o=0;o<a;++o)r[o].setValue(!0);return Ext.resumeLayouts(!0),this},markInvalid:function(e){var t=this.ariaEl.dom;this.callParent([e]),t&&t.setAttribute("aria-invalid",!0)},clearInvalid:function(){var e=this.ariaEl.dom;this.callParent(),e&&e.setAttribute("aria-invalid",!1)}},function(){Ext.isGecko&&this.override({onFocusEnter:function(e){var t,n,i,r=e.toComponent;if(r.isRadio)for(n=0,i=(t=r.getManager().getByName(r.name,r.getFormId()).items).length;n<i;n++)t[n].disableTabbing()},onFocusLeave:function(e){var t,n,i,r=e.fromComponent;if(r.isRadio)for(n=0,i=(t=r.getManager().getByName(r.name,r.getFormId()).items).length;n<i;n++)t[n].enableTabbing()}})}),Ext.define("Ext.form.action.DirectAction",{extend:"Ext.Mixin",mixinConfig:{id:"directaction"},resolveMethod:function(e){var t,n,i=this.form;return(t=Ext.direct.Manager.resolveApi(i.api,this))||Ext.raise("Cannot resolve Ext Direct API method for "+e+" action; form "+i.id+" has no api object defined"),(n=t[e])||Ext.raise("Cannot resolve Ext Direct API method "+fnName+" for "+e+" action"),n}}),Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",requires:["Ext.direct.Manager"],mixins:["Ext.form.action.DirectAction"],type:"directload",run:function(){var e,t,n=this,i=n.form,r=n.metadata||i.metadata,o=n.timeout||i.timeout;e=(t=n.resolveMethod("load")).directCfg.method.getArgs({params:n.getParams(),paramOrder:i.paramOrder,paramsAsHash:i.paramsAsHash,options:null!=o?{timeout:1e3*o}:null,metadata:r,callback:n.onComplete,scope:n}),t.apply(window,e)},processResponse:function(e){return this.result=e},onComplete:function(e){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",requires:["Ext.direct.Manager"],mixins:["Ext.form.action.DirectAction"],type:"directsubmit",doSubmit:function(){var e,t,n,i=this,r=i.form,o=i.metadata||r.metadata,a=i.timeout||r.timeout;e=i.resolveMethod("submit"),t=i.buildForm(),n=e.directCfg.method.getArgs({params:t.formEl,options:null!=a?{timeout:1e3*a}:null,metadata:o,callback:i.onComplete,scope:i}),e.apply(window,n),i.cleanup(t)},processResponse:function(e){return this.result=e},onComplete:function(e){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Text",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],config:{triggers:{picker:{handler:"onTriggerClick",scope:"this",focusOnMousedown:!0}}},renderConfig:{editable:!0},keyMap:{scope:"this",DOWN:"onDownArrow",ESC:"onEsc"},keyMapTarget:"inputEl",isPickerField:!0,matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",isExpanded:!1,applyTriggers:function(e){var t=e.picker;return t.cls||(t.cls=this.triggerCls),this.callParent([e])},getSubTplData:function(e){var t,n;return t=this.callParent([e]),this.ariaStaticRoles[this.ariaRole]||(n=t.ariaElAttributes)&&(n["aria-haspopup"]=!0,n["aria-expanded"]=!1),t},initEvents:function(){this.callParent(),Ext.isGecko&&this.inputEl.dom.setAttribute("autocomplete","off")},updateEditable:function(e,t){var n=this;e?n.inputEl.un("click",n.onTriggerClick,n):n.inputEl.on("click",n.onTriggerClick,n),n.callParent([e,t])},onEsc:function(e){Ext.isIE&&e.preventDefault(),this.isExpanded&&(this.collapse(),e.stopEvent())},onDownArrow:function(e){var t=this;e.time-t.lastDownArrow>150&&delete t.lastDownArrow,t.isExpanded?!e.stopped&&e.time-t.lastDownArrow<150&&delete t.lastDownArrow:(e.stopEvent(),t.onTriggerClick(e),t.lastDownArrow=e.time)},expand:function(){var e,t,n,i=this;!i.rendered||i.isExpanded||i.destroyed||(e=i.bodyEl,t=i.getPicker(),n=Ext.getDoc(),t.setMaxHeight(t.initialConfig.maxHeight),i.matchFieldWidth&&t.setWidth(i.bodyEl.getWidth()),t.show(),i.isExpanded=!0,i.alignPicker(),e.addCls(i.openCls),i.ariaStaticRoles[i.ariaRole]||(i.ariaEl.dom.hasAttribute("aria-owns")||i.ariaEl.dom.setAttribute("aria-owns",t.listEl?t.listEl.id:t.el.id),i.ariaEl.dom.setAttribute("aria-expanded",!0)),i.touchListeners=n.on({translate:!1,touchstart:i.collapseIf,scope:i,delegated:!1,destroyable:!0}),i.scrollListeners=Ext.on({scroll:i.onGlobalScroll,scope:i,destroyable:!0}),Ext.on("resize",i.alignPicker,i,{buffer:1}),i.fireEvent("expand",i),i.onExpand())},onExpand:Ext.emptyFn,alignPicker:function(){var e;this.rendered&&!this.destroyed&&(e=this.getPicker()).isVisible()&&e.isFloating()&&this.doAlign()},doAlign:function(){var e,t,n=this,i=n.picker;i.el.alignTo(n.triggerWrap,n.pickerAlign,n.pickerOffset),e=i.floatParent?i.getOffsetsTo(i.floatParent.getTargetEl()):i.getXY(),i.x=e[0],i.y=e[1],t=i.el.getY()<n.inputEl.getY(),n.bodyEl[t?"addCls":"removeCls"](n.openCls+"-above"),i[t?"addCls":"removeCls"](i.baseCls+"-above")},collapse:function(){var e=this;if(e.isExpanded&&!e.destroyed&&!e.destroying){var t=e.openCls,n=e.picker;n.hide(),e.isExpanded=!1,e.bodyEl.removeCls([t,t+"-above"]),n.el.removeCls(n.baseCls+"-above"),e.ariaStaticRoles[e.ariaRole]||e.ariaEl.dom.setAttribute("aria-expanded",!1),e.touchListeners.destroy(),e.scrollListeners.destroy(),Ext.un("resize",e.alignPicker,e),e.fireEvent("collapse",e),e.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){this.destroyed||e.within(this.bodyEl,!1,!0)||this.owns(e.target)||Ext.fly(e.target).isFocusable()||this.collapse()},getPicker:function(){var e=this,t=e.picker;return t||(e.creatingPicker=!0,e.picker=t=e.createPicker(),t.ownerCmp=e,delete e.creatingPicker),e.picker},onFocusLeave:function(e){this.collapse(),this.callParent([e])},getRefItems:function(){var e=[];return this.picker&&(e[0]=this.picker),e},createPicker:Ext.emptyFn,onTriggerClick:function(e){var t=this;t.readOnly||t.disabled||(t.isExpanded?t.collapse():t.expand())},doDestroy:function(){var e=this,t=e.picker;Ext.un("resize",e.alignPicker,e),Ext.destroy(e.keyNav,t),t&&(e.picker=t.pickerField=null),e.callParent()},privates:{onGlobalScroll:function(e){this.picker.owns(e.getElement())||this.collapse()}}}),Ext.define("Ext.selection.Model",{extend:"Ext.mixin.Observable",alternateClassName:"Ext.AbstractSelectionModel",alias:"selection.abstract",requires:["Ext.util.Bag"],mixins:["Ext.util.StoreHolder","Ext.mixin.Factoryable"],factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:!1,$configStrict:!1,config:{store:null,selected:{}},isSelectionModel:!0,allowDeselect:void 0,toggleOnClick:!0,ordered:!1,selected:null,pruneRemoved:!0,suspendChange:0,ignoreRightMouseSelection:!1,constructor:function(e){var t=this;t.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},t.callParent([e]),t.setSelectionMode(t.mode),"SINGLE"!==t.selectionMode&&(t.allowDeselect=!0)},updateStore:function(e,t){this.bindStore(e,!t)},applySelected:function(e){return e.isBag||e.isCollection||(e=new Ext.util[this.ordered?"Collection":"Bag"](Ext.apply({rootProperty:"data"},e))),e},getStoreListeners:function(){var e=this;return{add:e.onStoreAdd,clear:e.onStoreClear,remove:e.onStoreRemove,update:e.onStoreUpdate,idchanged:e.onIdChanged,load:e.onStoreLoad,refresh:e.onStoreRefresh,pageadd:e.onPageAdd,pageremove:e.onPageRemove}},onBindStore:function(e,t,n){n||this.updateSelectedInstances(this.selected)},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(e){var t=this,n=t.store.getRange(),i=t.getSelection().length;t.suspendChanges(),t.doSelect(n,!0,e),t.destroyed||(t.resumeChanges(),e||t.maybeFireSelectionChange(t.getSelection().length!==i))},deselectAll:function(e){var t,n,i,r=this,o=r.getSelection(),a={},s=r.store,l=o.length;for(t=0,n=o.length;t<n;t++)i=o[t],a[i.id]=s.indexOf(i);o=Ext.Array.sort(o,function(e,t){return a[e.id]<a[t.id]?-1:1}),r.suspendChanges(),r.doDeselect(o,e),r.destroyed||(r.resumeChanges(),e||r.maybeFireSelectionChange(r.getSelection().length!==l))},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(e){this.selectionStart=e},selectWithEvent:function(e,t){var n=this,i=n.isSelected(e),r=t.shiftKey;switch(n.selectionMode){case"MULTI":n.selectWithEventMulti(e,t,i);break;case"SIMPLE":n.selectWithEventSimple(e,t,i);break;case"SINGLE":n.selectWithEventSingle(e,t,i)}n.destroyed||r||(n.isSelected(e)?n.selectionStart=e:n.selectionStart=null)},vetoSelection:function(e){return!!e.stopSelection||("keydown"===e.type||0===e.button?"mousedown"===e.type:!(!this.ignoreRightMouseSelection&&!this.isSelected(e.record))||void 0)},onNavigate:function(e){if(e.record&&!this.vetoSelection(e.keyEvent)){this.onBeforeNavigate(e);var t=this,n=e.keyEvent,i=n.ctrlKey||e.ctrlKey,r=e.recordIndex,o=e.record,a=e.previousRecord,s=t.isSelected(o),l=t.selectionStart&&t.isSelected(e.previousRecord)?t.selectionStart:t.selectionStart=e.previousRecord,d=e.previousRecordIndex,c=n.getCharCode(),u=c===n.SPACE,h=e.record!==e.previousRecord,f=c===n.UP||c===n.PAGE_UP||c===n.HOME||c===n.LEFT&&h?"up":c===n.DOWN||c===n.PAGE_DOWN||c===n.END||c===n.RIGHT&&h?"down":null;switch(t.selectionMode){case"MULTI":t.setSelectionStart(e.selectionStart),c===n.A&&i?(t.selected.beginUpdate(),t.selectRange(0,t.store.getCount()-1),t.selected.endUpdate()):u?n.shiftKey?t.selectRange(l,o,i):s?t.allowDeselect&&t.doDeselect(o):t.doSelect(o,i):n.shiftKey&&l?("up"===f&&d<=r?t.deselectRange(a,r+1):"down"===f&&d>=r?t.deselectRange(a,r-1):l!==o&&t.selectRange(l,o,i),t.lastSelected=o):c?i||t.doSelect(o,!1):t.selectWithEvent(o,n);break;case"SIMPLE":c===n.A&&i?(t.selected.beginUpdate(),t.selectRange(0,t.store.getCount()-1),t.selected.endUpdate()):s?t.doDeselect(o):t.doSelect(o,!0);break;case"SINGLE":i||(f?t.doSelect(o,!1):!u&&c||t.selectWithEvent(o,n))}n.shiftKey||t.destroyed||!t.isSelected(o)||(t.selectionStart=o,t.selectionStartIdx=r)}},selectRange:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=c.store,h=c.selected.items;if(!c.isLocked()){for(e=(i=c.normalizeRowRange(e,t))[0],t=i[1],a=[],r=e;r<=t;r++)c.isSelected(u.getAt(r))||a.push(u.getAt(r));if(!n){for(s=[],c.suspendChanges(),r=0,o=h.length;r<o;++r)d=h[r],((l=u.indexOf(d))<e||l>t)&&s.push(d);for(r=0,o=s.length;r<o&&(c.doDeselect(s[r]),!c.destroyed);++r);c.destroyed||c.resumeChanges()}c.destroyed||(a.length?c.doMultiSelect(a,!0):s&&c.maybeFireSelectionChange(s.length>0))}},deselectRange:function(e,t){var n,i,r,o,a=this,s=a.store;if(!a.isLocked()){for(e=(n=a.normalizeRowRange(e,t))[0],t=n[1],r=[],i=e;i<=t;i++)o=s.getAt(i),a.isSelected(o)&&r.push(o);r.length&&a.doDeselect(r)}},normalizeRowRange:function(e,t){var n,i=this.store;return Ext.isNumber(e)||(e=i.indexOf(e)),e=Math.max(0,e),Ext.isNumber(t)||(t=i.indexOf(t)),e>(t=Math.min(t,i.getCount()-1))&&(n=t,t=e,e=n),[e,t]},select:function(e,t,n){!Ext.isDefined(e)||Ext.isArray(e)&&!e.length||this.doSelect(e,t,n)},deselect:function(e,t){this.doDeselect(e,t)},doSelect:function(e,t,n){var i,r=this;if(!r.locked&&null!=e){if("number"==typeof e){if(!(i=r.store.getAt(e)))return;e=[i]}"SINGLE"===r.selectionMode?(e.isModel&&(e=[e]),e.length&&r.doSingleSelect(e[0],n)):r.doMultiSelect(e,t,n)}},doMultiSelect:function(e,t,n){var i,r,o,a,s,l=this,d=l.selected,c=!1;if(!l.locked){if(o=(e=Ext.isArray(e)?e:[e]).length,!t&&d.getCount()>0){if(i=l.deselectDuringSelect(e,n),l.destroyed)return;if(i[0])return void l.maybeFireSelectionChange(i[1]>0&&!n);c=i[1]>0}for(s=function(){d.getCount()||(l.selectionStart=a),n||d.add(a),c=!0},r=0;r<o;r++)if(a=e[r],!l.isSelected(a)&&(l.onSelectChange(a,!0,n,s),l.destroyed))return;l.lastSelected=a,n&&d.add(e),l.maybeFireSelectionChange(c&&!n)}},deselectDuringSelect:function(e,t){var n,i,r=this,o=r.selected.getRange(),a=o.length,s=0,l=!1;for(r.suspendChanges(),r.deselectingDuringSelect=!0,i=0;i<a;++i)if(n=o[i],Ext.Array.contains(e,n)||(r.doDeselect(n,t)?++s:l=!0),r.destroyed){l=!0,s=0;break}return r.deselectingDuringSelect=!1,r.destroyed||r.resumeChanges(),[l,s]},doDeselect:function(e,t){var n,i,r,o=this,a=o.selected,s=0,l=0,d=0;if(o.locked||!o.store)return!1;if("number"==typeof e){if(!(i=o.store.getAt(e)))return!1;e=[i]}else Ext.isArray(e)||(e=[e]);for(r=function(){++d,t||a.remove(i),i===o.selectionStart&&(o.selectionStart=null)},n=e.length,o.suspendChanges();s<n;s++)if(i=e[s],o.isSelected(i)&&(o.lastSelected===i&&(o.lastSelected=a.last()),++l,o.onSelectChange(i,!1,t,r),o.destroyed))return!1;return o.resumeChanges(),t&&a.remove(e),o.maybeFireSelectionChange(d>0&&!t),d===l},doSingleSelect:function(e,t){var n,i=this,r=!1,o=i.selected;i.locked||i.isSelected(e)||(n=function(){if(o.getCount()){i.suspendChanges();var n=i.deselectDuringSelect([e],t);if(i.destroyed)return;if(i.resumeChanges(),n[0])return!1}i.lastSelected=e,o.getCount()||(i.selectionStart=e),o.add(e),r=!0},i.onSelectChange(e,!0,t,n),r&&!i.destroyed&&i.maybeFireSelectionChange(!t))},maybeFireSelectionChange:function(e){e&&!this.suspendChange&&this.fireEvent("selectionchange",this,this.getSelection())},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(e){e=e?e.toUpperCase():"SINGLE",this.selectionMode=this.modes[e]?e:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(e){this.locked=!!e},isRangeSelected:function(e,t){var n,i,r=this.store;for(e=(i=this.normalizeRowRange(e,t))[0],t=i[1],n=e;n<=t;n++)if(!this.isSelected(r.getAt(n)))return!1;return!0},isSelected:function(e){return e=Ext.isNumber(e)?this.store.getAt(e):e,!!this.selected&&this.selected.contains(e)},hasSelection:function(){var e=this.getSelected();return!(!e||!e.getCount())},refresh:function(){var e,t,n,i,r,o,a=this,s=a.store,l=[],d=[],c=a.getSelection(),u=c.length,h=a.getSelected();if(s&&(h.isCollection||h.isBag||h.isRows)&&h.getCount()){for((n=s.getData()).getSource&&(t=n.getSource())&&(n=t),a.refreshing=!0,h.beginUpdate(),a.suspendChanges(),o=0;o<u&&(i=c[o],(r=n.get(i.getId()))?l.push(r):a.pruneRemoved||d.push(i),"SINGLE"!==a.mode||!d.length);o++);h.getCount()!==l.length+d.length&&(e=!0),a.clearSelections(),l.length&&a.doSelect(l,!1,!0),d.length&&(h.add(d),a.lastSelected||(a.lastSelected=d[d.length-1])),a.resumeChanges(),e?h.endUpdate():h.updating--,a.refreshing=!1,a.maybeFireSelectionChange(e)}},clearSelections:function(){var e=this.getSelected();e&&e.clear(),this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.store.isLoading()&&!this.store.clearing||!this.hasSelection()||(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(e,t,n,i){var r,o,a,s,l=this,d=t;if(l.selectionStart&&Ext.Array.contains(t,l.selectionStart)&&(l.selectionStart=null),!i&&!l.locked&&l.pruneRemoved){if(s=e.isMoving(null,!0))for(d=null,r=0,o=t.length;r<o;++r)s[(a=t[r]).id]||(d||(d=[])).push(a);d&&l.deselect(d)}},onPageRemove:function(e,t,n){this.onStoreRemove(this.store,n)},onPageAdd:function(e,t,n){var i,r,o=n.length;for(i=0;i<o;i++)r=n[i],this.selected.get(r.id)&&this.selected.replace(r)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){var e=this;e.clearSelections(),e.bindStore(null),e.selected=Ext.destroy(e.selected),e.callParent()},onStoreUpdate:Ext.emptyFn,onIdChanged:function(e,t,n,i){this.selected.updateKey(t,n)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(e){var t,n,i,r,o,a,s=this,l=s.getStore(),d=s.lastSelected,c=0,u=s.pruneRemovedOnRefresh();if(!l||!l.isBufferedStore){if(n=(t=e.getRange()).length,d&&(s.lastSelected=l.getById(d.id),a=s.lastSelected!==d),s.refreshing=!0,l)for(i=0;i<n;++i)r=t[i],(o=l.getById(r.id))?o!==r&&e.add(o):u&&(e.remove(r),++c);else c=e.getCount(),e.removeAll();s.refreshing=!1,s.maybeFireSelectionChange(c>0),a&&s.fireEvent("lastselectedchanged",s,s.getSelection(),d)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(e,t,n,i){var r=this,o=t?"select":"deselect";!1!==(n||r.fireEvent("before"+o,r,e))&&!1!==i()&&(n||r.destroyed||r.fireEvent(o,r,e))},onEditorKey:Ext.emptyFn,beforeViewRender:function(e){Ext.Array.include(this.views||(this.views=[]),e)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(e){var t,n=this.view;return n&&(t=n.resolveSatelliteListenerScope(this,e)),t||this.callParent([e])},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,getLastSelected:function(){return this.lastSelected},selectWithEventMulti:function(e,t,n){var i,r,o,a=this,s=t.shiftKey,l=t.ctrlKey,d=s?a.getSelectionStart():null,c=a.getSelection(),u=c.length;if(s&&d)a.selectRange(d,e,l);else if(l&&n)a.allowDeselect&&a.doDeselect(e,!1);else if(l)a.doSelect(e,!0,!1);else if(n&&!s&&!l&&u>1){if(a.allowDeselect){for(i=[],r=0;r<u;++r)(o=c[r])!==e&&i.push(o);a.doDeselect(i)}}else n||a.doSelect(e,!1)},selectWithEventSimple:function(e,t,n){n?this.doDeselect(e):this.doSelect(e,!0)},selectWithEventSingle:function(e,t,n){var i=this.allowDeselect;i&&!t.ctrlKey&&(i=this.toggleOnClick),i&&n?this.doDeselect(e):this.doSelect(e,!1)}}}),Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",alias:"selection.dataviewmodel",requires:["Ext.util.KeyNav"],deselectOnContainerClick:!0,bindComponent:function(e){var t,n=this;n.view!==e&&(n.view&&(n.navigationModel=null,Ext.destroy(n.viewListeners,n.navigationListeners)),n.view=e,e&&((t=n.getViewListeners()).scope=n,t.destroyable=!0,n.navigationModel=e.getNavigationModel(),n.viewListeners=e.on(t),n.navigationListeners=n.navigationModel.on({navigate:n.onNavigate,scope:n,destroyable:!0})))},getViewListeners:function(){var e={};return e[this.view.triggerCtEvent]=this.onContainerClick,e},onUpdate:function(e){var t=this.view;t&&this.isSelected(e)&&t.onItemSelect(e)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},onSelectChange:function(e,t,n,i){var r=this,o=r.view,a=t?"select":"deselect",s=r.store.indexOf(e);!1!==(n||r.fireEvent("before"+a,r,e,s))&&!1!==i()&&(o&&!o.destroyed&&(t?o.onItemSelect(e):o.onItemDeselect(e)),n||r.destroyed||r.fireEvent(a,r,e,s))},destroy:function(){this.bindComponent(),Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.view.NavigationModel",{mixins:["Ext.util.Observable","Ext.mixin.Factoryable","Ext.util.StoreHolder"],alias:"view.navigation.default",config:{store:null},focusCls:Ext.baseCSSPrefix+"view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(e){this.view!==e&&(this.view=e,this.bindView(e))},bindView:function(e){var t,n=this,i=e.dataSource;n.initKeyNav(e),i.isEmptyStore||n.setStore(i),(t=n.getViewListeners()).destroyable=!0,n.viewListeners=n.viewListeners||[],n.viewListeners.push(e.on(t))},updateStore:function(e){this.mixins.storeholder.bindStore.apply(this,[e])},getViewListeners:function(){var e=this;return{containermousedown:e.onContainerMouseDown,itemmousedown:e.onItemMouseDown,itemclick:e.onItemClick,itemcontextmenu:e.onItemMouseDown,scope:e}},initKeyNav:function(e){var t=this;t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:t.processViewEvent,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.onSelectAllKeyPress},scope:t})},processViewEvent:function(e,t,n,i,r){return r},addKeyBindings:function(e){this.keyNav.addBindings(e)},enable:function(){this.keyNav.enable(),this.disabled=!1},disable:function(){this.keyNav.disable(),this.disabled=!0},onContainerMouseDown:function(e,t){Ext.getScrollbarSize().width&&(e.el.getClientRegion().contains(t.getPoint())||(t.preventDefault(),e.lastFocused="scrollbar"))},onItemMouseDown:function(e,t,n,i,r){"touch"!==r.pointerType&&this.setPosition(i)},onItemClick:function(e,t,n,i,r){this.record===t?this.fireNavigateEvent(r):this.setPosition(i,r)},setPosition:function(e,t,n,i,r){var o,a,s=this,l=s.view,d=l.getSelectionModel(),c=l.dataSource;if(null!=e&&l.all.getCount()?"number"==typeof e?(a=Math.max(Math.min(e,c.getCount()-1),0),o=c.getAt(e)):e.isEntity?(o=c.getById(e.id),-1===(a=c.indexOf(o))&&(o=c.getAt(0),a=0)):e.tagName?(o=l.getRecord(e),a=c.indexOf(o)):o=a=null:s.record=s.recordIndex=null,o===s.record)return s.recordIndex=a,s.focusPosition(a);s.item&&s.item.removeCls(s.focusCls),s.previousRecordIndex=s.recordIndex,s.previousRecord=s.record,s.previousItem=s.item,s.recordIndex=a,s.record=o,i=i||s.record===s.lastFocused,o?s.focusPosition(s.recordIndex):r||(s.item=null),n||d.fireEvent("focuschange",d,s.previousRecord,s.record),!i&&t&&s.fireNavigateEvent(t)},focusPosition:function(e){var t=this;null!=e&&-1!==e?(e.isEntity&&(e=t.view.dataSource.indexOf(e)),t.item=t.view.all.item(e),t.item?(t.lastFocused=t.record,t.lastFocusedIndex=t.recordIndex,t.focusItem(t.item)):t.record=null):t.item=null},focusItem:function(e){e.addCls(this.focusCls),e.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){return-1===this.view.dataSource.indexOf(this.lastFocused)?null:this.lastFocused},onKeyUp:function(e){var t=this.recordIndex-1;t<0&&(t=this.view.all.getCount()-1),this.setPosition(t,e)},onKeyDown:function(e){var t=this.recordIndex+1;t>this.view.all.getCount()-1&&(t=0),this.setPosition(t,e)},onKeyRight:function(e){var t=this.recordIndex+1;t>this.view.all.getCount()-1&&(t=0),this.setPosition(t,e)},onKeyLeft:function(e){var t=this.recordIndex-1;t<0&&(t=this.view.all.getCount()-1),this.setPosition(t,e)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(e){this.setPosition(0,e)},onKeyEnd:function(e){this.setPosition(this.view.all.getCount()-1,e)},onKeySpace:function(e){this.fireNavigateEvent(e)},onKeyEnter:function(e){e.stopEvent(),e.view.fireEvent("itemclick",e.view,e.record,e.item,e.recordIndex,e)},onSelectAllKeyPress:function(e){this.fireNavigateEvent(e)},fireNavigateEvent:function(e){var t=this;t.fireEvent("navigate",{navigationModel:t,keyEvent:e,previousRecordIndex:t.previousRecordIndex,previousRecord:t.previousRecord,previousItem:t.previousItem,recordIndex:t.recordIndex,record:t.record,item:t.item})},destroy:function(){this.setStore(null),Ext.destroy(this.viewListeners,this.keyNav),this.callParent()}}),Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.CompositeElementLite","Ext.selection.DataViewModel","Ext.view.NavigationModel","Ext.util.CSS"],mixins:["Ext.util.StoreHolder"],isDataView:!0,inheritableStatics:{getRecord:function(e){return this.getBoundView(e).getRecord(e)},getBoundView:function(e){return Ext.getCmp(e.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(e,t,n,i,r){var o,a,s,l,d,c,u,h=this,f=h.changeQueue||(h.changeQueue={}),g=n.internalId;if(a=(o=f[g]||(f[g]={operation:i,record:n,data:{},views:[]})).data,Ext.Array.include(o.views,e),r&&(s=r.length)){for(l=0;l<s;l++)d=r[l],c=n.data[d],a.hasOwnProperty(d)?n.isEqual(a[d],c)&&(delete a[d],u=!0):a[d]=c;u&&!Ext.Object.getKeys(a).length&&delete f[g]}else Ext.apply(a,n.data);h.flushQueueTask||(h.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(h.onFlushTick,h):Ext.Function.bind(h.onFlushTick,h),interval:Ext.view.AbstractView.updateDelay,repeat:1})),h.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var e,t,n,i,r,o,a;if(Ext.isScrolling)this.flushQueueTask.start();else{for(r in n=this.changeQueue,this.changeQueue={},n)for(t=(e=(i=n[r]).views).length,o=0;o<t;o++)(a=e[o]).destroyed||a.handleUpdate(a.dataSource,i.record,i.operation,Ext.Object.getKeys(i.data));Ext.AnimationQueue.stop(this.flushChangeQueue,this)}}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:!1,deferInitialRefresh:!1,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,preserveScrollOnReload:!1,autoDestroyBoundStore:!0,ariaRole:"listbox",itemAriaRole:"option",last:!1,focusable:!0,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:!0,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(e){e&&e.selModel&&(e.selectionModel=e.selModel),this.callParent([e])},initComponent:function(){var e,t=this,n=Ext.isDefined,i=t.itemTpl,r={};i&&(Ext.isArray(i)?("string"!=typeof i[i.length-1]&&(r=(i=i.slice(0)).pop()),i=i.join("")):Ext.isObject(i)&&(r=Ext.apply(r,i.initialConfig),i=i.html),t.itemSelector||(t.itemSelector="."+t.itemCls),i=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',t.itemCls,i,t.itemAriaRole),t.tpl=new Ext.XTemplate(i,r)),n(t.tpl)&&n(t.itemSelector)||Ext.raise({sourceClass:"Ext.view.View",tpl:t.tpl,itemSelector:t.itemSelector,msg:"DataView requires both tpl and itemSelector configurations to be defined."}),t.callParent(),t.tpl=t.lookupTpl("tpl"),(n(t.overCls)||n(t.overClass))&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated overCls or overClass configuration. Use overItemCls instead."),t.overItemCls=t.overCls||t.overClass,delete t.overCls,delete t.overClass),(n(t.selectedCls)||n(t.selectedClass))&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls instead."),t.selectedItemCls=t.selectedCls||t.selectedClass,delete t.selectedCls,delete t.selectedClass),t.overItemCls&&(t.trackOver=!0),t.addCmpEvents(),e=t.store=Ext.data.StoreManager.lookup(t.store||"ext-empty-store"),t.dataSource||(t.dataSource=e),t.bindStore(e,!0),t.getNavigationModel().bindComponent(this),t.all||(t.all=new Ext.CompositeElementLite),t.scrollState={top:0,left:0},t.savedTabIndexAttribute="data-savedtabindex-"+t.id},getElConfig:function(){var e=this.mixins.renderable.getElConfig.call(this);return this.focusable&&(e.tabIndex=0),e},onRender:function(e,t){var n=this.loadMask;this.callParent([e,t]),n&&this.createMask(n)},beforeLayout:function(){var e=this;e.callParent(),e.refreshNeeded&&!e.pendingRefresh&&(e.refreshCounter?e.refreshView():e.doFirstRefresh(e.dataSource))},onMaskBeforeShow:function(){var e=this,t=e.loadingHeight;t&&t>e.getHeight()&&(e.hasLoadingHeight=!0,e.oldMinHeight=e.minHeight,e.minHeight=t,e.updateLayout())},onMaskHide:function(){var e=this;!e.destroying&&e.hasLoadingHeight&&(e.minHeight=e.oldMinHeight,e.updateLayout(),delete e.hasLoadingHeight)},beforeRender:function(){this.callParent(),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(),this.focusable&&(this.focusEl=this.el)},getRefItems:function(){var e=this.loadMask,t=[];return e&&e.isComponent&&t.push(e),t},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var t;this.ignoreNextSelection||(this.ignoreNextSelection=!0,t=this.getSelectionModel(),e?t.select(e):t.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(e,t){var n=this,i=null;n.ignoreNextSelection||(n.ignoreNextSelection=!0,t.length&&(i=e.getLastSelected(),n.hasHadSelection=!0),n.hasHadSelection&&n.setSelection(i),n.ignoreNextSelection=!1)},applySelectionModel:function(e,t){var n,i,r=this,o=r.grid;return t?(t.destroyed||t.un({scope:r,selectionchange:r.updateBindSelection,lastselectedchanged:r.updateBindSelection}),Ext.destroy(r.selModelRelayer),e=Ext.Factory.selection(e)):e&&e.isSelectionModel?e.locked=r.disableSelection:(n=r.simpleSelect?"SIMPLE":r.multiSelect?"MULTI":"SINGLE","string"==typeof e&&(e={type:e}),e=Ext.Factory.selection(Ext.apply({allowDeselect:r.allowDeselect||r.multiSelect,mode:n,locked:r.disableSelection},e))),"SINGLE"!==e.mode&&((i=(o||r).ariaEl.dom)?i.setAttribute("aria-multiselectable",!0):o||((r.ariaRenderAttributes||(r.ariaRenderAttributes={}))["aria-multiselectable"]=!0)),r.selModelRelayer=r.relayEvents(e,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.on({scope:r,lastselectedchanged:r.updateBindSelection,selectionchange:r.updateBindSelection}),e},updateSelectionModel:function(e){this.selModel=e},applyNavigationModel:function(e){return Ext.Factory.viewNavigation(e)},onFocusEnter:function(e){var t,n=this,i=n.getNavigationModel();"scrollbar"!==t?(n.toggleChildrenTabbability(!1),!n.itemFocused&&n.all.getCount()&&(t=e.event.getTarget()===n.tabGuardEl?n.all.getCount()-1:i.getLastFocused(),i.setPosition(t||0,e.event,null,!t),n.itemFocused=null!=i.getPosition()),n.itemFocused&&(n.el.dom.setAttribute("tabIndex",-1),n.tabGuardEl&&n.tabGuardEl.setAttribute("tabIndex",-1)),n.callParent([e])):e.relatedTarget.focus()},onFocusLeave:function(e){var t=this;t.itemFocused&&!t.refreshing&&(t.getNavigationModel().setPosition(null,e.event,null,!0),t.itemFocused=!1,t.el.dom.setAttribute("tabIndex",0),t.tabGuardEl&&t.tabGuardEl.setAttribute("tabIndex",0)),t.callParent([e])},onRemoved:function(e){this.callParent([e]),e||this.onFocusLeave({})},refresh:function(){var e,t,n,i,r=this,o=r.all,a=o.getCount(),s=r.refreshCounter,l=r.getSelectionModel(),d=s&&o.getCount()&&r.preserveScrollOnRefresh&&r.getScrollable(),c=r.bufferedRenderer;r.rendered&&!r.destroyed&&(r.hasListeners.beforerefresh&&!1===r.fireEvent("beforerefresh",r)||(r.refreshing=!0,n=r.saveFocusState(),e=r.getTargetEl(),t=r.getViewRange(),e.dom,d&&((i=d.getPosition()).x||i.y||(i=null)),s?(r.clearViewEl(),r.refreshCounter++):r.refreshCounter=1,r.tpl.append(e,r.collectData(t,o.startIndex||0)),t.length<1?(r.addEmptyText(),o.clear()):(r.collectNodes(e.dom),r.updateIndexes(0)),n(),!1!==r.refreshSelmodelOnRefresh&&l.refresh(),r.refreshNeeded=!1,r.refreshSize(o.getCount()!==a),r.fireItemMutationEvent("refresh",r,t),d&&d.scrollTo(i),r.viewReady||(r.viewReady=!0,r.fireEvent("viewready",r)),r.refreshing=!1,c&&c.refreshSize(),r.cleanupData()),r.tabGuardEl||(r.tabGuardEl=r.el.createChild({cls:Ext.baseCSSPrefix+"tab-guard "+Ext.baseCSSPrefix+"tab-guard-after",tabIndex:"0"},null,!0)))},addEmptyText:function(){var e=this,t=e.getStore();e.emptyText&&!t.isLoading()&&(!e.deferEmptyText||e.refreshCounter>1||t.isLoaded())&&(e.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",e.getTargetEl().dom,e.emptyText))},getEmptyText:function(){return this.emptyText},setEmptyText:function(e){return this.emptyText!==e&&(this.emptyText=e,this.refresh()),this},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(e){var t=this.getSizeModel();this.getScrollable();(t.height.shrinkWrap||t.width.shrinkWrap||e)&&this.updateLayout()},afterFirstLayout:function(e,t){var n=this,i=n.getScrollable();i&&i.on({scroll:n.onViewScroll,scrollend:n.onViewScrollEnd,scope:n,onFrame:!!Ext.global.requestAnimationFrame}),n.callParent([e,t])},clearViewEl:function(){var e,t,n,i=this,r=i.getTargetEl(),o=i.all,a=i.getStore(),s=i.getNodeContainer()===r;for(t=o.slice(),n=[],e=o.startIndex;e<=o.endIndex;e++)n.push(a.getByInternalId(o.item(e,!0).getAttribute("data-recordId")));i.fireItemMutationEvent("itemremove",n,o.startIndex||0,t,i),i.clearEmptyEl(),i.all.clear(!s),(r=s?r.dom:i.getNodeContainer())&&(r.innerHTML="")},clearEmptyEl:function(){var e=this.emptyEl;e&&Ext.removeNode(e),this.emptyEl=null},onViewScroll:function(e,t,n){this.fireEvent("scroll",this,t,n)},onViewScrollEnd:function(e,t,n){this.fireEvent("scrollend",this,t,n)},saveScrollState:function(){var e=this.scrollState;this.rendered&&(e.left=this.getScrollX(),e.top=this.getScrollY())},restoreScrollState:function(){var e=this.scrollState;this.rendered&&(this.setScrollX(e.left),this.setScrollY(e.top))},prepareData:function(e,t,n){var i,r,o;if(n)for(r in i=n.getAssociatedData())i.hasOwnProperty(r)&&(o||(e=Ext.Object.chain(e),o=!0),e[r]=i[r]);return e},collectData:function(e,t){for(var n,i=[],r=0,o=e.length;r<o;r++)n=e[r],i[r]=this.prepareData(n.data,t+r,n);return i},cleanupData:Ext.emptyFn,bufferRender:function(e,t){var n,i,r,o=this.renderBuffer,a=document.createDocumentFragment();for(this.tpl.overwrite(o,this.collectData(e,t)),r=0,i=(n=Ext.fly(o).query(this.getItemSelector())).length;r<i;r++)a.appendChild(n[r]);return{fragment:a,children:n}},nodeContainerSelector:null,getNodeContainer:function(){var e=this.getTargetEl(),t=this.nodeContainerSelector;return t?e.down(t,!0):e},setItemsDraggable:function(e){var t="#"+this.id+" "+this.getItemSelector(),n=this.viewStyleSheet;e?(n||(n=Ext.view.AbstractView.prototype.viewStyleSheet=Ext.util.CSS.createStyleSheet("","AbstractView")),Ext.util.CSS.createRule(n,t,"touch-action: pinch-zoom double-tap-zoom;-ms-touch-action: pinch-zoom double-tap-zoom;-webkit-user-drag: none;")):n&&Ext.util.CSS.deleteRule(t)},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(e,t,n,i,r){var o=this;!(r&&r.filtered)&&o.getNode(t)&&(o.throttledUpdate?o.statics().queueRecordChange(o,e,t,n,i):o.handleUpdate(e,t,n,i,r))},handleUpdate:function(e,t){var n,i,r=this,o=r.getSelectionModel();if(r.viewReady&&!r.refreshNeeded&&(n=r.dataSource.indexOf(t))>-1&&r.getNode(t))return i=r.bufferRender([t],n).children[0],r.all.replaceElement(n,i,!0),r.updateIndexes(n,n),o.onUpdate(t),r.refreshSizePending=!0,o.isSelected(t)&&r.onItemSelect(t),r.hasListeners.itemupdate&&r.fireEvent("itemupdate",t,n,i,r),i},onReplace:function(e,t,n,i){var r,o,a,s,l,d,c=this,u=c.all,h=c.getSelectionModel(),f=t;c.rendered&&(o=(r=c.bufferRender(i,t,!0)).fragment,a=r.children,u.item(t)?u.item(t).insertSibling(o,"before",!0):c.appendNodes(o),u.insert(t,a),n.length&&(d=c.saveFocusState()),l=(t+=i.length)+n.length-1,s=u.removeRange(t,l,!0),!1!==c.refreshSelmodelOnRefresh&&h.refresh(),c.updateIndexes(t),c.fireItemMutationEvent("itemremove",n,f,s,c),c.fireItemMutationEvent("itemadd",i,f,a,c),d(),c.refreshSize())},onAdd:function(e,t,n){var i,r=this,o=r.getSelectionModel();r.rendered&&!r.refreshNeeded&&(0===r.all.getCount()?(r.refresh(),i=r.all.slice()):(i=r.doAdd(t,n),!1!==r.refreshSelmodelOnRefresh&&o.refresh(),r.updateIndexes(n),r.refreshSizePending=!0),r.fireItemMutationEvent("itemadd",t,n,i,r))},appendNodes:function(e){var t=this.all,n=t.getCount();this.nodeContainerSelector?this.getNodeContainer().appendChild(e):t.item(n-1).insertSibling(e,"after")},doAdd:function(e,t){var n=this.bufferRender(e,t,!0),i=n.fragment,r=n.children,o=this.all,a=o.getCount(),s=o.startIndex||0,l=o.endIndex||a-1;return 0===a||t>l?this.appendNodes(i):t<=s?o.item(s).insertSibling(i,"before",!0):o.item(t).insertSibling(r,"before",!0),o.insert(t,r),r},onRemove:function(e,t,n){var i,r,o,a,s,l,d=this,c=d.all;if(d.rendered&&!d.refreshNeeded&&c.getCount()){if(0===d.dataSource.getCount())d.refresh();else{for(l=d.saveFocusState(),a=[],r=t.length-1;r>=0;--r)o=t[r],i=n+r,a&&(s=c.item(i),a[r]=s?s.dom:void 0),c.item(i)&&d.doRemove(o,i);d.fireItemMutationEvent("itemremove",t,n,a,d),l(),d.updateIndexes(n)}d.refreshSizePending=!0}},doRemove:function(e,t){this.all.removeElement(t,!0)},eventLifecycleMap:{refresh:"onViewRefresh",itemremove:"onItemRemove",itemadd:"onItemAdd"},fireItemMutationEvent:function(e){var t=this;t.ownerGrid&&t.ownerGrid[t.eventLifecycleMap[e]].apply(t.ownerGrid,Ext.Array.slice(arguments,1)),t.fireEvent.apply(t,arguments)},saveFocusState:function(){var e=this,t=e.dataSource||e.store,n=e.getNavigationModel(),i=n.recordIndex,r=n.record,o=e.el.contains(Ext.Element.getActiveElement());return r?(o&&e.el.dom.focus(),function(){t.getCount()&&(i=Math.min(i,e.all.getCount()-1),n.setPosition(t.contains(r)?r:i,null,null,!0,!o))}):Ext.emptyFn},refreshNode:function(e){Ext.isNumber(e)&&(e=this.store.getAt(e)),this.onUpdate(this.dataSource,e)},updateIndexes:function(e,t){var n,i,r=this.all.elements,o=this.getViewRange(),a=this.id;for(e=e||0,t=t||(0===t?0:r.length-1),i=e;i<=t;i++)(n=r[i]).setAttribute("data-recordIndex",i),n.setAttribute("data-recordId",o[i].internalId),n.setAttribute("data-boundView",a)},bindStore:function(e,t){var n=this,i=n.getSelectionModel(),r=n.getNavigationModel();i&&!i.destroyed&&(i.bindStore(e,t),i.bindComponent(e?n:null)),n.mixins.storeholder.bindStore.apply(n,arguments),r&&!r.destroyed&&r.setStore(e),e&&n.componentLayoutCounter&&!n.blockRefresh&&n.doFirstRefresh(e,!t)},doFirstRefresh:function(e,t){var n=this;n.deferInitialRefresh&&!t?Ext.defer(n.doFirstRefresh,1,n,[e,!0]):e&&!n.deferRefreshForLoad(e)&&n.refresh()},onUnbindStore:function(e){this.setMaskBind(null),this.dataSource===e&&(this.dataSource=null)},onBindStore:function(e,t){var n=this;n.store.isBufferedStore&&(n.store.preserveScrollOnReload=n.preserveScrollOnReload),t&&t.isBufferedStore&&delete t.preserveScrollOnReload,n.setMaskBind(e),n.dataSource||(n.dataSource=e)},setMaskBind:function(e){var t=this.loadMask;this.rendered&&t&&e&&!t.bindStore&&(t=this.createMask()),t&&t.bindStore&&t.bindStore(e)},getStoreListeners:function(){var e=this;return{refresh:e.onDataRefresh,replace:e.onReplace,add:e.onAdd,remove:e.onRemove,update:e.onUpdate,clear:e.onDataRefresh,beginupdate:e.onBeginUpdate,endupdate:e.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter,Ext.suspendLayouts()},onEndUpdate:function(){var e=this;e.updateSuspendCounter&&--e.updateSuspendCounter,Ext.resumeLayouts(!0),e.refreshSizePending&&(e.refreshSize(!0),e.refreshSizePending=!1)},onDataRefresh:function(e){var t=this,n=t.preserveScrollOnRefresh;e.loadCount>t.lastRefreshLoadCount&&(t.preserveScrollOnRefresh=t.preserveScrollOnReload),t.refreshView(),t.preserveScrollOnRefresh=n,t.lastRefreshLoadCount=e.loadCount},refreshView:function(e){var t=this,n=t.blockRefresh||!t.rendered||t.up("[collapsed],[isCollapsingOrExpanding],[hidden]"),i=t.bufferedRenderer;n?t.refreshNeeded=!0:i?i.refreshView(e):t.refresh()},findItemByChild:function(e){return Ext.fly(e).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var e=[],t=this.getSelectionModel().getSelection(),n=t.length,i=0;i<n;i++)e.push(this.getNode(t[i]));return e},getRecords:function(e){for(var t=[],n=0,i=e.length,r=this.dataSource.data;n<i;n++)t[t.length]=r.getByKey(e[n].getAttribute("data-recordId"));return t},getRecord:function(e){return this.dataSource.getByInternalId(Ext.getDom(e).getAttribute("data-recordId"))},isSelected:function(e){var t=this.getRecord(e);return this.getSelectionModel().isSelected(t)},select:function(e,t,n){this.getSelectionModel().select(e,t,n)},deselect:function(e,t){this.getSelectionModel().deselect(e,t)},getNode:function(e){var t,n=this;return n.rendered&&(e||0===e)&&(Ext.isString(e)?t=document.getElementById(e):e.isModel?t=n.getNodeByRecord(e):Ext.isNumber(e)?t=n.all.elements[e]:(e.target&&e.target.nodeType&&(e=e.target),t=Ext.fly(e).findParent(n.itemSelector,n.getTargetEl()))),t||null},getNodeByRecord:function(e){var t=this.store.indexOf(e);return this.all.elements[t]||null},getNodes:function(e,t){var n=this.all;return void 0!==t&&t++,n.slice(e,t)},indexOf:function(e){return(e=this.getNode(e))||0===e?e.getAttribute("data-recordIndex")?Number(e.getAttribute("data-recordIndex")):this.all.indexOf(e):-1},doDestroy:function(){var e=this,t=e.updateSuspendCounter,n=e.tabGuardEl;for(e.all&&!e.all.destroyed&&e.all.clear(),n&&n.parentNode&&n.parentNode.removeChild(n),e.emptyEl=null,e.setItemsDraggable(!1),e.bindStore(null),e.selModelRelayer&&e.selModelRelayer.destroy(),Ext.destroy(e.navigationModel,e.selectionModel,e.loadMask);t--;)Ext.resumeLayouts(!0);e.callParent()},onItemSelect:function(e){var t=this.getNode(e);return t&&(Ext.fly(t).addCls(this.selectedItemCls),t.setAttribute("aria-selected","true")),t},onItemDeselect:function(e){var t=this.getNode(e);return t&&(Ext.fly(t).removeCls(this.selectedItemCls),t.setAttribute("aria-selected","false")),t},getItemSelector:function(){return this.itemSelector},addItemCls:function(e,t){var n=this.getNode(e);n&&Ext.fly(n).addCls(t)},removeItemCls:function(e,t){var n=this.getNode(e);n&&Ext.fly(n).removeCls(t)},setStore:function(e){this.store!==e&&(this.isConfiguring?this.store=e:this.bindStore(e,!1))},privates:{deferRefreshForLoad:function(e){return e.isLoading()},toggleChildrenTabbability:function(e){var t=this.getTargetEl();e?t.restoreTabbableState(!0):t.saveTabbableState({skipSelf:!0,includeSaved:!1})},collectNodes:function(e){var t=this.all,n={role:this.itemAriaRole};t.fill(Ext.fly(e).query(this.getItemSelector()),t.startIndex||0),this.focusable&&(n.tabindex="-1"),t.set(n)},createMask:function(e){var t,n=this,i=n.getStore();return!i||i.isEmptyStore||i.loadsSynchronously()||(t={target:n,msg:n.loadingText,useMsg:n.loadingUseMsg,store:i},n.loadingCls&&(t.msgCls=n.loadingCls),Ext.isObject(e)&&(t=Ext.apply(t,e)),n.loadMask=new Ext.LoadMask(t),n.loadMask.on({scope:n,beforeshow:n.onMaskBeforeShow,hide:n.onMaskHide})),n.loadMask},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)}}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(e,t,n){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var i=this.getSelectionModel();return i.select.apply(i,arguments)},clearSelections:function(){return Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()"),this.getSelectionModel().deselectAll()}})})}),Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,manageLayoutScroll:!1,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var e=this;e.callParent(),e.mon(e.el,{scope:e,click:e.handleEvent,longpress:e.handleEvent,mousedown:e.handleEvent,mouseup:e.handleEvent,dblclick:e.handleEvent,contextmenu:e.handleEvent,keydown:e.handleEvent,keyup:e.handleEvent,keypress:e.handleEvent,mouseover:e.handleMouseOver,mouseout:e.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(e){var t=this,n=t.getTargetSelector(),i=e.getTarget(n);t.destroyed||(i?t.mouseOverItem!==i&&t.el.contains(i)&&(t.mouseOverItem=e.item=i,e.newType="mouseenter",t.handleEvent(e)):t.handleEvent(e))},handleMouseOut:function(e){var t,n=this.getTargetSelector(),i=e.getTarget(n),r=e.getRelatedTarget(n);(i!==r||null===i&&null===r)&&(this.destroyed||(i&&(t=this.self.getBoundView(i))?(e.item=i,e.newType="mouseleave",t.handleEvent(e),t.mouseOverItem=null):this.handleEvent(e)))},handleEvent:function(e){var t=this,n=t.keyEventRe.test(e.type);e.isInputFieldEvent=Ext.fly(e.target).isInputField(),e.view=t,e.item=e.getTarget(t.itemSelector),e.item&&(e.record=t.getRecord(e.item)),!1===t.processUIEvent(e)||t.destroyed||t.processSpecialEvent(e),n&&!e.isInputFieldEvent&&(e.getKey()===e.SPACE||e.isNavKeyPress(!0))&&e.preventDefault(),e.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(e){if(Ext.getBody().isAncestor(e.target)){var t,n=this,i=e.item,r=n.self,o=r.EventMap,a=r.TouchEventMap,s=e.record,l=e.type,d=l;if(e.newType&&(d=e.newType),i){if(d=a[d]||d,t=e.recordIndex=n.indexInStore?n.indexInStore(s):n.indexOf(i),!s||!1===n.processItemEvent(s,i,t,e))return!1;if(!1===n["onBeforeItem"+o[d]](s,i,t,e)||!1===n.fireEvent("beforeitem"+d,n,s,i,t,e)||!1===n["onItem"+o[d]](s,i,t,e))return!1;n.fireEvent("item"+d,n,s,i,t,e)}else{if(l=a[l]||l,!1===n.processContainerEvent(e)||!1===n["onBeforeContainer"+o[l]](e)||!1===n.fireEvent("beforecontainer"+l,n,e)||!1===n["onContainer"+o[l]](e))return!1;n.fireEvent("container"+l,n,e)}return!0}},onItemMouseEnter:function(e,t,n,i){this.trackOver&&this.highlightItem(t)},onItemMouseLeave:function(e,t,n,i){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(e){var t=this,n=t.highlightedItem,i=t.overItemCls;n!==e&&(n&&(Ext.fly(n).removeCls(i),Ext.isIE8&&(t.repaintBorder(n),t.repaintBorder(n.nextSibling)),t.hasListeners.unhighlightitem&&t.fireEvent("unhighlightitem",t,n)),t.highlightedItem=e,e&&(Ext.fly(e).addCls(t.overItemCls),Ext.isIE8&&t.repaintBorder(e.nextSibling),t.hasListeners.highlightitem&&t.fireEvent("highlightitem",t,e)))},highlightItem:function(e){this.setHighlightedItem(e)},clearHighlight:function(){this.setHighlightedItem(void 0)},handleUpdate:function(e,t){var n,i,r,o=this;o.viewReady&&(n=o.getNode(t),i=o.callParent(arguments),(r=o.highlightedItem)&&r===n&&(delete o.highlightedItem,i&&o.highlightItem(i)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)},focusNode:function(e){var t,n=Ext.fly(this.getNode(e)),i=this.el,r=0,o=0,a=i.getRegion();a.bottom=a.top+i.dom.clientHeight,a.right=a.left+i.dom.clientWidth,n&&((t=n.getRegion()).top<a.top?r=t.top-a.top:t.bottom>a.bottom&&(r=t.bottom-a.bottom),t.left<a.left?o=t.left-a.left:t.right>a.right&&(o=t.right-a.right),(o||r)&&this.scrollBy(o,r,!1),n.set({tabIndex:-1}),n.focus())},privates:{repaintBorder:function(e){var t=this.getNode(e);t&&(t.className=t.className)}}}),Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.view.NavigationModel",alias:"view.navigation.boundlist",navigateOnSpace:!0,initKeyNav:function(e){var t=this,n=e.pickerField;t.keyNav||(t.callParent([e]),t.keyNav.map.addBinding({key:Ext.event.Event.ESC,fn:t.onKeyEsc,scope:t})),n&&(n.rendered?t.fieldKeyNav=new Ext.util.KeyNav({disabled:!0,target:n.inputEl,forceKeyDown:!0,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.onSelectAllKeyPress},priority:1001,scope:t}):n.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0}))},processViewEvent:function(e,t,n,i,r){return r.within(e.listWrap)?r:r.getKey()===r.ESC?(Ext.fly(r.target).isInputField()&&(r.target=r.target.parentNode),r):void 0},enable:function(){this.fieldKeyNav.enable(),this.callParent()},disable:function(){this.fieldKeyNav.disable(),this.callParent()},onItemMouseDown:function(e,t,n,i,r){this.callParent([e,t,n,i,r]),"mouse"===r.pointerType&&r.preventDefault()},onKeyUp:function(e){var t=this.view,n=t.all,i=t.highlightedItem,r=i?t.indexOf(i):-1,o=r>0?r-1:n.getCount()-1;this.setPosition(o),e.preventDefault()},onKeyDown:function(e){var t=this.view,n=t.all,i=t.highlightedItem,r=i?t.indexOf(i):-1,o=r<n.getCount()-1?r+1:0;this.setPosition(o),e.preventDefault()},onKeyLeft:Ext.returnTrue,onKeyRight:Ext.returnTrue,onKeyTab:function(e){var t=this.view,n=t.pickerField;return t.isVisible()&&(n.selectOnTab&&this.selectHighlighted(e),n.collapse&&n.collapse()),!0},onKeyEnter:function(e){var t=this.view,n=t.getSelectionModel(),i=t.pickerField,r=n.getCount();return e.stopEvent(),this.selectHighlighted(e),!i.multiSelect&&r===n.getCount()&&i.collapse&&i.collapse(),i.fireEvent("specialkey",i,e,{fromBoundList:!0}),!1},onKeySpace:function(){return this.navigateOnSpace&&this.callParent(arguments),!0},onKeyEsc:function(){this.view.pickerField&&this.view.pickerField.collapse()},focusItem:function(e){var t=this.view;"number"==typeof e&&(e=t.all.item(e)),e&&(e=e.dom,t.highlightItem(e),t.getScrollable().scrollIntoView(e,!1))},selectHighlighted:function(e){var t,n=this.view,i=n.getSelectionModel(),r=this.recordIndex;n.all.getCount()&&(t=this.getRecord())&&(e.getKey()!==e.ENTER&&i.isSelected(t)||(i.selectWithEvent(t,e),n.store.data.contains(t)||this.setPosition(Math.min(r,n.store.getCount()-1))))},destroy:function(){this.fieldKeyNav=Ext.destroy(this.fieldKeyNav),this.callParent()}}),Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(e){var t=this.owner,n=t.pagingToolbar;this.scrollPos=t.listWrap.getScroll(),this.callParent(arguments),t.floating&&(e.savedXY=t.getXY(),t.setXY([0,-9999])),n&&(e.toolbarContext=e.context.getCmp(n)),e.listContext=e.getEl("listWrap")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.heightModel.auto&&(t.el.setHeight("auto"),t.listWrap.setHeight("auto"))},getLayoutItems:function(){var e=this.owner.pagingToolbar;return e?[e]:[]},isValidParent:function(){return!0},finishedLayout:function(e){var t=e.savedXY,n=this.owner.listWrap,i=this.scrollPos;this.callParent(arguments),t&&this.owner.setXY(t),n.setScrollLeft(i.left),n.setScrollTop(i.top)},measureContentWidth:function(e){return this.owner.listWrap.getWidth()},measureContentHeight:function(e){return this.owner.listWrap.getHeight()},publishInnerHeight:function(e,t){var n=e.toolbarContext,i=0;n&&(i=n.getProp("height")),void 0===i?this.done=!1:e.listContext.setHeight(t-e.getFrameInfo().height-i)},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments),n=e.toolbarContext;return n&&(t+=n.getProp("height")),t}}),Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",requires:["Ext.toolbar.Toolbar"],alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.toolbar.Toolbar","Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){var e=this.text;this.callParent(),e&&(this.html=e)},setText:function(e){this.update(e)}}),Ext.define("Ext.form.trigger.Spinner",{extend:"Ext.form.trigger.Trigger",alias:"trigger.spinner",cls:Ext.baseCSSPrefix+"form-trigger-spinner",spinnerCls:Ext.baseCSSPrefix+"form-spinner",spinnerUpCls:Ext.baseCSSPrefix+"form-spinner-up",spinnerDownCls:Ext.baseCSSPrefix+"form-spinner-down",focusCls:Ext.baseCSSPrefix+"form-spinner-focus",overCls:Ext.baseCSSPrefix+"form-spinner-over",clickCls:Ext.baseCSSPrefix+"form-spinner-click",focusFieldOnClick:!0,vertical:!0,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',destroy:function(){var e=this;e.spinnerEl&&(e.spinnerEl.destroy(),e.spinnerEl=e.upEl=e.downEl=null),e.callParent()},getBodyRenderData:function(){var e=this;return{vertical:e.vertical,upDisabledCls:e.upEnabled?"":e.spinnerUpCls+"-disabled",downDisabledCls:e.downEnabled?"":e.spinnerDownCls+"-disabled",spinnerCls:e.spinnerCls,spinnerUpCls:e.spinnerUpCls,spinnerDownCls:e.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(){var e=this,t=arguments,n=e.clickRepeater?t[1]:t[0],i=e.field;i.readOnly||i.disabled||(e.upEl.contains(n.target)?Ext.callback(e.upHandler,e.scope,[i,e,n],0,i):e.downEl.contains(n.target)&&Ext.callback(e.downHandler,e.scope,[i,e,n],0,i)),i.inputEl.focus()},onFieldRender:function(){var e,t=this,n=t.vertical;t.callParent(),e=(t.spinnerEl=t.el.select("."+t.spinnerCls,!0)).elements,t.upEl=n?e[0]:e[1],t.downEl=n?e[1]:e[0]},setUpEnabled:function(e){this.upEl[e?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(e){this.downEl[e?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}}),Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Text",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.form.trigger.Spinner","Ext.util.KeyNav"],config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",endHandler:"onSpinEnd",scope:"this"}}},spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(e){var t=e.spinner;return t.upEnabled=this.spinUpEnabled,t.downEnabled=this.spinDownEnabled,this.callParent([e])},onRender:function(){var e=this,t=e.getTrigger("spinner");e.callParent(),e.keyNavEnabled&&(e.spinnerKeyNav=new Ext.util.KeyNav(e.inputEl,{scope:e,up:e.spinUp,down:e.spinDown}),e.inputEl.on({keyup:e.onInputElKeyUp,scope:e})),e.mouseWheelEnabled&&e.mon(e.bodyEl,"mousewheel",e.onMouseWheel,e),e.spinUpEl=t.upEl,e.spinDownEl=t.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var e=this;e.spinUpEnabled&&!e.disabled&&(e.fireEvent("spin",e,"up"),e.fireEvent("spinup",e),e.onSpinUp())},spinDown:function(){var e=this;e.spinDownEnabled&&!e.disabled&&(e.fireEvent("spin",e,"down"),e.fireEvent("spindown",e),e.onSpinDown())},setSpinUpEnabled:function(e){var t=this.spinUpEnabled;this.spinUpEnabled=e,t!==e&&this.rendered&&this.getTrigger("spinner").setUpEnabled(e)},setSpinDownEnabled:function(e){var t=this.spinDownEnabled;this.spinDownEnabled=e,t!==e&&this.rendered&&this.getTrigger("spinner").setDownEnabled(e)},onMouseWheel:function(e){var t;this.hasFocus&&((t=e.getWheelDelta())>0?this.spinUp():t<0&&this.spinDown(),e.stopEvent(),this.onSpinEnd())},onInputElKeyUp:function(e){e.keyCode!==e.UP&&e.keyCode!==e.DOWN||this.onSpinEnd()},doDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav"),this.callParent()}},function(e){e.prototype.onSpinEnd=Ext.Function.createBuffered(function(){this.fireEvent("spinend",this)},100)}),Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var e=this;null===e.decimalSeparator&&(e.decimalSeparator=Ext.util.Format.decimalSeparator),e.callParent(),e.setMinValue(e.minValue),e.setMaxValue(e.maxValue)},getSubTplData:function(e){var t,n,i,r=this.minValue,o=this.maxValue;return(n=(t=this.callParent([e])).inputElAriaAttributes)&&(r>Number.NEGATIVE_INFINITY&&(n["aria-valuemin"]=r),o<Number.MAX_VALUE&&(n["aria-valuemax"]=o),null!=(i=this.getValue())&&i>=r&&i<=o&&(n["aria-valuenow"]=i)),t},setValue:function(e){var t,n,i=this;return i.hasFocus&&(n=(t=i.getBind())&&t.value)&&n.syncing&&e===i.value?i:i.callParent([e])},getErrors:function(e){e=arguments.length>0?e:this.processRawValue(this.getRawValue());var t,n=this,i=n.callParent([e]),r=Ext.String.format;return e.length<1?i:(e=String(e).replace(n.decimalSeparator,"."),isNaN(e)&&i.push(r(n.nanText,e)),t=n.parseValue(e),0===n.minValue&&t<0?i.push(this.negativeText):t<n.minValue&&i.push(r(n.minText,n.minValue)),t>n.maxValue&&i.push(r(n.maxText,n.maxValue)),i)},rawToValue:function(e){var t=this.fixPrecision(this.parseValue(e));return null===t&&(t=e||null),t},valueToRaw:function(e){var t=this.decimalSeparator;return e=this.parseValue(e),e=this.fixPrecision(e),e=Ext.isNumber(e)?e:parseFloat(String(e).replace(t,".")),e=isNaN(e)?"":String(e).replace(".",t)},getSubmitValue:function(){var e=this.callParent();return this.submitLocaleSeparator||(e=e.replace(this.decimalSeparator,".")),e},onChange:function(e){var t=this.ariaEl.dom;this.toggleSpinners(),this.callParent(arguments),t&&(Ext.isNumber(e)&&isFinite(e)?t.setAttribute("aria-valuenow",e):t.removeAttribute("aria-valuenow"))},toggleSpinners:function(){var e,t=this,n=t.getValue(),i=null===n;(t.spinUpEnabled||t.spinUpDisabledByToggle)&&(e=i||n<t.maxValue,t.setSpinUpEnabled(e,!0)),(t.spinDownEnabled||t.spinDownDisabledByToggle)&&(e=i||n>t.minValue,t.setSpinDownEnabled(e,!0))},setMinValue:function(e){var t,n,i=this,r=i.ariaEl.dom;i.minValue=t=Ext.Number.from(e,Number.NEGATIVE_INFINITY),i.toggleSpinners(),r&&(t>Number.NEGATIVE_INFINITY?r.setAttribute("aria-valuemin",t):r.removeAttribute("aria-valuemin")),!0!==i.disableKeyFilter&&(n=i.baseChars+"",i.allowExponential?n+=i.decimalSeparator+"e+-":(i.allowDecimals&&(n+=i.decimalSeparator),i.minValue<0&&(n+="-")),n=Ext.String.escapeRegex(n),i.maskRe=new RegExp("["+n+"]"),i.autoStripChars&&(i.stripCharsRe=new RegExp("[^"+n+"]","gi")))},setMaxValue:function(e){var t,n=this.ariaEl.dom;this.maxValue=t=Ext.Number.from(e,Number.MAX_VALUE),n&&(t<Number.MAX_VALUE?n.setAttribute("aria-valuemax",t):n.removeAttribute("aria-valuemax")),this.toggleSpinners()},parseValue:function(e){return e=parseFloat(String(e).replace(this.decimalSeparator,".")),isNaN(e)?null:e},fixPrecision:function(e){var t=isNaN(e),n=this.decimalPrecision;return t||!e?t?"":e:((!this.allowDecimals||n<=0)&&(n=0),parseFloat(Ext.Number.toFixed(parseFloat(e),n)))},onBlur:function(e){var t=this.rawToValue(this.getRawValue());Ext.isEmpty(t)||this.setValue(t),this.callParent([e])},setSpinUpEnabled:function(e,t){this.callParent(arguments),t?this.spinUpDisabledByToggle=!e:delete this.spinUpDisabledByToggle},onSpinUp:function(){var e=this;e.readOnly||e.setSpinValue(Ext.Number.constrain(e.getValue()+e.step,e.minValue,e.maxValue))},setSpinDownEnabled:function(e,t){this.callParent(arguments),t?this.spinDownDisabledByToggle=!e:delete this.spinDownDisabledByToggle},onSpinDown:function(){var e=this;e.readOnly||e.setSpinValue(Ext.Number.constrain(e.getValue()-e.step,e.minValue,e.maxValue))},setSpinValue:function(e){this.enforceMaxLength&&this.fixPrecision(e).toString().length>this.maxLength||this.setValue(e)}}),Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",xtype:"pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:["Ext.util.StoreHolder"],displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,emptyPageData:{total:0,currentPage:0,pageCount:0,toRecord:0,fromRecord:0},defaultBindProperty:"store",getPagingItems:function(){var e=this,t={scope:e,blur:e.onPagingBlur};return t[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=e.onPagingKeyDown,[{itemId:"first",tooltip:e.firstText,overflowText:e.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:e.movePrevious,scope:e},"-",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:e.inputItemWidth,margin:"-1 2 3 2",listeners:t},{xtype:"tbtext",itemId:"afterTextItem",html:Ext.String.format(e.afterPageText,1)},"-",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:e.moveLast,scope:e},"-",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",disabled:e.store.isLoading(),handler:e.doRefresh,scope:e}]},initComponent:function(){var e,t=this,n=t.items||t.buttons||[];t.bindStore(t.store||"ext-empty-store",!0),t.store&&!t.store.nextPage&&Ext.raise("Store is not compatible with this component (does not support paging)"),e=t.getPagingItems(),t.prependButtons?t.items=n.concat(e):t.items=e.concat(n),delete t.buttons,t.displayInfo&&(t.items.push("->"),t.items.push({xtype:"tbtext",itemId:"displayItem"})),t.callParent()},beforeRender:function(){this.callParent(arguments),this.updateBarInfo()},onAdded:function(e){var t,n,i=this,r=i.store,o=i._autoStore;void 0===o&&(i._autoStore=o=!(r&&!r.isEmptyStore)),o&&((t=i._storeChangeListener)&&(t.destroy(),t=null),(n=e&&e.store)&&(t=e.on({destroyable:!0,scope:i,storechange:"onOwnerStoreChange"})),i._storeChangeListener=t,i.onOwnerStoreChange(e,n)),i.callParent(arguments)},onOwnerStoreChange:function(e,t){this.setStore(t||Ext.getStore("ext-empty-store"))},updateBarInfo:function(){this.store.isLoading()||(this.calledInternal=!0,this.onLoad(),this.calledInternal=!1)},updateInfo:function(){var e,t=this,n=t.child("#displayItem"),i=t.store,r=t.getPageData();n&&(e=0===i.getCount()?t.emptyMsg:Ext.String.format(t.displayMsg,r.fromRecord,r.toRecord,r.total),n.setText(e))},onLoad:function(){var e,t,n,i,r,o,a=this;if(r=0===a.store.getCount())t=0,n=0,i=Ext.String.format(a.afterPageText,0);else{if((t=(e=a.getPageData()).currentPage)>(n=e.pageCount))return void(n>0?a.store.loadPage(n):a.getInputItem().reset());i=Ext.String.format(a.afterPageText,isNaN(n)?1:n)}Ext.suspendLayouts(),(o=a.child("#afterTextItem"))&&o.update(i),(o=a.getInputItem())&&o.setDisabled(r).setValue(t),a.setChildDisabled("#first",1===t||r),a.setChildDisabled("#prev",1===t||r),a.setChildDisabled("#next",t===n||r),a.setChildDisabled("#last",t===n||r),a.setChildDisabled("#refresh",!1),a.updateInfo(),Ext.resumeLayouts(!0),a.calledInternal||a.fireEvent("change",a,e||a.emptyPageData)},setChildDisabled:function(e,t){var n=this.child(e);n&&n.setDisabled(t)},getPageData:function(){var e=this.store,t=e.getTotalCount(),n=Math.ceil(t/e.pageSize),i=Math.min(e.currentPage*e.pageSize,t);return{total:t,currentPage:e.currentPage,pageCount:Ext.Number.isFinite(n)?n:1,fromRecord:(e.currentPage-1)*e.pageSize+1,toRecord:i||t}},onLoadError:function(){this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(e){var t,n=this.getInputItem(),i=!1;return n&&(t=n.getValue(),i=parseInt(t,10),!t||isNaN(i))?(n.setValue(e.currentPage),!1):i},onPagingBlur:function(e){var t,n=this.getInputItem();n&&(t=this.getPageData().currentPage,n.setValue(t))},onPagingKeyDown:function(e,t){this.processKeyEvent(e,t)},processKeyEvent:function(e,t){var n,i=this,r=t.getKey(),o=i.getPageData(),a=t.shiftKey?10:1;r===t.RETURN?(t.stopEvent(),!1!==(n=i.readPageFromInput(o))&&(n=Math.min(Math.max(1,n),o.pageCount))!==o.currentPage&&!1!==i.fireEvent("beforechange",i,n)&&i.store.loadPage(n)):r===t.HOME||r===t.END?(t.stopEvent(),n=r===t.HOME?1:o.pageCount,e.setValue(n)):r!==t.UP&&r!==t.PAGE_UP&&r!==t.DOWN&&r!==t.PAGE_DOWN||(t.stopEvent(),(n=i.readPageFromInput(o))&&(r!==t.DOWN&&r!==t.PAGE_DOWN||(a*=-1),(n+=a)>=1&&n<=o.pageCount&&e.setValue(n)))},beforeLoad:function(){this.setChildDisabled("#refresh",!0)},moveFirst:function(){return!1!==this.fireEvent("beforechange",this,1)&&(this.store.loadPage(1),!0)},movePrevious:function(){var e=this.store,t=e.currentPage-1;return t>0&&!1!==this.fireEvent("beforechange",this,t)&&(e.previousPage(),!0)},moveNext:function(){var e=this.store,t=this.getPageData().pageCount,n=e.currentPage+1;return n<=t&&!1!==this.fireEvent("beforechange",this,n)&&(e.nextPage(),!0)},moveLast:function(){var e=this.getPageData().pageCount;return!1!==this.fireEvent("beforechange",this,e)&&(this.store.loadPage(e),!0)},doRefresh:function(){var e=this.store,t=e.currentPage;return!1!==this.fireEvent("beforechange",this,t)&&(e.loadPage(t),!0)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onBindStore:function(){this.rendered&&this.updateBarInfo()},doDestroy:function(){var e=this._storeChangeListener;e&&(e.destroy(),this._storeChangeListener=null),this.bindStore(null),this.callParent()}}),Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.view.BoundListKeyNav","Ext.layout.component.BoundList","Ext.toolbar.Paging"],mixins:["Ext.mixin.Queryable"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,preserveScrollOnRefresh:!0,enableInitialSelection:!1,refreshSelmodelOnRefresh:!0,componentLayout:"boundlist",navigationModel:"boundlist",scrollable:!0,ariaEl:"listEl",tabIndex:-1,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap"',' class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="',Ext.baseCSSPrefix,'list-plain"','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',">","</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],focusOnToFront:!1,alignOnScroll:!1,initComponent:function(){var e=this,t=e.baseCls,n=e.itemCls;e.selectedItemCls=t+"-selected",e.trackOver&&(e.overItemCls=t+"-item-over"),e.itemSelector="."+n,e.floating&&e.addCls(t+"-floating"),e.tpl?e.tpl.isTemplate||(e.tpl=new Ext.XTemplate(e.tpl)):e.generateTpl(),e.pageSize&&(e.pagingToolbar=e.createPagingToolbar()),e.callParent()},generateTpl:function(){this.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+this.itemCls+'">'+this.getInnerTpl(this.displayField)+"</li>","</tpl>")},setDisplayField:function(e){this.displayField=e,this.generateTpl()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=this.callParent(),t=this.pagingToolbar;return t&&e.push(t),e},createPagingToolbar:function(){var e=this;return new Ext.toolbar.Paging({id:e.id+"-paging-toolbar",pageSize:e.pageSize,store:e.dataSource,border:!1,ownerCt:e,ownerLayout:e.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var e=this,t=e.tpl;t.field=e.pickerField,t.store=e.store,e.callParent(),t.field=t.store=null,e.ariaStaticRoles[e.ariaRole]||e.refreshAriaAttributes()},refreshAriaAttributes:function(){var e,t,n,i,r,o,a,s,l=this,d=l.store,c=l.getSelectionModel();for(t=d.isFiltered()?d.getCount():d.getTotalCount()||d.getCount(),n=l.getNodes(),e=l.pickerField&&l.pickerField.multiSelect,a=0,s=n.length;a<s;a++)i=n[a],r=null,t!==s&&(r=l.getRecord(i),o=d.indexOf(r),i.setAttribute("aria-setsize",t),i.setAttribute("aria-posinset",o)),e&&(r=r||l.getRecord(i),i.setAttribute("aria-selected",c.isSelected(r)))},bindStore:function(e,t){var n=this.pagingToolbar;this.callParent(arguments),n&&n.bindStore(e,t)},getInnerTpl:function(e){return"{"+e+"}"},onShow:function(){var e=this.pickerField;this.callParent(),e&&e.rendered&&!e.hasFocus&&e.focus()},afterComponentLayout:function(e,t,n,i){var r=this.pickerField;this.callParent([e,t,n,i]),r&&r.alignPicker&&r.alignPicker()},onItemSelect:function(e){var t;return(t=this.callParent([e]))&&(this.ariaSelectable?t.setAttribute("aria-selected","true"):t.removeAttribute("aria-selected")),t},onItemDeselect:function(e){var t;return(t=this.callParent([e]))&&this.ariaSelectable&&(this.pickerField&&this.pickerField.multiSelect?t.setAttribute("aria-selected","false"):t.removeAttribute("aria-selected")),t},onItemClick:function(e){var t,n,i=this.pickerField;i&&(t=i.valueField,n=this.getSelectionModel().getSelection(),!i.multiSelect&&n.length&&(n=n[0])&&i.isEqual(e.get(t),n.get(t))&&i.collapse&&i.collapse())},onContainerClick:function(e){var t,n=this.pagingToolbar;return!(n&&n.rendered&&e.within(n.el))&&(!((Ext.isIE10||Ext.isIE11)&&(t=this.listWrap.getClientRegion(),!e.getPoint().isContainedBy(t)))&&void 0)},doDestroy:function(){this.pagingToolbar=Ext.destroy(this.pagingToolbar),this.callParent()},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var e=this.pagingToolbar;this.callParent(arguments),e&&e.finishRender()}}}),Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.view.BoundList","Ext.data.StoreManager"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:["Ext.util.StoreHolder"],config:{filters:null,selection:null,valueNotFoundText:null,displayTpl:null,delimiter:", ",displayField:"text"},publishes:["selection"],twoWayBindable:["selection"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",collapseOnSelect:!1,hiddenDataCls:Ext.baseCSSPrefix+"hidden-display "+Ext.baseCSSPrefix+"form-data-hidden",ariaRole:"combobox",autoDestroyBoundStore:!0,childEls:{hiddenDataEl:!0},filtered:!1,afterRender:function(){this.callParent(arguments),this.setHiddenValue(this.value)},multiSelect:!1,triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,autoLoadOnValue:!1,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,autoSelectLast:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:!0,clearValueOnEmpty:!0,newlineRe:/\r?\n/g,getGrowWidth:function(){var e,t,n,i,r,o,a,s=this.inputEl.dom.value;if(this.growToLongestValue)for(e=this.displayField,n=(t=this.store).data.length,i=0,r=0;r<n;r++)(a=(o=t.getAt(r).data[e]).length)>i&&(i=a,s=o);return s},initComponent:function(){var e,t,n=this,i=Ext.isDefined,r=n.store,o=n.transform;n.typeAhead&&n.multiSelect&&Ext.raise("typeAhead and multiSelect are mutually exclusive options -- please remove one of them."),n.typeAhead&&!n.editable&&Ext.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings."),n.selectOnFocus&&!n.editable&&Ext.raise("If selectOnFocus is enabled the combo must be editable: true -- please change one of those settings."),"pinList"in n&&(n.collapseOnSelect=!n.pinList),o&&(e=Ext.getDom(o))&&(n.store||(r=Ext.Array.map(Ext.Array.from(e.options),function(e){return[e.value,e.text]})),n.name||(n.name=e.name),"value"in n||(n.value=e.value)),n.displayTpl||n.setDisplayTpl(!1),n.bindStore(r||"ext-empty-store",!0,!0),t="local"===n.queryMode,i(n.queryDelay)||(n.queryDelay=t?10:500),i(n.minChars)||(n.minChars=t?0:4),n.callParent(),n.doQueryTask=new Ext.util.DelayedTask(n.doRawQuery,n),e&&(n.transformInPlace&&(n.render(e.parentNode,e),delete n.renderTo),Ext.removeNode(e))},initEvents:function(){var e=this;e.callParent(),e.altArrowKeyNav=new Ext.util.KeyNav({target:e.inputEl,forceKeyDown:!0,priority:1002,scope:e,down:{alt:!0,handler:e.onAltDownArrow},up:{alt:!0,handler:e.onAltUpArrow}})},getSubTplData:function(e){var t,n,i=this.id;return t=this.callParent([e]),this.ariaStaticRoles[this.ariaRole]||(n=t.ariaElAttributes)&&(n["aria-owns"]=i+"-inputEl "+i+"-picker-listEl",n["aria-autocomplete"]="list"),t},getSubTplMarkup:function(e){var t="",n=this.callParent(arguments);return this.hiddenName&&(t='<div id="'+e.id+'-hiddenDataEl" data-ref="hiddenDataEl" class="'+this.hiddenDataCls+'" role="presentation"></div>'),t+n},applyDisplayTpl:function(e){return e?e.isTemplate||(e=new Ext.XTemplate(e)):(e=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+this.getDisplayField()+'"]]}<tpl if="xindex < xcount">'+this.getDelimiter()+"</tpl></tpl>")).auto=!0,e},applyFilters:function(e,t){var n=this;return null===e||e.isFilterCollection?e:(e&&(t||(t=this.getFilters()),t.beginUpdate(),t.splice(0,t.length,e),t.each(function(e){e.ownerId=n.id}),t.endUpdate()),t)},applyValueNotFoundText:function(e){var t=this,n=t.valueNotFoundRecord||(t.valueNotFoundRecord=new Ext.data.Model);return n.set(t.displayField,e),t.valueField&&t.displayField!==t.valueField&&n.set(t.valueField,e),e},getFilters:function(e){var t=this.filters;return t||!1===e||(t=new Ext.util.FilterCollection,this.setFilters(t)),t},updateFilters:function(e,t){t&&t.un("endupdate","onEndUpdateFilters",this),e&&e.on("endupdate","onEndUpdateFilters",this),this.onEndUpdateFilters(e)},onEndUpdateFilters:function(e){var t,n,i=this,r=i.filtered,o=!!e&&e.length>0;(r||o)&&(i.filtered=o,t=[],(n=i.store.getFilters()).each(function(n){n.ownerId!==i.id||e.contains(n)||t.push(n)}),n.splice(0,t,e.items))},clearLocalFilter:function(){var e=this,t=e.queryFilter;t&&(e.queryFilter=null,e.changingFilters=!0,e.store.removeFilter(t,!0),e.changingFilters=!1)},completeEdit:function(e){var t=this;this.callParent([e]),t.doQueryTask.cancel(),t.assertValue(),t.queryFilter&&"local"===t.queryMode&&t.clearFilterOnBlur&&t.clearLocalFilter()},onFocus:function(e){var t=this;t.callParent([e]),"all"!==t.triggerAction&&t.queryFilter&&"local"===t.queryMode&&t.clearFilterOnBlur&&(delete t.lastQuery,t.doRawQuery())},onAltDownArrow:function(e){return e.stopEvent(),this.isExpanded||this.onDownArrow(e),!1},onAltUpArrow:function(e){return e.stopEvent(),this.isExpanded&&this.onEsc(e),!1},assertValue:function(){var e,t,n=this,i=n.getRawValue(),r=n.getDisplayValue(),o=n.lastSelectedRecords,a=!1;n.forceSelection?n.multiSelect?i!==r&&n.setRawValue(r):((t=n.findRecordByDisplay(i))?n.getDisplayValue([n.getRecordDisplayData(t)])===r&&(t=null,a=!0):!o||n.allowBlank&&!n.rawValue?n.displayTplData&&n.displayTplData.length&&(t=n.findRecordByValue(n.displayTplData[0][n.valueField])):t=o[0],t?(n.select(t,!0),n.fireEvent("select",n,t)):a||(o&&delete n.lastSelectedRecords,n.setRawValue(""))):(e=n.getValue())&&e==i&&(!(t=n.findRecordByDisplay(e))||t===(o&&o[0])&&n.displayField===n.valueField||(n.select(t,!0),n.fireEvent("select",n,t))),n.collapse()},onTypeAhead:function(){var e,t,n,i=this,r=i.displayField,o=i.store.findRecord(r,i.getRawValue());o&&(t=(e=o.get(r)).length,0!==(n=i.getRawValue().length)&&n!==t&&(i.lastMutatedValue=e,i.setRawValue(e),i.selectText(n,e.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent(),this.clearLocalFilter()},onUnbindStore:function(){var e=this,t=e.picker;e.queryFilter&&!e.store.destroyed&&e.clearLocalFilter(),t&&t.bindStore(null),e.pickerSelectionModel.destroy()},onBindStore:function(e,t){var n,i,r=this,o=r.picker;e&&(e.autoCreated&&(r.queryMode="local",r.valueField=r.displayField="field1",e.expanded||(r.displayField="field2"),r.getDisplayTpl().auto&&r.setDisplayTpl(null)),Ext.isDefined(r.valueField)||(r.valueField=r.displayField),(n={byValue:{rootProperty:"data",unique:!1}}).byValue.property=r.valueField,e.setExtraKeys(n),r.displayField===r.valueField?e.byText=e.byValue:(n.byText={rootProperty:"data",unique:!1},n.byText.property=r.displayField,e.setExtraKeys(n)),i={rootProperty:"data",extraKeys:{byInternalId:{property:"internalId"},byValue:{property:r.valueField,rootProperty:"data"}},listeners:{beginupdate:r.onValueCollectionBeginUpdate,endupdate:r.onValueCollectionEndUpdate,scope:r}},r.valueCollection=new Ext.util.Collection(i),r.pickerSelectionModel=new Ext.selection.DataViewModel({mode:r.multiSelect?"SIMPLE":"SINGLE",ordered:!0,deselectOnContainerClick:!1,enableInitialSelection:!1,pruneRemoved:!1,selected:r.valueCollection,store:e,listeners:{scope:r,lastselectedchanged:r.updateBindSelection}}),t||r.resetToDefault(),o&&(r.pickerSelectionModel.on({scope:r,beforeselect:r.onBeforeSelect,beforedeselect:r.onBeforeDeselect}),o.setSelectionModel(r.pickerSelectionModel),o.getStore()!==e&&o.bindStore(e)))},bindStore:function(e,t,n){var i=this,r=i.queryFilter;i.mixins.storeholder.bindStore.call(i,e,n),(e=i.getStore())&&r&&!t&&e.getFilters().add(r),n||!e||e.isEmptyStore||i.setValueOnData()},getStoreListeners:function(e){if(!e.isEmptyStore){var t=this,n={datachanged:t.onDataChanged,load:t.onLoad,exception:t.onException,update:t.onStoreUpdate,remove:t.checkValueOnChange};return e.getRemoteFilter()||(n.filterchange=t.checkValueOnChange),n}},onDataChanged:function(){this.grow&&this.growToLongestValue&&this.autoSize()},checkValueOnChange:function(){var e=this;if(!e.destroying&&e.getStore().isLoaded())if(e.multiSelect);else if(e.forceSelection&&!e.changingFilters&&!e.findRecordByValue(e.value)){if("local"!=e.queryMode&&e.hasFocus)return;e.setValue(null)}},onStoreUpdate:function(e,t){this.updateValue()},onException:function(){this.collapse()},onLoad:function(e,t,n){var i=!this.valueCollection.byValue.get(this.value);!n||!i||e.lastOptions&&"rawQuery"in e.lastOptions||this.setValueOnData(),this.checkValueOnChange()},setValueOnData:function(){var e=this;e.setValue(e.value),e.isExpanded&&e.getStore().getCount()&&e.doAutoSelect()},doRawQuery:function(){var e=this.inputEl.dom.value;this.multiSelect&&(e=e.split(this.delimiter).pop()),this.doQuery(e,!1,!0)},doQuery:function(e,t,n){var i,r=this,o=r.getStore().getFilters(),a=r.beforeQuery({lastQuery:r.lastQuery||"",query:e||"",rawQuery:n,forceAll:t,combo:r,cancel:!1});return!1===a||a.cancel?(r.startCheckChangeTask(),!1):(i=!!e&&(!r.queryFilter||r.queryFilter&&o.indexOf(r.queryFilter)<0),r.queryCaching&&!i&&a.query===r.lastQuery?(r.getPicker().refresh(),r.expand(),r.afterQuery(a)):(r.lastQuery=a.query,"local"===r.queryMode?r.doLocalQuery(a):r.doRemoteQuery(a)),!0)},beforeQuery:function(e){return!1===this.fireEvent("beforequery",e)?e.cancel=!0:e.cancel||e.query.length<this.minChars&&!e.forceAll&&(e.cancel=!0),e},doLocalQuery:function(e){var t,n=this,i=e.query,r=n.getStore(),o=i;if(n.clearLocalFilter(),i){if(n.enableRegEx)try{o=new RegExp(o)}catch(e){o=null}null!==o&&(n.changingFilters=!0,t=n.queryFilter=new Ext.util.Filter({id:n.id+"-filter",anyMatch:n.anyMatch,caseSensitive:n.caseSensitive,root:"data",property:n.displayField,value:o}),r.addFilter(t,!0),n.changingFilters=!1)}n.store.getCount()||n.getPicker().emptyText?(n.getPicker().refresh(),n.expand()):n.collapse(),n.afterQuery(e)},doRemoteQuery:function(e){var t=this,n=function(){t.destroyed||t.afterQuery(e)};t.expand(),t.pageSize?t.loadPage(1,{rawQuery:e.rawQuery,callback:n}):t.store.load({params:t.getParams(e.query),rawQuery:e.rawQuery,callback:n})},afterQuery:function(e){var t=this;t.store.getCount()&&(t.typeAhead&&t.doTypeAhead(e),e.rawQuery?t.picker&&!t.picker.getSelectionModel().hasSelection()&&t.doAutoSelect():t.doAutoSelect()),t.startCheckChangeTask()},loadPage:function(e,t){this.store.loadPage(e,Ext.apply({params:this.getParams(this.lastQuery)},t))},onPageChange:function(e,t){return this.loadPage(t),!1},getParams:function(e){var t={},n=this.queryParam;return n&&(t[n]=e),t},doAutoSelect:function(){var e,t,n=this.store,i=this.picker,r=0;i&&this.autoSelect&&n.getCount()>0&&(this.autoSelectLast&&(t=(e=i.getSelectionModel()).lastSelected)&&e.selected.length&&n.indexOf(t)>-1&&(r=t),i.getNavigationModel().setPosition(r))},doTypeAhead:function(e){var t=this;t.typeAheadTask||(t.typeAheadTask=new Ext.util.DelayedTask(t.onTypeAhead,t)),(e.query.length>e.lastQuery.length||!Ext.String.startsWith(e.lastQuery,e.query))&&t.typeAheadTask.delay(t.typeAheadDelay)},onTriggerClick:function(e){var t,n=this;n.readOnly||n.disabled||(n.isExpanded?n.collapse():e&&"keydown"===e.type&&e.altKey?(t=n.autoSelect,n.autoSelect=!1,n.expand(),n.autoSelect=t):"all"===n.triggerAction?n.doQuery(n.allQuery,!0):"last"===n.triggerAction?n.doQuery(n.lastQuery,!0):n.doQuery(n.getRawValue(),!1,!0))},onFieldMutation:function(e){var t=this,n=e.getKey(),i=n===e.BACKSPACE||n===e.DELETE,r=t.inputEl.dom.value,o=r.length;t.readOnly||r===t.lastMutatedValue&&!i||n===e.TAB||(t.lastMutatedValue=r,t.refreshEmptyText(),!o||"keyup"===e.type&&e.isSpecialKey()&&!i?(o||n&&!i||(++t.suspendCheckChange,t.multiSelect||(t.value=null,t.displayTplData=void 0),t.clearValueOnEmpty&&(t.valueCollection.beginUpdate(),t.pickerSelectionModel.deselectAll(),t.valueCollection.removeAll(),t.valueCollection.endUpdate()),t.collapse(),t.queryFilter&&t.clearLocalFilter(),t.lastQuery=null,--t.suspendCheckChange),t.callParent([e])):t.doQueryTask.delay(t.queryDelay))},doDestroy:function(){var e=this;e.doQueryTask.cancel(),e.typeAheadTask&&(e.typeAheadTask.cancel(),e.typeAheadTask=null),e.bindStore(null),Ext.destroy(e.altArrowKeyNav,e.valueCollection),e.callParent()},onAdded:function(){var e=this;e.callParent(arguments),e.picker&&(e.picker.ownerCt=e.up("[floating]"),e.picker.registerWithOwnerCt())},createPicker:function(){var e,t=this,n=Ext.apply({xtype:"boundlist",id:t.id+"-picker",pickerField:t,selectionModel:t.pickerSelectionModel,floating:!0,hidden:!0,store:t.getPickerStore(),displayField:t.displayField,preserveScrollOnRefresh:!0,pageSize:t.pageSize,tpl:t.tpl,ariaSelectable:t.ariaSelectable},t.listConfig,t.defaultListConfig);return e=t.picker=Ext.widget(n),t.pageSize&&e.pagingToolbar.on("beforechange",t.onPageChange,t),e.initialConfig.maxHeight||e.on({beforeshow:t.onBeforePickerShow,scope:t}),e.getSelectionModel().on({beforeselect:t.onBeforeSelect,beforedeselect:t.onBeforeDeselect,focuschange:t.onFocusChange,scope:t}),e.getNavigationModel().navigateOnSpace=!1,e},getPickerStore:function(){return this.store},onBeforePickerShow:function(e){var t=this.getPosition()[1]-Ext.getBody().getScroll().top,n=Ext.Element.getViewportHeight()-t-this.getHeight();e.maxHeight=Math.max(t,n)-5},onBeforeSelect:function(e,t,n){return this.fireEvent("beforeselect",this,t,n)},onBeforeDeselect:function(e,t,n){return this.fireEvent("beforedeselect",this,t,n)},onFocusChange:function(e,t,n){var i,r=this.picker,o=this.inputEl;n&&((i=Ext.get(r.getNodeByRecord(n)))?o.dom.setAttribute("aria-activedescendant",i.id):o.dom.removeAttribute("aria-activedescendant"))},getSelection:function(){var e=this.getPicker().getSelectionModel();return e.getSelection().length?e.getLastSelected():null},updateSelection:function(e){var t,n=this;n.ignoreNextSelection||(n.ignoreNextSelection=!0,t=n.getPicker().getSelectionModel(),e?(t.select(e),n.hasHadSelection=!0):t.deselectAll(),n.ignoreNextSelection=!1)},updateBindSelection:function(e,t){var n=this,i=null;n.ignoreNextSelection||(n.ignoreNextSelection=!0,t.length&&(i=e.getLastSelected(),n.hasHadSelection=!0),n.hasHadSelection&&n.setSelection(i),n.ignoreNextSelection=!1)},onValueCollectionBeginUpdate:Ext.emptyFn,onValueCollectionEndUpdate:function(){var e=this,t=e.store,n=e.valueCollection.getRange(),i=n[0],r=n.length;e.updateBindSelection(e.pickerSelectionModel,n),e.isSelectionUpdating()||(Ext.suspendLayouts(),e.lastSelection=n,r&&(e.lastSelectedRecords=n),e.updateValue(),r&&(!e.multiSelect&&t.contains(i)||e.collapseOnSelect||!t.getCount())&&(e.updatingValue=!0,e.collapse(),e.updatingValue=!1),Ext.resumeLayouts(!0),e.suspendCheckChange||(e.multiSelect||(n=i),e.fireEvent("select",e,n)))},isSelectionUpdating:function(){var e=this.pickerSelectionModel;return e.deselectingDuringSelect||e.refreshing},onExpand:function(){var e,t=this.getPicker(),n=t.getNavigationModel();n&&n.enable(),this.doAutoSelect(),(e=Ext.get(t.highlightedItem))&&this.inputEl.dom.setAttribute("aria-activedescendant",e.id)},onCollapse:function(){var e=this.getPicker().getNavigationModel();e&&e.disable(),this.updatingValue&&this.doQueryTask.cancel(),this.inputEl.dom.removeAttribute("aria-activedescendant")},select:function(e,t){var n,i=this.picker;e&&e.isModel&&!0===t&&i&&(n=!i.getSelectionModel().isSelected(e)),n||this.suspendEvent("select"),this.setValue(e),this.resumeEvent("select")},findRecord:function(e,t){var n=this.store,i=n.findExact(e,t);return-1!==i&&n.getAt(i)},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(e){var t=this.store.byValue.get(e),n=!1;return t&&(n=t[0]||t),n},findRecordByDisplay:function(e){var t=this.store.byText.get(e),n=!1;return t&&(n=t[0]||t),n},addValue:function(e){if(null!=e)return this.doSetValue(e,!0)},setValue:function(e){var t,n,i=this;if(i.hasFocus){if((n=(t=i.getBind())&&t.value)&&n.syncing){if(Ext.isEmpty(e)&&Ext.isEmpty(i.value)||e===i.value)return i;if(Ext.isArray(e)&&Ext.isArray(i.value)&&Ext.Array.equals(e,i.value))return i}}else i.lastSelectedRecords=null;return null!=e?i.doSetValue(e):(i.suspendEvent("select"),i.valueCollection.beginUpdate(),i.pickerSelectionModel.deselectAll(),i.valueCollection.endUpdate(),i.resumeEvent("select")),i},setRawValue:function(e){this.callParent([e]),this.lastMutatedValue=e},doSetValue:function(e,t){var n,i,r,o,a,s,l=this,d=l.getStore(),c=d.getModel(),u=[],h=[],f=l.autoLoadOnValue,g=d.getCount()>0||d.isLoaded(),p=d.hasPendingLoad(),m=f&&!g&&!p,x=l.forceSelection,E=l.pickerSelectionModel,v=l.displayField===l.valueField,y=d.isEmptyStore,b=l.lastSelection;if(t&&!l.multiSelect&&Ext.raise("Cannot add values to non multiSelect ComboBox"),(p||m||!g||y)&&(e.isModel||(l.value=t?Ext.Array.from(l.value).concat(e):e,l.setHiddenValue(l.value),l.setRawValue(v?e:""),v&&!Ext.isEmpty(e)&&l.inputEl&&l.emptyText&&l.inputEl.removeCls(l.emptyUICls)),m&&!y&&d.load(),!e.isModel||y))return l;for(n=0,i=(e=t?Ext.Array.from(l.value).concat(e):Ext.Array.from(e)).length;n<i;n++)(r=e[n])&&r.isModel||(r=l.findRecordByValue(s=r))||(r=l.valueCollection.find(l.valueField,s)),r||(x?l.valueNotFoundRecord&&(r=l.valueNotFoundRecord):!r&&e[n]&&((o={})[l.displayField]=e[n],l.valueField&&l.displayField!==l.valueField&&(o[l.valueField]=e[n]),r=new c(o))),r&&(u.push(r),h.push(r.get(l.valueField)));if(b)if((i=b.length)===u.length)for(n=0;!a&&n<i;n++)-1===Ext.Array.indexOf(l.lastSelection,u[n])&&(a=!0);else a=!0;else a=u.length;return a?(l.suspendEvent("select"),l.valueCollection.beginUpdate(),u.length?E.select(u,!1):E.deselectAll(),l.valueCollection.endUpdate(),l.resumeEvent("select")):l.updateValue(),l},updateValue:function(){var e,t,n,i=this,r=i.valueCollection.getRange(),o=r.length,a=[],s=i.displayTplData||(i.displayTplData=[]),l=i.inputEl;for(s.length=0,e=0;e<o;e++)t=r[e],s.push(i.getRecordDisplayData(t)),t!==i.valueNotFoundRecord&&a.push(t.get(i.valueField));i.setHiddenValue(a),i.value=i.multiSelect?a:a[0],Ext.isDefined(i.value)||(i.value=void 0),i.displayTplData=s,n=i.getDisplayValue(),i.setRawValue(n),i.refreshEmptyText(),i.checkChange(),l&&i.typeAhead&&i.hasFocus&&i.selectText(n.length)},setHiddenValue:function(e){var t,n,i,r,o,a,s=this.hiddenName;if(this.hiddenDataEl&&s){for(e=Ext.Array.from(e),r=(i=(n=this.hiddenDataEl.dom).childNodes)[0],o=e.length,a=i.length,!r&&o>0&&(this.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:s})),a=1,r=n.firstChild);a>o;)n.removeChild(i[0]),--a;for(;a<o;)n.appendChild(r.cloneNode(!0)),++a;for(t=0;t<o;t++)i[t].value=e[t]}},getDisplayValue:function(e){return e=e||this.displayTplData,(this.getDisplayTpl().apply(e)||"").replace(this.newlineRe,"")},getRecordDisplayData:function(e){return e.data},getValue:function(){var e=this,t=e.getStore(),n=e.picker,i=e.getRawValue(),r=e.value;return t.isEmptyStore||e.getDisplayValue()===i||(e.displayTplData=void 0,n&&(e.valueCollection.suspendEvents(),n.getSelectionModel().deselectAll(),e.valueCollection.resumeEvents(),e.lastSelection=null),r=t.isLoaded()&&(e.multiSelect||e.forceSelection)?e.value=void 0:e.value=i),e.value=null==r?null:r,e.value},getSubmitValue:function(){var e=this.getValue();return Ext.isEmpty(e)&&(e=""),e},isEqual:function(e,t){var n,i,r=Ext.Array.from;if(e=r(e),t=r(t),(i=e.length)!==t.length)return!1;for(n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0},clearValue:function(){this.setValue(null)}}),Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",isMonthPicker:!0,focusable:!0,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,footerButtonUI:"default",measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,alignOnScroll:!1,initComponent:function(){var e=this;e.selectedCls=e.baseCls+"-selected",e.small&&e.addCls(e.smallCls),e.setValue(e.value),e.activeYear=e.getYear((new Date).getFullYear()-4,-4),e.showButtons&&(e.okBtn=new Ext.button.Button({ui:e.footerButtonUI,text:e.okText,handler:e.onOkClick,scope:e}),e.cancelBtn=new Ext.button.Button({ui:e.footerButtonUI,text:e.cancelText,handler:e.onCancelClick,scope:e})),this.callParent()},beforeRender:function(){var e=this,t=0,n=[],i=Ext.Date.getShortMonthName,r=e.monthOffset,o=e.monthMargin,a="";for(e.padding&&!e.width&&e.cacheWidth(),e.callParent();t<r;++t)n.push(i(t),i(t+r));Ext.isDefined(o)&&(a="margin: 0 "+o+"px;"),Ext.apply(e.renderData,{months:n,years:e.getYears(),showButtons:e.showButtons,monthStyle:a})},cacheWidth:function(){var e=this,t=e.parseBox(e.padding),n=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});e.self.prototype.width=n.getWidth()+t.left+t.right,n.destroy()},afterRender:function(){var e=this,t=e.bodyEl;e.callParent(),e.up("[floating=true]")&&e.el.on("mousedown",e.onElClick,e,{translate:!1}),t.on({scope:e,click:"onBodyClick",dblclick:"onBodyClick"}),e.years=t.select("."+e.baseCls+"-year a"),e.months=t.select("."+e.baseCls+"-month a"),e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])}),e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over"),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])}),e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over"),e.updateBody(),Ext.isDefined(e.monthMargin)||(Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin())},calculateMonthMargin:function(){for(var e=this.months,t=e.first().getMargin("l");t&&this.getLargest()>this.measureMaxHeight;)--t,e.setStyle("margin","0 "+t+"px");return t},getLargest:function(e){var t=0;return this.months.each(function(e){var n=e.getHeight();n>t&&(t=n)}),t},setValue:function(e){var t,n=this,i=n.activeYear;return e?Ext.isDate(e)?n.value=[e.getMonth(),e.getFullYear()]:n.value=[e[0],e[1]]:n.value=[null,null],n.rendered&&(null!==(t=n.value[1])&&(t<i||t>i+n.yearOffset)&&(n.activeYear=t-n.yearOffset+1),n.updateBody()),n},getValue:function(){return this.value},hasSelection:function(){var e=this.value;return null!==e[0]&&null!==e[1]},getYears:function(){for(var e=this.yearOffset,t=this.activeYear,n=t+e,i=t,r=[];i<n;++i)r.push(i,i+e);return r},updateBody:function(){var e,t,n,i,r,o=this,a=o.years,s=o.months,l=o.getYears(),d=o.selectedCls,c=o.getYear(null),u=o.value[0],h=o.monthOffset;if(o.rendered){for(a.removeCls(d),s.removeCls(d),i=(t=a.elements).length,n=0;n<i;n++)r=Ext.fly(t[n]),e=l[n],r.dom.innerHTML=e,e===c&&r.addCls(d);null!==u&&(u<h?u*=2:u=2*(u-h)+1,s.item(u).addCls(d))}},getYear:function(e,t){var n=this.value[1];return t=t||0,null===n?e:n+t},onElClick:function(e){e.stopEvent()},onBodyClick:function(e,t){var n="dblclick"===e.type;e.getTarget("."+this.baseCls+"-month")?(e.stopEvent(),this.onMonthClick(t,n)):e.getTarget("."+this.baseCls+"-year")&&(e.stopEvent(),this.onYearClick(t,n))},adjustYear:function(e){"number"!=typeof e&&(e=this.totalYears),this.activeYear+=e,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(e,t){var n=this;n.value[0]=n.resolveOffset(n.months.indexOf(e),n.monthOffset),n.updateBody(),n.fireEvent("month"+(t?"dbl":"")+"click",n,n.value),n.fireEvent("select",n,n.value)},onYearClick:function(e,t){var n=this;n.value[1]=n.activeYear+n.resolveOffset(n.years.indexOf(e),n.yearOffset),n.updateBody(),n.fireEvent("year"+(t?"dbl":"")+"click",n,n.value),n.fireEvent("select",n,n.value)},resolveOffset:function(e,t){return e%2==0?e/2:t+Math.floor(e/2)},doDestroy:function(){Ext.destroy(this.backRepeater,this.nextRepeater,this.okBtn,this.cancelBtn),this.callParent()},privates:{finishRenderChildren:function(){this.callParent(arguments),this.showButtons&&(this.okBtn.finishRender(),this.cancelBtn.finishRender())}}}),Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",ariaMinText:"This date is before the minimum date",maxText:"This date is after the maximum date",ariaMaxText:"This date is after the maximum date",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date is disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",footerButtonUI:"default",isDatePicker:!0,alignOnScroll:!1,ariaRole:"region",focusable:!0,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="presentation">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="presentation" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="presentation" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" tabindex="0" aria-readonly="true">',"<thead>",'<tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr>","</thead>","<tbody>",'<tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr>","</tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>",'<div id="{id}-todayText" class="'+Ext.baseCSSPrefix+'hidden-clip">{todayText}.</div>','<div id="{id}-ariaMinText" class="'+Ext.baseCSSPrefix+'hidden-clip">{ariaMinText}.</div>','<div id="{id}-ariaMaxText" class="'+Ext.baseCSSPrefix+'hidden-clip">{ariaMaxText}.</div>','<div id="{id}-ariaDisabledDaysText" class="'+Ext.baseCSSPrefix+'hidden-clip">{ariaDisabledDaysText}.</div>','<div id="{id}-ariaDisabledDatesText" class="'+Ext.baseCSSPrefix+'hidden-clip">{ariaDisabledDatesText}.</div>',"</div>",{firstInitial:function(e){return Ext.picker.Date.prototype.getDayInitial(e)},isEndOfWeek:function(e){return--e%7==0&&0!==e?'</tr><tr role="row">':""},renderTodayBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.monthBtn.getRenderTree(),t)}}],initHour:12,numDays:42,initComponent:function(){var e=this,t=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected",e.disabledCellCls=e.baseCls+"-disabled",e.prevCls=e.baseCls+"-prevday",e.activeCls=e.baseCls+"-active",e.cellCls=e.baseCls+"-cell",e.nextCls=e.baseCls+"-prevday",e.todayCls=e.baseCls+"-today",e.format||(e.format=Ext.Date.defaultFormat),e.dayNames||(e.dayNames=Ext.Date.dayNames),e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay)),e.callParent(),e.value=e.value?t(e.value,!0):t(new Date),e.initDisabledDays()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=[],t=this.monthBtn,n=this.todayBtn;return t&&e.push(t),n&&e.push(n),e},beforeRender:function(){var e=this,t=Ext.String.htmlEncode,n=new Array(e.numDays),i=Ext.Date.format(new Date,e.format);e.padding&&!e.width&&e.cacheWidth(),e.monthBtn=new Ext.button.Split({ownerCt:e,ownerLayout:e.getComponentLayout(),text:"",tooltip:e.monthYearText,tabIndex:-1,ariaRole:"presentation",listeners:{click:e.doShowMonthPicker,arrowclick:e.doShowMonthPicker,scope:e}}),e.showToday&&(e.todayBtn=new Ext.button.Button({ui:e.footerButtonUI,ownerCt:e,ownerLayout:e.getComponentLayout(),text:Ext.String.format(e.todayText,i),tooltip:Ext.String.format(e.todayTip,i),tooltipType:"title",tabIndex:-1,ariaRole:"presentation",handler:e.selectToday,scope:e})),e.callParent(),Ext.applyIf(e,{renderData:{}}),Ext.apply(e.renderData,{dayNames:e.dayNames,showToday:e.showToday,prevText:t(e.prevText),nextText:t(e.nextText),todayText:t(e.todayText),ariaMinText:t(e.ariaMinText),ariaMaxText:t(e.ariaMaxText),ariaDisabledDaysText:t(e.ariaDisabledDaysText),ariaDisabledDatesText:t(e.ariaDisabledDatesText),days:n}),e.protoEl.unselectable()},cacheWidth:function(){var e=this,t=e.parseBox(e.padding),n=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});e.self.prototype.width=n.getWidth()+t.left+t.right,n.destroy()},onRender:function(e,t){var n=this,i="div."+n.baseCls+"-date";n.callParent(arguments),n.cells=n.eventEl.select("tbody td"),n.textNodes=n.eventEl.query(i),n.eventEl.set({"aria-labelledby":n.monthBtn.id}),n.mon(n.eventEl,{scope:n,mousewheel:n.handleMouseWheel,click:{fn:n.handleDateClick,delegate:i}})},initEvents:function(){var e=this;e.callParent(),e.pickerField&&e.el.on("mousedown",e.onMouseDown,e),e.monthBtn.el.on("mousedown",e.onMouseDown,e),e.prevRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:e.showPrevMonth,scope:e,mousedownStopEvent:!0}),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:e.showNextMonth,scope:e,mousedownStopEvent:!0}),e.keyNav=new Ext.util.KeyNav(e.eventEl,Ext.apply({scope:e,left:function(e){e.ctrlKey?this.showPrevMonth():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-1)),e.preventDefault()},right:function(e){e.ctrlKey?this.showNextMonth():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,1)),e.preventDefault()},up:function(e){e.ctrlKey?this.showNextYear():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-7)),e.preventDefault()},down:function(e){e.ctrlKey?this.showPrevYear():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,7)),e.preventDefault()},pageUp:function(e){e.ctrlKey?this.showPrevYear():this.showPrevMonth(),e.preventDefault()},pageDown:function(e){e.ctrlKey?this.showNextYear():this.showNextMonth(),e.preventDefault()},home:function(e){this.update(Ext.Date.getFirstDateOfMonth(this.activeDate)),e.preventDefault()},end:function(e){this.update(Ext.Date.getLastDateOfMonth(this.activeDate)),e.preventDefault()},tab:function(e){return this.handleTabKey(e),!0},enter:function(e){this.handleDateClick(e,this.activeCell.firstChild)},space:function(e){var t,n,i,r=this,o=r.pickerField;r.setValue(new Date(r.activeCell.firstChild.dateValue)),o&&(t=r.startValue,n=r.value,(i=o.getValue())&&t&&i.getTime()===n.getTime()?o.setValue(t):o.setValue(n)),e.preventDefault()}},e.keyNavConfig)),e.disabled&&e.syncDisabled(!0,!0),e.update(e.value)},onMouseDown:function(e){e.preventDefault()},handleTabKey:function(e){var t=this,n=t.getSelectedDate(t.activeDate),i=t.handler;t.disabled||!n.dateValue||Ext.fly(n.parentNode).hasCls(t.disabledCellCls)?t.fireEventArgs("tabout",[t]):(t.setValue(new Date(n.dateValue)),t.fireEvent("select",t,t.value),i&&Ext.callback(i,t.scope,[t,t.value],null,t,t),t.onSelect())},getSelectedDate:function(e){var t,n,i=e.getTime(),r=this.cells,o=this.selectedCls,a=r.elements,s=a.length;for(r.removeCls(o),n=0;n<s;n++)if((t=a[n].firstChild).dateValue===i)return t;return null},initDisabledDays:function(){var e,t,n,i,r=this.disabledDates,o="(?:";if(!this.disabledDatesRE&&r){for(e=r.length-1,n=r.length,t=0;t<n;t++)i=r[t],o+=Ext.isDate(i)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(i,this.format))+"$":i,t!==e&&(o+="|");this.disabledDatesRE=new RegExp(o+")")}},setDisabledDates:function(e){var t=this;return Ext.isArray(e)?(t.disabledDates=e,t.disabledDatesRE=null):t.disabledDatesRE=e,t.initDisabledDays(),t.update(t.value,!0),t},setDisabledDays:function(e){return this.disabledDays=e,this.update(this.value,!0)},setMinDate:function(e){return this.minDate=e,this.update(this.value,!0)},setMaxDate:function(e){return this.maxDate=e,this.update(this.value,!0)},setValue:function(e){return this.value=Ext.Date.clearTime(e||new Date,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(e){return e.substr(0,1)},onEnable:function(){this.callParent(),this.syncDisabled(!1,!0),this.update(this.activeDate)},onShow:function(){var e=this;e.callParent(),e.syncDisabled(!1),e.pickerField&&(e.startValue=e.pickerField.getValue())},onHide:function(){this.callParent(),this.syncDisabled(!0)},onDisable:function(){this.callParent(),this.syncDisabled(!0,!0)},getActive:function(){return this.activeDate||this.value},runAnimation:function(e){var t=this.monthPicker,n={duration:200,callback:function(){t.setVisible(!e)}};e?t.el.slideOut("t",n):t.el.slideIn("t",n)},hideMonthPicker:function(e){var t=this.monthPicker;return t&&t.isVisible()&&(this.shouldAnimate(e)?this.runAnimation(!0):t.hide()),this},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(e){var t,n=this,i=n.el;return n.rendered&&!n.disabled&&((t=n.createMonthPicker()).isVisible()||(t.setValue(n.getActive()),t.setSize(i.getSize()),t.floatParent=null,t.setPosition(-i.getBorderWidth("l"),-i.getBorderWidth("t")),n.shouldAnimate(e)?n.runAnimation(!1):t.show())),n},shouldAnimate:function(e){return Ext.isDefined(e)?e:!this.disableAnim},createMonthPicker:function(){var e=this,t=e.monthPicker;return t||(e.monthPicker=t=new Ext.picker.Month({renderTo:e.el,ownerCmp:e,floating:!0,padding:e.padding,shadow:!1,small:!1===e.showToday,footerButtonUI:e.footerButtonUI,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}}),e.disableAnim||t.el.setStyle("display","none"),t.hide(),e.on("beforehide",e.doHideMonthPicker,e)),t},onOkClick:function(e,t){var n=t[0],i=t[1],r=new Date(i,n,this.getActive().getDate());r.getMonth()!==n&&(r=Ext.Date.getLastDateOfMonth(new Date(i,n,1))),this.setValue(r),this.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(e){var t;e.stopEvent(),this.disabled||((t=e.getWheelDelta())>0?this.showPrevMonth():t<0&&this.showNextMonth())},handleDateClick:function(e,t){var n=this,i=n.handler;e.stopEvent(),n.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(n.disabledCellCls)||(n.setValue(new Date(t.dateValue)),n.fireEvent("select",n,n.value),i&&Ext.callback(i,n.scope,[n,n.value],null,n,n),n.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var e=this,t=e.todayBtn,n=e.handler;return t&&!t.disabled&&(e.setValue(Ext.Date.clearTime(new Date)),e.fireEvent("select",e,e.value),n&&Ext.callback(n,e.scope,[e,e.value],null,e,e),e.onSelect()),e},selectedUpdate:function(e){var t,n,i=this,r=e.getTime(),o=i.cells,a=i.selectedCls,s=o.getCount();for(i.eventEl.dom.setAttribute("aria-busy","true"),(n=i.activeCell)&&(Ext.fly(n).removeCls(a),n.setAttribute("aria-selected",!1)),t=0;t<s;t++)if(n=o.item(t),i.textNodes[t].dateValue===r){i.activeCell=n.dom,i.eventEl.dom.setAttribute("aria-activedescendant",n.dom.id),n.dom.setAttribute("aria-selected",!0),n.addCls(a),i.fireEvent("highlightitem",i,n);break}i.eventEl.dom.removeAttribute("aria-busy")},fullUpdate:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.cells.elements,h=c.textNodes,f=c.disabledCellCls,g=Ext.Date,p=0,m=0,x=+g.clearTime(e,!0),E=+g.clearTime(new Date),v=c.minDate?g.clearTime(c.minDate,!0):Number.NEGATIVE_INFINITY,y=c.maxDate?g.clearTime(c.maxDate,!0):Number.POSITIVE_INFINITY,b=c.disabledDatesRE,C=c.disabledDatesText,S=!!c.disabledDays&&c.disabledDays.join(""),w=c.disabledDaysText,T=c.format,P=g.getDaysInMonth(e),k=g.getFirstDateOfMonth(e).getDay()-c.startDay,I=g.add(e,g.MONTH,-1),M=c.ariaTitleDateFormat;for(k<0&&(k+=7),P+=k,t=g.getDaysInMonth(I)-k,n=new Date(I.getFullYear(),I.getMonth(),t,c.initHour),c.showToday&&(i=(r=g.clearTime(new Date))<v||r>y||b&&T&&b.test(g.dateFormat(r,T))||S&&-1!==S.indexOf(r.getDay()),c.todayDisabled=i,c.disabled||c.todayBtn.setDisabled(i)),o=function(e,t){var i=u[e],r=[];i.hasAttribute("id")||i.setAttribute("id",c.id+"-cell-"+e),d=+g.clearTime(n,!0),i.firstChild.dateValue=d,i.setAttribute("aria-label",g.format(n,M)),i.removeAttribute("aria-describedby"),i.removeAttribute("data-qtip"),d===E&&(t+=" "+c.todayCls,r.push(c.id+"-todayText")),d===x?(c.activeCell=i,c.eventEl.dom.setAttribute("aria-activedescendant",i.id),i.setAttribute("aria-selected",!0),t+=" "+c.selectedCls,c.fireEvent("highlightitem",c,i)):i.setAttribute("aria-selected",!1),d<v?(t+=" "+f,r.push(c.id+"-ariaMinText"),i.setAttribute("data-qtip",c.minText)):d>y?(t+=" "+f,r.push(c.id+"-ariaMaxText"),i.setAttribute("data-qtip",c.maxText)):S&&-1!==S.indexOf(n.getDay())?(i.setAttribute("data-qtip",w),r.push(c.id+"-ariaDisabledDaysText"),t+=" "+f):b&&T&&(l=g.dateFormat(n,T),b.test(l)&&(i.setAttribute("data-qtip",C.replace("%0",l)),r.push(c.id+"-ariaDisabledDatesText"),t+=" "+f)),r.length&&i.setAttribute("aria-describedby",r.join(" ")),i.className=t+" "+c.cellCls},c.eventEl.dom.setAttribute("aria-busy","true");p<c.numDays;++p)p<k?(a=++t,s=c.prevCls):p>=P?(a=++m,s=c.nextCls):(a=p-k+1,s=c.activeCls),h[p].innerHTML=a,n.setDate(n.getDate()+1),o(p,s);c.eventEl.dom.removeAttribute("aria-busy"),c.monthBtn.setText(Ext.Date.format(e,c.monthYearFormat))},update:function(e,t){var n=this,i=n.activeDate;return n.rendered&&(n.activeDate=e,!t&&i&&n.el&&i.getMonth()===e.getMonth()&&i.getFullYear()===e.getFullYear()?n.selectedUpdate(e,i):n.fullUpdate(e,i)),n},doDestroy:function(){var e=this;e.rendered&&Ext.destroy(e.keyNav,e.monthPicker,e.monthBtn,e.nextRepeater,e.prevRepeater,e.todayBtn,e.todayElSpan),e.callParent()},privates:{finishRenderChildren:function(){this.callParent(),this.monthBtn.finishRender(),this.showToday&&this.todayBtn.finishRender()},getFocusEl:function(){return this.eventEl},syncDisabled:function(e,t){var n=this,i=n.keyNav,r=n.todayBtn;i&&(i.setDisabled(e),n.prevRepeater.setDisabled(e),n.nextRepeater.setDisabled(e)),t&&r&&r.setDisabled(n.todayDisabled||e)}}}),Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",ariaFormat:"M j Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date cannot be selected",minText:"The date in this field must be equal to or after {0}",ariaMinText:"The date must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",ariaMaxText:"The date must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",formatText:"Expected date format {0}.",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,valuePublishEvent:["select","blur"],componentCls:Ext.baseCSSPrefix+"form-field-date",ariaRole:"combobox",rawDate:null,rawDateText:"",initComponent:function(){var e,t,n=this,i=Ext.isString;e=n.minValue,t=n.maxValue,i(e)&&(n.minValue=n.parseDate(e)),i(t)&&(n.maxValue=n.parseDate(t)),n.disabledDatesRE=null,n.initDisabledDays(),n.callParent()},getSubTplData:function(e){var t,n,i=this;return t=i.callParent([e]),i.ariaStaticRoles[i.ariaRole]||(n=t.ariaElAttributes)&&(n["aria-owns"]=i.id+"-inputEl "+i.id+"-picker-eventEl",n["aria-autocomplete"]="none"),t},initValue:function(){var e=this,t=e.value;Ext.isString(t)?(e.value=e.rawToValue(t),e.rawDate=e.value,e.rawDateText=e.parseDate(e.value)):(e.value=t||null,e.rawDate=e.value,e.rawDateText=e.value?e.parseDate(e.value):""),e.callParent()},initDisabledDays:function(){if(this.disabledDates){var e,t,n=this.disabledDates,i=n.length-1,r="(?:",o=n.length;for(e=0;e<o;e++)t=n[e],r+=Ext.isDate(t)?"^"+Ext.String.escapeRegex(t.dateFormat(this.format))+"$":t,e!==i&&(r+="|");this.disabledDatesRE=new RegExp(r+")")}},setDisabledDates:function(e){var t=this.picker;this.disabledDates=e,this.initDisabledDays(),t&&t.setDisabledDates(this.disabledDatesRE)},setDisabledDays:function(e){var t=this.picker;this.disabledDays=e,t&&t.setDisabledDays(e)},setMinValue:function(e){var t=this,n=t.picker,i=Ext.isString(e)?t.parseDate(e):e;t.minValue=i,n&&(n.minText=Ext.String.format(t.minText,t.formatDate(t.minValue)),n.setMinDate(i))},setMaxValue:function(e){var t=this,n=t.picker,i=Ext.isString(e)?t.parseDate(e):e;t.maxValue=i,n&&(n.maxText=Ext.String.format(t.maxText,t.formatDate(t.maxValue)),n.setMaxDate(i))},getErrors:function(e){e=arguments.length>0?e:this.formatDate(this.processRawValue(this.getRawValue()));var t,n,i,r,o=this,a=Ext.String.format,s=Ext.Date.clearTime,l=o.callParent([e]),d=o.disabledDays,c=o.disabledDatesRE,u=o.minValue,h=o.maxValue,f=d?d.length:0,g=0;if(null===e||e.length<1)return l;if(t=e,!(e=o.parseDate(e)))return l.push(a(o.invalidText,t,Ext.Date.unescapeFormat(o.format))),l;if(r=e.getTime(),u&&r<s(u).getTime()&&l.push(a(o.minText,o.formatDate(u))),h&&r>s(h).getTime()&&l.push(a(o.maxText,o.formatDate(h))),d)for(i=e.getDay();g<f;g++)if(i===d[g]){l.push(o.disabledDaysText);break}return n=o.formatDate(e),c&&c.test(n)&&l.push(a(o.disabledDatesText,n)),l},rawToValue:function(e){return e===this.rawDateText?this.rawDate:this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},setValue:function(e){var t=this;t.lastValue=t.rawDateText,t.lastDate=t.rawDate,Ext.isDate(e)?(t.rawDate=e,t.rawDateText=t.formatDate(e)):(t.rawDate=t.rawToValue(e),t.rawDateText=t.formatDate(e),t.rawDate===e&&(t.rawDate=null,t.rawDateText="")),t.callParent(arguments)},checkChange:function(){var e,t,n,i=this;i.suspendCheckChange||(e=i.getRawValue(),t=i.lastValue,n=i.lastDate,!i.destroyed&&i.didValueChange(e,t)&&(i.rawDate=i.rawToValue(e),i.rawDateText=i.formatDate(e),i.lastValue=e,i.lastDate=i.rawDate,i.fireEvent("change",i,i.getValue(),n),i.onChange(e,t)))},safeParse:function(e,t){var n,i=Ext.Date,r=null,o=this.useStrict;return i.formatContainsHourInfo(t)?r=i.parse(e,t,o):(n=i.parse(e+" "+this.initTime,t+" "+this.initTimeFormat,o))&&(r=i.clearTime(n)),r},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.rawDate;return t?Ext.Date.format(t,e):""},getValue:function(){return this.rawDate||null},setRawValue:function(e){this.callParent([e]),this.rawDate=Ext.isDate(e)?e:this.rawToValue(e),this.rawDateText=this.formatDate(e)},parseDate:function(e){if(!e||Ext.isDate(e))return e;var t,n=this,i=n.safeParse(e,n.format),r=n.altFormats,o=n.altFormatsArray,a=0;if(!i&&r)for(t=(o=o||r.split("|")).length;a<t&&!i;++a)i=n.safeParse(e,o[a]);return i},formatDate:function(e,t){return Ext.isDate(e)?Ext.Date.dateFormat(e,t||this.format):e},createPicker:function(){var e=this,t=Ext.String.format;return new Ext.picker.Date({id:e.id+"-picker",pickerField:e,floating:!0,preventRefocus:!0,hidden:!0,minDate:e.minValue,maxDate:e.maxValue,disabledDatesRE:e.disabledDatesRE,disabledDatesText:e.disabledDatesText,ariaDisabledDatesText:e.ariaDisabledDatesText,disabledDays:e.disabledDays,disabledDaysText:e.disabledDaysText,ariaDisabledDaysText:e.ariaDisabledDaysText,format:e.format,showToday:e.showToday,startDay:e.startDay,minText:t(e.minText,e.formatDate(e.minValue)),ariaMinText:t(e.ariaMinText,e.formatDate(e.minValue,e.ariaFormat)),maxText:t(e.maxText,e.formatDate(e.maxValue)),ariaMaxText:t(e.ariaMaxText,e.formatDate(e.maxValue,e.ariaFormat)),listeners:{scope:e,select:e.onSelect,tabout:e.onTabOut},keyNavConfig:{esc:function(){e.inputEl.focus(),e.collapse()}}})},onSelect:function(e,t){var n=this;n.setValue(t),n.rawDate=t,n.fireEvent("select",n,t),n.onTabOut(e)},onTabOut:function(e){this.inputEl.focus(),this.collapse()},onExpand:function(){var e=this.rawDate;this.picker.setValue(Ext.isDate(e)?e:new Date)},onBlur:function(e){var t=this.rawToValue(this.getRawValue());(""===t||Ext.isDate(t))&&this.setValue(t),this.callParent([e])}}),Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" role="textbox" aria-readonly="true"',' aria-labelledby="{cmpId}-labelEl" {inputAttrTpl}',' tabindex="<tpl if="tabIdx != null">{tabIdx}<tpl else>-1</tpl>"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:!0,disableFormats:!0}],ariaRole:void 0,focusable:!1,skipLabelForAttribute:!0,readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,getValue:function(){return this.value},valueToRaw:function(e){return e||0===e||!1===e?e:""},isDirty:function(){return!1},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(e){var t=this;return e=Ext.valueFrom(e,""),t.rawValue=e,t.rendered&&(t.inputEl.dom.innerHTML=t.getDisplayValue(),t.updateLayout()),e},getDisplayValue:function(){var e=this,t=this.getRawValue();return e.renderer?e.renderer.call(e.scope||e,t,e):e.htmlEncode?Ext.util.Format.htmlEncode(t):t},getSubTplData:function(e){var t=this.callParent(arguments);return t.value=this.getDisplayValue(),t}}),Ext.define("Ext.form.field.FileButton",{extend:"Ext.button.Button",alias:"widget.filebutton",childEls:["fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,tabIndex:void 0,useTabGuards:Ext.isIE||Ext.isEdge,promptCalled:!1,autoEl:{tag:"div",unselectable:"on"},afterTpl:['<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" ','type="file" size="1" name="{inputName}" unselectable="on" ','<tpl if="accept != null">accept="{accept}"</tpl>','<tpl if="tabIndex != null">tabindex="{tabIndex}"</tpl>',">"],keyMap:null,ariaEl:"fileInputEl",getAfterMarkup:function(e){return this.lookupTpl("afterTpl").apply(e)},getTemplateArgs:function(){var e,t=this;return(e=t.callParent()).inputCls=t.inputCls,e.inputName=t.inputName||t.id,e.tabIndex=null!=t.tabIndex?t.tabIndex:null,e.accept=t.accept||null,e.role=t.ariaRole,e},afterRender:function(){var e,t,n=this;n.callParent(arguments),e={scope:n,mousedown:n.handlePrompt,keydown:n.handlePrompt,change:n.fireChange,focus:n.onFileFocus,blur:n.onFileBlur},n.useTabGuards&&((t={tag:"span",role:"button","aria-hidden":"true","data-tabguard":"true",style:{height:0,width:0}}).tabIndex=null!=n.tabIndex?n.tabIndex:0,n.beforeInputGuard=n.el.createChild(t,n.fileInputEl),n.afterInputGuard=n.el.createChild(t),n.afterInputGuard.insertAfter(n.fileInputEl),n.beforeInputGuard.on("focus",n.onInputGuardFocus,n),n.afterInputGuard.on("focus",n.onInputGuardFocus,n),e.keydown=n.onFileInputKeydown),n.fileInputEl.on(e)},fireChange:function(e){this.fireEvent("change",this,e,this.fileInputEl.dom.value)},createFileInput:function(e){var t,n,i=this;(t=i.fileInputEl=i.el.createChild({name:i.inputName||i.id,id:e?void 0:i.id+"-fileInputEl",cls:i.inputCls+(i.getInherited().rtl?" "+Ext.baseCSSPrefix+"rtl":""),tag:"input",type:"file",size:1,unselectable:"on"},i.afterInputGuard)).dom.setAttribute("data-componentid",i.id),null!=i.tabIndex&&i.setTabIndex(i.tabIndex),i.accept&&t.dom.setAttribute("accept",i.accept),n={scope:i,change:i.fireChange,mousedown:i.handlePrompt,keydown:i.handlePrompt,focus:i.onFileFocus,blur:i.onFileBlur},i.useTabGuards&&(n.keydown=i.onFileInputKeydown),t.on(n)},handlePrompt:function(e){var t;"keydown"==e.type?(t=e.getKey(),this.promptCalled=!Ext.isIE&&t===e.ENTER||t===e.SPACE):this.promptCalled=!0},onFileFocus:function(e){var t=this.ownerCt;this.hasFocus||this.onFocus(e),t&&!t.hasFocus&&t.onFocus(e)},onFileBlur:function(e){var t=this.ownerCt;if(this.promptCalled)return this.promptCalled=!1,void e.preventDefault();this.hasFocus&&this.onBlur(e),t&&t.hasFocus&&t.onBlur(e)},onInputGuardFocus:function(e){this.fileInputEl.focus()},onFileInputKeydown:function(e){var t,n=e.getKey();return n===e.TAB?(t=e.shiftKey?this.beforeInputGuard:this.afterInputGuard)&&(t.suspendEvent("focus"),t.focus(),setTimeout(function(){t.resumeEvent("focus")},0)):n!==e.ENTER&&n!==e.SPACE||this.handlePrompt(e),!0},reset:function(e){e&&this.fileInputEl.destroy(),this.createFileInput(!e),e&&(this.ariaEl=this.fileInputEl)},restoreInput:function(e){var t=this;t.fileInputEl.destroy(),e=Ext.get(e),t.useTabGuards?e.insertBefore(t.afterInputGuard):t.el.appendChild(e),t.fileInputEl=e},onDisable:function(){this.callParent(),this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent(),this.fileInputEl.dom.disabled=!1},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el},setTabIndex:function(e){var t=this;t.focusable&&(t.tabIndex=e,!t.rendered||t.destroying||t.destroyed||(t.useTabGuards?(t.fileInputEl.dom.setAttribute("tabIndex",-1),t.beforeInputGuard.dom.setAttribute("tabIndex",e),t.afterInputGuard.dom.setAttribute("tabIndex",e)):t.fileInputEl.dom.setAttribute("tabIndex",e)))}}}),Ext.define("Ext.form.trigger.Component",{extend:"Ext.form.trigger.Trigger",alias:"trigger.component",cls:Ext.baseCSSPrefix+"form-trigger-cmp",onFieldRender:function(){var e=this.component;this.callParent(),e.isComponent||e.isWidget||(e=Ext.widget(e)),this.component=e,e.render(this.el)},destroy:function(){var e=this.component;(e.isComponent||e.isWidget)&&e.destroy(),this.component=null,this.callParent()}}),Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Text",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],requires:["Ext.form.field.FileButton","Ext.form.trigger.Component"],emptyText:void 0,needArrowKeys:!1,triggers:{filebutton:{type:"component",hideOnReadOnly:!1,preventMouseDown:!1}},buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",inputCls:Ext.baseCSSPrefix+"form-text-file",readOnly:!0,editable:!1,submitValue:!1,triggerNoEditCls:"",childEls:["browseButtonWrap"],applyTriggers:function(e){var t=this,n=(e||{}).filebutton;if(n)return n.component=Ext.apply({xtype:"filebutton",ownerCt:t,id:t.id+"-button",ui:t.ui,disabled:t.disabled,tabIndex:t.tabIndex,text:t.buttonText,style:t.buttonOnly?"":t.getButtonMarginProp()+t.buttonMargin+"px",accept:t.accept,inputName:t.getName(),listeners:{scope:t,change:t.onFileChange}},t.buttonConfig),t.callParent([e]);Ext.raise(t.$className+' requires a valid trigger config containing "filebutton" specification')},getSubTplData:function(e){var t=this.callParent([e]);return t.tabIdx=-1,t},onRender:function(){var e,t,n,i,r=this;r.callParent(arguments),(e=r.inputEl).dom.name="",e.on("focus",r.onInputFocus,r),e.on("mousedown",r.onInputMouseDown,r),i=r.getTrigger("filebutton"),t=r.button=i.component,r.fileInputEl=t.fileInputEl,n=t.el,r.buttonOnly&&(r.inputWrap.setDisplayed(!1),r.shrinkWrap=3),i.el.setWidth(n.getWidth()+n.getMargin("lr")),Ext.isIE&&r.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" data-ref="browseButtonWrap" role="presentation"></td>'},onFileChange:function(e,t,n){this.duringFileSelect=!0,Ext.form.field.File.superclass.setValue.call(this,n),delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},setEmptyText:Ext.emptyFn,setValue:Ext.emptyFn,reset:function(){var e=this,t=e.clearOnSubmit;e.rendered&&(e.button.reset(t),e.fileInputEl=e.button.fileInputEl,t&&(e.inputEl.dom.value="",Ext.form.field.File.superclass.setValue.call(this,null))),e.callParent()},onShow:function(){this.callParent(),this.button.updateLayout()},onDisable:function(){this.callParent(),this.button.disable()},onEnable:function(){this.callParent(),this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var e;return this.rendered?(e=this.button.fileInputEl.dom,this.reset()):((e=document.createElement("input")).type="file",e.className=Ext.baseCSSPrefix+"hidden-display",e.name=this.getName()),e},restoreInput:function(e){if(this.rendered){var t=this.button;t.restoreInput(e),this.fileInputEl=t.fileInputEl}},doDestroy:function(){this.fileInputEl=this.button=null,this.callParent()},getButtonMarginProp:function(){return this.getInherited().rtl?"margin-right:":"margin-left:"},onInputFocus:function(e){var t=this;t.selectOnFocus&&document.activeElement===t.inputEl.dom&&t.inputEl.dom.select(),t.focus(),Ext.isIE9m&&(t.fileInputEl.addCls(Ext.baseCSSPrefix+"position-relative"),t.fileInputEl.removeCls(Ext.baseCSSPrefix+"position-relative"))},onInputMouseDown:function(e){e.preventDefault(),this.focus()},privates:{getFocusEl:function(){return this.button},getFocusClsEl:Ext.privateFn}}),Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",focusable:!1,inputType:"hidden",isTextInput:!1,hideLabel:!0,hidden:!0,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(e,t){return this.isEqualAsString(e,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",xtype:"tip",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",focusOnToFront:!1,maskOnDisable:!1,closeAction:"hide",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var e=this;e.floating=Ext.apply({},{shadow:e.shadow},e.self.prototype.floating),e.callParent(arguments),e.constrain=e.constrain||e.constrainPosition},showAt:function(e){var t=this;t.calledFromShowAt=!0,t.callParent(arguments),t.isVisible()&&t.doAlignment(t.getRegion().alignTo({target:new Ext.util.Point(e[0],e[1]),inside:t.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null,align:"tl-tl",overlap:!0})),t.calledFromShowAt=0},doAlignment:function(e){var t=this,n=t.anchorEl,i=e.anchor;t.setPagePosition([e.x,e.y]),n&&(n.removeCls(t.anchorCls),i?(t.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+i.position,n.addCls(t.anchorCls),n.show(),1&i.align?(n.setTop(e.anchor.y-e.y),n.dom.style.left=""):(n.setLeft(e.anchor.x-e.x),n.dom.style.top="")):n.hide())},privates:{initDraggable:function(){var e=this;e.draggable={el:e.getDragEl(),delegate:e.header.el,constrain:e,constrainTo:e.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(e)}},ghost:void 0,unghost:void 0}),Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",requires:["Ext.util.Offset"],autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,mouseOffset:[15,18],trackMouse:!1,anchorToTarget:!0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1e3,defaultAlign:"bl-tl",ariaRole:"tooltip",alwaysOnTop:!0,initComponent:function(){this.callParent(),this.setTarget(this.target),this.currentTarget=new Ext.dom.Fly},onRender:function(e,t){var n=this;n.callParent(arguments),n.sticky&&n.el.dom.setAttribute("data-sticky",!0),n.anchorEl=n.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor"})},show:function(){if(!this.currentTarget.dom&&this.target)return this.showBy(this.target);this.callParent()},setTarget:function(e){var t,n=this;n.targetListeners&&n.targetListeners.destroy(),e?(n.target=e=Ext.get(e.el||e),t={mouseover:"onTargetOver",mouseout:"onTargetOut",mousemove:"onMouseMove",tap:"onTargetTap",scope:n,destroyable:!0},n.targetListeners=e.on(t)):n.target=null},onMouseMove:function(e){var t=this,n=t.dismissDelay;t.pointerEvent=e,t.isVisible()&&t.currentTarget.contains(e.target)&&(n&&!1!==t.autoHide&&(t.clearTimer("dismiss"),t.dismissTimer=Ext.defer(t.hide,n,t)),t.trackMouse&&t.doAlignment(t.getAlignRegion()))},getAlignRegion:function(){var e,t,n,i=this,r=i.anchorEl,o=i.getAnchorAlign(),a=i.mouseOffset;return i.anchorSize||(r.addCls(Ext.baseCSSPrefix+"tip-anchor-top"),r.show(),i.anchorSize=new Ext.util.Offset(r.getWidth(),r.getHeight()),r.removeCls(Ext.baseCSSPrefix+"tip-anchor-top"),r.hide()),(i.anchor||i.align)&&i.anchorToTarget&&!i.trackMouse?n=i.currentTarget.getRegion():(n=i.pointerEvent?i.pointerEvent.getPoint().adjust(-a[1],a[0],a[1],-a[0]):new Ext.util.Point,i.anchor||(e=!0,o=a[0]>0?a[1]>0?"tl-br":"bl-tr":a[1]>0?"tr-bl":"br-tl")),t={align:i.convertPositionSpec(o),axisLock:i.axisLock,target:n,overlap:e,offset:i.targetOffset,inside:i.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null},i.anchor&&(t.anchorSize=i.anchorSize),i.getRegion().alignTo(t)},fadeOut:function(){var e=this;e.el.fadeOut({duration:e.fadeOutDuration,callback:function(){e.hide(),e.el.setOpacity("")}})},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return this.defaultAlign}},onTargetTap:function(e){this.showOnTap&&"mouse"!==e.pointerType&&this.onTargetOver(e)},onTargetOver:function(e){var t,n=this,i=n.delegate,r=n.currentTarget,o=e.relatedTarget||e.fromElement,a=n.hasListeners;if(!n.disabled){if(i){if(r.contains(e.target))return;if((t=e.getTarget(i))&&Ext.fly(t).contains(e.fromElement))return}else{if(n.target.contains(o))return;t=n.target.dom}t?((a.beforeshow||a.show)&&n.isVisible()&&n.hide(),n.triggerElement=t,n.pointerEvent=e,r.attach(t),n.handleTargetOver(t,e)):r.dom&&n.handleTargetOut()}},handleTargetOver:function(e,t){"mouse"!==t.pointerType?this.showFromDelay():this.delayShow()},delayShow:function(){var e=this;e.clearTimer("hide"),e.hidden&&!e.showTimer?e.delegate&&Ext.Date.getElapsed(e.lastHidden)<e.quickShowInterval?e.showFromDelay():e.showTimer=Ext.defer(e.showFromDelay,"mouse"!==e.pointerEvent.pointerType?0:e.showDelay,e):e.hidden||!1===e.autoHide||e.showFromDelay()},showFromDelay:function(){var e=this;e.disabled||(e.fireEvent("hovertarget",e,e.currentTarget,e.currentTarget.dom),e.isVisible()?e.handleAfterShow():(e.triggerElement=e.currentTarget.dom,e.fromDelayShow=!0,e.show(),e.fromDelayShow=!1))},onTargetOut:function(e){this.currentTarget.dom&&!this.currentTarget.contains(e.relatedTarget)&&this.handleTargetOut()},handleTargetOut:function(){var e=this;e.showTimer&&e.clearTimer("show"),e.isVisible()&&e.autoHide&&e.delayHide()},delayHide:function(){var e=this;e.hidden||e.hideTimer||(e.clearTimer("dismiss"),e.hideTimer=Ext.defer(e[e.hideAction],e.hideDelay,e))},hide:function(){var e=this;e.currentTarget.detach(),e.clearTimer("dismiss"),e.lastHidden=new Date,e.anchorEl&&e.anchorEl.hide(),e.callParent(arguments),e.triggerElement=null},afterShow:function(){this.callParent(),this.handleAfterShow()},handleAfterShow:function(){var e=this;e.clearTimers(),e.calledFromShowAt||e.doAlignment(e.getAlignRegion()),e.dismissDelay&&!1!==e.autoHide&&(e.dismissTimer=Ext.defer(e.hide,e.dismissDelay,e))},showBy:function(e){this.align=this.defaultAlign,this.currentTarget.attach(Ext.getDom(e.el||e)),this.triggerElement=this.currentTarget.dom,this.show()},_timerNames:{},clearTimer:function(e){var t=this,n=t._timerNames,i=n[e]||(n[e]=e+"Timer"),r=t[i];r&&(clearTimeout(r),t[i]=null,"show"===e&&t.isHidden()&&t.currentTarget.detach())},clearTimers:function(){this.clearTimer("show"),this.clearTimer("dismiss"),this.clearTimer("hide")},onShow:function(){this.callParent(),this.mon(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onHide:function(){this.callParent(),this.mun(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(e){var t=this;t.closable||e.within(t.el.dom)||(t.disable(),Ext.defer(t.doEnable,100,t))},doEnable:function(){this.destroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},doDestroy:function(){var e=this;e.clearTimers(),Ext.getDoc().un("mousedown",e.onDocMouseDown,e),Ext.destroy(e.anchorEl),e.callParent()},privates:{clipTo:function(e,t){var n;n=e.isRegion?e:(e.isComponent?e.el:Ext.fly(e)).getConstrainRegion(),this.callParent([n,t]),this.anchorEl.clipTo(n,t)}}}),Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},isQuickTip:!0,shrinkWrapDock:!0,initComponent:function(){var e=this,t=e.tagConfig;t.attr||(t.attr=t.namespace+t.attribute);e.delegate=Ext.Function.bind(e.delegate,e),e.target=e.target||Ext.getDoc(),e.targets=e.targets||{},e.callParent()},setTagConfig:function(e){this.tagConfig=Ext.apply({},e),delete this.tagConfig.attr},text:null,register:function(e){for(var t,n,i,r=Ext.isArray(e)?e:arguments,o=0,a=r.length;o<a;o++)if(t=(e=r[o]).target)if(Ext.isArray(t))for(n=0,i=t.length;n<i;n++)this.targets[Ext.id(t[n])]=e;else this.targets[Ext.id(t)]=e},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this.currentTarget;e=Ext.getDom(e),this.isVisible()?t.dom===e&&this.hide():t.dom===e&&this.clearTimer("show")},delegate:function(e){var t=this.tagConfig,n=t.attr||(t.attr=t.namespace+t.attribute);return!!(e.getAttribute(n)||this.interceptTitles&&e.title)},getTipText:function(e){var t=e.title,n=this.tagConfig,i=n.attr||(n.attr=n.namespace+n.attribute);return this.interceptTitles&&t?(e.setAttribute(i,t),e.removeAttribute("title"),t):e.getAttribute(i)},onTargetOver:function(e){var t,n,i,r=this,o=r.currentTarget,a=e.target;if(a&&1===a.nodeType&&a!==document.documentElement&&a!==document.body){for(i in r.pointerEvent=e,t=r.targets)if(t.hasOwnProperty(i)&&(n=t[i]).target&&Ext.fly(n.target).contains(a)&&!Ext.fly(n.target).contains(e.relatedTarget))return a=Ext.getDom(n.target),o.attach(a),r.activeTarget=n,n.el=o,r.anchor=n.anchor,void r.activateTarget();r.callParent([e])}},handleTargetOver:function(e,t){var n,i=this,r=i.currentTarget,o=i.tagConfig,a=o.namespace,s=i.getTipText(e,t);s&&(n=r.getAttribute(a+o.hide),i.activeTarget={el:r,text:s,width:+r.getAttribute(a+o.width)||null,autoHide:"user"!==n&&"false"!==n,title:r.getAttribute(a+o.title),cls:r.getAttribute(a+o.cls),align:r.getAttribute(a+o.align),showDelay:r.getAttribute(a+o.showDelay),hideAction:r.getAttribute(a+o.hideAction),alignTarget:r.getAttribute(a+o.anchorTarget)},i.initialConfig.hasOwnProperty("anchor")||(i.anchor=r.getAttribute(a+o.anchor)),i.anchor&&!i.initialConfig.hasOwnProperty("anchorTarget")&&(i.alignTarget=i.activeTarget.alignTarget||e),i.activateTarget())},activateTarget:function(){var e=this,t=e.activeTarget,n=t.showDelay,i=t.hideAction;e.isVisible()?(e.updateContent(),e.handleAfterShow()):(t.showDelay&&(n=e.showDelay,e.showDelay=parseInt(t.showDelay,10)),e.delayShow(),t.showDelay&&(e.showDelay=n),(i=t.hideAction)?e.hideAction=i:delete e.hideAction)},getAnchorAlign:function(){var e=this.activeTarget;return e&&e.align||this.callParent()},getAlignRegion:function(){var e,t=this,n=t.activeTarget,i=t.currentTarget.dom;return n&&n.alignTarget&&t.anchor&&!t.initialConfig.hasOwnProperty("anchorTarget")&&t.currentTarget.attach(Ext.getDom(n.alignTarget)),t.anchorToTarget=!(!n.align&&!t.anchor),e=t.callParent(),t.currentTarget.attach(i),e},handleTargetOut:function(e){var t=this,n=t.activeTarget,i=t.autoHide,r=t.hideDelay;n&&!1!==i&&(t.autoHide=!0,n.hideDelay&&(t.hideDelay=parseInt(n.hideDelay,10)),t.callParent([e]),t.autoHide=i,t.hideDelay=r)},targetTextEmpty:function(){var e,t=this.activeTarget,n=this.tagConfig;return!(!t||!(e=t.el)||e.getAttribute(n.namespace+n.attribute)||this.targets[Ext.id(t.el.dom)])},show:function(){var e=this;if(e.fromDelayShow&&e.targetTextEmpty())return e.activeTarget=null,void e.currentTarget.detach();e.callParent(arguments)},beforeShow:function(){this.updateContent(),this.callParent(arguments)},updateContent:function(){var e,t,n=this,i=n.activeTarget,r=n.header;i&&(n.suspendLayouts(),i.title?(n.setTitle(i.title),r.show()):r&&r.hide(),n.update(i.text),n.autoHide=i.autoHide,e=i.dismissDelay,n.dismissDelay=Ext.isNumber(e)?e:n.dismissDelay,(t=n.lastCls)&&(n.removeCls(t),delete n.lastCls),(t=i.cls)&&(n.addCls(t),n.lastCls=t),n.setWidth(i.width),n.align=i.align,n.resumeLayouts(!0))},hide:function(){this.activeTarget=null,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",{requires:["Ext.tip.QuickTip"],singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(e,t){if(!this.tip){if(!Ext.isReady)return Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(e,t)}),!1;var n=Ext.apply({sticky:!0,disabled:this.disabled,id:"ext-quicktips-tip"},t),i=n.className,r=n.xtype;i?delete n.className:r&&(i="widget."+r,delete n.xtype),!1!==e&&(n.renderTo=document.body,"BODY"!==n.renderTo.tagName.toUpperCase()&&Ext.raise({sourceClass:"Ext.tip.QuickTipManager",sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"})),this.tip=Ext.create(i||"Ext.tip.QuickTip",n),this.tip.destroy=Ext.emptyFn,Ext.quickTipsActive=!0}},destroy:function(){var e=this.tip;e&&(delete e.destroy,e.destroy(),this.tip=null),Ext.quickTipsActive=!1},ddDisable:function(){var e=this.tip;e&&!this.disabled&&e.disable()},ddEnable:function(){var e=this.tip;e&&!this.disabled&&e.enable()},enable:function(){var e=this.tip;e&&e.enable(),this.disabled=!1},disable:function(){var e=this.tip;e&&e.disable(),this.disabled=!0},isEnabled:function(){var e=this.tip;return void 0!==e&&!e.disabled},getQuickTip:function(){return this.tip},register:function(){var e=this.tip;e.register.apply(e,arguments)},unregister:function(){var e=this.tip;e.unregister.apply(e,arguments)},tips:function(){var e=this.tip;e.register.apply(e,arguments)}}),Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",focusable:!0,componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var e=this;e.callParent(arguments),e.handler&&e.on("select",e.handler,e.scope,!0)},initRenderData:function(){return Ext.apply(this.callParent(),{itemCls:this.itemCls,colors:this.colors})},onRender:function(){var e=this,t=e.clickEvent;e.callParent(arguments),e.mon(e.el,t,e.handleClick,e,{delegate:"a"}),"click"!==t&&e.mon(e.el,"click",Ext.emptyFn,e,{delegate:"a",stopEvent:!0})},afterRender:function(){var e,t=this;t.callParent(arguments),t.value&&(e=t.value,t.value=null,t.select(e,!0))},handleClick:function(e){var t;e.stopEvent(),this.disabled||(t=e.currentTarget.className.match(this.colorRe)[1],this.select(t.toUpperCase()))},select:function(e,t){var n,i,r=this,o=r.selectedCls,a=r.value;e=e.replace("#",""),r.rendered?(e!==a||r.allowReselect)&&(n=r.el,r.value&&(i=n.down("a.color-"+a,!0),Ext.fly(i).removeCls(o)),i=n.down("a.color-"+e,!0),Ext.fly(i).addCls(o),r.value=e,!0!==t&&r.fireEvent("select",r,e)):r.value=e},clear:function(){var e,t=this,n=t.value;n&&t.rendered&&(e=t.el.down("a.color-"+n,!0),Ext.fly(e).removeCls(t.selectedCls)),t.value=null},getValue:function(){return this.value||null}}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.FieldContainer",alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(e){var t,n=this.owner;Ext.isGecko&&(t=n.textareaEl.dom,this.lastValue=t.value,t.value=""),this.callParent(arguments),e.toolbarContext=e.context.getCmp(n.toolbar),e.inputCmpContext=e.context.getCmp(n.inputCmp),e.bodyCellContext=e.getEl("bodyEl"),e.textAreaContext=e.getEl("textareaEl"),e.iframeContext=e.getEl("iframeEl")},beginLayoutCycle:function(e){var t=e.widthModel,n=e.heightModel,i=this.owner,r=i.iframeEl,o=i.textareaEl,a=n.natural||n.shrinkWrap?this.naturalHeight:"";this.callParent(arguments),t.shrinkWrap?(r.setStyle("width",""),o.setStyle("width","")):t.natural&&e.bodyCellContext.setWidth(this.naturalWidth),r.setStyle("height",a),o.setStyle("height",a)},finishedLayout:function(){var e=this.owner;this.callParent(arguments),Ext.isGecko&&(e.textareaEl.dom.value=this.lastValue)}}),Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",requires:["Ext.toolbar.Toolbar"],alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",ariaRole:"separator"}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",alias:["box.overflow.menu","box.overflow.Menu"],noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items" role="menuitem">(None)</div>',menuCls:Ext.baseCSSPrefix+"box-menu",constructor:function(e){this.callParent([e]),this.menuItems=[]},beginLayout:function(e){this.callParent([e]),this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent([e,t]),t||(this.clearOverflow(e),this.layout.cacheChildItems(e))},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},clearItem:function(e){var t=e.menu;e.isButton&&t&&e.setMenu(t,!1)},getSuffixConfig:function(){var e=this,t=e.layout,n=t.owner,i=n.id;return e.menu=new Ext.menu.Menu({listeners:{scope:e,beforeshow:e.beforeMenuShow}}),e.menuTrigger=new Ext.button.Button({id:i+"-menu-trigger",cls:e.menuCls+"-after "+Ext.baseCSSPrefix+"toolbar-item",plain:n.usePlainButtons,ownerCt:n,ownerLayout:t,iconCls:Ext.baseCSSPrefix+e.getOwnerType(n)+"-more-icon",ui:n.defaultButtonUI||"default",menu:e.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),e.menuTrigger.getRenderTree()},getOverflowCls:function(e){return this.menuCls+"-body-"+e},handleOverflow:function(e){var t=this,n=t.layout;return t.showTrigger(e),"vertical"!==n.direction&&t.menuTrigger.setLocalY((e.state.boxPlan.maxSize-t.menuTrigger[n.names.getHeight]())/2),{reservedSpace:t.triggerTotalWidth}},captureChildElements:function(){var e=this.menuTrigger,t=this.layout.names;e.rendering&&(e.finishRender(),this.triggerTotalWidth=e[t.getWidth]()+e.el.getMargin(t.parallelMargins))},clearOverflow:function(e){var t,n,i=this,r=i.menuItems,o=r.length,a=i.layout.owner,s=a._asLayoutRoot;for(a.suspendLayouts(),i.captureChildElements(),i.hideTrigger(),a.resumeLayouts(),n=0;n<o;n++)(t=r[n]).suspendLayouts(),t.show(),i.clearItem(t),t.resumeLayouts(s);r.length=0},showTrigger:function(e){var t,n,i,r,o,a=this,s=a.layout,l=s.owner,d=s.names,c=d.x,u=d.width,h=e.state.boxPlan.targetSize[u],f=e.childItems,g=a.menuTrigger,p=a.menuItems;for(g.suspendLayouts(),g.show(),g.resumeLayouts(a._asLayoutRoot),h-=a.triggerTotalWidth,l.suspendLayouts(),i=0,o=p.length;i<o;++i)a.clearItem(p[i]);for(p.length=0,i=0,o=f.length;i<o;i++)(r=(t=f[i]).props)[c]+r[u]>h&&(n=t.target,a.menuItems.push(n),n.hide());l.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;e&&e.hide()},beforeMenuShow:function(e){var t,n,i=this.menuItems,r=0,o=i.length,a=function(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)};for(e.suspendLayouts(),e.removeAll(!1);r<o;r++)t=i[r],!r&&t instanceof Ext.toolbar.Separator||(n&&(a(t,n)||a(n,t))&&e.add("-"),this.addComponentToMenu(e,t),n=t);e.items.length<1&&e.add(this.noItemsMenuText),e.resumeLayouts()},createMenuConfig:function(e,t){var n=Ext.apply({},e.initialConfig),i=e.toggleGroup;return Ext.copy(n,e,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.applyIf(n,{hideOnClick:t,destroyMenu:!1,listeners:null}),n.text=e.overflowText||e.text,n.masterComponent=e,e.isFormField?(n.value=e.getValue(),e instanceof Ext.form.field.Checkbox&&(n={xtype:"menucheckitem",group:e.isRadio?e.name+"_clone":void 0,text:e.boxLabel||e.fieldLabel,name:e.name,masterComponent:e,checked:e.getValue(),hideOnClick:!1,checkChangeDisabled:!0}),n.listeners={change:function(e,t,n){e.masterComponent.setValue(t)}},e.on("change",function(e,t,n){e.overflowClone.setValue(t)})):(i||e.enableToggle)&&Ext.apply(n,{hideOnClick:!1,group:i,checked:e.pressed,handler:function(e,t){e.masterComponent.onClick(t)}}),e.isButton&&!e.changeListenersAdded&&(e.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle}),e.changeListenersAdded=!0),e.on({enable:this.onComponentStatusChange,disable:this.onComponentStatusChange}),delete n.margin,delete n.ownerCt,delete n.xtype,delete n.id,delete n.itemId,n},onButtonAttrChange:function(e){var t=e.overflowClone;t.suspendLayouts(),t.setText(e.text),t.setIcon(e.icon),t.setIconCls(e.iconCls),t.resumeLayouts(!0)},onButtonToggle:function(e,t){e.overflowClone.checked!==t&&e.overflowClone.setChecked(t)},onComponentStatusChange:function(e){var t=e.overflowClone;t&&t.setDisabled(e.disabled)},addComponentToMenu:function(e,t){var n,i,r,o=this;if(!(t instanceof Ext.toolbar.Fill))if(t instanceof Ext.toolbar.Separator)e.add("-");else if(t.overflowClone)e.add(t.overflowClone);else if(t.isComponent)if(t.isXType("splitbutton"))t.overflowClone=e.add(o.createMenuConfig(t,!0));else if(t.isXType("button"))t.overflowClone=e.add(o.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup"))for(r=(i=t.items.items).length,n=0;n<r;n++)o.addComponentToMenu(e,i[n]);else t instanceof Ext.form.field.Checkbox?(t.overflowClone=e.add(o.createMenuConfig(t)),Ext.apply(t.overflowClone,{getValue:function(){return t.overflowClone.checked},setValue:function(){t.overflowClone.setChecked(t.getValue())}}),t.overflowClone.on("click",function(e){e.setChecked(!0),e.fireEvent("change",e,e.checked)})):t.overflowClone=e.add(Ext.create(Ext.getClassName(t),o.createMenuConfig(t)))},destroy:function(){Ext.destroy(this.menu,this.menuTrigger),this.callParent()}}),Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.layout.container.VBox","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor","Ext.util.TaskManager","Ext.layout.container.boxOverflow.Menu"],focusable:!0,componentLayout:"htmleditor",textareaCls:Ext.baseCSSPrefix+"htmleditor-textarea",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabindex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",defaultButtonUI:"default-toolbar",buttonDefaults:null,initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,textAlignRE:/text-align:(.*?);/i,safariNonsenseRE:/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,nonDigitsRE:/\D/g,initComponent:function(){var e=this;e.items=[e.createToolbar(),e.createInputCmp()],e.layout={type:"vbox",align:"stretch"},null==e.value&&(e.value=""),e.callParent(arguments),e.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var e=this,t=e.id+"-inputCmp",n={id:t,name:e.name,textareaCls:e.textareaCls+" "+Ext.baseCSSPrefix+"hidden",value:e.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};return e.getInsertionRenderData(n,e.subTplInsertions),{flex:1,xtype:"component",tpl:e.lookupTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:t,cls:Ext.baseCSSPrefix+"html-editor-input",data:n}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){var e,t,n,i=this,r=[],o=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),a=Ext.baseCSSPrefix;function s(e,t,r){return Ext.merge({itemId:e,cls:a+"btn-icon",iconCls:a+"edit-"+e,enableToggle:!1!==t,scope:i,handler:r||i.relayBtnCmd,clickEvent:"mousedown",tooltip:o?i.buttonTips[e]:n,overflowText:i.buttonTips[e].title||n,tabIndex:-1},i.buttonDefaults)}for(i.enableFont&&!Ext.isSafari2&&(t=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+a+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){i.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;e&&(e.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;e&&(e.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){i.win.focus(),i.relayCmd("fontName",i.fontSelect.dom.value),i.deferFocus()},element:"selectEl"}}),r.push(t,"-")),i.enableFormat&&r.push(s("bold"),s("italic"),s("underline")),i.enableFontSize&&r.push("-",s("increasefontsize",!1,i.adjustFont),s("decreasefontsize",!1,i.adjustFont)),i.enableColors&&r.push("-",Ext.merge({itemId:"forecolor",cls:a+"btn-icon",iconCls:a+"edit-forecolor",overflowText:i.buttonTips.forecolor.title,tooltip:o&&i.buttonTips.forecolor||n,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(e,t){i.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+t:t),this.up("menu").hide()}}]})},i.buttonDefaults),Ext.merge({itemId:"backcolor",cls:a+"btn-icon",iconCls:a+"edit-backcolor",overflowText:i.buttonTips.backcolor.title,tooltip:o&&i.buttonTips.backcolor||n,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(e,t){Ext.isGecko?(i.execCmd("useCSS",!1),i.execCmd("hilitecolor","#"+t),i.execCmd("useCSS",!0),i.deferFocus()):i.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+t:t),this.up("menu").hide()}}]})},i.buttonDefaults)),i.enableAlignments&&r.push("-",s("justifyleft"),s("justifycenter"),s("justifyright")),Ext.isSafari2||(i.enableLinks&&r.push("-",s("createlink",!1,i.createLink)),i.enableLists&&r.push("-",s("insertorderedlist"),s("insertunorderedlist")),i.enableSourceEdit&&r.push("-",s("sourceedit",!0,function(){i.toggleSourceEdit(!i.sourceEditMode)}))),e=0;e<r.length;e++)"sourceedit"!==r[e].itemId&&(r[e].disabled=!0);return{xtype:"toolbar",defaultButtonUI:i.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:r,listeners:{click:function(e){e.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(e){var t,n=this,i=n.textareaEl,r=n.iframeEl;n.readOnly=e,i&&(i.dom.readOnly=e),n.initialized&&(t=n.getEditorBody(),Ext.isIE?(r.setDisplayed(!1),t.contentEditable=!e,r.setDisplayed(!0)):n.setDesignMode(!e),t&&(t.style.cursor=e?"default":"text"),n.disableItems(e))},getDocMarkup:function(){var e=this,t=e.iframeEl.getHeight()-2*e.iframePad;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera||Ext.isIE?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(e.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",e.iframePad,t,e.defaultFont)},getEditorBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var e,t,n,i,r,o,a,s=this,l=0;if(!s.defaultFont){for(t=s.textareaEl.getStyle("font-family"),t=Ext.String.capitalize(t.split(",")[0]),e=Ext.Array.clone(s.fontFamilies),Ext.Array.include(e,t),e.sort(),s.defaultFont=t,n=s.down("#fontSelect").selectEl.dom,r=0,o=e.length;r<o;++r)a=(t=e[r]).toLowerCase(),i=new Option(t,a),t===s.defaultFont&&(l=r),i.style.fontFamily=a,Ext.isIE?n.add(i):n.options.add(i);n.options[l].selected=!0}},isEqual:function(e,t){return this.isEqualAsString(e,t)},afterRender:function(){var e=this,t=e.inputCmp;e.callParent(arguments),e.iframeEl=t.iframeEl,e.textareaEl=t.textareaEl,e.inputEl=e.iframeEl,e.enableFont&&e.initDefaultFont(),e.monitorTask=Ext.TaskManager.start({run:e.checkDesignMode,scope:e,interval:100})},initFrameDoc:function(){var e,t,n=this;Ext.TaskManager.stop(n.monitorTask),e=n.getDoc(),n.win=n.getWin(),e.open(),e.write(n.getDocMarkup()),e.close(),t={run:function(){var e=n.getDoc();(e.body||"complete"===e.readyState)&&(Ext.TaskManager.stop(t),n.setDesignMode(!0),Ext.defer(n.initEditor,10,n))},interval:10,duration:1e4,scope:n},Ext.TaskManager.start(t)},checkDesignMode:function(){var e=this.getDoc();!e||e.editorInitialized&&"on"===this.getDesignMode()||this.initFrameDoc()},setDesignMode:function(e){var t=this.getDoc();t&&(this.readOnly&&(e=!1),t.designMode=/on|true/i.test(String(e).toLowerCase())?"on":"off")},getDesignMode:function(){var e=this.getDoc();return e?String(e.designMode).toLowerCase():""},disableItems:function(e){var t,n,i=this.getToolbar().items.items,r=i.length;for(t=0;t<r;t++)"sourceedit"!==(n=i[t]).getItemId()&&n.setDisabled(e)},toggleSourceEdit:function(e){var t=this,n=t.iframeEl,i=t.textareaEl,r=Ext.baseCSSPrefix+"hidden",o=t.getToolbar().getComponent("sourceedit");Ext.isBoolean(e)||(e=!t.sourceEditMode),t.sourceEditMode=e,o.pressed!==e&&o.toggle(e),e?(t.disableItems(!0),t.syncValue(),n.addCls(r),i.removeCls(r),i.dom.removeAttribute("tabIndex"),i.focus(),t.inputEl=i):(t.initialized&&t.disableItems(t.readOnly),t.pushValue(),n.removeCls(r),i.addCls(r),i.dom.setAttribute("tabIndex",-1),t.deferFocus(),t.inputEl=n),t.fireEvent("editmodechange",t,e),t.updateLayout()},createLink:function(){var e=prompt(this.createLinkText,this.defaultLinkValue);e&&"http://"!==e&&this.relayCmd("createlink",e)},clearInvalid:Ext.emptyFn,setValue:function(e){var t=this,n=t.textareaEl;return null!==e&&void 0!==e||(e=""),t.value!==e&&(n&&(n.dom.value=e),t.pushValue(),!t.rendered&&t.inputCmp&&(t.inputCmp.data.value=e),t.mixins.field.setValue.call(t,e)),t},cleanHtml:function(e){return e=String(e),Ext.isWebKit&&(e=e.replace(this.safariNonsenseRE,"")),e.charCodeAt(0)===parseInt(this.defaultValue.replace(this.nonDigitsRE,""),10)&&(e=e.substring(1)),e},syncValue:function(){var e,t,n,i,r,o=this;o.initialized&&(n=(e=o.getEditorBody()).innerHTML,r=o.textareaEl.dom,Ext.isWebKit&&(i=e.getAttribute("style").match(o.textAlignRE))&&i[1]&&(n='<div style="'+i[0]+'">'+n+"</div>"),n=o.cleanHtml(n),!1!==o.fireEvent("beforesync",o,n)&&(Ext.isGecko&&""===r.value&&"<br>"===n&&(n=""),r.value!==n&&(r.value=n,t=!0),o.fireEvent("sync",o,n),t&&o.checkChange()))},getValue:function(){var e,t=this;return t.sourceEditMode||t.syncValue(),e=t.rendered?t.textareaEl.dom.value:t.value,t.value=e,e},pushValue:function(){var e,t=this;t.initialized&&(e=t.textareaEl.dom.value||"",!t.activated&&e.length<1&&(e=t.defaultValue),!1!==t.fireEvent("beforepush",t,e)&&(t.getEditorBody().innerHTML=e,Ext.isGecko&&(t.setDesignMode(!1),t.setDesignMode(!0)),t.fireEvent("push",t,e)))},focus:function(e,t){var n,i,r=this;return t?(r.focusTask||(r.focusTask=new Ext.util.DelayedTask(r.focus)),r.focusTask.delay(Ext.isNumber(t)?t:10,null,r,[e,!1])):(e&&(r.textareaEl&&r.textareaEl.dom&&(n=r.textareaEl.dom.value),n&&n.length&&r.execCmd("selectall",!0)),(i=r.getFocusEl())&&i.focus&&i.focus()),r},initEditor:function(){var e,t,n,i,r,o=this;if(!o.destroying&&!o.destroyed)if(e=o.getEditorBody()){if((t=o.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]))["background-attachment"]="fixed",e.bgProperties="fixed",Ext.DomHelper.applyStyles(e,t),n=o.getDoc(),i=Ext.get(n)){try{i.clearListeners()}catch(e){}r=o.onEditorEvent.bind(o),i.on({mousedown:r,dblclick:r,click:r,keyup:r,delegated:!1,buffer:100}),r=o.onRelayedEvent,i.on({mousedown:r,mousemove:r,mouseup:r,click:r,dblclick:r,delegated:!1,scope:o}),Ext.isGecko&&i.on("keypress",o.applyCommand,o),o.fixKeys&&i.on("keydown",o.fixKeys,o,{delegated:!1}),o.fixKeysAfter&&i.on("keyup",o.fixKeysAfter,o,{delegated:!1}),Ext.isIE9&&Ext.get(n.documentElement).on("focus",o.focus,o),Ext.isIE8&&(i.on("focusout",function(){o.savedSelection="None"!==n.selection.type?n.selection.createRange():null},o),i.on("focusin",function(){o.savedSelection&&o.savedSelection.select()},o)),Ext.getWin().on("unload",o.destroyEditor,o),n.editorInitialized=!0,o.initialized=!0,o.pushValue(),o.setReadOnly(o.readOnly),o.fireEvent("initialize",o)}}else setTimeout(function(){o.initEditor()},10)},destroyEditor:function(){var e,t,n=this,i=n.monitorTask;if(i&&Ext.TaskManager.stop(i),n.rendered){if(Ext.getWin().un("unload",n.destroyEditor,n),(e=n.getDoc())&&(Ext.get(e).destroy(),e.hasOwnProperty))for(t in e)try{e.hasOwnProperty(t)&&delete e[t]}catch(e){}delete n.iframeEl,delete n.textareaEl,delete n.toolbar,delete n.inputCmp}},doDestroy:function(){this.destroyEditor(),this.callParent()},onRelayedEvent:function(e){var t=this.iframeEl,n=Ext.fly(t).getTrueXY(),i=e.getXY(),r=e.getXY();e.xy=[n[0]+r[0],n[1]+r[1]],e.injectEvent(t),e.xy=i},onFirstFocus:function(){var e,t,n=this;if(n.activated=!0,n.disableItems(n.readOnly),Ext.isGecko){n.win.focus(),(e=n.win.getSelection()).focusNode&&!n.getValue().length&&((t=e.getRangeAt(0)).selectNodeContents(n.getEditorBody()),t.collapse(!0),n.deferFocus());try{n.execCmd("useCSS",!0),n.execCmd("styleWithCSS",!1)}catch(e){}}n.fireEvent("activate",n)},adjustFont:function(e){var t,n="increasefontsize"===e.getItemId()?1:-1,i=this.getDoc().queryCommandValue("FontSize")||"2",r=Ext.isString(i)&&-1!==i.indexOf("px");i=parseInt(i,10),r?(i=i<=10?1+n:i<=13?2+n:i<=16?3+n:i<=18?4+n:i<=24?5+n:6+n,i=Ext.Number.constrain(i,1,6)):((t=Ext.isSafari)&&(n*=2),i=Math.max(1,i+n)+(t?"px":0)),this.relayCmd("FontSize",i)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){var e,t,n,i,r,o,a,s,l=this;if(!l.readOnly)if(l.activated){for(n=l.getToolbar().items.map,i=l.getDoc(),l.enableFont&&!Ext.isSafari2&&(o=i.queryCommandValue("fontName"),r=(o?o.split(",")[0].replace(l.reStripQuotes,""):l.defaultFont).toLowerCase(),a=l.fontSelect.dom,r===a.value&&r===o||(a.value=r)),l.enableFormat&&d("bold","italic","underline"),l.enableAlignments&&d("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&l.enableLists&&d("insertorderedlist","insertunorderedlist"),s=l.toolbar.query("menu"),e=0;e<s.length;e++)s[e].hide();l.syncValue()}else l.onFirstFocus();function d(){var o;for(e=0,t=arguments.length;e<t;e++){r=arguments[e];try{o=i.queryCommandState(r)}catch(e){o=!1}n[r].toggle(o)}}},relayBtnCmd:function(e){this.relayCmd(e.getItemId())},relayCmd:function(e,t){Ext.defer(function(){this.destroyed||(this.win.focus(),this.execCmd(e,t),this.updateToolbar())},10,this)},execCmd:function(e,t){this.getDoc().execCommand(e,!1,void 0===t?null:t),this.syncValue()},applyCommand:function(e){if(e.ctrlKey){var t,n=e.getCharCode();if(n>0){switch(n=String.fromCharCode(n)){case"b":t="bold";break;case"i":t="italic";break;case"u":t="underline"}t&&(this.win.focus(),this.execCmd(t),this.deferFocus(),e.preventDefault())}}},insertAtCursor:function(e){var t,n,i,r,o,a,s=this.getWin(),l=this.getDoc();if(this.activated){if(s.focus(),s.getSelection){if((t=s.getSelection()).getRangeAt&&t.rangeCount){for((n=t.getRangeAt(0)).deleteContents(),(i=l.createElement("div")).innerHTML=e,r=l.createDocumentFragment();o=i.firstChild;)a=r.appendChild(o);r.firstChild,n.insertNode(r),a&&((n=n.cloneRange()).setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}else l.selection&&"Control"!==t.type&&((n=(t=l.selection).createRange()).collapse(!0),t.createRange().pasteHTML(e));this.deferFocus()}},fixKeys:Ext.isIE10m?function(e){var t,n=e.getKey(),i=this.getDoc(),r=this.readOnly;n===e.TAB&&(e.stopEvent(),r||(t=i.selection.createRange())&&(t.collapse&&(t.collapse(!0),t.pasteHTML("&#160;&#160;&#160;&#160;")),this.deferFocus()))}:Ext.isOpera?function(e){var t=e.getKey(),n=this.readOnly;t===e.TAB&&(e.stopEvent(),n||(this.win.focus(),this.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),this.deferFocus()))}:null,fixKeysAfter:Ext.isIE?function(e){var t,n=e.getKey(),i=this.getDoc();this.readOnly||n!==e.BACKSPACE&&n!==e.DELETE||"<p>&nbsp;</p>"!==(t=i.body.innerHTML)&&"<P>&nbsp;</P>"!==t||(i.body.innerHTML="")}:null,getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}},privates:{deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){return this.sourceEditMode?this.textareaEl:this.iframeEl}}}),Ext.define("Ext.view.TagKeyNav",{extend:"Ext.view.BoundListKeyNav",alias:"view.navigation.tagfield",onKeySpace:function(e){var t=this.view.pickerField;return!t.isExpanded||""!==t.inputEl.dom.value||(t.preventKeyUpEvent=!0,this.navigateOnSpace=!0,this.callParent([e]),e.stopEvent(),!1)}}),Ext.define("Ext.form.field.Tag",{extend:"Ext.form.field.ComboBox",requires:["Ext.selection.Model","Ext.data.Store","Ext.data.ChainedStore","Ext.view.TagKeyNav"],xtype:"tagfield",noWrap:!1,multiSelect:!0,delimiter:",",tipTpl:void 0,forceSelection:!0,createNewOnEnter:!1,createNewOnBlur:!1,encodeSubmitValue:!1,triggerOnClick:!0,stacked:!1,filterPickList:!1,clearOnBackspace:!0,grow:!0,growMin:!1,growMax:!1,simulatePlaceholder:!0,selectOnFocus:!0,ariaHelpText:"Use Up and Down arrows to view available values, Enter to select. Use Left and Right arrows to view selected values, Delete key to deselect.",ariaHelpTextEditable:"Use Up and Down arrows to view available values, Enter to select. Type and press Enter to create a new value. Use Left and Right arrows to view selected values, Delete key to deselect.",ariaSelectedText:"Selected {0}.",ariaDeselectedText:"{0} removed from selection.",ariaNoneSelectedText:"No value selected.",ariaSelectedListLabel:"Selected values",ariaAvailableListLabel:"Available values",fieldSubTpl:['<div id="{cmpId}-listWrapper" data-ref="listWrapper"'+(Ext.isGecko?' tabindex="-1"':""),'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',' class="'+Ext.baseCSSPrefix+'tagfield {fieldCls} {typeCls} {typeCls}-{ui}"<tpl if="wrapperStyle"> style="{wrapperStyle}"</tpl>>','<span id="{cmpId}-selectedText" data-ref="selectedText" aria-hidden="true" class="'+Ext.baseCSSPrefix+'hidden-clip"></span>','<ul id="{cmpId}-itemList" data-ref="itemList" role="presentation" class="'+Ext.baseCSSPrefix+'tagfield-list{itemListCls}">','<li id="{cmpId}-inputElCt" data-ref="inputElCt" role="presentation" class="'+Ext.baseCSSPrefix+'tagfield-input">','<input id="{cmpId}-inputEl" data-ref="inputEl" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx != null">tabindex="{tabIdx}" </tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>','class="'+Ext.baseCSSPrefix+'tagfield-input-field {inputElCls} {emptyCls}" autocomplete="off">',"</li>","</ul>",'<ul id="{cmpId}-ariaList" data-ref="ariaList" role="listbox"','<tpl if="ariaSelectedListLabel"> aria-label="{ariaSelectedListLabel}"</tpl>','<tpl if="multiSelect"> aria-multiselectable="true"</tpl>',' class="'+Ext.baseCSSPrefix+'tagfield-arialist">',"</ul>","</div>",{disableFormats:!0}],postSubTpl:['<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{cmpId}-inputEl" class="{placeholderCoverCls} {placeholderCoverCls}-{ui} {emptyCls}">{emptyText}</label>',"</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],extraFieldBodyCls:Ext.baseCSSPrefix+"tagfield-body",childEls:["listWrapper","itemList","inputEl","inputElCt","selectedText","ariaList"],clearValueOnEmpty:!1,ariaSelectable:!0,ariaEl:"listWrapper",tagItemCls:Ext.baseCSSPrefix+"tagfield-item",tagItemTextCls:Ext.baseCSSPrefix+"tagfield-item-text",tagItemCloseCls:Ext.baseCSSPrefix+"tagfield-item-close",tagItemSelector:"."+Ext.baseCSSPrefix+"tagfield-item",tagItemCloseSelector:"."+Ext.baseCSSPrefix+"tagfield-item-close",tagSelectedCls:Ext.baseCSSPrefix+"tagfield-item-selected",initComponent:function(){var e=this,t=e.typeAhead,n=e.delimiter;t&&!e.editable&&Ext.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings."),(e.createNewOnEnter||e.createNewOnBlur)&&(e.forceSelection=!1),e.typeAhead=!1,null==e.value&&(e.value=[]),e.selectionModel=new Ext.selection.Model({mode:"MULTI",onSelectChange:function(e,t,n,i){i()},listeners:{scope:e,selectionchange:e.onSelectionChange,focuschange:e.onFocusChange}}),e.ariaHelp||(e.ariaHelp=e.createNewOnEnter?e.ariaHelpTextEditable:e.ariaHelpText),e.callParent(),e.typeAhead=t,n&&e.multiSelect&&(e.delimiterRegexp=new RegExp(Ext.String.escapeRegex(n)))},initEvents:function(){var e=this,t=e.inputEl;e.callParent(arguments),e.enableKeyEvents||(t.on("keydown",e.onKeyDown,e),t.on("keyup",e.onKeyUp,e)),e.listWrapper.on({scope:e,click:e.onItemListClick,mousedown:e.onItemMouseDown})},createPicker:function(){var e,t=this;return e=Ext.apply({navigationModel:"tagfield"},t.defaultListConfig),t.ariaAvailableListLabel&&(e.ariaRenderAttributes={"aria-label":Ext.String.htmlEncode(t.ariaAvailableListLabel)}),t.defaultListConfig=e,t.callParent()},isValid:function(){var e=this.disabled;return this.forceValidation||!e?this.validateValue(this.getValue()):e},onBindStore:function(e){var t=this;t.callParent([e]),e&&(t.valueStore=new Ext.data.Store({model:e.getModel(),proxy:"memory",useModelWarning:!1}),t.selectionModel.bindStore(t.valueStore),t.filterPickList&&(t.listFilter=new Ext.util.Filter({scope:t,filterFn:t.filterPicked}),t.changingFilters=!0,e.filter(t.listFilter),t.changingFilters=!1))},filterPicked:function(e){return!this.valueCollection.contains(e)},onUnbindStore:function(e){var t=this,n=t.valueStore,i=t.picker;i&&i.bindStore(null),n&&(n.destroy(),t.valueStore=null),t.filterPickList&&!e.destroyed&&(t.changingFilters=!0,e.removeFilter(t.listFilter),t.changingFilters=!1),t.callParent(arguments)},clearInput:function(){var e,t=this,n=t.getValueRecords(),i=t.inputEl&&t.inputEl.dom.value;if(n.length&&i){if(e=n[n.length-1].get(t.displayField),!Ext.String.startsWith(e,i,!0))return;t.inputEl.dom.value="","local"==t.queryMode&&(t.clearLocalFilter(),t.getPicker().refresh())}},onValueCollectionEndUpdate:function(){var e=this,t=e.valueCollection.items,n=e.valueStore;e.isSelectionUpdating()||(e.filterPickList&&(e.changingFilters=!0,e.store.filter(e.listFilter),e.changingFilters=!1),e.callParent(),Ext.suspendLayouts(),n&&(n.suspendEvents(),n.loadRecords(t),n.resumeEvents()),e.refreshEmptyText(),e.clearInput(),Ext.resumeLayouts(!0),e.alignPicker())},checkValueOnDataChange:Ext.emptyFn,onSelectionChange:function(e,t){var n,i=this,r=i.inputEl;i.applyMultiselectItemMarkup(),i.applyAriaListMarkup(),i.applyAriaSelectedText(),r&&(0===t.length?r.dom.removeAttribute("aria-activedescendant"):(n=i.getAriaListNode(t[0]))&&r.dom.setAttribute("aria-activedescendant",n.id)),i.fireEvent("valueselectionchange",i,t)},onFocusChange:function(e,t,n){this.callParent([e,t,n]),this.fireEvent("valuefocuschange",this,t,n)},getAriaListNode:function(e){var t,n=this.ariaList;return n&&e&&(t=n.selectNode('[data-recordid="'+e.internalId+'"]')),t},doDestroy:function(){Ext.destroy(this.selectionModel),this.callParent()},getSubTplData:function(e){var t,n=this,i=n.id,r=n.callParent(arguments),o=n.emptyText,a=o&&r.value.length<1,s=n.growMin,l=n.growMax,d="";return r.value="",r.emptyText=a?o:"",r.itemListCls="",r.emptyCls=a?n.emptyUICls:"",n.grow?(Ext.isNumber(s)&&s>0&&(d+="min-height:"+s+"px;"),Ext.isNumber(l)&&l>0&&(d+="max-height:"+l+"px;")):d+="max-height: 1px;",r.wrapperStyle=d,!0===n.stacked&&(r.itemListCls+=" "+Ext.baseCSSPrefix+"tagfield-stacked"),n.multiSelect||(r.itemListCls+=" "+Ext.baseCSSPrefix+"tagfield-singleselect"),n.ariaStaticRoles[n.ariaRole]||(r.multiSelect=n.multiSelect,r.ariaSelectedListLabel=Ext.String.htmlEncode(n.ariaSelectedListLabel),(t=r.ariaElAttributes)&&(t["aria-owns"]=i+"-inputEl "+i+"-picker "+i+"-ariaList"),(t=r.inputElAriaAttributes)&&(t.role="textbox",t["aria-describedby"]=i+"-selectedText "+(t["aria-describedby"]||""))),r},afterRender:function(){var e=this,t=e.inputEl;e.emptyText&&Ext.supports.Placeholder&&t&&t.dom.removeAttribute("placeholder"),e.applyMultiselectItemMarkup(),e.applyAriaListMarkup(),e.applyAriaSelectedText(),e.callParent(arguments),e.emptyClsElements.push(e.listWrapper,e.placeholderLabel)},findRecord:function(e,t){var n=this.getStore().queryRecords(e,t);return!!n.length&&n[0]},getCursorPosition:function(){var e;return document.selection?((e=document.selection.createRange()).collapse(!0),e.moveStart("character",-this.inputEl.dom.value.length),e=e.text.length):e=this.inputEl.dom.selectionStart,e},hasSelectedText:function(){var e=this.inputEl.dom;return document.selection?document.selection.createRange().parentElement()===e:e.selectionStart!==e.selectionEnd},onKeyDown:function(e){var t,n,i,r,o,a,s=this,l=e.getKey(),d=s.inputEl,c=d&&d.dom.value,u=s.valueCollection,h=s.selectionModel,f=!1;if(!(s.destroyed||s.readOnly||s.disabled)&&s.editable){if((t=u.getCount())>0&&""===c)if(n=h.getCount()>0?u.indexOf(h.getLastSelected()):-1,l===e.BACKSPACE&&s.clearOnBackspace||l===e.DELETE&&n>-1){if(n>-1){for(h.getCount()>1&&(n=-1),r=[],o=0,a=(i=h.getSelection()).length;o<a;o++)r.push(i[o].get(s.displayField));r=r.join(", ")}else r=(i=u.last()).get(s.displayField);u.remove(i),r&&(s.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(s.ariaDeselectedText,r)),h.clearSelections(),n===t-1?h.select(u.last()):n>-1?h.select(n):u.getCount()&&h.select(u.last()),f=!0}else l===e.RIGHT||l===e.LEFT?-1===n&&l===e.LEFT?(h.select(u.last()),f=!0):n>-1&&(l===e.RIGHT?n<t-1?(h.select(n+1,e.shiftKey),f=!0):e.shiftKey||(h.deselectAll(),f=!0):l===e.LEFT&&n>0&&(h.select(n-1,e.shiftKey),f=!0)):l===e.A&&e.ctrlKey&&(h.selectAll(),f=e.A);if(f)return s.preventKeyUpEvent=f,void e.stopEvent();s.isExpanded&&l===e.ENTER&&s.picker.highlightedItem&&(s.preventKeyUpEvent=!0),s.enableKeyEvents&&s.callParent(arguments),e.isSpecialKey()||e.hasModifier()||h.deselectAll()}},onKeyUp:function(e,t){var n=this,i=n.inputEl,r=i.dom.value,o=n.preventKeyUpEvent;if(n.preventKeyUpEvent)return e.stopEvent(),void(!0!==o&&e.getKey()!==o||delete n.preventKeyUpEvent);(n.multiSelect&&n.delimiterRegexp&&n.delimiterRegexp.test(r)||n.createNewOnEnter&&e.getKey()===e.ENTER)&&(n.createNewOnEnter&&r&&(n.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(n.ariaSelectedText,r)),r=Ext.Array.clean(r.split(n.delimiterRegexp)),i.dom.value="",n.setValue(n.valueStore.getRange().concat(r)),i.focus()),n.callParent([e,t])},onEsc:function(e){var t=this.selectionModel,n=this.isExpanded;this.callParent([e]),!n&&t.getCount()>0&&t.deselectAll(),e.stopEvent()},onTypeAhead:function(){var e,t,n,i=this,r=i.displayField,o=i.inputEl.dom,a=i.getStore().findRecord(r,o.value);a&&(t=(e=a.get(r)).length,0!==(n=o.value.length)&&n!==t&&(i.lastMutatedValue=e,o.value=e,i.selectText(n,e.length)))},onItemListClick:function(e){var t=this,n=t.selectionModel,i=e.getTarget(t.tagItemSelector),r=!!i&&e.getTarget(t.tagItemCloseSelector);t.readOnly||t.disabled||(e.stopPropagation(),i?(r?(t.removeByListItemNode(i),t.valueStore.getCount()>0&&t.fireEvent("select",t,t.valueStore.getRange())):t.toggleSelectionByListItemNode(i,e.shiftKey),Ext.supports.TouchEvents||t.inputEl.focus()):(n.getCount()>0&&n.deselectAll(),t.inputEl.focus(),t.triggerOnClick&&t.onTriggerClick()))},onItemMouseDown:function(e){e.preventDefault()},getMultiSelectItemMarkup:function(){var e=this,t=e._getChildElCls&&e._getChildElCls()||"";return e.multiSelectItemTpl||(e.labelTpl||(e.labelTpl="{"+e.displayField+"}"),e.labelTpl=e.lookupTpl("labelTpl"),e.tipTpl&&(e.tipTpl=e.lookupTpl("tipTpl")),e.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li data-selectionIndex="{[xindex - 1]}" data-recordId="{internalId}" role="presentation" class="'+e.tagItemCls+t,'<tpl if="this.isSelected(values)">'," "+e.tagSelectedCls,"</tpl>","{%","values = values.data;","%}",e.tipTpl?'" data-qtip="{[this.getTip(values)]}">':'">','<div role="presentation" class="'+e.tagItemTextCls+'">{[this.getItemLabel(values)]}</div>','<div role="presentation" class="'+e.tagItemCloseCls+t+'"></div>',"</li>","</tpl>",{isSelected:function(t){return e.selectionModel.isSelected(t)},getItemLabel:function(t){return Ext.String.htmlEncode(e.labelTpl.apply(t))},getTip:function(t){return Ext.String.htmlEncode(e.tipTpl.apply(t))},strict:!0}])),e.multiSelectItemTpl.isTemplate||(e.multiSelectItemTpl=this.lookupTpl("multiSelectItemTpl")),e.multiSelectItemTpl.apply(e.valueCollection.getRange())},applyMultiselectItemMarkup:function(){var e=this.itemList;e&&(e.select("."+Ext.baseCSSPrefix+"tagfield-item").destroy(),this.inputElCt.insertHtml("beforeBegin",this.getMultiSelectItemMarkup()),this.autoSize())},getAriaListMarkup:function(){var e,t=this;return t.ariaListItemTpl||(t.ariaListItemTpl=new Ext.XTemplate(['<tpl for=".">','<li id="'+t.id+'-{internalId}" role="option"',' class="'+Ext.baseCSSPrefix+'tagfield-arialist-item"',' aria-selected="{[this.isPicked(values)]}"','  data-recordId="{internalId}"',">","{[this.getItemLabel(values.data)]}","</li>","</tpl>",{isPicked:function(e){return t.filterPicked(e)?"false":"true"},isSelected:function(e){return t.selectionModel.isSelected(e)?"true":"false"},getItemLabel:function(e){return Ext.String.htmlEncode(t.labelTpl.apply(e))},strict:!0}])),t.ariaListItemTpl.isTemplate||(t.ariaListtemTpl=t.lookupTpl("ariaListItemTpl")),e=t.valueCollection.getRange(),t.ariaListItemTpl.apply(e)},applyAriaListMarkup:function(){var e=this.ariaList;e&&(e.select("*").destroy(),e.insertHtml("afterBegin",this.getAriaListMarkup()))},getAriaSelectedText:function(e){var t=this;return t.ariaSelectedItemTpl||(t.ariaSelectedItemTpl=new Ext.XTemplate(['<tpl for="." between=", ">',"{[this.getItemLabel(values.data)]}","</tpl>",{getItemLabel:function(e){return Ext.String.htmlEncode(t.labelTpl.apply(e))},strict:!0}])),t.ariaSelectedItemTpl.isTemplate||(t.ariaSelectedItemTpl=t.lookupTpl("ariaSelectedItemTpl")),Ext.String.format(t.ariaSelectedText,t.ariaSelectedItemTpl.apply(e))},applyAriaSelectedText:function(){var e,t,n=this.selectedText;n&&(t=(e=this.valueCollection.getRange()).length?this.getAriaSelectedText(e):this.ariaNoneSelectedText,n.dom.innerHTML=Ext.String.htmlEncode(t))},getRecordByListItemNode:function(e){return this.valueCollection.items[Number(e.getAttribute("data-selectionIndex"))]},toggleSelectionByListItemNode:function(e,t){var n=this.getRecordByListItemNode(e),i=this.selectionModel;n&&(i.isSelected(n)?i.deselect(n):i.select(n,t))},removeByListItemNode:function(e){var t=this.getRecordByListItemNode(e);t&&this.pickerSelectionModel.deselect(t)},getDisplayValue:function(){return this.getRawValue()},getRawValue:function(){var e,t,n=this.getValueRecords(),i=[];for(e=0,t=n.length;e<t;e++)i.push(n[e].data[this.displayField]);return i.join(",")},setRawValue:function(e){},removeValue:function(e){var t,n,i,r=this.valueCollection,o=[];if(e){for(n=0,t=(e=Ext.Array.from(e)).length;n<t;++n)(i=e[n]).isModel||(i=r.byValue.get(i)),i&&o.push(i);this.valueCollection.beginUpdate(),this.pickerSelectionModel.deselect(o),this.valueCollection.endUpdate()}},setValue:function(e,t,n){var i,r,o,a,s,l,d=this,c=d.valueStore,u=d.valueField,h=[],f=d.store,g=d.autoLoadOnValue,p=f.getCount()>0||f.isLoaded(),m=f.hasPendingLoad(),x=g&&!p&&!m;if(Ext.isEmpty(e)?(e=null,l=!0):e=Ext.isString(e)&&d.multiSelect?e.split(d.delimiter):Ext.Array.from(e,!0),!l&&"remote"===d.queryMode&&!f.isEmptyStore&&!0!==n&&x){for(o=0,r=e.length;o<r;o++)(i=e[o])&&i.isModel||((a=c.findExact(u,i))>-1?e[o]=c.getAt(a):((a=d.findRecord(u,i))||(d.forceSelection?h.push(i):((a={})[d.valueField]=i,a[d.displayField]=i,a=new(d.valueStore.getModel())(a))),a&&(e[o]=a)));if(h.length)return(s={})[d.valueParam||d.valueField]=h.join(d.delimiter),f.load({params:s,callback:function(){d.setValue(e,t,!0),d.autoSize(),d.lastQuery=!1}}),!1}if(!l&&!d.multiSelect&&e.length>0){for(o=e.length-1;o>=0;o--)if(e[o].isModel){e=e[o];break}Ext.isArray(e)&&(e=e[e.length-1])}return d.callParent([e,t])},updateValue:function(){var e,t=this,n=t.valueCollection.getRange(),i=n.length;for(e=0;e<i;e++)n[e]=n[e].get(t.valueField);t.setHiddenValue(n),t.value=t.multiSelect?n:n[0],Ext.isDefined(t.value)||(t.value=void 0),t.applyMultiselectItemMarkup(),t.applyAriaListMarkup(),t.applyAriaSelectedText(),t.checkChange()},getValueRecords:function(){return this.valueCollection.getRange()},getSubmitData:function(){var e=this,t=e.callParent(arguments);return e.multiSelect&&e.encodeSubmitValue&&t&&t[e.name]&&(t[e.name]=Ext.encode(t[e.name])),t},assertValue:function(){var e=this,t=e.inputEl.dom.value,n=!Ext.isEmpty(t)&&e.findRecordByDisplay(t),i=!1;n||e.forceSelection||!e.createNewOnBlur||Ext.isEmpty(t)?n&&(i=n):i=t,i&&e.addValue(i),e.inputEl.dom.value="",e.collapse(),e.refreshEmptyText()},isEqual:function(e,t){var n,i,r=Ext.Array.from,o=this.valueField;if(e=r(e),t=r(t),(i=e.length)!==t.length)return!1;for(n=0;n<i;n++)if((e[n].isModel?e[n].get(o):e[n])!==(t[n].isModel?t[n].get(o):t[n]))return!1;return!0},onFocus:function(){var e=this.focusCls,t=this.itemList;e&&t&&t.addCls(e),this.callParent(arguments)},onBlur:function(){var e=this.focusCls,t=this.itemList;e&&t&&t.removeCls(e),this.callParent(arguments)},renderActiveError:function(){var e=this,t=e.invalidCls,n=e.itemList,i=e.hasActiveError();t&&n&&n[i?"addCls":"removeCls"](e.invalidCls+"-field"),e.callParent(arguments)},autoSize:function(){var e=this;return e.grow&&e.rendered&&(e.autoSizing=!0,e.updateLayout()),e},afterComponentLayout:function(){var e,t=this;t.autoSizing&&(e=t.getHeight())!==t.lastInputHeight&&(t.isExpanded&&t.alignPicker(),t.fireEvent("autosize",t,e),t.lastInputHeight=e,t.autoSizing=!1)}}),Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],config:{store:!0},statics:{createStore:function(e,t){for(var n=Ext.Date,i=n.clearTime,r=this.prototype.initDate,o=[],a=i(new Date(r[0],r[1],r[2])),s=n.add(i(new Date(r[0],r[1],r[2])),"mi",1439);a<=s;)o.push({disp:n.dateFormat(a,e),date:a}),a=n.add(a,"mi",t);return new Ext.data.Store({model:Ext.picker.Time.prototype.modelType,data:o})}},increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",alignOnScroll:!1,loadMask:!1,initComponent:function(){var e=this,t=Ext.Date,n=t.clearTime,i=e.initDate;e.absMin=n(new Date(i[0],i[1],i[2])),e.absMax=t.add(n(new Date(i[0],i[1],i[2])),"mi",1439),e.updateList(),e.callParent()},setStore:function(e){this.store=!0===e?Ext.picker.Time.createStore(this.format,this.increment):e},setMinValue:function(e){this.minValue=e,this.updateList()},setMaxValue:function(e){this.maxValue=e,this.updateList()},normalizeDate:function(e){var t=this.initDate;return e.setFullYear(t[0],t[1],t[2]),e},updateList:function(){var e=this,t=e.normalizeDate(e.minValue||e.absMin),n=e.normalizeDate(e.maxValue||e.absMax),i=e.getStore().getFilters(),r=e.rangeFilter;i.beginUpdate(),r&&i.remove(r),r=e.rangeFilter=new Ext.util.Filter({filterFn:function(e){var i=e.get("date");return i>=t&&i<=n}}),i.add(r),i.endUpdate()}},function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})}),Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.ComboBox",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",formatText:"Expected time format HH:MM space AM or PM",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,valuePublishEvent:["select","blur"],initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var e=this,t=e.minValue,n=e.maxValue;t&&e.setMinValue(t),n&&e.setMaxValue(n),e.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+e.displayField+'"])]}<tpl if="xindex < xcount">'+e.delimiter+"</tpl></tpl>",{formatDate:e.formatDate.bind(e)}),e.store=Ext.picker.Time.createStore(e.format,e.increment),e.callParent(),e.getPicker()},afterQuery:function(e){var t=this;t.callParent([e]),null===t.value&&t.getRawValue()&&t.validateOnChange&&t.validate()},isEqual:function(e,t){var n,i,r=Ext.Array.from,o=Ext.Date.isEqual;if(e=r(e),t=r(t),(i=e.length)!==t.length)return!1;for(n=0;n<i;n++)if(!(t[n]instanceof Date&&e[n]instanceof Date&&o(t[n],e[n])))return!1;return!0},setMinValue:function(e){var t=this.picker;this.setLimit(e,!0),t&&t.setMinValue(this.minValue)},setMaxValue:function(e){var t=this.picker;this.setLimit(e,!1),t&&t.setMaxValue(this.maxValue)},setLimit:function(e,t){var n,i;Ext.isString(e)?n=this.parseDate(e):Ext.isDate(e)&&(n=e),n?(i=this.getInitDate()).setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()):i=null,this[t?"minValue":"maxValue"]=i},getInitDate:function(e,t,n){var i=this.initDateParts;return new Date(i[0],i[1],i[2],e||0,t||0,n||0,0)},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},getErrors:function(e){e=arguments.length>0?e:this.getRawValue();var t,n,i,r,o=this,a=Ext.String.format,s=o.callParent([e]),l=o.minValue,d=o.maxValue,c=o.displayTplData,u=o.getRawValue();if(c&&c.length>0)for(t=0,n=c.length;t<n;t++)r=(r=c[t]).date||r.disp,(i=o.parseDate(r))||s.push(a(o.invalidText,r,Ext.Date.unescapeFormat(o.format)));else u.length&&((i=o.parseDate(u))||s.push(a(o.invalidText,u,Ext.Date.unescapeFormat(o.format))));return s.length||(l&&i<l&&s.push(a(o.minText,o.formatDate(l))),d&&i>d&&s.push(a(o.maxText,o.formatDate(d)))),s},formatDate:function(e){var t,n,i=[];for(t=0,n=(e=Ext.Array.from(e)).length;t<n;t++)i.push(Ext.form.field.Date.prototype.formatDate.call(this,e[t]));return i.join(this.delimiter)},parseDate:function(e){var t,n=this,i=e,r=n.altFormats,o=n.altFormatsArray,a=0;if(e&&!Ext.isDate(e)&&!(i=n.safeParse(e,n.format))&&r)for(t=(o=o||r.split("|")).length;a<t&&!i;++a)i=n.safeParse(e,o[a]);return i&&n.snapToIncrement&&(i=new Date(Ext.Number.snap(i.getTime(),60*n.increment*1e3))),i},safeParse:function(e,t){var n,i=Ext.Date,r=null;return i.formatContainsDateInfo(t)?r=i.parse(e,t):(n=i.parse(this.initDate+" "+e,this.initDateFormat+" "+t))&&(r=n),r},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):null},createPicker:function(){var e=this;return e.listConfig=Ext.apply({xtype:"timepicker",pickerField:e,cls:void 0,minValue:e.minValue,maxValue:e.maxValue,increment:e.increment,format:e.format,maxHeight:e.pickerMaxHeight},e.listConfig),e.callParent()},completeEdit:function(){var e=this.getValue();this.callParent(arguments),this.validateValue(e)&&this.setValue(e)},findRecordByValue:function(e){return"string"==typeof e&&(e=this.parseDate(e)),this.callParent([e])},rawToValue:function(e){var t,n,i,r;if(this.multiSelect){for(n=[],i=0,r=(t=Ext.Array.from(e)).length;i<r;i++)n.push(this.parseDate(t[i]));return n}return this.parseDate(e)},setValue:function(e){if(!this.creatingPicker)return this.getPicker(),Ext.isDate(e)&&(e=this.getInitDate(e.getHours(),e.getMinutes(),e.getSeconds())),this.callParent([e])},getValue:function(){return this.rawToValue(this.callParent(arguments))}}),Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.dom.Helper","Ext.util.ClickRepeater"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",inheritableStatics:{warnDeprecated:function(){Ext.log.warn("Ext.form.field.Trigger is deprecated. Use Ext.form.field.Text instead.")}},onClassExtended:function(){this.warnDeprecated()},constructor:function(e){this.self.warnDeprecated(),this.callParent([e])}}),Ext.define("Ext.grid.CellContext",{isCellContext:!0,generation:0,constructor:function(e){this.view=e},setPosition:function(e,t){var n=this;if(1===arguments.length)if(e.length)t=e[0],e=e[1];else{if(e.isCellContext)return n.setAll(e.view,e.rowIdx,e.colIdx,e.record,e.column);e.view&&(n.view=e.view),t=e.column,e=e.row}return n.setRow(e),n.setColumn(t),n},setAll:function(e,t,n,i,r){var o=this;return o.view=e,o.rowIdx=t,o.colIdx=n,o.record=i,o.column=r,o.generation++,o},setRow:function(e){var t,n=this,i=n.view.dataSource,r=n.record;return null===e?n:(void 0!==e&&("number"==typeof e?(t=i.getCount(),e=e<0?Math.max(t+e,0):Math.max(Math.min(e,t-1),0),n.rowIdx=e,n.record=i.getAt(e)):e.isModel?(n.record=e,n.rowIdx=i.indexOf(e)):(e.tagName||e.isElement)&&(n.record=n.view.getRecord(e),n.rowIdx=i.indexOf(n.record))),n.record!==r&&n.generation++,n)},setColumn:function(e){var t=this,n=t.view.getVisibleColumnManager(),i=t.column;return void 0!==e&&("number"==typeof e?(t.colIdx=e,t.column=n.getHeaderAtIndex(e)):e.isHeader&&(t.column=e,t.colIdx=n.indexOf(e))),t.column!==i&&t.generation++,t},getCell:function(e){return this.view.getCellByPosition(this,e)},getRow:function(e){var t=this.view.getRow(this.record);return e?t:Ext.get(t)},getNode:function(e){var t=this.view.getNode(this.record);return e?t:Ext.get(t)},isEqual:function(e){return e&&e.isCellContext&&e.record===this.record&&e.column===this.column},clone:function(){var e=this,t=new e.self(e.view);return t.rowIdx=e.rowIdx,t.colIdx=e.colIdx,t.record=e.record,t.column=e.column,t},privates:{isFirstColumn:function(){var e=this.getCell(!0);if(e)return!e.previousSibling},isLastColumn:function(){var e=this.getCell(!0);if(e)return!e.nextSibling},isLastRenderedRow:function(){return this.view.all.endIndex===this.rowIdx},getLastColumnIndex:function(){var e=this.getRow(!0);return e?e.lastChild.cellIndex:-1},refresh:function(){var e=this,t=e.view.dataSource.indexOf(e.record),n=e.view.getVisibleColumnManager().indexOf(e.column);e.setRow(-1===t?e.rowIdx:e.record),e.setColumn(-1===n?e.colIdx:e.column)},navigate:function(e){var t=this,n=t.view.getVisibleColumnManager().getColumns();switch(e){case-1:do{t.colIdx?t.colIdx--:t.colIdx=n.length-1,t.setColumn(t.colIdx)}while(!t.getCell(!0));break;case 1:do{t.colIdx>=n.length?t.colIdx=0:t.colIdx++,t.setColumn(t.colIdx)}while(!t.getCell(!0))}}},statics:{compare:function(e,t){return e.rowIdx-t.rowIdx||e.colIdx-t.colIdx}}}),Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",isCellEditor:!0,alignment:"l-l!",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1,floating:!0,alignOnScroll:!1,useBoundValue:!1,focusLeaveAction:"completeEdit",setGrid:function(e){this.grid=e},startEdit:function(e,t,n){this.context=this.editingPlugin.context,this.callParent([e,t,n])},onShow:function(){var e=this,t=e.boundEl.down(e.context.view.innerSelector);t&&(e.isForTree&&(t=t.child(e.treeNodeSelector)),t.hide()),e.callParent(arguments)},onFocusEnter:function(){var e=this.context,t=e.view;e.node=t.getNode(e.record),e.row=t.getRow(e.record),e.cell=e.getCell(!0),e.rowIdx=t.indexOf(e.row),this.realign(!0),this.callParent(arguments),this.focusEnterEvent=null},onFocusLeave:function(e){var t=this,n=t.context.view,i=Ext.fly(e.relatedTarget);!1!==t[t.focusLeaveAction]()?(delete t.focusLeaveAction,n.destroyed||!n.el.contains(i)||i.isAncestor(e.target)&&i!==n.el||i.up(n.getCellSelector(),n.el)||t.context.grid.setActionableMode(!1,n.actionPosition),t.cacheElement(),Ext.container.Container.prototype.onFocusLeave.apply(t,arguments)):e.event.stopEvent()},completeEdit:function(e){var t=this,n=t.context;if(t.editing&&(n.value=t.field.value,!1===t.editingPlugin.validateEdit(n)))return n.cancel&&(n.value=t.originalValue,t.editingPlugin.cancelEdit()),!!n.cancel;t.callParent([e])},onEditComplete:function(e,t){var n,i=this,r=Ext.Element.getActiveElement();i.editing=!1,(n=i.boundEl=i.context.getCell())&&(i.restoreCell(),n.contains(r)&&n.dom!==r&&n.focus()),i.callParent(arguments),t?i.editingPlugin.cancelEdit(i):i.editingPlugin.onEditComplete(i,i.getValue(),i.startValue)},cacheElement:function(){this.editing||this.destroyed||Ext.getDetachedBody().dom.appendChild(this.el.dom)},onHide:function(){Ext.Editor.superclass.onHide.apply(this,arguments)},onSpecialKey:function(e,t,n){var i=t.getKey(),r=this.completeOnEnter&&i===t.ENTER&&(!n||!n.fromBoundList),o=this.cancelOnEsc&&i===t.ESC,a=this.editingPlugin.view;(r||o)&&(t.stopEvent(),o&&(this.focusLeaveAction="cancelEdit"),a.ownerGrid.setActionableMode(!1))},getRefOwner:function(){return this.column&&this.column.getView()},restoreCell:function(){var e=this.boundEl.down(this.context.view.innerSelector);e&&(this.isForTree&&(e=e.child(this.treeNodeSelector)),e.show())},afterRender:function(){var e=this,t=e.field;e.callParent(arguments),t.isCheckbox&&t.mon(t.inputEl,{mousedown:e.onCheckBoxMouseDown,click:e.onCheckBoxClick,scope:e})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(e){var t,n=this,i=n.boundEl,r=i.down(n.context.view.innerSelector),o=r.dom.firstChild,a=i.getWidth(),s=Ext.Array.clone(n.offsets),l=n.grid,d="",c=!o||3===o.nodeType&&!Ext.String.trim(d=o.data).length;n.isForTree&&(t=n.getTreeNodeOffset(r),a-=Math.abs(t),s[0]+=t),l.columnLines&&(a-=i.getBorderWidth("rl")),!0===e&&n.field.setWidth(a),c&&(r.dom.innerHTML="X"),n.alignTo(i,n.alignment,s),c&&(r.dom.firstChild.data=d)},getTreeNodeOffset:function(e){return e.child(this.treeNodeSelector).getOffsetsTo(e)[0]}}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:Ext.baseCSSPrefix+"column-header-text-container-auto",beginLayout:function(e){this.callParent(arguments),e.titleContext=e.getEl("titleEl")},beginLayoutCycle:function(e){var t=this.owner,n=e.widthModel.shrinkWrap;this.callParent(arguments),n&&t.el.setWidth(""),t.textContainerEl[n&&!t.isGroupHeader?"addCls":"removeCls"](this.columnAutoCls),t.titleEl.setStyle(this._paddingReset)},publishInnerHeight:function(e,t){var n,i=this.owner;if(i.getRootHeaderCt().hiddenHeaders)e.setProp("innerHeight",0);else if(!e.hasRawContent){if(i.headerWrap&&!e.hasDomProp("width"))return void(this.done=!1);n=t-e.getBorderInfo().height,e.setProp("innerHeight",n-i.titleEl.getHeight(),!1)}},measureContentHeight:function(e){return e.el.dom.offsetHeight},publishInnerWidth:function(e,t){e.hasRawContent||e.setProp("innerWidth",t-e.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments),i=this.owner;return e.hasRawContent?n:!i.headerWrap||e.hasDomProp("width")?t+i.titleEl.getHeight()+e.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(e,t){var n=this.owner,i=e.getPaddingInfo().width,r=this.getTriggerOffset(n,e);return(n.isGroupHeader?t:Math.max(t,n.textEl.getWidth()+e.titleContext.getPaddingInfo().width))+i+r},getTriggerOffset:function(e,t){var n=0;return t.widthModel.shrinkWrap&&!e.menuDisabled&&0===e.query(">:not([hidden])").length&&(n=e.getTriggerElWidth()),n}}),Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",type:"fit",manageMargins:!0,sizePolicies:[{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}],getItemSizePolicy:function(e,t){var n=t||this.owner.getSizeModel(),i=(n.width.shrinkWrap?0:1)|(n.height.shrinkWrap?0:2);return this.sizePolicies[i]},beginLayoutCycle:function(e,t){var n,i,r,o,a,s,l,d,c,u=this,h=u.lastHeightModel&&u.lastHeightModel.calculated,f=u.lastWidthModel&&u.lastWidthModel.calculated,g=f||h,p=0,m=0;for(u.callParent(arguments),g&&"TD"!==e.targetContext.el.dom.tagName.toUpperCase()&&(g=f=h=!1),a=(i=e.childItems).length,r=0;r<a;++r)o=i[r],t&&(l=(n=o.target).minHeight,((d=n.minWidth)||l)&&(l+=(s=o.marginInfo||o.getMarginInfo()).height,d+=s.height,p<l&&(p=l),m<d&&(m=d))),g&&(c=o.el.dom.style,h&&(c.height=""),f&&(c.width=""));t&&(e.maxChildMinHeight=p,e.maxChildMinWidth=m),n=e.target,e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&n.scrollFlags.x||void 0,e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&n.scrollFlags.y||void 0},calculate:function(e){var t,n,i,r,o,a,s=this,l=e.childItems,d=l.length,c=s.getContainerSize(e),u={length:d,ownerContext:e,targetSize:c},h=e.widthModel.shrinkWrap,f=e.heightModel.shrinkWrap,g=e.overflowX,p=e.overflowY;if(e.state.info=u,(g||p)&&(t=s.getScrollbarsNeeded(g&&c.width,p&&c.height,e.maxChildMinWidth,e.maxChildMinHeight))&&(n=Ext.getScrollbarSize(),1&t&&(c.height-=n.height),2&t&&(c.width-=n.width)),d>0)for(r=0;r<d;++r)u.index=r,s.fitItem(l[r],u);else u.contentWidth=u.contentHeight=0;(f||h)&&(i=e.targetContext.getPaddingInfo(),h&&(p&&!c.gotHeight?s.done=!1:(o=u.contentWidth+i.width,2&t&&(o+=n.width),e.setContentWidth(o)||(s.done=!1))),f&&(g&&!c.gotWidth?s.done=!1:(a=u.contentHeight+i.height,1&t&&(a+=n.height),e.setContentHeight(a)||(s.done=!1))))},fitItem:function(e,t){e.invalid?this.done=!1:(t.margins=e.getMarginInfo(),t.needed=t.got=0,this.fitItemWidth(e,t),this.fitItemHeight(e,t),t.got!==t.needed&&(this.done=!1))},fitItemWidth:function(e,t){var n,i;if(t.ownerContext.widthModel.shrinkWrap)i=e.getProp("width")+t.margins.width,n=t.contentWidth,t.contentWidth=void 0===n?i:Math.max(n,i);else if(e.widthModel.calculated){if(++t.needed,!t.targetSize.gotWidth)return;++t.got,this.setItemWidth(e,t)}this.positionItemX(e,t)},fitItemHeight:function(e,t){var n,i;if(t.ownerContext.heightModel.shrinkWrap)i=e.getProp("height")+t.margins.height,n=t.contentHeight,t.contentHeight=void 0===n?i:Math.max(n,i);else if(e.heightModel.calculated){if(++t.needed,!t.targetSize.gotHeight)return;++t.got,this.setItemHeight(e,t)}this.positionItemY(e,t)},positionItemX:function(e,t){var n=t.margins;(t.index||n.left)&&e.setProp("x",n.left),n.width&&t.ownerContext.widthModel.shrinkWrap&&e.setProp("margin-right",n.width)},positionItemY:function(e,t){var n=t.margins;(t.index||n.top)&&e.setProp("y",n.top),n.height&&t.ownerContext.heightModel.shrinkWrap&&e.setProp("margin-bottom",n.height)},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}}),Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",xtype:"tablepanel",requires:["Ext.layout.container.Fit"],uses:["Ext.selection.RowModel","Ext.selection.CellModel","Ext.selection.CheckboxModel","Ext.grid.plugin.BufferedRenderer","Ext.grid.header.Container","Ext.grid.locking.Lockable","Ext.grid.NavigationModel","Ext.grid.RowContext"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",actionableModeCls:Ext.baseCSSPrefix+"grid-actionable",noHeaderBordersCls:Ext.baseCSSPrefix+"no-header-borders",defaultBindProperty:"store",layout:"fit",manageLayoutScroll:!1,ariaRole:"presentation",config:{selection:null,focused:null,headerBorders:!0,hideHeaders:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:!1,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:!1,viewType:null,deferRowRender:!1,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,bufferedRenderer:!0,ownerGrid:null,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",focusable:!0,constructor:function(e){var t,n=this,i=e&&e.ownerGrid;n.ownerGrid=i||n,n.actionables=i?i.actionables:[],n.callParent([e]),(t=n.store).trackStateChanges=!0,n.autoLoad&&(t.isEmptyStore||t.load())},registerActionable:function(e){Ext.Array.include(this.actionables,e)},initComponent:function(){this.verticalScroller&&Ext.raise("The verticalScroller config is not supported."),this.viewType||Ext.raise("You must specify a viewType config."),this.headers&&Ext.raise("The headers config is not supported. Please specify columns instead.");var e,t,n,i,r,o,a,s=this,l=s.columns||s.colModel||[];if(e=s.store=Ext.data.StoreManager.lookup(s.store||"ext-empty-store"),s.enableLocking=s.enableLocking||s.hasLockedColumns(l),s.plugins&&(s.plugins=s.constructPlugins()),s.columnLines&&s.addBodyCls(s.colLinesCls),s.addBodyCls(s.rowLines?s.rowLinesCls:s.noRowLinesCls),s.addBodyCls(s.extraBodyCls),s.enableLocking?(s.self.mixin("lockable",Ext.grid.locking.Lockable),s.injectLockable(),a=s.headerCt):(l.isRootHeader?(s.headerCt=a=l,a.grid=s,a.forceFit=!!s.forceFit,a.$initParent=s,s.columnManager=a.columnManager,s.visibleColumnManager=a.visibleColumnManager):(Ext.isArray(l)&&(l={items:l}),s.headerCt=a=new Ext.grid.header.Container(Ext.apply(l,{grid:s,$initParent:s,forceFit:s.forceFit,sortable:s.sortableColumns,enableColumnMove:s.enableColumnMove,enableColumnResize:s.enableColumnResize,columnLines:s.columnLines,sealed:s.sealedColumns}))),Ext.isDefined(s.enableColumnHide)&&(a.enableColumnHide=s.enableColumnHide)),s.columns=o=a.getGridColumns(),s.scrollTask=new Ext.util.DelayedTask(s.syncHorizontalScroll,s),s.cls=(s.cls||"")+" "+s.extraBaseCls,delete s.autoScroll,(r=s.plugins&&Ext.Array.findBy(s.plugins,function(e){return e.isBufferedRenderer}))&&(s.bufferedRenderer=r),!s.hasView){if(e.isBufferedStore&&!e.getRemoteSort())for(n=0,i=o.length;n<i;n++)o[n].sortable=!1;s.relayHeaderCtEvents(a),s.features=s.features||[],Ext.isArray(s.features)||(s.features=[s.features]),s.dockedItems=[].concat(s.dockedItems||[]),s.dockedItems.unshift(a),s.viewConfig=s.viewConfig||{},t=s.getView(),s.items=[t],s.hasView=!0,s.bindStore(e,!0),s.mon(t,{viewready:s.onViewReady,refresh:s.onRestoreHorzScroll,scope:s}),s.syncHeaderVisibility()}s.selModel=s.view.getSelectionModel(),s.selModel.on({scope:s,lastselectedchanged:s.updateBindSelection,selectionchange:s.updateBindSelection}),s.relayEvents(s.view,["beforeitemlongpress","beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemlongpress","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforeitemkeyup","itemkeyup","beforeitemkeypress","itemkeypress","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","beforecontainerkeyup","beforecontainerkeypress","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","containerkeyup","containerkeypress","beforeselect","select","beforedeselect","deselect","beforerowexit"]),s.selModel.isSpreadsheetModel||s.relayEvents(s.view,["selectionchange"]),s.callParent(),s.enableLocking?s.afterInjectLockable():delete a.$initParent,s.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},syncHeaderVisibility:function(){var e,t,n,i,r=this,o=r.headerCt,a=o.items.items,s=a.length,l=0===o.height,d=!!s;if(null!=r.hideHeaders)d=r.hideHeaders;else for(n=0;d&&n<s;n++)((t=(e=a[n]).text)&&" "!==t||e.columns||e.isGroupHeader&&e.items.items.length)&&(d=!1);o.rendered&&d===l||(o.setHeight(d?0:null),o.hiddenHeaders=d,r.headerCt.toggleCls(r.hiddenHeaderCtCls,d),r.toggleCls(r.hiddenHeaderCls,d),d||(o.setScrollable({x:!1,y:!1}),(i=r.view.getScrollable())&&o.getScrollable().addPartner(i,"x")))},updateHideHeaders:function(e){this.isConfiguring||this.syncHeaderVisibility()},beforeRender:function(){var e,t=this,n=t.bufferedRenderer;t.lockable?t.getProtoBody().addCls(t.lockingBodyCls):(n&&t.getSizeModel().height.auto&&(n.isBufferedRenderer&&Ext.raise("Cannot use buffered rendering with auto height"),t.bufferedRenderer=n=!1),n&&!n.isBufferedRenderer&&(n={xclass:"Ext.grid.plugin.BufferedRenderer"},Ext.copy(n,t,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer",!0),t.bufferedRenderer=t.addPlugin(n)),(e=t.ariaRenderAttributes||(t.ariaRenderAttributes={}))["aria-readonly"]=!t.isEditable,e["aria-multiselectable"]="SINGLE"!==t.selModel.selectionMode),t.callParent(arguments)},beforeLayout:function(){var e=this.mixins.lockable;e&&e.beforeLayout.call(this),this.callParent()},afterLayout:function(e){var t=this.mixins.lockable;t&&t.syncLockableLayout.call(this,e),this.callParent([e])},onHide:function(e,t,n){this.getView().onOwnerGridHide(),this.callParent([e,t,n])},onShow:function(){this.callParent(),this.getView().onOwnerGridShow()},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},getScrollable:function(){return this.scrollable||this.view.getScrollable()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(e){var t,n,i;for(e.isRootHeader?e=e.items.items:Ext.isObject(e)&&(e=e.items),t=0,n=e.length;t<n;t++)if(!(i=e[t]).processed&&i.locked)return!0},relayHeaderCtEvents:function(e){this.relayEvents(e,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var e=this.callParent(),t=this.store.getState();return e=this.addPropertyToState(e,"columns",this.headerCt.getColumnsState()),t&&(e.storeState=t),e},applyState:function(e){var t=e.sort,n=e.storeState,i=this.store,r=e.columns=this.buildColumnHash(e.columns);this.callParent(arguments),r&&this.headerCt.applyColumnsState(r,n),t?i.getRemoteSort()?i.sort({property:t.property,direction:t.direction,root:t.root},null,!1):i.sort(t.property,t.direction):n&&i.applyState(n)},buildColumnHash:function(e){var t,n,i,r=e.length;if(e){for(i={},n=0,r=e.length;n<r;n++)(t=e[n]).index=n,t.columns&&(t.columns=this.buildColumnHash(t.columns)),i[t.id]=t;return i}},getStore:function(){return this.store},onViewRefresh:function(e,t){this.onItemAdd(t,0)},onItemAdd:function(e,t,n,i){var r,o,a,s=this,l=e.length,d=s.freeRowContexts,c=s.liveRowContexts||(s.liveRowContexts={});for(o=0;o<l;o++)c[(a=e[o]).internalId]||((r=d&&d.shift())||(r=new Ext.grid.RowContext({ownerGrid:s})),s.liveRowContexts[a.internalId]=r,r.setRecord(a,t++))},onItemRemove:function(e,t,n,i){var r,o,a,s=this.freeRowContexts||(this.freeRowContexts=[]),l=this.liveRowContexts,d=n.length;for(r=0;r<d;r++)(a=l[o=n[r].getAttribute("data-recordId")])&&(a.free(),s.push(a),delete l[o])},createManagedWidget:function(e,t,n){return this.liveRowContexts[n.internalId].getWidget(e,t)},destroyManagedWidgets:function(e){var t,n,i,r=this.liveRowContexts,o=this.freeRowContexts,a=o&&o.length;for(n in r)(i=r[n].widgets)&&(Ext.destroy(i[e]),delete i[e]);for(t=0;t<a;t++)(i=o[t].widgets)&&(Ext.destroy(i[e]),delete i[e])},getManagedWidgets:function(e){var t,n=this.liveRowContexts,i=[];for(t in n)i.push(n[t].widgets[e]);return i},getView:function(){var e,t,n,i=this;return i.view||(e=(n=i.viewConfig).scroll||i.scroll,null==(t=i.scrollable)&&null==n.scrollable&&null!==e&&(!0===e||"both"===e?t=!0:!1===e||"none"===e?t=!1:"vertical"===e?t={x:!1,y:!0}:"horizontal"===e&&(t={x:!0,y:!1})),"scrollable"in(n=Ext.apply({grid:i,ownerGrid:i.ownerGrid,deferInitialRefresh:i.deferRowRender,variableRowHeight:i.variableRowHeight,preserveScrollOnRefresh:!0,trackOver:!1!==i.trackMouseOver,throttledUpdate:!0===i.throttledUpdate,xtype:i.viewType,store:i.store,headerCt:i.headerCt,columnLines:i.columnLines,rowLines:i.rowLines,navigationModel:"grid",features:i.features,panel:i,emptyText:i.emptyText||""},i.viewConfig))||"scroll"in n||"autoScroll"in n||null==t||(n.scrollable=t),Ext.create(n),i.view.emptyText&&(i.view.emptyText='<div class="'+i.emptyCls+'">'+i.view.emptyText+"</div>"),i.view.getComponentLayout().headerCt=i.headerCt,i.mon(i.view,{uievent:i.processEvent,scope:i}),i.headerCt.view=i.view,i.hasListeners.viewcreated&&i.fireEvent("viewcreated",i,i.view)),i.view},getEmptyText:function(){return this.view.emptyText},setEmptyText:function(e){return this.emptyText=e,this.view.setEmptyText('<div class="'+this.emptyCls+'">'+e+"</div>"),this},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(e){var t=this.view;return(t=t&&(t.normalView||t))&&t.setScrollable(e),e},processEvent:function(e,t,n,i,r,o,a,s){var l=o.position.column;if(l)return l.processEvent.apply(l,arguments)},ensureVisible:function(e,t){this.doEnsureVisible(e,t)},scrollByDeltaY:function(e,t){this.getView().scrollBy(null,e,t)},scrollByDeltaX:function(e,t){this.getView().scrollBy(e,null,t)},afterCollapse:function(){this.saveScrollPos(),this.callParent(arguments)},afterExpand:function(){this.callParent(arguments),this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:Ext.emptyFn,onHeaderMove:function(e,t,n,i,r){!1===this.optimizedColumnMove?this.view.refreshView():this.view.moveColumn(i,r,n),this.delayScroll()},onHeaderHide:function(e,t){var n=this.view;!e.childHideCount&&n.refreshCounter&&n.refreshView()},onHeaderShow:function(e,t){var n=this.view;n.refreshCounter&&n.refreshView()},onHeadersChanged:function(e,t){this.rendered&&!this.reconfiguring&&(this.view.refreshView(),this.delayScroll())},delayScroll:function(){var e=this.view;e&&this.scrollTask.delay(10,null,null,[e])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){this.scrollXPos&&this.syncHorizontalScroll(this,!0)},getScrollerOwner:function(){var e=this;return this.scrollerOwner||(e=this.up("[scrollerOwner]")),e},getLhsMarker:function(){return this.lhsMarker||(this.lhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var t;this.ignoreNextSelection||(this.ignoreNextSelection=!0,t=this.getSelectionModel(),e?t.select(e):t.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(e,t){var n=this,i=null;n.ignoreNextSelection||(n.ignoreNextSelection=!0,t.length&&(i=e.getLastSelected(),n.hasHadSelection=!0),n.hasHadSelection&&n.setSelection(i),n.ignoreNextSelection=!1)},updateFocused:function(e){this.getNavigationModel().setPosition(e)},updateHeaderBorders:function(e){this[e?"removeCls":"addCls"](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var e=this.getScrollerOwner().query("tableview");return e[e.length-1]},syncHorizontalScroll:function(e,t){var n=this,i=n.view.getScrollX();t=!0===t,n.rendered&&(t||i!==n.scrollXPos)&&(t&&n.getScrollTarget().setScrollX(i),n.headerCt.setScrollX(i),n.scrollXPos=i)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e,t){var n=this,i=n.getView(),r=n.getStore();e?(n.store=e,i.store!==e&&i.bindStore(e,!1),n.mon(e,{load:n.onStoreLoad,scope:n}),n.storeRelayers=n.relayEvents(e,["filterchange","groupchange"]),!n.reconfiguring&&n.hasListeners.storechange&&e!==r&&n.fireEvent("storechange",n,e,r)):n.unbindStore()},unbindStore:function(){var e,t=this,n=t.store;n&&(n.trackStateChanges=!1,t.store=null,t.mun(n,{load:t.onStoreLoad,scope:t}),Ext.destroy(t.storeRelayers),(e=t.view).store&&e.bindStore(null),!t.reconfiguring&&t.hasListeners.storechange&&t.fireEvent("storechange",t,null,n))},setColumns:function(e){(e.length||this.getColumnManager().getColumns().length)&&this.reconfigure(void 0,e)},setStore:function(e){var t=this;t.reconfigure(e,void 0,!0),t.isVisible(!0)?!e||!t.autoLoad||e.isEmptyStore||e.loading||e.isLoaded()||e.load():t.globalShowListener||(t.globalShowListener=Ext.GlobalEvents.on({show:t.onGlobalShow,scope:t,destroyable:!0}))},onGlobalShow:function(e){var t=this,n=t.store;(e===t||e.isAncestor(t)&&t.isVisible(!0))&&(!n||!t.autoLoad||n.isEmptyStore||n.loading||n.isLoaded()||n.load(),Ext.destroy(t.globalShowListener))},reconfigure:function(e,t,n){var i,r,o,a,s,l=this,d=l.store,c=l.headerCt,u=l.lockable,h=c?c.items.getRange():l.columns,f=l.getView();1===arguments.length&&Ext.isArray(e)&&(t=e,e=null),t&&(t=Ext.Array.slice(t)),l.reconfiguring=!0,e?o=(e=Ext.StoreManager.lookup(e))&&e!==d:n&&(o=(e=Ext.StoreManager.lookup("ext-empty-store"))!==d),l.fireEvent("beforereconfigure",l,e,t,d,h),Ext.suspendLayouts(),u?l.reconfigureLockable(e,t,n):(i=f.blockRefresh,f.blockRefresh=!0,s=f.saveFocusState(),o&&(l.unbindStore(),l.bindStore(e)),t&&(delete l.scrollXPos,c.removeAll(),c.add(t),a=!0),c.onOwnerGridReconfigure(o,a),r=f.refreshCounter),Ext.resumeLayouts(!0),l.reconfiguring=!1,u?l.afterReconfigureLockable():(f.blockRefresh=i,f.refreshCounter===r&&(f.refreshView(),s())),l.fireEvent("reconfigure",l,e,t,d,h),delete l.reconfiguring,o&&l.fireEvent("storechange",l,e,d)},doDestroy:function(){var e=this,t=e.scrollTask;e.lockable&&e.destroyLockable(),t&&t.cancel(),Ext.destroy(e.plugins,e.focusEnterLeaveListeners,e.freeRowContexts,Ext.Object.getValues(e.liveRowContexts)),e.callParent(),e.unbindStore()},privates:{initFocusableElement:function(){},doEnsureVisible:function(e,t){if(this.lockable)return this.ensureLockedVisible(e,t);"number"==typeof e||e.isEntity||(e=this.store.getById(e));var n,i,r,o,a,s,l,d,c,u=this,h=u.getView(),f=h.getNode(e);t&&(n=t.callback,i=t.scope,r=t.animate,o=t.highlight,a=t.select,s=t.focus,d=t.column),u.deferredEnsureVisible&&u.deferredEnsureVisible.destroy(),h.componentLayoutCounter?("number"==typeof d&&(d=u.ownerGrid.getVisibleColumnManager().getColumns()[d]),f?(l=h.getScrollable(),d&&(c=Ext.fly(f).selectNode(d.getCellSelector())),l&&l.scrollIntoView(c||f,!!d,r,o),e.isEntity||(e=h.getRecord(f)),a&&h.getSelectionModel().select(e),s&&h.getNavigationModel().setPosition(e,0),Ext.callback(n,i||u,[!0,e,f])):h.bufferedRenderer?h.bufferedRenderer.scrollTo(e,{animate:r,highlight:o,select:a,focus:s,column:d,callback:function(e,t,r){Ext.callback(n,i||u,[!0,t,r])}}):Ext.callback(n,i||u,[!1,null])):u.deferredEnsureVisible=h.on({resize:u.doEnsureVisible,args:Ext.Array.slice(arguments),scope:u,single:!0,destroyable:!0})},getFocusEl:function(){return this.getView().getFocusEl()},setActionableMode:function(e,t){var n=this.ownerGrid;if(!n.destroying&&!1!==n.view.setActionableMode(e,t))return n.fireEvent("actionablemodechange",e),n[e?"addCls":"removeCls"](n.actionableModeCls),!0},getOverflowStyle:function(){return this.scrollFlags=this._scrollFlags.false.false,{overflowX:"hidden",overflowY:"hidden"}},getOverflowEl:function(){return null}}}),Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",requires:["Ext.panel.Table"],firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.callParent(),void 0===this.scrollbarWidth&&(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width)},beginLayout:function(e){var t,n,i=this,r=i.owner,o=i.firstHeaderCls,a=i.lastHeaderCls,s=[o,a],l=i.getVisibleItems(),d=l.length;for(i.callParent([e]),t=0;t<d;t++)n=l[t],1===d?n.addCls(s):0===t?(n.addCls(o),n.removeCls(a)):t===d-1?(n.removeCls(o),n.addCls(a)):n.removeCls(s);i.scrollbarWidth=0,r.isRootHeader&&!r.grid.isLocked&&i.determineScrollbarWidth(e),i.scrollbarWidth||(e.manageScrollbar=!1)},moveItemBefore:function(e,t){var n=e.ownerCt,i=t&&t.nextSibling();return e!==t&&n&&(n.remove(e,{destroy:!1,detach:!1}),t&&t.destroyed&&(t=i)),this.callParent([e,t])},determineScrollbarWidth:function(e){var t=this.owner.grid,n=t.reserveScrollbar,i=t.view.getScrollable(),r=!n&&i&&i.getY();e.manageScrollbar=r,t.ownerGrid.collapsed||!n&&!r||delete this.scrollbarWidth},calculate:function(e){var t,n,i,r,o,a,s,l=this,d=l.owner,c=d.grid,u=e.viewContext,h=e.state,f=e.context;if(l.callParent([e]),c&&d.isRootHeader&&h.parallelDone){if(t=u.lockingPartnerContext,c.forceFit&&!h.reflexed&&l.convertWidthsToFlexes(e))return l.cacheFlexes(e),l.done=!1,void e.invalidate({state:{reflexed:!0,scrollbarAdjustment:l.getScrollbarAdjustment(e)}});if(void 0===(n=h.columnsChanged)){for(n=!1,o=0,r=(i=e.target.getVisibleGridColumns()).length;o<r;o++)(a=f.getCmp(i[o])).lastBox&&a.props.width===a.lastBox.width||((n||(n=[]))[o]=a);h.columnsChanged=n,e.setProp("columnsChanged",n)}if(e.manageScrollbar&&l.getScrollbarAdjustment(e)){if(void 0===(s=u.getProp("viewOverflowY")))return void(l.done=!1);s||(t&&(t.invalidate(),t.headerContext.invalidate()),u.invalidate(),e.invalidate({state:{scrollbarAdjustment:0}}))}}},finishedLayout:function(e){this.callParent([e]),"rowgroup"===this.owner.ariaRole&&this.innerCt.dom.setAttribute("role","row"),e.props.columnsChanged=null},convertWidthsToFlexes:function(e){var t,n,i,r,o,a=0,s=this.sizeModels.calculated;for(n=(t=e.childItems).length,i=0;i<n;i++)o=(r=t[i]).target,a+=r.props.width,o.fixed||!1===o.resizable||(o.flex=e.childItems[i].flex=r.props.width,o.width=null,r.widthModel=s);return a!==e.props.width},getScrollbarAdjustment:function(e){var t=e.state,n=this.owner.grid,i=t.scrollbarAdjustment;return void 0===i&&(i=0,(n.reserveScrollbar||e.manageScrollbar&&!n.ownerGrid.getSizeModel().height.shrinkWrap)&&(i=this.scrollbarWidth),t.scrollbarAdjustment=i),i},getContainerSize:function(e){var t,n,i,r,o,a,s,l;return this.owner.isRootHeader?((l=this.callParent([e])).gotWidth&&(l.width-=this.getScrollbarAdjustment(e)),l):(i=e.paddingContext.getPaddingInfo(),t=n=0,e.widthModel.shrinkWrap||(++n,(r="number"==typeof(a=e.getProp("innerWidth")))&&(++t,(a-=i.width)<0&&(a=0))),e.heightModel.shrinkWrap||(++n,(o="number"==typeof(s=e.getProp("innerHeight")))&&(++t,(s-=i.height)<0&&(s=0))),{width:a,height:s,needed:n,got:t,gotAll:t===n,gotWidth:r,gotHeight:o})},publishInnerCtSize:function(e){var t=this.owner,n=0;return null!=e.peek("contentWidth")&&t.isRootHeader&&(n=-e.state.scrollbarAdjustment),this.callParent([e,n])}}),Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(e,t,n){t.isRootHeader||t.isGroupHeader||Ext.raise("ColumnManager must be passed an instantiated HeaderContainer or group header"),this.headerCt=t,n&&(t.isRootHeader||t.isGroupHeader||Ext.raise("ColumnManager must be passed an instantiated HeaderContainer or group header"),this.secondHeaderCt=n),this.visibleOnly=!!e},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},hasVariableRowHeight:function(){var e,t=this,n=t.getColumns(),i=n.length;if(null==t.variableRowHeight)for(t.variableRowHeight=!1,e=0;!t.variableRowHeight&&e<i;e++)t.variableRowHeight=!!n[e].variableRowHeight;return t.variableRowHeight},getHeaderIndex:function(e){return e.isGroupHeader&&(e=this.getHeaderColumns(e)[0]),Ext.Array.indexOf(this.getColumns(),e)},getHeaderAtIndex:function(e){return this.getColumns()[e]||null},getPreviousSibling:function(e){var t=this.getHeaderIndex(e),n=null;return t>0&&(n=this.getColumns()[t-1]),n},getNextSibling:function(e){var t,n=this.getHeaderIndex(e);return-1!==n&&(t=this.getColumns()[n+1]),t||null},getFirst:function(){var e=this.getColumns();return e.length>0?e[0]:null},getLast:function(){var e=this.getColumns(),t=e.length;return t>0?e[t-1]:null},getHeaderByDataIndex:function(e){var t,n,i=this.getColumns(),r=i.length;if(Ext.isEmpty(e))return null;for(t=0;t<r;++t)if((n=i[t]).dataIndex===e)return n;return null},getHeaderById:function(e){var t,n,i=this.getColumns(),r=i.length;for(t=0;t<r;++t)if((n=i[t]).getItemId()===e)return n;return null},getVisibleHeaderClosestToIndex:function(e){var t=this.getHeaderAtIndex(e);return t&&t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),t},cacheColumns:function(){var e=this.getHeaderColumns(this.headerCt),t=this.secondHeaderCt;t&&(e=e.concat(this.getHeaderColumns(t))),this.columns=e},getHeaderColumns:function(e){var t=this.visibleOnly?e.getVisibleGridColumns():e.getGridColumns();return Ext.Array.clone(t)},invalidate:function(){var e=this.rootColumns;this.columns=this.variableRowHeight=null,e&&e.invalidate()},destroy:function(){this.columns=this.rootColumns=null,this.callParent()}},function(){this.createAlias("indexOf","getHeaderIndex")}),Ext.define("Ext.grid.NavigationModel",{extend:"Ext.view.NavigationModel",alias:"view.navigation.grid",focusCls:Ext.baseCSSPrefix+"grid-item-focused",getViewListeners:function(){var e=this;return{focusmove:{element:"el",fn:e.onFocusMove},containermousedown:e.onContainerMouseDown,cellmousedown:e.onCellMouseDown,cellclick:e.onCellClick,itemmousedown:e.onItemMouseDown,itemclick:e.onItemClick,itemcontextmenu:e.onItemClick,scope:e}},initKeyNav:function(e){var t,n=this;n.keyNav||(n.keyNav=[],n.position=new Ext.grid.CellContext(e)),t=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:Ext.supports.SpecialKeyDownRepeat?"itemkeydown":"itemkeypress",defaultEventAction:"stopEvent",processEvent:n.processViewEvent,up:n.onKeyUp,down:n.onKeyDown,right:n.onKeyRight,left:n.onKeyLeft,pageDown:n.onKeyPageDown,pageUp:n.onKeyPageUp,home:n.onKeyHome,end:n.onKeyEnd,space:n.onKeySpace,enter:n.onKeyEnter,esc:n.onKeyEsc,113:n.onKeyF2,tab:n.onKeyTab,A:{ctrl:!0,handler:n.onSelectAllKeyPress},scope:n}),n.keyNav.push(t),n.onKeyNavCreate(t)},onKeyNavCreate:Ext.emptyFn,addKeyBindings:function(e){var t,n=this.keyNav.length;for(t=0;t<n;t++)this.keyNav[t].addBindings(e)},enable:function(){var e,t=this.keyNav.length;for(e=0;e<t;e++)this.keyNav[e].enable();this.disabled=!1},disable:function(){var e,t=this.keyNav.length;for(e=0;e<t;e++)this.keyNav[e].disable();this.disabled=!0},processViewEvent:function(e,t,n,i,r){var o=r.getKey();return e.actionableMode?(this.map.ignoreInputFields=!1,o===r.TAB||o===r.ESC||o===r.F2?r:void 0):(this.map.ignoreInputFields=!0,o===r.TAB?null:r)},onCellMouseDown:function(e,t,n,i,r,o,a){var s,l=Ext.Component.fromElement(a.target,t),d=a.getTarget(null,null,!0),c=d.isFocusable()&&!d.is(e.getCellSelector());if(e.actionableMode)return c||(c=(s=Ext.ComponentManager.getActiveComponent())&&s!==e&&s.owns(a)),void(c?e.setActionableMode(!0,a.position):e.setActionableMode(!1,a.position));"touch"!==a.pointerType&&(!1!==a.position.column.cellFocusable?(c?(e.containsFocus||(e.containsFocus=!0,e.toggleChildrenTabbability(!1)),e.setActionableMode(!0,a.position)):t.focus(),2===a.button&&this.fireNavigateEvent(a)):a.preventDefault(!0),l&&l.isFocusable&&l.isFocusable()&&(e.setActionableMode(!0,a.position),l.focus()))},onCellClick:function(e,t,n,i,r,o,a){var s=this,l=Ext.Component.fromElement(a.target,t),d=l&&l.isFocusable&&l.isFocusable();if(Ext.isIE10m||e.el.contains(Ext.Element.getActiveElement())||"touch"===a.pointerType)if(e.actionableMode)a.position.isEqual(e.actionPosition)||d||e.setActionableMode(!1,a.position),s.fireEvent("navigate",{view:e,navigationModel:s,keyEvent:a,previousPosition:s.previousPosition,previousRecordIndex:s.previousRecordIndex,previousRecord:s.previousRecord,previousItem:s.previousItem,previousCell:s.previousCell,previousColumnIndex:s.previousColumnIndex,previousColumn:s.previousColumn,position:a.position,recordIndex:a.position.rowIdx,record:a.position.record,selectionStart:s.selectionStart,item:a.item,cell:a.position.cellElement,columnIndex:a.position.colIdx,column:a.position.column});else if(s.position.isEqual(a.position)||d){if(Ext.isIE10m&&!s.record)return;s.fireNavigateEvent(a)}else!1!==a.position.column.cellFocusable?s.setPosition(a.position,null,a):a.preventDefault()},onFocusMove:function(e){var t,n,i,r=Ext.Component.fromElement(e.delegatedTarget,null,"tableview"),o=e.target,a=Ext.fly(o).is(r.cellSelector);r&&(!r.actionableMode&&a?(t=r.getRecord(o),n=r.getHeaderByCell(o),t&&n&&((i=new Ext.grid.CellContext(r).setPosition(t,n)).isEqual(this.position)||this.setPosition(i))):(r.actionableMode||r.activating)&&!a&&r.el.contains(e.target)&&r.el.dom!==e.target&&r.ownerGrid.fireEvent("cellactivate",r.ownerGrid,r.actionPosition))},onItemMouseDown:function(e,t,n,i,r){r.position.cellElement||"touch"===r.pointerType||(r.preventDefault(),this.getClosestCell(r),this.position.isEqual(r.position)||this.setPosition(r.position,null,r),e.getScrollable().restoreState())},onItemClick:function(e,t,n,i,r){r.position.cellElement||(this.getClosestCell(r),"touch"===r.pointerType&&this.setPosition(r.position,null,r),this.fireNavigateEvent(r))},getClosestCell:function(e){var t,n,i,r,o,a=e.position;if(!a.cellElement)for(t=e.getX(),i=(n=a.view.getVisibleColumnManager().getColumns()).length,r=0;r<i;r++)if(n[r],t>=(o=n[r].getBox()).left&&t<o.right)return a.setColumn(n[r]),a.rowElement=a.getRow(!0),void(a.cellElement=a.getCell(!0))},deferSetPosition:function(e,t,n,i,r,o){var a=this.view.getFocusTask();return a.delay(e,this.setPosition,this,[t,n,i,r,o]),a},setPosition:function(e,t,n,i,r){var o,a,s,l,d,c,u,h,f,g,p=this,m=null==e&&null==t,x=null==p.record&&null==p.recordIndex&&null==p.item;if((o=e&&e.isCellContext?e.view:n&&n.view?n.view:p.lastFocused?p.lastFocused.view:p.view).getFocusTask().cancel(),!(o.destroyed||!o.refreshCounter||!o.ownerCt||m&&x)&&o.all.getCount()){if(s=o.getSelectionModel(),l=o.dataSource,g=(d=o.getVisibleColumnManager()).getColumns(),e&&e.isCellContext)h=e.record,c=e.rowIdx,f=g[u=Math.min(e.colIdx,g.length-1)],-1===l.indexOf(h)&&(a=o.getScrollable(),p.recordIndex=-1,a&&a.getPosition().y>=a.getMaxPosition().y-o.all.last(!0).offsetHeight&&e.rowIdx--,c=Math.min(e.rowIdx,l.getCount()-1),h=l.getAt(c));else{if(m)h=c=null;else if(null==t&&(t=p.lastFocused?p.lastFocused.column:0),"number"==typeof e)c=Math.max(Math.min(e,l.getCount()-1),0),h=l.getAt(e);else if(e.isEntity)h=e,c=l.indexOf(h);else if(e.tagName)h=o.getRecord(e),-1===(c=l.indexOf(h))&&(h=null);else{if(x)return;m=!0,h=c=null}h?(-1===c&&(p.recordIndex=-1,h=l.getAt(0),c=0,t=null),null==t?(f=p.column)||(u=0,f=g[0]):"number"==typeof t?(f=g[t],u=t):(f=t,u=d.indexOf(t))):(m=!0,f=u=null)}if(f&&-1===d.indexOf(f)&&(f=g[u=-1===u?0:Math.min(u,g.length-1)]),o.actionableMode&&!m)return o.ownerGrid.setActionableMode(!1,new Ext.grid.CellContext(o).setPosition(h,f));if(c===p.recordIndex&&u===p.columnIndex&&o===p.position.view)return p.focusPosition(p.position);p.cell&&p.cell.removeCls(p.focusCls),p.previousRecordIndex=p.recordIndex,p.previousRecord=p.record,p.previousItem=p.item,p.previousCell=p.cell,p.previousColumn=p.column,p.previousColumnIndex=p.columnIndex,p.previousPosition=p.position.clone(),p.selectionStart=s.selectionStart,p.position.setAll(o,p.recordIndex=c,p.columnIndex=u,p.record=h,p.column=f),m?p.item=p.cell=null:p.focusPosition(p.position,r),i||(s.fireEvent("focuschange",s,p.previousRecord,p.record),o.fireEvent("rowfocus",p.record,p.item,p.recordIndex),o.fireEvent("cellfocus",p.record,p.cell,p.position)),n&&!r&&p.cell!==p.previousCell&&p.fireNavigateEvent(n)}},focusPosition:function(e){var t,n,i,r=this;r.item=r.cell=null,e&&e.record&&e.column&&(t=e.view,(n=e.rowElement?r.item=e.rowElement:t.getRowByRecord(e.record))?(r.cell=e.cellElement||Ext.fly(n).down(e.column.getCellSelector(),!0),r.cell?(r.cell=new Ext.dom.Fly(r.cell),t.lastFocused=r.lastFocused=r.position.clone(),(i=t.getScrollable())&&i.scrollIntoView(r.cell),r.focusItem(r.cell),t.focusEl=r.cell):(r.position.setAll(),r.record=r.column=r.recordIndex=r.columnIndex=null)):(n=t.dataSource.indexOf(e.record),r.position.setAll(),r.record=r.column=r.recordIndex=r.columnIndex=null,-1!==n&&t.bufferedRenderer&&(r.lastKeyEvent=null,t.bufferedRenderer.scrollTo(n,!1,r.afterBufferedScrollTo,r))))},focusItem:function(e){e.addCls(this.focusCls),e.focus()},getCell:function(){return this.cell},getPosition:function(e){var t,n,i,r=this,o=r.position;if(o.record&&o.column){if(e)return o;if(-1===(t=(i=(n=o.view).dataSource).indexOf(o.record))&&(t=o.rowIdx,(o.record=i.getAt(t))||(t=-1)),-1!==t&&-1!==n.getVisibleColumnManager().indexOf(o.column))return o;o.setAll(),r.record=r.column=r.recordIndex=r.columnIndex=null}return null},getLastFocused:function(){var e,t=this.lastFocused;if(t&&t.record&&t.column&&-1!==(e=t.view).dataSource.indexOf(t.record)&&-1!==e.getVisibleColumnManager().indexOf(t.column))return t},onKeyTab:function(e){var t,n,i,r=!e.shiftKey,o=e.position.view;n=(t=o.findFocusPosition(e.target,e.position,r,e)).target,i=t.position,n?(this.actionPosition=i.view.actionPosition=i,Ext.fly(n).focus()):o.onRowExit(e,e.item,e.item[r?"nextSibling":"previousSibling"],r),e.preventDefault()},onKeyUp:function(e){var t=e.view.walkRecs(e.record,-1),n=this.getPosition();t&&(n.setRow(t),n.getCell(!0)||n.navigate(-1),this.setPosition(n,null,e))},onKeyDown:function(e){var t=e.record.isExpandingOrCollapsing?null:e.view.walkRecs(e.record,1),n=this.getPosition();t&&(n.setRow(t),n.getCell(!0)||n.navigate(-1),this.setPosition(n,null,e))},onKeyRight:function(e){var t=this.move("right",e);t&&this.setPosition(t,null,e)},onKeyLeft:function(e){var t=this.move("left",e);t&&this.setPosition(t,null,e)},onKeyEnter:function(e){var t=["cellclick",e.view,e.position.cellElement,e.position.colIdx,e.record,e.position.rowElement,e.recordIndex,e],n=e.position.getCell();n&&(n.query('[tabIndex="-1"]').length||(e.stopEvent(),e.view.fireEvent.apply(e.view,t),t[0]="celldblclick",e.view.fireEvent.apply(e.view,t)),this.view.actionableMode||this.view.ownerGrid.setActionableMode(!0,this.getPosition()))},onKeyF2:function(e){var t=this.view.ownerGrid,n=t.actionableMode;t.setActionableMode(!n,n?null:this.getPosition())},onKeyEsc:function(e){var t=this.view.ownerGrid;if(!t.actionableMode)return!0;t.setActionableMode(!1)},move:function(e,t){var n=this.getPosition(),i=n;if(n&&n.record)for(;i;)if((i=n.view.walkCells(i,e,!t.shiftKey||"right"!==e&&"left"!==e?null:this.vetoRowChange,this))&&!1!==i.column.cellFocusable)return i;return null},vetoRowChange:function(e){return this.getPosition().record===e.record},onKeyPageDown:function(e){var t,n,i=this,r=e.view,o=i.getRowsVisible();o&&(r.bufferedRenderer?(t=Math.min(e.recordIndex+o,r.dataSource.getCount()-1),i.lastKeyEvent=e,r.bufferedRenderer.scrollTo(t,!1,i.afterBufferedScrollTo,i)):(n=r.walkRecs(e.record,o),i.setPosition(n,null,e)))},onKeyPageUp:function(e){var t,n,i=this,r=e.view,o=i.getRowsVisible();o&&(r.bufferedRenderer?(t=Math.max(e.recordIndex-o,0),i.lastKeyEvent=e,r.bufferedRenderer.scrollTo(t,!1,i.afterBufferedScrollTo,i)):(n=r.walkRecs(e.record,-o),i.setPosition(n,null,e)))},onKeyHome:function(e){var t=this,n=e.view;e.altKey?n.bufferedRenderer?(t.lastKeyEvent=e,n.bufferedRenderer.scrollTo(0,!1,t.afterBufferedScrollTo,t)):t.setPosition(n.walkRecs(e.record,-n.dataSource.indexOf(e.record)),null,e):t.setPosition(e.record,0,e)},afterBufferedScrollTo:function(e,t){this.setPosition(t,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(e){var t=this,n=e.view;e.altKey?n.bufferedRenderer?(t.lastKeyEvent=e,n.bufferedRenderer.scrollTo(n.store.getCount()-1,!1,t.afterBufferedScrollTo,t)):t.setPosition(n.walkRecs(e.record,n.dataSource.getCount()-1-n.dataSource.indexOf(e.record)),null,e):t.setPosition(e.record,e.view.getVisibleColumnManager().getColumns().length-1,e)},getRowsVisible:function(){var e,t,n=!1,i=this.view,r=i.all.first();return r&&(e=r.getHeight(),t=i.el.getHeight(),n=Math.floor(t/e)),n},fireNavigateEvent:function(e){var t=this;t.fireEvent("navigate",{view:t.position.view,navigationModel:t,keyEvent:e||new Ext.event.Event({}),previousPosition:t.previousPosition,previousRecordIndex:t.previousRecordIndex,previousRecord:t.previousRecord,previousItem:t.previousItem,previousCell:t.previousCell,previousColumnIndex:t.previousColumnIndex,previousColumn:t.previousColumn,position:t.position,recordIndex:t.recordIndex,record:t.record,selectionStart:t.selectionStart,item:t.item,cell:t.cell,columnIndex:t.columnIndex,column:t.column})}}),Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",alias:"layout.tableview",type:"tableview",beginLayout:function(e){var t=this,n=t.owner,i=n.ownerGrid,r=n.lockingPartner,o=e.lockingPartnerContext,a=r&&r.grid.isVisible()&&!r.grid.collapsed,s=e.context;e.doSyncRowHeights=a&&(i.syncRowHeight||i.syncRowHeightOnNextLayout),t.columnFlusherId||(t.columnFlusherId=t.id+"-columns",t.rowHeightFlusherId=t.id+"-rows"),t.callParent([e]),a&&(!o&&r.componentLayout.isRunning()&&((o=e.lockingPartnerContext=s.getCmp(r)).lockingPartnerContext=e,o.lockingPartnerContext||(o.lockingPartnerContext=e)),e.doSyncRowHeights&&(o&&!o.rowHeightSynchronizer&&(o.rowHeightSynchronizer=o.target.syncRowHeightBegin()),e.rowHeightSynchronizer=t.owner.syncRowHeightBegin())),(e.headerContext=s.getCmp(t.headerCt)).viewContext=e},beginLayoutCycle:function(e,t){this.callParent([e,t]),e.syncRowHeights&&(e.target.syncRowHeightClear(e.rowHeightSynchronizer),e.syncRowHeights=!1)},calculate:function(e){var t,n,i,r,o,a,s=this,l=e.context,d=e.lockingPartnerContext,c=e.headerContext,u=e.ownerCtContext,h=s.owner,f=c.getProp("columnsChanged"),g=e.state,p=h.body.dom;if(!(h.all.getCount()||p&&h.body.child("table")))return e.setProp("viewOverflowY",!1),void s.callParent([e]);if(1===s.calcCount&&s.owner.bufferedRenderer&&s.owner.bufferedRenderer.beforeTableLayout(e),void 0!==f)if(!f||((t=g.columnFlusher)||l.queueFlush(g.columnFlusher=t={ownerContext:e,columnsChanged:f,layout:s,id:s.columnFlusherId,flush:s.flushColumnWidths},!0),t.flushed)){if(e.doSyncRowHeights){if(!(r=g.rowHeightFlusher)){if((i=g.rowHeights)||(g.rowHeights=i=e.rowHeightSynchronizer,s.owner.syncRowHeightMeasure(i),e.setProp("rowHeights",i)),!(n=d.getProp("rowHeights")))return void(s.done=!1);l.queueFlush(g.rowHeightFlusher=r={ownerContext:e,synchronizer:i,otherSynchronizer:n,layout:s,id:s.rowHeightFlusherId,flush:s.flushRowHeights},!0)}if(!r.flushed)return void(s.done=!1)}if(s.callParent([e]),!e.heightModel.shrinkWrap){if(a=!1,!u.heightModel.shrinkWrap){if(!(o=u.target.layout.getContainerSize(u)).gotHeight)return void(s.done=!1);a=p.offsetHeight>o.height}e.setProp("viewOverflowY",a)}s.done&&Ext.getScrollbarSize().height&&(h.lockingPartner||e.setProp("overflowX",!!e.headerContext.state.boxPlan.tooNarrow))}else s.done=!1;else s.done=!1},measureContentHeight:function(e){var t=this.owner,n=t.body.dom,i=t.emptyEl,r=0;return i&&(r+=i.offsetHeight),n&&(r+=n.offsetHeight),e.headerContext.state.boxPlan.tooNarrow&&(r+=Ext.getScrollbarSize().height),r},flushColumnWidths:function(){var e,t,n,i,r=this.layout,o=this.ownerContext,a=this.columnsChanged,s=o.target,l=a.length;if(o.state.columnFlusher===this){for(t=0;t<l;t++)(e=a[t])&&(n=e.props.width,s.body.select(s.getColumnSizerSelector(e.target)).setWidth(n),e.target.onCellsResized&&e.target.onCellsResized(n),(i=e.lastBox)&&(i.width=n));this.flushed=!0,r.pending||o.context.queueLayout(r)}},flushRowHeights:function(){var e=this.layout,t=this.ownerContext;t.state.rowHeightFlusher===this&&(t.target.syncRowHeightFinish(this.synchronizer,this.otherSynchronizer),this.flushed=!0,t.syncRowHeights=!0,e.pending||t.context.queueLayout(e))},finishedLayout:function(e){var t=this,n=t.owner.ownerGrid,i=Ext.fly(t.owner.getNodeContainer());t.callParent([e]),i&&i.setWidth(e.headerContext.props.contentWidth),t.owner.bufferedRenderer&&t.owner.bufferedRenderer.afterTableLayout(e),n&&(n.syncRowHeightOnNextLayout=!1)},getLayoutItems:function(){return this.owner.getRefItems()},isValidParent:function(){return!0}}),Ext.define("Ext.grid.locking.RowSynchronizer",{constructor:function(e,t){var n,i=this;for(i.view=e,i.rowEl=t,i.els={},i.add("data",e.rowSelector),n=e.rowTpl;n;n=n.nextTpl)n.beginRowSync&&n.beginRowSync(i)},add:function(e,t){var n=Ext.fly(this.rowEl).down(t,!0);n&&(this.els[e]={el:n})},finish:function(e){var t,n,i,r,o=this.els,a=e.els,s=0,l=0;for(i in o)(n=(r=(t=a[i])?t.height:0)-o[i].height)>0?(s+=n,Ext.fly(o[i].el).setHeight(r)):l-=n;r=e.rowHeight+l,Ext.isIE9&&this.view.ownerGrid.rowLines&&r--,this.rowHeight+s<r&&Ext.fly(this.rowEl).setHeight(r)},measure:function(){var e,t=this.els;for(e in this.rowHeight=this.rowEl.offsetHeight,t)t[e].height=t[e].el.offsetHeight},reset:function(){var e,t=this.els;for(e in this.rowEl.style.height="",t)t[e].el.style.height=""}}),Ext.define("Ext.view.NodeCache",{requires:["Ext.dom.CompositeElementLite"],statics:{range:document.createRange&&document.createRange()},constructor:function(e){this.view=e,this.clear(),this.el=new Ext.dom.Fly},destroy:function(){var e=this;e.destroyed||(e.el.destroy(),e.el=e.view=null,e.destroyed=!0),e.callParent()},clear:function(e){var t,n=this,i=n.elements,r=n.statics().range;if(n.count&&e)if(r&&Ext.getBody().contains(i[0]))r.setStartBefore(i[n.startIndex]),r.setEndAfter(i[n.endIndex]),r.deleteContents();else for(t in i)Ext.removeNode(i[t]);n.elements={},n.count=n.startIndex=0,n.endIndex=-1},fill:function(e,t,n){n=n||0;var i,r=this.elements={},o=e.length-n;for(t||(t=0),i=0;i<o;i++)r[t+i]=e[i+n];return this.startIndex=t,this.endIndex=t+o-1,this.count=o,this},insert:function(e,t){var n,i=this,r=i.elements,o=t.length;if(i.count){if((e>i.endIndex+1||e+t.length<i.startIndex)&&Ext.raise("Discontiguous range would result from inserting "+t.length+" nodes at "+e),e<i.count)for(n=i.endIndex+o;n>=e+o;n--)r[n]=r[n-o],r[n].setAttribute("data-recordIndex",n);i.endIndex=i.endIndex+o}else i.startIndex=e,i.endIndex=e+o-1;for(n=0;n<o;n++,e++)r[e]=t[n],r[e].setAttribute("data-recordIndex",e);i.count+=o},invoke:function(e,t){var n,i;for(e=Ext.dom.Element.prototype[e],i=this.startIndex;i<=this.endIndex;i++)(n=this.item(i))&&e.apply(n,t);return this},item:function(e,t){var n=null;return this.elements[e]&&(n=t?this.elements[e]:this.el.attach(this.elements[e])),n},first:function(e){return this.item(this.startIndex,e)},last:function(e){return this.item(this.endIndex,e)},moveBlock:function(e){var t,n,i,r=this,o=r.elements;if(e){e<0?(i=r.startIndex-1,t=r.endIndex,n=1):(i=r.endIndex+1,t=r.startIndex,n=-1),r.startIndex+=e,r.endIndex+=e;do{(o[(i+=n)+e]=o[i]).setAttribute("data-recordIndex",i+e),(i<r.startIndex||i>r.endIndex)&&delete o[i]}while(i!==t);delete o[i]}},getCount:function(){return this.count},slice:function(e,t){var n,i=this.elements,r=[];for(t=t?Math.min(this.endIndex,t-1):this.endIndex,n=e||this.startIndex;n<=t;n++)r.push(i[n]);return r},replaceElement:function(e,t,n){var i=this.elements,r="number"==typeof e?e:this.indexOf(e);return r>-1&&(t=Ext.getDom(t),n&&((e=i[r]).parentNode.insertBefore(t,e),Ext.removeNode(e),t.setAttribute("data-recordIndex",r)),this.elements[r]=t),this},indexOf:function(e){var t,n=this.elements;for(e=Ext.getDom(e),t=this.startIndex;t<=this.endIndex;t++)if(n[t]===e)return t;return-1},clip:function(e,t){var n,i,r,o,a=this,s=a.elements,l=[];for(1===e?(n=a.startIndex,a.startIndex+=t):(a.endIndex-=t,n=a.endIndex+1),o=n,i=n+t-1;o<=i;o++)r=s[o],l.push(r),Ext.removeNode(r),delete s[o];a.count-=t,a.view.fireItemMutationEvent("itemremove",a.view.dataSource.getRange(n,i),n,l,a.view)},removeRange:function(e,t,n){var i,r,o,a,s=this,l=s.elements,d=[];for(t=null==t?s.endIndex+1:Math.min(s.endIndex+1,t+1),null==e&&(e=s.startIndex),o=t-e,r=e,a=t;r<=s.endIndex;r++,a++)i=l[r],r<t&&(d.push(i),n&&Ext.removeNode(i)),a<=s.endIndex?(i=l[r]=l[a]).setAttribute("data-recordIndex",r):delete l[r];return s.count-=o,s.endIndex-=o,d},removeElement:function(e,t){var n,i,r,o,a,s=this,l=s.elements,d=0;if(Ext.isArray(e)){for(n=e,e=[],r=n.length,d=0;d<r;d++)"number"!=typeof(i=n[d])&&(i=s.indexOf(i)),i>=s.startIndex&&i<=s.endIndex&&(e[e.length]=i);Ext.Array.sort(e),r=e.length}else{if(e<s.startIndex||e>s.endIndex)return;r=1,e=[e]}for(o=a=e[0],d=0;o<=s.endIndex;o++,a++)d<r&&o===e[d]&&(a++,d++,t&&Ext.removeNode(l[o])),a<=s.endIndex&&a>=s.startIndex?(l[o]=l[a]).setAttribute("data-recordIndex",o):delete l[o];s.endIndex-=r,s.count-=r},scroll:function(e,t,n){var i,r,o,a,s,l,d,c,u=this,h=u.view,f=h.lookupViewModel(),g=h.store,p=u.elements,m=e.length,x=h.getNodeContainer(),E=u.statics().range;if(e.length||n){if(-1===t){if(n){if(d=[],c=[],l=u.endIndex-n+1,E)for(E.setStartBefore(p[l]),E.setEndAfter(p[u.endIndex]),E.deleteContents(),i=l;i<=u.endIndex;i++)r=p[i],delete p[i],d.push(g.getByInternalId(r.getAttribute("data-recordId"))),c.push(r);else for(i=l;i<=u.endIndex;i++)r=p[i],delete p[i],Ext.removeNode(r),d.push(g.getByInternalId(r.getAttribute("data-recordId"))),c.push(r);h.fireItemMutationEvent("itemremove",d,l,c,h),u.endIndex-=n}if(e.length){for(a=(s=h.bufferRender(e,u.startIndex-=m)).children,i=0;i<m;i++)p[u.startIndex+i]=a[i];x.insertBefore(s.fragment,x.firstChild),h.fireItemMutationEvent("itemadd",e,u.startIndex,a,h)}}else{if(n){if(d=[],c=[],o=u.startIndex+n,E)for(E.setStartBefore(p[u.startIndex]),E.setEndAfter(p[o-1]),E.deleteContents(),i=u.startIndex;i<o;i++)r=p[i],delete p[i],d.push(g.getByInternalId(r.getAttribute("data-recordId"))),c.push(r);else for(i=u.startIndex;i<o;i++)r=p[i],delete p[i],Ext.removeNode(r),d.push(g.getByInternalId(r.getAttribute("data-recordId"))),c.push(r);h.fireItemMutationEvent("itemremove",d,u.startIndex,c,h),u.startIndex=o}for(a=(s=h.bufferRender(e,u.endIndex+1)).children,i=0;i<m;i++)p[u.endIndex+=1]=a[i];x.appendChild(s.fragment),h.fireItemMutationEvent("itemadd",e,u.endIndex+1,a,h)}return u.count=u.endIndex-u.startIndex+1,f&&f.notify(),a}},sumHeights:function(){var e,t=0,n=this.elements;for(e=this.startIndex;e<=this.endIndex;e++)t+=n[e].offsetHeight;return t}},function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)}),Ext.define("Ext.scroll.TableScroller",{extend:"Ext.scroll.Scroller",alias:"scroller.table",config:{lockingScroller:null},private:{doScrollTo:function(e,t,n){var i;null!=t&&(i=this.getLockingScroller())&&(i.doScrollTo(null,t,n),t=null),this.callParent([e,t,n])}}}),Ext.define("Ext.view.Table",{extend:"Ext.view.View",xtype:["tableview","gridview"],alternateClassName:"Ext.grid.View",requires:["Ext.grid.CellContext","Ext.view.TableLayout","Ext.grid.locking.RowSynchronizer","Ext.view.NodeCache","Ext.util.DelayedTask","Ext.util.MixedCollection","Ext.scroll.TableScroller"],mixins:["Ext.mixin.Queryable"],isTableView:!0,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{normalSideEvents:["deselect","select","beforedeselect","beforeselect","selectionchange"],events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","beforeitemupdate","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","rowclick","rowcontextmenu","rowdblclick","rowkeydown","rowmouseup","rowmousedown","rowkeydown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand","scroll"]},scrollable:!0,componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",unselectableCls:Ext.baseCSSPrefix+"unselectable",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",itemCls:Ext.baseCSSPrefix+"grid-item",selectedItemCls:Ext.baseCSSPrefix+"grid-item-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-item-focused",overItemCls:Ext.baseCSSPrefix+"grid-item-over",altRowCls:Ext.baseCSSPrefix+"grid-item-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:!0,positionCells:!1,stripeOnUpdate:null,actionableMode:!1,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:"rowgroup",rowAriaRole:"row",cellAriaRole:"gridcell",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="'+Ext.baseCSSPrefix+'grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" role="presentation" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellpadding="0" cellspacing="0" style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"','<tpl if="column.cellFocusable === false">',' role="presentation"',"<tpl else>",' role="{cellRole}" tabindex="-1"',"</tpl>",'  data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],refreshSelmodelOnRefresh:!1,scrollableType:"table",tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},constructor:function(e){e.grid.isTree&&(e.baseCls=Ext.baseCSSPrefix+"tree-view"),this.callParent([e])},hasVariableRowHeight:function(e){var t=this;return t.variableRowHeight||t.store.isGrouped()||t.getVisibleColumnManager().hasVariableRowHeight()||!e&&t.lockingPartner&&t.lockingPartner.hasVariableRowHeight(!0)},initComponent:function(){var e=this;e.columnLines&&e.addCls(e.grid.colLinesCls),e.rowLines&&e.addCls(e.grid.rowLinesCls),e.body=new Ext.dom.Fly,e.body.id=e.id+"gridBody",e.trackOver||(e.overItemCls=null),e.headerCt.view=e,e.grid.view=e,e.initFeatures(e.grid),e.itemSelector=e.getItemSelector(),e.all=new Ext.view.NodeCache(e),e.callParent()},applySelectionModel:function(e,t){var n=this.ownerGrid,i=e.type,r=this.disableSelection||n.disableSelection;return t||e&&e.isSelectionModel||(e=n.selModel||e),e&&(e.isSelectionModel?(e.allowDeselect=n.allowDeselect||"SINGLE"!==e.selectionMode,e.locked=r):("string"==typeof e?e={type:e}:e.type=n.selType||e.selType||e.type||i,e.mode||(n.simpleSelect?e.mode="SIMPLE":n.multiSelect&&(e.mode="MULTI")),e=Ext.Factory.selection(Ext.apply({allowDeselect:n.allowDeselect,locked:r},e)))),e},updateSelectionModel:function(e,t){var n=this;t&&(t.un({scope:n,lastselectedchanged:n.updateBindSelection,selectionchange:n.updateBindSelection}),Ext.destroy(n.selModelRelayer)),n.selModelRelayer=n.relayEvents(e,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.on({scope:n,lastselectedchanged:n.updateBindSelection,selectionchange:n.updateBindSelection}),n.selModel=e},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(e,t,n){var i,r,o,a,s,l,d,c=this,u=n>1,h=u&&document.createRange?document.createRange():null,f=u&&!h?document.createDocumentFragment():null,g=t,p=c.getGridColumns().length,m=p-1,x=(c.firstCls||c.lastCls)&&(0===t||t===p||0===e||e===m);if(c.rendered&&t!==e){for(i=0,a=(o=c.el.query(c.rowSelector)).length;i<a;i++){if(l=(s=o[i]).childNodes,x){if(1===l.length){Ext.fly(l[0]).addCls(c.firstCls),Ext.fly(l[0]).addCls(c.lastCls);continue}0===e?(Ext.fly(l[0]).removeCls(c.firstCls),Ext.fly(l[1]).addCls(c.firstCls)):e===m&&(Ext.fly(l[m]).removeCls(c.lastCls),Ext.fly(l[m-1]).addCls(c.lastCls)),0===t?(Ext.fly(l[0]).removeCls(c.firstCls),Ext.fly(l[e]).addCls(c.firstCls)):t===p&&(Ext.fly(l[m]).removeCls(c.lastCls),Ext.fly(l[e]).addCls(c.lastCls))}if(u){if(h)h.setStartBefore(l[e]),h.setEndAfter(l[e+n-1]),f=h.extractContents();else for(r=0;r<n;r++)f.appendChild(l[e]);s.insertBefore(f,l[g]||null)}else s.insertBefore(l[e],l[g]||null)}for(i=0,a=(d=c.el.query("colgroup")).length;i<a;i++)if(s=d[i],u){if(h)h.setStartBefore(s.childNodes[e]),h.setEndAfter(s.childNodes[e+n-1]),f=h.extractContents();else for(r=0;r<n;r++)f.appendChild(s.childNodes[e]);s.insertBefore(f,s.childNodes[g]||null)}else s.insertBefore(s.childNodes[e],s.childNodes[g]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(e,t,n){this.mon(this,e,t,n,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(e){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(e)},getCell:function(e,t){var n=this.getRow(e);if(n)return"number"==typeof t&&(t=this.getHeaderAtIndex(t)),Ext.fly(n).down(t.getCellSelector())},getFeature:function(e){var t=this.featuresMC;if(t)return t.get(e)},findFeature:function(e){if(this.features)return Ext.Array.findBy(this.features,function(t){if(t.ftype===e)return!0})},initFeatures:function(e){var t,n,i,r,o=this;for(o.tpl=this.lookupTpl("tpl"),o.rowTpl=o.lookupTpl("rowTpl"),o.addRowTpl(o.lookupTpl("outerRowTpl")),o.cellTpl=o.lookupTpl("cellTpl"),o.featuresMC=new Ext.util.MixedCollection,r=(n=o.features=o.constructFeatures())?n.length:0,t=0;t<r;t++)(i=n[t]).view=o,i.grid=e,o.featuresMC.add(i),i.init(e)},renderTHead:function(e,t,n){var i,r,o=e.view.headerFns;if(o)for(r=0,i=o.length;r<i;++r)o[r].call(this,e,t,n)},addHeaderFn:function(e){var t=this.headerFns;t||(t=this.headerFns=[]),t.push(e)},renderTFoot:function(e,t,n){var i,r,o=e.view.footerFns;if(o)for(r=0,i=o.length;r<i;++r)o[r].call(this,e,t,n)},addFooterFn:function(e){var t=this.footerFns;t||(t=this.footerFns=[]),t.push(e)},addTpl:function(e){return this.insertTpl("tpl",e)},addRowTpl:function(e){return this.insertTpl("rowTpl",e)},addCellTpl:function(e){return this.insertTpl("cellTpl",e)},insertTpl:function(e,t){var n,i;for(t=t.isTemplate?Ext.Object.chain(t):new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",t),n=this[e];t.priority<n.priority;n=n.nextTpl)i=n;return i?i.nextTpl=t:this[e]=t,t.nextTpl=n,t},tplApplyOut:function(e,t,n){this.before&&!1===this.before(e,t,n)||(this.nextTpl.applyOut(e,t,n),this.after&&this.after(e,t,n))},constructFeatures:function(){var e,t,n,i=this.features,r=0;if(i)for(t=[],n=i.length;r<n;r++)(e=i[r]).isFeature||(e=Ext.create("feature."+e.ftype,e)),t[r]=e;return t},beforeRender:function(){this.callParent(),this.enableTextSelection||this.protoEl.unselectable()},getElConfig:function(){var e=this.callParent();return delete e["aria-hidden"],delete e["aria-disabled"],e},onBindStore:function(e){var t=this,n=t.bufferedRenderer;n&&n.store!==e&&n.bindStore(e),t.all&&t.all.getCount()&&!t.grid.reconfiguring&&t.clearViewEl(),t.callParent(arguments)},onOwnerGridHide:function(){var e=this.getScrollable(),t=this.bufferedRederer;e&&e.suspendPartnerSync(),t&&t.disable()},onOwnerGridShow:function(){var e=this.getScrollable(),t=this.bufferedRederer;e&&e.resumePartnerSync(),t&&t.enable()},getStoreListeners:function(e){var t=this.callParent([e]),n=this.dataSource;return n&&n.isFeatureStore&&(delete t.add,delete t.remove),this.bufferedRenderer&&delete t.clear,t.beforepageremove=this.beforePageRemove,t},beforePageRemove:function(e,t){var n=this.all,i=e.getPageSize();if(n.startIndex>=(t-1)*i&&n.endIndex<=t*i-1)return e.get(t),!1},onViewScroll:function(e,t,n){this.ignoreScroll||this.callParent([e,t,n])},createRowElement:function(e,t,n){var i=this,r=i.renderBuffer,o=i.collectData([e],t);return o.columns=n,i.tpl.overwrite(r,o),i.cleanupData(),Ext.fly(r).down(i.getNodeContainerSelector(),!0).firstChild},bufferRender:function(e,t){var n,i=this,r=i.renderBuffer,o=document.createRange?document.createRange():null;if(i.tpl.overwrite(r,i.collectData(e,t)),i.cleanupData(),Ext.fly(r).saveTabbableState({skipSelf:!0,includeHidden:!0}),r=Ext.fly(r).down(i.getNodeContainerSelector(),!0),o)o.selectNodeContents(r),n=o.extractContents();else for(n=document.createDocumentFragment();r.firstChild;)n.appendChild(r.firstChild);return{fragment:n,children:Ext.Array.toArray(n.childNodes)}},collectData:function(e,t){var n=this,i=n.tableValues;return n.rowValues.view=n,i.view=n,i.rows=e,i.columns=null,i.viewStartIndex=t,i.tableStyle="width:"+n.headerCt.getTableWidth()+"px",i},cleanupData:function(){var e=this.tableValues;e.view=e.columns=e.rows=this.rowValues.view=null},refreshSize:function(e){var t=this,n=t.getBodySelector(),i=t.lockingPartner,r=t.saveFocusState();n&&t.body.attach(t.el.down(n,!0)),t.hasLoadingHeight||(Ext.suspendLayouts(),t.callParent(arguments),(e||t.hasVariableRowHeight()&&t.dataSource.getCount())&&t.grid.updateLayout(),Ext.resumeLayouts(!i||!i.grid.isVisible()||i.all.getCount()===t.all.getCount()),r())},isLayoutRoot:function(){return!1},clearViewEl:function(e){var t;this.rendered&&(this.callParent(),e||(t=Ext.get(this.getNodeContainer()))&&t.dom!==this.getTargetEl().dom&&t.destroy())},getRefItems:function(e){var t,n,i,r,o,a=this.ownerGrid.liveRowContexts,s=this.callParent(arguments);for(o in a)for(t=(i=a[o].getWidgets()).length,n=0;n<t;n++)r=i[n],this.isAncestor(r)&&(s[s.length]=r,e&&r.getRefItems&&s.push.apply(s,r.getRefItems(!0)));return s},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(e){return Ext.getCmp(e.getAttribute("data-boundView"))}},getRecord:function(e){if(!this.store.destroyed)return e.isModel?e:(e=this.getNode(e))?this.dataSource.getByInternalId(e.getAttribute("data-recordId")):void 0},indexOf:function(e){return(e=this.getNode(e))||0===e?this.all.indexOf(e):-1},indexInStore:function(e){return e?this.dataSource.indexOf(this.getRecord(e)):-1},indexOfRow:function(e){var t=this.dataSource;return e.isCollapsedPlaceholder?t.indexOfPlaceholder(e):t.indexOf(e)},renderRows:function(e,t,n,i){var r,o=this,a=o.rowValues,s=e.length;for(a.view=o,a.columns=t,a.rowRole=o.rowAriaRole,o.cellValues.cellRole=o.cellAriaRole,r=0;r<s;r++,n++)a.itemClasses.length=a.rowClasses.length=0,o.renderRow(e[r],n,i);a.view=a.columns=a.record=null},renderColumnSizer:function(e,t){var n,i,r,o=e.columns||this.getGridColumns(),a=o.length;for(t.push('<colgroup role="presentation">'),n=0;n<a;n++)r=(i=o[n]).cellWidth?i.cellWidth:Ext.grid.header.Container.prototype.defaultWidth,t.push('<col role="presentation" class="',Ext.baseCSSPrefix,"grid-cell-",o[n].getItemId(),'" style="width:'+r+'px">');t.push("</colgroup>")},renderRow:function(e,t,n){var i,r=this,o=-1===t,a=r.selectionModel,s=r.rowValues,l=s.itemClasses,d=s.rowClasses,c=r.itemCls,u=r.rowTpl;if(s.rowAttr={},s.record=e,s.recordId=e.internalId,s.recordIndex=r.store.indexOf(e),s.rowIndex=t,s.rowId=r.getRowId(e),s.itemCls=s.rowCls="",s.columns||(s.columns=r.ownerCt.getVisibleColumnManager().getColumns()),l.length=d.length=0,o||(l[0]=c,!r.ownerCt.disableSelection&&a.isRowSelected&&a.isRowSelected(e)&&l.push(r.selectedItemCls),r.stripeRows&&t%2!=0&&l.push(r.altRowCls),r.getRowClass&&(i=r.getRowClass(e,t,null,r.dataSource))&&d.push(i)),!n)return u.apply(s,r.tableValues);u.applyOut(s,n,r.tableValues)},renderCell:function(e,t,n,i,r,o){var a,s,l,d=this,c=d.selectionModel,u=d.cellValues,h=u.classes,f=t.data[e.dataIndex],g=d.cellTpl,p=e.enableTextSelection,m=d.navigationModel.getPosition();null==p&&(p=d.enableTextSelection),u.record=t,u.column=e,u.recordIndex=n,u.rowIndex=i,u.columnIndex=u.cellIndex=r,u.align=e.textAlign,u.innerCls=e.innerCls,u.tdCls=u.tdStyle=u.tdAttr=u.style="",u.unselectableAttr=p?"":'unselectable="on"',h[1]=e.getCellId(),l=2,e.renderer&&e.renderer.call?(a=d.ownerCt.columnManager.getHeaderIndex(e),s=e.renderer.call(e.usingDefaultRenderer?e:e.scope||d.ownerCt,f,u,t,n,a,d.dataSource,d),u.css&&(t.cssWarning=!0,u.tdCls+=" "+u.css,u.css=null),u.tdCls&&(h[l++]=u.tdCls)):s=f,u.value=null==s||0===s.length?e.emptyCellText:s,e.tdCls&&(h[l++]=e.tdCls),d.markDirty&&t.dirty&&t.isModified(e.dataIndex)&&(h[l++]=d.dirtyCls,e.dirtyTextElementId&&(u.tdAttr=(u.tdAttr?u.tdAttr+" ":"")+'aria-describedby="'+e.dirtyTextElementId+'"')),e.isFirstVisible&&(h[l++]=d.firstCls),e.isLastVisible&&(h[l++]=d.lastCls),p||(h[l++]=d.unselectableCls),c&&(c.isCellModel||c.isSpreadsheetModel)&&c.isCellSelected(d,n,e)&&(h[l++]=d.selectedCellCls),m&&m.record.id===t.id&&m.column===e&&(h[l++]=d.focusedItemCls),h.length=l,u.tdCls=h.join(" "),g.applyOut(u,o),u.column=u.record=null},getRow:function(e){var t;return!e&&0!==e||!this.rendered?null:(e.target&&(e=e.target),Ext.isString(e)?Ext.fly(e).down(this.rowSelector,!0):Ext.isNumber(e)?(t=this.all.item(e))&&t.down(this.rowSelector,!0):e.isModel?this.getRowByRecord(e):(t=Ext.fly(e)).is(this.itemSelector)?this.getRowFromItem(t):t.findParent(this.rowSelector,this.getTargetEl()))},getRowId:function(e){return this.id+"-record-"+e.internalId},constructRowId:function(e){return this.id+"-record-"+e},getNodeById:function(e){return e=this.constructRowId(e),this.retrieveNode(e,!1)},getRowById:function(e){return e=this.constructRowId(e),this.retrieveNode(e,!0)},getNodeByRecord:function(e){return this.retrieveNode(this.getRowId(e),!1)},getRowByRecord:function(e){return this.retrieveNode(this.getRowId(e),!0)},getRowFromItem:function(e){var t,n=Ext.getDom(e).tBodies[0].childNodes,i=n.length;for(t=0;t<i;t++)if(Ext.fly(n[t]).is(this.rowSelector))return n[t]},retrieveNode:function(e,t){var n=this.el.getById(e,!0);return t&&n?Ext.fly(n).down(this.rowSelector,!0):n},updateIndexes:Ext.emptyFn,bodySelector:"div."+Ext.baseCSSPrefix+"grid-item-container",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-item-container",itemSelector:"table."+Ext.baseCSSPrefix+"grid-item",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(e){var t=this.sizerSelector+"-"+e.getItemId();return"td"+t+",col"+t},getItemSelector:function(){return this.itemSelector},getCellSelector:function(e){return e?e.getCellSelector():this.cellSelector},getCellInnerSelector:function(e){return this.getCellSelector(e)+" "+this.innerSelector},addRowCls:function(e,t){var n=this.getRow(e);n&&Ext.fly(n).addCls(t)},removeRowCls:function(e,t){var n=this.getRow(e);n&&Ext.fly(n).removeCls(t)},onRowSelect:function(e){var t;this.addItemCls(e,this.selectedItemCls),(t=this.getRow(e))&&t.setAttribute("aria-selected",!0),Ext.isIE8&&this.repaintBorder(e+1)},onRowDeselect:function(e){var t;this.removeItemCls(e,this.selectedItemCls),(t=this.getRow(e))&&t.removeAttribute("aria-selected"),Ext.isIE8&&this.repaintBorder(e+1)},onCellSelect:function(e){var t=this.getCellByPosition(e);t&&(t.addCls(this.selectedCellCls),t.dom.setAttribute("aria-selected",!0))},onCellDeselect:function(e){var t=this.getCellByPosition(e,!0);t&&(Ext.fly(t).removeCls(this.selectedCellCls),t.removeAttribute("aria-selected"))},getCellInclusive:function(e,t){if(e){var n=this.getRow(e.row),i=this.ownerCt.getColumnManager().getHeaderAtIndex(e.column);if(i&&n)return Ext.fly(n).down(this.getCellSelector(i),t)}return!1},getColumnByPosition:function(e){var t,n;return!!e&&((n=e.column)&&!n.destroyed&&n.isColumn?n:(t=e.view||this,n="number"==typeof n?n:e.colIdx,t.getVisibleColumnManager().getHeaderAtIndex(n)))},getCellByPosition:function(e,t){if(e){var n,i=e.view||this,r=i.getRow(e.record||e.row);if((n=i.getColumnByPosition(e))&&r)return Ext.fly(r).down(i.getCellSelector(n),t)}return!1},onFocusEnter:function(e){var t,n,i,r=this,o=e.fromComponent,a=r.getNavigationModel();if(r.containsFocus)return Ext.Component.prototype.onFocusEnter.call(r,e);if(r.actionableMode){if(r.actionPosition)return r.el.dom.setAttribute("tabIndex","-1"),void(r.cellFocused=!0);r.ownerGrid.setActionableMode(!1)}if(e=e.event,!r.cellFocused&&r.all.getCount()&&r.dataSource.getCount())if((i=e.getTarget())===r.el.dom){if("scrollbar"===r.lastFocused)return void e.relatedTarget.focus();if(!(t=r.getDefaultFocusPosition(o)))return e.stopEvent(),void r.el.focus();i=null}else i===r.tabGuardEl?(t=new Ext.grid.CellContext(r).setPosition(r.all.endIndex,r.getVisibleColumnManager().getColumns().length-1),i=null):(n=e.getTarget(r.getCellSelector()))&&(i===n?(t=new Ext.grid.CellContext(r).setPosition(r.getRecord(i),r.getHeaderByCell(n)),i=null):i&&Ext.fly(i).isFocusable()&&r.el.contains(i)&&(t=new Ext.grid.CellContext(r).setPosition(r.getRecord(i),r.getHeaderByCell(n))));t&&(r.toggleChildrenTabbability(!1),i&&r.ownerGrid.setActionableMode(!0,t)&&(t=null,Ext.fly(i).focus()),t&&a.setPosition(t,null,e,null,!0),r.cellFocused=r.el.contains(Ext.Element.getActiveElement()),r.cellFocused&&r.el.dom.setAttribute("tabIndex","-1")),Ext.Component.prototype.onFocusEnter.call(r,e)},onFocusLeave:function(e){var t=this,n=!t.lockingPartner||!e.toComponent||e.toComponent!==t.lockingPartner&&!t.lockingPartner.isAncestor(e.toComponent);t.refreshing||(t.cellFocused&&(n&&t.getNavigationModel().setPosition(null,null,e.event,null,!0),t.cellFocused=!1,t.focusEl=t.el,t.focusEl.dom.setAttribute("tabIndex",0)),n?t.ownerGrid.actionableMode&&(t.lastFocused=t.actionPosition,t.ownerGrid.setActionableMode(!1)):t.actionPosition=null,Ext.Component.prototype.onFocusLeave.call(t,e))},onRowFocus:function(e,t,n){var i=this;t?(i.addItemCls(e,i.focusedItemCls),n||i.focusRow(e)):i.removeItemCls(e,i.focusedItemCls),Ext.isIE8&&i.repaintBorder(e+1)},focusRow:function(e,t){var n=this,i=n.getFocusTask();t?i.delay(Ext.isNumber(t)?t:10,n.focusRow,n,[e,!1]):(i.cancel(),n.isVisible(!0)&&n.getNavigationModel().setPosition(n.getRecord(e)))},focusNode:function(e,t){this.focusRow(e,t)},scrollRowIntoView:function(e,t){(e=this.getRow(e))&&this.scrollElIntoView(e,!1,t)},focusCell:function(e,t){var n=this,i=n.getFocusTask();t?i.delay(Ext.isNumber(t)?t:10,n.focusCell,n,[e,!1]):(i.cancel(),n.isVisible(!0)&&n.getCellByPosition(e)&&n.getNavigationModel().setPosition(e))},findFocusPosition:function(e,t,n,i){var r,o,a,s,l=t.cellElement,d=this.ownerGrid.actionables,c=d.length;for(r=t.clone(),a=(o=Ext.fly(l).findTabbableElements())[Ext.Array.indexOf(o,e)+(n?1:-1)];!a&&(l=l[n?"nextSibling":"previousSibling"]);){for(r.setColumn(this.getHeaderByCell(l)),s=0;s<c;s++)d[s].activateCell(r);(l=r.getCell(!0))&&(o=Ext.fly(l).findTabbableElements()).length&&(a=o[n?0:o.length-1])}return{target:a,position:r}},getDefaultFocusPosition:function(e){var t,n,i=this,r=i.dataSource,o=i.lastFocused,a=new Ext.grid.CellContext(i.isNormalView&&i.lockingPartner.grid.isVisible()&&!i.lockingPartner.grid.collapsed?i.lockingPartner:i).setPosition(0,0);return e&&(e.isColumn&&!1!==e.cellFocusable&&e.getView()===i?(o||(o=a),o.setColumn(e)):e.isTableView&&(o=new Ext.grid.CellContext(i).setPosition(e.lastFocused.record,0))),o?(n=i.getScrollable(),(!r.contains(o.record)||n&&!n.isInView(o.getRow()).y)&&o.setRow(r.getAt(Math.min(o.rowIdx,r.getCount()-1)))):(o=a,(t=i.ownerGrid.view.el.down(i.getCellSelector()+'[tabIndex="-1"]'))?o.setPosition(i.getRecord(t),i.getHeaderByCell(t)):o=null),o},getLastFocused:function(){var e=this.lastFocused;if(e&&e.record&&e.column&&-1!==this.dataSource.indexOf(e.record)&&-1!==this.getVisibleColumnManager().indexOf(e.column)&&this.getNode(e.record))return e},scrollCellIntoView:function(e,t){e.isCellContext&&(e=this.getCellByPosition(e)),e&&this.scrollElIntoView(e,null,t)},scrollElIntoView:function(e,t,n){var i=this.getScrollable();i&&i.scrollIntoView(e,t,n)},syncRowHeightBegin:function(){var e,t,n,i=this.all,r=i.count,o=[],a=Ext.grid.locking.RowSynchronizer;for(e=0,t=i.startIndex;e<r;e++,t++)o[e]=n=new a(this,i.elements[t]),n.reset();return o},syncRowHeightClear:function(e){var t,n=this.all.count;for(t=0;t<n;t++)e[t].reset()},syncRowHeightMeasure:function(e){var t,n=e.length;for(t=0;t<n;t++)e[t].measure()},syncRowHeightFinish:function(e,t){var n,i=e.length,r=this.bufferedRenderer;for(n=0;n<i;n++)e[n].finish(t[n]);r&&r.syncRowHeightsFinish()},refreshNode:function(e){Ext.isNumber(e)&&(e=this.store.getAt(e)),this.handleUpdate(this.dataSource,e,null,null,null,!0)},handleUpdate:function(e,t,n,i,r,o){n=n||Ext.data.Model.EDIT;var a,s,l,d,c,u,h,f,g,p,m,x,E,v,y,b,C,S,w,T=this,P=T.store.indexOf(t),k=T.rowTpl,I=T.markDirty,M=T.dirtyCls,R=n!==Ext.data.Model.EDIT,A=[],D=T.variableRowHeight,F=0,L=T.ownerCt,O=T.cellFly||(T.self.prototype.cellFly=new Ext.dom.Fly);if(T.viewReady){if(T.updatingRows=!0,a=T.getNodeByRecord(t)){if(t.isCollapsedPlaceholder)return void Ext.fly(a).syncContent(T.createRowElement(t,T.indexOfRow(t)));if(f=T.overItemCls,g=T.ownerCt.getVisibleColumnManager().getColumns(),o)A=g,F=1;else for(x=0,m=g.length;x<m;x++)(p=g[x]).preventUpdate?(v=Ext.fly(a).down(p.getCellSelector(),!0))&&!R&&I&&(O.attach(v),t.isModified(p.dataIndex)?(O.addCls(M),p.dirtyTextElementId&&v.setAttribute("aria-describedby",p.dirtyTextElementId)):(O.removeCls(M),v.removeAttribute("aria-describedby"))):(E=T.shouldUpdateCell(t,p,i))&&(F|=E,A[A.length]=p,D=D||p.variableRowHeight);if(T.fireEvent("beforeitemupdate",t,P,a,A),T.getRowClass||!T.getRowFromItem(a)||1&F||a.tBodies[0].childNodes.length>1){if(S=a._extData,l=T.createRowElement(t,T.indexOfRow(t),A),Ext.fly(a,"_internal").hasCls(f)&&Ext.fly(l).addCls(f),Ext.isIE9m&&a.mergeAttributes)a.mergeAttributes(l,!0);else for(c=(d=l.attributes).length,h=0;h<c;h++)"id"!==(u=d[h].name)&&a.setAttribute(u,d[h].value);for(S&&(S.isSynchronized=!1),g.length&&(s=T.getRow(a))&&T.updateColumns(s,Ext.fly(l).down(T.rowSelector,!0),A);k&&(!k.syncContent||!1!==k.syncContent(a,l,i?A:null));)k=k.nextTpl}else for(x=0,m=A.length;x<m;x++)y=(p=A[x]).dataIndex,b=t.get(y),v=Ext.fly(a).down(p.getCellSelector(),!0),O.attach(v),!R&&I&&(t.isModified(p.dataIndex)?(O.addCls(M),p.dirtyTextElementId&&v.setAttribute("aria-describedby",p.dirtyTextElementId)):(O.removeCls(M),v.removeAttribute("aria-describedby"))),C=p.usingDefaultRenderer?p:p.scope,p.updater?Ext.callback(p.updater,C,[v,b,t,T,T.dataSource],0,p,L):(p.renderer&&(b=Ext.callback(p.renderer,C,[b,null,t,0,0,T.dataSource,T],0,p,L)),b=(w=null==b||0===b.length)?p.emptyCellText:b,p.producesHTML||w?O.down(T.innerSelector,!0).innerHTML=b:O.down(T.innerSelector,!0).childNodes[0].data=b),T.highlightClass&&(Ext.fly(v).addCls(T.highlightClass),T.changedCells||(T.self.prototype.changedCells=[],T.prototype.clearChangedTask=new Ext.util.DelayedTask(T.clearChangedCells,T.prototype),T.clearChangedTask.delay(T.unhighlightDelay)),T.changedCells.push({cell:v,cls:T.highlightClass,expires:Ext.Date.now()+1e3}));R&&I&&!t.dirty&&Ext.fly(a,"_internal").select("."+M).removeCls(M).set({"aria-describedby":void 0}),D&&Ext.suspendLayouts(),T.fireEvent("itemupdate",t,P,a,T),D&&(T.ownerGrid.updateLayout(),Ext.resumeLayouts(!0))}T.updatingRows=!1}},clearChangedCells:function(){for(var e,t=this,n=Ext.Date.now(),i=t.changedCells.length;0<i&&(e=t.changedCells[0]).expires<=n;)Ext.fly(e.cell).removeCls(e.highlightClass),Ext.Array.erase(t.changedCells,0,1),i--;i&&t.clearChangedTask.delay(t.unhighlightDelay)},updateColumns:function(e,t,n){var i,r,o,a,s,l,d,c,u,h=n.length,f=this.getCellSelector();if(e.mergeAttributes)e.mergeAttributes(t,!0);else for(r=(i=t.attributes).length,a=0;a<r;a++)"id"!==(o=i[a].name)&&e.setAttribute(o,i[a].value);for((u=e._extData)&&(u.isSynchronized=!1),e=Ext.get(e),t=Ext.get(t),s=0;s<h;s++){for(l=n[s],f=this.getCellSelector(l),d=e.selectNode(f),r=(i=(c=t.selectNode(f)).attributes).length,a=0;a<r;a++)"id"!==(o=i[a].name)&&d.setAttribute(o,i[a].value);(u=d._extData)&&(u.isSynchronized=!1),d=Ext.fly(d).selectNode(this.innerSelector),c=Ext.fly(c).selectNode(this.innerSelector),Ext.fly(d).syncContent(c)}},shouldUpdateCell:function(e,t,n){return t.shouldUpdateCell(e,n)},refresh:function(){var e=this;e.destroying||(e.getVisibleColumnManager().getColumns().length?(e.callParent(arguments),e.headerCt.setSortState()):e.refreshCounter&&e.clearViewEl(!0))},processContainerEvent:function(e){var t=Ext.Component.fromElement(e.target.parentNode);if(t&&t.up(this.ownerCt))return!1},processItemEvent:function(e,t,n,i){var r,o,a,s,l,d,c,u=this,h=u.self,f=h.EventMap,g=i.type,p=u.features,m=p.length,x=i.position=u.eventPosition||(u.eventPosition=new Ext.grid.CellContext);if(Ext.isIE&&"mouseup"===g&&!i.within(u.el))return!1;if(-1!==u.indexInStore(t)){if(d=x.rowElement=Ext.fly(t).down(u.rowSelector,!0),c=i.getTarget(u.getCellSelector(),d),g=h.TouchEventMap[g]||g,c){if(!c.parentNode)return!1;(l=u.getHeaderByCell(c))?o=u.ownerCt.getColumnManager().getHeaderIndex(l):(l=c=null,o=-1)}else o=-1;if(x.setAll(u,n,l?u.getVisibleColumnManager().getHeaderIndex(l):-1,e,l),x.cellElement=c,!1===(a=u.fireEvent("uievent",g,u,c,n,o,i,e,d))||!1===u.callParent(arguments))return!1;for(r=0;r<m;++r)if((s=p[r]).wrapsItem&&!1===s.vetoEvent(e,d,n,i))return u.processSpecialEvent(i),!1;return c&&"mouseover"!==g&&"mouseout"!==g&&(a=!(!1===u["onBeforeCell"+f[g]](c,o,e,d,n,i)||!1===u.fireEvent("beforecell"+g,u,c,o,e,d,n,i)||!1===u["onCell"+f[g]](c,o,e,d,n,i)||!1===u.fireEvent("cell"+g,u,c,o,e,d,n,i))),!1!==a&&(a=u.fireEvent("row"+g,u,e,d,n,i)),a}return u.processSpecialEvent(i),"mouse"===i.pointerType&&i.preventDefault(),!1},processSpecialEvent:function(e){var t,n,i,r,o,a,s=this,l=s.features,d=l.length,c=e.type,u=s.ownerCt;if(s.callParent(arguments),"mouseover"!==c&&"mouseout"!==c){for(c=s.self.TouchEventMap[c]||c,t=0;t<d;t++)if((n=l[t]).hasFeatureEvent&&(r=e.getTarget(n.eventSelector,s.getTargetEl()))&&(i=n.eventPrefix,o=n.getFireEventArgs("before"+i+c,s,r,e),a=n.getFireEventArgs(i+c,s,r,e),!1===s.fireEvent.apply(s,o)||!1===u.fireEvent.apply(u,o)||!1===s.fireEvent.apply(s,a)||!1===u.fireEvent.apply(u,a)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(e){this.autoSizeColumn(e)},autoSizeColumn:function(e){if(Ext.isNumber(e)&&(e=this.getGridColumns()[e]),e){if(e.isGroupHeader)return void e.autoSize();delete e.flex,e.setWidth(this.getMaxContentWidth(e))}},getMaxContentWidth:function(e){var t,n=this,i=n.el.query(e.getCellInnerSelector()),r=e.getWidth(),o=0,a=i.length,s=n.body.select(n.getColumnSizerSelector(e)),l=Math.max,d=0;for(a>0&&(Ext.supports.ScrollWidthInlinePaddingBug&&(d+=n.getCellPaddingAfter(i[0])),n.columnLines&&(d+=Ext.fly(i[0].parentNode).getBorderWidth("lr"))),s.setWidth(1),e.textEl.setStyle({"text-overflow":"clip",display:"table-cell"}),t=e.textEl.dom.offsetWidth+e.titleEl.getPadding("lr"),e.textEl.setStyle({"text-overflow":"",display:""});o<a;o++)t=l(t,i[o].scrollWidth);return t=l((t+=d)+1,40),s.setWidth(r),t},getPositionByEvent:function(e){var t=this,n=e.getTarget(t.cellSelector),i=e.getTarget(t.itemSelector),r=t.getRecord(i),o=t.getHeaderByCell(n);return t.getPosition(r,o)},getHeaderByCell:function(e){return!!e&&this.ownerGrid.getVisibleColumnManager().getHeaderById(Ext.getDom(e).getAttribute("data-columnId"))},walkCells:function(e,t,n,i){var r=this,o=e.clone(),a=r.lockingPartner&&r.lockingPartner.grid.isVisible()?r.lockingPartner:null,s=e.rowIdx,l=r.dataSource.getCount()-1,d=r.ownerCt.getVisibleColumnManager().getColumns();switch(t.toLowerCase()){case"right":if(e.isLastColumn()){if((s=a&&r.isLockedView?s:s+1)>l)return!1;a&&(o.view=a),o.setPosition(s,0)}else o.navigate(1);break;case"left":if(e.isFirstColumn()){if((s=a&&r.isNormalView?s:s-1)<0)return!1;a&&(o.view=a,d=a.getVisibleColumnManager().getColumns()),o.setPosition(s,d[d.length-1])}else o.navigate(-1);break;case"up":if(0===s)return!1;o.setRow(s-1);break;case"down":if(s===l)return!1;o.setRow(s+1)}return(!n||!0===n.call(i||r,o))&&o},walkRows:function(e,t){var n,i=this.dataSource,r=0,o=e,a=t<0?0:i.getCount()-1,s=a?1:-1,l=e;do{if(a?l>=a:l<=a)return o||a;l+=s,(n=Ext.fly(this.getRow(l)))&&n.isVisible(!0)&&(r+=s,o=l)}while(r!==t);return l},walkRecs:function(e,t){var n,i,r=this.dataSource,o=0,a=e,s=t<0?0:(r.isBufferedStore?r.getTotalCount():r.getCount())-1,l=s?1:-1,d=r.indexOf(e);do{if(s?d>=s:d<=s)return a;d+=l,!(i=r.getAt(d)).isCollapsedPlaceholder&&(n=Ext.fly(this.getNodeByRecord(i)))&&n.isVisible(!0)&&(o+=l,a=i)}while(o!==t);return a},getFirstVisibleRowIndex:function(){var e=this,t=e.dataSource.isBufferedStore?e.dataSource.getTotalCount():e.dataSource.getCount(),n=e.indexOf(e.all.first())-1;do{if((n+=1)===t)return}while(!Ext.fly(e.getRow(n)).isVisible(!0));return n},getLastVisibleRowIndex:function(){var e=this.indexOf(this.all.last());do{if(-1===(e-=1))return}while(!Ext.fly(this.getRow(e)).isVisible(!0));return e},getHeaderCt:function(){return this.headerCt},getPosition:function(e,t){return new Ext.grid.CellContext(this).setPosition(e,t)},doDestroy:function(){var e,t,n,i=this,r=i.featuresMC;if(i.bindStore(null),r)for(t=0,n=r.getCount();t<n;++t)(e=r.getAt(t))&&!e.destroyed&&e.destroy();i.all.destroy(),i.body.destroy(),i.callParent()},onReplace:function(e,t,n,i){var r,o=this,a=o.bufferedRenderer;o.rendered&&a?(r=o.saveFocusState(),a.onReplace(e,t,n,i),r()):o.callParent(arguments),o.setPendingStripe(t)},onResize:function(e,t,n,i){var r=this.bufferedRenderer;r&&r.onViewResize(this,e,t,n,i),this.callParent([e,t,n,i])},onAdd:function(e,t,n){var i=this,r=i.bufferedRenderer;i.addingRows=!0,i.rendered&&r&&(r.bodyTop||i.dataSource.getCount()+t.length>=r.viewSize)?r.onReplace(e,n,[],t):i.callParent(arguments),i.setPendingStripe(n),i.addingRows=!1},onRemove:function(e,t,n){var i,r=this,o=r.bufferedRenderer;r.rendered&&o&&r.dataSource.getCount()+t.length>=o.viewSize?(i=r.saveFocusState(),o.onReplace(e,n,t,[]),i()):r.callParent(arguments),r.actionPosition&&-1!==Ext.Array.indexOf(t,r.actionPosition.record)&&(r.actionPosition=null),r.setPendingStripe(n)},saveFocusState:function(){var e,t,n=this,i=n.dataSource,r=n.actionableMode,o=n.getNavigationModel(),a=r?n.actionPosition:o.getPosition(!0),s=Ext.Element.getActiveElement(!0),l=a&&a.view===n&&a.getCell();return l&&l.contains(s)?(a=a.clone(),s.suspendFocusEvents(),r&&l!==s?n.suspendActionableMode():(r=!1,o.setPosition()),s.resumeFocusEvents(),function(){(i=n.dataSource).getCount()?(e=Math.min(a.rowIdx,n.all.getCount()-1),t=Math.min(a.colIdx,n.getVisibleColumnManager().getColumns().length-1),a=new Ext.grid.CellContext(n).setPosition(i.contains(a.record)?a.record:e,t),r?n.resumeActionableMode(a):o.setPosition(a,null,null,null,!0)):a.column.focus()}):Ext.emptyFn},onDataRefresh:function(e){var t=this.ownerCt;t&&2===t.isCollapsingOrExpanding?t.on("expand",this.onDataRefresh,this,{single:!0}):this.callParent([e])},getViewRange:function(){return this.bufferedRenderer?this.bufferedRenderer.getViewRange():this.callParent()},setPendingStripe:function(e){var t=this.stripeOnUpdate;t=null===t?e:Math.min(t,e),this.stripeOnUpdate=t},onEndUpdate:function(){var e=this,t=e.stripeOnUpdate,n=e.all.startIndex;e.rendered&&(t||0===t)&&(t<n&&(t=n),e.doStripeRows(t),e.stripeOnUpdate=null),e.callParent(arguments)},doStripeRows:function(e,t){var n,i,r,o,a=this;if(a.rendered&&a.stripeRows)for(r=0,i=(n=a.getNodes(e,t)).length;r<i;r++)(o=n[r]).className=o.className.replace(a.rowClsRe," "),++e%2==0&&(o.className+=" "+a.altRowCls)},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(e){return Ext.fly(e).getPadding("r")},privates:{collectNodes:function(e){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(e,t){var n,i,r,o,a,s,l=this,d=l.getNavigationModel(),c=l.grid.actionables,u=c.length,h=!1;if(l.actionableMode===e&&(!e||t.isEqual(l.actionPosition)))return!1;if(e)return t&&(t.view===l||t.view===(a=l.lockingPartner)&&a.actionableMode)&&(h=l.activateCell(t)),h;for(n=Ext.fly(Ext.Element.getActiveElement()),l.el.contains(n)&&!Ext.fly(n).is(l.getCellSelector())&&(r=l.actionPosition&&l.actionPosition.record||l.getRecord(n),o=l.getHeaderByCell(n.findParent(l.getCellSelector())),s=t&&t.getCell(),t&&s||(s=(t=new Ext.grid.CellContext(l).setPosition(r||0,o||0)).getCell()),s.focus(),n=Ext.fly(Ext.Element.getActiveElement()),l.el.contains(n)&&n.is(l.getCellSelector())||(t=null)),i=0;i<u;i++)c[i].deactivate&&c[i].deactivate();if(l.actionRow&&l.actionRow.saveTabbableState({skipSelf:!0,includeSaved:!1}),l.destroyed)return!1;l.actionableMode=l.ownerGrid.actionableMode=!1,l.actionPosition=d.actionPosition=l.actionRow=null,t&&d.setPosition(t)},activateCell:function(e){var t,n,i,r,o,a,s,l=this,d=e.view!==l?l.lockingPartner:null,c=l.grid.actionables,u=c.length,h=l.getNavigationModel();if(t=(e=e.clone()).record,e.view.grid.ensureVisible(t,{column:e.column}),i=l.all.item(e.rowIdx),l.actionPosition&&(n=Ext.get(l.all.item(l.actionPosition.rowIdx,!0)))&&i!==n&&n.saveTabbableState({skipSelf:!0,includeSaved:!1}),l.activating=!0,!d)for(r=e.getCell(),l.actionPosition=e,o=0;o<u;o++)a=a||c[o].activateCell(e,null,!0);if(d||r&&r.restoreTabbableState(!0).length|(s=r.findTabbableElements()).length||a){for(o=0;o<u;o++)c[o].activateRow&&c[o].activateRow(i);if(d||s.length){if(i.restoreTabbableState(!0),d)return l.actionableMode=!0,l.actionPosition=null,l.activating=!1,!0;if(s)return l.actionRow=i,l.actionableMode=l.ownerGrid.actionableMode=!0,h.setPosition(),h.actionPosition=l.actionPosition=e,Ext.fly(s[0]).focus(),l.activating=!1,!0}}l.activating=!1},suspendActionableMode:function(){var e,t=this.grid.actionables,n=t.length;for(e=0;e<n;e++)t[e].suspend()},resumeActionableMode:function(e){var t,n,i=this.grid.actionables,r=i.length;for(this.toggleChildrenTabbability(!1),t=0;t<r;t++)n=n||i[t].resume(e);n||this.activateCell(e)},onRowExit:function(e,t,n,i,r){var o,a=this,s=i?"nextSibling":"previousSibling",l=a.lockingPartner;if(l&&l.grid.isVisible()&&(o=a.all.indexOf(t),i?(0,a.isNormalView&&o++):(l.getVisibleColumnManager().getColumns().length-1,a.isLockedView&&o--),a.actionPosition=null,n=(a=l).all.item(o,!0)),a.hasListeners.beforerowexit&&!1===a.fireEvent("beforerowexit",a,e,t,n,i))return!1;a.findFirstActionableElement(e,n,s,i,r)},findFirstActionableElement:function(e,t,n,i,r){var o,a,s,l,d,c,u,h,f=this,g=f.getVisibleColumnManager().getColumns(),p=g.length,m=f.grid.actionables,x=m.length,E=new Ext.grid.CellContext(f);if(t){for(E.setRow(t),s=0;s<x;s++)m[s].activateRow&&m[s].activateRow(t);for(s=i?0:p-1;(i?s<p:s>-1)&&!a;s+=i?1:-1){for(d=g[s],E.setColumn(d),o=Ext.fly(t).down(E.column.getCellSelector()),l=0;l<x;l++)c=c||m[l].activateCell(E);(o=E.getCell())&&(t=E.getNode(!0),o.restoreTabbableState(!0),((u=o.findTabbableElements()).length||c)&&(h=f.actionRow,f.actionRow=Ext.get(t),f.actionRow.restoreTabbableState(!0),a=u[i?0:u.length-1]))}a?(f.actionPosition=f.getNavigationModel().actionPosition=E,Ext.fly(a).focus(Ext.asyncFocus?1:0),h&&t!==h.dom&&h.saveTabbableState({skipSelf:!0,includeSaved:!1})):f.onRowExit(e,t,f.all.item(E.rowIdx+(i?1:-1)),i,r)}else r?f.ownerGrid.setActionableMode(!1):f.grid.ensureVisible(i?0:f.dataSource.getCount()-1,{callback:function(t,r,o){t?f.findFirstActionableElement(e,o,n,i,!0):f.ownerGrid.setActionableMode(!1)}})},stretchHeight:function(e){var t,n=this,i=n.getScrollable(),r=n.stretchers;e&&n.tabGuardEl&&(r&&(r[0].style.marginTop=r[1].style.marginTop=n.el.dom.style.height=0),n.el.dom.style.height=i.constrainScrollRange(e)+"px",(t=e-n.el.dom.offsetHeight)>0&&(n.el.dom.style.height="",r=n.getStretchers(),(t=e-n.el.dom.offsetHeight)>0&&(r[0].style.marginTop=i.constrainScrollRange(t)+"px",(t=e-n.el.dom.offsetHeight)>0&&(r[1].style.marginTop=Math.min(t,i.maxSpacerMargin||0)+"px"))))},getStretchers:function(){var e,t=this.stretchers;return t?this.el.appendChild(t):(e={cls:"x-scroller-spacer",style:"position:relative"},t=this.stretchers=this.el.appendChild([e,e],!0)),t}}}),Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.view.Table"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"tableview",ariaRole:"grid",lockable:!1,rowLines:!0}),Ext.define("Ext.grid.RowContext",{constructor:function(e){Ext.apply(this,e),this.widgets={}},setRecord:function(e,t){var n=this.viewModel;this.record=e,this.recordIndex=t,n&&(n.set("record",e),n.set("recordIndex",t))},free:function(){var e,t,n,i=this.widgets,r=this.viewModel;for(e in this.record=null,r&&(r.set("record"),r.set("recordIndex")),i)(n=(t=i[e]).getFocusEl())&&(n.isTabbable(!0)&&n.saveTabbableState({includeHidden:!0}),n.blur()),t.detachFromBody(),t.hidden=!0},getWidget:function(e,t){var n,i=this,r=i.widgets||(i.widgets={});return t.bind&&!i.viewModel&&(i.viewModel=Ext.Factory.viewModel({parent:i.ownerGrid.lookupViewModel(),data:{record:i.record,recordIndex:i.recordIndex}},i.ownerGrid.rowViewModel)),(n=r[e])?n.hidden=!1:(n=r[e]=Ext.widget(Ext.apply({viewModel:i.viewModel,_rowContext:i},t))).isWidget&&n.initBindable(),n},getWidgets:function(){var e,t=this.widgets,n=[];for(e in t)n.push(t[e]);return n},destroy:function(){var e,t,n=this.widgets;for(e in n)(t=n[e])._rowContext=null,t.destroy();Ext.destroy(this.viewModel),this.callParent()}}),Ext.define("Ext.grid.RowEditorButtons",{extend:"Ext.container.Container",alias:"widget.roweditorbuttons",frame:!0,shrinkWrap:!0,position:"bottom",ariaRole:"toolbar",constructor:function(e){var t=this,n=e.rowEditor,i=Ext.baseCSSPrefix,r=n.editingPlugin;e=Ext.apply({baseCls:i+"grid-row-editor-buttons",defaults:{xtype:"button",ui:n.buttonUI,scope:r,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:i+"row-editor-update-button",itemId:"update",handler:r.completeEdit,text:n.saveBtnText,disabled:n.updateButtonDisabled,listeners:{element:"el",keydown:t.onUpdateKeyDown,scope:t}},{cls:i+"row-editor-cancel-button",itemId:"cancel",handler:r.cancelEdit,text:n.cancelBtnText,listeners:{element:"el",keydown:t.onCancelKeyDown,scope:t}}]},e),t.callParent([e]),t.addClsWithUI(t.position)},onUpdateKeyDown:function(e){e.shiftKey&&e.getKey()===e.TAB&&(e.stopEvent(),this.rowEditor.child(":focusable:not([isButton]):last").focus(!1,!0))},onCancelKeyDown:function(e){e.shiftKey||e.getKey()!==e.TAB||(e.stopEvent(),this.rowEditor.child(":focusable").focus(!1,!0))},setButtonPosition:function(e){var t=this,n=this.rowEditor,i=n.getHeight(),r=n.body,o="",a="";t.removeClsWithUI(t.position),t.position=e,t.addClsWithUI(e),"top"===e?o=i-r.getBorderWidth("t")+"px":a=i-r.getBorderWidth("b")+"px",t.el.setStyle({top:a,bottom:o})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var e=this.callParent();return e.top=!0,e}}}),Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",alias:"widget.roweditor",requires:["Ext.tip.ToolTip","Ext.util.KeyNav","Ext.grid.RowEditorButtons"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,tabGuard:!0,_wrapCls:Ext.baseCSSPrefix+"grid-row-editor-wrap",errorCls:Ext.baseCSSPrefix+"grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",_cachedNode:!1,initComponent:function(){var e,t,n,i=this,r=i.editingPlugin.grid,o=Ext.container.Container;i.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor",i.layout={type:"hbox",align:"middle"},i.lockable=r.lockable,i.lockable?(i.items=[n=i.lockedColumnContainer=new o({id:r.id+"-locked-editor-cells",scrollable:{x:!1,y:!1},layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),t=i.normalColumnContainer=new o({scrollable:{x:!1,y:!1},flex:1,id:r.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})],n.getScrollable().addPartner(r.lockedGrid.view.getScrollable(),"x"),t.getScrollable().addPartner(r.normalGrid.view.getScrollable(),"x"),r.lockedGrid.on({collapse:i.onGridResize,expand:i.onGridResize,beginfloat:i.onBeginFloat,scope:i})):(i.setScrollable({x:!1,y:!1}),i.getScrollable().addPartner(r.view.getScrollable(),"x"),i.lockedColumnContainer=i.normalColumnContainer=i),i.callParent(),i.fields&&(i.addFieldsForColumn(i.fields,!0),i.insertColumnEditor(i.fields),delete i.fields),i.mon(Ext.GlobalEvents,{scope:i,show:i.repositionIfVisible}),(e=i.getForm()).trackResetOnLoad=!0,e.on("validitychange",i.onValidityChange,i),e.on("errorchange",i.onErrorChange,i)},onGridResize:function(){if(this.rendered){var e=this,t=e.getClientWidth(),n=e.editingPlugin.grid,i=n.body,r=e.getFloatingButtons();e.wrapEl.setLocalX(i.getOffsetsTo(n)[0]+i.getBorderWidth("l")-n.el.getBorderWidth("l")),e.setWidth(t),r.setLocalX((t-r.getWidth())/2),e.lockable&&e.lockedColumnContainer.setWidth(n.normalGrid.el.getLeft(!0))}},onBeginFloat:function(e){if(e.isSliding&&this.isVisible())return!1},syncAllFieldWidths:function(){var e,t,n=this.query("[isEditorComponent]"),i=n.length;for(this.preventReposition=!0,t=0;t<i;++t)(e=n[t].column).isVisible()&&this.onColumnShow(e);this.preventReposition=!1},syncFieldWidth:function(e){var t,n=e.getEditor();n._marginWidth=n._marginWidth||n.el.getMargin("lr"),t=e.getWidth()-n._marginWidth,n.setWidth(t),"displayfield"===n.xtype&&(n.inputWidth=t)},onValidityChange:function(e,t){this.updateButton(t)},onErrorChange:function(){this.errorSummary&&this.isVisible()&&this[this.getForm().isValid()?"hideToolTip":"showToolTip"]()},updateButton:function(e){var t=this.floatingButtons;t?t.child("#update").setDisabled(!e):this.updateButtonDisabled=!e},afterRender:function(){var e=this,t=e.editingPlugin,n=t.grid;e.scroller=n.getScrollable(),e.callParent(arguments),e.scrollingView=n.lockable?n.normalGrid.view:n.view,e.scrollingViewEl=e.scrollingView.el,e.scroller.on("scroll",e.onViewScroll,e),e.mon(e.el,{click:Ext.emptyFn,stopPropagation:!0}),e.mon(n,"resize",e.onGridResize,e),e.lockable&&n.lockedGrid.view.on("resize","onGridResize",e),e.el.swallowEvent(["keypress","keydown"]),e.initKeyNav(),e.mon(t.view,{beforerefresh:e.onBeforeViewRefresh,refresh:e.onViewRefresh,itemremove:e.onViewItemRemove,scope:e}),e.syncAllFieldWidths(),e.floatingButtons&&e.body.dom.setAttribute("aria-owns",e.floatingButtons.id)},initKeyNav:function(){var e=this,t=e.editingPlugin;e.keyNav=new Ext.util.KeyNav(e.el,{tab:{fn:e.onFieldTab,scope:e},enter:t.onEnterKey,esc:t.onEscKey,scope:t})},onBeforeViewRefresh:function(e){var t=e.el.dom;this.el.dom.parentNode===t&&t.removeChild(this.el.dom)},onViewRefresh:function(e){var t,n=this,i=n.context;n.completing||(i&&(t=e.getRow(i.record))?(i.row=t,n.reposition(),n.tooltip&&n.tooltip.isVisible()&&n.tooltip.setTarget(i.row)):n.editingPlugin.cancelEdit())},onViewItemRemove:function(e,t,n,i){var r,o,a,s=this,l=s.context;!i.refreshing&&l&&(r=(a=s.editingPlugin).grid.getStore(),o=s.editingPlugin.view,r.getById(s.getRecord().getId())&&!s._cachedNode?a.editing&&(s._cachedNode=!0,s.mon(o,{itemadd:s.onViewItemAdd,scope:s})):s._cachedNode||(s.activeField=null,s.editingPlugin.cancelEdit()))},onViewItemAdd:function(e,t,n,i){var r,o,a,s=this,l=s.editingPlugin;s._cachedNode&&s.context&&(r=l.view,-1!==(o=Ext.Array.indexOf(e,s.context.record))&&(a=e[o],s.context.node=a,s.context.row=r.getRow(a),s.context.cell=r.getCellByPosition(s.context,!0),s.clearCache()))},onViewScroll:function(){var e,t=this,n=t.editingPlugin.view.el,i=t.scrollingView,r=t.scroller.getPosition().y,o=i.getScrollX(),a=r!==t.lastScrollTop;t.lastScrollTop=r,t.lastScrollLeft=o,t.isVisible()&&((e=Ext.getDom(t.context.row))&&n.contains(e)?(t.getLocalY()&&t.setLocalY(0),a&&(t.context.row=e,t.reposition(null,!0),t.tooltip&&t.tooltip.isVisible()&&t.repositionTip())):(t.setLocalY(-400),t.floatingButtons.hide()))},onColumnResize:function(e,t){var n=this;n.rendered&&!n.editingPlugin.reconfiguring&&(n.onGridResize(),n.onViewScroll(),n.lockable?(n.lockedColumnContainer.getScrollable().syncWithPartners(),n.normalColumnContainer.getScrollable().syncWithPartners()):n.getScrollable().syncWithPartners(),e.isGroupHeader||(n.syncFieldWidth(e),n.repositionIfVisible()))},onColumnHide:function(e){this.editingPlugin.reconfiguring||e.isGroupHeader||(e.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(e){var t=this;t.rendered&&!t.editingPlugin.reconfiguring&&!e.isGroupHeader&&e.getEditor&&(e.getEditor().show(),t.syncFieldWidth(e),t.preventReposition||t.repositionIfVisible())},onColumnMove:function(e,t,n){var i,r,o,a,s,l=e.isLocked()?this.lockedColumnContainer:this.normalColumnContainer;if(e.isGroupHeader){for(Ext.suspendLayouts(),s=(a=n>t)?1:0,r=0,o=(i=e.getGridColumns()).length;r<o;++r)n=(e=i[r]).getIndex(),a&&++s,this.setColumnEditor(e,n+s,l);Ext.resumeLayouts(!0)}else this.setColumnEditor(e,e.getIndex(),l)},setColumnEditor:function(e,t,n){this.addFieldsForColumn(e),n.insert(t,e.getEditor())},onColumnAdd:function(e){e.isGroupHeader&&(e=e.getGridColumns()),this.addFieldsForColumn(e),this.insertColumnEditor(e),this.preventReposition=!1},insertColumnEditor:function(e){var t,n,i,r=this;if(Ext.isArray(e))for(i=0,n=e.length;i<n;i++)r.insertColumnEditor(e[i]);else e.getEditor&&((e.isLocked()?r.lockedColumnContainer:r.normalColumnContainer).insert(e.getIndex(),t=e.getEditor()),t.on("focus",r.onFieldFocus,r),r.needsSyncFieldWidths=!0)},onFieldFocus:function(e){(Ext.isIE||Ext.isEdge)&&e.selectText&&e.selectText(e.inputEl.dom.value.length),this.activeField=e,this.context.setColumn(e.column),this.skipFocusScroll?this.skipFocusScroll=null:e.column.getView().getScrollable().scrollIntoView(e.el)},onFieldTab:function(e){var t,n=this,i=n.activeField,r=n.context.rowIdx,o=!e.shiftKey,a=i[o?"nextNode":"previousNode"](":focusable");e.stopEvent(),a&&a.isDescendant(n)?a.focus():n.isDirty()&&!n.autoUpdate?n.floatingButtons.child("#update").focus():(t=n.view.dataSource.getCount(),(r+=o?1:-1)<0?r=t-1:r>=t&&(r=0),o?(a=n.down(":focusable:not([isButton]):first"),i.column.getView().getScrollable().scrollIntoView(i.ownerCt.child(":focusable").el)):a=n.down(":focusable:not([isButton]):last"),n.tabGuardBeforeEl.focus(),n.editingPlugin.startEdit(r,a.column))},destroyColumnEditor:function(e){var t;e.hasEditor()&&(t=e.getEditor())&&t.destroy()},getFloatingButtons:function(){var e=this,t=e.floatingButtons;return t||e.destroying||e.destroyed||(e.floatingButtons=t=new Ext.grid.RowEditorButtons({ownerCmp:e,rowEditor:e})),t},repositionIfVisible:function(e){var t=this.view;(!e||e!==this&&e.el.isAncestor(t.el))&&this.isVisible()&&t.isVisible(!0)&&this.reposition()},isLayoutChild:function(e){return!1},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(e){var t,n,i=this;return i.lockable?((t=[i.lockedColumnContainer]).push.apply(t,i.lockedColumnContainer.getRefItems(e)),t.push(i.normalColumnContainer),t.push.apply(t,i.normalColumnContainer.getRefItems(e))):t=i.callParent(arguments),(n=i.getFloatingButtons())&&t.push.apply(t,n.getRefItems(e)),t},reposition:function(e,t){var n,i,r,o,a=this,s=a.context,l=s&&s.row,d=a.wrapEl;l&&Ext.isElement(l)&&(r=a.syncButtonPosition(s),n=a.calculateLocalRowTop(l),i=a.calculateEditorTop(n),o=function(){a.syncEditorClip(),a.wrapAnim=null,t||(r&&a.scroller.scrollBy(0,r,!0),a.focusColumnField(s.column))},e?a.wrapAnim=d.addAnimation(Ext.applyIf({to:{top:i},duration:e.duration||125,callback:o},e)):(d.setLocalY(i),o()))},getScrollDelta:function(){var e,t,n,i=this,r=i.scroller.getElement().dom,o=i.context,a=i.body,s=0;if(o)if((s=Ext.fly(o.row).getOffsetsTo(r)[1])<0)s-=a.getBorderPadding().beforeY;else if(s>0){if(e=r.clientHeight,t=r.scrollHeight,n=i.getHeight()+i.floatingButtons.getHeight(),e===t&&n>e)return 0;(s=Math.max(s+n-e-a.getBorderWidth("b"),0))>0&&(s-=a.getBorderPadding().afterY)}return s},calculateLocalRowTop:function(e){var t=this.editingPlugin.grid;return Ext.fly(e).getOffsetsTo(t)[1]-t.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(e){var t=e-this.lastScrollTop;return this._buttonsOnTop?t-=this.body.dom.offsetHeight-this.context.row.offsetHeight-this.body.getBorderPadding().afterY:t-=this.body.getBorderPadding().beforeY,t},getClientWidth:function(){var e=this.editingPlugin.grid;return this.lockable?(e.lockedGrid.collapsed&&e.lockedGrid.placeholder||e.lockedGrid).getRegion().union(e.scrollBody.el.getClientRegion()).width:e.view.el.dom.clientWidth},getEditor:function(e){return Ext.isNumber(e)?this.query("[isEditorComponent]")[e]:e.isHeader&&!e.isGroupHeader?e.getEditor():void 0},addFieldsForColumn:function(e,t){var n,i,r,o,a=this;if(Ext.isArray(e))for(n=0,i=e.length;n<i;n++)a.addFieldsForColumn(e[n],t);else e.getEditor&&(r=e.getEditor(null,a.getDefaultFieldCfg()),"right"===e.align&&((o=r.fieldStyle)?(o=Ext.isObject(o)?Ext.apply({},o):Ext.dom.Element.parseStyles(o)).textAlign||o["text-align"]||(o.textAlign="right"):o="text-align:right",r.fieldStyle=o),"actioncolumn"===e.xtype&&(r.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"),a.isVisible()&&a.context&&(r.is("displayfield")?a.renderColumnData(r,a.context.record,e):(r.suspendEvents(),r.setValue(a.context.record.get(e.dataIndex)),r.resumeEvents())),e.hidden?a.onColumnHide(e):e.rendered&&!t&&a.onColumnShow(e))},getDefaultFieldCfg:function(){return{xtype:"displayfield",skipLabelForAttribute:!0,getModelData:function(){return null}}},loadRecord:function(e){var t,n,i,r,o=this,a=o.getForm(),s=a.getFields().items,l=s.length;for(t=0;t<l;t++)(r=s[t]).suspendEvents(),r.resetToInitialValue();for(a.loadRecord(e),t=0;t<l;t++)s[t].resumeEvents();for(a.hasInvalidField()===a.wasValid&&delete a.wasValid,i=a.isValid(),o.errorSummary&&(i?o.hideToolTip():o.showToolTip()),o.updateButton(i),l=(n=o.query(">displayfield")).length,t=0;t<l;t++)o.renderColumnData(n[t],e)},renderColumnData:function(e,t,n){var i,r,o,a=this.editingPlugin.grid.headerCt,s=this.scrollingView,l=s.dataSource,d=n||e.column,c=t.get(d.dataIndex),u=d.editRenderer||d.renderer,h=d.usingDefaultRenderer&&!d.scope?d:d.scope;u&&(i={tdCls:"",style:""},r=l.indexOf(t),o=a.getHeaderIndex(d),c=u.call(h||a.ownerCt,c,i,t,r,o,l,s)),e.setRawValue(c)},beforeEdit:function(){var e,t=this;if(t.lockable&&t.editingPlugin.grid.lockedGrid.floatedFromCollapse)return!1;if(t.isVisible()&&(t.isDirty()||t.context.record.phantom))if(t.autoUpdate)t.editingPlugin.completeEdit();else if(t.autoCancel)t.editingPlugin.cancelEdit();else if(t.errorSummary)return(e=t.getScrollDelta())&&t.scrollingViewEl.scrollBy(0,e,!0),t.showToolTip(),!1},startEdit:function(e,t){var n,i=this,r=i.editingPlugin,o=r.grid,a=i.context=r.context,s=i.isVisible(),l=i.wrapEl,d=i.rendered;i._cachedNode&&i.clearCache(),Ext.suspendLayouts(),d||(i.width=i.getClientWidth(),i.render(o.el,o.el.dom.firstChild),(l=i.wrapEl=i.el.wrap()).setVisibilityMode(3),l.addCls(i._wrapCls),i.getFloatingButtons().render(l),i.onViewScroll()),i.setLocalY(0),a.grid.getSelectionModel().selectByPosition({row:e,column:t}),i.rendered&&i.formAriaLabel&&(n=Ext.String.formatEncode(i.formAriaLabel,i.formAriaLabelRowBase+a.rowIdx),i.body.dom.setAttribute("aria-label",n)),i.onGridResize(),Ext.resumeLayouts(s),s?i.reposition(!0):(i.skipFocusScroll=!0,i.show()),i.loadRecord(e),d||(i.lockable?(i.lockedColumnContainer.getScrollable().syncWithPartners(),i.normalColumnContainer.getScrollable().syncWithPartners()):i.getScrollable().syncWithPartners())},syncButtonPosition:function(e){var t=this,n=t.getScrollDelta(),i=t.getFloatingButtons(),r=(t.scrollingView,n-(Math.max(0,t.scroller.getSize().y-t.scroller.getClientSize().y)-t.scroller.getPosition().y));return i.show(),r>0||e.rowIdx>0&&e.isLastRenderedRow()?(t._buttonsOnTop||(i.setButtonPosition("top"),t._buttonsOnTop=!0,t.layout.setAlign("bottom"),t.updateLayout()),n=0):!1!==t._buttonsOnTop?(i.setButtonPosition("bottom"),t._buttonsOnTop=!1,t.layout.setAlign("top"),t.updateLayout()):i.setButtonPosition(i.position),n},syncEditorClip:function(){var e=this.tooltip,t=this.scroller.getElement().getConstrainRegion();this.clipTo(t),this.floatingButtons.clipTo(t),e&&e.isVisible()&&e.clipTo(t,5)},focusColumnField:function(e){var t,n;e&&!e.destroyed&&(e.isVisible()&&(t=this.getEditor(e))&&t.isFocusable(!0)&&(n=!0,t.focus()),n||this.focusColumnField(e.next()))},cancelEdit:function(){var e,t=this,n=t.getForm(),i=n.getFields().items,r=i.length,o=t.context.record;for(t._cachedNode&&t.clearCache(),t.hide(),o&&o.phantom&&!o.modified&&t.removeUnmodified&&t.editingPlugin.grid.store.remove(o),n.clearInvalid(),e=0;e<r;e++)i[e].suspendEvents();for(n.reset(),e=0;e<r;e++)i[e].resumeEvents()},clearCache:function(){var e=this;e.mun(e.editingPlugin.view,{itemadd:e.onViewItemAdd,scope:e}),e._cachedNode=!1},completeEdit:function(){var e=this,t=e.getForm();return!!t.isValid()&&(e.completing=!0,t.updateRecord(e.context.record),e.hide(),e.completing=!1,!0)},onShow:function(){var e=this;e.wrapEl.show(),e.callParent(arguments),e.needsSyncFieldWidths&&(e.suspendLayouts(),e.preventReposition=!0,e.syncAllFieldWidths(),e.preventReposition=!1,e.resumeLayouts(!0)),delete e.needsSyncFieldWidths,e.rendered&&e.initTabGuards(!0),e.reposition()},onHide:function(){var e,t,n=this,i=n.context,r=Ext.Element.getActiveElement();n.context=null,e=n.el.contains(r)&&n.activeField?n.activeField.column:i.column,(t=new Ext.grid.CellContext(e.getView()).setPosition(i.record,e)).view.getNavigationModel().setPosition(t),n.activeField=null,n.wrapEl.hide(),n.callParent(arguments),n.rendered&&n.initTabGuards(!1),n.tooltip&&n.hideToolTip()},onResize:function(e,t){this.wrapEl.setSize(e,t)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){var e=this,t=e.tooltip,n=e.editingPlugin.grid;return t||(e.tooltip=t=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:e.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!0,targetOffset:[Ext.getScrollbarSize().width,0],constrainPosition:!0,constrainTo:document.body}),n.add(t),e.mon(n,{afterlayout:e.onGridLayout,scope:e})),t},hideToolTip:function(){var e=this.getToolTip();e.rendered&&e.disable()},showToolTip:function(e){var t=this,n=t.getToolTip();if(!e&&t.wrapAnim)return t.wrapAnim.on({afteranimate:t.showToolTip,scope:t,single:!0});n.update(t.getErrors()),t.repositionTip(),n.enable()},onGridLayout:function(){this.tooltip&&this.tooltip.isVisible()&&this.repositionTip()},repositionTip:function(){var e=this.getToolTip();e.isVisible()?e.handleAfterShow():e.showBy(this.el),this.syncEditorClip()},getErrors:function(){var e,t,n,i=this,r=[],o=i.query(">[isFormField]"),a=o.length;for(e=0;e<a;e++)(t=(n=o[e]).getErrors()).length&&r.push(i.createErrorListItem(t[0],n.column.text));return r.length||i.autoCancel||!i.isDirty()||(r[0]=i.createErrorListItem(i.dirtyText)),'<ul class="'+Ext.baseCSSPrefix+'list-plain">'+r.join("")+"</ul>"},createErrorListItem:function(e,t){return e=t?t+": "+e:e,'<li class="'+this.errorCls+'">'+e+"</li>"},doDestroy:function(){var e=this;e.wrapAnim&&(Ext.fx.Manager.removeAnim(e.wrapAnim),e.wrapAnim=null),e.floatingButtons=e.tooltip=Ext.destroy(e.floatingButtons,e.tooltip),e.callParent()}}),Ext.define("Ext.grid.Scroller",{constructor:Ext.deprecated()}),Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",indicatorHtml:['<div class="',Ext.baseCSSPrefix,'grid-drop-indicator-left" role="presentation"></div>','<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>'].join(""),constructor:function(e){var t=this;Ext.apply(t,e),t.ddGroup||(t.ddGroup="view-dd-zone-"+t.view.id),t.callParent([t.view.el])},fireViewEvent:function(){var e;return this.lock(),e=this.view.fireEvent.apply(this.view,arguments),this.unlock(),e},getTargetFromEvent:function(e){var t,n,i,r,o,a=e.getTarget(this.view.getItemSelector());if(!a)for(t=e.getY(),r=0,o=(n=this.view.getNodes()).length;r<o;r++)if(i=n[r],t<=Ext.fly(i).getBox().bottom)return i;return a},getIndicator:function(){var e=this;return e.indicator||(e.indicator=new Ext.Component({ariaRole:"presentation",html:e.indicatorHtml,cls:e.indicatorCls,ownerCt:e.view,floating:!0,alignOnScroll:!1,shadow:!1})),e.indicator},getPosition:function(e,t){var n=e.getXY()[1],i=Ext.fly(t).getRegion();return i.bottom-n>=(i.bottom-i.top)/2?"before":"after"},containsRecordAtOffset:function(e,t,n){if(!t)return!1;var i=this.view,r=i.indexOf(t),o=i.getNode(r+n),a=o?i.getRecord(o):null;return a&&Ext.Array.contains(e,a)},positionIndicator:function(e,t,n){var i,r=this,o=r.view,a=r.getPosition(n,e),s=o.getRecord(e),l=t.records;Ext.Array.contains(l,s)||("before"!==a||r.containsRecordAtOffset(l,s,-1))&&("after"!==a||r.containsRecordAtOffset(l,s,1))?r.invalidateDrop():(r.valid=!0,r.overRecord===s&&r.currentPosition===a||(i=Ext.fly(e).getY()-o.el.getY()-1,"after"===a&&(i+=Ext.fly(e).getHeight()),r.getIndicator().setWidth(Ext.fly(o.el).getWidth()).showAt(0,i),r.overRecord=s,r.currentPosition=a))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(e,t,n,i){var r=this;return Ext.Array.contains(i.records,r.view.getRecord(e))||r.positionIndicator(e,i,n),r.valid?r.dropAllowed:r.dropNotAllowed},notifyOut:function(e,t,n,i){var r=this;r.callParent(arguments),r.overRecord=r.currentPosition=null,r.valid=!1,r.indicator&&r.indicator.hide()},onContainerOver:function(e,t,n){var i=this,r=i.view;return r.dataSource.getCount()?i.positionIndicator(r.all.last(),n,t):(i.overRecord=i.currentPosition=null,i.getIndicator().setWidth(Ext.fly(r.el).getWidth()).showAt(0,0),i.valid=!0),i.dropAllowed},onContainerDrop:function(e,t,n){return this.onNodeDrop(e,null,t,n)},onNodeDrop:function(e,t,n,i){var r=this,o=!1,a={wait:!1,processDrop:function(){r.invalidateDrop(),r.handleNodeDrop(i,r.overRecord,r.currentPosition),o=!0,r.fireViewEvent("drop",e,i,r.overRecord,r.currentPosition)},cancelDrop:function(){r.invalidateDrop(),o=!0}},s=!1;if(r.valid){if(s=r.fireViewEvent("beforedrop",e,i,r.overRecord,r.currentPosition,a),a.wait)return;!1!==s&&(o||a.processDrop())}return s},destroy:function(){this.indicator=Ext.destroy(this.indicator),this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left" role="presentation"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(e,t,n){var i,r,o,a,s=this.view,l=s.getStore(),d=s!==e.view;if(e.copy)for(o=0,a=(r=e.records).length;o<a;o++)r[o]=r[o].copy();else d&&e.view.store.remove(e.records);t&&n?(i=l.indexOf(t),"before"!==n&&i++,l.insert(i,e.records)):l.add(e.records),d&&s.getSelectionModel().select(e.records),s.getNavigationModel().setPosition(e.records[0])}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.plugin.Abstract",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,eResizeCursor:"col-resize",init:function(e){var t=this;t.headerCt=e,e.on("render",t.afterHeaderRender,t,{single:t}),t.minColWidth||(t.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth)},destroy:function(){var e=this,t=e.tracker;t&&(t.destroy(),e.tracker=null),e.headerCt.un("render",e.afterHeaderRender,e),e.headerCt=null,e.callParent()},afterHeaderRender:function(){var e=this,t=e.headerCt,n=t.el;t.mon(n,"mousemove",e.onHeaderCtMouseMove,e),e.markerOwner=e.ownerGrid=e.headerCt.up("tablepanel").ownerGrid,e.tracker=new Ext.dd.DragTracker({disabled:e.disabled,onBeforeStart:e.onBeforeStart.bind(e),onStart:e.onStart.bind(e),onDrag:e.onDrag.bind(e),onEnd:e.onEnd.bind(e),onCancel:e.onCancel.bind(e),tolerance:3,autoStart:300,el:n}),t.setTouchAction({panX:!1})},onHeaderCtMouseMove:function(e){var t=this;t.headerCt.dragging||t.disabled?t.activeHd&&(t.activeHd.el.dom.style.cursor="",delete t.activeHd):"touch"!==e.pointerType&&t.findActiveHeader(e)},findActiveHeader:function(e){var t,n,i,r,o=this,a=o.headerCt,s=e.getTarget("."+o.colHeaderCls,a.el,!0),l=o.ownerGrid,d=l.ownerLockable;if(o.activeHd=null,s){if((t=Ext.getCmp(s.id)).isAtEndEdge(e)){if(1===a.visibleColumnManager.getColumns().length&&a.forceFit)return;n=t}else t.isAtStartEdge(e)&&(i=a.visibleColumnManager.getColumns(),r=t.isGroupHeader?t.getGridColumns()[0]:t,(n=i[Ext.Array.indexOf(i,r)-1])||!d||l.isLocked||(n=(i=d.lockedGrid.headerCt.visibleColumnManager.getColumns())[i.length-1]));n?(n.isGroupHeader&&(n=(i=n.getGridColumns())[i.length-1]),n&&!n.fixed&&!1!==n.resizable&&(o.activeHd=n,t.el.dom.style.cursor=o.eResizeCursor,t.triggerEl&&(t.triggerEl.dom.style.cursor=o.eResizeCursor))):(t.el.dom.style.cursor="",t.triggerEl&&(t.triggerEl.dom.style.cursor=""))}return o.activeHd},onBeforeStart:function(e){var t=this;return t.dragHd=t.activeHd||"touch"===e.pointerType&&t.findActiveHeader(e),t.dragHd&&!t.headerCt.dragging?(e.claimGesture(),t.xDelta=t.dragHd.getX()+t.dragHd.getWidth()-t.tracker.getXY()[0],t.tracker.constrainTo=t.getConstrainRegion(),!0):(t.headerCt.dragging=!1,!1)},onCancel:function(e){this.dragHd=this.activeHd=null,this.headerCt.dragging=!1},getConstrainRegion:function(){var e,t,n=this,i=n.dragHd.el,r=n.ownerGrid,o=r.getSizeModel().width,a=o.shrinkWrap?n.headerCt.getWidth()-n.headerCt.visibleColumnManager.getColumns().length*n.minColWidth:n.maxColWidth;return n.headerCt.forceFit?(e=n.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&n.headerInSameGrid(e)&&(a=i.getWidth()+(e.getWidth()-n.minColWidth)):r.isLocked&&o.shrinkWrap&&(a=n.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(!0)-r.getWidth()-(r.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*n.minColWidth+Ext.getScrollbarSize().width)),(t=n.adjustConstrainRegion(i.getRegion(),0,0,0,n.minColWidth)).right=i.getX()+a,t},onStart:function(e){var t,n,i,r,o,a,s=this,l=s.dragHd,d=l.el.getWidth(),c=l.getRootHeaderCt();s.headerCt.dragging=!0,s.origWidth=d,s.dynamic||((i=s.markerOwner).frame&&i.resizable&&(s.gridOverflowSetting=i.el.dom.style.overflow,i.el.dom.style.overflow="hidden"),t=s.getLeftMarkerX(i),r=i.getLhsMarker(),o=i.getRhsMarker(),a=s.ownerGrid.body.getHeight()+c.getHeight(),n=c.getOffsetsTo(i)[1]-i.el.getBorderWidth("t"),r.dom.style.cursor=s.eResizeCursor,o.dom.style.cursor=s.eResizeCursor,r.setLocalY(n),o.setLocalY(n),r.setHeight(a),o.setHeight(a),s.setMarkerX(r,t),s.setMarkerX(o,t+d))},onDrag:function(e){var t=this;t.dynamic?t.doResize():t.setMarkerX(t.getMovingMarker(t.markerOwner),t.calculateDragX(t.markerOwner))},getMovingMarker:function(e){return e.getRhsMarker()},onEnd:function(e){var t=this,n=t.markerOwner;t.headerCt.dragging=!1,t.dragHd&&(t.dynamic||("gridOverflowSetting"in t&&(n.el.dom.style.overflow=t.gridOverflowSetting),t.setMarkerX(n.getLhsMarker(),-9999),t.setMarkerX(n.getRhsMarker(),-9999)),t.doResize(),"touch"!==e.pointerType?(t.dragHd=null,t.activeHd.el.dom.style.cursor=t.eResizeCursor):t.dragHd=t.activeHd=null),t.headerCt.blockNextEvent()},doResize:function(){var e,t=this,n=t.dragHd,i=t.tracker.getOffset("point");n&&i[0]&&(n.flex&&delete n.flex,Ext.suspendLayouts(),t.adjustColumnWidth(i[0]-t.xDelta),t.headerCt.forceFit&&((e=n.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&!t.headerInSameGrid(e)&&(e=null),e&&(delete e.flex,e.setWidth(e.getWidth()-i[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(e){var t=this.dragHd.up("tablepanel");return!!e.up(t)},disable:function(){var e=this.tracker;this.disabled=!0,e&&e.disable()},enable:function(){var e=this.tracker;this.disabled=!1,e&&e.enable()},calculateDragX:function(e){return this.tracker.getXY("point")[0]+this.xDelta-e.getX()-e.el.getBorderWidth("l")},getLeftMarkerX:function(e){return this.dragHd.getX()-e.getX()-e.el.getBorderWidth("l")-1},setMarkerX:function(e,t){e.setLocalX(t)},adjustConstrainRegion:function(e,t,n,i,r){return e.adjust(t,n,i,r)},adjustColumnWidth:function(e){this.dragHd.setWidth(this.origWidth+e)}}),Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(e){var t=this;t.headerCt=e,t.ddGroup=t.getDDGroup(),t.autoGroup=!0,t.callParent([e.el]),t.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){if(e.getTarget(this.colInnerSelector)){var t,n,i=e.getTarget(this.colHeaderSelector);if(i&&(t=Ext.getCmp(i.id),!this.headerCt.dragging&&t.draggable&&!t.isAtStartEdge(e)&&!t.isAtEndEdge(e)))return(n=document.createElement("div")).role="presentation",n.innerHTML=t.text,{ddel:n,header:t}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.headerCt.hideMenu(),this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(e){var t=this;t.headerCt=e,t.ddGroup=t.getDDGroup(),t.autoGroup=!0,t.callParent([e.el])},destroy:function(){Ext.destroy(this.topIndicator,this.bottomIndicator),this.callParent()},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-top","data-sticky":!0,html:"&#160;"}),this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-bottom","data-sticky":!0,html:"&#160;"})),this.bottomIndicator},getLocation:function(e,t){var n=e.getXY()[0],i=Ext.fly(t).getRegion();return{pos:i.right-n<=(i.right-i.left)/2?"after":"before",header:Ext.getCmp(t.id),node:t}},positionIndicator:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E=this,v=e.header,y=E.getLocation(n,t),b=y.header,C=y.pos;if(b!==E.lastTargetHeader||C!==E.lastDropPos){if(i=v.nextSibling("gridcolumn:not([hidden])"),r=v.previousSibling("gridcolumn:not([hidden])"),E.lastTargetHeader=b,E.lastDropPos=C,!b.draggable&&"before"===C&&0===b.getIndex())return!1;if(e.dropLocation=y,v!==b&&("before"===C&&i!==b||"after"===C&&r!==b)&&!b.isDescendantOf(v)){for(p=(g=Ext.dd.DragDropManager.getRelated(E)).length,m=0;m<p;m++)(x=g[m])!==E&&x.invalidateDrop&&x.invalidateDrop();E.valid=!0,o=E.getTopIndicator(),a=E.getBottomIndicator(),"before"===C?(s="bc-tl",l="tc-bl"):(s="bc-tr",l="tc-br"),d=o.getAlignToXY(b.el,s),c=a.getAlignToXY(b.el,l),h=(u=E.headerCt.el).getX()-E.indicatorXOffset,f=u.getX()+u.getWidth(),d[0]=Ext.Number.constrain(d[0],h,f),c[0]=Ext.Number.constrain(c[0],h,f),o.setXY(d),a.setXY(c),o.show(),a.show()}else E.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(e,t,n,i){var r,o,a,s,l=this,d=i.header;return i.header.el.dom===e?r=!1:(i.isLock=i.isUnlock=i.crossPanel=!1,o=l.getLocation(n,e).header,(r=d.ownerCt===o.ownerCt)||d.ownerCt.sealed||o.ownerCt.sealed||(r=!0,(a=d.up("tablepanel"))!==(s=o.up("tablepanel"))&&(i.crossPanel=!0,i.isLock=s.isLocked&&!a.isLocked,i.isUnlock=!s.isLocked&&a.isLocked,(i.isUnlock&&!1===d.lockable||i.isLock&&!d.isLockable())&&(r=!1)))),r?l.positionIndicator(i,e,n):l.valid=!1,l.valid?l.dropAllowed:l.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide(),this.getBottomIndicator().hide(),this.lastTargetHeader=this.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(e,t){var n,i=e.items;return e.isGroupHeader&&i.length&&(n=t?"last":"first",e=this.getNestedHeader(i[n](),t)),e},onNodeDrop:function(e,t,n,i){if(this.headerCt.blockNextEvent(),this.valid){var r,o,a,s,l=this,d=i.header,c=i.dropLocation,u=c.pos,h=c.header,f=d.ownerCt,g=f.getRootHeaderCt(),p=h.ownerCt,m=l.headerCt.visibleColumnManager,x=m.getHeaderIndex(d);i.isLock||i.isUnlock?(a=f.up("[scrollerOwner]"),r=p.items.indexOf(h),"after"===u&&r++,i.isLock?a.lock(d,r,p):a.unlock(d,r,p)):(r="after"===u?m.getHeaderIndex(l.getNestedHeader(h,1))+1:m.getHeaderIndex(l.getNestedHeader(h,0)),l.invalidateDrop(),s=d.getWidth(),Ext.suspendLayouts(),g.isDDMoveInGrid=!i.crossPanel,d.isGroupHeader&&h.isGroupHeader&&d.setNestedParent(h),"before"===u?p.moveBefore(d,h):p.moveAfter(d,h),r>=0&&(!h.isGroupHeader||h.items&&h.items.length)&&x!==r&&(o=d.isGroupHeader?d.query(":not([hidden]):not([isGroupHeader])").length:1,x<=r&&o>1&&(r-=o),p.getRootHeaderCt().grid.view.moveColumn(x,r,o)),g.fireEvent("columnmove",f,d,x,r),g.isDDMoveInGrid=!1,p.isGroupHeader&&!f.isGroupHeader?f!==p&&(d.savedFlex=d.flex,delete d.flex,d.width=s):f.isGroupHeader||d.savedFlex&&(d.flex=d.savedFlex,delete d.width),Ext.resumeLayouts(!0),l.headerCt.grid.floated&&l.headerCt.grid.updateLayout())}}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.plugin.Abstract",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(e){this.headerCt=e,e.on({boxready:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){var e=this;e.headerCt.un("boxready",e.onHeaderCtRender,e),Ext.destroy(e.dragZone,e.dropZone),e.headerCt=e.dragZone=e.dropZone=null,e.callParent()},onHeaderCtRender:function(e){var t=this;t.dragZone=new Ext.grid.header.DragZone(t.headerCt),t.dropZone=new Ext.grid.header.DropZone(t.headerCt),t.disabled&&t.dragZone.disable(),e.setTouchAction({panX:!1})},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer","Ext.util.KeyNav"],uses:["Ext.grid.column.Column","Ext.grid.ColumnManager","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],mixins:["Ext.util.FocusableContainer"],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",blockEvents:!1,dragging:!1,sortOnClick:!0,enableFocusableContainer:!1,childHideCount:0,sortable:!0,enableColumnHide:!0,initComponent:function(){var e=this;e.plugins=e.plugins||[],e.defaults=e.defaults||{},e.isColumn||(e.isRootHeader=!0,e.enableColumnResize&&(e.resizer=new Ext.grid.plugin.HeaderResizer,e.plugins.push(e.resizer)),e.enableColumnMove&&(e.reorderer=new Ext.grid.plugin.HeaderReorderer,e.plugins.push(e.reorderer))),e.isColumn&&!e.isGroupHeader?e.items&&0!==e.items.length||(e.isContainer=e.isFocusableContainer=!1,e.hasOwnProperty("focusable")||(e.focusable=!0),e.layout={type:"container",calculate:Ext.emptyFn}):(e.layout=Ext.apply({type:"gridcolumn",align:"stretch"},e.initialConfig.layout),e.defaults.columnLines=e.columnLines,e.isRootHeader?(e.hiddenHeaders||(e.enableFocusableContainer=!0,e.ariaRole="rowgroup"),e.columnManager=new Ext.grid.ColumnManager(!1,e),e.visibleColumnManager=new Ext.grid.ColumnManager(!0,e),e.grid&&(e.grid.columnManager=e.columnManager,e.grid.visibleColumnManager=e.visibleColumnManager)):(e.visibleColumnManager=new Ext.grid.ColumnManager(!0,e),e.columnManager=new Ext.grid.ColumnManager(!1,e))),e.menuTask=new Ext.util.DelayedTask(e.updateMenuDisabledState,e),e.callParent()},isNested:function(){return!!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var e=this.getRefOwner().query(">:not([hidden])");return 1===e.length&&e[0]===this},maybeShowNestedGroupHeader:function(){var e,t=this.items;t&&1===t.length&&(e=t.getAt(0))&&e.hidden&&e.show()},setNestedParent:function(e){e.isNestedParent=!1,e.ownerCt.isNestedParent=!(1!==this.ownerCt.items.length||1!==e.ownerCt.items.length)},initEvents:function(){var e,t,n=this;n.callParent(),n.isColumn||n.isGroupHeader||(t={click:e=n.onHeaderCtEvent,dblclick:e,contextmenu:e,mousedown:n.onHeaderCtMouseDown,mouseover:n.onHeaderCtMouseOver,mouseout:n.onHeaderCtMouseOut,scope:n},Ext.supports.Touch&&(t.longpress=n.onHeaderCtLongPress),n.mon(n.el,t))},onHeaderCtEvent:function(e,t){var n,i,r,o=this,a=o.getHeaderElByEvent(e);o.longPressFired?o.longPressFired=!1:a&&!o.blockEvents&&(n=Ext.getCmp(a.id))&&(i=n[n.clickTargetName],(!n.isGroupHeader&&!n.isContainer||e.within(i))&&("click"===e.type||"tap"===e.type?(r=n.onTitleElClick(e,i,o.sortOnClick))?o.onHeaderTriggerClick(r,e,"touch"===e.pointerType?r.el:r.triggerEl):o.onHeaderClick(n,e,t):"contextmenu"===e.type?o.onHeaderContextMenu(n,e,t):"dblclick"===e.type&&n.resizable&&n.onTitleElDblClick(e,i.dom)))},blockNextEvent:function(){this.blockEvents=!0,Ext.asap(this.unblockEvents,this)},unblockEvents:function(){this.blockEvents=!1},onHeaderCtMouseDown:function(e,t){var n,i,r,o,a,s=Ext.Component.fromElement(t);if(s!==this){if(s.isGroupHeader)for(n=s.getVisibleGridColumns(),o=this.getScrollable(),i=0,r=n.length;i<r;++i)if(a=n[i],o.doIsInView(a.el,!0).x){s=a;break}s.focus()}},onHeaderCtMouseOver:function(e,t){var n,i,r;e.within(this.el,!0)||(i=(n=e.getTarget("."+Ext.grid.column.Column.prototype.baseCls))&&Ext.getCmp(n.id))&&(r=i[i.clickTargetName],e.within(r)&&i.onTitleMouseOver(e,r.dom))},onHeaderCtMouseOut:function(e,t){var n,i,r="."+Ext.grid.column.Column.prototype.baseCls,o=e.getTarget(r),a=e.getRelatedTarget(r);o!==a&&(o&&(n=Ext.getCmp(o.id))&&(i=n[n.clickTargetName],n.onTitleMouseOut(e,i.dom)),a&&(n=Ext.getCmp(a.id))&&(i=n[n.clickTargetName],n.onTitleMouseOver(e,i.dom)))},onHeaderCtLongPress:function(e){var t,n=this.getHeaderElByEvent(e);n&&(t=Ext.getCmp(n.id))&&!t.menuDisabled&&(this.longPressFired=!0,this.showMenuBy(e,n,t))},getHeaderElByEvent:function(e){return e.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){return!this.hiddenHeaders&&this.callParent()},getRootHeaderCt:function(){return this.isRootHeader?this:this.up("[isRootHeader]")},doDestroy:function(){var e=this;e.menu&&e.menu.un("hide",e.onMenuHide,e),e.menuTask.cancel(),Ext.destroy(e.visibleColumnManager,e.columnManager,e.menu),e.callParent()},applyColumnsState:function(e,t){if(e){var n,i,r,o,a=this,s=a.items.items,l=s.length,d=0,c=!1,u=[],h=[];for(d=0;d<l;d++)(r=e[(i=s[d]).getStateId()])?(u[o=r.index]=i,d!==o&&(c=!0),i.applyColumnState&&i.applyColumnState(r,t)):h.push({index:d,column:i});if(u=Ext.Array.clean(u),n=h.length)for(d=0;d<n;d++)(o=(r=h[d]).index)<u.length?(c=!0,Ext.Array.splice(u,o,0,r.column)):u.push(r.column);c&&(a.applyingState=!0,a.removeAll(!1),delete a.applyingState,a.add(u),a.purgeCache())}},getColumnsState:function(){var e,t=[];return this.items.each(function(n){(e=n.getColumnState&&n.getColumnState())&&t.push(e)}),t},onAdd:function(e){var t,n=this,i=e.getStateId();null!=i&&(n._usedIDs||(n._usedIDs={}),n._usedIDs[i]&&n._usedIDs[i]!==e&&Ext.log.warn(this.$className+" attempted to reuse an existing id: "+i),n._usedIDs[i]=e),n.callParent(arguments),t=n.getRootHeaderCt(),n.onHeadersChanged(e,t&&t.isDDMoveInGrid)},move:function(e,t){var n,i=this.items;e.isComponent?(n=e,e=i.indexOf(n)):n=i.getAt(e),n.visibleFromIdx=this.getRootHeaderCt().visibleColumnManager.indexOf(n),this.callParent(arguments)},onMove:function(e,t,n){var i,r=this.getRootHeaderCt(),o=r.visibleColumnManager,a=1;this.onHeadersChanged(e,!0),(i=o.indexOf(e))>=e.visibleFromIdx&&i++,this.callParent(arguments),e.isGroupHeader&&(a=e.visibleColumnManager.getColumns().length),r.onHeaderMoved(e,a,e.visibleFromIdx,i)},maybeContinueRemove:function(){var e=this;return e.isGroupHeader&&!e.applyingState&&!e.isNestedParent&&e.ownerCt&&!e.items.getCount()},onRemove:function(e,t){var n=this,i=n.ownerCt;n.callParent([e,t]),n._usedIDs||(n._usedIDs={}),delete n._usedIDs[e.headerId],n.destroying||(n.getRootHeaderCt().isDDMoveInGrid||n.onHeadersChanged(e,!1),n.maybeContinueRemove()&&(e.rendered&&n.detachComponent(e),n.destroyAfterRemoving=!0,Ext.suspendLayouts(),i.remove(n,!1),Ext.resumeLayouts(!0)))},onHeadersChanged:function(e,t){var n,i=this.getRootHeaderCt();this.purgeHeaderCtCache(this),i&&(i.onColumnsChanged(),(n=i.ownerCt)&&!t&&n.onHeadersChanged(i,e))},onHeaderMoved:function(e,t,n,i){var r=this,o=r.ownerCt;r.rendered&&(o&&o.onHeaderMove&&o.onHeaderMove(r,e,t,n,i),r.fireEvent("columnmove",r,e,n,i))},onColumnsChanged:function(){var e,t,n=this.menu;this.rendered&&(this.fireEvent("columnschanged",this),n&&(e=n.child("#columnItemSeparator"),t=n.child("#columnItem"),e&&e.destroy(),t&&t.destroy()))},lookupComponent:function(e){var t=this.callParent(arguments);return t.isGroupHeader||void 0!==t.width||t.flex||(t.width=this.defaultWidth),t},setSortState:function(){var e,t,n,i=this.up("[store]").store,r=this.visibleColumnManager.getColumns(),o=r.length;for(e=0;e<o;e++)(n=(t=r[e]).getSorter())?i.getSorters().contains(n)||(n=null):n=i.getSorters().get(t.getSortParam()),t.setSortState(n)},getHeaderMenu:function(){var e,t=this.getMenu();return t&&(e=t.child("#columnItem"))?e.menu:null},onHeaderVisibilityChange:function(e,t){var n,i=this.getHeaderMenu();this.purgeHeaderCtCache(e.ownerCt),i&&((n=this.getMenuItemForHeader(i,e))&&n.setChecked(t,!0),i.isVisible()&&this.menuTask.delay(50))},updateMenuDisabledState:function(e){var t,n,i,r,o=this.query("gridcolumn:not([hidden])"),a=o.length;for(e||(e=this.getMenu()),t=0;t<a;++t)n=o[t],(i=this.getMenuItemForHeader(e,n))&&(r=n.isHideable()?"enable":"disable",i.menu&&(r+="CheckChange"),i[r]())},getMenuItemForHeader:function(e,t){return t?e.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(e){var t=this,n=t.ownerCt,i=e.lastHiddenHeader;n&&(t.forceFit&&delete t.flex,i&&!e.query("[hidden=false]").length&&(i.show(),e.lastHiddenHeader=null),t.onHeaderVisibilityChange(e,!0),n.onHeaderShow(t,e),t.fireEvent("columnshow",t,e),t.fireEvent("columnschanged",this))},onHeaderHide:function(e){var t=this,n=t.ownerCt;n&&(t.onHeaderVisibilityChange(e,!1),n.onHeaderHide(t,e),t.fireEvent("columnhide",t,e),t.fireEvent("columnschanged",this))},onHeaderResize:function(e,t){var n=this.ownerCt;n&&n.onHeaderResize(this,e,t),this.fireEvent("columnresize",this,e,t)},onHeaderClick:function(e,t,n){var i,r=e.getView().getSelectionModel();return e.fireEvent("headerclick",this,e,t,n),!1!==(i=this.fireEvent("headerclick",this,e,t,n))&&r.onHeaderClick&&r.onHeaderClick(this,e,t),i},onHeaderContextMenu:function(e,t,n){e.fireEvent("headercontextmenu",this,e,t,n),this.fireEvent("headercontextmenu",this,e,t,n)},onHeaderTriggerClick:function(e,t,n){!1!==e.fireEvent("headertriggerclick",this,e,t,n)&&!1!==this.fireEvent("headertriggerclick",this,e,t,n)&&(e.activeMenu?t.pointerType?e.activeMenu.hide():e.activeMenu.focus():this.showMenuBy(t,n,e))},showMenuBy:function(e,t,n){var i,r=this.getMenu(),o=r.down("#ascItem"),a=r.down("#descItem");e&&e.pointerType;r.activeHeader=r.ownerCmp=n,n.setMenuActive(r),i=n.sortable?"enable":"disable",o&&o[i](),a&&a[i](),r.autoFocus=!e||e.keyCode,r.showBy(t,"tl-bl?"),r.isVisible()||this.onMenuHide(r)},hideMenu:function(){this.menu&&this.menu.hide()},onMenuHide:function(e){e.activeHeader.setMenuActive(!1)},purgeHeaderCtCache:function(e){for(;e;){if(e.purgeCache(),e.isRootHeader)return;e=e.ownerCt}},purgeCache:function(){var e=this,t=e.visibleColumnManager,n=e.columnManager;e.gridVisibleColumns=e.gridDataColumns=e.hideableColumns=null,t&&(t.invalidate(),n.invalidate())},getMenu:function(){var e=this,t=e.view&&e.view.ownerGrid;return e.menu||(e.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:e.getMenuItems(),listeners:{beforeshow:e.beforeMenuShow,hide:e.onMenuHide,scope:e}}),e.fireEvent("menucreate",e,e.menu),t&&t.fireEvent("headermenucreate",t,e.menu,e)),e.menu},beforeMenuShow:function(e){var t,n,i=this;e.child("#columnItem")||(t=i.enableColumnHide?i.getColumnMenu(i):null,n=i.sortable?2:0,t&&t.length&&e.insert(n,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:i.columnsText,iconCls:i.menuColsIcon,menu:{items:t},hideOnClick:!1}])),i.updateMenuDisabledState(i.menu)},getMenuItems:function(){var e=this,t=[],n=e.enableColumnHide?e.getColumnMenu(e):null;return e.sortable&&(t=[{itemId:"ascItem",text:e.sortAscText,iconCls:e.menuSortAscCls,handler:e.onSortAscClick,scope:e},{itemId:"descItem",text:e.sortDescText,iconCls:e.menuSortDescCls,handler:e.onSortDescClick,scope:e}]),n&&n.length&&(e.sortable&&t.push({itemId:"columnItemSeparator",xtype:"menuseparator"}),t.push({itemId:"columnItem",text:e.columnsText,iconCls:e.menuColsIcon,menu:n,hideOnClick:!1})),t},onSortAscClick:function(){this.getMenu().activeHeader.sort("ASC")},onSortDescClick:function(){this.getMenu().activeHeader.sort("DESC")},getColumnMenu:function(e){for(var t,n,i=[],r=0,o=e.query(">gridcolumn[hideable]"),a=o.length;r<a;r++)t=o[r],n=new Ext.menu.CheckItem({text:t.menuText||t.text,checked:!t.hidden,hideOnClick:!1,headerId:t.id,menu:t.isGroupHeader?this.getColumnMenu(t):void 0,checkHandler:this.onColumnCheckChange,scope:this}),i.push(n);return i.length?i:null},onColumnCheckChange:function(e,t){var n=Ext.getCmp(e.headerId);n.rendered?n[t?"show":"hide"]():n.hidden=!t},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var e,t=0,n=this.getVisibleGridColumns(),i=n.length;for(e=0;e<i;e++)t+=n[e].getCellWidth()||0;return t},getVisibleGridColumns:function(){var e,t,n,i,r,o,a=this;if(a.gridVisibleColumns)return a.gridVisibleColumns;for(e=a.getGridColumns(),t=a.getRootHeaderCt(),n=[],i=e.length,r=0;r<i;r++)(o=e[r]).hidden||o.isColumnHidden(t)||(n[n.length]=o);return a.gridVisibleColumns=n,n},isColumnHidden:function(e){for(var t=this.getRefOwner();t&&t!==e;){if(t.hidden)return!0;t=t.getRefOwner()}return!1},getGridColumns:function(e,t){if(!e&&this.gridDataColumns)return this.gridDataColumns;var n,i,r,o,a,s=e||[];if(t=t||this.hidden,this.items&&(n=this.items.items))for(i=0,r=n.length;i<r;i++)(o=n[i]).isGroupHeader?(o.visibleIndex=s.length,o.getGridColumns(s,t)):(o.hiddenAncestor=t,s.push(o));if(e||(this.gridDataColumns=s),!e&&r){for(i=0,r=s.length;i<r;i++)(o=s[i]).fullColumnIndex=i,o.isFirstVisible=o.isLastVisible=!1,o.hidden||o.hiddenAncestor||(a||(o.isFirstVisible=!0),a=o);a&&(a.isLastVisible=!0)}return s},getHideableColumns:function(){var e=this.hideableColumns;return e||(e=this.hideableColumns=this.query("[hideable]")),e},getHeaderIndex:function(e){return this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager),this.columnManager.getHeaderIndex(e)},getHeaderAtIndex:function(e){return this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager),this.columnManager.getHeaderAtIndex(e)},getVisibleHeaderClosestToIndex:function(e){return this.visibleColumnManager||(this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager),this.visibleColumnManager.getVisibleHeaderClosestToIndex(e)},applyForceFit:function(e){var t,n,i,r,o,a=this.view,s=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,l=!1,d=Ext.grid.header.Container.prototype.defaultWidth,c=this.el.dom.clientWidth-(a.el.dom.scrollHeight>a.el.dom.clientHeight?Ext.getScrollbarSize().width:0),u=0,h=this.getVisibleGridColumns(),f=e.hidden;Ext.suspendLayouts(),r=c-(h.length+1)*s,e.flex=null,f?(o=e.width||e.savedWidth||Math.floor(r/(h.length+1)),e.savedWidth=null):o=a.getMaxContentWidth(e),o>r?(e.width=r,l=!0):(e.width=o,c-=o+d,function(){for(n=0,t=h.length;n<t;n++)(i=h[n])!==e&&(i.flex=i.flex||i.width||i.getWidth(),u+=i.flex,i.width=null)}()),function(){var r;for(n=0,t=h.length;n<t;n++)r=(i=h[n])===e,l&&!r?(i.flex=s,i.width=null):r||(o=i.flex||d,i.flex=Math.max(Math.ceil(o/u*c),s),i.width=null),i.setWidth(i.width||i.flex)}(),Ext.resumeLayouts(!0)},autoSizeColumn:function(e){var t=this.view;t&&(t.autoSizeColumn(e),this.forceFit&&this.applyForceFit(e))},getRefItems:function(e){var t=this.callParent([e]);return this.menu&&t.push(this.menu),t},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(e){var t=this;return new Ext.util.KeyNav(e,{scope:t,down:t.showHeaderMenu,left:t.onFocusableContainerLeftKey,right:t.onFocusableContainerRightKey,home:t.onHomeKey,end:t.onEndKey,space:t.onHeaderActivate,enter:t.onHeaderActivate})},onHomeKey:function(e){return this.focusChild(null,!0,e)},onEndKey:function(e){return this.focusChild(null,!1,e)},showHeaderMenu:function(e){var t=this.getFocusableFromEvent(e);t&&t.isColumn&&t.triggerEl&&this.onHeaderTriggerClick(t,e,t.triggerEl)},onHeaderActivate:function(e){var t,n,i=this.getFocusableFromEvent(e);if(i&&i.isColumn)return t=i.getView(),i.sortable&&this.sortOnClick?(n=t.getNavigationModel().getLastFocused(),i.toggleSortState(),n&&t.ownerCt.ensureVisible(n.record)):e.getKey()===e.SPACE&&i.onTitleElClick(e,e.target,this.sortOnClick),this.onHeaderClick(i,e,i.el)},onOwnerGridReconfigure:function(e,t){!this.rendered||this.destroying||this.destroyed||(e||t)&&this.initFocusableContainer()}}}),Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",xtype:"gridcolumn",requires:["Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout","Ext.app.bind.Parser"],alternateClassName:"Ext.grid.Column",config:{triggerVisible:!1,sorter:null,align:"start"},baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",ariaRole:"columnheader",enableFocusableContainer:!1,sortState:null,possibleSortStates:["ASC","DESC"],ariaSortStates:{ASC:"ascending",DESC:"descending"},childEls:["titleEl","triggerEl","textEl","textContainerEl","textInnerEl"],headerWrap:!1,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation"','{tipMarkup}class="',Ext.baseCSSPrefix,'column-header-inner<tpl if="!$comp.isContainer"> ',Ext.baseCSSPrefix,"leaf-column-header</tpl>",'<tpl if="empty"> ',Ext.baseCSSPrefix,'column-header-inner-empty</tpl>">','<div id="{id}-textContainerEl" data-ref="textContainerEl" role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-container">','<div role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-wrapper">','<div id="{id}-textEl" data-ref="textEl" role="presentation" class="',Ext.baseCSSPrefix,"column-header-text",'{childElCls}">','<span id="{id}-textInnerEl" data-ref="textInnerEl" role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-inner">{text}</span>',"</div>","{%","values.$comp.afterText(out, values);","%}","</div>","</div>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" unselectable="on" class="',Ext.baseCSSPrefix,"column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:" ",menuText:null,emptyCellText:" ",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",dirtyText:"Cell value has been edited",producesHTML:!0,ignoreExport:!1,exportStyle:null,isHeader:!0,isColumn:!0,scrollable:!1,requiresMenu:!1,tabIndex:-1,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var e=this;e.rendererScope||(e.rendererScope=e.scope),null!=e.header&&(e.text=e.header,e.header=null),e.cellWrap&&(e.tdCls=(e.tdCls||"")+" "+Ext.baseCSSPrefix+"wrap-cell"),null!=e.columns?(e.isGroupHeader=!0,e.ariaRole="presentation",e.dataIndex&&Ext.raise("Ext.grid.column.Column: Group header may not accept a dataIndex"),e.width&&e.width!==Ext.grid.header.Container.prototype.defaultWidth&&Ext.raise("Ext.grid.column.Column: Group header does not support setting explicit widths. A group header either shrinkwraps its children, or must be flexed."),e.items=e.columns,e.columns=null,e.cls=(e.cls||"")+" "+e.groupHeaderCls,e.sortable=e.resizable=!1,e.align="center"):e.flex&&(e.minWidth=e.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth),e.addCls(Ext.baseCSSPrefix+"column-header-align-"+e.align),e.setupRenderer(),e.setupRenderer("edit"),e.setupRenderer("summary"),e.callParent(arguments)},beforeLayout:function(){var e,t,n,i=this.items;if(Ext.isArray(i)||(i=i.items),e=i.length){for(t=0;!n&&t<e;t++)n=i[t].flex;n||(this.flex=null)}this.callParent()},onAdded:function(e,t,n){this.callParent([e,t,n]),this.headerId||this.calculateHeaderId(),this.configureStateInfo()},_initSorterFn:function(e,t){var n=this.column,i=n.resolveListenerScope(),r=this.methodName,o=i&&i[r],a=0;return o?(this.setSorterFn(o),this.column=null,a=o.call(i,e,t)):i?Ext.raise('No such method "'+r+'" on '+i.$className):Ext.raise("Cannot resolve scope for column "+n.id),a},applySorter:function(e){var t,n=e?e.sorterFn:null;return"string"==typeof n?((t=new Ext.util.Sorter(Ext.applyIf({sorterFn:this._initSorterFn},e))).methodName=n,t.column=this):t=this.getRootHeaderCt().up("tablepanel").store.getData().getSorters().decodeSorter(e),t},updateAlign:function(e){this.textAlign=this._alignMap[e]||e},bindFormatter:function(e){var t=this;return function(n){return e(n,t.rendererScope||t.resolveListenerScope())}},bindRenderer:function(e){var t=this;return e in Ext.util.Format&&Ext.log.warn('Use "formatter" config instead of "renderer" to use Ext.util.Format to format cell values'),t.hasCustomRenderer=!0,function(){return Ext.callback(e,t.rendererScope,arguments,0,t)}},setupRenderer:function(e){e=e||"column";var t,n,i=this,r=i[i.formatterNames[e]],o=i[i.rendererNames[e]],a="column"===e;r?(r=(t=Ext.app.bind.Parser.fly(r)).compileFormat(),t.release(),i[i.formatterNames[e]]=null,i[i.rendererNames[e]]=i.bindFormatter(r)):o?("string"==typeof o&&(o=i[i.rendererNames[e]]=i.bindRenderer(o),n=!0),a&&(i.hasCustomRenderer=n||o.length>1)):a&&i.defaultRenderer&&(i.renderer=i.defaultRenderer,i.usingDefaultRenderer=!0)},getView:function(){var e=this.getRootHeaderCt();if(e)return e.view},onFocusLeave:function(e){this.callParent([e]),this.activeMenu&&this.activeMenu.hide()},initItems:function(){var e=this;e.callParent(arguments),e.isGroupHeader&&(!e.config.hidden&&e.hasVisibleChildColumns()||e.hide())},hasVisibleChildColumns:function(){var e,t,n=this.items.items,i=n.length;for(e=0;e<i;++e)if((t=n[e]).isColumn&&!t.hidden)return!0;return!1},onAdd:function(e){var t=this;e.isColumn&&(e.isSubHeader=!0,e.addCls(t.groupSubHeaderCls)),t.isGroupHeader&&t.hidden&&t.hasVisibleChildColumns()&&t.show(),t.callParent([e])},onRemove:function(e,t){var n=this;e.isSubHeader&&(e.isSubHeader=!1,e.removeCls(n.groupSubHeaderCls)),n.callParent([e,t]),n.destroyed||n.destroying||n.hasVisibleChildColumns()||!n.ownerCt||n.ownerCt.isNested()||n.hide()},initRenderData:function(){var e=this,t="",n=e.tooltip,i=e.text,r="qtip"===e.tooltipType?"data-qtip":"title";return Ext.isEmpty(n)||(t=r+'="'+n+'" '),Ext.applyIf(e.callParent(arguments),{text:i,empty:e.isEmptyText(i),menuDisabled:e.menuDisabled,tipMarkup:t,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(e,t){var n,i,r,o=this,a=o.getSorter(),s=t&&t.sorters;if(a&&s&&(n=s.length))for(r=a.getId(),i=0;i<n;i++)if(s[i].id===r){a.setDirection(s[i].direction),s[i]=a;break}o.applyColumnsState(e.columns),null!=e.hidden&&(o.hidden=e.hidden),null!=e.locked&&(o.locked=e.locked),null!=e.sortable&&(o.sortable=e.sortable),null!=e.width?(o.flex=null,o.width=e.width):null!=e.flex&&(o.width=null,o.flex=e.flex)},getColumnState:function(){var e=this,t=e.items.items,n={id:e.getStateId()};return e.savePropsToState(["hidden","sortable","locked","flex","width"],n),e.isGroupHeader&&t&&t.length&&(n.columns=e.getColumnsState()),"width"in n&&delete n.flex,n},setText:function(e){var t,n=this;n.text=e,n.rendered&&(t=n.getView().ownerGrid,n.textInnerEl.setHtml(e),n.titleEl.toggleCls(Ext.baseCSSPrefix+"column-header-inner-empty",n.isEmptyText(e)),t.syncHeaderVisibility())},getIndex:function(){return!this.isGroupColumn&&this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return null!=this.visibleIndex?this.visibleIndex:!this.isGroupColumn&&Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},getLabelChain:function(){for(var e,t=this,n=[];e=t.up("headercontainer");)e.text&&n.unshift(Ext.util.Format.stripTags(e.text)),t=e;return n},beforeRender:function(){var e,t=this,n=t.getRootHeaderCt(),i=t.isSortable(),r=[];t.callParent(),t.requiresMenu||i||t.groupable||t.lockable||!1!==n.grid.enableColumnHide&&n.getHideableColumns().length||(t.menuDisabled=!0),t.cellWrap&&(t.variableRowHeight=!0),(e=t.ariaRenderAttributes||(t.ariaRenderAttributes={}))["aria-readonly"]=!0,i&&(e["aria-sort"]=t.ariaSortStates[t.sortState]),t.isSubHeader&&(r=t.getLabelChain(),t.text&&r.push(Ext.util.Format.stripTags(t.text)),r.length&&(e["aria-label"]=r.join(" "))),t.protoEl.unselectable()},getTriggerElWidth:function(){var e=this.triggerEl,t=this.self.triggerElWidth;return e&&void 0===t&&(e.setStyle("display","block"),t=this.self.triggerElWidth=e.getWidth(),e.setStyle("display","")),t},afterComponentLayout:function(e,t,n,i){var r=this.getRootHeaderCt();this.callParent(arguments),r&&(null!=n||this.flex)&&e!==n&&r.onHeaderResize(this,e)},doDestroy:function(){Ext.destroy(this.field,this.editor),this.callParent()},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){this.triggerEl&&this.onTitleElClick(e,this.triggerEl.dom||this.el.dom)},onEnterKey:function(e){this.onTitleElClick(e,this.el.dom)},onTitleElDblClick:function(e){var t,n,i,r=this;if(r.isAtStartEdge(e))(t=r.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&t.getRootHeaderCt()===r.getRootHeaderCt()&&t.autoSize();else if(r.isAtEndEdge(e)){if(r.isGroupHeader&&e.getPoint().isContainedBy(r.layout.innerCt))return n=r.query("gridcolumn:not([hidden]):not([isGroupHeader])"),void r.getRootHeaderCt().autoSizeColumn(n[n.length-1]);if(1===(i=r.getRootHeaderCt()).visibleColumnManager.getColumns().length&&i.forceFit)return;r.autoSize()}},autoSize:function(){var e,t,n,i,r=this;if(r.isGroupHeader){for(t=(e=r.query("gridcolumn:not([hidden]):not([isGroupHeader])")).length,i=r.getRootHeaderCt(),Ext.suspendLayouts(),n=0;n<t;n++)i.autoSizeColumn(e[n]);return Ext.resumeLayouts(!0),void(grid.ownerGrid.lockable&&grid.isLayoutRoot()&&grid.ownerGrid.syncLockableLayout())}r.getRootHeaderCt().autoSizeColumn(r)},isEmptyText:function(e){return null==e||"&#160;"===e||" "===e||""===e},onTitleElClick:function(e,t,n){var i,r,o,a=this;return"touch"===e.pointerType?(r=a.previousSibling(":not([hidden])"),a.menuDisabled||(o=parseInt(a.triggerEl.getStyle("width"),10),isNaN(o)&&(o=3*a.getHandleWidth(e)),a.isAtEndEdge(e,o)&&(i=a)),!i&&r&&!r.menuDisabled&&a.isAtStartEdge(e)&&(i=r)):i=a.triggerEl&&(e.target===a.triggerEl.dom||t===a.triggerEl||e.within(a.triggerEl))?a:null,!1===n||(i||a.isAtStartEdge(e)||a.isAtEndEdge(e))&&!e.getKey()||a.toggleSortState(),i},processEvent:function(e,t,n,i,r,o){return this.fireEvent.apply(this,arguments)},isSortable:function(){var e=this.getRootHeaderCt(),t=e?e.grid:null,n=this.sortable;return t&&!1===t.sortableColumns&&(n=!1),n},toggleSortState:function(){this.isSortable()&&this.sort()},sort:function(e){var t=this.up("tablepanel"),n=t.store,i=this.getSorter();Ext.suspendLayouts(),i?(e&&i.setDirection(e),n.sort(i,t.multiColumnSort?"multi":"replace")):n.sort(this.getSortParam(),e,t.multiColumnSort?"multi":"replace"),Ext.resumeLayouts(!0),t.ownerGrid.lockable&&t.isLayoutRoot()&&t.ownerGrid.syncLockableLayout()},getSortParam:function(){return this.dataIndex},setSortState:function(e){var t,n=this,i=e&&e.getDirection(),r=n.ascSortCls,o=n.descSortCls,a=n.getRootHeaderCt(),s=n.ariaEl.dom;switch(i){case"DESC":n.hasCls(o)||(n.addCls(o),n.sortState="DESC",t=!0),n.removeCls(r);break;case"ASC":n.hasCls(r)||(n.addCls(r),n.sortState="ASC",t=!0),n.removeCls(o);break;default:n.removeCls([r,o]),n.sortState=null}s&&(n.sortState?s.setAttribute("aria-sort",n.ariaSortStates[n.sortState]):s.removeAttribute("aria-sort")),t&&a.fireEvent("sortchange",a,n,i)},isHideable:function(){var e={hideCandidate:this,result:this.hideable};return e.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[e]),e.result},hasOtherMenuEnabledChildren:function(e){var t,n;return this.isXType("headercontainer")?(n=(t=this.query(">gridcolumn:not([hidden]):not([menuDisabled])")).length,Ext.Array.contains(t,e.hideCandidate)&&n--,!n&&void(e.hideCandidate=this)):(e.result=!1,!1)},isLockable:function(){var e={result:!1!==this.lockable};return e.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[e]),e.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(e){return this.isXType("headercontainer")?!(this.query(">gridcolumn:not([hidden])").length>1)&&void 0:(e.result=!1,!1)},hide:function(){var e=this,t=e.getRootHeaderCt(),n=e.getRefOwner();return n.constructing?(e.callParent(),e):e.rendered&&!e.isVisible()?e:(t.forceFit&&(e.visibleSiblingCount=t.getVisibleGridColumns().length-1,e.flex&&(e.savedWidth=e.getWidth(),e.flex=null)),t.beginChildHide(),Ext.suspendLayouts(),n.isGroupHeader&&(e.isNestedGroupHeader()&&n.hide(),e.isSubHeader&&!e.isGroupHeader&&1===n.query(">gridcolumn:not([hidden])").length&&(n.lastHiddenHeader=e)),e.callParent(),t.endChildHide(),t.onHeaderHide(e),Ext.resumeLayouts(!0),t.grid.ownerGrid.lockable&&t.grid.isLayoutRoot()&&t.grid.ownerGrid.syncLockableLayout(),e)},show:function(){var e=this,t=e.getRootHeaderCt(),n=e.getRefOwner();return e.isVisible()?e:(n.isGroupHeader&&(n.lastHiddenHeader=null),e.rendered&&t.forceFit&&t.applyForceFit(e),Ext.suspendLayouts(),e.isSubHeader&&n.hidden&&n.show(!1,!0),e.callParent(arguments),e.isGroupHeader&&e.maybeShowNestedGroupHeader(),(n=e.getRootHeaderCt())&&n.onHeaderShow(e),Ext.resumeLayouts(!0),t.grid.ownerGrid.lockable&&t.grid.isLayoutRoot()&&t.grid.ownerGrid.syncLockableLayout(),e)},shouldUpdateCell:function(e,t){if(!this.preventUpdate){if(this.hasCustomRenderer)return 1;if(!t)return 2;var n,i,r=t.length;for(n=0;n<r;++n)if((i=t[n])===this.dataIndex||i===e.idProperty)return 2}},getCellWidth:function(){var e,t=this;return t.rendered&&t.componentLayout&&t.componentLayout.lastComponentSize?e=t.componentLayout.lastComponentSize.width:t.width?e=t.width:t.isColumn||(e=t.getTableWidth()),e},getCellId:function(){return Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellSelector:function(){var e=this.getView();return(e?e.getCellSelector():"")+"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isAtStartEdge:function(e){var t=e.getXY()[0]-this.getX();return!(t<0&&0===this.getIndex())&&t<this.getHandleWidth(e)},isAtEndEdge:function(e,t){return this.getX()+this.getWidth()-e.getXY()[0]<=(t||this.getHandleWidth(e))},getHandleWidth:function(e){return"touch"===e.pointerType?10:4},setMenuActive:function(e){this.activeMenu=e,this.titleEl[e?"addCls":"removeCls"](this.headerOpenCls)},privates:{_alignMap:{start:"left",end:"right"},afterText:function(e,t){this.dirtyText&&(this.dirtyTextElementId=this.id+"-dirty-cell-text",e.push('<span id="'+this.dirtyTextElementId+'" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+this.dirtyText+"</span>"))},calculateHeaderId:function(){var e,t,n,i,r,o,a=this;if(!a.headerId){if(!(e=a.up("tablepanel")))return;if(n=a.items.items)for(r=0,o=n.length;r<o;++r)(i=n[r]).isColumn&&i.calculateHeaderId();(t=e?e.ownerGrid:a.getRootHeaderCt()).headerCounter=(t.headerCounter||0)+1,a.headerId="h"+t.headerCounter}a.configureStateInfo()},configureStateInfo:function(){var e,t=this;t.stateId||(t.stateId=t.initialConfig.id||t.headerId),e=t.getSorter(),t.hasSetSorter||!e||e.initialConfig.id||(t.dataIndex||t.stateId)&&(e.setId((t.dataIndex||t.stateId)+"-sorter"),t.hasSetSorter=!0)}},deprecated:{5:{methods:{bindRenderer:function(e){return function(t){return Ext.util.Format[e](t)}}}}}}),Ext.define("Ext.grid.column.ActionProxy",{constructor:function(e,t,n){this.column=e,this.item=t,this.itemIndex=n},setHandler:function(e){this.item.handler=e},setDisabled:function(e){e?this.column.disableAction(this.itemIndex):this.column.enableAction(this.itemIndex)},setIconCls:function(e){this.item.iconCls=e,this.column.getView().refreshView()},setIconGlyph:function(e){this.item.glyph=e,this.column.getView().refreshView()},setHidden:function(e){this.item.hidden=e,this.column.getView().refreshView()},setVisible:function(e){this.setHidden(!e)},on:function(){return this.column.on.apply(this.column,arguments)}}),Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",requires:["Ext.grid.column.ActionProxy","Ext.Glyph"],stopSelection:!0,actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",itemTabIndex:0,itemAriaRole:"button",maskOnDisable:!1,ignoreExport:!0,sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",actionIconCls:Ext.baseCSSPrefix+"action-col-icon",constructor:function(e){var t,n,i,r,o=this,a=Ext.apply({},e),s=a.items||o.items||[o];for(o.origRenderer=a.renderer||o.renderer,o.origScope=a.scope||o.scope,o.renderer=o.scope=a.renderer=a.scope=null,a.items=null,o.callParent([a]),o.items=s,n=0,i=s.length;n<i;++n)(r=s[n]).substr&&"@"===r[0]&&(r=o.getAction(r.substr(1))),r.isAction&&(s[n]=r.initialConfig,r.addComponent(new Ext.grid.column.ActionProxy(o,s[n],n))),r.getClass&&(t=!0);(o.origRenderer||t)&&(o.hasCustomRenderer=!0)},initComponent:function(){this.callParent(),this.sortable&&!this.dataIndex&&(this.sortable=!1)},defaultRenderer:function(e,t,n,i,r,o,a){var s,l,d,c,u,h,f,g,p,m,x=this,E=x.origScope||x,v=x.items,y=v.length;for(d=Ext.isFunction(x.origRenderer)&&x.origRenderer.apply(E,arguments)||"",t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell",s=0;s<y;s++)f=(l=v[s]).icon,g=l.glyph,c=l.disabled||!!l.isDisabled&&Ext.callback(l.isDisabled,l.scope||x.origScope,[a,i,r,l,n],0,x),u=l.tooltip||(l.getTip?Ext.callback(l.getTip,l.scope||x.origScope,arguments,0,x):null),h=l.getAltText?Ext.callback(l.getAltText,l.scope||x.origScope,arguments,0,x):l.altText||x.altText,l.hasActionConfiguration||(l.stopSelection=x.stopSelection,l.disable=Ext.Function.bind(x.disableAction,x,[s],0),l.enable=Ext.Function.bind(x.enableAction,x,[s],0),l.hasActionConfiguration=!0),g&&(g=Ext.Glyph.fly(g)),p=l!==x&&void 0!==l.tabIndex?l.tabIndex:x.itemTabIndex,m=l!==x&&void 0!==l.ariaRole?l.ariaRole:x.itemAriaRole,d+="<"+(f?"img":"div")+("number"==typeof p?' tabIndex="'+p+'"':"")+(m?' role="'+m+'"':' role="presentation"')+(f?' alt="'+h+'" src="'+l.icon+'"':"")+' class="'+x.actionIconCls+" "+Ext.baseCSSPrefix+"action-col-"+String(s)+" "+(c?x.disabledCls+" ":" ")+(l.hidden?Ext.baseCSSPrefix+"hidden-display ":"")+(l.getClass?Ext.callback(l.getClass,l.scope||x.origScope,arguments,void 0,x):l.iconCls||x.iconCls||"")+'"'+(u?' data-qtip="'+u+'"':"")+(f?"/>":g?' style="font-family:'+g.fontFamily+'">'+g.character+"</div>":"></div>");return d},updater:function(e,t,n,i,r){var o={};Ext.fly(e).addCls(o.tdCls).down(this.getView().innerSelector,!0).innerHTML=this.defaultRenderer(t,o,n,null,null,r,i)},enableAction:function(e,t){var n=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(n.items,e)):e=0,n.items[e].disabled=!1,n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).removeCls(n.disabledCls),t||n.fireEvent("enable",n)},disableAction:function(e,t){var n=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(n.items,e)):e=0,n.items[e].disabled=!0,n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).addCls(n.disabledCls),t||n.fireEvent("disable",n)},doDestroy:function(){return this.renderer=this.items=null,this.callParent()},processEvent:function(e,t,n,i,r,o,a,s){var l,d,c,u=this,h=o.getTarget(),f="keydown"===e&&o.getKey(),g=Ext.fly(n);if(o.stopSelection=!f&&u.stopSelection,f&&(h===n||!g.contains(h))){if(1!==(h=g.query("."+u.actionIconCls,!0)).length)return;h=h[0]}if(h&&(l=h.className.match(u.actionIdRe))&&(c=(d=u.items[parseInt(l[1],10)]).disabled||!!d.isDisabled&&Ext.callback(d.isDisabled,d.scope||u.origScope,[t,i,r,d,a],0,u),d&&!c))if("mousedown"!==e||u.getView().actionableMode){if("click"===e||f===o.ENTER||f===o.SPACE){if(Ext.callback(d.handler||u.handler,d.scope||u.origScope,[t,i,r,d,o,a,s],void 0,u),t.destroyed)return!1;if(o.position.getNode()||o.position.refresh(),!t.el.contains(Ext.Element.getActiveElement()))return!1}}else o.preventDefault();return u.callParent(arguments)},cascade:function(e,t){e.call(t||this,this)},getRefItems:function(){return[]},privates:{getFocusables:function(){return[]},shouldUpdateCell:function(){return 2}}}),Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultFilterType:"boolean",producesHTML:!1,defaultRenderer:function(e){return void 0===e?this.undefinedText:e&&"false"!==e?this.trueText:this.falseText},updater:function(e,t){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Check",{extend:"Ext.grid.column.Column",alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],alias:"widget.checkcolumn",isCheckColumn:!0,config:{headerCheckbox:!1},align:"center",triggerEvent:"click",invert:!1,ignoreExport:!0,stopSelection:!0,headerCheckedCls:Ext.baseCSSPrefix+"grid-hd-checker-on",headerCheckboxCls:Ext.baseCSSPrefix+"column-header-checkbox",checkboxCls:Ext.baseCSSPrefix+"grid-checkcolumn",checkboxCheckedCls:Ext.baseCSSPrefix+"grid-checkcolumn-checked",innerCls:Ext.baseCSSPrefix+"grid-checkcolumn-cell-inner",clickTargetName:"el",defaultFilterType:"boolean",checkboxAriaRole:"button",constructor:function(e){this.updateHeaderState=Ext.Function.createAnimationFrame(e.updateHeaderState||this.updateHeaderState),this.scope=this,this.callParent(arguments)},afterComponentLayout:function(){var e=this;e.callParent(arguments),e.useAriaElements&&e.headerCheckbox&&e.updateHeaderAriaDescription(e.areAllChecked()),e.storeListeners||(e.updateHeaderState(),e.storeListeners=e.getView().dataSource.on({datachanged:e.onDataChanged,scope:e,destroyable:!0}))},onRemoved:function(){this.callParent(arguments),this.storeListeners=Ext.destroy(this.storeListeners)},onDataChanged:function(e,t){this.updateHeaderState()},updateHeaderCheckbox:function(e){var t=this,n=Ext.baseCSSPrefix+"column-header-checkbox";e?(t.addCls(n),t.sortable=!1,t.useAriaElements&&t.updateHeaderAriaDescription(t.areAllChecked())):(t.removeCls(n),t.useAriaElements&&t.ariaEl.dom&&t.ariaEl.dom.removeAttribute("aria-describedby")),t.updateHeaderState()},processEvent:function(e,t,n,i,r,o,a,s){var l,d,c=this,u="keydown"===e&&o.getKey(),h=e===c.triggerEvent,f=c.disabled;return o.stopSelection=!u&&c.stopSelection,f||!h&&u!==o.ENTER&&u!==o.SPACE?l=c.callParent(arguments):(d=!c.isRecordChecked(a),!1!==c.fireEvent("beforecheckchange",c,i,d,a,o)&&(c.setRecordCheck(a,i,d,n,o),h&&!t.actionableMode&&o.preventDefault(),c.hasListeners.checkchange&&c.fireEvent("checkchange",c,i,d,a,o))),l},onTitleElClick:function(e,t,n){var i=this;if(i.disabled||!e.keyCode&&i.text&&!Ext.fly(e.target).hasCls(i.headerCheckboxCls))return i.callParent([e,t,n]);i.toggleAll(e)},toggleAll:function(e){var t=this,n=t.getView(),i=n.getStore(),r=!t.allChecked;!1!==t.fireEvent("beforeheadercheckchange",t,r,e)&&((t.hasListeners.checkchange||t.hasListeners.beforecheckchange)&&(e.position=new Ext.grid.CellContext(n)),i.each(function(e,i){t.setRecordCheck(e,i,r,n.getCell(e,t))}),t.setHeaderStatus(r,e),t.fireEvent("headercheckchange",t,r,e))},setHeaderStatus:function(e,t){var n=this;n.allChecked!==e&&(n.allChecked=e,n.headerCheckbox&&(n[e?"addCls":"removeCls"](n.headerCheckedCls),n.useAriaElements&&n.updateHeaderAriaDescription(e)))},updateHeaderState:function(e){!this.destroyed&&this.headerCheckbox&&this.setHeaderStatus(this.areAllChecked(),e)},onEnable:function(){this.callParent(arguments),this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(e){var t,n=this.disabledCls;t=this.up("tablepanel").el.select(this.getCellSelector()),e?t.addCls(n):t.removeCls(n)},defaultRenderer:function(e,t){var n=this,i=n.checkboxCls,r=n.tooltip;return n.invert&&(e=!e),n.disabled&&(t.tdCls+=" "+n.disabledCls),e&&(i+=" "+n.checkboxCheckedCls,r=n.checkedTooltip||r),n.useAriaElements&&(t.tdAttr+=' aria-describedby="'+n.id+"-cell-description"+(e?"":"-not")+'-selected"'),n.updateHeaderState(),"<span "+(r||"")+' class="'+i+'" role="'+n.checkboxAriaRole+'"'+(n.ariaStaticRoles[n.checkboxAriaRole]?"":' tabIndex="0"')+"></span>"},isRecordChecked:function(e){var t=this.property;return t?e[t]:e.get(this.dataIndex)},areAllChecked:function(){var e,t,n,i=this.getView().getStore();if(!i.isBufferedStore&&i.getCount()>0){for(t=(e=i.getData().items).length,n=0;n<t;++n)if(!this.isRecordChecked(e[n]))return!1;return!0}},setRecordCheck:function(e,t,n,i){var r=this.property;(r?e[r]:e.get(this.dataIndex)!=n)&&(r?(e[r]=n,this.updater(i,n)):e.set(this.dataIndex,n))},updater:function(e,t){var n=this,i=n.tooltip;n.invert&&(t=!t),t&&(i=n.checkedTooltip||i),i?e.setAttribute("data-qtip",i):e.removeAttribute("data-qtip"),e=Ext.fly(e),n.useAriaElements&&n.updateCellAriaDescription(null,t,e),e[n.disabled?"addCls":"removeCls"](n.disabledCls),Ext.fly(e.down(n.getView().innerSelector,!0).firstChild)[t?"addCls":"removeCls"](Ext.baseCSSPrefix+"grid-checkcolumn-checked"),n.updateHeaderState()},updateHeaderAriaDescription:function(e){this.useAriaElements&&this.ariaEl.dom&&this.ariaEl.dom.setAttribute("aria-describedby",this.id+"-header-description"+(e?"":"-not")+"-selected")},updateCellAriaDescription:function(e,t,n){this.useAriaElements&&(n=n||this.getView().getCell(e,this))&&n.dom.setAttribute("aria-describedby",this.id+"-cell-description"+(t?"":"-not")+"-selected")},privates:{afterText:function(e,t){var n=this,i=n.id;e.push('<span role="presentation" class="',n.headerCheckboxCls,'"></span>'),n.useAriaElements&&e.push('<span id="'+i+'-header-description-selected" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+n.headerDeselectText+'</span><span id="'+i+'-header-description-not-selected" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+n.headerSelectText+'</span><span id="'+i+'-cell-description-selected" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+n.rowDeselectText+'</span><span id="'+i+'-cell-description-not-selected" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+n.rowSelectText+"</span>")}}}),Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",isDateColumn:!0,defaultFilterType:"date",producesHTML:!1,initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(e){return Ext.util.Format.date(e,this.format)},updater:function(e,t){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:!1,defaultRenderer:function(e){return Ext.util.Format.number(e,this.format)},updater:function(e,t){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.RowNumberer",{extend:"Ext.grid.column.Column",alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",isRowNumberer:!0,text:"&#160;",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",producesHTML:!1,ignoreExport:!0,constructor:function(e){var t=this;t.width=t.width,t.callParent(arguments),t.sortable=!1,t.scope=t},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:void 0,defaultRenderer:function(e,t,n,i,r,o,a){var s=this.rowspan,l=o.currentPage,d=a.store.indexOf(n);return t&&s&&(t.tdAttr='rowspan="'+s+'"'),l>1&&(d+=(l-1)*o.pageSize),d+1},updater:function(e,t,n,i,r){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=this.defaultRenderer(t,null,n,null,null,r,i)}}),Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var e=this;e.tpl=!Ext.isPrimitive(e.tpl)&&e.tpl.compile?e.tpl:new Ext.XTemplate(e.tpl),e.hasCustomRenderer=!0,e.callParent(arguments)},defaultRenderer:function(e,t,n){var i=Ext.apply({},n.data,n.getAssociatedData());return this.tpl.apply(i)},updater:function(e,t){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Widget",{extend:"Ext.grid.column.Column",alias:"widget.widgetcolumn",mixins:["Ext.mixin.StyleCacher"],config:{defaultWidgetUI:{}},ignoreExport:!0,sortable:!1,onWidgetAttach:null,preventUpdate:!0,innerCls:Ext.baseCSSPrefix+"grid-widgetcolumn-cell-inner",stopSelection:!0,initComponent:function(){var e,t=this;t.callParent(arguments),(e=t.widget)&&!e.isComponent||Ext.raise("column.Widget requires a widget configuration."),t.widget=e=Ext.apply({},e),e.ui||(e.ui=t.getDefaultWidgetUI()[e.xtype]||"default"),t.isFixedSize=Ext.isNumber(e.width)},processEvent:function(e,t,n,i,r,o,a,s){var l;this.stopSelection&&"click"===e&&(l=o.getTarget(t.innerSelector))&&l!==o.target&&(o.stopSelection=!0)},beforeRender:function(){var e,t=this,n=t.tdCls;t.listenerScopeFn=function(e){return"this"===e?this:t.resolveListenerScope(e)},e=Ext.widget(t.widget),t.bindDataIndex=t.dataIndex&&e.defaultBindProperty&&!e.bind,n=n?n+" ":"",t.tdCls=n+e.getTdCls(),t.setupViewListeners(t.getView()),t.callParent(),e.destroy()},afterRender:function(){var e=this.getView();this.callParent(),e&&e.viewReady&&!e.ownerGrid.reconfiguring&&this.onViewRefresh(e,e.getViewRange())},defaultRenderer:Ext.emptyFn,updater:function(e,t,n){this.updateWidget(n)},onCellsResized:function(e){var t,n,i=this,r=i.ownerGrid.getManagedWidgets(i.getId()),o=r.length,a=i.getView();if(!i.isFixedSize&&i.rendered&&a&&a.viewReady&&(n=a.getEl().down(i.getCellInnerSelector())))for(e-=parseInt(i.getCachedStyle(n,"padding-left"),10)+parseInt(i.getCachedStyle(n,"padding-right"),10),t=0;t<o;++t)r[t].ownerLayout=null,r[t].setWidth(e),r[t].ownerLayout=a.componentLayout},onAdded:function(){var e,t=this;t.callParent(arguments),t.ownerGrid=t.up("tablepanel").ownerGrid,(e=t.getView())&&t.setupViewListeners(e)},onRemoved:function(e){var t=this.viewListeners;t&&Ext.destroy(t),e&&this.ownerGrid.destroyManagedWidgets(this.getId()),this.callParent(arguments)},doDestroy:function(){this.ownerGrid.destroyManagedWidgets(this.getId()),this.callParent()},privates:{getWidget:function(e){var t=this,n=null;return e&&((n=t.ownerGrid.createManagedWidget(t.getId(),t.widget,e)).resolveListenerScope=t.listenerScopeFn,n.getWidgetRecord=t.widgetRecordDecorator,n.getWidgetColumn=t.widgetColumnDecorator,n.measurer=t,n.ownerCmp=t.getView(),n.isLayoutChild=t.returnFalse),n},onItemAdd:function(e){var t,n,i,r,o,a,s,l=this,d=l.getView(),c=!!l.onWidgetAttach,u=l.dataIndex,h=l.isFixedSize,f=e.length;if(l.isVisible(!0))for(t=0;t<f;t++)(n=e[t]).isNonData||(i=d.getCell(n,l))&&(i=i.dom.firstChild,h||s||!l.lastBox||(s=l.lastBox.width-parseInt(l.getCachedStyle(i,"padding-left"),10)-parseInt(l.getCachedStyle(i,"padding-right"),10)),(r=l.getWidget(n)).$widgetColumn=l,r.$widgetRecord=n,Ext.fly(i).empty(),r.defaultBindProperty&&u&&r.setConfig(r.defaultBindProperty,n.get(u)),(o=r.el||r.element)?(i.appendChild(o.dom),h||r.setWidth(s),r.reattachToBody()):(h||(r.width=s||100),r.render(i)),c&&Ext.callback(l.onWidgetAttach,l.scope,[l,r,n],0,l),(a=r.getFocusEl())&&(d.actionableMode?a.isTabbable()||a.restoreTabbableState():a.isTabbable()&&a.saveTabbableState()));else d.refreshNeeded=!0},onItemUpdate:function(e,t,n){this.updateWidget(e)},onViewRefresh:function(e,t){Ext.suspendLayouts(),this.onItemAdd(t),Ext.resumeLayouts(!0)},returnFalse:function(){return!1},setupViewListeners:function(e){var t=this,n={refresh:t.onViewRefresh,itemadd:t.onItemAdd,scope:t,destroyable:!0};t.bindDataIndex&&(n.itemUpdate=t.onItemUpdate),t.viewListeners=e.on(n)},updateWidget:function(e){var t,n=this.dataIndex;this.rendered&&this.bindDataIndex&&(t=this.getWidget(e))&&t.setConfig(t.defaultBindProperty,e.get(n))},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}}),Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(e){this.initialConfig=e,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,getFireEventArgs:function(e,t,n,i){return[e,t,n,i]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(e,t,n){t.record.isSummary&&this.summaryFeature.showSummaryRow?this.summaryFeature.outputSummaryRecord(t.record,t,e,n):this.nextTpl.applyOut(t,e,n)},priority:1e3},showSummaryRow:!0,init:function(){var e=this;e.view.summaryFeature=e,e.rowTpl=e.view.self.prototype.rowTpl,e.view.addRowTpl(e.summaryRowTpl).summaryFeature=e,e.summaryData={},e.groupInfo={},e.summaryTableCls||(e.summaryTableCls=Ext.baseCSSPrefix+"grid-item"),e.summaryRowSelector="."+e.summaryRowCls},bindStore:function(e,t){var n=this;Ext.destroy(n.readerListeners),n.remoteRoot&&(n.readerListeners=t.getProxy().getReader().on({scope:n,destroyable:!0,rawdata:n.onReaderRawData}))},onReaderRawData:function(e){this.summaryRows=null,this.readerRawData=e},toggleSummaryRow:function(e,t){var n,i=this,r=i.showSummaryRow;e=null!=e?!!e:!i.showSummaryRow,i.showSummaryRow=e,e&&e!==r&&(i.updateSummaryRow=!0),i.lockingPartner?t||(i.lockingPartner.toggleSummaryRow(e,!0),n=!0):n=!0,n&&i.grid.ownerGrid.getView().refresh()},createRenderer:function(e,t){var n=t.ownerGroup,i=n?this.summaryData[n]:this.summaryData,r=e.dataIndex||e.getItemId();return function(n,o){return e.summaryRenderer?e.summaryRenderer(t.data[r],i,r,o):t.data[r]}},outputSummaryRecord:function(e,t,n){var i,r,o=t.view,a=o.rowValues,s=t.columns||o.headerCt.getVisibleGridColumns(),l=s.length,d={view:o,record:e,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:o.getRowId(e),columns:s};for(i=0;i<l;i++)(r=s[i]).savedRenderer=r.renderer,r.summaryType||r.summaryRenderer?r.renderer=this.createRenderer(r,e):r.renderer=Ext.emptyFn;for(o.rowValues=d,o.self.prototype.rowTpl.applyOut(d,n,parent),o.rowValues=a,i=0;i<l;i++)(r=s[i]).renderer=r.savedRenderer,r.savedRenderer=null},getSummary:function(e,t,n,i){var r=!!i,o=r?i:e;if(t){if(Ext.isFunction(t))return r?o.aggregate(n,t):o.aggregate(t,null,!1,[n]);switch(t){case"count":return o.count();case"min":return o.min(n);case"max":return o.max(n);case"sum":return o.sum(n);case"average":return o.average(n);default:return""}}},getRawData:function(){var e=this.readerRawData;return e||this.view.getStore().getProxy().getReader().rawData},generateSummaryData:function(e){var t,n,i,r,o,a,s,l,d=this,c={},u={};if(!(a=d.summaryRows)){if(!(i=d.getRawData()))return;if(t=d.view.store.getProxy().getReader(),(n=Ext.create("reader."+t.type,t.getConfig())).setRootProperty(d.remoteRoot),a=n.getRoot(i)){for(s=[],Ext.isArray(a)||(a=[a]),o=a.length,r=0;r<o;++r)l=n.extractRecordData(a[r],d.readDataOptions),s.push(l);d.summaryRows=a=s}n.destroy(),d.readerRawData=null}if(a)for(r=0,o=a.length;r<o;r++)c=a[r],e&&(u[c[e]]=c);return e?u:c},setSummaryData:function(e,t,n,i){var r=this.summaryData;i?(r[i]||(r[i]={}),r[i][t]=n):r[t]=n},destroy:function(){Ext.destroy(this.readerListeners),this.readerRawData=this.summaryRows=null,this.callParent()}}),Ext.define("Ext.grid.feature.GroupStore",{extend:"Ext.util.Observable",isStore:!0,defaultViewSize:100,isFeatureStore:!0,badGrouperKey:"[object Object]",constructor:function(e,t){this.callParent(),this.groupingFeature=e,this.bindStore(t),e.grid.isLocked||this.bindViewStoreListeners()},bindStore:function(e){var t=this;e&&t.store===e||(Ext.destroy(t.storeListeners),t.store=null),e&&(t.storeListeners=e.on({datachanged:t.onDataChanged,groupchange:t.onGroupChange,idchanged:t.onIdChanged,update:t.onUpdate,scope:t,destroyable:!0}),t.store=e,t.processStore(e))},bindViewStoreListeners:function(){var e=this.groupingFeature.view,t=e.getStoreListeners(this);t.scope=e,this.on(t)},processStore:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f=this,g=f.groupingFeature,p=g.startCollapsed,m=f.data,x=e.getGroups(),E=x?x.length:0,v=e.getGroupField(),y=x&&Ext.Array.unique(Ext.Object.getValues(x.itemGroupKeys)),b=g.getCache();if(g.invalidateCache(),i=g.getCache(),m?m.clear():m=f.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),e.getCount())if(g.startCollapsed=!1,E>0){for(h=e.getModel(),r=0;r<E;r++){if(c=(s=x.getAt(r)).getGroupKey(),f.badGrouperKey===c&&(a=g.getGrouper(v)))return g.startCollapsed=p,void e.group(a);t=b[c],n=i[c]=g.getMetaGroup(c),t&&(n.isCollapsed=t.isCollapsed),Ext.Array.splice(y,Ext.Array.indexOf(y,c),1),(n.isCollapsed=p||n.isCollapsed)?((u={})[v]=c,n.placeholder=d=new h(u),d.isNonData=d.isCollapsedPlaceholder=!0,d.groupKey=c,m.add(d)):m.insert(f.data.length,s.items)}if(y.length)for(r=0,o=y.length;r<o;r++)i[l=y[r]]=b[l];b=null}else m.add(e.getRange())},isCollapsed:function(e){return this.groupingFeature.getCache()[e].isCollapsed},isLoading:function(){return!1},getData:function(){return this.data},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(e,t){return t<this.getCount()},getRange:function(e,t,n){var i=this.data.getRange(e,Ext.isNumber(t)?t+1:t);return n&&n.callback&&n.callback.call(n.scope||this,i,e,t,n),i},getAt:function(e){return this.data.getAt(e)},getById:function(e){return this.store.getById(e)},getByInternalId:function(e){return this.store.getByInternalId(e)||this.data.byInternalId.get(e)},expandGroup:function(e){var t,n,i,r,o=this,a=o.groupingFeature;"string"==typeof e&&(e=a.getGroup(e)),e&&(r=e.items,n=(t=a.getMetaGroup(e)).placeholder),r.length&&-1!==(i=o.data.indexOf(n))&&(t.isCollapsed=!1,o.isExpandingOrCollapsing=1,o.data.removeAt(i),o.data.insert(i,e.items),o.fireEvent("replace",o,i,[n],e.items),o.fireEvent("groupexpand",o,e),o.isExpandingOrCollapsing=0)},collapseGroup:function(e){var t,n,i,r,o=this,a=o.groupingFeature;"string"==typeof e&&(e=a.getGroup(e)),e&&(r=e.items),r&&(i=r.length)&&-1!==(t=o.data.indexOf(r[0]))&&(a.getMetaGroup(e).isCollapsed=!0,o.isExpandingOrCollapsing=2,o.data.removeAt(t,i),o.data.insert(t,n=o.getGroupPlaceholder(e)),o.fireEvent("replace",o,t,r,[n]),o.fireEvent("groupcollapse",o,e),o.isExpandingOrCollapsing=0)},getGroupPlaceholder:function(e){var t=this.groupingFeature.getMetaGroup(e);if(!t.placeholder){var n,i=this.store,r=i.getModel(),o={},a=e.getGroupKey();o[i.getGroupField()]=a,(n=t.placeholder=new r(o)).isNonData=n.isCollapsedPlaceholder=!0,n.groupKey=a}return t.placeholder},indexOf:function(e){var t=-1;return e.isCollapsedPlaceholder||(t=this.data.indexOf(e)),t},contains:function(e){return this.indexOf(e)>-1},indexOfPlaceholder:function(e){return this.data.indexOf(e)},indexOfId:function(e){return this.data.indexOfKey(e)},indexOfTotal:function(e){return this.store.indexOf(e)},onIdChanged:function(e,t,n,i){this.data.updateKey(t,n)},onUpdate:function(e,t,n,i){var r,o,a,s,l,d=this,c=d.groupingFeature;if(e.isGrouped()){if(r=t.group=c.getGroup(t)){if(o=c.getMetaGroup(t),i&&Ext.Array.contains(i,c.getGroupField()))return d.onDataChanged();o.isCollapsed?d.fireEvent("update",d,o.placeholder):(Ext.suspendLayouts(),d.fireEvent("update",d,t,n,i),a=(l=r.items)[0],s=l[l.length-1],a!==t&&(a.group=r,d.fireEvent("update",d,a,"edit",i),delete a.group),s!==t&&s!==a&&c.showSummaryRow&&(s.group=r,d.fireEvent("update",d,s,"edit",i),delete s.group),Ext.resumeLayouts(!0))}delete t.group}else d.fireEvent("update",d,t,n,i)},onGroupChange:function(e,t){t||this.processStore(e),this.fireEvent("groupchange",e,t)},onDataChanged:function(){this.processStore(this.store),this.fireEvent("refresh",this)},destroy:function(){this.bindStore(null),Ext.destroy(this.data),this.groupingFeature=null,this.callParent()}}),Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",mixins:{summary:"Ext.grid.feature.AbstractSummary"},requires:["Ext.grid.feature.GroupStore"],alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,groupers:null,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me = this.groupingFeature,",'colspan = "colspan=" + values.columns.length;',"if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tpl if="isFirstRow">',"{% values.view.renderColumnSizer(values, out); %}",'<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div data-groupname="{groupName:htmlEncode}" class="',Ext.baseCSSPrefix,'grid-group-hd {collapsibleCls}" nottabindex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',Ext.baseCSSPrefix,'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr} data-qtip="{[values.isCollapsedGroup ? me.expandTip : me.collapseTip]}">','{[values.groupHeaderTpl.apply(values.groupRenderInfo, parent) || "&#160;"]}',"</div>","</div>","</td>","</tr>","</tpl>",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","</tpl>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,beginRowSync:function(e){var t=this.groupingFeature;e.add("header",t.eventSelector),e.add("summary",t.summaryRowSelector)},syncContent:function(e,t,n){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"syncSrc");var i=this.groupingFeature,r=e.down(i.eventSelector,!0),o=t.down(i.eventSelector,!0),a=e.down(i.summaryRowSelector,!0),s=t.down(i.summaryRowSelector,!0);r&&o&&Ext.fly(r).syncContent(o),a&&s&&(n?this.groupingFeature.view.updateColumns(a,s,n):Ext.fly(a).syncContent(s))}}],relayedEvents:["groupcollapse","groupexpand"],init:function(e){var t,n,i=this,r=i.view,o=i.getGridStore();r.isGrouping=o.isGrouped(),i.mixins.summary.init.call(i),i.callParent([e]),r.headerCt.on({columnhide:i.onColumnHideShow,columnshow:i.onColumnHideShow,columnmove:i.onColumnMove,scope:i}),r.addTpl(Ext.XTemplate.getTpl(i,"outerTpl")).groupingFeature=i,r.addRowTpl(Ext.XTemplate.getTpl(i,"groupRowTpl")).groupingFeature=i,r.preserveScrollOnRefresh=!0,o.isBufferedStore?i.collapsible=!1:(t=i.lockingPartner)&&t.dataSource?i.dataSource=r.dataSource=n=t.dataSource:i.dataSource=r.dataSource=n=new Ext.grid.feature.GroupStore(i,o),(e=e.ownerLockable||e).on("beforereconfigure",i.beforeReconfigure,i),r.isLockedView||(i.gridEventRelayers=e.relayEvents(r,i.relayedEvents)),r.on({afterrender:i.afterViewRender,scope:i,single:!0}),i.groupRenderInfo={},n?n.on("groupchange",i.onGroupChange,i):i.setupStoreListeners(o),i.mixins.summary.bindStore.call(i,e,e.getStore())},getGridStore:function(){return this.view.getStore()},indexOf:function(e){return e.isCollapsedPlaceholder?this.dataSource.indexOfPlaceholder(e):this.dataSource.indexOf(e)},indexOfPlaceholder:function(e){return this.dataSource.indexOfPlaceholder(e)},isInCollapsedGroup:function(e){var t,n=!1;return this.getGridStore().isGrouped()&&(t=this.getMetaGroup(e))&&(n=!(!t||!t.isCollapsed)),n},createCache:function(){var e=this.metaGroupCache={},t=this.lockingPartner;return t&&(t.metaGroupCache=e),e},getCache:function(){return this.metaGroupCache||this.createCache()},invalidateCache:function(){var e=this.lockingPartner;this.metaGroupCache=null,e&&(e.metaGroupCache=null)},vetoEvent:function(e,t,n,i){if("mouseover"!==i.type&&"mouseout"!==i.type&&"mouseenter"!==i.type&&"mouseleave"!==i.type&&i.getTarget(this.eventSelector))return!1},enable:function(){var e,t=this,n=t.view,i=t.getGridStore(),r=t.hideGroupedHeader&&t.getGroupedHeader();n.isGrouping=!0,n.lockingPartner&&(n.lockingPartner.isGrouping=!0),t.callParent(),t.lastGrouper&&(i.group(t.lastGrouper),t.lastGrouper=null),r&&r.hide(),(e=t.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&e.setChecked(!0,!0)},disable:function(){var e,t=this,n=t.view,i=t.getGridStore(),r=t.hideGroupedHeader&&t.getGroupedHeader(),o=i.getGrouper();n.isGrouping=!1,n.lockingPartner&&(n.lockingPartner.isGrouping=!1),t.callParent(),o&&(t.lastGrouper=o,i.clearGrouping()),r&&r.show(),(e=t.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&(e.setChecked(!1,!0),e.disable())},afterViewRender:function(){var e=this;e.view.on({scope:e,groupmousedown:e.onGroupMousedown,groupclick:e.onGroupClick}),e.enableGroupingMenu&&e.injectGroupingMenu(),e.pruneGroupedHeader(),e.lastGrouper=e.getGridStore().getGrouper(),e.disabled&&e.disable()},injectGroupingMenu:function(){var e=this.view.headerCt;e.showMenuBy=this.showMenuBy,e.getMenuItems=this.getMenuItems()},onColumnHideShow:function(e,t){var n,i,r,o=this.view,a=o.headerCt.getMenu(),s=a.activeHeader,l=a.down("#groupMenuItem"),d=this.grid.getVisibleColumnManager().getColumns().length;if(s&&l&&l[!1===s.groupable||!s.dataIndex||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable"](),o.rendered&&d)for(r=0,i=(n=o.el.query("."+this.ctCls)).length;r<i;++r)n[r].colSpan=d},onColumnMove:function(){var e,t,n,i,r,o=this,a=o.view;if(a.getStore().isGrouped()){for(e in t=o.getCache(),Ext.suspendLayouts(),t)(n=o.getGroup(e))&&(i=n.first(),r=n.last(),o.getMetaGroup(e).isCollapsed&&(i=r=o.dataSource.getGroupPlaceholder(e)),a.refreshNode(i),o.showSummaryRow&&r!==i&&a.refreshNode(r));Ext.resumeLayouts(!0)}},showMenuBy:function(e,t,n){var i=this.getMenu(),r=i.down("#groupMenuItem"),o=!1===n.groupable||!n.dataIndex||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",a=i.down("#groupToggleMenuItem"),s=this.grid.getStore().isGrouped();r[o](),a&&(a.setChecked(s,!0),a[s?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var e=this,t=e.groupByText,n=e.disabled||!e.getGroupField(),i=e.showGroupsText,r=e.enableNoGroups,o=e.view.headerCt.getMenuItems;return function(){var a=o.call(this);return a.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:t,handler:e.onGroupMenuItemClick,scope:e}),r&&a.push({itemId:"groupToggleMenuItem",text:i,checked:!n,checkHandler:e.onGroupToggleMenuItemClick,scope:e}),a}},onGroupMenuItemClick:function(e,t){var n=this,i=e.parentMenu.activeHeader,r=n.view,o=n.getGridStore();n.disabled&&(n.lastGrouper=null,n.block(),n.enable(),n.unblock()),r.isGrouping=!0,o.group(n.getGrouper(i.dataIndex)||i.dataIndex),n.pruneGroupedHeader()},block:function(e){this.blockRefresh=this.view.blockRefresh=!0,this.lockingPartner&&!e&&this.lockingPartner.block(!0)},unblock:function(e){this.blockRefresh=this.view.blockRefresh=!1,this.lockingPartner&&!e&&this.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(e,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this,t=e.getGroupedHeader();e.hideGroupedHeader&&t&&(Ext.suspendLayouts(),e.prunedHeader&&e.prunedHeader!==t&&e.prunedHeader.show(),e.prunedHeader=t,t.rendered&&t.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(e){var t,n,i,r,o=this.view.getEl();if(o)for(n=0,i=(t=o.query(this.eventSelector)).length;n<i;++n)if((r=t[n]).getAttribute("data-groupName")===e)return r},getGroup:function(e){var t,n=this.getGridStore(),i=e;return n.isGrouped()&&(e.isModel&&(e=e.get(n.getGroupField())),"string"!=typeof e&&(e=n.getGrouper().getGroupString(i)),t=n.getGroups().getByKey(e)),t},getGrouper:function(e){var t=this.groupers;return t?Ext.Array.findBy(t,function(t){return t.property===e}):null},getGroupField:function(){return this.getGridStore().getGroupField()},getMetaGroup:function(e){var t,n,i=this.metaGroupCache||this.createCache();return e.isModel&&(e=this.getGroup(e)),null!=e&&((n=i[t="string"==typeof e?e:e.getGroupKey()])||(n=i[t]={isCollapsed:!1,lastGroup:null,lastGroupGeneration:null,lastFilterGeneration:null,aggregateRecord:new Ext.data.Model})),n},isExpanded:function(e){return!this.getMetaGroup(e).isCollapsed},expand:function(e,t){this.doCollapseExpand(!1,e,t)},expandAll:function(){var e,t=this.getCache(),n=this.lockingPartner;for(e in t)t.hasOwnProperty(e)&&(t[e].isCollapsed=!1);for(e in Ext.suspendLayouts(),this.dataSource.onDataChanged(),Ext.resumeLayouts(!0),t)t.hasOwnProperty(e)&&(this.afterCollapseExpand(!1,e),n&&n.afterCollapseExpand(!1,e))},collapse:function(e,t){this.doCollapseExpand(!0,e,t)},isAllCollapsed:function(){var e,t=this.getCache();for(e in t)if(t.hasOwnProperty(e)&&!t[e].isCollapsed)return!1;return!0},isAllExpanded:function(){var e,t=this.getCache();for(e in t)if(t.hasOwnProperty(e)&&t[e].isCollapsed)return!1;return!0},collapseAll:function(){var e,t=this.getCache(),n=this.lockingPartner;for(e in t)t.hasOwnProperty(e)&&(t[e].isCollapsed=!0);for(e in Ext.suspendLayouts(),this.dataSource.onDataChanged(),Ext.resumeLayouts(!0),t)t.hasOwnProperty(e)&&(this.afterCollapseExpand(!0,e),n&&n.afterCollapseExpand(!0,e))},doCollapseExpand:function(e,t,n){var i=this,r=i.lockingPartner,o=i.getGroup(t);!0===n&&(n={focus:!0}),i.getMetaGroup(o).isCollapsed!==e&&(i.isExpandingOrCollapsing=!0,Ext.suspendLayouts(),e?i.dataSource.collapseGroup(o):i.dataSource.expandGroup(o),Ext.resumeLayouts(!0),i.afterCollapseExpand(e,t,n),r&&(n&&n.focus&&((n=Ext.Object.chain(n)).focus=!1),r.afterCollapseExpand(e,t,n)),i.isExpandingOrCollapsing=!1)},afterCollapseExpand:function(e,t,n){var i,r,o=this,a=o.view;i=o.getHeaderNode(t),a.fireEvent(e?"groupcollapse":"groupexpand",a,i,t),n&&(e?(n.focus=!1,r=o.metaGroupCache[t].placeholder):r=o.getGroup(t).getAt(0),o.grid.ensureVisible(r,n))},onGroupChange:function(e,t){t?this.lastGrouper=t:this.view.ownerGrid.getView().refreshView()},getMenuItem:function(e){var t=this.view,n=t.headerCt.down("gridcolumn[dataIndex="+e+"]"),i=t.headerCt.getMenu();return n?i.down("menuitem[headerId="+n.id+"]"):null},onGroupKey:function(e,t){var n=this.getGroupName(t.target);n&&this.onGroupClick(this.view,t.target,n,t)},onGroupMousedown:function(e,t,n,i){"mouse"===i.pointerType&&i.preventDefault()},onGroupClick:function(e,t,n,i){var r,o=this,a=o.getCache(),s=!o.isExpanded(n);if(o.collapsible){if(i.ctrlKey){for(r in Ext.suspendLayouts(),a)r===n?s&&o.expand(n):a[r].isCollapsed||o.doCollapseExpand(!0,r,!1);return void Ext.resumeLayouts(!0)}s?o.expand(n):o.collapse(n)}},setupRowData:function(e,t,n){var i,r,o,a,s,l=this,d=n.recordIndex,c=l.refreshData,u=(l.getCache(),l.groupRenderInfo),h=c.header,f=c.groupField,g=l.getGridStore(),p=l.view.dataSource.isBufferedStore,m=l.grid.columnManager.getHeaderByDataIndex(f),x=!(!m||!m.renderer),E=e.groupKey,v=e.isCollapsedPlaceholder&&Ext.isDefined(E)?l.getGroup(E):e.group;if(n.isCollapsedGroup=!1,n.summaryRecord=n.groupHeaderCls=null,c.doGrouping){if(i=g.getGrouper(),e.isCollapsedPlaceholder)return r=v.getGroupKey(),s=v.items,n.isFirstRow=n.isLastRow=!0,n.groupHeaderCls=l.hdCollapsedCls,n.isCollapsedGroup=n.needsWrap=!0,n.groupName=r,n.groupRenderInfo=u,u.groupField=f,u.name=u.renderedGroupValue=x?m.renderer(v.getAt(0).get(f),{},e):r,u.groupValue=s[0].get(f),u.columnName=h?h.text:f,n.collapsibleCls=l.collapsible?l.collapsibleCls:l.hdNotCollapsibleCls,u.rows=u.children=s,void(l.showSummaryRow&&(n.summaryRecord=c.summaryData[r]));r=i.getGroupString(e),v?(s=v.items,n.isFirstRow=e===s[0],n.isLastRow=e===s[s.length-1]):(n.isFirstRow=0===d,n.isFirstRow||(o=g.getAt(d-1))&&(n.isFirstRow=!o.isEqual(i.getGroupString(o),r)),n.isLastRow=d===(p?g.getTotalCount():g.getCount())-1,n.isLastRow||(a=g.getAt(d+1))&&(n.isLastRow=!a.isEqual(i.getGroupString(a),r))),n.isFirstRow&&(u.groupField=f,u.name=u.renderedGroupValue=x?m.renderer(e.get(f),{},e):r,u.groupValue=e.get(f),u.columnName=h?h.text:f,n.collapsibleCls=l.collapsible?l.collapsibleCls:l.hdNotCollapsibleCls,n.groupName=r,l.isExpanded(r)||(n.itemClasses.push(l.hdCollapsedCls),n.isCollapsedGroup=!0),u.rows=u.children=p?[]:l.getRecordGroup(e).items,n.groupRenderInfo=u),n.isLastRow&&l.showSummaryRow&&(n.summaryRecord=c.summaryData[r],n.itemClasses.push(Ext.baseCSSPrefix+"grid-group-last")),n.needsWrap=n.isFirstRow||n.summaryRecord}},setup:function(e,t){var n=this,i=n.refreshData,r=t.view,o=r.isGrouping=!n.disabled&&n.getGridStore().isGrouped(),a=r.bufferedRenderer;n.skippedRows=0,a&&(a.variableRowHeight=r.hasVariableRowHeight()||o),i.groupField=n.getGroupField(),i.header=n.getGroupedHeader(i.groupField),i.doGrouping=o,t.groupHeaderTpl=Ext.XTemplate.getTpl(n,"groupHeaderTpl"),o&&n.showSummaryRow&&(i.summaryData=n.generateSummaryData())},cleanup:function(e,t){var n=this.refreshData;t.groupRenderInfo=t.groupHeaderTpl=t.isFirstRow=null,n.groupField=n.header=n.summaryData=null},getAggregateRecord:function(e,t){var n;return!0!==t&&e.aggregateRecord||(n=new Ext.data.Model,e.aggregateRecord=n,n.isNonData=n.isSummary=!0),e.aggregateRecord},generateSummaryData:function(){var e,t,n,i,r,o,a,s=this,l=s.getGridStore(),d=l.getFilters(),c=l.getGroups().items,u=(l.getProxy().getReader(),s.getGroupField()),h=s.lockingPartner,f=s.updateSummaryRow,g={},p=s.view.ownerCt,m=s.didColumnsChange();for(s.remoteRoot&&(o=!!(a=s.mixins.summary.generateSummaryData.call(s,u))),e=0,t=c.length;e<t;++e)n=c[e],i=s.getMetaGroup(n),f||o||l.updating||s.grid.reconfiguring||m||s.didGroupChange(n,i,d)?(r=s.populateRecord(n,i,a),h&&p!==p.ownerLockable.normalGrid||(i.lastGroup=n,i.lastGroupGeneration=n.generation,i.lastFilterGeneration=d.generation)):r=s.getAggregateRecord(i),g[n.getGroupKey()]=r;return s.updateSummaryRow=!1,g},getGroupName:function(e){var t,n,i=this.view,r=this.eventSelector;if((t=Ext.fly(e).findParent(r))||(n=Ext.fly(e).findParent(i.itemSelector))&&(t=n.down(r,!0)),t)return t.getAttribute("data-groupname")},getRecordGroup:function(e){var t=this.getGridStore(),n=t.getGrouper();if(n)return t.getGroups().getByKey(n.getGroupString(e))},getGroupedHeader:function(e){var t,n,i=this.view.headerCt,r=this.lockingPartner;return(e=e||this.getGroupField())&&(t="[dataIndex="+e+"]",!(n=i.down(t))&&r&&(n=r.view.headerCt.down(t))),n||null},getFireEventArgs:function(e,t,n,i){return[e,t,n,this.getGroupName(n),i]},destroy:function(){var e=this,t=e.dataSource;Ext.destroy(e.gridEventRelayers),e.gridEventRelayers=null,e.storeListeners=Ext.destroy(e.storeListeners),e.view=e.prunedHeader=e.grid=e.dataSource=e.groupers=null,e.invalidateCache(),t&&!t.destroyed&&(t.bindStore(null),Ext.destroy(t)),e.callParent()},beforeReconfigure:function(e,t,n,i,r){var o,a=this.view,s=this.dataSource;t&&t!==i&&(o=t.isBufferedStore,s||(Ext.destroy(this.storeListeners),this.setupStoreListeners(t)),o!==i.isBufferedStore&&Ext.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),a.isGrouping=!!t.getGrouper(),s.bindStore(t))},populateRecord:function(e,t,n){var i,r,o,a,s,l,d=this,c=d.grid.ownerLockable?d.grid.ownerLockable.view:d.view,u=d.getGridStore(),h=d.getAggregateRecord(t),f=c.headerCt.getGridColumns(),g=f.length,p=e.getGroupKey();if(h.beginEdit(),n)for(r in i=n[p])i.hasOwnProperty(r)&&r!==h.idProperty&&h.set(r,i[r]);for(o=0;o<g;++o)s=(a=f[o]).dataIndex||a.getItemId(),n?l=h.get(a.dataIndex):(l=d.getSummary(u,a.summaryType,s,e),h.set(s,l)),d.setSummaryData(h,a.getItemId(),l,p);return h.ownerGroup=p,h.endEdit(!0),h.commit(),h},privates:{didGroupChange:function(e,t,n){var i=!0;return e===t.lastGroup&&(i=t.lastGroupGeneration!==e.generation||t.lastFilterGeneration!==n.generation),i},didColumnsChange:function(){var e=this.view.headerCt.items.generation!==this.lastHeaderCtGeneration;return this.lastHeaderCtGeneration=this.view.headerCt.items.generation,e},setupStoreListeners:function(e){this.storeListeners=e.on({groupchange:this.onGroupChange,scope:this,destroyable:!0})}}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",showSummaryRow:!0,vetoEvent:function(e,t,n,i){var r=this.callParent(arguments);return!1!==r&&i.getTarget(this.summaryRowSelector)&&(r=!1),r}}),Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",innerSelector:"."+Ext.baseCSSPrefix+"grid-rowbody",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",bodyBefore:!1,outerTpl:{fn:function(e,t,n){var i=this.rowBody,r=t.view,o=r.getVisibleColumnManager().getColumns(),a=r.rowValues,s=i.rowExpander&&i.rowExpander.expanderColumn;a.rowBodyColspan=o.length,a.rowBodyCls=i.rowBodyCls,a.rowIdCls=i.rowIdCls,s&&s.getView()===r?(r.grid.removeCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),a.addSpacerCell=!0,a.rowBodyColspan-=1,a.spacerCellCls=Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-row-expander-spacer "+Ext.baseCSSPrefix+"grid-cell-special"):(r.grid.addCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),a.addSpacerCell=!1),this.nextTpl.applyOut(t,e,n),a.rowBodyCls=a.rowBodyColspan=a.rowBody=null},priority:100},extraRowTpl:["{%","if(this.rowBody.bodyBefore) {","values.view.renderColumnSizer(values, out);","} else {","this.nextTpl.applyOut(values, out, parent);","}","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls} {rowIdCls}" {ariaRowAttr}>','<tpl if="addSpacerCell">','<td class="{spacerCellCls}"></td>',"</tpl>",'<td class="'+Ext.baseCSSPrefix+"grid-td "+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>',"</td>","</tr>","{%","if(this.rowBody.bodyBefore) {","this.nextTpl.applyOut(values, out, parent);","}","%}",{priority:100,beginRowSync:function(e){e.add("rowBody",this.owner.eventSelector)},syncContent:function(e,t,n){var i,r=this.owner,o=Ext.fly(e).down(r.eventSelector,!0);o&&(i=Ext.fly(t).down(r.eventSelector,!0))&&Ext.fly(o).syncContent(i)}}],init:function(e){var t=this,n=t.view=e.getView();!t.rowExpander&&e.findPlugin("rowexpander")&&Ext.raise("The RowBody feature shouldn't be manually added when the grid has a RowExpander."),e.variableRowHeight=n.variableRowHeight=!0,n.rowBodyFeature=t,n.headerCt.on({columnschanged:t.onColumnsChanged,scope:t}),n.addTpl(t.outerTpl).rowBody=t,n.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")).rowBody=t,t.callParent(arguments)},getSelectedRow:function(e,t){var n=e.getNode(t);return n?Ext.fly(n).down(this.eventSelector):null},onColumnsChanged:function(e){var t,n=this.view.el.query(this.rowBodyTdSelector),i=e.getVisibleGridColumns().length,r=n.length;for(t=0;t<r;++t)n[t].setAttribute("colSpan",i)},setupRowData:function(e,t,n){this.getAdditionalData&&Ext.apply(n,this.getAdditionalData(e.data,t,e,n))}}),Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",dock:void 0,summaryItemCls:Ext.baseCSSPrefix+"grid-row-summary-item",dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",hasFeatureEvent:!1,fullSummaryTpl:["{%","var me = this.summaryFeature,","    record = me.summaryRecord,","    view = values.view,","    bufferedRenderer = view.bufferedRenderer;","this.nextTpl.applyOut(values, out, parent);","if (!me.disabled && me.showSummaryRow &&","!view.addingRows && view.store.isLast(values.record)) {","if (bufferedRenderer) {","    bufferedRenderer.variableRowHeight = true;","}","me.outputSummaryRecord((record && record.isModel) ? record : me.createSummaryRecord(view), values, out, parent);","}","%}",{priority:300,beginRowSync:function(e){e.add("fullSummary",this.summaryFeature.summaryRowSelector)},syncContent:function(e,t,n){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"sycSrc");var i=this.summaryFeature.summaryRowSelector,r=e.down(i,!0),o=t.down(i,!0);r&&o&&(n?this.summaryFeature.view.updateColumns(r,o,n):Ext.fly(r).syncContent(o))}}],init:function(e){var t=this,n=t.view,i=t.dock;t.callParent(arguments),i?(e.addBodyCls(t.panelBodyCls+i),e.headerCt.on({add:t.onStoreUpdate,afterlayout:t.onStoreUpdate,scope:t}),e.on({beforerender:function(){var r=[t.summaryTableCls];n.columnLines&&(r[r.length]=n.ownerCt.colLinesCls),t.summaryBar=e.addDocked({childEls:["innerCt","item"],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+r.join(" ")+'">','<tr class="'+t.summaryRowCls+'"></tr>',"</table>","</div>"],scrollable:{x:!1,y:!1},hidden:!t.showSummaryRow,itemId:"summaryBar",cls:[t.dockedSummaryCls,t.dockedSummaryCls+"-"+i],xtype:"component",dock:i,weight:1e7})[0]},afterrender:function(){e.getView().getScrollable().addPartner(t.summaryBar.getScrollable(),"x"),t.onStoreUpdate()},single:!0}),e.headerCt.afterComponentLayout=Ext.Function.createSequence(e.headerCt.afterComponentLayout,function(){var e=this.getTableWidth(),n=t.summaryBar.innerCt;t.summaryBar.item.setWidth(e),this.tooNarrow&&(e+=Ext.getScrollbarSize().width),n.setWidth(e)})):e.bufferedRenderer?(t.wrapsItem=!0,n.addRowTpl(Ext.XTemplate.getTpl(t,"fullSummaryTpl")).summaryFeature=t,n.on("refresh",t.onViewRefresh,t)):(t.wrapsItem=!1,t.view.addFooterFn(t.renderSummaryRow)),e.ownerGrid.on({beforereconfigure:t.onBeforeReconfigure,columnmove:t.onStoreUpdate,scope:t}),t.bindStore(e,e.getStore())},onBeforeReconfigure:function(e,t){this.summaryRecord=null,t&&this.bindStore(e,t)},bindStore:function(e,t){var n=this;Ext.destroy(n.storeListeners),n.storeListeners=t.on({scope:n,destroyable:!0,update:n.onStoreUpdate,datachanged:n.onStoreUpdate}),n.callParent([e,t])},renderSummaryRow:function(e,t,n){var i,r=e.view,o=r.findFeature("summary");o.disabled||!o.showSummaryRow||r.addingRows||r.updatingRows||(i=o.summaryRecord,t.push('<table cellpadding="0" cellspacing="0" class="'+o.summaryItemCls+'" style="table-layout: fixed; width: 100%;">'),o.outputSummaryRecord(i&&i.isModel?i:o.createSummaryRecord(r),e,t,n),t.push("</table>"))},toggleSummaryRow:function(e,t){var n=this.summaryBar;this.callParent([e,t]),n&&(n.setVisible(this.showSummaryRow),this.onViewScroll())},getSummaryBar:function(){return this.summaryBar},getSummaryRowPlaceholder:function(e){var t,n,i=this.summaryItemCls;return(t=Ext.fly(e.getNodeContainer()))?((n=t.down("."+i,!0))||(n=t.createChild({tag:"table",cellpadding:0,cellspacing:0,cls:i,style:"table-layout: fixed; width: 100%",children:[{tag:"tbody"}]},!1,!0)),n):null},vetoEvent:function(e,t,n,i){return!i.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},onViewRefresh:function(e){var t,n=this;n.disabled||!n.showSummaryRow||e.all.getCount()||(t=n.createSummaryRecord(e),n.getSummaryRowPlaceholder(e).appendChild(Ext.fly(e.createRowElement(t,-1)).down(n.summaryRowSelector,!0)))},createSummaryRecord:function(e){var t,n,i,r,o,a=this,s=e.headerCt.getGridColumns(),l=a.remoteRoot,d=a.summaryRecord,c=s.length;if(d||(o={id:e.id+"-summary-record"},d=a.summaryRecord=new Ext.data.Model(o)),d.beginEdit(),l)(r=a.generateSummaryData())&&d.set(r);else for(t=0;t<c;t++)i=(n=s[t]).dataIndex||n.getItemId(),r=a.getSummary(e.store,n.summaryType,i),d.set(i,r),a.setSummaryData(d,n.getItemId(),r);return d.endEdit(!0),d.commit(!0),d.isSummary=!0,d},onStoreUpdate:function(){var e,t,n,i,r=this,o=r.view,a=r.summaryRowSelector,s=r.dock;o.rendered&&(e=r.createSummaryRecord(o),(t=Ext.fly(o.createRowElement(e,-1)).down(a,!0))&&(s?(n=(i=r.summaryBar.item.dom.firstChild).firstChild,i.insertBefore(t,n),i.removeChild(n),r.onColumnHeaderLayout()):((i=(n=o.el.down(a,!0))&&n.parentNode)&&i.removeChild(n),(i=(i=o.getRow(o.all.last()))?i.parentElement:(i=r.getSummaryRowPlaceholder(o))&&i.tBodies&&i.tBodies[0])&&i.appendChild(t))))},onColumnHeaderLayout:function(){var e,t,n,i=this.view,r=i.headerCt.getVisibleGridColumns(),o=r.length,a=this.summaryBar.el;for(t=0;t<o;t++)e=r[t],(n=a.down(i.getCellSelector(e),!0))&&Ext.fly(n).setWidth(e.width||(e.lastBox?e.lastBox.width:100))},destroy:function(){this.summaryRecord=this.storeListeners=Ext.destroy(this.storeListeners),this.callParent()}}),Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:!0,mixins:["Ext.mixin.Queryable"],requires:["Ext.Glyph"],config:{glyph:null},activated:!1,activeCls:Ext.baseCSSPrefix+"menu-item-active",clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:!0,ariaRole:"menuitem",ariaEl:"itemEl",baseCls:Ext.baseCSSPrefix+"menu-item",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",linkHrefCls:Ext.baseCSSPrefix+"menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="ariaAttributes"> {$}="{.}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on" role="presentation">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',autoEl:{role:"presentation"},maskOnDisable:!1,iconAlign:"left",initComponent:function(){var e,t=this,n=t.cls?[t.cls]:[];t.hasOwnProperty("canActivate")&&(t.focusable=t.canActivate),t.plain&&n.push(Ext.baseCSSPrefix+"menu-item-plain"),n.length&&(t.cls=n.join(" ")),t.menu&&(e=t.menu,t.menu=null,t.setMenu(e)),t.callParent(arguments)},canFocus:function(){var e=this;return e.focusable&&e.rendered&&!1!==e.canActivate&&!e.destroying&&!e.destroyed&&e.isVisible(!0)},onFocus:function(e){var t=this;t.callParent([e]),t.plain||t.addCls(t.activeCls),t.activated=!0,t.hasListeners.activate&&t.fireEvent("activate",t)},onFocusLeave:function(e){var t=this;t.callParent([e]),t.plain||t.removeCls(t.activeCls),t.doHideMenu(),t.activated=!1,t.hasListeners.deactivate&&t.fireEvent("deactivate",t)},doHideMenu:function(){var e=this.menu;this.cancelDeferExpand(),e&&e.isVisible()&&e.hide()},deferHideParentMenus:function(){for(var e=this.getRefOwner();e&&(e.isMenu&&e.floating||e.isMenuItem);e=e.getRefOwner())e.isMenu&&e.hide()},expandMenu:function(e,t){var n=this;!n.disabled&&n.activated&&n.menu&&(n.hideOnClick=!1,n.cancelDeferHide(),0===(t=null==t?n.menuExpandDelay:t)?n.doExpandMenu(e):(n.cancelDeferExpand(),n.expandMenuTimer=Ext.defer(n.doExpandMenu,t,n,[e])))},doExpandMenu:function(e){var t=this,n=t.menu;n.isVisible()?e&&"keydown"===e.type&&n.focus():(t.parentMenu.activeChild=n,n.ownerCmp=t,n.parentMenu=t.parentMenu,n.constrainTo=document.body,n.autoFocus=!e||!e.pointerType,n.showBy(t,t.menuAlign))},getRefItems:function(e){var t,n=this.menu;return n&&(t=n.getRefItems(e)).unshift(n),t||[]},getValue:function(){return this.value},hideMenu:function(e){var t=this;t.menu&&(t.cancelDeferExpand(),t.hideMenuTimer=Ext.defer(t.doHideMenu,Ext.isNumber(e)?e:t.menuHideDelay,t))},onClick:function(e){var t,n,i=this,r=i.clickHideDelay,o=e.browserEvent;return!((!i.href||i.disabled)&&(e.stopEvent(),i.disabled))&&(i.disabled||i.handlingClick||(i.hideOnClick&&!i.menu&&(r?i.deferHideParentMenusTimer=Ext.defer(i.deferHideParentMenus,r,i):i.deferHideParentMenus()),t=i.fireEvent("click",i,e),i.destroyed||(!1!==t&&i.handler&&Ext.callback(i.handler,i.scope,[i,e],0,i),i.destroyed))?void 0:(n=Ext.isIE9m?!1===o.returnValue:!!o.defaultPrevented,i.href&&"click"!==e.type&&!n&&(i.handlingClick=!0,i.itemEl.dom.click(),i.handlingClick=!1),i.hideOnClick||i.hasFocus||i.focus(),t))},onRemoved:function(){var e=this;e.activated&&e.parentMenu.activeItem===e&&e.parentMenu.deactivateActiveItem(),e.callParent(arguments),e.parentMenu=e.ownerCmp=null},doDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.cancelDeferExpand(),e.cancelDeferHide(),clearTimeout(e.deferHideParentMenusTimer),e.setMenu(null),e.callParent()},beforeRender:function(){var e,t=this,n=t.glyph,i=!!(t.icon||t.iconCls||n),r=!!t.menu,o="right"===t.iconAlign&&!r,a=t.isMenuCheckItem,s=[],l=t.ownerCt,d=l.plain;t.plain&&(t.ariaEl="el"),t.callParent(),i&&r&&t.showCheckbox&&(i=!1),n&&(e=n.fontFamily,n=n.character),(!d||i&&!o||a)&&(l.showSeparator&&!d?s.push(t.indentCls):s.push(t.indentNoSeparatorCls)),r?s.push(t.indentRightArrowCls):i&&(o||a)&&s.push(t.indentRightIconCls),Ext.applyIf(t.renderData,{hasHref:!!t.href,href:t.href||"#",hrefTarget:t.hrefTarget,icon:t.icon,iconCls:t.iconCls,glyph:n,glyphCls:n?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:e,hasIcon:i,hasMenu:r,indent:!d||i||a,isCheckItem:a,rightIcon:o,plain:t.plain,text:t.text,arrowCls:t.arrowCls,baseIconCls:t.baseIconCls,textCls:t.textCls,indentCls:s.join(" "),linkCls:t.linkCls,linkHrefCls:t.linkHrefCls,groupCls:t.group?t.groupCls:"",tabIndex:t.tabIndex})},onRender:function(){this.callParent(arguments),this.tooltip&&this.setTooltip(this.tooltip,!0)},getMenu:function(){return this.menu||null},setMenu:function(e,t){var n,i,r=this,o=r.menu,a=r.arrowEl,s=r.ariaEl.dom;o&&(o.ownerCmp=o.parentMenu=null,(!0===t||!1!==t&&r.destroyMenu)&&Ext.destroy(o),s?(s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-owns")):(delete(n=r.ariaRenderAttributes||(r.ariaRenderAttributes={}))["aria-haspopup"],delete n["aria-owns"])),e?(i=e.isMenu,(e=r.menu=Ext.menu.Manager.get(e,{ownerCmp:r,focusOnToFront:!1})).setOwnerCmp(r,i),s?(s.setAttribute("aria-haspopup",!0),s.setAttribute("aria-owns",e.id)):((n=r.ariaRenderAttributes||(r.ariaRenderAttributes={}))["aria-haspopup"]=!0,n["aria-owns"]=e.id)):e=r.menu=null,e&&r.rendered&&!r.destroying&&a&&a[e?"addCls":"removeCls"](r.arrowCls)},setHandler:function(e,t){this.handler=e||null,this.scope=t},setIcon:function(e){var t=this,n=t.iconEl,i=t.icon;t.glyph&&t.setGlyph(null),n&&n.setStyle("background-image",e?"url("+e+")":""),t.icon=e,t.fireEvent("iconchange",t,i,e)},setIconCls:function(e){var t=this,n=t.iconEl,i=t.iconCls;t.glyph&&t.setGlyph(null),n&&(n.setStyle("background-image",""),t.iconCls&&n.removeCls(t.iconCls),e&&n.addCls(e)),t.iconCls=e,t.fireEvent("iconchange",t,i,e)},setText:function(e){var t=this,n=t.textEl||t.el,i=t.text;t.text=e,t.rendered&&(n.setHtml(e||""),t.updateLayout()),t.fireEvent("textchange",t,i,e)},getTipAttr:function(){return"qtip"===this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(e,t){var n=this;return n.rendered?(t||n.clearTip(),Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.itemEl.id},e)),n.tooltip=e):n.itemEl.dom.setAttribute(n.getTipAttr(),e)):n.tooltip=e,n},getFocusEl:function(){return this.plain?this.el:this.itemEl},getFocusClsEl:function(){return this.el},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)}},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var n=this.iconEl;n&&(n.setStyle("background-image","none"),this.icon=null,e?(n.dom.innerHTML=e.character,n.setStyle(e.getStyle())):n.dom.innerHTML="")}}),Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,submenuText:"{0} submenu",ariaRole:"menuitemcheckbox",childEls:["checkEl"],defaultBindProperty:"checked",showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){var e=this;e.checked=!!e.checked,e.callParent(arguments),e.group&&(Ext.menu.Manager.registerCheckable(e),!1!==e.initialConfig.hideOnClick&&(e.hideOnClick=!0))},beforeRender:function(){var e,t=this;t.callParent(),Ext.apply(t.renderData,{checkboxCls:t.checkboxCls,showCheckbox:t.showCheckbox}),(e=t.ariaRenderAttributes||(t.ariaRenderAttributes={}))["aria-checked"]=t.menu?"mixed":t.checked,t.menu&&(e["aria-label"]=Ext.String.formatEncode(t.submenuText,t.text))},afterRender:function(){var e=this;e.callParent(),e.checked=!e.checked,e.setChecked(!e.checked,!0),e.checkChangeDisabled&&e.disableCheckChange(),Ext.isGecko&&e.checkEl&&e.checkEl.on("mousedown",e.onMouseDownCheck)},disableCheckChange:function(){var e=this,t=e.checkEl;t&&t.addCls(e.disabledCls),Ext.isIE8&&e.rendered&&e.el.repaint(),e.checkChangeDisabled=!0},enableCheckChange:function(){var e=this.checkEl;e&&e.removeCls(this.disabledCls),this.checkChangeDisabled=!1},onMouseDownCheck:function(e){e.preventDefault()},onClick:function(e){var t=this;if(!(t.disabled||t.checkChangeDisabled||t.checked&&t.group||t.menu&&"touch"===e.pointerType&&!t.checkEl.contains(e.target))&&(t.setChecked(!t.checked),"keydown"===e.type&&t.menu))return!1;this.callParent([e])},doDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent()},setText:function(e){var t=this.ariaEl.dom;this.callParent([e]),t&&this.menu&&t.setAttribute("aria-label",Ext.String.formatEncode(this.submenuText,e))},setChecked:function(e,t){var n=this,i=n.checkedCls,r=n.uncheckedCls,o=n.el,a=n.ariaEl.dom;n.checked===e||!t&&!1===n.fireEvent("beforecheckchange",n,e)||(o&&(e?(o.addCls(i),o.removeCls(r)):(o.addCls(r),o.removeCls(i))),a&&a.setAttribute("aria-checked",n.menu?"mixed":!!e),n.checked=e,Ext.menu.Manager.onCheckChange(n,e),n.publishState("checked",e),t||(Ext.callback(n.checkHandler,n.scope,[n,e],0,n),n.fireEvent("checkchange",n,e)))}}),Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",focusable:!1,canActivate:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){this.addCls(this.separatorCls),this.callParent()}}),Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.Manager","Ext.menu.Separator"],mixins:["Ext.util.FocusableContainer"],defaultType:"menuitem",enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,mouseLeaveDelay:100,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:!1,bringParentToFront:!1,alignOnScroll:!1,focusable:!0,tabIndex:-1,defaultFocus:":focusable",allowFocusingDisabledChildren:!0,menuClickBuffer:0,baseCls:Ext.baseCSSPrefix+"menu",_iconSeparatorCls:Ext.baseCSSPrefix+"menu-icon-separator",_itemCmpCls:Ext.baseCSSPrefix+"menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var e=this,t=[Ext.baseCSSPrefix+"menu"],n=e.bodyCls?[e.bodyCls]:[],i=!1!==e.floating,r={element:"el",click:e.onClick,mouseover:e.onMouseOver,scope:e};Ext.supports.Touch&&(r.pointerdown=e.onMouseOver),e.on(r),e.on({beforeshow:e.onBeforeShow,scope:e}),e.plain&&t.push(Ext.baseCSSPrefix+"menu-plain"),e.cls=t.join(" "),n.push(Ext.baseCSSPrefix+"menu-body",Ext.dom.Element.unselectableCls),e.bodyCls=n.join(" "),i?void 0===e.minWidth&&(e.minWidth=e.defaultMinWidth):(e.hidden=!!e.initialConfig.hidden,e.constrain=!1),e.callParent(arguments),Ext.override(e.getLayout(),{configureItem:e.configureItem}),e.itemOverTask=new Ext.util.DelayedTask(e.handleItemOver,e)},initFloatConstrain:Ext.emptyFn,getInherited:function(){var e=this.callParent();return this.floating&&(e.hidden=this.hidden),e},beforeRender:function(){var e=this;e.callParent(arguments),e.getSizeModel().width.shrinkWrap||(e.layout.align="stretch"),e.floating&&(e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-expanded"]=!!e.autoShow)},onBoxReady:function(){var e=this,t=e._iconSeparatorCls,n=e.focusableKeyNav;n?(n.map.processEventScope=e,n.map.processEvent=function(e){return e.keyCode===e.ESC&&(e.target=this.el.dom),e},n.map.addBinding([{key:Ext.event.Event.ESC,handler:e.onEscapeKey,scope:e},{key:/[\w]/,handler:e.onShortcutKey,scope:e,shift:!1,ctrl:!1,alt:!1}])):e.escapeKeyNav=new Ext.util.KeyNav(e.el,{eventName:"keydown",scope:e,esc:e.onEscapeKey}),e.callParent(arguments),e.showSeparator&&(e.iconSepEl=e.body.insertFirst({role:"presentation",cls:t+" "+t+"-"+e.ui,html:"&#160;"})),(Ext.supports.Touch||Ext.supports.MSPointerEvents||Ext.supports.PointerEvents)&&e.el.on({scope:e,click:e.preventClick,translate:!1}),e.mouseMonitor=e.el.monitorMouseLeave(e.mouseLeaveDelay,e.onMouseLeave,e)},onFocusEnter:function(e){var t,n=this;n.callParent([e]),n.mixins.focusablecontainer.onFocusEnter.call(n,e),n.floating&&((t=n.getInherited()).topmostFocusEvent||(t.topmostFocusEvent=e))},onFocusLeave:function(e){var t=this;t.callParent([e]),t.lastFocusedChild=null,t.mixins.focusablecontainer.onFocusLeave.call(t,e),t.floating&&t.hide()},handleItemOver:function(e,t){t.containsFocus||"mouse"!==e.pointerType&&!t.isMenuItem||t.focus(),t.expandMenu&&t.expandMenu(e)},canActivateItem:function(e){return e&&e.isFocusable()},deactivateActiveItem:function(){var e=this.lastFocusedChild;e&&e.blur()},getItemFromEvent:function(e){for(var t=this.layout.getRenderTarget().dom,n=e.getTarget();n.parentNode!==t;)if(!(n=n.parentNode))return;return Ext.getCmp(n.id)},lookupComponent:function(e){return"string"==typeof e?e="@"===e[0]?this.callParent([e]):this.lookupItemFromString(e):Ext.isObject(e)&&(e=this.lookupItemFromObject(e)),e.dock||(e.minWidth=e.minWidth||this.minWidth),e},lookupItemFromObject:function(e){var t=this.defaultType;return e.isComponent||(!e.xtype&&Ext.isBoolean(e.checked)&&(t="menucheckitem"),e=Ext.ComponentManager.create(e,t)),e.isMenuItem&&(e.parentMenu=this),e},lookupItemFromString:function(e){return"separator"===e||"-"===e?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:e})},configureItem:function(e){var t,n,i=this.owner,r=Ext.baseCSSPrefix,o=i.ui;e.isMenuItem?e.setUI(o):i.items.getCount()>1&&!e.rendered&&!e.dock&&(t=[(n=i._itemCmpCls)+" "+n+"-"+o],i.plain||!1===e.indent&&"no-icon"!==e.iconCls||t.push(r+"menu-item-indent-"+o),e.rendered?e.el.addCls(t):e.cls=(e.cls||"")+" "+t.join(" "),e.$extraMenuCls=t),this.callParent(arguments)},onRemove:function(e){this.callParent([e]),!e.destroyed&&e.$extraMenuCls&&e.el.removeCls(e.$extraMenuCls)},onClick:function(e){var t,n,i=this,r="keydown"===e.type;if(i.disabled)e.stopEvent();else{if((t=i.getItemFromEvent(e))&&t.isMenuItem){if(t.menu&&i.ignoreParentClicks?e.stopEvent():n=t.onClick(e),i.destroyed)return;t.menu&&!1!==n&&r&&t.expandMenu(e,0)}t&&!t.disabled||(t=void 0),i.fireEvent("click",i,t,e)}},doDestroy:function(){var e=this;e.escapeKeyNav&&e.escapeKeyNav.destroy(),e.parentMenu=e.ownerCmp=e.escapeKeyNav=null,e.rendered&&(e.el.un(e.mouseMonitor),Ext.destroy(e.iconSepEl)),Ext.menu.Manager.onHide(e),e.callParent()},onMouseLeave:function(e){var t=this;t.itemOverTask&&t.itemOverTask.cancel(),t.disabled||t.fireEvent("mouseleave",t,e)},onMouseOver:function(e){var t=this,n=e.getRelatedTarget(),i=!t.el.contains(n),r=t.getItemFromEvent(e),o=t.parentMenu,a=t.ownerCmp;i&&o&&(o.setActiveItem(a),a.cancelDeferHide(),o.mouseMonitor.mouseenter(),o.itemOverTask.cancel()),t.disabled||(r&&t.itemOverTask.delay(t.mouseLeaveDelay,null,null,[e,r]),i&&t.fireEvent("mouseenter",t,e),t.fireEvent("mouseover",t,r,e))},setActiveItem:function(e){e&&e!==this.lastFocusedChild&&this.focusChild(e,1)},onEscapeKey:function(){this.floating&&this.hide()},onShortcutKey:function(e,t){var n=String.fromCharCode(t.getCharCode()),i=this.query(">[text]"),r=i.length,o=this.lastFocusedChild,a=Ext.Array.indexOf(i,o),s=a;if(0!==r)for(;;){if(++s===r&&(s=0),o=i[s],s===a)return;if(o.text&&o.text[0].toUpperCase()===n)return void o.focus()}},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer)return!1},beforeShow:function(){this.floating&&(this.hasFloatMenuParent()||this.allowOtherMenus||Ext.menu.Manager.hideAll()),this.callParent(arguments)},afterShow:function(){var e=this,t=e.ariaEl.dom;e.callParent(arguments),Ext.menu.Manager.onShow(e),e.floating&&t&&t.setAttribute("aria-expanded",!0),e.floating&&(e.maxHeight=e.savedMaxHeight),e.autoFocus&&e.focus()},onHide:function(e,t,n){var i=this,r=i.ariaEl.dom;i.callParent([e,t,n]),i.lastHide=Ext.Date.now(),Ext.menu.Manager.onHide(i),i.floating&&r&&r.setAttribute("aria-expanded",!1)},afterHide:function(e,t){this.callParent([e,t]),delete this.getInherited().topmostFocusEvent},preventClick:function(e){var t=this.getItemFromEvent(e);t&&t.isMenuItem&&!t.href&&e.preventDefault()},privates:{applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},initFocusableElement:function(){var e=this.tabIndex,t=this.el;this.floating&&null!=e&&t&&t.dom&&(t.dom.setAttribute("tabIndex",e),t.dom.setAttribute("data-componentid",this.id))},onFocusableContainerTabKey:function(e){this.floating&&(e.shiftKey?e.preventDefault():this.focusEnterEvent=this.getInherited().topmostFocusEvent,this.hide())},onFocusableContainerEnterKey:function(e){this.onClick(e)},onFocusableContainerSpaceKey:function(e){this.onClick(e)},onFocusableContainerLeftKey:function(e){e.preventDefault(),this.parentMenu&&(this.ownerCmp.focus(),this.hide())},onFocusableContainerRightKey:function(e){var t=this.lastFocusedChild;e.preventDefault(),t&&t.expandMenu&&t.expandMenu(e,0)},hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[floating=true]")},setOwnerCmp:function(e,t){var n=this;n.parentMenu=e.isMenuItem?e:null,n.ownerCmp=e,n.registerWithOwnerCt(),delete n.hierarchicallyHidden,n.onInheritedAdd(e,t),n.containerOnAdded(e,t)}}}),Ext.define("Ext.grid.filters.filter.Base",{mixins:["Ext.mixin.Factoryable"],factoryConfig:{type:"grid.filter"},$configPrefixed:!1,$configStrict:!1,config:{itemDefaults:null,menuDefaults:{xtype:"menu"},updateBuffer:500,serializer:null},active:!1,type:"string",dataIndex:null,menu:null,isGridFilter:!0,defaultRoot:"data",filterIdPrefix:Ext.baseCSSPrefix+"gridfilter",constructor:function(e){var t,n=this;n.callParent([e]),n.initConfig(e),t=n.column,n.columnListeners=t.on("destroy",n.destroy,n,{destroyable:!0}),n.dataIndex=n.dataIndex||t.dataIndex,n.task=new Ext.util.DelayedTask(n.setValue,n)},destroy:function(){var e=this;e.task&&(e.task.cancel(),e.task=null),e.columnListeners=e.columnListeners.destroy(),e.grid=e.menu=Ext.destroy(e.menu),e.callParent()},addStoreFilter:function(e){var t=this.getGridStore().getFilters(),n=t.indexOf(e),i=-1!==n?t.getAt(n):null;i&&Ext.util.Filter.isEqual(i,e)||t.add(e)},createFilter:function(e,t){var n=new Ext.util.Filter(this.getFilterConfig(e,t));return n.isGridFilter=!0,n},getFilterConfig:function(e,t){return e.id=this.getBaseIdPrefix(),e.property||(e.property=this.dataIndex),e.root||(e.root=this.defaultRoot),t&&(e.id+="-"+t),e.serializer=this.getSerializer(),e},createMenu:function(){this.menu=Ext.widget(this.getMenuConfig())},getActiveState:function(e,t){var n=e.active;return void 0!==n?n:void 0!==t},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getGridStore:function(){return this.grid.getStore()},getStoreFilter:function(e){var t=this.getBaseIdPrefix();return e&&(t+="-"+e),this.getGridStore().getFilters().get(t)},onValueChange:function(e,t){var n,i=this,r=t.getKey(),o=i.updateBuffer;if(r!==t.TAB&&(e.isFormField||Ext.raise("`field` should be a form field instance."),e.isValid())){if(r===t.RETURN)return void i.menu.hide();if((n=i.getValue(e))===i.value)return;o?i.task.delay(o,null,null,[n]):i.setValue(n)}},preprocess:Ext.emptyFn,removeStoreFilter:function(e){this.getGridStore().getFilters().remove(e)},getValue:Ext.emptyFn,setActive:function(e){var t,n=this,i=n.owner.activeFilterMenuItem;n.active!==e&&(n.active=e,(t=n.getGridStore().getFilters()).beginUpdate(),e?n.activate():n.deactivate(),t.endUpdate(),i&&i.activeFilter===n&&i.setChecked(e),n.setColumnActive(e))},setColumnActive:function(e){this.column[e?"addCls":"removeCls"](this.owner.filterCls)},showMenu:function(e){var t=this;t.menu||t.createMenu(),e.activeFilter=t,e.setMenu(t.menu,!1),e.setChecked(t.active),e.setDisabled(!0===t.disabled),t.activate(!0)},updateStoreFilter:function(){this.getGridStore().getFilters().notify("endupdate")}}),Ext.define("Ext.grid.filters.filter.SingleFilter",{extend:"Ext.grid.filters.filter.Base",constructor:function(e){var t,n,i=this;i.callParent([e]),n=i.value,(t=i.getStoreFilter())?i.active=!0:(i.grid.stateful&&i.getGridStore().saveStatefulFilters&&(n=void 0),i.active=i.getActiveState(e,n),t=i.createFilter({operator:i.operator,value:n}),i.active&&i.addStoreFilter(t)),i.active&&i.setColumnActive(!0),i.filter=t},activate:function(e){e?this.activateMenu():this.addStoreFilter(this.filter)},deactivate:function(){this.removeStoreFilter(this.filter)},getValue:function(e){return e.getValue()},onFilterRemove:function(){this.menu&&!this.active||(this.active=!1)}}),Ext.define("Ext.grid.filters.filter.Boolean",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.boolean",type:"boolean",operator:"==",defaultValue:!1,yesText:"Yes",noText:"No",updateBuffer:0,createMenu:function(e){var t=this,n=Ext.id(),i={scope:t,click:t.onClick},r=t.getItemDefaults();t.callParent(arguments),t.menu.add([Ext.apply({text:t.yesText,filterKey:1,group:n,checked:!!t.defaultValue,hideOnClick:!1,listeners:i},r),Ext.apply({text:t.noText,filterKey:0,group:n,checked:!t.defaultValue,hideOnClick:!1,listeners:i},r)])},onClick:function(e){this.setValue(!!e.filterKey)},setValue:function(e){var t=this;t.filter.setValue(e),void 0!==e&&t.active?(t.value=e,t.updateStoreFilter()):t.setActive(!0)},activateMenu:Ext.emptyFn}),Ext.define("Ext.grid.filters.filter.TriFilter",{extend:"Ext.grid.filters.filter.Base",menuItems:["lt","gt","-","eq"],constructor:function(e){var t,n,i,r,o,a=this,s=!1,l={};if(a.callParent([e]),r=a.value,n=a.getStoreFilter("lt"),t=a.getStoreFilter("gt"),i=a.getStoreFilter("eq"),n||t||i?(s=a.active=!0,n&&a.onStateRestore(n),t&&a.onStateRestore(t),i&&a.onStateRestore(i)):(a.grid.stateful&&a.getGridStore().saveStatefulFilters&&(r=void 0),a.active=a.getActiveState(e,r)),l.lt=n||a.createFilter({operator:"lt",value:!s&&r&&Ext.isDefined(r.lt)?r.lt:null},"lt"),l.gt=t||a.createFilter({operator:"gt",value:!s&&r&&Ext.isDefined(r.gt)?r.gt:null},"gt"),l.eq=i||a.createFilter({operator:"eq",value:!s&&r&&Ext.isDefined(r.eq)?r.eq:null},"eq"),a.filter=l,a.active&&(a.setColumnActive(!0),!s))for(o in r)a.addStoreFilter(a.filter[o])},activate:function(e){var t,n,i,r,o,a=this,s=a.filter,l=a.fields;if(!a.preventFilterRemoval)for(i in s)t=s[i],n=l[i],((r=t.getValue())||0===r)&&(n.isComponent?(n.setValue(r),void 0===o&&(o=a.owner.activeFilterMenuItem===n.up("menuitem")),o||n.up("menuitem").setChecked(!0,!0)):n.value=r,e||a.addStoreFilter(t))},deactivate:function(){var e,t,n,i=this,r=i.filter;if(i.countActiveFilters()&&!i.preventFilterRemoval){for(e in i.preventFilterRemoval=!0,r)((n=(t=r[e]).getValue())||0===n)&&i.removeStoreFilter(t);i.preventFilterRemoval=!1}},countActiveFilters:function(){var e,t=this.filter,n=this.getGridStore().getFilters(),i=this.getBaseIdPrefix(),r=0;if(n.length)for(e in t)n.get(i+"-"+e)&&r++;return r},onFilterRemove:function(e){var t,n=this;!n.menu&&n.countActiveFilters()?n.active=!1:n.menu&&((t={})[e]=null,n.setValue(t))},onStateRestore:Ext.emptyFn,setValue:function(e){var t,n,i,r,o,a,s=this,l=s.filter,d=[],c=[],u=s.getGridStore().getFilters();if(!s.preventFilterRemoval){if(s.preventFilterRemoval=!0,"eq"in e?(((i=l.lt.getValue())||0===i)&&c.push(l.lt),((i=l.gt.getValue())||0===i)&&c.push(l.gt),(i=e.eq)||0===i?(d.push(l.eq),l.eq.setValue(i)):c.push(l.eq)):(((i=l.eq.getValue())||0===i)&&c.push(l.eq),"lt"in e&&((i=e.lt)||0===i?(d.push(l.lt),l.lt.setValue(i)):c.push(l.lt)),"gt"in e&&((i=e.gt)||0===i?(d.push(l.gt),l.gt.setValue(i)):c.push(l.gt))),o=c.length,a=d.length,t=!!(s.countActiveFilters()+a-o),o||a||t!==s.active){if(u.beginUpdate(),o)for(r=0;r<o;r++)n=c[r],s.fields[n.getOperator()].setValue(null),n.setValue(null),s.removeStoreFilter(n);if(a)for(r=0;r<a;r++)s.addStoreFilter(d[r]);s.setActive(t),u.endUpdate()}s.preventFilterRemoval=!1}}}),Ext.define("Ext.grid.filters.filter.Date",{extend:"Ext.grid.filters.filter.TriFilter",alias:"grid.filter.date",uses:["Ext.picker.Date","Ext.menu.DatePicker"],type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0},updateBuffer:0,dateFormat:void 0},itemDefaults:{xtype:"menucheckitem",selectOnFocus:!0,width:125,menu:{layout:"auto",plain:!0}},applyDateFormat:function(e){return e||Ext.Date.defaultFormat},createMenu:function(e){var t,n,i,r,o,a,s,l,d,c=this,u={scope:c,checkchange:c.onCheckChange},h=c.menuItems;for(c.callParent(arguments),n=c.getItemDefaults(),t=c.getFields(),i=Ext.apply({minDate:c.minDate,maxDate:c.maxDate,format:c.dateFormat,listeners:{scope:c,select:c.onMenuSelect}},c.getPickerDefaults()),c.fields={},r=0,o=h.length;r<o;r++)"-"!==(a=h[r])?(l={menu:{xtype:"datemenu",hideOnClick:!1,pickerCfg:Ext.apply({itemId:a},i)}},n&&Ext.merge(l,n),t&&Ext.merge(l,t[a]),s=c.menu.add(l),(d=c.fields[a]=s.down("datepicker")).filter=c.filter[a],d.filterKey=a,s.on(u)):c.menu.add(a)},getPicker:function(e){return this.fields[e]},onCheckChange:function(e,t){var n,i=e.down("datepicker").filter;!t&&i.getValue()&&((n={})[i.getOperator()]=null,this.setValue(n))},onFilterRemove:function(e){var t={};t[e]=null,this.setValue(t),this.fields[e].up("menuitem").setChecked(!1,!0)},onStateRestore:function(e){e.setSerializer(this.getSerializer()),e.setConvert(this.convertDateOnly)},getFilterConfig:function(e,t){return(e=this.callParent([e,t])).serializer=this.getSerializer(),e.convert=this.convertDateOnly,e},convertDateOnly:function(e){var t=null;return e&&(t=Ext.Date.clearTime(e,!0).getTime()),t},getSerializer:function(){var e=this;return function(t){var n=t.value;n&&(t.value=Ext.Date.format(n,e.getDateFormat()))}},onMenuSelect:function(e,t){var n=this.fields,i=this.filter,r=n[e.itemId],o=n.gt,a=n.lt,s=n.eq,l={};r.up("menuitem").setChecked(!0,!0),r===s?(a.up("menuitem").setChecked(!1,!0),o.up("menuitem").setChecked(!1,!0)):(s.up("menuitem").setChecked(!1,!0),r===o&&+a.value<+t?(a.up("menuitem").setChecked(!1,!0),null!=i.lt.getValue()&&(l.lt=null)):r===a&&+o.value>+t&&(o.up("menuitem").setChecked(!1,!0),null!=i.gt.getValue()&&(l.gt=null))),l[r.filterKey]=t,this.setValue(l),e.up("menu").hide()}}),Ext.define("Ext.grid.filters.filter.List",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.list",type:"list",operator:"in",itemDefaults:{checked:!1,hideOnClick:!1},idField:"id",labelField:"text",labelIndex:null,loadingText:"Loading...",loadOnShow:!0,single:!1,plain:!0,gridStoreListenersCfg:{add:"onDataChanged",refresh:"onDataChanged",remove:"onDataChanged",update:"onDataChanged"},constructor:function(e){var t,n=this;n.callParent([e]),n.itemDefaults.checked&&Ext.raise("The itemDefaults.checked config is not supported, use the value config instead."),n.labelIndex=n.labelIndex||n.column.dataIndex,n.store&&(n.store=Ext.StoreManager.lookup(n.store)),n.store||n.options||(t=n.getGridStore(),null!=n.value&&n.active&&!t.isEmptyStore&&(n.gridStoreListeners=t.on(Ext.apply({scope:n,destroyable:!0},n.gridStoreListenersCfg))),n.gridListeners=n.grid.on({reconfigure:n.onReconfigure,scope:n,destroyable:!0}),n.inferOptionsFromGridStore=!0)},destroy:function(){var e=this,t=e.store,n=e.autoStore;t&&t.isStore&&(n||t.autoDestroy?t.destroy():t.un("load",e.bindMenuStore,e),e.store=null),Ext.destroy(e.gridStoreListeners,e.gridListeners),e.callParent()},activateMenu:function(){var e,t,n,i,r=this.filter.getValue();if(r&&r.length)for(t=0,n=(e=this.menu.items).length;t<n;t++)i=e.getAt(t),Ext.Array.indexOf(r,i.value)>-1&&i.setChecked(!0,!0)},bindMenuStore:function(e){var t=this;t.grid.destroyed||t.preventFilterRemoval||(t.createListStore(e),t.createMenuItems(t.store),t.loaded=!0)},createListStore:function(e){var t,n,i,r,o,a=this,s=a.store,l=e.isStore,d=a.idField,c=a.labelField,u=!1;if(l)e!==a.getGridStore()?(u=!0,s=a.store=e):(a.autoStore=!0,t=a.getOptionsFromStore(e));else for(t=[],i=0,r=e.length;i<r;i++)switch(o=e[i],Ext.typeOf(o)){case"array":case"object":t.push(o);break;default:null!=o&&((n={})[d]=o,n[c]=o,t.push(n))}u||(s&&s.destroy(),s=a.store=new Ext.data.Store({fields:[d,c],data:t}),a.inferOptionsFromGridStore&!a.gridStoreListeners&&(a.gridStoreListeners=a.getGridStore().on(Ext.apply({scope:a,destroyable:!0},a.gridStoreListenersCfg))),a.loaded=!0),a.setStoreFilter(s)},createMenu:function(e){var t,n=this,i=n.getGridStore(),r=n.store,o=n.options;r&&(n.store=r=Ext.StoreManager.lookup(r)),n.callParent([e]),t=n.menu,r?r.getCount()?n.createMenuItems(r):(t.add({text:n.loadingText,iconCls:Ext.baseCSSPrefix+"mask-msg-text"}),t.on({show:n.show,scope:n}),r.on("load",n.bindMenuStore,n,{single:!0})):o?n.bindMenuStore(o):i.getCount()||i.isFiltered()?n.bindMenuStore(i):i.on("load",n.bindMenuStore,n,{single:!0})},createMenuItems:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.menu,h=e.getCount(),f=Ext.Array.contains;if(h&&u){for(t=c.getItemDefaults(),u.suspendLayouts(),u.removeAll(!0),i=c.single?Ext.id():null,o=c.idField,s=c.labelField,d=[],l=0;l<h;l++)r=(n=e.getAt(l)).get(o),null==(a=n.get(s))||f(d,r)||(d.push(a),u.add(Ext.apply({text:a,group:i,value:r,checkHandler:c.onCheckChange,scope:c},t)));u.resumeLayouts(!0)}},getFilterConfig:function(e,t){return e.value=e.value||[],this.callParent([e,t])},getOptionsFromStore:function(e){var t,n,i,r=e.getData(),o={},a=[],s=this.dataIndex,l=this.labelIndex;return e.isFiltered()&&!e.remoteFilter&&(r=r.getSource()),e.each(function(e){t=e.data,n=t[s],void 0===(i=t[l])&&(i=n),o[n]||(o[n]=1,a.push([n,i]))},null,{filtered:!0,collapsed:!0}),a},onCheckChange:function(){var e=this.updateBuffer;e?this.task.delay(e):this.setValue()},onDataChanged:function(e){this.preventDefault?this.preventDefault=!1:this.bindMenuStore(e)},onReconfigure:function(e,t){t&&this.bindMenuStore(t)},setActive:function(e){this.active!==e&&(this.preventDefault=!0,this.callParent([e]))},setStoreFilter:function(e){var t=this,n=t.value,i=t.filter;n&&(Ext.isArray(n)||(n=[n]),i.setValue(n)),t.active&&(t.preventFilterRemoval=!0,t.addStoreFilter(i),t.preventFilterRemoval=!1)},setValue:function(){var e,t,n,i=this,r=i.menu.items,o=[];for(i.preventDefault=!0,e=0,t=r.length;e<t;e++)(n=r.getAt(e)).checked&&o.push(n.value);Ext.Array.equals(o,i.filter.getValue())||(i.filter.setValue(o),(t=o.length)&&i.active?i.updateStoreFilter():i.setActive(!!t))},show:function(){var e=this.store;!this.loadOnShow||this.loaded||e.hasPendingLoad()||e.load()}}),Ext.define("Ext.grid.filters.filter.Number",{extend:"Ext.grid.filters.filter.TriFilter",alias:["grid.filter.number","grid.filter.numeric"],uses:["Ext.form.field.Number"],type:"number",config:{fields:{gt:{iconCls:Ext.baseCSSPrefix+"grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:Ext.baseCSSPrefix+"grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:Ext.baseCSSPrefix+"grid-filters-eq",margin:0}}},emptyText:"Enter Number...",itemDefaults:{xtype:"numberfield",enableKeyEvents:!0,hideEmptyLabel:!1,labelSeparator:"",labelWidth:29,selectOnFocus:!1},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var e,t,n,i,r,o,a=this,s={scope:a,keyup:a.onValueChange,spin:{fn:a.onInputSpin,buffer:200},el:{click:a.stopFn}},l=a.getItemDefaults(),d=a.menuItems,c=a.getFields();for(a.callParent(),a.fields={},t=0,n=d.length;t<n;t++)"-"!==(i=d[t])?(e=c[i],o={labelClsExtra:Ext.baseCSSPrefix+"grid-filters-icon "+e.iconCls},l&&Ext.merge(o,l),Ext.merge(o,e),o.emptyText=o.emptyText||a.emptyText,delete o.iconCls,a.fields[i]=r=a.menu.add(o),r.filter=a.filter[i],r.filterKey=i,r.on(s)):a.menu.add(i)},getValue:function(e){var t={};return t[e.filterKey]=e.getValue(),t},onInputSpin:function(e,t){var n={};n[e.filterKey]=e.getValue(),this.setValue(n)},stopFn:function(e){e.stopPropagation()}}),Ext.define("Ext.grid.filters.filter.String",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.string",type:"string",operator:"like",emptyText:"Enter Filter Text...",itemDefaults:{xtype:"textfield",enableKeyEvents:!0,hideEmptyLabel:!1,iconCls:Ext.baseCSSPrefix+"grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:!0},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var e,t=this;t.callParent(),!(e=Ext.apply({},t.getItemDefaults())).iconCls||"labelClsExtra"in e||(e.labelClsExtra=Ext.baseCSSPrefix+"grid-filters-icon "+e.iconCls),delete e.iconCls,e.emptyText=e.emptyText||t.emptyText,t.inputItem=t.menu.add(e),t.inputItem.on({scope:t,keyup:t.onValueChange,el:{click:function(e){e.stopPropagation()}}})},setValue:function(e){var t=this;t.inputItem&&t.inputItem.setValue(e),t.filter.setValue(e),e&&t.active?(t.value=e,t.updateStoreFilter()):t.setActive(!!e)},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())},createFilter:function(e,t){var n=this;return n.filterFn?new Ext.util.Filter({filterFn:function(e){return Ext.callback(n.filterFn,n.scope,[e,n.inputItem.getValue()])}}):n.callParent([e,t])}}),Ext.define("Ext.grid.filters.Filters",{extend:"Ext.plugin.Abstract",alias:"plugin.gridfilters",mixins:["Ext.util.StoreHolder"],requires:["Ext.grid.filters.filter.*"],id:"gridfilters",defaultFilterTypes:{boolean:"boolean",int:"number",date:"date",number:"number"},filterCls:Ext.baseCSSPrefix+"grid-filters-filtered-column",menuFilterText:"Filters",showMenu:!0,stateId:void 0,init:function(e){var t,n,i=this;Ext.Assert.falsey(i.grid),i.grid=e,e.filters=i,i.grid.normalGrid&&(i.isLocked=!0),e.clearFilters=i.clearFilters.bind(i),t=e.store,n=e.headerCt,i.headerCtListeners=n.on({destroyable:!0,scope:i,add:i.onAdd,menucreate:i.onMenuCreate}),i.gridListeners=e.on({destroyable:!0,scope:i,reconfigure:i.onReconfigure}),i.bindStore(t),e.stateful&&(t.statefulFilters=!0),i.initColumns()},initColumns:function(){var e,t,n,i,r=this.grid,o=r.getStore(),a=r.columnManager.getColumns(),s=a.length;for(e=0;e<s;e++)(n=(t=a[e]).filter)&&!n.isGridFilter&&(i||(i=o.getFilters()).beginUpdate(),this.createColumnFilter(t));i&&i.endUpdate()},createColumnFilter:function(e){var t,n,i,r=e.filter,o={column:e,grid:this.grid,owner:this};Ext.isString(r)?o.type=r:Ext.apply(o,r),o.type||(i=(t=(n=this.store.getModel())&&n.getField(e.dataIndex))&&t.type,o.type=i&&this.defaultFilterTypes[i]||e.defaultFilterType||"string"),e.filter=Ext.Factory.gridFilter(o),e.menuDisabled||(e.requiresMenu=!0)},onAdd:function(e,t,n){var i=t.filter;i&&!i.isGridFilter&&this.createColumnFilter(t)},onMenuCreate:function(e,t){t.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(e){var t,n,i,r,o=this;o.showMenu&&(o.filterMenuItem||(o.filterMenuItem={}),r=(i=e.up("tablepanel")).id,(t=o.filterMenuItem[r])&&!t.destroyed||(t=o.createMenuItem(e,r)),o.activeFilterMenuItem=t,(n=o.getMenuFilter(i.headerCt))&&n.showMenu(t),t.setVisible(!!n),o.sep&&o.sep.setVisible(!!n))},createMenuItem:function(e,t){var n,i=this;return e.items.length&&(i.sep=e.add("-")),n=e.add({checked:!1,itemId:"filters",text:i.menuFilterText,listeners:{scope:i,checkchange:i.onCheckChange}}),i.filterMenuItem[t]=n},destroy:function(){var e,t=this,n=t.filterMenuItem;for(e in Ext.destroy(t.headerCtListeners,t.gridListeners),t.bindStore(null),t.sep=Ext.destroy(t.sep),n)n[e].destroy();this.callParent()},onUnbindStore:function(e){e&&!e.destroyed&&e.getFilters().un("remove",this.onFilterRemove,this)},onBindStore:function(e,t,n){this.local=!e.getRemoteFilter(),e.getFilters().on("remove",this.onFilterRemove,this)},onFilterRemove:function(e,t){var n,i,r,o,a=t.items.length,s=this.grid.columnManager;for(n=0;n<a;n++)if(i=t.items[n],r=s.getHeaderByDataIndex(i.getProperty())){if(!(o=r.filter)||!o.menu||-1===i.getId().indexOf(o.getBaseIdPrefix()))continue;o.preventFilterRemoval||o.onFilterRemove(i.getOperator())}},getMenuFilter:function(e){return e.getMenu().activeHeader.filter},onCheckChange:function(e,t){var n=this.isLocked?e.up("tablepanel"):this.grid;this.getMenuFilter(n.headerCt).setActive(t)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(e){var t,n,i,r,o,a,s=this,l=s.grid,d=s.store,c=!1,u=!0;for(Ext.isArray(e)||(e=[e]),i=0,r=e.length;i<r;i++)t=(o=e[i]).dataIndex,(n=l.columnManager.getHeaderByDataIndex(t))&&(c=!0,o.value&&(u=!1),(a=n.filter)&&a.isGridFilter&&(a.deactivate(),a.destroy(),s.activeFilterMenuItem&&(s.activeFilterMenuItem.menu=null)),n.filter=o);c&&(d.suppressNextFilter=u,s.initColumns(),d.suppressNextFilter=!1)},addFilters:function(e){e&&this.addFilter(e)},clearFilters:function(){var e,t,n,i,r=this.grid,o=r.columnManager.getColumns(),a=r.store;for(t=0,n=o.length;t<n;t++)(e=o[t].filter)&&e.isGridFilter&&(i||(i=a.getFilters()).beginUpdate(),e.setActive(!1));i&&i.endUpdate()},onReconfigure:function(e,t,n,i){var r,o=this,a=o.filterMenuItem,s=i!==t;if(n)for(r in a)a[r].setMenu(null);t&&(i&&!i.destroyed&&s&&o.resetFilters(i),s&&(o.bindStore(t),o.applyFilters(t))),o.initColumns()},privates:{applyFilters:function(e){var t,n,i,r=this.grid.columnManager.getColumns(),o=r.length;for(t=0;t<o;t++)(n=r[t].filter)&&n.isGridFilter&&(i||(i=e.getFilters()).beginUpdate(),n.active&&n.activate());i&&i.endUpdate()},resetFilters:function(e){var t,n,i,r=e.getFilters();if(r){for(t=r.getCount()-1;t>=0;--t)(i=r.getAt(t)).isGridFilter&&(n||r.beginUpdate(),r.remove(i),n=!0);n&&r.endUpdate()}}}}),Ext.define("Ext.grid.locking.HeaderContainer",{extend:"Ext.grid.header.Container",requires:["Ext.grid.ColumnManager"],headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(e){var t=this,n=e.lockedGrid,i=e.normalGrid;t.lockable=e,t.callParent(),n.visibleColumnManager.rootColumns=i.visibleColumnManager.rootColumns=e.visibleColumnManager=t.visibleColumnManager=new Ext.grid.ColumnManager(!0,n.headerCt,i.headerCt),n.columnManager.rootColumns=i.columnManager.rootColumns=e.columnManager=t.columnManager=new Ext.grid.ColumnManager(!1,n.headerCt,i.headerCt),t.lockedEventRelayers=t.relayEvents(n.headerCt,t.headerCtRelayEvents),t.normalEventRelayers=t.relayEvents(i.headerCt,t.headerCtRelayEvents)},destroy:function(){var e=this;Ext.destroy(e.lockedEventRelayers,e.normalEventRelayers),e.lockedEventRelayers=e.normalEventRelayers=null,e.callParent()},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var e=this.lockable.lockedGrid.headerCt.getColumnsState(),t=this.lockable.normalGrid.headerCt.getColumnsState();return e.concat(t)},applyColumnsState:function(e,t){var n,i,r,o,a,s=this.lockable.lockedGrid.headerCt,l=this.lockable.normalGrid.headerCt,d=s.items.items.concat(l.items.items),c=d.length;for(n=0;n<c;n++)(o=e[(i=d[n]).getStateId()])&&(r=null!=o.locked&&Boolean(i.locked)!==o.locked,i.applyColumnState&&i.applyColumnState(o,t),r&&(i.locked?s:l).add(i));for(a=s.items.items.length,n=0;n<c;n++)(o=e[(i=d[n]).getStateId()])&&!i.locked&&(o.index-=a);s.applyColumnsState(e,t),l.applyColumnsState(e,t)},disable:function(){var e=this.lockable;e.lockedGrid.headerCt.disable(),e.normalGrid.headerCt.disable()},enable:function(){var e=this.lockable;e.lockedGrid.headerCt.enable(),e.normalGrid.headerCt.enable()}}),Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",requires:["Ext.view.AbstractView","Ext.view.Table"],mixins:["Ext.util.Observable","Ext.util.StoreHolder","Ext.util.Focusable"],isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(e){var t,n,i=Ext,r=this;r.ownerGrid=e.ownerGrid,r.ownerGrid.view=r,r.navigationModel="treepanel"===e.locked.xtype?new i.tree.NavigationModel(r):new i.grid.NavigationModel(r),e.locked.viewConfig.bindStore=i.emptyFn,e.normal.viewConfig.bindStore=r.subViewBindStore,e.normal.viewConfig.isNormalView=e.locked.viewConfig.isLockedView=!0,e.locked.viewConfig.navigationModel=e.normal.viewConfig.navigationModel=r.navigationModel,r.lockedGrid=r.ownerGrid.lockedGrid=i.ComponentManager.create(e.locked),r.lockedView=t=r.lockedGrid.getView(),r.selModel=e.normal.viewConfig.selModel=t.getSelectionModel(),r.lockedGrid.isTree&&(r.lockedView.animate=!1,e.normal.store=t.store,e.normal.viewConfig.stripeRows=r.lockedView.stripeRows,e.normal.rowLines=r.lockedGrid.rowLines),r.normalGrid=r.ownerGrid.normalGrid=i.ComponentManager.create(e.normal),t.lockingPartner=n=r.normalView=r.normalGrid.getView(),n.lockingPartner=t,Ext.override(r.normalGrid,{beforeRender:r.beforeNormalGridRender}),r.loadMask=void 0!==e.loadMask?e.loadMask:r.loadMask,r.mixins.observable.constructor.call(r),r.lockedViewEventRelayers=r.relayEvents(t,i.view.Table.events),r.normalViewEventRelayers=r.relayEvents(n,i.view.Table.events.concat(i.view.Table.normalSideEvents)),n.on({scope:r,itemmouseleave:r.onItemMouseLeave,itemmouseenter:r.onItemMouseEnter}),t.on({scope:r,itemmouseleave:r.onItemMouseLeave,itemmouseenter:r.onItemMouseEnter}),r.loadingText=n.loadingText,r.loadingCls=n.loadingCls,r.loadingUseMsg=n.loadingUseMsg,r.itemSelector=r.getItemSelector(),r.all=n.all,r.bindStore(n.dataSource,!0,"dataSource")},subViewBindStore:function(e,t){var n,i=this,r=i.ownerGrid;i.destroying||i.destroyed||r.destroying||r.destroyed||((n=i.getSelectionModel()).bindStore(e,t),n.bindComponent(i))},beforeNormalGridRender:function(){this.ownerGrid.lockedGrid.getHeader()&&!this.title&&(this.title=" "),this.callParent()},onPanelRender:function(e){var t=this,n=t.loadMask,i={target:t.ownerGrid,msg:t.loadingText,msgCls:t.loadingCls,useMsg:t.loadingUseMsg,store:t.ownerGrid.store};t.el=e,t.rendered=!0,t.fireEvent("render",t),n&&(Ext.isObject(n)&&(i=Ext.apply(i,n)),t.loadMask=new Ext.LoadMask(i))},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(e){return this.getViewForColumn(e).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(e){var t,n=this.lockedView;return n.headerCt.cascade(function(n){if(n===e)return t=!0,!1}),t?n:this.normalView},onItemMouseEnter:function(e,t){var n,i=this.lockedView,r=this.normalView;e.trackOver&&(e!==i&&(r=i),n=r.getNode(t),r.highlightItem(n))},onItemMouseLeave:function(e,t){var n=this.lockedView,i=this.normalView;e.trackOver&&(e!==n&&(i=n),i.clearHighlight())},relayFn:function(e,t){t=t||[];var n=this.lockedView;this.relayingOperation=!0,n[e].apply(n,t),(n=this.normalView)[e].apply(n,t),this.relayingOperation=!1},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(e,t,n){var i=this.lockedView,r=this.normalView;!r.componentLayoutCounter||i.blockRefresh&&r.blockRefresh||(Ext.suspendLayouts(),i.doFirstRefresh(e),r.doFirstRefresh(e),Ext.resumeLayouts(!0))},getStoreListeners:function(){var e=this;return{priority:1e3,refresh:e.onDataRefresh,replace:e.onReplace,add:e.onAdd,remove:e.onRemove,update:e.onUpdate,clear:e.onDataRefresh,beginupdate:e.onBeginUpdate,endupdate:e.onEndUpdate}},onOwnerGridHide:function(){Ext.suspendLayouts(),this.relayFn("onOwnerGridHide",arguments),Ext.resumeLayouts(!0)},onOwnerGridShow:function(){Ext.suspendLayouts(),this.relayFn("onOwnerGridShow",arguments),Ext.resumeLayouts(!0)},onBeginUpdate:function(){Ext.suspendLayouts(),this.relayFn("onBeginUpdate",arguments),Ext.resumeLayouts(!0)},onEndUpdate:function(){Ext.suspendLayouts(),this.relayFn("onEndUpdate",arguments),Ext.resumeLayouts(!0)},onDataRefresh:function(){Ext.suspendLayouts(),this.relayFn("onDataRefresh",arguments),Ext.resumeLayouts(!0)},onReplace:function(){Ext.suspendLayouts(),this.relayFn("onReplace",arguments),Ext.resumeLayouts(!0)},onAdd:function(){Ext.suspendLayouts(),this.relayFn("onAdd",arguments),Ext.resumeLayouts(!0)},onRemove:function(){Ext.suspendLayouts(),this.relayFn("onRemove",arguments),Ext.resumeLayouts(!0)},setActionableMode:function(e,t){var n,i;if(e)return t||(t=this.getNavigationModel().getPosition()),!!t&&((t=t.clone()).view=i=t.column.getView(),!1!==(n=i.setActionableMode(e,t))&&i.lockingPartner.grid.isVisible()&&(i.lockingPartner.setActionableMode(e,t),i.lockingPartner.actionableMode||(i.setActionableMode(!1),n=!1)),n);this.relayFn("setActionableMode",[!1])},onUpdate:function(){Ext.suspendLayouts(),this.relayFn("onUpdate",arguments),Ext.resumeLayouts(!0)},refresh:function(){var e=this.lockedView,t=this.normalView;Ext.suspendLayouts(),e.clearViewEl(!0),t.clearViewEl(!0),t.refresh(),e.refresh(),Ext.resumeLayouts(!0)},refreshView:function(){var e=this.lockedView,t=this.normalView,n=t.all.startIndex;Ext.suspendLayouts(),e.clearViewEl(!0),t.clearViewEl(!0),t.refreshView(n),e.refreshView(n),Ext.resumeLayouts(!0)},setScrollable:function(e){Ext.suspendLayouts(),this.lockedView.setScrollable(e),e.isScroller&&(e=new Ext.scroll.Scroller(e.initialConfig)),this.normalView.setScrollable(e),Ext.resumeLayouts(!0)},getNode:function(e){return this.normalView.getNode(e)},getRow:function(e){return this.normalView.getRow(e)},getCell:function(e,t){var n=this.getViewForColumn(t).getRow(e);return Ext.fly(n).down(t.getCellSelector())},indexOf:function(e){var t=this.lockedView.indexOf(e);return t||(t=this.normalView.indexOf(e)),t},focus:function(){var e=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");e&&e.focus()},focusRow:function(e){var t=this.getNavigationModel().lastFocused;(t?t.view:this.normalView).focusRow(e)},focusCell:function(e){e.view.focusCell(e)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(e){return this.ownerGrid.isVisible(e)},getCellInclusive:function(e,t){var n=e.column,i=this.lockedGrid.getColumnManager().getColumns().length;return n>=i?((e=Ext.apply({},e)).column-=i,this.normalView.getCellInclusive(e,t)):this.lockedView.getCellInclusive(e,t)},getHeaderByCell:function(e){return!!e&&this.getVisibleColumnManager().getHeaderById(e.getAttribute("data-columnId"))},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(e){e.column.getView().onCellSelect({record:e.record,column:e.column})},onCellDeselect:function(e){e.column.getView().onCellDeselect({record:e.record,column:e.column})},getCellByPosition:function(e,t){var n=e.view,i=e.column;return n===this&&(e=new Ext.grid.CellContext(i.getView()).setPosition(e.record,e.column)),n.getCellByPosition(e,t)},getRecord:function(e){var t=this.lockedView.getRecord(e);return t||(t=this.normalView.getRecord(e)),t},scrollBy:function(){var e=this.ownerGrid.getScrollable();e.scrollBy.apply(e,arguments)},ensureVisible:function(){var e=this.normalView;e.ensureVisible.apply(e,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var e=this;e.rendered=!1,e.bindStore(null,!1,"dataSource"),Ext.destroy(e.selModel,e.navigationModel,e.loadMask,e.lockedViewEventRelayers,e.normalViewEventRelayers),e.lockedView.lockingPartner=e.normalView.lockingPartner=null,e.callParent()}},function(){this.borrow(Ext.Component,["up"]),this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]),this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])}),Ext.define("Ext.scroll.LockingScroller",{extend:"Ext.scroll.Scroller",alias:"scroller.locking",config:{lockedScroller:null,normalScroller:null},scrollTo:function(e,t,n){var i;Ext.isObject(e)&&(i=e.lockedX)&&this.getLockedScroller().scrollTo(i,null,n),this.callParent([e,t,n])},updateLockedScroller:function(e){e.on("scroll","onLockedScroll",this),e.setLockingScroller(this)},updateNormalScroller:function(e){e.on("scroll","onNormalScroll",this),e.setLockingScroller(this)},getPosition:function(){var e=this.callParent();return e.x=this.getNormalScroller().getPosition().x,e.lockedX=this.getLockedScroller().getPosition().x,e},privates:{updateSpacerXY:function(e){var t=this.getLockedScroller(),n=this.getNormalScroller(),i=t.component,r=n.component,o=e.y+(r.headerCt.tooNarrow||i.headerCt.tooNarrow?Ext.getScrollbarSize().height:0);r.stretchHeight(o),i.stretchHeight(o),this.callParent([e])},doScrollTo:function(e,t,n){null!=e&&(this.getNormalScroller().scrollTo(e,null,n),e=null),this.callParent([e,t,n])},onLockedScroll:function(e,t,n){this.position.lockedX=t},onNormalScroll:function(e,t,n){this.position.x=t}}}),Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",requires:["Ext.grid.locking.View","Ext.grid.header.Container","Ext.grid.locking.HeaderContainer","Ext.view.Table","Ext.scroll.LockingScroller"],syncRowHeight:!0,headerCounter:0,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",normalGridCls:Ext.baseCSSPrefix+"grid-inner-normal",lockingBodyCls:Ext.baseCSSPrefix+"grid-locking-body",scrollContainerCls:Ext.baseCSSPrefix+"grid-scroll-container",scrollBodyCls:Ext.baseCSSPrefix+"grid-scroll-body",scrollbarClipperCls:Ext.baseCSSPrefix+"grid-scrollbar-clipper",scrollbarCls:Ext.baseCSSPrefix+"grid-scrollbar",scrollbarVisibleCls:Ext.baseCSSPrefix+"grid-scrollbar-visible",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer","syncRowHeight"],normalCfgCopy:["scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(e){var t,n,i,r,o;if(this.subGridXType)t=this.subGridXType;else{if(!e)return"gridpanel";r=(n=this.getXTypes().split("/"))[(i=n.length)-1],t="tablepanel"!==(o=n[i-2])?o:r}return t},injectLockable:function(){this.focusable=!1,this.lockable=!0,this.hasView=!0;var e,t,n,i,r,o,a,s,l=this,d=l.store=Ext.StoreManager.lookup(l.store),c=l.lockedViewConfig,u=l.normalViewConfig,h=Ext.Object,f=l.viewConfig,g=f&&f.loadMask,p=void 0!==g?g:l.loadMask,m=l.bufferedRenderer;for(e=l.constructLockableFeatures(),l.scrollable=new Ext.scroll.LockingScroller({component:l,x:!1,y:!0}),l.features=null,t=l.constructLockablePlugins(),l.plugins=t.topPlugins,n={id:l.id+"-locked",$initParent:l,isLocked:!0,bufferedRenderer:m,ownerGrid:l,ownerLockable:l,xtype:l.determineXTypeToCreate(!0),store:d,scrollerOwner:!1,animate:!1,border:!1,cls:l.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.normalGrid.floatedFromCollapse},features:e.lockedFeatures,plugins:t.lockedPlugins},i={id:l.id+"-normal",$initParent:l,isLocked:!1,bufferedRenderer:m,ownerGrid:l,ownerLockable:l,xtype:l.determineXTypeToCreate(),store:d,reserveScrollbar:l.reserveScrollbar,scrollerOwner:!1,border:!1,cls:l.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.lockedGrid.floatedFromCollapse},features:e.normalFeatures,plugins:t.normalPlugins},l.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copy(i,l,l.bothCfgCopy,!0),Ext.copy(n,l,l.bothCfgCopy,!0),Ext.copy(i,l,l.normalCfgCopy,!0),Ext.copy(n,l,l.lockedCfgCopy,!0),Ext.apply(i,l.normalGridConfig),Ext.apply(n,l.lockedGridConfig),r=0;r<l.normalCfgCopy.length;r++)delete l[l.normalCfgCopy[r]];for(r=0;r<l.lockedCfgCopy.length;r++)delete l[l.lockedCfgCopy[r]];l.addStateEvents(["lockcolumn","unlockcolumn"]),o=l.processColumns(l.columns||[],n),n.columns=o.locked,n.columns.items.length||(n.hidden=!0),i.columns=o.normal,i.columns.items.length||(i.hidden=!0),i.flex=1,n.viewConfig=c=c?h.chain(c):{},i.viewConfig=u=u?h.chain(u):{},c.loadingUseMsg=!1,c.loadMask=!1,u.loadMask=!1,f&&f.id&&Ext.log.warn('id specified on Lockable viewConfig, it will be shared between both views: "'+f.id+'"'),Ext.applyIf(c,f),Ext.applyIf(u,f),l.layout===Ext.panel.Table.prototype.layout&&(l.layout={type:"hbox",align:"stretch"}),l.getLayout(),"border"===l.layout.type&&(l.split&&(n.split=l.split),n.region||(n.region="west"),i.region||(i.region="center"),l.addCls(Ext.baseCSSPrefix+"grid-locked-split")),l.layout instanceof Ext.layout.container.Box||(l.split=!1),l.view=new Ext.grid.locking.View({loadMask:p,locked:n,normal:i,ownerGrid:l}),n=l.lockedGrid,i=l.normalGrid,n.on({beginfloat:l.onBeginLockedFloat,endfloat:l.onEndLockedFloat,scope:l}),n.getVisibleColumnManager().getColumns().length||n.hide(),i.getVisibleColumnManager().getColumns().length||i.hide(),a=n.headerCt,s=i.headerCt,l.headerCt=l.view.headerCt=new Ext.grid.locking.HeaderContainer(l),a.lockedCt=!0,a.lockableInjected=!0,s.lockableInjected=!0,a.on({add:l.delaySyncLockedWidth,remove:l.delaySyncLockedWidth,columnshow:l.delaySyncLockedWidth,columnhide:l.delaySyncLockedWidth,sortchange:l.onLockedHeaderSortChange,columnresize:l.delaySyncLockedWidth,scope:l}),s.on({add:l.delaySyncLockedWidth,remove:l.delaySyncLockedWidth,columnshow:l.delaySyncLockedWidth,columnhide:l.delaySyncLockedWidth,sortchange:l.onNormalHeaderSortChange,scope:l}),l.modifyHeaderCt(),l.items=[n],l.split&&(l.addCls(Ext.baseCSSPrefix+"grid-locked-split"),l.items[1]=Ext.apply({xtype:"splitter"},l.split)),l.items.push(i),l.relayHeaderCtEvents(a),l.relayHeaderCtEvents(s),l.storeRelayers=l.relayEvents(d,["filterchange","groupchange","beforeload","load"]),l.gridRelayers=l.relayEvents(i,["viewready"])},afterInjectLockable:function(){delete this.lockedGrid.$initParent,delete this.normalGrid.$initParent},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},onBeginLockedFloat:function(e){var t=e.getContentTarget().dom,n=this.lockedGrid.headerCt,i=this.normalGrid.headerCt,r=Math.max(i.getHeight(),n.getHeight());n.minHeight=r,i.minHeight=r,e.el.addCls(Ext.panel.Panel.floatCls),t.firstChild!==e.view.el.dom&&t.appendChild(e.view.el.dom),e.body.dom.style.overflowX=this.normalGrid.headerCt.tooNarrow?"scroll":"",e.body.dom.scrollTop=this.getScrollable().getPosition().y},onEndLockedFloat:function(){var e=this.lockedGrid;e.getContentTarget().dom;e.collapsed?e.el.removeCls(Ext.panel.Panel.floatCls):this.lockedGrid.headerCt.minHeight=this.normalGrid.headerCt.minHeight=null,this.lockedScrollbarClipper.appendChild(e.view.el.dom),this.syncLockableLayout()},beforeLayout:function(){var e,t=this,n=t.lockedGrid,i=t.normalGrid;n&&i&&(!n.layoutCounter&&n.getSizeModel().width.shrinkWrap&&(n.gridPanelBorderWidth=n.el.getBorderWidth("lr"),n.shrinkWrapColumns=!0),n.shrinkWrapColumns&&(e=n.headerCt.getTableWidth(),isNaN(e)&&Ext.raise("Locked columns in an unsized locked side do NOT support a flex width."),n.setWidth(e+n.gridPanelBorderWidth)),t.scrollContainer||t.initScrollContainer(),t.lastScrollPos=t.getScrollable().getPosition(),n.view.el.setStyle("margin-bottom",""),i.view.el.setStyle("margin-bottom",""))},syncLockableLayout:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m,x,E,v,y,b=this,C=b.lockedGrid,S=b.normalGrid;!b.isCollapsingOrExpanding&&C&&S&&(m=C.isVisible(!0)&&!C.collapsed,x=S.isVisible(!0),e=C.view.el,t=S.view.el,e.dom,t.dom,E=b.scrollBody.dom,n=m?C.body.getRegion(!0):new Ext.util.Region(0,0,0,0),i=x?S.body.getRegion(!0):new Ext.util.Region(0,0,0,0),o=(r=Ext.getScrollbarSize()).width,a=r.height,s=x?i.width:0,m?n.width:0,l=m?i.x-n.x:0,c=S.headerCt.tooNarrow||C.headerCt.tooNarrow?a:0,u=i.height,h=b.lockedScrollbar,f=b.normalScrollbar,g=b.scrollbarVisibleCls,y=t._rtlScrollbarOnRight,c&&(e.setStyle("margin-bottom",-a+"px"),t.setStyle("margin-bottom",-a+"px"),u-=a,m&&C.view.body.dom&&b.lockedScrollbarScroller.setSize({x:C.headerCt.getTableWidth()}),S.view.body.dom&&b.normalScrollbarScroller.setSize({x:S.headerCt.getTableWidth()})),b.scrollBody.setHeight(u),e.dom.style.height=t.dom.style.height="",p=b.scrollable.getSize().y+c,S.view.stretchHeight(p),C.view.stretchHeight(p),(d=o&&E.scrollHeight>E.clientHeight)&&s&&(s-=o,t.setStyle("width",s+"px")),h.toggleCls(g,m&&!!c),f.toggleCls(g,!!c),b.normalScrollbarClipper.toggleCls(b.scrollbarClipperCls+"-floated",!!b.normalGrid.floatedFromCollapse),b.normalScrollbar.toggleCls(b.scrollbarCls+"-floated",!!b.normalGrid.floatedFromCollapse),b.lockedScrollbarClipper.toggleCls(b.scrollbarClipperCls+"-floated",!!b.lockedGrid.floatedFromCollapse),b.lockedScrollbar.toggleCls(b.scrollbarCls+"-floated",!!b.lockedGrid.floatedFromCollapse),h.setSize(b.lockedScrollbarClipper.dom.offsetWidth,a),f.setSize(s,a),b.getInherited().rtl?(f.rtlSetLocalX(l),b.normalScrollbarClipper.rtlSetLocalX(l)):(f.setLocalX(l),b.normalScrollbarClipper.setLocalX(l)),b.scrollContainer.setBox(v=m?n.union(i):i),y&&(d?(E.style.width=v+o+"px",E.style.right=-o+"px",S.headerCt.layout.innerCt.setWidth(S.headerCt.layout.innerCt.getWidth()+o),b.verticalScrollbarScroller.setSize({y:b.scrollable.getSize().y}),b.verticalScrollbar.show()):b.verticalScrollbar.hide()),b.getScrollable().scrollTo(b.lastScrollPos))},initScrollContainer:function(){var e,t,n,i,r,o=this,a=o.scrollContainer=o.body.insertFirst({cls:[o.scrollContainerCls,o._rtlCls]}),s=o.scrollBody=a.appendChild({cls:o.scrollBodyCls}),l=o.lockedScrollbar=a.appendChild({cls:[o.scrollbarCls,o.scrollbarCls+"-locked",o._rtlCls]}),d=o.normalScrollbar=a.appendChild({cls:[o.scrollbarCls,o._rtlCls]}),c=o.lockedGrid.view,u=o.normalGrid.view,h=c.getScrollable(),f=u.getScrollable(),g=Ext.scroll.Scroller;c.stretchHeight(0),u.stretchHeight(0),o.scrollable.setConfig({element:s,lockedScroller:h,normalScroller:f}),n=o.lockedScrollbarClipper=s.appendChild({cls:[o.scrollbarClipperCls,o.scrollbarClipperCls+"-locked",o._rtlCls]}),i=o.normalScrollbarClipper=s.appendChild({cls:[o.scrollbarClipperCls,o._rtlCls]}),n.appendChild(c.el),i.appendChild(u.el),c.ignoreDomPosition=!0,u.ignoreDomPosition=!0,e=o.lockedScrollbarScroller=new g({element:l,x:"scroll",y:!1,rtl:h.getRtl&&h.getRtl()}),t=o.normalScrollbarScroller=new g({element:d,x:"scroll",y:!1,rtl:f.getRtl&&f.getRtl()}),u.el._rtlScrollbarOnRight&&(o.verticalScrollbar=a.appendChild({cls:o.scrollbarCls,style:{top:0,left:0,bottom:0,width:Ext.getScrollbarSize().width+"px"}}),o.verticalScrollbarScroller=new g({element:o.verticalScrollbar,x:!1,y:!0}),o.verticalScrollbarScroller.addPartner(o.scrollable,"y")),e.addPartner(h,"x"),t.addPartner(f,"x"),(r=o.lockedGrid.headerCt.getScrollable())&&e.addPartner(r,"x"),(r=o.normalGrid.headerCt.getScrollable())&&t.addPartner(r,"x"),o.view.onPanelRender(s)},processColumns:function(e,t){var n,i,r,o,a=new Ext.grid.header.Container({$initParent:this}),s=[],l=[],d={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:s},c={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:l},u={locked:d,normal:c};for(Ext.isObject(e)&&(Ext.applyIf(d,e),Ext.applyIf(c,e),delete(o=Ext.apply({},e)).items,Ext.apply(a,o),e=e.items),a.constructing=!0,n=0,i=e.length;n<i;++n)(r=e[n]).isComponent||((r=a.applyDefaults(r)).$initParent=a,delete(r=a.lookupComponent(r)).$initParent),r.processed=!0,r.locked||r.autoLock?s.push(r):l.push(r);return this.fireEvent("processcolumns",this,s,l),a.destroy(),u},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments),this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},syncRowHeights:function(){if(!this.destroyed){var e,t=this.normalGrid.getView(),n=this.lockedGrid.getView(),i=t.syncRowHeightBegin(),r=n.syncRowHeightBegin();t.syncRowHeightMeasure(i),n.syncRowHeightMeasure(r),t.syncRowHeightFinish(i,r),n.syncRowHeightFinish(r,i),e=t.getScrollY(),n.setScrollY(e)}},modifyHeaderCt:function(){var e=this;e.lockedGrid.headerCt.getMenuItems=e.getMenuItems(e.lockedGrid.headerCt.getMenuItems,!0),e.normalGrid.headerCt.getMenuItems=e.getMenuItems(e.normalGrid.headerCt.getMenuItems,!1),e.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.lockedGrid.headerCt.showMenuBy,e.showMenuBy),e.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.normalGrid.headerCt.showMenuBy,e.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(e,t,n){var i=this.getMenu(),r=i.down("#unlockItem"),o=i.down("#lockItem"),a=r.prev();!1===n.lockable?(a.hide(),r.hide(),o.hide()):(a.show(),r.show(),o.show(),r.initialConfig.disabled||r.setDisabled(!1===n.lockable),o.initialConfig.disabled||o.setDisabled(!n.isLockable()))},getMenuItems:function(e,t){var n=this,i=n.unlockText,r=n.lockText,o=Ext.baseCSSPrefix+"hmenu-unlock",a=Ext.baseCSSPrefix+"hmenu-lock",s=n.onUnlockMenuClick.bind(n),l=n.onLockMenuClick.bind(n);return function(){var n=e.call(this);return n.push("-",{itemId:"unlockItem",iconCls:o,text:i,handler:s,disabled:!t}),n.push({itemId:"lockItem",iconCls:a,text:r,handler:l,disabled:t}),n}},syncTaskDelay:1,delaySyncLockedWidth:function(){var e=this,t=e.syncLockedWidthTask||(e.syncLockedWidthTask=new Ext.util.DelayedTask(e.syncLockedWidth,e));e.reconfiguring||(Ext.Component.layoutSuspendCount&&0!==e.syncTaskDelay?t.delay(1):e.syncLockedWidth())},syncLockedWidth:function(){var e=this,t=e.rendered,n=e.lockedGrid,i=(n.view.getScrollable(),e.normalGrid),r=n.getVisibleColumnManager().getColumns().length,o=i.getVisibleColumnManager().getColumns().length,a=e.syncLockedWidthTask;if(a&&a.cancel(),!e.reconfiguring)return Ext.suspendLayouts(),o?(i.show(),r?("border"===e.layout.type&&(n.region=n.initialConfig.region),t&&n.shrinkWrapColumns&&!n.headerCt.forceFit&&(delete n.flex,n.width=n.headerCt.getTableWidth()+n.gridPanelBorderWidth,n.updateLayout()),n.addCls(e.lockedGridCls),n.show(),n.split&&(e.child("splitter").show(),e.addCls(Ext.baseCSSPrefix+"grid-locked-split"))):(n.hide(),t&&n.getView().clearViewEl(!0),n.split&&(e.child("splitter").hide(),e.removeCls(Ext.baseCSSPrefix+"grid-locked-split")))):(i.hide(),delete n.width,"border"===e.layout.type?(n.region="center",i.region="west"):n.flex=1,n.removeCls(e.lockedGridCls),n.show()),Ext.resumeLayouts(!0),{locked:!!r,normal:!!o}},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(e,t,n){var i,r,o=this,a=o.normalGrid,s=o.lockedGrid,l=a.view,d=s.view,c=l.all.startIndex,u=l.getScrollable(),h=d.getScrollable(),f=a.headerCt,g=o.componentLayoutCounter;(e=e||f.getMenu().activeHeader).unlockedWidth=e.width,e.flex&&(e.lockedWidth?(e.width=e.lockedWidth,e.lockedWidth=null):e.width=e.lastBox.width,e.flex=null),n=n||s.headerCt,(r=e.ownerCt)&&!e.isLockable()||(Ext.suspendLayouts(),u&&(u.suspendPartnerSync(),h.suspendPartnerSync()),s.hidden&&(s.componentLayoutCounter||(s.height=a.lastBox.height,d.bufferedRenderer&&d.bufferedRenderer.onViewResize(d,0,a.body.lastBox.height)),s.show()),s.reconfiguring=a.reconfiguring=!0,e.ownerCmp=e.ownerCt,r&&r.remove(e,!1),e.locked=!0,Ext.isDefined(t)?n.insert(t,e):n.add(e),s.reconfiguring=a.reconfiguring=!1,e.ownerCmp=null,(i=o.syncLockedWidth()).locked&&d.clearViewEl(!0),i.normal&&l.clearViewEl(!0),i.normal&&a.getView().refreshView(c),i.locked&&s.getView().refreshView(c),o.fireEvent("lockcolumn",o,e),Ext.resumeLayouts(!0),u&&(u.resumePartnerSync(!0),h.resumePartnerSync()),o.componentLayoutCounter===g&&o.syncLockableLayout())},unlock:function(e,t,n){var i,r=this,o=r.normalGrid,a=r.lockedGrid,s=o.view,l=a.view,d=s.all.startIndex,c=a.headerCt,u=r.componentLayoutCounter;Ext.isDefined(t)||(t=0),(e=e||c.getMenu().activeHeader).lockedWidth=e.width,e.flex&&(e.unlockedWidth?(e.width=e.unlockedWidth,e.unlockedWidth=null):e.width=e.lastBox.width,e.flex=null),n=n||o.headerCt,Ext.suspendLayouts(),a.reconfiguring=o.reconfiguring=!0,e.ownerCmp=e.ownerCt,e.ownerCt&&e.ownerCt.remove(e,!1),e.locked=!1,n.insert(t,e),a.reconfiguring=o.reconfiguring=!1,e.ownerCmp=null,(i=r.syncLockedWidth()).locked&&l.clearViewEl(!0),i.normal&&s.clearViewEl(!0),i.normal&&o.getView().refreshView(d),i.locked&&a.getView().refreshView(d),r.fireEvent("unlockcolumn",r,e),Ext.resumeLayouts(!0),r.componentLayoutCounter===u&&r.syncLockableLayout()},reconfigureLockable:function(e,t,n){var i,r,o=this,a=o.store,s=o.lockedGrid,l=o.normalGrid;!e&&n&&(e=Ext.StoreManager.lookup("ext-empty-store")),e&&e!==a&&(e=Ext.data.StoreManager.lookup(e),o.store=e,s.view.blockRefresh=l.view.blockRefresh=!0,s.bindStore(e),(i=s.view).store=e,i.dataSource.isFeatureStore||(i.dataSource=e),i.bufferedRenderer&&i.bufferedRenderer.bindStore(e),l.bindStore(e),(i=l.view).store=e,i.dataSource.isFeatureStore||(i.dataSource=e),i.bufferedRenderer&&i.bufferedRenderer.bindStore(e),o.view.store=e,(r=o.view.loadMask)&&r.isLoadMask&&r.bindStore(e),o.view.bindStore(l.view.dataSource,!1,"dataSource"),s.view.blockRefresh=l.view.blockRefresh=!1),t&&(s.reconfiguring=l.reconfiguring=!0,s.headerCt.removeAll(),l.headerCt.removeAll(),t=o.processColumns(t,s),s.headerCt.add(t.locked.items),l.headerCt.add(t.normal.items),s.reconfiguring=l.reconfiguring=!1,o.syncLockedWidth()),o.refreshCounter=l.view.refreshCounter},afterReconfigureLockable:function(){this.syncLockedWidth(),this.refreshCounter===this.normalGrid.getView().refreshCounter&&this.view.refreshView()},constructLockableFeatures:function(){var e,t,n,i,r,o=this.features,a=0;if(o)for(Ext.isArray(o)||(o=[o]),n=[],i=[],r=o.length;a<r;a++)switch((e=o[a]).isFeature||(e=Ext.create("feature."+e.ftype,e)),e.lockableScope){case"locked":n.push(e);break;case"normal":i.push(e);break;default:e.lockableScope="both",n.push(e),i.push(t=e.clone()),t.lockingPartner=e,e.lockingPartner=t}return{normalFeatures:i,lockedFeatures:n}},constructLockablePlugins:function(){var e,t,n,i,r,o,a,s=this.plugins,l=0;if(s)for(Ext.isArray(s)||(s=[s]),i=[],r=[],o=[],a=s.length;l<a;l++)switch((e=s[l]).init?e.lockableScope:(e.ptype?Ext.ClassManager.getByAlias("plugin."+e.ptype):Ext.ClassManager.get(e.xclass)).prototype.lockableScope){case"both":r.push(n=e.clonePlugin()),o.push(t=e.clonePlugin()),n.lockingPartner=t,t.lockingPartner=n,Ext.destroy(e);break;case"locked":r.push(e);break;case"normal":o.push(e);break;default:i.push(e)}return{topPlugins:i,normalPlugins:o,lockedPlugins:r}},destroyLockable:function(){var e=this,t=e.syncLockedWidthTask;t&&(t.cancel(),e.syncLockedWidthTask=null),e.lockedGrid&&e.lockedGrid.headerCt&&(e.lockedGrid.headerCt.showMenuBy=null),e.normalGrid&&e.normalGrid.headerCt&&(e.normalGrid.headerCt.showMenuBy=null),Ext.destroy(e.view,e.headerCt)}},function(){this.borrow(Ext.Component,["constructPlugin"])}),Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:"Ext.AbstractPlugin",alias:"plugin.bufferedrenderer",isBufferedRenderer:!0,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,scrollTop:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(e){var t=this,n=e.view,i={refresh:t.onViewRefresh,columnschanged:t.checkVariableRowHeight,boxready:t.onViewBoxReady,scope:t,destroyable:!0},r={scroll:t.onViewScroll,scope:t},o=n.initialConfig;t.scroller=n.lockingPartner?n.ownerGrid.scrollable:n.getScrollable(),(e.isTree||e.ownerLockable&&e.ownerLockable.isTree)&&(n.blockRefresh=!1,o&&void 0===o.loadMask&&(n.loadMask=!0)),n.positionBody&&(i.refresh=t.onViewRefresh),Ext.isWebKit&&(t.needsPointerEventsFix=!0,r.scrollend=t.onViewScrollEnd,i.itemmousedown=t.onViewItemMouseDown),t.grid=e,t.view=n,t.isRTL=n.getInherited().rtl,n.bufferedRenderer=t,n.preserveScrollOnRefresh=!0,n.animate=!1,t.bindStore(n.dataSource),n.hasOwnProperty("rowHeight")&&(t.rowHeight=n.rowHeight),t.position=0,t.viewListeners=n.on(i),t.scroller&&(t.scrollListeners=t.scroller.on(r))},checkVariableRowHeight:function(){var e=this.variableRowHeight;this.variableRowHeight=this.view.hasVariableRowHeight(),Boolean(this.variableRowHeight)!==Boolean(e)&&delete this.rowHeight},bindStore:function(e){var t=this,n=t.store;n&&n.isFeatureStore||(n&&t.unbindStore(),t.storeListeners=e.on({scope:t,groupchange:t.onStoreGroupChange,clear:t.onStoreClear,beforeload:t.onBeforeStoreLoad,load:t.onStoreLoad,destroyable:!0}),t.store=e,t.setBodyTop(0),delete t.viewSize,delete t.rowHeight,e.isBufferedStore&&e.setViewSize(t.viewSize))},unbindStore:function(){this.storeListeners.destroy(),this.storeListeners=this.store=null},onBeforeStoreLoad:function(e){var t=this,n=t.view;n&&n.refreshCounter&&(e.isTreeStore||n.preserveScrollOnReload?t.nextRefreshStartIndex=n.all.startIndex:0!==t.scrollTop&&(t.setBodyTop(t.bodyTop=t.scrollTop=t.position=t.scrollHeight=t.nextRefreshStartIndex=0),t.scroller.scrollTo(null,0)),t.lastScrollDirection=t.scrollOffset=null),t.disable()},onStoreLoad:function(){this.enable()},onStoreClear:function(){var e=this,t=e.view;t.rendered&&!e.store.destroyed&&(0!==e.scrollTop&&(e.bodyTop=e.scrollTop=e.position=e.scrollHeight=0,e.nextRefreshStartIndex=null,e.scroller.scrollTo(null,0)),t.refresh(),e.lastScrollDirection=e.scrollOffset=null)},onStoreGroupChange:function(e){this.refreshSize()},onViewBoxReady:function(e){this.refreshScroller(e,this.scrollHeight)},onViewRefresh:function(e,t){var n,i=this,r=e.all;if(i.checkVariableRowHeight(),!e.componentLayoutCounter&&(e.headerCt.down("{flex}")||i.variableRowHeight))return e.on({boxready:Ext.Function.pass(i.onViewRefresh,[e,t],i),single:!0}),void(i.skipNextRefreshSize=!0);i.skipNextRefreshSize=!1,i.refreshing||(i.refreshSize(),i.scroller&&(i.scrollTop!==i.scroller.getPosition().y?(i.onViewScroll(),i.onViewScrollEnd()):(i.hasOwnProperty("bodyTop")||(i.bodyTop=r.startIndex*i.rowHeight,i.scroller.scrollTo(null,i.bodyTop)),i.setBodyTop(i.bodyTop),(n=e.lastBox&&e.lastBox.height)&&r.getCount()&&(i.onViewResize(e,null,n),t&&r.getCount()!==t.length&&(t.length=0,t.push.apply(t,i.store.getRange(r.startIndex,r.endIndex)))))))},beforeTableLayout:function(e){var t=this.view.body.dom;t&&(e.bodyHeight=t.offsetHeight,e.bodyWidth=t.offsetWidth)},afterTableLayout:function(e){var t,n=this,i=n.view;e.bodyHeight&&i.body.dom&&(delete n.rowHeight,n.refreshSize(),(t=i.body.dom.offsetHeight)!==e.bodyHeight&&(n.onViewResize(i,null,i.el.lastBox.height),(t=n.bodyHeight)<e.bodyHeight&&(n.viewSize>=n.store.getCount()?n.setBodyTop(0):(n.bodyTop>n.scrollTop||n.bodyTop+t<n.scrollTop+n.viewClientHeight)&&n.setBodyTop(n.scrollTop-n.trailingBufferZone*n.rowHeight)),i.all.endIndex===i.dataSource.getCount()-1&&n.stretchView(i,n.scrollHeight=n.bodyTop+t-1)))},refreshSize:function(){var e=this,t=e.view,n=e.skipNextRefreshSize||Ext.Component.pendingLayouts&&Ext.Component.layoutSuspendCount||!t.body.dom;e.skipNextRefreshSize=!1,n||(e.bodyHeight=t.body.dom.offsetHeight,e.scrollHeight=e.getScrollHeight(),e.stretchView(t,e.scrollHeight))},onViewResize:function(e,t,n,i,r){var o,a=this;a.refreshSize(),r&&n===r||(a.viewClientHeight=e.lockingPartner?a.scroller&&a.scroller.getClientSize().y||n:e.el.dom.clientHeight,o=Math.ceil(n/a.rowHeight)+a.trailingBufferZone+a.leadingBufferZone,a.viewSize=a.setViewSize(o))},stretchView:function(e,t){var n=this;n.scrollTop>t&&(n.position=n.scrollTop=Math.max(t-n.bodyHeight,0),n.scroller.scrollTo(null,n.scrollTop)),n.bodyTop>t&&e.body.translate(null,n.bodyTop=n.position),e.getScrollable()&&n.refreshScroller(e,t)},refreshScroller:function(e,t){var n=e.getScrollable();n&&(n.setElementSize&&n.setElementSize(),n.setSize({x:e.headerCt.getTableWidth(),y:t}),e.lockingPartner&&this.scroller.setSize({x:0,y:t}))},setViewSize:function(e,t){var n,i,r,o,a=this,s=a.store,l=a.view,d=l.all,c=d.getCount(),u=s.getCount(),h=a.view.lockingPartner&&a.view.lockingPartner.bufferedRenderer,f=0,g=Math.max(0,u-1),p=Ext.Number.sign(a.getFirstVisibleRowIndex()-d.startIndex-(d.endIndex-a.getLastVisibleRowIndex()));return h&&!t&&h.view.componentLayoutCounter&&(h.viewSize>e?e=h.viewSize:l.componentLayoutCounter&&h.setViewSize(e,!0)),(o=c-e)&&(a.scrollTop=a.scroller?a.scroller.getPosition().y:0,a.viewSize=e,s.isBufferedStore&&s.setViewSize(e),c&&(i=Math.max(0,Math.min(d.startIndex,u-e)),r=Math.min(i+e-1,g),i===d.startIndex&&r===d.endIndex?o<0&&a.handleViewScroll(p):(h&&h.disable(),o<0?u>e&&u>c?s.getRange(i,r,{callback:function(i,r,o){n=l.ownerGrid,o>d.endIndex&&d.scroll(Ext.Array.slice(i,d.endIndex+1,1/0),1,0),r<d.startIndex&&(f=d.first(!0),d.scroll(Ext.Array.slice(i,0,d.startIndex-r),-1,0),a.bodyTop-=f.offsetTop),a.setBodyTop(a.bodyTop),h&&!t&&(n.syncRowHeight||n.syncRowHeightOnNextLayout)&&(h.setViewSize(e,!0),n.syncRowHeights())}}):a.refreshView(0):(1===p&&(f=d.item(d.startIndex+o,!0).offsetTop),d.clip(p,o),a.setBodyTop(a.bodyTop+f)),h&&h.enable())),a.refreshSize()),e},getViewRange:function(){var e,t=this,n=t.view,i=n.all,r=i.getCount(),o=n.lockingPartner&&n.lockingPartner.all,a=t.store,s=0;return!t.hasOwnProperty("viewSize")&&t.ownerCt&&t.ownerCt.height&&(t.viewSize=Math.ceil(t.ownerCt.height/t.rowHeight)),a.data.getCount()?(!r&&o&&o.getCount()?(s=o.startIndex,e=Math.min(o.endIndex,s+t.viewSize-1,a.getCount()-1)):(r?s=i.startIndex:a.isBufferedStore&&(a.currentPage||(a.currentPage=1),s=i.startIndex=(a.currentPage-1)*(a.pageSize||1),a.currentPage=1),e=s+(t.viewSize||a.defaultViewSize)-1),a.getRange(s,e)):[]},onReplace:function(e,t,n,i){var r,o=this,a=o.scroller,s=o.view,l=s.all,d=l.getCount(),c=t+n.length-1,u=i.length-n.length,h=u*o.rowHeight;if(!(t>=l.startIndex+o.viewSize))return d&&c<l.startIndex&&l.getCount()>=o.viewSize?(l.moveBlock(u),o.refreshSize(),r=l.startIndex,u>0&&(o.doNotMirror=!0,o.handleViewScroll(-1),o.doNotMirror=!1),l.startIndex===r?l.startIndex&&(o.setBodyTop(o.bodyTop+=h),s.suspendEvent("scroll"),s.scrollBy(0,h),s.resumeEvent("scroll"),o.position=o.scrollTop=o.scroller.getPosition().y):(s.suspendEvent("scroll"),s.scrollBy(0,(r-l.startIndex)*o.rowHeight),s.resumeEvent("scroll")),void s.refreshSize(l.getCount()!==d)):d&&t>l.endIndex?(o.refreshSize(),u>0&&o.onRangeFetched(null,l.startIndex,Math.min(e.getCount(),l.startIndex+o.viewSize)-1,null,!0),void s.refreshSize(l.getCount()!==d)):void(t<l.startIndex&&c<=l.endIndex?o.refreshView(l.startIndex-n.length+i.length):(t<l.startIndex&&c<=l.endIndex&&h&&(a.suspendEvent("scroll"),a.scrollTo(null,o.position=o.scrollTop+=h),a.resumeEvent("scroll")),o.refreshView()));o.refreshSize()},scrollTo:function(e,t){var n,i,r,o,a,s,l,d,c=arguments,u=this,h=u.view,f=h.lockingPartner&&h.lockingPartner.grid.isVisible()&&h.lockingPartner.bufferedRenderer,g=u.store,p=g.getCount();if(void 0===t||t instanceof Object||(t={select:c[1],callback:c[2],scope:c[3]}),(a=h.dataSource.groupingFeature)&&a.collapsible)l=e.isEntity?e:h.store.getAt(Math.min(Math.max(e,0),h.store.getCount()-1)),(s=a.getMetaGroup(l))&&s.isCollapsed?a.isExpandingOrCollapsing||l===s.placeholder?(l=s.placeholder,e=a.indexOfPlaceholder(l)):(a.expand(a.getGroup(l).getGroupKey()),p=g.getCount(),e=a.indexOf(l)):e=a.indexOf(l);else if(e.isEntity){if(l=e,-1===(e=g.indexOf(l)))return void Ext.raise("Unknown record passed to BufferedRenderer#scrollTo")}else e=Math.min(Math.max(e,0),p-1),l=g.getAt(e);if(l&&(r=h.getNode(l)))return h.grid.ensureVisible(l,t),u.onViewScroll(),void u.onViewScrollEnd();e<h.all.startIndex?(d=-1,n=Math.max(Math.min(e-Math.floor((u.leadingBufferZone+u.trailingBufferZone)/2),p-u.viewSize+1),0),i=Math.min(n+u.viewSize-1,p-1)):(d=1,i=Math.min(e+Math.floor((u.leadingBufferZone+u.trailingBufferZone)/2),p-1),n=Math.max(i-(u.viewSize-1),0)),o=Math.max(n*u.rowHeight,0),g.getRange(n,i,{callback:function(n,i,a){u.renderRange(i,a,!0,!0),l=g.data.getRange(e,e+1)[0],r=h.getNode(l),h.body.translate(null,u.bodyTop=o),1===d&&u.refreshSize(),f&&(f.renderRange(i,a,!0,!0),u.syncRowHeights(),f.view.body.translate(null,f.bodyTop=o),1===d&&f.refreshSize()),r&&(h.grid.ensureVisible(l,t),u.scrollTop=u.position=u.scroller.getPosition().y,f&&(f.position=f.scrollTop=u.scrollTop))}})},onViewItemMouseDown:function(){Ext.getDoc().on({mouseup:this.onDocumentMouseUp,scope:this,single:!0}),this.preservePointerEvents=!0},onDocumentMouseUp:function(){this.preservePointerEvents=!1},onViewScroll:function(e,t,n){var i,r,o=this,a=o.view.body.dom,s=o.store.getCount(),l=o.scrollTop=o.scroller.getPosition().y;a&&(o.needsPointerEventsFix&&!o.preservePointerEvents&&(a.style.pointerEvents="none"),o.disabled||s<o.viewSize||(r=(i=l-o.position)>0?1:-1,(Math.abs(i)>=20||r!==o.lastScrollDirection)&&(o.lastScrollDirection=r,o.handleViewScroll(o.lastScrollDirection,i))))},onViewScrollEnd:function(){var e=this.view.body.dom;e&&this.needsPointerEventsFix&&(e.style.pointerEvents="",this.preservePointerEvents=!1)},handleViewScroll:function(e,t){var n,i,r=this,o=r.view.all,a=r.store.getCount(),s=r.viewSize,l=a-1,d=Math.max(0,a-s);if(-1===e?o.startIndex&&r.topOfViewCloseToEdge()&&(n=Math.max(0,r.getLastVisibleRowIndex()+r.trailingBufferZone-s))>o.startIndex&&(n=o.startIndex+Math.floor(t/r.rowHeight)):o.endIndex<l&&r.bottomOfViewCloseToEdge()&&(n=Math.max(0,Math.min(r.getFirstVisibleRowIndex()-r.trailingBufferZone,d))),null==n)r.position=r.scrollTop,r.loadId++;else if(i=Math.min(n+s-1,l),r.variableRowHeight&&i===o.endIndex&&i<l&&(i++,n++),n!==o.startIndex||i!==o.endIndex)return r.renderRange(n,i),!0},bottomOfViewCloseToEdge:function(){var e=this;return e.variableRowHeight?e.bodyTop+e.bodyHeight<e.scrollTop+e.view.lastBox.height+e.numFromEdge*e.rowHeight:e.view.all.endIndex-e.getLastVisibleRowIndex()<e.numFromEdge},topOfViewCloseToEdge:function(){var e=this;return e.variableRowHeight?e.bodyTop>e.scrollTop-e.numFromEdge*e.rowHeight:e.getFirstVisibleRowIndex()-e.view.all.startIndex<e.numFromEdge},refreshView:function(e){var t,n=this,i=n.viewSize,r=n.view,o=r.all,a=n.store,s=a.getCount(),l=Math.max(0,s-1),d=r.lockingPartner&&r.lockingPartner.all;if(!s)return n.doRefreshView([],0,0);s<i?(e=0,t=l):null==e&&!o.getCount()&&d&&d.getCount()?(e=d.startIndex,t=Math.min(d.endIndex,e+i-1,l)):(null==e&&(null!=n.nextRefreshStartIndex?(e=n.nextRefreshStartIndex,n.nextRefreshStartIndex=null):e=o.startIndex),e=Math.max(0,Math.min(e,l-i+1)),(t=Math.min(e+i-1,l))-e+1>i&&(e=t-i+1)),0===e&&-1===t?n.doRefreshView([],0,0):a.getRange(e,t,{callback:n.doRefreshView,scope:n})},doRefreshView:function(e,t,n,i){var r,o,a,s,l,d=this,c=d.view,u=d.scroller,h=c.all,f=h.startIndex,g=h.endIndex,p=h.getCount(),m=t!==h.startIndex;if(c.refreshing=d.refreshing=!0,c.refreshCounter){if(c.hasListeners.beforerefresh&&!1===c.fireEvent("beforerefresh",c))return c.refreshNeeded=c.refreshing=d.refreshing=!1;l=c.saveFocusState(),c.clearViewEl(!0),c.refreshCounter++,e.length?(c.doAdd(e,t),m&&(r=h.item(f,!0),o=h.item(g,!0),r?s=-r.offsetTop:o&&(s=h.last(!0).offsetTop-o.offsetTop),s?(a=Math.max(d.bodyTop+s,0),d.scrollTop=a?d.scrollTop+s:0):(a=t*d.rowHeight,d.scrollTop=Math.max(a+d.rowHeight*(a<d.bodyTop?d.leadingBufferZone:d.trailingBufferZone),0)))):(d.scrollTop&&(a=d.scrollTop=0),c.addEmptyText()),m&&(d.setBodyTop(a),u.suspendEvent("scroll"),u.scrollTo(null,d.position=d.scrollTop),u.resumeEvent("scroll")),d.refreshSize(),c.refreshSize(h.getCount()!==p),c.fireItemMutationEvent("refresh",c,e),l(),c.headerCt.setSortState()}else c.refresh();c.getVisibleColumnManager().getColumns().length&&h.getCount()!==Math.min(d.store.getCount(),d.viewSize)&&Ext.raise("rendered block refreshed at "+h.getCount()+" rows while BufferedRenderer view size is "+d.viewSize),c.refreshNeeded=c.refreshing=d.refreshing=!1},renderRange:function(e,t,n,i){var r=this,o=r.view.all,a=r.store;e===o.startIndex&&t===o.endIndex||(a.rangeCached(e,t)?(r.cancelLoad(),r.synchronousRender||n?r.onRangeFetched(null,e,t,null,i):(r.renderTask||(r.renderTask=new Ext.util.DelayedTask(r.onRangeFetched,r,null,!1)),r.renderTask.delay(1,null,null,[null,e,t,null,i]))):r.attemptLoad(e,t,r.scrollTop))},onRangeFetched:function(e,t,n,i,r){var o,a,s,l,d,c,u,h,f,g,p,m,x,E,v=this,y=v.view,b=v.scroller,C=y.el,S=y.all,w=0,T=y.lockingPartner&&!r&&!v.doNotMirror&&y.lockingPartner.bufferedRenderer,P=v.variableRowHeight,k=v.bodyHeight,I=y.componentLayoutCounter;if(!y.destroyed){if(e)r||(v.scrollTop=v.scroller.getPosition().y);else if(!(e=v.store.getRange(t,n)))return;if(a=Ext.Element.getActiveElement(!0),(s=C.contains(a))&&a.suspendFocusEvents(),o=t*v.rowHeight,t<S.startIndex&&n>S.endIndex){for(x=S.startIndex-t,y.clearViewEl(!0),d=y.doAdd(e,t),y.fireItemMutationEvent("itemadd",e,t,d,y),l=0;l<x;l++)w-=d[l].offsetHeight;c=v.bodyTop+w}else(h=v.teleported||t>S.endIndex||n<S.startIndex)&&(y.clearViewEl(!0),v.teleported=!1),S.getCount()?n>S.endIndex?(m=Math.max(t-S.startIndex,0),P&&(w=S.item(S.startIndex+m,!0).offsetTop),d=S.scroll(Ext.Array.slice(e,S.endIndex+1-t),1,m),c=P?v.bodyTop+w:o):(m=Math.max(S.endIndex-n,0),f=S.startIndex,d=S.scroll(Ext.Array.slice(e,0,S.startIndex-t),-1,m),P?(c=v.bodyTop-S.item(f,!0).offsetTop,S.startIndex?c<0&&(w=S.startIndex*v.rowHeight,b.scrollTo(null,v.position=v.scrollTop+=w),c=v.bodyTop+w):c&&(b.scrollTo(null,v.position=v.scrollTop-=c),c=0)):c=o):(d=y.doAdd(e,t),y.fireItemMutationEvent("itemadd",e,t,d,y),c=o,h&&P&&(E=v.scrollTop<v.position?v.leadingBufferZone:v.trailingBufferZone,c=Math.max(v.scrollTop-S.item(S.startIndex+E-1,!0).offsetTop,0))),v.position=v.scrollTop;return s&&(a.resumeFocusEvents(),C.contains(a)||(p=y.actionableMode?y.actionPosition:y.lastFocused)&&p.column&&(y.renderingRows=!0,y.onFocusLeave({}),y.renderingRows=!1,(u=p.column.focusable?p.column:p.column.el.findTabbableElements()[0])||(u=y.el),u.focus())),c=Math.max(Math.floor(c),0),y.positionBody&&v.setBodyTop(c),d&&T&&!T.disabled&&(T.scrollTop=T.position=v.scrollTop,T.view.ownerCt.isVisible()&&(g=T.onRangeFetched(e,t,n,i,!0),(y.ownerGrid.syncRowHeight||y.ownerGrid.syncRowHeightOnNextLayout||T.variableRowHeight!==P)&&(v.syncRowHeights(d,g),y.ownerGrid.syncRowHeightOnNextLayout=!1)),T.bodyTop!==c&&T.setBodyTop(c),T.scroller.scrollTo(null,v.scrollTop)),v.variableRowHeight&&v.bodyHeight!==k&&y.componentLayoutCounter===I&&(delete v.rowHeight,v.refreshSize()),y.getVisibleColumnManager().getColumns().length&&S.getCount()!==Math.min(v.store.getCount(),v.viewSize)&&Ext.raise("rendered block refreshed at "+S.getCount()+" rows while BufferedRenderer view size is "+v.viewSize),d}},syncRowHeights:function(e,t){var n,i,r=this,o=0,a=1,s=[],l=[],d=Ext.grid.locking.RowSynchronizer;for(e&&t&&(o=e.length,a=t.length),o!==a&&(e=r.view.all.slice(),t=r.view.lockingPartner.all.slice(),o=a=e.length),n=0;n<o;n++)s[n]=i=new d(r.view,e[n]),i.measure();for(n=0;n<a;n++)l[n]=i=new d(r.view.lockingPartner,t[n]),i.measure();for(n=0;n<o;n++)s[n].finish(l[n]),l[n].finish(s[n]);r.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var e=this,t=e.view,n=t.lockingPartner.bufferedRenderer;t.componentLayoutCounter&&(delete e.rowHeight,e.refreshSize(),n.rowHeight!==e.rowHeight&&(delete n.rowHeight,n.refreshSize())),e.bodyHeight=n.bodyHeight=t.body.dom.offsetHeight},setBodyTop:function(e){var t=this,n=t.view,i=n.all,r=t.store,o=n.body;o.dom&&(t.translateBody(o,e),t.variableRowHeight?(t.bodyHeight=o.dom.offsetHeight,i.endIndex===r.getCount()-1?t.scrollHeight=e+t.bodyHeight-1:t.scrollHeight=t.getScrollHeight(),t.stretchView(n,t.scrollHeight)):t.bodyHeight=i.getCount()*t.rowHeight)},translateBody:function(e,t){e.translate(null,this.bodyTop=t)},getFirstVisibleRowIndex:function(e,t,n,i){var r,o,a=this,s=a.view.all,l=s.elements,d=a.viewClientHeight,c=a.bodyTop;if(s.getCount()&&a.variableRowHeight){if(arguments.length){if(e===t)return t;r=e+Math.floor((t-e)/2)}else{if(e=s.startIndex,t=s.endIndex,c>(i=(n=a.scrollTop)+d)||c+a.bodyHeight<n)return a.teleported=!0,Math.floor(a.scrollTop/a.rowHeight);r=e+Math.min(a.numFromEdge+(-1===a.lastScrollDirection?a.leadingBufferZone:a.trailingBufferZone),Math.floor((t-e)/2))}if((o=c+l[r].offsetTop)+l[r].offsetHeight<=n)return a.getFirstVisibleRowIndex(r+1,t,n,i);if(o<=n)return r;if(r!==e)return a.getFirstVisibleRowIndex(e,r-1,n,i)}return Math.floor(a.scrollTop/a.rowHeight)},getLastVisibleRowIndex:function(e,t,n,i){var r,o,a=this,s=a.view.all,l=s.elements,d=a.viewClientHeight,c=a.bodyTop;if(s.getCount()&&a.variableRowHeight){if(arguments.length){if(e===t)return t;r=e+Math.floor((t-e)/2)}else{if(e=s.startIndex,t=s.endIndex,c>(i=(n=a.scrollTop)+d)||c+a.bodyHeight<n)return a.teleported=!0,Math.floor(a.scrollTop/a.rowHeight)+Math.ceil(d/a.rowHeight);r=t-Math.min(a.numFromEdge+(1===a.lastScrollDirection?a.leadingBufferZone:a.trailingBufferZone),Math.floor((t-e)/2))}if((o=c+l[r].offsetTop)>i)return a.getLastVisibleRowIndex(e,r-1,n,i);if(o+l[r].offsetHeight>=i)return r;if(r!==t)return a.getLastVisibleRowIndex(r+1,t,n,i)}return a.getFirstVisibleRowIndex()+Math.ceil(d/a.rowHeight)},getScrollHeight:function(){var e,t,n,i,r=this,o=r.view.all,a=r.store.getCount(),s=o.getCount();return a?(r.hasOwnProperty("rowHeight")||(s?r.variableRowHeight?r.rowHeight=Math.floor(r.bodyHeight/s):(t=(e=o.first()).getHeight(),Ext.isIE8&&(n=e.getBorderWidth("b"))>0&&(t-=n),r.rowHeight=t):delete r.rowHeight),r.variableRowHeight?o.endIndex===a-1?i=r.bodyTop+r.bodyHeight-1:(i=Math.floor((a-s)*r.rowHeight)+r.bodyHeight,i+=r.bodyTop-o.startIndex*r.rowHeight):i=Math.floor(a*r.rowHeight),r.scrollHeight=i):0},attemptLoad:function(e,t,n){var i=this;i.scrollToLoadBuffer?(i.loadTask||(i.loadTask=new Ext.util.DelayedTask),i.loadTask.delay(i.scrollToLoadBuffer,i.doAttemptLoad,i,[e,t,n])):i.doAttemptLoad(e,t,n)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(e,t,n){var i=this;i.destroyed||i.store.getRange(e,t,{loadId:++i.loadId,callback:function(e,t,r,o){o.loadId===i.loadId&&i.scrollTop===n&&i.onRangeFetched(e,t,r,o)},fireEvent:!1})},destroy:function(){var e=this,t=e.view;e.cancelLoad(),t&&t.el&&t.un("scroll",e.onViewScroll,e),e.store&&e.unbindStore(),Ext.destroy(e.viewListeners,e.stretcher,e.gridListeners,e.scrollListeners),e.callParent()}}),Ext.define("Ext.grid.plugin.Editing",{extend:"Ext.plugin.Abstract",alias:"editing.editing",requires:["Ext.grid.column.Column","Ext.util.KeyNav","Ext.form.field.Base","Ext.view.Table"],mixins:["Ext.mixin.Observable"],clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(e){var t=this;t.callParent([e]),t.mixins.observable.constructor.call(t),t.on("edit",function(e,n){t.fireEvent("afteredit",e,n)})},init:function(e){var t=this,n=e.ownerLockable;t.grid=e,t.view=e.view,t.initEvents(),e.rendered?t.setup():t.mon(e,{beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure,scope:t,beforerender:{fn:t.onBeforeRender,single:!0,scope:t}}),e.editorEventRelayers=e.relayEvents(t,t.relayedEvents),n&&(n.editorEventRelayers=n.relayEvents(t,t.relayedEvents)),e.isEditable=!0,e.editingPlugin=e.view.editingPlugin=t},onBeforeReconfigure:function(){this.reconfiguring=!0},onReconfigure:function(){this.setup(),delete this.reconfiguring},onBeforeRender:function(){this.setup()},setup:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns())},destroy:function(){var e=this.grid;Ext.destroy(this.keyNav),this.clearListeners(),e&&(e.ownerLockable&&(Ext.destroy(e.ownerLockable.editorEventRelayers),e.ownerLockable.editorEventRelayers=null),Ext.destroy(e.editorEventRelayers),e.editorEventRelayers=null,e.editingPlugin=e.view.editingPlugin=null),this.callParent()},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);var t,n,i=this,r=e.length,o=function(e,t){return i.getColumnField(this,t)},a=function(){return i.hasColumnField(this)},s=function(e){i.setColumnField(this,e)};for(t=0;t<r;t++)(n=e[t]).getEditor||(n.getEditor=o),n.hasEditor||(n.hasEditor=a),n.setEditor||(n.setEditor=s)},removeFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);var t,n,i=e.length;for(t=0;t<i;t++)(n=e[t]).getEditor=n.hasEditor=n.setEditor=n.field=n.editor=null},getColumnField:function(e,t){var n=e.field;return n&&n.isFormField||(n=e.field=this.createColumnField(e,t)),n&&"default"===n.ui&&!n.hasOwnProperty("ui")&&(n.ui=this.defaultFieldUI),n},hasColumnField:function(e){return!(!e.field||!e.field.isComponent)},setColumnField:function(e,t){e.field=t,e.field=this.createColumnField(e)},createColumnField:function(e,t){var n,i=e.field;return!i&&e.editor&&((i=e.editor=Ext.clone(e.editor)).field&&((i=i.field).editorCfg=e.editor,delete i.editorCfg.field),e.editor=null),!i&&t&&(i=t),i&&(n=e.dataIndex,i.isComponent?i.column=e:(i=Ext.isString(i)?{name:n,xtype:i,column:e}:Ext.apply({name:n,column:e},i),i=Ext.ComponentManager.create(i,this.defaultFieldXType)),i.dataIndex=n,i.isEditorComponent=!0,e.field=i),i},initEvents:function(){this.initEditTriggers(),this.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,t=e.view;"cellfocus"===e.triggerEvent?e.mon(t,"cellfocus",e.onCellFocus,e):"rowfocus"===e.triggerEvent?e.mon(t,"rowfocus",e.onRowFocus,e):(t.getSelectionModel().isCellModel&&(t.onCellFocus=e.beforeViewCellFocus.bind(e)),e.mon(t,e.triggerEvent||"cell"+(1===e.clicksToEdit?"click":"dblclick"),e.onCellClick,e)),e.initAddRemoveHeaderEvents(),e.view.getNavigationModel().addKeyBindings({esc:e.onEscKey,scope:e})},beforeViewCellFocus:function(e){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(e.row,e.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(e,t,n){this.startEdit(t,0)},onCellFocus:function(e,t,n){this.startEdit(n.row,n.column)},onCellClick:function(e,t,n,i,r,o,a){var s,l=e.ownerGrid,d=e.expanderSelector,c=e.ownerCt.getColumnManager().getHeaderAtIndex(n).getEditor(i);if(!this.shouldStartEdit(c)||d&&a.getTarget(d)){if(l.actionableMode&&e.owns(a.target)&&(s=Ext.Component.fromElement(a.target,t)&&s.focusable))return;l.actionableMode&&l.setActionableMode(!1)}else l.setActionableMode(!0,a.position)},initAddRemoveHeaderEvents:function(){var e=this,t=e.grid.headerCt;e.mon(t,{scope:e,add:e.onColumnAdd,columnmove:e.onColumnMove,beforedestroy:e.beforeGridHeaderDestroy})},onColumnAdd:function(e,t){this.initFieldAccessors(t)},onColumnMove:Ext.emptyFn,onEscKey:function(e){if(this.editing){var t=Ext.getCmp(e.getTarget().getAttribute("componentId"));if(!(t&&t.isPickerField&&t.isExpanded))return this.cancelEdit()}},beforeEdit:Ext.emptyFn,shouldStartEdit:function(e){return!!e},getEditingContext:function(e,t){var n,i,r,o,a,s=this,l=s.grid,d=l.visibleColumnManager,c=s.grid.lockable?s.grid:s.view;if(c.componentLayoutCounter){if(!s.disabled&&!s.grid.collapsed&&s.grid.view.isVisible(!0)&&(Ext.isNumber(t)&&(t=d.getHeaderAtIndex(Math.min(t,d.getColumns().length))),t&&(t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),l=(n=t.getView()).ownerCt,Ext.isNumber(e)?(r=Math.min(e,n.dataSource.getCount()-1),e=n.dataSource.getAt(r)):r=n.dataSource.indexOf(e),l.ensureVisible(e,{column:t}),(i=n.getRow(e))&&(o=n.getVisibleColumnManager().indexOf(t),e))))return(a=new Ext.grid.CellContext(n).setAll(n,r,o,e,t)).grid=l,a.store=n.dataSource,a.field=t.dataIndex,a.value=a.originalValue=e.get(t.dataIndex),a.row=i,a.node=n.getNode(e),a.cell=a.getCell(!0),a}else c.on({boxready:Ext.Function.bind(s.startEdit,s,[e,t]),single:!0})},cancelEdit:function(){this.editing=!1,this.fireEvent("canceledit",this,this.context)},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&e.fireEvent("edit",e,e.context),e.context=null,e.editing=!1},validateEdit:function(e){return!1!==this.fireEvent("validateedit",this,e)&&!e.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],init:function(e){e.registerActionable(this),this.callParent(arguments),this.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId})},beforeGridHeaderDestroy:function(e){var t,n,i,r=this.grid.getColumnManager().getColumns(),o=r.length;for(t=0;t<o;t++)n=r[t],(i=this.editors.getByKey(n.getItemId()))||(i=n.editor||n.field),Ext.destroy(i),this.removeFieldAccessors(n)},onReconfigure:function(e,t,n){n&&this.editors.clear(),this.callParent()},destroy:function(){this.editors&&(this.editors.each(Ext.destroy,Ext),this.editors.clear()),this.callParent()},initCancelTriggers:function(){var e=this,t=e.grid;e.mon(t,{columnresize:e.cancelEdit,columnmove:e.cancelEdit,scope:e})},isCellEditable:function(e,t){var n=this.getEditingContext(e,t);if(n.view.isVisible(!0)&&n&&(t=n.column,e=n.record,t&&this.getEditor(e,t)))return!0},activateCell:function(e,t,n){var i,r,o,a,s,l,d=this,c=e.record,u=e.column,h=d.getActiveEditor();if((i=d.getEditingContext(c,u))&&u.getEditor(c)){if(h&&h.editing){if(d.view.actionPosition=null,r=i.generation,!1===h.completeEdit())return;i.generation===r&&i.refresh()}if(!t){if(r=i.generation,!1===d.beforeEdit(i)||!1===d.fireEvent("beforeedit",d,i)||i.cancel)return;i.generation===r&&i.refresh()}if(a=d.getEditor(c,u),i.cell!==i.getCell(!0)&&(i=d.getEditingContext(i.rowIdx,i.colIdx),e.setPosition(i)),a){if(o=Ext.get(i.cell),a.rendered){if((s=a.el.dom.parentNode)!==o.dom){try{s.removeChild(a.el.dom)}catch(e){}a.container=o,o.dom.appendChild(a.el.dom,o.dom.firstChild)}}else a.hidden=!0,a.render(o);return(l=i.record.get(i.column.dataIndex))!==i.originalValue&&(i.value=i.originalValue=l),d.setEditingContext(i),a.startEdit(o,i.value,n||!1),a.editing&&(d.setActiveEditor(a),d.setActiveRecord(i.record),d.setActiveColumn(i.column),d.editing=!0,d.scroll=e.view.el.getScroll()),a.editing}}},activateRow:Ext.emptyFn,deactivate:function(){var e,t,n=this.context,i=this.editors.items,r=i.length;for(t=0;t<r;t++)e=i[t],n.view.renderingRows&&(e.editing&&this.cancelEdit(),e.cacheElement())},suspend:function(){var e=this.activeEditor;e&&e.editing&&(this.suspendedEditor=e,this.suspendEvents(),e.suspendEvents(),e.cancelEdit(!0),e.resumeEvents(),this.resumeEvents())},resume:function(e){var t,n=this,i=n.activeEditor=n.suspendedEditor;return i&&(n.suspendEvents(),i.suspendEvents(),t=n.activateCell(e,!0,!0),i.resumeEvents(),n.resumeEvents()),t},startEdit:function(e,t){this.startEditByPosition(new Ext.grid.CellContext(this.view).setPosition(e,t))},completeEdit:function(e){var t=this.getActiveEditor();t&&t.completeEdit(e)},setEditingContext:function(e){this.context=e},setActiveEditor:function(e){this.activeEditor=e},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(e){this.activeColumn=e},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(e){this.activeRecord=e},getActiveRecord:function(){return this.activeRecord},getEditor:function(e,t){var n=this,i=n.editors,r=t.getItemId(),o=i.getByKey(r);if(!o){if(!(o=t.getEditor(e)))return!1;o instanceof Ext.grid.CellEditor||(o=new Ext.grid.CellEditor(Ext.apply({floating:!0,editorId:r,field:o},o.editorCfg))),o.field.excludeForm=!0,o.column!==t&&(o.column=t,t.on("removed",n.onColumnRemoved,n)),i.add(o)}return o.ownerCmp=n.grid.ownerGrid,t.isTreeColumn&&(o.isForTree=t.isTreeColumn,o.addCls(Ext.baseCSSPrefix+"tree-cell-editor")),o.setGrid(n.grid),o.editingPlugin=n,o},onColumnRemoved:function(e){var t=this.context;t&&t.column===e&&this.cancelEdit(),e.un("removed",this.onColumnRemoved,this)},setColumnField:function(e,t){var n=this.editors.getByKey(e.getItemId());Ext.destroy(n,e.field),this.editors.removeAtKey(e.getItemId()),this.callParent(arguments)},getCell:function(e,t){return this.grid.getView().getCell(e,t)},onEditComplete:function(e,t,n){var i,r,o=this,a=e.context;i=a.view,r=a.record,a.value=t,r.isEqual(t,n)||(r.set(a.column.dataIndex,t),a.rowIdx=i.indexOf(r)),o.context===a&&(o.setActiveEditor(null),o.setActiveColumn(null),o.setActiveRecord(null),o.editing=!1),o.fireEvent("edit",o,a)},cancelEdit:function(e){var t=this,n=t.context;e&&e.isCellEditor?(t.context.value="editedValue"in e?e.editedValue:e.getValue(),t.callParent(arguments),e.context===n?(t.setActiveEditor(null),t.setActiveColumn(null),t.setActiveRecord(null)):t.editing=!0):(e=t.getActiveEditor())&&e.field&&e.cancelEdit()},startEditByPosition:function(e){var t,n=this,i=n.grid.getColumnManager(),r=n.getActiveEditor();if(e.isCellContext||(e=new Ext.grid.CellContext(n.view).setPosition(e.row,n.grid.getColumnManager().getColumns()[e.column])),t=i.getHeaderIndex(e.column),e.column=i.getVisibleHeaderClosestToIndex(t),n.grid.actionableMode){if(n.editing&&e.isEqual(n.context))return;r&&r.completeEdit()}if(!n.grid.actionableMode)return n.grid.setActionableMode(!0,e);n.activateCell(e)&&(n.activateRow(n.view.all.item(e.rowIdx,!0)),(r=n.getEditor(e.record,e.column))&&r.field.focus())}}),Ext.define("Ext.plugin.AbstractClipboard",{extend:"Ext.plugin.Abstract",requires:["Ext.util.KeyMap"],cachedConfig:{formats:{text:{get:"getTextData",put:"putTextData"}}},config:{memory:null,source:"system",system:"text"},destroy:function(){var e=this,t=e.keyMap,n=e.shared;Ext.destroy(e.destroyListener),t?(e.keyMap=Ext.destroy(t),--n.counter||(n.textArea=Ext.destroy(n.textArea))):e.renderListener=Ext.destroy(e.renderListener),e.callParent()},init:function(e){var t=this;e.rendered?this.finishInit(e):t.renderListener=e.on({render:function(){t.renderListener=null,t.finishInit(e)},destroyable:!0,single:!0})},getTarget:function(e){return e.el},privates:{shared:{counter:0,data:null,textArea:null},applyMemory:function(e){if(e=this.applySource(e))for(var t=e.length;t-- >0;)"system"===e[t]&&Ext.raise('Invalid clipboard format "'+e[t]+'"');return e},applySource:function(e){if(e&&(Ext.isString(e)?e=[e]:0===e.length&&(e=null)),e)for(var t=this.getFormats(),n=e.length;n-- >0;)"system"===e[n]||t[e[n]]||Ext.raise('Invalid clipboard format "'+e[n]+'"');return e||null},applySystem:function(e){return this.getFormats()[e]||Ext.raise('Invalid clipboard format "'+e+'"'),e},doCutCopy:function(e,t){var n,i=this,r=i.allFormats||i.syncFormats(),o=i.getData(t,r),a=i.getMemory(),s=i.getSystem();!1!==i.validateAction(e)&&(i.shared.data=a&&o,s&&(n=o[s],r[s]<3&&delete o[s],i.setClipboardData(n)))},doPaste:function(e,t){this[this.getFormats()[e].put](t,e)},finishInit:function(e){var t=this;t.keyMap=new Ext.util.KeyMap({target:t.getTarget(e),ignoreInputFields:!0,binding:[{ctrl:!0,key:"x",fn:t.onCut,scope:t},{ctrl:!0,key:"c",fn:t.onCopy,scope:t},{ctrl:!0,key:"v",fn:t.onPaste,scope:t}]}),++t.shared.counter,t.destroyListener=e.on({destroyable:!0,destroy:"destroy",scope:t})},getData:function(e,t){var n,i,r,o,a=this.getFormats();if(Ext.isString(t))a[t]||Ext.raise('Invalid clipboard format "'+t+'"'),n=this[a[t].get](t,e);else{if(n={},o=[],t)for(r in t)a[r]||Ext.raise('Invalid clipboard format "'+r+'"'),o.push(r);else o=Ext.Object.getAllKeys(a);for(i=o.length;i-- >0;)n[r]=this[a[r].get](r,e&&!i)}return n},getHiddenTextArea:function(){var e,t=this.shared;return(e=t.textArea)||(e=t.textArea=Ext.getBody().createChild({tag:"textarea",tabIndex:-1,style:{position:"absolute",top:"-1000px",width:"1px",height:"1px"}})).suspendFocusEvents(),e},onCopy:function(e,t){this.doCutCopy(t,!1)},onCut:function(e,t){this.doCutCopy(t,!0)},onPaste:function(e,t){var n,i,r,o=this,a=o.shared.data,s=o.getSource();if(!1!==o.validateAction(t)&&s)for(n=0,i=s.length;n<i;++n){if("system"===(r=s[n])){r=o.getSystem(),o.pasteClipboardData(r);break}if(a&&r in a){o.doPaste(r,a[r]);break}}},pasteClipboardData:function(e){var t,n,i=this,r=window.clipboardData;r&&r.getData?i.doPaste(e,r.getData("text")):(n=Ext.Element.getActiveElement(!0),(t=i.getHiddenTextArea().dom).value="",n&&n.suspendFocusEvents(),t.focus(),Ext.defer(function(){n&&(n.focus(),n.resumeFocusEvents()),i.doPaste(e,t.value),t.value=""},100,i))},setClipboardData:function(e){var t=window.clipboardData;if(t&&t.setData)t.setData("text",e);else{var n=this.getHiddenTextArea().dom,i=Ext.Element.getActiveElement(!0);n.value=e,i&&i.suspendFocusEvents(),n.focus(),n.select(),Ext.defer(function(){n.value="",i&&(i.focus(),i.resumeFocusEvents())},50)}},syncFormats:function(){var e,t,n={},i=this.getMemory(),r=this.getSystem();if(r&&(n[r]=1),i)for(e=i.length;e-- >0;)n[t=i[e]]=n[t]?3:2;return this.allFormats=n},updateMemory:function(){this.allFormats=null},updateSystem:function(){this.allFormats=null},validateAction:Ext.privateFn}}),Ext.define("Ext.grid.plugin.Clipboard",{extend:"Ext.plugin.AbstractClipboard",alias:"plugin.clipboard",requires:["Ext.util.Format","Ext.util.TSV"],formats:{cell:{get:"getCells"},html:{get:"getCellData"},raw:{get:"getCellData",put:"putCellData"}},getCellData:function(e,t){var n,i,r,o,a,s,l,d,c,u=[],h="raw"===e,f="text"===e;return this.getCmp().getSelectionModel().getSelected().eachCell(function(e){s=e.column,c=e.column.getView(),l=e.record,s.ignoreExport||(a!==l&&(a=l,u.push(d=[])),o=s.dataIndex,h?r=l.data[o]:((n=c.all.item(e.rowIdx))||(n=Ext.fly(c.createRowElement(l,e.rowIdx))),i=n.down(s.getCellInnerSelector()),r=i.dom.innerHTML,f&&(r=Ext.util.Format.stripTags(r))),d.push(r),t&&o&&l.set(o,null))}),Ext.util.TSV.encode(u)},getCells:function(e,t){var n,i,r,o,a=[];return this.getCmp().getSelectionModel().getSelected().eachCell(function(e){r=e.record,i!==r&&(i=r,a.push(o={model:r.self,fields:[]})),n=e.column.dataIndex,o.fields.push({name:n,value:r.data[n]}),t&&n&&r.set(n,null)}),a},getTextData:function(e,t){return this.getCellData(e,t)},putCellData:function(e,t){var n,i,r,o,a,s=Ext.util.TSV.decode(e),l=s.length,d=l?s[0].length:0,c=this.getCmp().getView(),u=c.dataSource.getCount()-1,h=c.getVisibleColumnManager().getColumns().length-1,f=c.getNavigationModel().getPosition(),g={};for(f||c.getSelectionModel().getSelected().eachCell(function(e){return f=e,!1}),a=(f=f?new Ext.grid.CellContext(c).setPosition(f.record,f.column):new Ext.grid.CellContext(c).setPosition(0,0)).colIdx,i=0;i<l;i++){for(n=s[i],r=0;r<d;r++){if(o=f.column.dataIndex)switch(t){case"raw":case"text":g[o]=n[r]}if(f.colIdx===h)break;f.setColumn(f.colIdx+1)}if(f.record.set(g),f.rowIdx===u)break;f.setPosition(f.rowIdx+1,a)}},putTextData:function(e,t){this.putCellData(e,t)},getTarget:function(e){return e.body},privates:{validateAction:function(e){if(this.getCmp().getView().actionableMode)return!1}}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(e){Ext.applyIf(e,{copy:this.copy,allowCopy:this.allowCopy}),e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){var e=this;e.dragZone=e.dropZone=Ext.destroy(e.dragZone,e.dropZone),e.callParent()},enable:function(){var e=this;e.dragZone&&e.dragZone.unlock(),e.dropZone&&e.dropZone.unlock(),e.callParent()},disable:function(){var e=this;e.dragZone&&e.dragZone.lock(),e.dropZone&&e.dropZone.lock(),e.callParent()},onViewRender:function(e){var t,n=this;(e.ownerCt.ownerGrid||e.ownerCt).relayEvents(e,["beforedrop","drop"]),n.enableDrag&&(n.containerScroll&&(t=e.getEl()),n.dragZone=new Ext.view.DragZone(Ext.apply({view:e,ddGroup:n.dragGroup||n.ddGroup,dragText:n.dragText,containerScroll:n.containerScroll,scrollEl:t},n.dragZone))),n.enableDrop&&(n.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:e,ddGroup:n.dropGroup||n.ddGroup},n.dropZone)))}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],lockableScope:"top",editStyle:"row",autoCancel:!0,autoUpdate:!1,errorSummary:!0,formAriaLabel:"Editing row {0}",formAriaLabelRowBase:2,constructor:function(){var e=this;e.callParent(arguments),e.clicksToMoveEditor||(e.clicksToMoveEditor=e.clicksToEdit),e.autoCancel=!!e.autoCancel,e.autoUpdate=!!e.autoUpdate,e.autoUpdate&&(e.autoCancel=!1)},init:function(e){this.callParent([e]),e.lockedGrid?(e.lockedGrid.registerActionable(this),e.normalGrid.registerActionable(this)):e.registerActionable(this)},destroy:function(){Ext.destroy(this.editor),this.callParent()},onBeforeReconfigure:function(){this.callParent(arguments),this.cancelEdit()},onReconfigure:function(e,t,n){var i=this.editor;this.callParent(arguments),n&&i&&i.rendered&&(i.needsSyncFieldWidths=!0)},shouldStartEdit:function(e){return!0},startEdit:function(e,t){var n,i=this,r=i.getEditor();return Ext.isEmpty(t)&&(t=i.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)),!(!1===r.beforeEdit()||!(n=i.getEditingContext(e,t))||!1===i.beforeEdit(n)||!1===i.fireEvent("beforeedit",i,n)||n.cancel)&&(i.context=n,i.lockingPartner&&i.lockingPartner.cancelEdit(),r.startEdit(n.record,n.column,n),i.editing=!0,!0)},activateCell:function(e){if(!e.getCell().query('[tabIndex="-1"]').length)return this.startEdit(e.record,e.column),!0},suspend:Ext.emptyFn,resume:Ext.emptyFn,onEnterKey:function(e){var t;!this.grid.ownerGrid.actionableMode&&this.editing&&((t=Ext.getCmp(e.getTarget().getAttribute("componentId")))&&t.isPickerField&&t.isExpanded||this.completeEdit())},cancelEdit:function(){return!this.editing||(this.getContextFieldValues(),this.getEditor().cancelEdit(),void this.callParent(arguments))},completeEdit:function(){var e=this,t=e.context;e.editing&&e.validateEdit(t)&&(e.editing=!1,e.fireEvent("edit",e,t))},validateEdit:function(){return this.getContextFieldValues(),this.callParent(arguments)&&this.getEditor().completeEdit()},getEditor:function(){return this.editor||(this.editor=this.initEditor()),this.editor},getContextFieldValues:function(){var e,t,n,i=this.editor,r=this.context,o=r.record,a={},s={},l=i.query(">[isFormField]"),d=l.length;for(e=0;e<d;e++)a[t=(n=l[e]).dataIndex]=n.getValue(),s[t]=o.get(t);Ext.apply(r,{newValues:a,originalValues:s})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var e,t,n=this,i=n.grid,r=n.view,o=i.headerCt,a=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s=a.length,l={autoCancel:n.autoCancel,autoUpdate:n.autoUpdate,removeUnmodified:n.removeUnmodified,errorSummary:n.errorSummary,formAriaLabel:n.formAriaLabel,formAriaLabelRowBase:n.formAriaLabelRowBase+(i.hideHeaders?-1:0),fields:o.getGridColumns(),hidden:!0,view:r,editingPlugin:n};for(e=0;e<s;e++)t=a[e],Ext.isDefined(n[t])&&(l[t]=n[t]);return l},initEditTriggers:function(){var e=this,t=e.view,n=1===e.clicksToMoveEditor?"click":"dblclick";e.callParent(arguments),e.clicksToMoveEditor!==e.clicksToEdit&&e.mon(t,"cell"+n,e.moveEditorByClick,e),t.on({render:function(){e.mon(e.grid.headerCt,{scope:e,columnresize:e.onColumnResize,columnhide:e.onColumnHide,columnshow:e.onColumnShow})},single:!0})},moveEditorByClick:function(){this.editing&&this.superclass.onCellClick.apply(this,arguments)},onColumnAdd:function(e,t){if(t.isHeader){var n;this.initFieldAccessors(t),(n=this.editor)&&n.onColumnAdd(t)}},beforeGridHeaderDestroy:function(e){var t,n,i,r=this.grid.getColumnManager().getColumns(),o=r.length;for(t=0;t<o;t++)(n=r[t]).hasEditor&&(n.hasEditor()&&(i=n.getEditor())&&i.destroy(),this.removeFieldAccessors(n))},onColumnResize:function(e,t,n){if(t.isHeader){var i=this.getEditor();i&&i.onColumnResize(t,n)}},onColumnHide:function(e,t){var n=this.getEditor();n&&n.onColumnHide(t)},onColumnShow:function(e,t){var n=this.getEditor();n&&n.onColumnShow(t)},onColumnMove:function(e,t,n,i){var r=this.getEditor();this.initFieldAccessors(t),r&&r.onColumnMove(t,n,i)},setColumnField:function(e,t){var n=this.getEditor();n&&n.destroyColumnEditor(e),this.callParent(arguments),n&&n.insertColumnEditor(e)},createColumnField:function(e,t){var n,i,r=this.editor;return r&&(n=r.getDefaultFieldCfg()),(i=this.callParent([e,t||n]))&&(i.skipLabelForAttribute=!0,i.ariaAttributes=i.ariaAttributes||{},this.grid.hideHeaders?i.ariaAttributes["aria-label"]=e.text:i.ariaAttributes["aria-labelledby"]=e.id),i}}),Ext.define("Ext.grid.plugin.RowExpander",{extend:"Ext.plugin.Abstract",lockableScope:"top",requires:["Ext.grid.feature.RowBody"],alias:"plugin.rowexpander",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnDblClick:!0,selectRowOnExpand:!1,scrollIntoViewOnExpand:!0,headerWidth:24,bodyBefore:!1,rowBodyTrSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowCollapsedCls:Ext.baseCSSPrefix+"grid-row-collapsed",addCollapsedCls:{fn:function(e,t,n){var i=this.rowExpander;i.recordsExpanded[t.record.internalId]||t.itemClasses.push(i.rowCollapsedCls),this.nextTpl.applyOut(t,e,n)},syncRowHeights:function(e,t){this.rowExpander.syncRowHeights(e,t)},priority:2e4},setCmp:function(e){var t,n=this;n.callParent(arguments),n.recordsExpanded={},n.rowBodyTpl||Ext.raise("The 'rowBodyTpl' config is required and is not defined."),n.rowBodyTpl=Ext.XTemplate.getTpl(n,"rowBodyTpl"),t=n.getFeatureConfig(e),e.features?e.features=Ext.Array.push(t,e.features):e.features=t},getFeatureConfig:function(e){var t=this,n=[],i={ftype:"rowbody",rowExpander:t,rowIdCls:t.rowIdCls,bodyBefore:t.bodyBefore,recordsExpanded:t.recordsExpanded,rowBodyHiddenCls:t.rowBodyHiddenCls,rowCollapsedCls:t.rowCollapsedCls,setupRowData:t.getRowBodyFeatureData,setup:t.setup};return n.push(Ext.apply({lockableScope:"normal",getRowBodyContents:t.getRowBodyContentsFn(t.rowBodyTpl)},i)),e.enableLocking&&n.push(Ext.apply({lockableScope:"locked",getRowBodyContents:t.lockedTpl?t.getRowBodyContentsFn(t.lockedTpl):function(){return""}},i)),n},getRowBodyContentsFn:function(e){var t=this;return function(n){return e.owner=t,e.applyTemplate(n.record.getData())}},init:function(e){var t,n,i,r=this,o=e.lockable&&e;o&&(r.lockedGrid=o.lockedGrid,r.normalGrid=o.normalGrid,n=r.lockedView=r.lockedGrid.getView(),i=r.normalView=r.normalGrid.getView()),r.callParent(arguments),r.grid=e,t=r.view=e.getView(),r.bindView(t),o?(r.addExpander(r.lockedGrid.headerCt.items.getCount()?r.lockedGrid:r.normalGrid),n.addRowTpl(r.addCollapsedCls).rowExpander=i.addRowTpl(r.addCollapsedCls).rowExpander=n.rowExpander=i.rowExpander=r,o.mon(o,{processcolumns:r.onLockableProcessColumns,lockcolumn:r.onColumnLock,unlockcolumn:r.onColumnUnlock,scope:r})):(t.addRowTpl(r.addCollapsedCls).rowExpander=t.rowExpander=r,r.addExpander(e),e.on("beforereconfigure",r.beforeReconfigure,r))},onItemAdd:function(e,t,n){var i,r,o=this.grid.lockable,a=n.length;for(r=0;r<a;r++)if(!(i=e[r]).isNonData&&this.recordsExpanded[i.internalId])return void(o&&(this.grid.syncRowHeightOnNextLayout=!0))},beforeReconfigure:function(e,t,n,i,r){var o=this;o.viewListeners&&o.viewListeners.destroy(),n&&(o.expanderColumn=new Ext.grid.Column(o.getHeaderConfig()),n.unshift(o.expanderColumn))},onLockableProcessColumns:function(e,t,n){this.addExpander(t.length?e.lockedGrid:e.normalGrid)},addExpander:function(e){var t=e.getSelectionModel(),n=t.injectCheckbox;this.expanderColumn=e.headerCt.insert(0,this.getHeaderConfig()),0!==n&&"first"!==n||(n=1),t.injectCheckbox=n},getRowBodyFeatureData:function(e,t,n){var i=this;i.self.prototype.setupRowData.apply(i,arguments),n.rowBody=i.getRowBodyContents(n),n.rowBodyCls=i.recordsExpanded[e.internalId]?"":i.rowBodyHiddenCls},bindView:function(e){var t=this,n={itemkeydown:t.onKeyDown,scope:t};t.expandOnDblClick&&(n.itemdblclick=t.onDblClick),t.grid.lockable&&(n.itemadd=t.onItemAdd),e.on(n)},onKeyDown:function(e,t,n,i,r){var o,a=r.getKey();e.getNavigationModel().getPosition()&&(o=(n=Ext.fly(n)).hasCls(this.rowCollapsedCls),((107===a||187===a&&r.shiftKey)&&o||(109===a||189===a)&&!o)&&this.toggleRow(i,t))},onDblClick:function(e,t,n,i,r){this.toggleRow(i,t)},toggleRow:function(e,t){var n,i,r=this,o=r.normalView||r.view,a=o,s=o.getNode(e),l=Ext.fly(s),d=l.down(r.rowBodyTrSelector,!0),c=l.hasCls(r.rowCollapsedCls),u=c?"removeCls":"addCls",h=r.grid.lockable&&r.grid;l[u](r.rowCollapsedCls),Ext.fly(d)[u](r.rowBodyHiddenCls),r.recordsExpanded[t.internalId]=c,Ext.suspendLayouts(),h&&(i=h.componentLayoutCounter,a=h.getView(),r.lockedGrid.isVisible()&&((o=r.lockedView).lockingPartner.updateLayout(),(n=Ext.fly(o.getNode(e)))&&(n[u](r.rowCollapsedCls),d=n.down(r.rowBodyTrSelector,!0),Ext.fly(d)[u](r.rowBodyHiddenCls))),h.syncRowHeightOnNextLayout=!0),a.fireEvent(c?"expandbody":"collapsebody",s,t,d),o.refreshSize(!0),Ext.resumeLayouts(!0),r.scrollIntoViewOnExpand&&c&&r.grid.ensureVisible(e),h&&h.componentLayoutCounter===i&&h.syncLockableLayout()},syncRowHeights:function(e,t){var n,i,r=Ext.fly(e).down(this.rowBodyTrSelector),o=Ext.fly(t).down(this.rowBodyTrSelector);o.isVisible()?(n=r.getHeight())!==(i=o.getHeight())&&(n>i?o.setHeight(n):r.setHeight(i)):r.dom.style.height=o.dom.style.height=""},onColumnUnlock:function(e,t){var n;1===(n=(e=e||this.grid).lockedGrid.visibleColumnManager.getColumns()).length&&(e.normalGrid.removeCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),e.lockedGrid.addCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),n[0]===this.expanderColumn?e.unlock(this.expanderColumn):e.lock(this.expanderColumn,0))},onColumnLock:function(e,t){e=e||this.grid,1===this.lockedGrid.visibleColumnManager.getColumns().length&&(this.lockedGrid.headerCt.insert(0,this.expanderColumn),e.normalGrid.addCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),e.lockedGrid.removeCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"))},getHeaderConfig:function(){var e=this,t=e.grid.lockable&&e.grid;return{width:e.headerWidth,ignoreExport:!0,lockable:!1,autoLock:!0,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(){return'<div class="'+Ext.baseCSSPrefix+'grid-row-expander" role="presentation" tabIndex="0"></div>'},processEvent:function(t,n,i,r,o,a,s){var l="touch"===a.pointerType,d=!!a.getTarget("."+Ext.baseCSSPrefix+"grid-row-expander");"click"===t&&d||"keydown"===t&&a.getKey()===a.SPACE?(l&&i.focus(),e.toggleRow(r,s,a),a.stopSelection=!e.selectRowOnExpand):"mousedown"===a.type&&!l&&d&&a.preventDefault()},isLocked:function(){return t&&(t.lockedGrid.isVisible()||this.locked)},editRenderer:function(){return"&#160;"}}}}),Ext.define("Ext.grid.plugin.RowWidget",{extend:"Ext.grid.plugin.RowExpander",mixins:["Ext.mixin.Identifiable","Ext.mixin.StyleCacher"],lockableScope:"top",alias:"plugin.rowwidget",config:{defaultWidgetUI:{}},widget:null,lockedWidget:null,addCollapsedCls:{fn:function(e,t,n){var i=this.rowExpander;i.recordsExpanded[t.record.internalId]||t.itemClasses.push(i.rowCollapsedCls),this.nextTpl.applyOut(t,e,n)},priority:2e4},setCmp:function(e){var t,n,i=this;i.rowIdCls=Ext.id(null,Ext.baseCSSPrefix+"rowwidget-"),i.recordsExpanded={},Ext.plugin.Abstract.prototype.setCmp.apply(i,arguments),(n=i.widget)&&!n.isComponent||Ext.raise("RowWidget requires a widget configuration."),i.widget=n=Ext.apply({},n),n.ui||(n.ui=i.getDefaultWidgetUI()[n.xtype]||"default"),e.enableLocking&&i.lockedWidget&&(i.lockedWidget=n=Ext.apply({},i.lockedWidget),n.ui||(n.ui=i.getDefaultWidgetUI()[n.xtype]||"default")),t=i.getFeatureConfig(e),e.features?e.features=Ext.Array.push(t,e.features):e.features=t},getFeatureConfig:function(e){var t=this,n=[],i={ftype:"rowbody",rowExpander:t,rowIdCls:t.rowIdCls,bodyBefore:t.bodyBefore,recordsExpanded:t.recordsExpanded,rowBodyHiddenCls:t.rowBodyHiddenCls,rowCollapsedCls:t.rowCollapsedCls,setupRowData:t.setupRowData,setup:t.setup,onClick:Ext.emptyFn};return n.push(Ext.apply({lockableScope:"normal"},i)),e.enableLocking&&n.push(Ext.apply({lockableScope:"locked"},i)),n},setupRowData:function(e,t,n){var i=this.rowExpander;i.rowBodyFeature=this,n.rowBodyCls=i.recordsExpanded[e.internalId]?"":i.rowBodyHiddenCls},bindView:function(e){var t=this;t.viewListeners=e.on({refresh:t.onViewRefresh,itemadd:t.onItemAdd,scope:t,destroyable:!0}),Ext.override(e,t.viewOverrides)},destroy:function(){var e=this,t=e.getId();e.viewListeners.destroy(),e.grid.lockable?(e.grid.destroyManagedWidgets(t+"-"+e.lockedView.getId()),e.grid.destroyManagedWidgets(t+"-"+e.normalView.getId())):e.grid.destroyManagedWidgets(t+"-"+e.view.getId()),e.callParent()},privates:{viewOverrides:{handleEvent:function(e){e.getTarget("."+this.rowExpander.rowIdCls,this.body)||this.callParent([e])},onFocusEnter:function(e){e.event.getTarget("."+this.rowExpander.rowIdCls,this.body)||this.callParent([e])},toggleChildrenTabbability:function(e){var t,n=this.getTargetEl(),i=this.all;for(t=i.startIndex;t<=i.endIndex;t++)n=Ext.fly(this.getRow(i.item(t))),e?n.restoreTabbableState(!0):n.saveTabbableState({skipSelf:!0,includeSaved:!1})}},destroyLiveWidget:function(e,t){t.destroy()},destroyFreeWidget:function(e){e.destroy()},onItemAdd:function(e,t,n,i){var r,o,a=n.length,s=this.grid.lockable;for(Ext.suspendLayouts(),r=0;r<a;r++)!(o=e[r]).isNonData&&this.recordsExpanded[o.internalId]&&(s&&(this.grid.syncRowHeightOnNextLayout=!0),this.addWidget(i,o));Ext.resumeLayouts(!0)},onViewRefresh:function(e,t){var n,i,r=e.all;for(Ext.suspendLayouts(),n=r.startIndex,i=0;n<=r.endIndex;n++,i++)this.addWidget(e,t[i]);Ext.resumeLayouts(!0)},returnFalse:function(){return!1},listenerScopeDecorator:function(e){return"this"===e?this:this.ownerCt.resolveListenerScope(e)},getWidget:function(e,t){var n,i,r=this;return t&&(i=r.grid.lockable&&e===r.lockedView?r.lockedWidget:r.widget)&&((n=r.grid.createManagedWidget(r.getId()+"-"+e.getId(),i,t)).resolveListenerScope=r.listenerScopeDecorator,n.measurer=r,n.ownerCt=e,n.ownerLayout=e.componentLayout),n},addWidget:function(e,t){var n,i,r,o,a=this,s=!!a.onWidgetAttach,l=a.isFixedSize;if(!t.isNonData&&a.recordsExpanded[t.internalId])return i=(n=Ext.fly(e.getNode(t)).down(a.rowBodyFeature.innerSelector)).getWidth(!0)-n.getPadding("lr"),(r=a.getWidget(e,t))&&(r.defaultBindProperty&&!r.getBind()&&r.setConfig(r.defaultBindProperty,t),s&&Ext.callback(a.onWidgetAttach,a.scope,[a,r,t],0,a),(o=r.el||r.element)?(n.dom.appendChild(o.dom),l||r.width===i?r.updateLayout():r.setWidth(i),r.reattachToBody()):(l||(r.width=i),r.render(n))),r},toggleRow:function(e,t){var n,i,r=this,o=r.normalView||r.view,a=o.getNode(e),s=Ext.fly(a),l=s.down(r.rowBodyTrSelector,!0),d=s.hasCls(r.rowCollapsedCls),c=d?"removeCls":"addCls",u=r.grid.lockable&&r.grid;s[c](r.rowCollapsedCls),Ext.fly(l)[c](r.rowBodyHiddenCls),Ext.suspendLayouts(),d?(r.recordsExpanded[t.internalId]=!0,i=r.addWidget(o,t)):(delete r.recordsExpanded[t.internalId],i=r.getWidget(o,t)),u&&u.lockedGrid.isVisible()&&(o=r.lockedView,(n=Ext.fly(o.getNode(e)))&&(n[c](r.rowCollapsedCls),l=n.down(r.rowBodyTrSelector,!0),Ext.fly(l)[c](r.rowBodyHiddenCls),i=d&&r.lockedWidget?[i,r.addWidget(o,t)]:[i,r.getWidget(o,t)]),u.syncRowHeightOnNextLayout=!0),r.view.fireEvent(d?"expandbody":"collapsebody",a,t,l,i),o.updateLayout(),Ext.resumeLayouts(!0),r.scrollIntoViewOnExpand&&d&&r.grid.ensureVisible(e)}}}),Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number","Ext.form.field.ComboBox"],valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var e,t=this,n=!Ext.isIE;t.source=t.source||{},t.addCls(t.gridCls),t.plugins=t.plugins||[],t.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:t.clicksToEdit,startEdit:function(e,n){return this.self.prototype.startEdit.call(this,e,t.valueColumn)}})),t.selModel={type:"cellmodel",onCellSelect:function(e){return e.column=t.valueColumn,e.colIdx=t.valueColumn.getVisibleIndex(),this.self.prototype.onCellSelect.call(this,e)}},t.sourceConfig=Ext.apply({},t.sourceConfig),t.store||(t.propStore=t.store=new Ext.grid.property.Store(t,t.source)),t.configure(t.sourceConfig),t.sortableColumns&&t.store.sort("name","ASC"),t.columns=new Ext.grid.property.HeaderContainer(t,t.store),t.callParent(),(e=t.getView()).walkCells=t.walkCells,e.getDefaultFocusPosition=t.getDefaultFocusPosition,t.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:n})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:n})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:n})}),boolean:new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,t.headerCt.trueText],[!1,t.headerCt.falseText]]})})},t.store.on("update",t.onUpdate,t)},configure:function(e){var t,n,i,r,o=this,a=o.store,s=0,l=o.store.getCount(),d=o.nameField,c=o.valueField;if(o.configureLegacy(e),o.inferTypes)for(;s<l;++s)t=(i=a.getAt(s)).get(d),o.getConfigProp(t,"type")||(n=i.get(c),r=Ext.isDate(n)?"date":Ext.isNumber(n)?"number":Ext.isBoolean(n)?"boolean":"string",o.setConfigProp(t,"type",r))},getConfigProp:function(e,t,n){var i,r=this.sourceConfig[e];return r&&(i=r[t]),i||n},setConfigProp:function(e,t,n){var i=this.sourceConfig,r=i[e];return r?r.__copied||(r=Ext.apply({__copied:!0},r),i[e]=r):r=i[e]={__copied:!0},r[t]=n,n},configureLegacy:function(e){var t=this;t.copyLegacyObject(e,t.customRenderers,"renderer"),t.copyLegacyObject(e,t.customEditors,"editor"),t.copyLegacyObject(e,t.propertyNames,"displayName"),(t.customRenderers||t.customEditors||t.propertyNames)&&Ext.global.console&&Ext.global.console.warn&&Ext.global.console.warn(this.$className,'customRenderers, customEditors & propertyNames have been consolidated into a new config, see "sourceConfig". These configurations will be deprecated.')},copyLegacyObject:function(e,t,n){var i;for(i in t)t.hasOwnProperty(i)&&(e[i]||(e[i]={}),e[i][n]=t[i])},onUpdate:function(e,t,n){var i,r,o=this;o.rendered&&n===Ext.data.Model.EDIT&&(i=t.get(o.valueField),r=t.modified.value,!1!==o.fireEvent("beforepropertychange",o.source,t.getId(),i,r)?(o.source&&(o.source[t.getId()]=i),t.commit(),o.fireEvent("propertychange",o.source,t.getId(),i,r)):t.reject())},walkCells:function(e,t,n,i,r,o){var a=this.ownerCt.valueColumn;return"left"===t?t="up":"right"===t&&(t="down"),(e=Ext.view.Table.prototype.walkCells.call(this,e,t,n,i,r,o)).column=a,e.colIdx=a.getVisibleIndex(),e},getDefaultFocusPosition:function(){return new Ext.grid.CellContext(this).setColumn(1)},getCellEditor:function(e,t){var n,i=this,r=e.get(i.nameField),o=e.get(i.valueField),a=i.getConfigProp(r,"editor"),s=i.getConfigProp(r,"type"),l=i.editors;if(a)a instanceof Ext.grid.CellEditor||(a instanceof Ext.form.field.Base||(a=Ext.ComponentManager.create(a,"textfield")),a=i.setConfigProp(r,"editor",new Ext.grid.CellEditor({field:a})));else if(s)switch(s){case"date":a=l.date;break;case"number":a=l.number;break;case"boolean":a=i.editors.boolean;break;default:a=l.string}else a=Ext.isDate(o)?l.date:Ext.isNumber(o)?l.number:Ext.isBoolean(o)?l.boolean:l.string;return(n=a.field)&&"default"===n.ui&&!n.hasOwnProperty("ui")&&(n.ui=i.editingPlugin.defaultFieldUI),a.editorId=r,a.field.column=i.valueColumn,r&&(r=Ext.String.htmlEncode(r),n.rendered?n.inputEl.dom.setAttribute("aria-label",r):n.ariaLabel=r),a},doDestroy:function(){var e=this;e.destroyEditors(e.editors),e.destroyEditors(e.customEditors),e.callParent()},destroyEditors:function(e){for(var t in e)e.hasOwnProperty(t)&&Ext.destroy(e[t])},setSource:function(e,t){var n=this;n.source=e,void 0!==t&&(n.sourceConfig=Ext.apply({},t),n.configure(n.sourceConfig)),n.propStore.setSource(e)},getSource:function(){return this.propStore.getSource()},getProperty:function(e){return this.propStore.getProperty(e)},setProperty:function(e,t,n){this.propStore.setValue(e,t,n)},removeProperty:function(e){this.propStore.remove(e)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(e,t){var n=this;n.grid=e,n.store=t,n.callParent([{isRootHeader:!0,enableColumnResize:Ext.isDefined(e.enableColumnResize)?e.enableColumnResize:n.enableColumnResize,enableColumnMove:Ext.isDefined(e.enableColumnMove)?e.enableColumnMove:n.enableColumnMove,items:[{header:n.nameText,width:e.nameColumnWidth||n.nameWidth,sortable:e.sortableColumns,dataIndex:e.nameField,scope:n,renderer:n.renderProp,itemId:e.nameField,menuDisabled:!0,tdCls:n.nameColumnCls,innerCls:n.nameColumnInnerCls},{header:n.valueText,scope:n,renderer:n.renderCell,getEditor:n.getCellEditor.bind(n),sortable:e.sortableColumns,flex:1,fixed:!0,dataIndex:e.valueField,itemId:e.valueField,menuDisabled:!0}]}]),n.grid.valueColumn=n.items.getAt(1)},getCellEditor:function(e){return this.grid.getCellEditor(e,this)},renderProp:function(e){return this.getPropertyName(e)},renderCell:function(e,t,n){var i=this.grid,r=i.getConfigProp(n.get(i.nameField),"renderer"),o=e;return r?Ext.callback(r,null,arguments,0,this):(Ext.isDate(e)?o=this.renderDate(e):Ext.isBoolean(e)&&(o=this.renderBool(e)),Ext.util.Format.htmlEncode(o))},renderDate:Ext.util.Format.date,renderBool:function(e){return this[e?"trueText":"falseText"]},getPropertyName:function(e){return this.grid.getConfigProp(e,"displayName",e)}}),Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name",constructor:function(e,t){Ext.isObject(e)||(e={name:e,value:t}),this.callParent([e])}}),Ext.define("Ext.grid.property.Reader",{extend:"Ext.data.reader.Reader",successProperty:null,totalProperty:null,messageProperty:null,read:function(e){return this.readRecords(e)},readRecords:function(e){var t,n,i=this.getModel(),r={records:[],success:!0};for(n in e)e.hasOwnProperty(n)&&(t=e[n],this.isEditableValue(t)&&r.records.push(new i({name:n,value:t})));return r.total=r.count=r.records.length,new Ext.data.ResultSet(r)},isEditableValue:function(e){return Ext.isPrimitive(e)||Ext.isDate(e)||null===e}}),Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",remoteSort:!0,requires:["Ext.grid.property.Reader","Ext.data.proxy.Memory","Ext.grid.property.Property"],constructor:function(e,t){this.grid=e,this.source=t,this.callParent([{data:t,model:Ext.grid.property.Property,proxy:this.getProxy()}])},getProxy:function(){var e=this.proxy;return e||(e=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),e},getReader:function(){var e=this.reader;return e||(e=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property})),e},setSource:function(e){var t=this;t.source=e,t.suspendEvents(),t.removeAll(),t.getProxy().setData(e),t.load(),t.resumeEvents(),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)},getProperty:function(e){var t=Ext.isNumber(e)?this.getAt(e):this.getById(e),n=null;return t&&(n=t.get("value")),n},setValue:function(e,t,n){var i=this.getRec(e);i?(i.set("value",t),this.source[e]=t):n&&(this.source[e]=t,i=new Ext.grid.property.Property({name:e,value:t},e),this.add(i))},remove:function(e){var t=this.getRec(e);t&&(this.callParent([t]),delete this.source[e])},getRec:function(e){return this.getById(e)},getSource:function(){return this.source},doDestroy:function(){Ext.destroy(this.reader,this.proxy),this.callParent()}}),Ext.define("Ext.grid.selection.Selection",{constructor:function(e){e&&(e.isTableView||e.isLockingView)||Ext.raise("Selection must be created for a given TableView or LockingView"),this.view=e.ownerGrid.view}}),Ext.define("Ext.grid.selection.Cells",{extend:"Ext.grid.selection.Selection",type:"cells",isCells:!0,clone:function(){var e=this,t=new e.self(e.view);return e.startCell&&(t.startCell=e.startCell.clone(),t.endCell=e.endCell.clone()),t},contains:function(e){var t;return!(!e||!e.isCellContext)&&(!!(this.startCell&&(t=this.getRowRange(),e.rowIdx>=t[0]&&e.rowIdx<=t[1]))&&(t=this.getColumnRange(),e.colIdx>=t[0]&&e.colIdx<=t[1]))},eachRow:function(e,t){var n,i=this.getRowRange(),r=new Ext.grid.CellContext(this.view);for(n=i[0];n<=i[1];n++)if(r.setRow(n),!1===e.call(t||this,r.record))return},eachColumn:function(e,t){var n,i=this.getColumnRange(),r=new Ext.grid.CellContext(this.view);for(n=i[0];n<=i[1];n++)if(r.setColumn(n),!1===e.call(t||this,r.column,n))return},eachCell:function(e,t){var n,i,r=this.getRowRange(),o=this.getColumnRange(),a=new Ext.grid.CellContext(this.view);for(n=r[0];n<=r[1];n++)for(a.setRow(n),i=o[0];i<=o[1];i++)if(a.setColumn(i),!1===e.call(t||this,a,i,n))return},getFirstRowIndex:function(){return this.startCell?Math.min(this.startCell.rowIdx,this.endCell.rowIdx):0},getLastRowIndex:function(){return this.startCell?Math.max(this.startCell.rowIdx,this.endCell.rowIdx):-1},getFirstColumnIndex:function(){return this.startCell?Math.min(this.startCell.colIdx,this.endCell.colIdx):0},getLastColumnIndex:function(){return this.startCell?Math.max(this.startCell.colIdx,this.endCell.colIdx):-1},privates:{clear:function(){var e=this.view;this.eachCell(function(t){e.onCellDeselect(t)}),this.startCell=this.endCell=null},setRangeStart:function(e,t){this.startCell=(this.endCell=e.clone()).clone(),this.view.onCellSelect(e)},setRangeEnd:function(e){var t,n,i,r,o,a,s,l,d=this,c=d.view,u=c.all,h=new Ext.grid.CellContext(c),f=c.getVisibleColumnManager().getColumns().length-1;for(d.endCell=e.clone(),t=d.getRange(),n=d.lastRange||t,i=Math.max(Math.min(t[0][1],n[0][1]),u.startIndex),r=Math.min(Math.max(t[1][1],n[1][1]),u.endIndex),o=Math.min(t[0][0],n[0][0]),a=Math.min(Math.max(t[1][0],n[1][0]),f),s=i;s<=r;s++)for(l=o;l<=a;l++)h.setPosition(s,l),s<t[0][1]||s>t[1][1]||l<t[0][0]||l>t[1][0]?c.onCellDeselect(h):c.onCellSelect(h);d.lastRange=t},extendRange:function(e){var t,n=this;e[e.type]<0?(t=n.endCell.clone().setPosition(n.getLastRowIndex(),n.getLastColumnIndex()),n.startCell=e.start.clone(),n.setRangeEnd(t),n.view.getNavigationModel().setPosition(e.start)):(n.startCell=n.startCell.setPosition(n.getFirstRowIndex(),n.getFirstColumnIndex()),n.setRangeEnd(e.end),n.view.getNavigationModel().setPosition(e.end))},getRange:function(){return[[this.getFirstColumnIndex(),this.getFirstRowIndex()],[this.getLastColumnIndex(),this.getLastRowIndex()]]},getRangeSize:function(){return this.getCount()},getCount:function(){var e=this.getRange();return(e[1][0]-e[0][0]+1)*(e[1][1]-e[0][1]+1)},selectAll:function(){var e=this.view;this.clear(),this.setRangeStart(new Ext.grid.CellContext(e).setPosition(0,0)),this.setRangeEnd(new Ext.grid.CellContext(e).setPosition(e.dataSource.getCount()-1,e.getVisibleColumnManager().getColumns().length-1))},isAllSelected:function(){var e=this.rangeStart,t=this.rangeEnd;return!(!e||e.colIdx||e.rowIdx)&&(t.colIdx===t.view.getVisibleColumnManager().getColumns().length-1&&t.rowIdx===t.view.dataSource.getCount-1)},getColumnRange:function(){return[this.getFirstColumnIndex(),this.getLastColumnIndex()]},getLastSelected:function(){return this.view.dataSource.getAt(this.endCell.rowIdx)},getRowRange:function(){return[this.getFirstRowIndex(),this.getLastRowIndex()]},onSelectionFinish:function(){var e=this;e.getCount()?e.view.getSelectionModel().onSelectionFinish(e,new Ext.grid.CellContext(e.view).setPosition(e.getFirstRowIndex(),e.getFirstColumnIndex()),new Ext.grid.CellContext(e.view).setPosition(e.getLastRowIndex(),e.getLastColumnIndex())):e.view.getSelectionModel().onSelectionFinish(e)}}}),Ext.define("Ext.grid.selection.Columns",{extend:"Ext.grid.selection.Selection",type:"columns",isColumns:!0,clone:function(){var e=new this.self(this.view),t=this.selectedColumns;return t&&(e.selectedColumns=Ext.Array.slice(t)),e},eachRow:function(e,t){var n=this.selectedColumns;n&&n.length&&this.view.dataSource.each(e,t||this)},eachColumn:function(e,t){var n,i,r=this.view,o=this.selectedColumns,a=new Ext.grid.CellContext(r);if(o)for(n=o.length,i=0;i<n;i++)if(a.setColumn(o[i]),!1===e.call(t||this,a.column,a.colIdx))return!1},eachCell:function(e,t){var n,i,r=this,o=r.view,a=r.selectedColumns,s=new Ext.grid.CellContext(o);a&&(n=a.length,o.dataSource.each(function(o){for(s.setRow(o),i=0;i<n;i++)if(s.setColumn(a[i]),!1===e.call(t||r,s,s.colIdx,s.rowIdx))return!1}))},contains:function(e){var t=this.selectedColumns;return!!(e&&e.isColumn&&t&&t.length)&&Ext.Array.contains(t,e)},getCount:function(){var e=this.selectedColumns;return e?e.length:0},getColumns:function(){return this.selectedColumns||[]},privates:{add:function(e){e.isColumn||Ext.raise("Column selection must be passed a grid Column header object"),Ext.Array.include(this.selectedColumns||(this.selectedColumns=[]),e),this.refreshColumns(e)},clear:function(){var e=this.selectedColumns;e&&e.length&&(this.selectedColumns=[],this.refreshColumns.apply(this,e))},setRangeStart:function(e){var t=this,n=t.getColumns();t.startColumn=e,t.selectedColumns=[e],n.push(e),t.refreshColumns.apply(t,n)},setRangeEnd:function(e){var t,n=this,i=n.getColumns(),r=this.view.ownerGrid.getVisibleColumnManager(),o=r.getColumns(),a=r.indexOf(n.startColumn),s=r.indexOf(e);for(s<a&&(t=a,a=s,s=t),n.selectedColumns=[],t=a;t<=s;t++)n.selectedColumns.push(o[t]),i.push(o[t]);n.refreshColumns.apply(n,i)},isAllSelected:function(){var e=this.selectedColumns;return e&&e.length===this.view.ownerGrid.getVisibleColumnManager().getColumns().length},refreshColumns:function(e){var t,n,i=this.view,r=i.all,o=arguments,a=o.length,s=new Ext.grid.CellContext(i),l=[];if(i.rendered){for(n=0;n<a;n++)l[n]=this.contains(o[n]);for(t=r.startIndex;t<=r.endIndex;t++)for(s.setRow(t),n=0;n<a;n++)s.setColumn(o[n]),l[n]?i.onCellSelect(s):i.onCellDeselect(s)}},remove:function(e){e.isColumn||Ext.raise("Column selection must be passed a grid Column header object"),this.selectedColumns&&(Ext.Array.remove(this.selectedColumns,e),e.getView()&&e.isVisible()&&this.refreshColumns(e))},selectAll:function(){var e=this;e.clear(),e.selectedColumns=e.view.getSelectionModel().lastContiguousColumnRange=e.view.getVisibleColumnManager().getColumns(),e.refreshColumns.apply(e,e.selectedColumns)},extendRange:function(e){var t,n=this.view.getVisibleColumnManager().getColumns();for(t=e.start.colIdx;t<=e.end.colIdx;t++)this.add(n[t])},onSelectionFinish:function(){var e=this,t=e.getContiguousSelection();t?e.view.getSelectionModel().onSelectionFinish(e,new Ext.grid.CellContext(e.view).setPosition(0,t[0]),new Ext.grid.CellContext(e.view).setPosition(e.view.dataSource.getCount()-1,t[1])):e.view.getSelectionModel().onSelectionFinish(e)},getContiguousSelection:function(){var e,t=Ext.Array.sort(this.getColumns(),function(e,t){return e.getView().ownerGrid.getVisibleColumnManager().indexOf(e)-t.getView().ownerGrid.getVisibleColumnManager().indexOf(t)}),n=t.length;if(n){for(e=1;e<n;e++)if(t[e].getVisibleIndex()!==t[e-1].getVisibleIndex()+1)return!1;return[t[0],t[n-1]]}}}}),Ext.define("Ext.grid.selection.Replicator",{extend:"Ext.plugin.Abstract",alias:"plugin.selectionreplicator",init:function(e){this.gridListeners=e.on({beforeselectionextend:this.onBeforeSelectionExtend,scope:this,destroyable:!0})},onBeforeSelectionExtend:function(e,t,n){var i=this.columns=[];return t.eachColumn(function(e){i.push(e)}),this.replicateSelection(e,t,n)},replicateSelection:function(e,t,n){if(!n.columns&&!t.isColumns){var i,r,o,a,s,l,d,c,u,h,f,g,p,m,x=this,E=x.columns,v=t.getFirstRowIndex(),y=t.getLastRowIndex(),b=y-v+1,C=[];if(i=E.length,u=E[0].getView().dataSource,1===b)a=x.getColumnValues(t.view.dataSource.getAt(v));else for(a=new Array(i),(C=n.rows<0?[u.getAt(v+1),u.getAt(v)]:[u.getAt(y-1),u.getAt(y)])[0]=x.getColumnValues(C[0]),C[1]=x.getColumnValues(C[1]),r=0;r<i;r++)p=C[1][r],m=C[0][r],isNaN(p)||isNaN(m)||(a[r]=Number(p)-Number(m));if(n.rows<0?(s=n.end.rowIdx,l=n.start.rowIdx-1,c=-1):(s=n.start.rowIdx,l=n.end.rowIdx+1,c=1),1===b)for(d=s;d!==l;d+=c)for(h=u.getAt(d),r=0;r<i;r++)(o=E[r]).dataIndex&&h.set(o.dataIndex,a[r]);else for(d=s;d!==l;d+=c)for(h=u.getAt(d),f=x.getColumnValues(u.getAt(d-c)),r=0;r<i;r++)(o=E[r]).dataIndex&&(g=f[r],isNaN(g)||h.set(o.dataIndex,Ext.coerce(Number(g)+a[r],g)))}},getColumnValues:function(e){var t,n,i=this.columns,r=i.length,o=new Array(i.length);for(t=0;t<r;t++)(n=i[t]).dataIndex&&(o[t]=e.get(n.dataIndex));return o},destroy:function(){this.gridListeners=Ext.destroy(this.gridListeners),this.callParent()}}),Ext.define("Ext.grid.selection.Rows",{extend:"Ext.grid.selection.Selection",requires:["Ext.util.Collection"],type:"rows",isRows:!0,clone:function(){var e=this,t=new e.self(e.view);return e.selectedRecords&&(t.selectedRecords=e.selectedRecords.clone()),e.rangeStart&&(t.setRangeStart(e.rangeStart),t.setRangeEnd(e.rangeEnd)),t},addOne:function(e){e.isModel||Ext.raise("Row selection must be passed a record");var t=this.selectedRecords||(this.selectedRecords=this.createRecordCollection());t.byInternalId.get(e.internalId)||(t.add(e),this.view.onRowSelect(e))},add:function(e){var t,n;if(e.isModel)this.addOne(e);else if(Ext.isArray(e))for(t=0,n=e.length;t<n;t++)this.addOne(e[t]);else Ext.raise("add must be called with a record or array of records")},removeOne:function(e){e.isModel||Ext.raise("Row selection must be passed a record");var t=this;return!(!t.selectedRecords||!t.selectedRecords.byInternalId.get(e.internalId))&&(t.selectedRecords.remove(e),t.view.onRowDeselect(e),t.allSelected=!1,!0)},remove:function(e){var t,n,i=!0;if(e.isModel)return this.removeOne(e);if(Ext.isArray(e))for(t=0,n=e.length;t<n;t++)i&=this.removeOne(e[t]);else Ext.raise("remove must be called with a record or array of records");return i},contains:function(e){if(!e||!e.isModel)return!1;var t,n,i=this,r=!1,o=i.selectedRecords;return i.allSelected?(i.add(e),!0):(o&&(r=!!o.byInternalId.get(e.internalId)),r||null==i.rangeStart||(n=i.getRange(),r=(t=i.view.dataSource.indexOf(e))>=n[0]&&t<=n[1]),r)},getCount:function(){var e,t=this.selectedRecords,n=t?t.getCount():0,i=this.getRange(),r=this.view.dataSource;for(e=i[0];e<=i[1];e++)t&&t.byInternalId.get(r.getAt(e).internalId)||n++;return n},getRecords:function(){var e=this.selectedRecords;return e?e.getRange():[]},selectAll:function(){var e=this,t=e.view.dataSource,n=t.isBufferedStore?t.getData().getCount():t.getCount();e.clear(),e.setRangeStart(0),e.setRangeEnd(n-1),e.addRange(),e.allSelected=!0},getFirstRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):0},getLastRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):-1},eachRow:function(e,t){var n=this.selectedRecords;n&&n.each(e,t||this)},eachColumn:function(e,t){var n,i=this.view.getVisibleColumnManager().getColumns(),r=i.length;if(this.selectedRecords)for(n=0;n<r;n++)if(!1===e.call(this||t,i[n],n))return},eachCell:function(e,t){var n,i,r,o,a,s,l=this,d=l.selectedRecords,c=l.view,u=c.ownerGrid.getVisibleColumnManager().getColumns(),h=!1;u&&(n=u.length,o=new Ext.grid.CellContext(c),d&&d.each(function(r){for(o.setRow(r),i=0;i<n;i++)if(o.setColumn(u[i]),!1===e.call(t||l,o,o.colIdx,o.rowIdx))return h=!0,!1}),h||null==l.rangeStart||(a=l.getRange(),l.view.dataSource.getRange(a[0],a[1],{forRender:!1,callback:function(a){for(s=a.length,i=0;!h&&i<s;i++)for(o.setRow(a[i]),r=0;!h&&r<n;r++)o.setColumn(u[r]),!1===e.call(t||l,o,o.colIdx,o.rowIdx)&&(h=!0)}})))},beginUpdate:function(){var e=this.selectedRecords;e&&e.beginUpdate()},endUpdate:function(){var e=this.selectedRecords;e&&e.endUpdate()},destroy:function(){this.selectedRecords=Ext.destroy(this.selectedRecords),this.callParent()},privates:{clear:function(){var e=this,t=e.view;e.allSelected=!1,e.selectedRecords&&(e.eachRow(function(e){t.onRowDeselect(e)}),e.selectedRecords.clear())},isAllSelected:function(){return!!this.allSelected},setRangeStart:function(e){this.allSelected=!1,this.rangeStart=this.rangeEnd=e,this.view.onRowSelect(e)},setRangeEnd:function(e){var t,n,i,r,o=this,a=o.view,s=a.dataSource,l=a.all,d=o.selectedRecords;for(o.rangeEnd=e,t=o.getRange(),n=o.lastRange||t,i=Math.max(Math.min(t[0],n[0]),l.startIndex),e=Math.min(Math.max(t[1],n[1]),l.endIndex);i<=e;i++)l.item(i),i<t[0]||i>t[1]?(d&&(r=d.byInternalId.get(s.getAt(i).internalId))&&d.remove(r),a.onRowDeselect(i)):a.onRowSelect(i);o.lastRange=t},extendRange:function(e){var t,n=this.view.dataSource;for(t=e.start.rowIdx;t<=e.end.rowIdx;t++)this.add(n.getAt(t))},getLastSelected:function(){return this.selectedRecords.last()},getRange:function(){var e=this.rangeStart,t=this.rangeEnd;return null==e?[0,-1]:e<=t?[e,t]:[t,e]},getRangeSize:function(){var e=this.getRange();return e[1]-e[0]+1},createRecordCollection:function(){var e=this.view.dataSource;return new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{rootProperty:!1,property:"internalId"}},sorters:[function(t,n){return e.indexOf(t)-e.indexOf(n)}]})},addRange:function(){var e,t,n=this;null!=n.rangeStart&&(e=n.getRange(),t=n.selectedRecords||(n.selectedRecords=n.createRecordCollection()),n.view.dataSource.getRange(e[0],e[1],{forRender:!1,callback:function(e){t.add.apply(t,e)}}),n.setRangeStart(n.lastRange=null))},onSelectionFinish:function(){var e=this,t=e.getContiguousSelection();t?e.view.getSelectionModel().onSelectionFinish(e,new Ext.grid.CellContext(e.view).setPosition(t[0],0),new Ext.grid.CellContext(e.view).setPosition(t[1],e.view.getVisibleColumnManager().getColumns().length-1)):e.view.getSelectionModel().onSelectionFinish(e)},getContiguousSelection:function(){var e,t,n,i=this.view.dataSource;if(this.selectedRecords&&(t=(e=Ext.Array.sort(this.selectedRecords.getRange(),function(e,t){return i.indexOf(e)-i.indexOf(t)})).length)){for(n=1;n<t;n++)if(i.indexOf(e[n])!==i.indexOf(e[n-1])+1)return!1;return[i.indexOf(e[0]),i.indexOf(e[t-1])]}}}}),Ext.define("Ext.grid.selection.SelectionExtender",{extend:"Ext.dd.DragTracker",maskBox:{},constructor:function(e){e.view.rendered?this.initSelectionExtender(e):(this.view=e.view,e.view.on({render:this.initSelectionExtender,args:[e],scope:this}))},initSelectionExtender:function(e){var t=this,n=Ext.dom.Element.DISPLAY;t.el=e.view.el,t.handle=e.view.ownerGrid.body.createChild({cls:Ext.baseCSSPrefix+"ssm-extender-drag-handle",style:"display:none"}).setVisibilityMode(n),t.handle.on({contextmenu:function(e){e.stopEvent()}}),t.mask=t.el.createChild({cls:Ext.baseCSSPrefix+"ssm-extender-mask",style:"display:none"}).setVisibilityMode(n),t.superclass.constructor.call(t,e),t.mask.skipGarbageCollection=t.handle.skipGarbageCollection=!0,t.viewListeners=t.view.on({scroll:t.onViewScroll,scope:t,destroyable:!0}),t.gridListeners=t.view.ownerGrid.on({columnResize:t.alignHandle,scope:t,destroyable:!0}),t.extendX=!!(1&t.axes),t.extendY=!!(2&t.axes)},setHandle:function(e,t){var n=this;n.view.rendered?(n.firstPos=e,n.lastPos=t,e&&t&&e.getCell()&&t.getCell()?(n.curPos?n.curPos.setPosition(t):n.curPos=t.clone(),n.alignHandle()):n.disable()):n.view.on({render:n.initSelectionExtender,args:[e,t],scope:n})},alignHandle:function(){var e=this,t=e.firstPos&&e.firstPos.getCell(),n=e.lastPos&&e.lastPos.getCell();t&&n?(e.enable(),e.handle.alignTo(n,"c-br")):e.disable()},enable:function(){this.handle.show(),this.callParent()},disable:function(){this.handle.hide(),this.mask.hide(),this.callParent()},onDrag:function(e){e.target===this.mask.dom&&(this.mask.hide(),e.target=document.elementFromPoint.apply(document,e.getXY()),this.mask.show());var t=this,n=t.view,i=n.el.getY(),r=n.el.getX(),o=e.getTarget(t.view.getCellSelector()),a=t.scrollTask||(t.scrollTask=Ext.util.TaskManager.newTask({run:t.doAutoScroll,scope:t,interval:10})),s=t.scrollBy||(t.scrollBy=[]);if(!t.el.contains(e.target))return s[0]=s[1]=0,a.stop();t.lastXY[1]>i+n.el.getHeight(!0)-15?t.extendY&&(s[1]=3,a.start()):t.lastXY[1]<i+10?t.extendY&&(s[1]=-3,a.start()):t.lastXY[0]>r+n.el.getWidth(!0)-15?t.extendX&&(s[0]=3,a.start()):t.lastXY[0]<r+10?t.extendX&&(s[0]=-3,a.start()):(s[0]=s[1]=0,a.stop()),o&&o!==t.lastOverCell&&(t.lastOverCell=o,t.syncMaskOnCell(o))},doAutoScroll:function(){var e,t=this,n=t.view;n.scrollBy.apply(n,t.scrollBy),(e=document.elementFromPoint.apply(document,t.lastXY))&&(e=Ext.fly(e).up(n.cellSelector))&&e!==t.lastOverCell&&(t.lastOverCell=e,t.syncMaskOnCell(e))},onEnd:function(e){var t=this;t.scrollTask&&t.scrollTask.stop(),t.extensionDescriptor&&(t.disable(),t.view.getSelectionModel().extendSelection(t.extensionDescriptor))},onViewScroll:function(){var e=this;e.active&&e.lastOverCell&&e.syncMaskOnCell(e.lastOverCell),e.firstPos&&e.alignHandle()},syncMaskOnCell:function(e){var t,n=this,i=n.view,r=i.all,o=n.curPos,a=n.maskBox,s=n.firstPos.clone(),l=n.lastPos.clone(),d=n.firstPos.clone(),c=n.lastPos.clone();s.setRow(Math.min(Math.max(s.rowIdx,r.startIndex),r.endIndex)),l.setRow(Math.min(Math.max(l.rowIdx,r.startIndex),r.endIndex)),n.selectionRegion=t=s.getCell().getRegion().union(l.getCell().getRegion()),o.setPosition(i.getRecord(e),i.getHeaderByCell(e)),e=Ext.fly(e),n.mask.dom.style.borderTopWidth=n.mask.dom.style.borderRightWidth=n.mask.dom.style.borderBottomWidth=n.mask.dom.style.borderLeftWidth="",o.rowIdx<n.firstPos.rowIdx&&n.extendY?(n.extensionDescriptor={type:"rows",start:d.setRow(o.rowIdx),end:c.setRow(n.firstPos.rowIdx-1),rows:o.rowIdx-n.firstPos.rowIdx,mousePosition:n.lastXY},n.mask.dom.style.borderBottomWidth="0",a.x=t.x,a.y=e.getY(),a.width=t.right-t.left,a.height=t.top-e.getY()):o.rowIdx>n.lastPos.rowIdx&&n.extendY?(n.extensionDescriptor={type:"rows",start:d.setRow(n.lastPos.rowIdx+1),end:c.setRow(o.rowIdx),rows:o.rowIdx-n.lastPos.rowIdx,mousePosition:n.lastXY},n.mask.dom.style.borderTopWidth="0",a.x=t.x,a.y=t.bottom,a.width=t.right-t.left,a.height=e.getRegion().bottom-t.bottom):o.colIdx<n.firstPos.colIdx&&n.extendX?(n.extensionDescriptor={type:"columns",start:d.setColumn(o.colIdx),end:c.setColumn(n.firstPos.colIdx-1),columns:o.colIdx-n.firstPos.colIdx,mousePosition:n.lastXY},n.mask.dom.style.borderRightWidth="0",a.x=e.getX(),a.y=t.top,a.width=t.left-e.getX(),a.height=t.bottom-t.top):o.colIdx>n.lastPos.colIdx&&n.extendX?(n.extensionDescriptor={type:"columns",start:d.setColumn(n.lastPos.colIdx+1),end:c.setColumn(o.colIdx),columns:o.colIdx-n.lastPos.colIdx,mousePosition:n.lastXY},n.mask.dom.style.borderLeftWidth="0",a.x=t.right,a.y=t.top,a.width=e.getRegion().right-t.right,a.height=t.bottom-t.top):n.extensionDescriptor=null,i.ownerGrid.hasListeners.selectionextenderdrag&&i.ownerGrid.fireEvent("selectionextenderdrag",i.ownerGrid,i.getSelectionModel().getSelected(),n.extensionDescriptor),n.extensionDescriptor?(n.mask.show(),n.mask.setBox(a)):n.mask.hide()},destroy:function(){var e=this;Ext.destroy(e.gridListeners,e.viewListeners,e.mask,e.handle),e.callParent()}}),Ext.define("Ext.grid.selection.SpreadsheetModel",{extend:"Ext.selection.Model",requires:["Ext.grid.selection.Selection","Ext.grid.selection.Cells","Ext.grid.selection.Rows","Ext.grid.selection.Columns","Ext.grid.selection.SelectionExtender"],alias:"selection.spreadsheet",isSpreadsheetModel:!0,config:{columnSelect:{$value:!1,lazy:!0},cellSelect:{$value:!0,lazy:!0},rowSelect:{$value:!0,lazy:!0},dragSelect:{$value:!0,lazy:!0},selected:null,extensible:{$value:!0,lazy:!0}},checkboxSelect:!1,checkboxColumnIndex:0,showHeaderCheckbox:!0,checkColumnHeaderText:null,checkboxHeaderWidth:24,rowNumbererHeaderWidth:46,columnSelectCls:Ext.baseCSSPrefix+"ssm-column-select",rowNumbererHeaderCls:Ext.baseCSSPrefix+"ssm-row-numberer-hd",tdCls:Ext.baseCSSPrefix+"grid-cell-special "+Ext.baseCSSPrefix+"selmodel-column",bindComponent:function(e){var t,n,i,r=this;r.view!==e&&(r.view&&(r.navigationModel=null,Ext.destroy(r.viewListeners,r.navigationListeners)),r.view=e,e&&(r.getCellSelect(),(i=e.ownerGrid.lockedGrid)?(r.hasLockedHeader=!0,r.onViewCreated(i,i.getView())):e.grid.on({viewcreated:r.onViewCreated,scope:r,single:!0}),r.gridListeners=e.ownerGrid.on({columnschanged:r.onColumnsChanged,columnmove:r.onColumnMove,scope:r,destroyable:!0}),(n=r.getStoreListeners()).scope=r,n.destroyable=!0,r.storeListeners=r.store.on(n),(t=r.getViewListeners()).scope=r,t.destroyable=!0,r.viewListeners=e.on(t),r.navigationModel=e.getNavigationModel(),r.navigationListeners=r.navigationModel.on({navigate:r.onNavigate,scope:r,destroyable:!0}),r.getColumnSelect()&&e.ownerGrid.addCls(r.columnSelectCls),r.updateHeaderState()))},getCheckboxHeaderConfig:function(){var e=this,t=!1!==e.showHeaderCheckbox;return{xtype:"checkcolumn",isCheckerHd:t,headerCheckbox:t,ignoreExport:!0,text:e.checkColumnHeaderText,clickTargetName:"el",width:e.checkboxHeaderWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,tdCls:e.tdCls,cls:Ext.baseCSSPrefix+"selmodel-column",stopSelection:!1,editRenderer:e.editRenderer||e.renderEmpty,locked:e.hasLockedHeader,updateHeaderState:e.updateHeaderState.bind(e),toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:Ext.emptyFn}},renderEmpty:function(){return"&#160;"},getStoreListeners:function(){var e=this.callParent();return e.priority=2e3,e.refresh=this.onStoreChanged,e.clear=this.onStoreChanged,e},onHeaderClick:function(e,t,n){var i,r,o,a=this,s=a.selected;if(t===a.numbererColumn||t===a.checkColumn)n.stopEvent(),s&&s.isAllSelected()?a.deselectAll():a.selectAll(),a.updateHeaderState(),a.lastColumnSelected=null;else if(a.columnSelect)if(n.shiftKey&&s&&s.lastColumnSelected)for(s.clear(),i=a.view.ownerGrid.getVisibleColumnManager(),o=(r=Ext.Array.sort([i.indexOf(s.lastColumnSelected),i.indexOf(t)],Ext.Array.numericSortFn))[0];o<=r[1];o++)a.selectColumn(i.getHeaderAtIndex(o),!0);else a.isColumnSelected(t)?(a.deselectColumn(t),a.selected.lastColumnSelected=null):(a.selectColumn(t,n.ctrlKey),a.selected.lastColumnSelected=t)},updateHeaderState:function(){var e,t=this.view.dataSource,n=this.views,i=this.selected,r=!1,o=this.checkColumn;t&&i&&i.isRows&&(e=t.getCount(),r=t.isBufferedStore?i.allSelected:e>0&&e===i.getCount()),n&&n.length&&o&&o.setHeaderStatus(r)},onBindStore:function(e,t,n){n||this.onStoreRefresh()},onBeforeReconfigure:function(e,t,n,i,r){var o=this,a=o.checkboxColumnIndex;n&&(Ext.suspendLayouts(),o.numbererColumn&&(o.numbererColumn.ownerCt.remove(o.numbererColumn,!1),n.unshift(o.numbererColumn)),o.checkColumn&&("first"===a?a=0:"last"===a&&(a=n.length),o.checkColumn.ownerCt.remove(o.checkColumn,!1),Ext.Array.insert(n,a,[o.checkColumn])),Ext.resumeLayouts())},getCellContext:function(e,t){return new Ext.grid.CellContext(this.view.ownerGrid.getView()).setPosition(e,t)},select:function(e,t,n){var i,r,o,a=this,s=a.selected,l=a.view,d=l.dataSource,c=!1;for(s&&s.isRows&&s.view===l?t||s.clear():(a.resetSelection(!0),s=a.selected=new Ext.grid.selection.Rows(l)),Ext.isArray(e)||(e=[e]),i=e.length,r=0;r<i;r++)"number"==typeof(o=e[r])&&(o=d.getAt(o)),s.contains(o)||(s.add(o),c=!0);c&&(a.updateHeaderState(),n||a.fireSelectionChange())},deselect:function(e,t){var n,i,r,o=this.selected,a=this.view.dataSource,s=!1;if(o&&o.isRows)for(Ext.isArray(e)||(e=[e]),n=e.length,i=0;i<n;i++)"number"==typeof(r=e[i])&&(r=a.getAt(r)),s=s||o.remove(r);s&&(this.updateHeaderState(),t||this.fireSelectionChange())},selectCells:function(e,t,n){var i,r=this.view.ownerGrid.view;e=e.isCellContext?e.clone():new Ext.grid.CellContext(r).setPosition(e),t=t.isCellContext?t.clone():new Ext.grid.CellContext(r).setPosition(t),this.resetSelection(!0),this.selected=i=new Ext.grid.selection.Cells(e.view),i.setRangeStart(e),i.setRangeEnd(t),n||this.fireSelectionChange()},selectAll:function(e){var t,n=this,i=n.selected,r=n.view;n.rowSelect?(i&&i.isRows||(n.resetSelection(!0),n.selected=i=new Ext.grid.selection.Rows(r)),t=!0):n.cellSelect?(i&&i.isCells||(n.resetSelection(!0),n.selected=i=new Ext.grid.selection.Cells(r)),t=!0):n.columnSelect&&(i&&i.isColumns||(n.resetSelection(!0),n.selected=i=new Ext.grid.selection.Columns(r)),t=!0),i&&(i.allSelected=!0),t&&(n.updateHeaderState(),i.selectAll(),e||n.fireSelectionChange())},deselectAll:function(e){var t=this.selected;t&&t.getCount()&&(t.clear(),t.allSelected=!1,this.updateHeaderState(),e||this.fireSelectionChange())},selectRows:function(e,t,n){var i,r=this,o=r.selected,a=o&&o.isRows,s=e.length;if(t&&a||r.resetSelection(!0),a||(r.selected=o=new Ext.grid.selection.Rows(r.view)),e.isEntity)o.add(e);else for(i=0;i<s;i++)o.add(e[i]);n||r.fireSelectionChange()},isSelected:function(e){return this.isRowSelected(e)},selectColumn:function(e,t,n){var i=this,r=i.selected,o=e.getView();r&&r.isColumns&&r.view===o.ownerGrid.view||(i.resetSelection(!0),i.selected=r=new Ext.grid.selection.Columns(o)),r.contains(e)||(t||r.clear(),r.add(e),i.updateHeaderState(),n||i.fireSelectionChange())},deselectColumn:function(e,t){var n=this.getSelected();n&&n.isColumns&&n.contains(e)&&(n.remove(e),this.updateHeaderState(),t||this.fireSelectionChange())},getSelection:function(){var e=this.selected;return e&&e.isRows?e.getRecords():[]},destroy:function(){var e=this,t=e.scrollEls;Ext.destroy(e.gridListeners,e.viewListeners,e.selected,e.navigationListeners,e.extensible),t&&Ext.dd.ScrollManager.unregister(t),e.selected=e.gridListeners=e.viewListeners=e.selectionData=e.navigationListeners=e.scrollEls=null,e.callParent()},privates:{axesConfigs:{x:1,y:2,xy:3,both:3,true:3},getViewListeners:function(){return{refresh:this.onViewRefresh,keyup:{element:"el",fn:this.onViewKeyUp,scope:this}}},onViewKeyUp:function(e){var t=this.selected;e.keyCode===e.SHIFT&&t&&t.isRows&&t.getRangeSize()&&t.addRange()},onStoreChanged:function(){var e=this,t=(e.view,e.selected);t&&(t.isCells?e.resetSelection():t.isRows&&(!1===e.pruneRemoved&&t.selectedRecords.length?e.refresh():e.resetSelection()))},onColumnsChanged:function(){var e,t,n,i,r,o,a,s=this.selected;if(s)if(r=s.view,s.isCells)for(o=new Ext.grid.CellContext(r),e=s.getRowRange(),t=r.getVisibleColumnManager().getColumns().length,i=e[0];i<=e[1];i++)for(o.setRow(i),n=0;n<t;n++)o.setColumn(n),r.onCellDeselect(o);else s.isColumns&&(a=!1,s.eachColumn(function(e,t){e.isVisible()&&r.ownerGrid.isAncestor(e)||(this.remove(e),a=!0)}));Ext.on("idle",a?this.fireSelectionChange:this.updateSelectionExtender,this,{single:!0})},onColumnMove:function(){this.updateSelectionExtender()},onViewRefresh:function(e){var t=this.selected,n=this.view.store,i=!1;t&&t.isRows&&n.isFiltered()&&t.eachRow(function(e){n.contains(e)||(this.remove(e),i=!0)}),this[i?"fireSelectionChange":"updateSelectionExtender"]()},resetSelection:function(e){var t=this.selected;t&&(t.clear(),e||this.fireSelectionChange())},onViewCreated:function(e,t){var n=this,i=t.ownerGrid,r=t.headerCt;i.lockable&&!t.isLockedView||(n.getRowSelect()&&n.getNumbererColumn(),n.checkboxSelect&&n.addCheckbox(t,!0),n.mon(t.ownerGrid,"beforereconfigure",n.onBeforeReconfigure,n)),r.sortOnClick=!n.getColumnSelect(),n.getDragSelect()&&t.on("render",n.onViewRender,n,{single:!0})},onViewRender:function(e){var t,n=this,i=e.getEl(),r=n.views,o=r.length;for(t=0;t<o;t++)r[t].headerCt.sortOnClick=!n.columnSelect;i.ddScrollConfig={vthresh:50,hthresh:50,frequency:300,increment:100},Ext.dd.ScrollManager.register(i),(n.scrollEls||(n.scrollEls=[])).push(i),e.on("cellmousedown",n.handleMouseDown,n),e.lockingPartner&&e.lockingPartner.on("cellmousedown",n.handleMouseDown,n)},handleMouseDown:function(e,t,n,i,r,o,a){var s,l,d=this,c=d.selected,u=a.position.column;if(!(a.button||a.shiftKey||a.altKey||"touch"===a.pointerType||e.actionableMode)&&u){if(d.mousedownPosition=a.position.clone(),(s=u===d.checkColumn)&&(d.checkCellClicked=a.position.getCell(!0)),u===d.numbererColumn||s||!d.cellSelect)if(d.rowSelect)c&&c.isRows?a.ctrlKey||s||c.clear():(c&&c.clear(),c=d.selected=new Ext.grid.selection.Rows(e)),l=!0;else{if(!d.columnSelect)return!1;c&&c.isColumns?a.ctrlKey||s||c.clear():(c&&c.clear(),c=d.selected=new Ext.grid.selection.Columns(e)),l=!0}else c&&c.clear(),c&&c.isCells||(c=d.selected=new Ext.grid.selection.Cells(e)),l=!0;d.lastOverRecord=d.lastOverColumn=null,Ext.getBody().on("mouseup",d.onMouseUp,d,{single:!0,view:c.view}),l&&c.view.el.on("mousemove",d.onMouseMove,d,{view:c.view})}},onMouseMove:function(e,t,n){var i,r,o,a,s,l=this,d=n.view,c=e.getTarget(d.cellSelector),u=n.view.getHeaderByCell(c),h=l.selected;if(l.checkCellClicked){if(c===l.checkCellClicked)return void(l.lastOverRecord||(l.lastOverRecord=d.getRecord(c.parentNode)));l.checkCellClicked=null,l.lastOverRecord&&(l.select(l.lastOverRecord),h.setRangeStart(l.store.indexOf(l.lastOverRecord)))}l.extensible&&l.extensible.disable(),u&&(i=d.getRecord(c.parentNode),r=l.store.indexOf(i),a=i!==l.lastOverRecord,s=u!==l.lastOverColumn,(a||s)&&(o=l.getCellContext(i,u)),h.isRows?a&&(l.lastOverRecord?h.setRangeEnd(r):h.setRangeStart(r)):h.isCells?(a||s)&&(l.lastOverRecord?h.setRangeEnd(o):h.setRangeStart(o)):h.isColumns&&s&&(l.lastOverColumn?h.setRangeEnd(o.column):h.setRangeStart(o.column)),(a||s)&&d.getNavigationModel().setPosition(new Ext.grid.CellContext(u.getView()).setPosition(i,u)),l.lastOverColumn=u,l.lastOverRecord=i)},onMouseUp:function(e,t,n){var i,r,o=this,a=n.view;o.checkCellClicked=null,a&&!a.destroyed&&(e.position||(i=e.getTarget(a.cellSelector))&&(r=a.getRecord(i))&&(e.position=new Ext.grid.CellContext(a).setPosition(r,a.getHeaderByCell(i))),o.extensible&&o.extensible.disable(),a.el.un("mousemove",o.onMouseMove,o),o.selected.isRows&&o.selected.addRange(),e.position&&e.position.isEqual(o.mousedownPosition)||o.fireSelectionChange())},addCheckbox:function(e,t){var n=this.checkboxColumnIndex,i=e.headerCt;!1!==n&&("first"===n?n=0:"last"===n&&(n=i.getColumnCount()),this.checkColumn=i.add(n,this.getCheckboxHeaderConfig())),!0!==t&&e.refresh()},onNavigate:function(e){var t,n=this,i=e.view.ownerGrid.view,r=e.record,o=n.selected,a=new Ext.grid.CellContext(i).setPosition(r,e.column),s=e.keyEvent,l=s.ctrlKey,d=s.shiftKey,c=s.getKey();if(!s.stopSelection&&(!l||c!==s.UP&&c!==s.LEFT&&c!==s.RIGHT&&c!==s.DOWN)&&(!(o&&(o.isCells||o.isColumns&&!l&&!d)&&o.getCount()>1)||s.shiftKey||"click"!==s.type)&&(n.cellSelect||n.columnSelect||n.rowSelect)&&e.record&&"mousedown"!==s.type){if(l&&s.keyCode===s.A)return!o||o.getCount()<2?n.selectAll():n.deselectAll(),void n.updateHeaderState();d?a.column===n.numbererColumn||a.column===n.checkColumn||!n.cellSelect&&!n.columnSelect||o&&o.isRows?n.rowSelect&&(o&&o.isRows&&o.view===i||(n.resetSelection(!0),o=n.selected=new Ext.grid.selection.Rows(i)),o.getRangeSize()||o.setRangeStart(e.previousRecordIndex||0),o.setRangeEnd(e.recordIndex),o.addRange(),t=!0):n.cellSelect?(o&&o.isCells&&o.view===i||(n.resetSelection(!0),o=n.selected=new Ext.grid.selection.Cells(i)),o.getRangeSize()||o.setRangeStart(e.previousPosition||n.getCellContext(0,0)),o.setRangeEnd(a),t=!0):n.columnSelect&&(o&&o.isColumns&&o.view===i||(n.resetSelection(!0),o=n.selected=new Ext.grid.selection.Columns(i)),o.getCount()||o.setRangeStart(a.column),o.setRangeEnd(e.position.column),t=!0):a.column===n.numbererColumn||a.column===n.checkColumn||n.rowSelect&&!n.cellSelect?(o&&o.isRows&&o.view===i||(n.resetSelection(!0),o=n.selected=new Ext.grid.selection.Rows(i)),l||a.column===n.checkColumn?o.contains(r)?o.remove(r):o.add(r):(o.clear(),o.add(r)),t=!0):n.cellSelect?(o&&o.isCells&&o.view===i?o.clear():(n.resetSelection(!0),n.selected=o=new Ext.grid.selection.Cells(i)),o.setRangeStart(a),t=!0):n.columnSelect&&(o&&o.isColumns&&o.view===i||(n.resetSelection(!0),n.selected=o=new Ext.grid.selection.Columns(i)),l?o.contains(a.column)?o.remove(a.column):o.add(a.column):o.setRangeStart(a.column),t=!0),t&&(o.isRows&&n.updateHeaderState(),n.fireSelectionChange())}},isRowSelected:function(e){var t=this.selected;return!(!t||!t.isRows)&&(e=Ext.isNumber(e)?this.store.getAt(e):e,t.contains(e))},isColumnSelected:function(e){var t=this.selected;return!(!t||!t.isColumns)&&t.contains(e)},isCellSelected:function(e,t,n){var i,r=this.selected;if(e=e.ownerGrid.view,r){if(r.isColumns)return"number"==typeof n&&(n=e.getVisibleColumnManager().getColumns()[n]),r.contains(n);if(r.isCells)return i=new Ext.grid.CellContext(e).setPosition({row:t,column:n}),r.contains(i)}return!1},applySelected:function(e){return e&&!(e.isRows||e.isCells||e.isColumns)&&Ext.raise("SpreadsheelModel#setSelected must be passed an instance of Ext.grid.selection.Selection"),e},updateSelected:function(e,t){var n,i,r,o,a;t&&t.clear(),e&&e.getCount()&&(n=e.view,e.isRows?e.eachRow(n.onRowSelect,n):e.isColumns?(i=e.getColumns(),(r=i.length)&&(a=new Ext.grid.CelContext(n),n.store.each(function(e){for(a.setRow(e),o=0;o<r;o++)a.setColumn(i[o]),n.onCellSelect(a)}))):e.isCells&&e.eachCell(n.onCellSelect,n))},getNumbererColumn:function(e){var t=this.numbererColumn,n=this.view;return t||(n.isNormalView&&(n=n.ownerGrid.lockedGrid),t=this.numbererColumn=n.headerCt.down("rownumberer")||n.headerCt.add(0,this.getNumbererColumnConfig())),t},getNumbererColumnConfig:function(){return{xtype:"rownumberer",width:this.rowNumbererHeaderWidth,editRenderer:"&#160;",tdCls:this.rowNumbererTdCls,cls:this.rowNumbererHeaderCls,locked:this.hasLockedHeader}},updateRowSelect:function(e){var t=this,n=t.selected,i=t.view;i&&i.rendered&&(i.isNormalView&&(i=i.lockingPartner),e?(t.checkColumn&&t.checkColumn.show(),t.getNumbererColumn().show()):(t.checkColumn&&t.checkColumn.hide(),t.numbererColumn&&t.numbererColumn.hide()),!e&&n&&n.isRows&&(n.clear(),t.fireSelectionChange()))},updateColumnSelect:function(e){var t,n=this,i=n.selected,r=n.views,o=r?r.length:0;for(t=0;t<o;t++)r[t].headerCt.sortOnClick=!e;!e&&i&&i.isColumns&&(i.clear(),n.fireSelectionChange()),e?n.view.ownerGrid.addCls(n.columnSelectCls):n.view.ownerGrid.removeCls(n.columnSelectCls)},updateCellSelect:function(e){var t=this.selected;!e&&t&&t.isCells&&(t.clear(),this.fireSelectionChange())},fireSelectionChange:function(){var e,t,n=this,i=n.selected,r=i.view,o=r.ownerGrid,a=r.dataSource;n.updateSelectionExtender(),i.isRows?(e=i.getRecords(),t=a.getTotalCount()||a.getCount(),n.selected.allSelected=!!(a.isBufferedStore?n.selected.allSelected:t&&e.length&&t===e.length),n.fireEvent("selectionchange",n,e)):i.isCells&&(n.selected.allSelected=!1,n.fireEvent("selectionchange",n,i.getCount()?n.store.getRange.apply(i.view.dataSource,i.getRowRange()):[])),o.fireEvent("selectionchange",o,i)},getLastSelected:function(){var e=this.selected;if(e.getLastSelected)return e.getLastSelected()},updateSelectionExtender:function(){var e=this.selected;e&&e.onSelectionFinish()},onSelectionFinish:function(e,t,n){var i=this.getExtensible();i&&i.setHandle(t,n)},applyExtensible:function(e){if(e)return(e=!0===e||"string"==typeof e?{axes:this.axesConfigs[e]}:Ext.Object.chain(e)).view=this.selected.view,new Ext.grid.selection.SelectionExtender(e)},extendSelection:function(e){var t=this.selected;!1!==this.view.ownerGrid.fireEvent("beforeselectionextend",this.view.ownerGrid,t,e)&&(t.extendRange(e),this.fireSelectionChange())},onIdChanged:function(e,t,n,i){var r=this.selected;r&&r.isRows&&r.selectedRecords&&r.selectedRecords.updateKey(t,n)},onPageAdd:function(e,t,n){var i,r,o=this.selected,a=n.length,s=o&&o.selectedRecords;if(s&&o.isRows)for(i=0;i<a;i++)r=n[i],s.get(r.id)?s.replace(r):o.allSelected&&s.add(r)},refresh:function(){var e=this.getSelected();e&&e.isRows&&this.callParent()},onStoreAdd:function(){var e=this.getSelected();e&&e.isRows&&(this.callParent(arguments),this.updateHeaderState())},onStoreClear:function(){this.resetSelection()},onStoreLoad:function(){var e=this.getSelected();e&&e.isRows&&(this.callParent(arguments),this.updateHeaderState())},onStoreRefresh:function(){var e=this.selected;e&&e.isRows&&e.selectedRecords&&this.updateSelectedInstances(e.selectedRecords),this.view&&this.updateHeaderState()},onPageRemove:function(e,t,n){var i=this.selected;i&&i.allSelected||this.onStoreRemove(this.store,n)},onStoreRemove:function(){var e=this.getSelected();e&&e.isRows&&this.callParent(arguments)}}},function(e){Ext.ClassManager.get("Ext.grid.column.RowNumberer")&&(e.prototype.rowNumbererTdCls=Ext.grid.column.RowNumberer.prototype.tdCls+" "+Ext.baseCSSPrefix+"ssm-row-numberer-cell")}),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e,t){var n,i=this,r=i.getKey(e);return(n=i.map[r])?t&&(i.map[r]=e,i.items[Ext.Array.indexOf(i.items,n)]=e):(++i.length,i.items.push(e),i.map[r]=e),e},clear:function(){var e=this.items;return this.items=[],this.map={},this.length=0,e},contains:function(e){var t=this.getKey(e);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t,n=this,i=n.getKey(e),r=n.items;return n.map[i]&&(t=Ext.Array.indexOf(r,e),Ext.Array.erase(r,t,1),delete n.map[i],--n.length),e}}),Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p=this,m=Ext.layout.SizeModel.sizeModels,x=m.configured,E=m.shrinkWrap;Ext.apply(p,e),s=p.target,t=p.el,p.id=s.id,p.flushedProps={},p.props=o={},p.styles={},s.isComponent?(p.wrapsComponent=!0,p.framing=s.frameSize||null,p.isComponentChild=s.ownerLayout&&s.ownerLayout.isComponentLayout,n=s.lastBox,(i=s.ownerCt)&&(r=i.el&&p.context.items[i.el.id])&&(p.ownerCtContext=r),p.sizeModel=a=s.getSizeModel(r&&r.widthModel.pairsByHeightOrdinal[r.heightModel.ordinal]),p.widthModel=h=a.width,p.heightModel=f=a.height,n&&!1===n.invalid&&(c=s.width===(l=n.width),u=s.height===(d=n.height),h===E&&f===E?g=!0:h===x&&c&&(g=f===E||f===x&&u),g&&(p.optOut=!0,o.width=l,o.height=d))):n=t.lastBox,p.lastBox=n},init:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.props,h=c.dirty,f=c.ownerCtContext,g=c.target.ownerLayout,p=!c.state,m=e||p,x=c.heightModel,E=c.widthModel,v=0;if(c.dirty=c.invalid=!1,c.props={},c.remainingChildDimensions=0,c.boxChildren&&(c.boxChildren.length=0),p||(c.clearAllBlocks("blocks"),c.clearAllBlocks("domBlocks")),!c.wrapsComponent)return m;if(s=c.target,c.state={},p)s.beforeLayout&&s.beforeLayout!==Ext.emptyFn&&s.beforeLayout(),!f&&(o=s.ownerCt)&&(f=c.context.items[o.el.id]),f?(c.ownerCtContext=f,c.isBoxParent=g&&g.isItemBoxParent(c)):c.isTopLevel=!0,c.frameBodyContext=c.getEl("frameBody");else for(f=c.ownerCtContext,c.isTopLevel=!f,i=0,r=(n=c.children).length;i<r;++i)n[i].init(!0);return c.hasRawContent=!(s.isContainer&&s.items.items.length>0),e?(c.widthModel=c.heightModel=null,a=s.getSizeModel(f&&f.widthModel.pairsByHeightOrdinal[f.heightModel.ordinal]),p&&(c.sizeModel=a),c.widthModel=a.width,c.heightModel=a.height,f&&!c.isComponentChild&&(g.needsItemSize||!s.liquidLayout?f.remainingChildDimensions+=2:(c.widthModel.calculated&&++f.remainingChildDimensions,c.heightModel.calculated&&++f.remainingChildDimensions))):u&&(c.recoverProp("x",u,h),c.recoverProp("y",u,h),c.widthModel.calculated?c.recoverProp("width",u,h):"width"in u&&++v,c.heightModel.calculated?c.recoverProp("height",u,h):"height"in u&&++v,f&&!c.isComponentChild&&(f.remainingChildDimensions+=v)),u&&g&&g.manageMargins&&(c.recoverProp("margin-top",u,h),c.recoverProp("margin-right",u,h),c.recoverProp("margin-bottom",u,h),c.recoverProp("margin-left",u,h)),t&&(l=t.heightModel,(d=t.widthModel)&&l&&E&&x&&E.shrinkWrap&&x.shrinkWrap&&d.constrainedMax&&l.constrainedMin&&(l=null),d&&(c.widthModel=d),l&&(c.heightModel=l),t.state&&Ext.apply(c.state,t.state)),m},initContinue:function(e){var t,n=this,i=n.ownerCtContext,r=n.target,o=n.widthModel,a=r.getInherited();return o.fixed?a.inShrinkWrapTable=!1:delete a.inShrinkWrapTable,e&&(i&&o.shrinkWrap?(t=i.isBoxParent?i:i.boxParent)&&t.addBoxChild(n):o.natural&&(n.boxParent=i)),e},initDone:function(e){var t=this,n=t.props,i=t.state;0===t.remainingChildDimensions&&(n.containerChildrenSizeDone=!0),e&&(n.containerLayoutDone=!0),t.boxChildren&&t.boxChildren.length&&t.widthModel.shrinkWrap&&(t.el.setWidth(1e4),i.blocks=(i.blocks||0)+1)},initAnimation:function(){var e=this,t=e.target,n=e.ownerCtContext;n&&n.isTopLevel?e.animatePolicy=t.ownerLayout.getAnimatePolicy(e):!n&&t.isCollapsingOrExpanding&&t.animCollapse&&(e.animatePolicy=t.componentLayout.getAnimatePolicy(e)),e.animatePolicy&&e.context.queueAnimation(e)},addBlock:function(e,t,n){var i=this[e]||(this[e]={}),r=i[n]||(i[n]={});r[t.id]||(r[t.id]=t,++t.blockCount,++this.context.blockCount)},addBoxChild:function(e){var t,n=e.widthModel;e.boxParent=this,e.measuresBox=n.shrinkWrap?e.hasRawContent:n.natural,e.measuresBox&&((t=this.boxChildren)?t.push(e):this.boxChildren=[e])},addPositionStyles:function(e,t){var n=t.x,i=t.y,r=0;return void 0!==n&&(e.left=n+"px",++r),void 0!==i&&(e.top=i+"px",++r),r},addTrigger:function(e,t){var n=this,i=t?"domTriggers":"triggers",r=n[i]||(n[i]={}),o=n.context,a=o.currentLayout,s=r[e]||(r[e]={});s[a.id]||(s[a.id]=a,++a.triggerCount,((s=o.triggers[t?"dom":"data"])[a.id]||(s[a.id]=[])).push({item:this,prop:e}),void 0!==n.props[e]&&(t&&n.dirty&&e in n.dirty||++a.firedTriggers))},boxChildMeasured:function(){var e=this.state;(e.boxesMeasured=(e.boxesMeasured||0)+1)===this.boxChildren.length&&(e.clearBoxWidth=1,++this.context.progressCount,this.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){var t=e.getStyles(e.borderNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},marginInfo:function(e){var t=e.getStyles(e.marginNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},paddingInfo:function(e){var t=(e.frameBodyContext||e).getStyles(e.paddingNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t,n=this[e];if(n)for(t in n)this.clearBlocks(e,t)},clearBlocks:function(e,t){var n,i,r,o=this[e],a=o&&o[t];if(a)for(r in delete o[t],n=this.context,a)i=a[r],--n.blockCount,--i.blockCount||i.pending||i.done||n.queueLayout(i)},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var n,i,r=this[e],o=r&&r[t],a=this.context;if(o)for(i in o)++(n=o[i]).firedTriggers,n.done||n.blockCount||n.pending||a.queueLayout(n)},flush:function(){var e=this,t=e.dirty,n=e.state,i=e.el;e.dirtyCount=0,"attributes"in e&&(i.set(e.attributes),delete e.attributes),"innerHTML"in e&&(i.innerHTML=e.innerHTML,delete e.innerHTML),n&&n.clearBoxWidth&&(n.clearBoxWidth=0,e.el.setStyle("width",null),--n.blocks||e.context.queueItemLayouts(e)),t&&(delete e.dirty,e.writeProps(t,!0))},flushAnimations:function(){var e,t,n,i,r,o,a,s,l,d,c,u=this,h=u.previousSize;if(h){for(n=(t=(e=u.target).getAnimationProps()).duration,i=Ext.Object.getKeys(u.animatePolicy),r=Ext.apply({},{from:{},to:{},duration:n||Ext.fx.Anim.prototype.duration},t),o=0,a=0,s=i.length;a<s;a++)(d=h[l=i[a]])!==(c=u.peek(l))&&null!=c&&(l=u.translateProps[l]||l,r.from[l]=d,r.to[l]=c,++o);o?(1===u.isCollapsingOrExpanding?e.componentLayout.undoLayout(u):u.writeProps(r.from),u.el.animate(r),r=Ext.fx.Manager.getFxQueue(u.el.id)[0],e.$layoutAnim=r,r.on({afteranimate:function(){delete e.$layoutAnim,e.destroying||e.destroyed||(1===u.isCollapsingOrExpanding?(e.componentLayout.redoLayout(u),e.afterCollapse(!0)):2===u.isCollapsingOrExpanding&&e.afterExpand(!0),e.hasListeners.afterlayoutanimation&&e.fireEvent("afterlayoutanimation",e))}})):2===u.isCollapsingOrExpanding&&e.afterExpand(!0)}},getBorderInfo:function(){var e=this.borderInfo;return e||(this.borderInfo=e=this.checkCache("borderInfo")),e},getEl:function(e,t){var n,i,r;if(e){if(e.dom)i=e;else if(n=this.target,t&&(n=t),"function"==typeof(i=n[e])&&(i=i.call(n))===this.el)return this;i&&(r=this.context.getEl(this,i))}return r||null},getFrameInfo:function(){var e,t,n=this.frameInfo;return n||(e=this.framing,t=this.getBorderInfo(),this.frameInfo=n=e?{top:e.top+t.top,right:e.right+t.right,bottom:e.bottom+t.bottom,left:e.left+t.left,width:e.width+t.width,height:e.height+t.height}:t),n},getMarginInfo:function(){var e,t,n,i,r=this,o=r.marginInfo;return o||(r.wrapsComponent?(i=(n=(e=r.target).ownerLayout)?n.id:null,t=n&&n.manageMargins,(o=e.margin$)&&o.ownerId!==i&&(o=null),o||(o=r.parseMargins(e,e.margin)||r.checkCache("marginInfo"),t&&(r.setProp("margin-top",0),r.setProp("margin-right",0),r.setProp("margin-bottom",0),r.setProp("margin-left",0)),o.ownerId=i,e.margin$=o),o.width=o.left+o.right,o.height=o.top+o.bottom):o=r.checkCache("marginInfo"),r.marginInfo=o),o},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var e=this.paddingInfo;return e||(this.paddingInfo=e=this.checkCache("paddingInfo")),e},getProp:function(e){var t=this.props[e];return this.addTrigger(e),t},getDomProp:function(e){var t=this.dirty&&e in this.dirty?void 0:this.props[e];return this.addTrigger(e,!0),t},getStyle:function(e){var t,n,i=this.styles;return e in i?n=i[e]:(t=this.styleInfo[e],n=this.el.getStyle(e),t&&t.parseInt&&(n=parseInt(n,10)||0),i[e]=n),n},getStyles:function(e,t){var n,i,r,o,a,s,l,d,c=this.styles,u={},h=0,f=e.length;for(t=t||e,n=0;n<f;++n)(o=e[n])in c?(u[t[n]]=c[o],++h,n&&1===h&&(i=e.slice(0,n),r=t.slice(0,n))):h&&((i||(i=[])).push(o),(r||(r=[])).push(t[n]));if(h<f)for(i=i||e,r=r||t,s=this.styleInfo,l=this.el.getStyle(i),n=i.length;n--;)a=s[o=i[n]],d=l[o],a&&a.parseInt&&(d=parseInt(d,10)||0),u[r[n]]=d,c[o]=d;return u},hasProp:function(e){return null!=this.getProp(e)},hasDomProp:function(e){return null!=this.getDomProp(e)},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var e=this.boxParent,t=this.state;e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,e.boxChildMeasured())},parseMargins:function(e,t){!0===t&&(t=5);var n,i=typeof t;return"string"===i||"number"===i?n=e.parseBox(t):t&&(n={top:0,right:0,bottom:0,left:0},t&&(t=Ext.apply(n,e.parseBox(t)))),n},peek:function(e){return this.props[e]},recalculateSizeModel:function(){var e,t=this,n=t.target,i=n.componentLayout,r=t.ownerCtContext,o=i.ownerContext;i.ownerContext=null,t.sizeModel=e=n.getSizeModel(r&&r.widthModel.pairsByHeightOrdinal[r.heightModel.ordinal]),t.widthModel=e.width,t.heightModel=e.height,o&&(i.ownerContext=t)},recoverProp:function(e,t,n){var i=this.props;e in t&&(i[e]=t[e],n&&e in n&&((this.dirty||(this.dirty={}))[e]=n[e]))},redo:function(e){var t,n,i,r=this;if(r.revertProps(r.props),e&&r.wrapsComponent){if(r.childItems)for(i=0,n=(t=r.childItems).length;i<n;i++)t[i].redo(e);for(i=0,n=(t=r.children).length;i<n;i++)t[i].redo()}},removeEl:function(e,t){var n,i;if(e){if(e.dom)i=e;else if(n=this.target,t&&(n=t),"function"==typeof(i=n[e])&&(i=i.call(n))===this.el)return this;i&&this.context.removeEl(i,this)}},revertProps:function(e){var t,n=this.flushedProps,i={};for(t in e)n.hasOwnProperty(t)&&(i[t]=e[t]);this.writeProps(i)},setAttribute:function(e,t){this.attributes||(this.attributes={}),this.attributes[e]=t,this.markDirty()},setBox:function(e){"left"in e&&this.setProp("x",e.left),"top"in e&&this.setProp("y",e.top),this.setSize(e.width,e.height)},setContentHeight:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",e)},setContentWidth:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",e)},setContentSize:function(e,t,n){return this.setContentWidth(e,n)+this.setContentHeight(t,n)===2},setProp:function(e,t,n){var i=this,r=typeof t;return"undefined"===r||"number"===r&&isNaN(t)?0:i.props[e]===t?1:(i.props[e]=t,++i.context.progressCount,!1===n?(i.fireTriggers("domTriggers",e),i.clearBlocks("domBlocks",e)):i.styleInfo[e]&&(i.dirty||(i.dirty={}),i.dirty[e]=t,i.markDirty()),i.fireTriggers("triggers",e),i.clearBlocks("blocks",e),1)},setHeight:function(e,t){var n,i,r,o,a=this,s=a.target,l=a.ownerCtContext;if(e<0&&(e=0),a.wrapsComponent){if(r=a.collapsedVert?0:s.minHeight||0,e=Ext.Number.constrain(e,r,s.maxHeight),o=a.props.height,!a.setProp("height",e,t))return NaN;l&&!a.isComponentChild&&isNaN(o)&&(--l.remainingChildDimensions||l.setProp("containerChildrenSizeDone",!0)),(n=a.frameBodyContext)&&(i=a.getFrameInfo(),n[a.el.vertical?"setWidth":"setHeight"](e-i.height,t))}else if(!a.setProp("height",e,t))return NaN;return e},setWidth:function(e,t){var n,i,r,o,a=this,s=a.target,l=a.ownerCtContext;if(e<0&&(e=0),a.wrapsComponent){if(r=a.collapsedHorz?0:s.minWidth||0,e=Ext.Number.constrain(e,r,s.maxWidth),o=a.props.width,!a.setProp("width",e,t))return NaN;l&&!a.isComponentChild&&isNaN(o)&&(--l.remainingChildDimensions||l.setProp("containerChildrenSizeDone",!0)),(n=a.frameBodyContext)&&(i=a.getFrameInfo(),n.setWidth(e-i.width,t))}else if(!a.setProp("width",e,t))return NaN;return e},setSize:function(e,t,n){this.setWidth(e,n),this.setHeight(t,n)},translateProps:{x:"left",y:"top"},undo:function(e){var t,n,i,r=this;if(r.revertProps(r.lastBox),e&&r.wrapsComponent){if(r.childItems)for(i=0,n=(t=r.childItems).length;i<n;i++)t[i].undo(e);for(i=0,n=(t=r.children).length;i<n;i++)t[i].undo()}},unsetProp:function(e){var t=this.dirty;delete this.props[e],t&&delete t[e]},writeProps:function(e,t){if(e&&"object"==typeof e){var n,i,r,o,a,s,l,d,c,u=this,h=u.el,f={},g=0,p=u.styleInfo,m=e.width,x=e.height,E=u.target;for(i in"displayed"in e&&h.setDisplayed(e.displayed),e)t&&(u.fireTriggers("domTriggers",i),u.clearBlocks("domBlocks",i),u.flushedProps[i]=1),(n=p[i])&&n.dom&&(n.suffix&&(r=parseInt(e[i],10))?f[i]=r+n.suffix:f[i]=e[i],++g);("x"in e||"y"in e)&&(E.isComponent?E.setPosition(e.x,e.y):g+=u.addPositionStyles(f,e)),"overflowX"in e&&(c=E.getScrollable())&&c.setX(e.overflowX),"overflowY"in e&&(c||(c=E.getScrollable()))&&c.setY(e.overflowY),u.wrapsComponent&&Ext.isIE9&&((o=void 0!==m&&u.hasOverflowY)||(a=void 0!==x&&u.hasOverflowX))&&(void 0===(s=u.isAbsolute)&&(s=!1,d=u.target.getTargetEl().getStyle("position"),u.isAbsolute=s="absolute"===d),s&&(l=Ext.getScrollbarSize(),o&&(m=parseInt(m,10)+l.width,f.width=m+"px",++g),a&&(x=parseInt(x,10)+l.height,f.height=x+"px",++g))),g&&h.setStyle(f)}else Ext.Logger.warn("writeProps expected dirtyProps to be an object")},debugHooks:{$enabled:!1,addBlock:function(e,t,n){return(t.blockedBy||(t.blockedBy={}))[this.id+"."+n+("dom"===e.substring(0,3)?":dom":"")]=1,this.callParent(arguments)},addBoxChild:function(e){var t=this.callParent(arguments),n=this.boxChildren;return n&&1===n.length&&(this.context.boxParents||(this.context.boxParents=new Ext.util.MixedCollection)).add(this),t},addTrigger:function(e,t){var n,i=this.context.currentLayout;this.callParent(arguments),((n=this.context.triggersByLayoutId)[i.id]||(n[i.id]={}))[this.id+"."+e+(t?":dom":"")]={item:this,name:e}},checkAuthority:function(e){var t,n,i=this,r=i[e+"Model"],o=i.context.currentLayout;o===i.target.ownerLayout?t=r.calculated:o.isComponentLayout&&(t=i.isTopLevel||r.auto||r.configured),t||(n=i.context.getLayoutName(o),Ext.log(n+" cannot set "+e))},clearBlocks:function(e,t){var n,i=this[e],r=i&&i[t],o=this.id+"."+t+("dom"===e.substring(0,3)?":dom":"");if(r)for(n in r)delete r[n].blockedBy[o];return this.callParent(arguments)},getEl:function(e){var t=this.callParent(arguments);return t&&t!==this&&t.parent!==this&&Ext.raise({msg:"Got element from wrong component"}),t},init:function(){var e,t=this;return e=t.callParent(arguments),t.context.logOn.initItem&&Ext.log(t.id," consumers: content=",t.consumersContentWidth,"/",t.consumersContentHeight,", container=",t.consumersContainerWidth,"/",t.consumersContainerHeight,", size=",t.consumersWidth,"/",t.consumersHeight),e},invalidate:function(){return this.wrapsComponent?this.context.logOn.invalidate&&Ext.log("invalidate: ",this.id):Ext.raise({msg:"Cannot invalidate an element contextItem"}),this.callParent(arguments)},setProp:function(e,t,n){var i,r=this,o=r.context.currentLayout,a=r.context.getLayoutName(o),s=r.id+"."+e;return null!==t&&((i=r.setBy||(r.setBy={}))[e]?i[e]!==a&&Ext.log({level:"warn"},"BAD! ",s," set by ",i[e]," and ",a):i[e]=a),r.context.logOn.setProp&&(void 0===t||isNaN(t)||r.props[e]===t||Ext.log("set ",s," = ",t," (",n,")")),this.callParent(arguments)},setHeight:function(e,t,n){return!n&&this.wrapsComponent&&this.checkAuthority("height"),this.callParent(arguments)},setWidth:function(e,t,n){return!n&&this.wrapsComponent&&this.checkAuthority("width"),this.callParent(arguments)}}},function(){var e={dom:!0,parseInt:!0,suffix:"px"},t={dom:!0},n={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:n,containerLayoutDone:n,displayed:n,done:n,x:n,y:n,columnsChanged:n,rowHeights:n,viewOverflowY:n,overflowX:n,overflowY:n,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t,clear:t}}),Ext.define("Ext.layout.Context",{requires:["Ext.perf.Monitor","Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(e){var t=this;Ext.apply(t,e),t.items={},t.layouts={},t.blockCount=0,t.cycleCount=0,t.flushCount=0,t.calcCount=0,t.animateQueue=t.newQueue(),t.completionQueue=t.newQueue(),t.finalizeQueue=t.newQueue(),t.finishQueue=t.newQueue(),t.flushQueue=t.newQueue(),t.invalidateData={},t.layoutQueue=t.newQueue(),t.invalidQueue=[],t.triggers={data:{},dom:{}}},callLayout:function(e,t){this.currentLayout=e,e[t](this.getCmp(e.owner))},cancelComponent:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f=this,g=e,p=!e.isComponent,m=p?g.length:1;for(i=0;i<m;++i){if(p&&(e=g[i]),n&&(e.ownerCt?(h=this.items[e.ownerCt.el.id])&&Ext.Array.remove(h.childItems,f.getCmp(e)):e.rendered&&f.removeEl(e.el)),!t&&(o=(d=f.invalidQueue).length))for(f.invalidQueue=l=[],r=0;r<o;++r)(u=(c=d[r]).item.target)===e||u.up(e)||l.push(c);s=e.componentLayout,f.cancelLayout(s),e.destroying||(s.getLayoutItems&&(a=s.getLayoutItems()).length&&f.cancelComponent(a,!0),e.isContainer&&!e.collapsed&&(s=e.layout,f.cancelLayout(s),(a=s.getVisibleItems()).length&&f.cancelComponent(a,!0)))}},cancelLayout:function(e){var t=this;t.completionQueue.remove(e),t.finalizeQueue.remove(e),t.finishQueue.remove(e),t.layoutQueue.remove(e),e.running&&t.layoutDone(e),e.ownerContext=null},clearTriggers:function(e,t){var n,i,r,o=e.id,a=this.triggers[t?"dom":"data"],s=a&&a[o],l=s&&s.length||0;for(n=0;n<l;++n)i=(r=s[n]).item,delete(a=t?i.domTriggers:i.triggers)[r.prop][o]},flush:function(){var e,t=this.flushQueue.clear(),n=t.length;if(n)for(++this.flushCount,e=0;e<n;++e)t[e].flush()},flushAnimations:function(){var e,t=this.animateQueue.clear(),n=t.length;if(n){for(e=0;e<n;e++)!1!==t[e].target.animate&&t[e].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var e,t,n,i,r=this.invalidQueue,o=r&&r.length;if(this.invalidQueue=[],o){for(t=[],i=0;i<o;++i)(e=(n=r[i]).item.target).container.isDetachedBody||(t.push(e),n.options&&(this.invalidateData[e.id]=n.options));this.invalidate(t,null)}},flushLayouts:function(e,t,n){var i,r,o=n?this[e].items:this[e].clear(),a=o.length;if(a){for(i=0;i<a;++i)(r=o[i]).running||this.callLayout(r,t);this.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){var n=this.getItem(t,t);return n.parent||(n.parent=e,e.children.length?e.children.push(n):e.children=[n]),n},getItem:function(e,t){var n=t.id,i=this.items;return i[n]||(i[n]=new Ext.layout.ContextItem({context:this,target:e,el:t}))},handleFailure:function(){var e,t,n=this.layouts;for(t in Ext.failedLayouts=(Ext.failedLayouts||0)+1,n)e=n[t],n.hasOwnProperty(t)&&(e.running=!1,e.ownerContext=null);2!==Ext.devMode||this.pageAnalyzerMode?Ext.log.error("Layout run failed"):Ext.raise("Layout run failed")},invalidate:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f,g,p=this,m=!e.isComponent;for(o=0,d=m?e.length:1;o<d;++o)if((a=m?e[o]:e).rendered&&!a.hidden){if(i=a.ownerLayout,c=a.componentLayout,g=!1,i&&i.needsItemSize||!a.liquidLayout||(g=!0),(!g||i&&i.setsItemSize)&&(r=!(s=p.getCmp(a)).state,u=a.isContainer&&!a.collapsed?a.layout:null,h=p.invalidateData[s.id],delete p.invalidateData[s.id],f=s.init(t,h)),g)continue;h&&p.processInvalidate(h,s,"before"),c.beforeLayoutCycle&&c.beforeLayoutCycle(s),u&&u.beforeLayoutCycle&&u.beforeLayoutCycle(s),f=s.initContinue(f),n=!0,c.getLayoutItems&&(c.renderChildren(),(l=c.getLayoutItems()).length&&p.invalidate(l,!0)),u&&(n=!1,u.renderChildren(),(u.needsItemSize||u.activeItemCount)&&(l=u.getVisibleItems()).length&&p.invalidate(l,!0)),s.initDone(n),p.resetLayout(c,s,r),u&&p.resetLayout(u,s,r),s.initAnimation(),h&&p.processInvalidate(h,s,"after")}p.currentLayout=null},isDescendant:function(e,t){if(e.isContainer)for(var n=t.ownerCt;n;n=n.ownerCt)if(n===e)return!0;return!1},layoutDone:function(e){var t=e.ownerContext;e.running=!1,e.isComponentLayout?(t.measuresBox&&t.onBoxMeasured(),t.setProp("done",!0)):t.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,n){if(e[n]){var i=this.currentLayout;this.currentLayout=e.layout||null,e[n](t,e),this.currentLayout=i}},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e,t){this.flushQueue.add(e,t)},chainFns:function(e,t,n){var i=this,r=e.layout,o=t.layout,a=e[n],s=t[n];return function(n){var l=i.currentLayout;a&&(i.currentLayout=r,a.call(e.scope||e,n,e)),i.currentLayout=o,s.call(t.scope||t,n,t),i.currentLayout=l}},purgeInvalidates:function(){var e,t,n,i,r,o,a=[],s=this.invalidQueue,l=s.length;for(e=0;e<l;++e){for(r=(i=s[e]).item.target,o=!0,t=a.length;t--;){if(n=a[t].item.target,r.isLayoutChild(n)){o=!1;break}n.isLayoutChild(r)&&Ext.Array.erase(a,t,1)}o&&a.push(i)}this.invalidQueue=a},queueInvalidate:function(e,t){var n,i,r,o,a,s=this,l=[],d=s.invalidQueue,c=d.length;for(e.isComponent?(n=e,(e=s.items[n.el.id])?e.recalculateSizeModel():e=s.getCmp(n)):n=e.target,e.invalid=!0;c--;){if(r=(i=d[c]).item.target,!n.isFloating&&n.up(r))return;if(r===n)return void((o=i.options)?t&&(t.widthModel&&(o.widthModel=t.widthModel),t.heightModel&&(o.heightModel=t.heightModel),(a=o.state)?t.state&&Ext.apply(a,t.state):o.state=t.state,t.before&&(o.before=s.chainFns(o,t,"before")),t.after&&(o.after=s.chainFns(o,t,"after"))):i.options=t);r.isLayoutChild(n)||l.push(i)}l.push({item:e,options:t}),s.invalidQueue=l},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,n=t.componentLayout;n.pending||n.invalid||n.done||this.queueLayout(n),!(n=t.layout)||n.pending||n.invalid||n.done||t.collapsed||this.queueLayout(n)},queueLayout:function(e){this.layoutQueue.add(e),e.pending=!0},removeEl:function(e,t){var n=e.id,i=t?t.children:null,r=this.items;i&&Ext.Array.remove(i,r[n]),delete r[n]},resetLayout:function(e,t,n){var i=this;i.currentLayout=e,e.done=!1,e.pending=!0,e.firedTriggers=0,i.layoutQueue.add(e),n?(i.layouts[e.id]=e,e.running=!0,e.finishedLayout&&i.finishQueue.add(e),++i.remainingLayouts,++e.layoutCount,e.ownerContext=t,e.beginCount=0,e.blockCount=0,e.calcCount=0,e.triggerCount=0,e.initialized||e.initLayout(),e.beginLayout(t)):(++e.beginCount,e.running||(++i.remainingLayouts,e.running=!0,e.ownerContext=t,e.isComponentLayout&&t.unsetProp("done"),i.completionQueue.remove(e),i.finalizeQueue.remove(e))),e.beginLayoutCycle(t,n)},run:function(){var e=this,t=!1,n=e.cycleWatchDog;for(e.purgeInvalidates(),e.flushInvalidates(),e.state=1,e.totalCount=e.layoutQueue.getCount(),e.flush();(e.remainingLayouts||e.invalidQueue.length)&&n--;){if(e.invalidQueue.length&&e.flushInvalidates(),e.runCycle())t=!1;else if(t){if(!e.invalidQueue.length){e.state=2;break}}else e.flush(),t=!0,e.flushLayouts("completionQueue","completeLayout");e.remainingLayouts||e.invalidQueue.length||(e.flush(),e.flushLayouts("completionQueue","completeLayout"),e.flushLayouts("finalizeQueue","finalizeLayout"))}return e.runComplete()},runComplete:function(){var e=this;return e.state=2,e.remainingLayouts?(e.handleFailure(),!1):(e.flush(),e.flushLayouts("finishQueue","finishedLayout",!0),e.flushLayouts("finishQueue","notifyOwner"),e.flush(),e.flushAnimations(),!0)},runCycle:function(){var e,t=this,n=t.layoutQueue.clear(),i=n.length;for(++t.cycleCount,t.progressCount=0,e=0;e<i;++e)t.runLayout(t.currentLayout=n[e]);return t.currentLayout=null,t.progressCount>0},runLayout:function(e){var t=this,n=t.getCmp(e.owner);e.pending=!1,n.state.blocks||(e.done=!0,++e.calcCount,++t.calcCount,e.calculate(n),e.done?(t.layoutDone(e),e.completeLayout&&t.queueCompletion(e),e.finalizeLayout&&t.queueFinalize(e)):e.pending||e.invalid||e.blockCount+e.triggerCount-e.firedTriggers||t.queueLayout(e))},setItemSize:function(e,t,n){var i,r=e,o=1;for(e.isComposite?(o=(r=e.elements).length,e=r[0]):e.dom||e.el||(o=r.length,e=r[0]),i=0;i<o;)this.get(e).setSize(t,n),e=r[++i]},debugHooks:{$enabled:!1,pageAnalyzerMode:!0,logOn:{0:0},cancelComponent:function(e){this.logOn.cancelComponent&&Ext.log("cancelCmp: ",e.id),this.callParent(arguments)},cancelLayout:function(e){this.logOn.cancelLayout&&Ext.log("cancelLayout: ",this.getLayoutName(e)),this.callParent(arguments)},callLayout:function(e,t){var n=this.accumByType[e.type],i=n&&n.enter();this.callParent(arguments),n&&i.leave()},checkRemainingLayouts:function(){var e,t,n=0;for(e in this.layouts)t=this.layouts[e],this.layouts.hasOwnProperty(e)&&t.running&&++n;this.remainingLayouts!==n&&Ext.raise({msg:"Bookkeeping error me.remainingLayouts"})},flush:function(){if(this.logOn.flush){var e=this.flushQueue;Ext.log("--- Flush ",e&&e.getCount())}return this.callParent(arguments)},flushInvalidates:function(){this.logOn.flushInvalidate&&Ext.log(">> flushInvalidates");var e=this.callParent(arguments);return this.logOn.flushInvalidate&&Ext.log("<< flushInvalidates"),e},getCmp:function(e){var t=this.callParent(arguments);return t.wrapsComponent||Ext.raise({msg:e.id+" is not a component"}),t},getEl:function(e,t){var n=this.callParent(arguments);return n&&n.wrapsComponent&&Ext.raise({msg:e.id+"/"+t.id+" is a component (expected element)"}),n},getLayoutName:function(e){return e.owner.id+"<"+e.type+">"},layoutDone:function(e){var t=this,n=t.getLayoutName(e);t.logOn.layoutDone&&Ext.log("layoutDone: ",n," ( ",t.remainingLayouts," running)"),e.running||Ext.raise({msg:n+" is already done"}),t.remainingLayouts||Ext.raise({msg:n+" finished but no layouts are running"}),t.callParent(arguments)},layoutTreeHasFailures:function(e,t){var n=this;if(function e(t){var i,r,o=!t.done;if(t.done)for(i in n.layouts)n.layouts.hasOwnProperty(i)&&(r=n.layouts[i]).owner.ownerLayout===t&&e(r)&&(o=!0);return o}(e))return!0;return function e(i){var r,o;for(r in t[i.id]=1,n.layouts)n.layouts.hasOwnProperty(r)&&(o=n.layouts[r]).owner.ownerLayout===i&&e(o)}(e),!1},queueLayout:function(e){return(e.done||e.blockCount||e.pending)&&Ext.raise({msg:this.getLayoutName(e)+" should not be queued for layout"}),this.logOn.queueLayout&&Ext.log("Queue ",this.getLayoutName(e)),this.callParent(arguments)},reportLayoutResult:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=e.owner,h=c.getCmp(u),f=[],g=[];for(n in t[e.id]=1,e.blockedBy)e.blockedBy.hasOwnProperty(n)&&f.push(e.blockedBy[n]);for(n in f.sort(),c.triggersByLayoutId[e.id])c.triggersByLayoutId[e.id].hasOwnProperty(n)&&(i=c.triggersByLayoutId[e.id][n],g.push({name:n,info:i}));if(g.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),Ext.log({indent:1},e.done?"++":"--",c.getLayoutName(e),h.isBoxParent?" [isBoxParent]":"",h.boxChildren?" - boxChildren: "+h.state.boxesMeasured+"/"+h.boxChildren.length:"",h.boxParent?" - boxParent: "+h.boxParent.id:""," - size: ",h.widthModel.name,"/",h.heightModel.name),!e.done||c.reportOnSuccess){if(f.length){for(++Ext.log.indent,Ext.log({indent:1},"blockedBy:  count=",e.blockCount),o=f.length,r=0;r<o;r++)Ext.log(f[r]);Ext.log.indent-=2}if(g.length){for(++Ext.log.indent,Ext.log({indent:1},"triggeredBy: count="+e.triggerCount),o=g.length,r=0;r<o;r++)l=(s=(d=i.info||i).item).setBy&&s.setBy[d.name]||"?",i=g[r],Ext.log(i.name," (",s.props[d.name],") dirty: ",!!s.dirty&&!!s.dirty[d.name],", setBy: ",l);Ext.log.indent-=2}}for(n in c.layouts)c.layouts.hasOwnProperty(n)&&((a=c.layouts[n]).done||a.owner.ownerLayout!==e||c.reportLayoutResult(a,t));for(n in c.layouts)c.layouts.hasOwnProperty(n)&&(a=c.layouts[n]).done&&a.owner.ownerLayout===e&&c.reportLayoutResult(a,t);--Ext.log.indent},resetLayout:function(e){var t,n=this,i=e.type,r=n.getLayoutName(e),o=n.accumByType[i];n.logOn.resetLayout&&Ext.log("resetLayout: ",r," ( ",n.remainingLayouts," running)"),n.state||(!o&&n.profileLayoutsByType&&(n.accumByType[i]=o=Ext.Perf.get("layout_"+e.type)),n.numByType[i]=(n.numByType[i]||0)+1),t=o&&o.enter(),n.callParent(arguments),o&&t.leave(),n.checkRemainingLayouts()},round:function(e){return Math.round(1e3*e)/1e3},run:function(){var e,t,n,i,r,o,a,s,l,d,c,u,h,f,g=this;if(g.accumByType={},g.calcsByType={},g.numByType={},g.timesByType={},g.triggersByLayoutId={},Ext.log.indentSize=3,Ext.log("==================== LAYOUT ===================="),t=Ext.perf.getTimestamp(),e=g.callParent(arguments),t=Ext.perf.getTimestamp()-t,g.logOn.boxParent&&g.boxParents)for(n in g.boxParents)if(g.boxParents.hasOwnProperty(n))for(s=(a=(o=g.boxParents[n]).boxChildren).length,Ext.log("boxParent: ",o.id),i=0;i<s;++i)Ext.log(" --\x3e ",a[i].id);for(n in e?Ext.log("----------------- SUCCESS -----------------"):Ext.log({level:"error"},"----------------- FAILURE -----------------"),g.layouts)g.layouts.hasOwnProperty(n)&&((r=g.layouts[n]).running&&Ext.log.error("Layout left running: ",g.getLayoutName(r)),r.ownerContext&&Ext.log.error("Layout left connected: ",g.getLayoutName(r)));if(!e||g.reportOnSuccess){for(n in l={},d=0,g.layouts)g.layouts.hasOwnProperty(n)&&(r=g.layouts[n],g.items[r.owner.el.id].isTopLevel&&(g.reportOnSuccess||g.layoutTreeHasFailures(r,l))&&g.reportLayoutResult(r,l));for(n in g.layouts)g.layouts.hasOwnProperty(n)&&(l[(r=g.layouts[n]).id]||(d||Ext.log("----- Unreported!! -----"),++d,g.reportLayoutResult(r,l)))}for(n in Ext.log("Cycles: ",g.cycleCount,", Flushes: ",g.flushCount,", Calculates: ",g.calcCount," in ",g.round(t)," msec"),Ext.log("Calculates by type:"),c=[],g.numByType)g.numByType.hasOwnProperty(n)&&(u=g.numByType[n],c.push({type:n,total:u,calcs:g.calcsByType[n],multiple:Math.round(g.calcsByType[n]/u*10)/10,calcTime:g.round(g.timesByType[n]),avgCalcTime:g.round(g.timesByType[n]/g.calcsByType[n])}));for(c.sort(function(e,t){return t.calcTime-e.calcTime}),h=c.length,i=0;i<h;i++)f=c[i],Ext.log(f.type,": ",f.total," in ",f.calcs," tries (",f.multiple,"x) at ",f.calcTime," msec (avg ",f.avgCalcTime," msec)");return e},runCycle:function(){return this.logOn.runCycle&&Ext.log(">>> Cycle ",this.cycleCount," (queue length: ",this.layoutQueue.length,")"),this.callParent(arguments)},runLayout:function(e){var t,n,i,r=this,o=e.type,a=r.accumByType[o];return r.logOn.calculate&&Ext.log("-- calculate ",this.getLayoutName(e)),t=a&&a.enter(),i=Ext.perf.getTimestamp(),n=r.callParent(arguments),i=Ext.perf.getTimestamp()-i,a&&t.leave(),r.calcsByType[o]=(r.calcsByType[o]||0)+1,r.timesByType[o]=(r.timesByType[o]||0)+i,n}}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(e){this.callParent(arguments),e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e,t){var n=this.lastWidthModel,i=this.lastHeightModel,r=this.owner.body;this.callParent(arguments),n&&n.fixed&&e.widthModel.shrinkWrap&&r.setWidth(null),i&&i.fixed&&e.heightModel.shrinkWrap&&r.setHeight(null)},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments);return e.targetContext!==e&&(n+=e.getPaddingInfo().height),n},calculateOwnerWidthFromContentWidth:function(e,t){var n=this.callParent(arguments);return e.targetContext!==e&&(n+=e.getPaddingInfo().width),n},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(e,t){var n=t-e.getFrameInfo().height;return e.targetContext!==e&&(n-=e.getPaddingInfo().height),e.bodyContext.setHeight(n,!e.heightModel.natural)},publishInnerWidth:function(e,t){var n=t-e.getFrameInfo().width;e.targetContext!==e&&(n-=e.getPaddingInfo().width),e.bodyContext.setWidth(n,!e.widthModel.natural)}}),Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(e){e.target.collapsed&&(e.heightModel=this.sizeModels.shrinkWrap)},beginLayout:function(e){var t=this.owner.legend;this.callParent([e]),t&&(e.legendContext=e.context.getCmp(t))},beginLayoutCycle:function(e){var t,n=e.target;this.callParent(arguments),n.collapsed&&(e.setContentHeight(0),e.restoreMinHeight=n.minHeight,delete n.minHeight,e.widthModel.shrinkWrap&&(t=this.lastComponentSize,e.setContentWidth(t&&t.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(e){var t=this.owner,n=e.restoreMinHeight;this.callParent(arguments),n&&(t.minHeight=n)},calculateOwnerWidthFromContentWidth:function(e,t){var n=e.legendContext;return n&&(t=Math.max(t,n.getProp("width"))),this.callParent([e,t])},calculateOwnerHeightFromContentHeight:function(e,t){var n=e.getBorderInfo(),i=e.legendContext;return e.getProp("contentHeight")+e.getPaddingInfo().height+(Ext.isIE8?e.bodyContext.getPaddingInfo().top:0)+(i?i.getProp("height"):n.top)+n.bottom},publishInnerHeight:function(e,t){var n=e.legendContext,i=0;n&&(i=n.getProp("height")),void 0===i?this.done=!1:this.callParent([e,t-i])},getLayoutItems:function(){var e=this.owner.legend;return e?[e]:[]}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",type:"absolute",adjustWidthAnchor:function(e,t){var n=this.targetPadding;return e-t.getStyle("left")+n.left},adjustHeightAnchor:function(e,t){var n=this.targetPadding;return e-t.getStyle("top")+n.top},isItemShrinkWrap:function(e){return!0},onContentChange:function(e,t){var n=!1;return e.anchor&&t&&t.show&&(n=this.callParent([e,t])),n},beginLayout:function(e){var t=this.getTarget();this.callParent([e]),t.dom!==document.body&&t.position(),this.targetPadding=e.targetContext.getPaddingInfo()},isItemBoxParent:function(e){return!0},calculateContentSize:function(e,t){var n,i,r,o,a,s,l,d=(t||0)|(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),c=1&d||void 0,u=2&d||void 0,h=e.childItems,f=h.length,g=0,p=0,m=0,x=e.props;if(c&&(isNaN(x.contentWidth)?++m:c=void 0),u&&(isNaN(x.contentHeight)?++m:u=void 0),m){for(a=0;a<f;++a)if(i=(r=h[a]).target,o=u&&r.getProp("height"),l=c&&r.getProp("width"),o+=(s=r.getMarginInfo()).bottom,l+=s.right,g=Math.max(g,(i.y||0)+o),p=Math.max(p,(i.x||0)+l),isNaN(g)&&isNaN(p))return void(this.done=!1);(c||u)&&(n=e.targetContext.getPaddingInfo()),c&&!e.setContentWidth(p+n.width)&&(this.done=!1),u&&!e.setContentHeight(g+n.height)&&(this.done=!1)}}}),Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:"layout.accordion",type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",enableSplitters:!1,fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,wrapOver:!0,panelCollapseMode:"header",defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var e=this;e.callParent(arguments),e.animate?(e.animatePolicy={},e.animatePolicy[e.names.x]=!0,e.animatePolicy[e.names.width]=!0):e.animatePolicy=null},beforeRenderItems:function(e){var t,n,i=this,r=e.length,o=i.owner,a=i.collapseFirst,s=Ext.isDefined(a),l=i.getExpanded(!0)[0],d=i.multi;for(n=0;n<r;n++)(t=e[n]).rendered||(t.isAccordionPanel=!0,t.bodyAriaRole="tabpanel",t.accordionWrapOver=i.wrapOver,d&&!1===t.collapsible||(t.collapsible=!0),t.collapsible&&(s&&(t.collapseFirst=a),i.hideCollapseTool?(t.hideCollapseTool=i.hideCollapseTool,t.titleCollapse=!0):i.titleCollapse&&void 0===t.titleCollapse&&(t.titleCollapse=i.titleCollapse)),t.hideHeader=t.width=null,t.title=t.title||"&#160;",t.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),d||(l?t.collapsed=l!==t:t.hasOwnProperty("collapsed")&&!1===t.collapsed?l=t:t.collapsed=!0,o.mon(t,"show",i.onComponentShow,i)),t.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over");i.processing||d||(l?i.activeOnTop&&(l.collapsed=!1,i.configureItem(l),o.items.indexOf(l)>0&&o.insert(0,l)):r&&(e[0].collapsed=!1))},getItemsRenderTree:function(e){return this.beforeRenderItems(e),this.callParent(arguments)},renderItems:function(e,t){this.beforeRenderItems(e),this.callParent(arguments)},configureItem:function(e){this.callParent(arguments),e.ignoreHeaderBorderManagement=!0,e.animCollapse=!1,this.fill&&(e.flex=1)},beginLayout:function(e){this.callParent(arguments),this.innerCt.dom.setAttribute("role","tablist"),this.innerCt.dom.setAttribute("aria-multiselectable",!0),this.updatePanelClasses(e)},updatePanelClasses:function(e){var t,n,i,r=e.visibleItems,o=r.length,a=!0;for(t=0;t<o;t++)(i=(n=r[t]).header).addCls(Ext.baseCSSPrefix+"accordion-hd"),a?i.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):i.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),t+1===o&&n.collapsed?i.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):i.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),a=n.collapsed},onBeforeComponentExpand:function(e){var t,n,i,r=this,o=r.owner,a=r.multi,s=!a&&!r.animate&&r.activeOnTop;r.processing||(r.processing=!0,n=o.deferLayouts,o.deferLayouts=!0,a||(t=r.getExpanded()[0])&&t!==e&&((i=t.$layoutAnim)&&i.jumpToEnd(),t.collapse()),s&&(Ext.suspendLayouts(),o.insert(0,e),Ext.resumeLayouts()),o.deferLayouts=n,r.processing=!1)},onBeforeComponentCollapse:function(e){var t,n,i=this,r=i.owner;if(1===i.owner.items.getCount())return!1;i.processing||(i.processing=!0,n=r.deferLayouts,r.deferLayouts=!0,t=e.next()||e.prev(),i.multi?1===i.getExpanded().length&&t.expand():t&&t.expand(),r.deferLayouts=n,i.processing=!1)},onComponentShow:function(e){this.onBeforeComponentExpand(e)},onAdd:function(e){var t=this;t.callParent(arguments),"placeholder"===e.collapseMode&&(e.collapseMode=t.panelCollapseMode),e.collapseDirection=e.headerPosition,t.layoutCount&&!t.multi&&t.owner.items.getCount()>1&&(t.processing=!0,e.collapse(),t.processing=!1)},onRemove:function(e,t){var n;this.callParent(arguments),this.owner.destroying||this.multi||e.collapsed||(n=this.owner.items.first())&&n.expand()},getExpanded:function(e){for(var t,n=this.owner.items.items,i=n.length,r=0,o=[];r<i;++r)(t=n[r]).hidden||(e?t.hasOwnProperty("collapsed")&&!1===t.collapsed:!t.collapsed)&&o.push(t);return o},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn}),Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var e=this.callParent();return e.xclass="Ext.resizer.BorderSplitterTracker",e},onTargetCollapse:function(e){this.callParent([e]),!1!==this.performCollapse&&"mini"==e.collapseMode&&e.addCls(e.baseCls+"-"+e.collapsedCls+"-mini")},onTargetExpand:function(e){this.callParent([e]),!1!==this.performCollapse&&"mini"==e.collapseMode&&e.removeCls(e.baseCls+"-"+e.collapsedCls+"-mini")}}),Ext.define("Ext.layout.container.Border",{extend:"Ext.layout.container.Container",alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",requires:["Ext.resizer.BorderSplitter","Ext.fx.Anim","Ext.layout.container.border.Region"],targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(e,t,n){var i,r,o,a,s,l,d,c,u,h,f,g=this.axisProps[n],p=!g.horizontal,m=g.sizeProp,x=0,E=e.childItems,v=E.length;for(r=0;r<v;++r)if(s=(o=E[r]).target,o.layoutPos={},s.region){if(o.region=l=s.region,o.isCenter=s.isCenter,o.isHorz=s.isHorz,o.isVert=s.isVert,o.weight=s.weight||this.regionWeights[l]||0,s.weight=o.weight,t[s.id]=o,s.isCenter){i=o,a=s.flex,e.centerRegion=i;continue}if(p!==o.isVert)continue;o.reverseWeighting=l===g.borderEnd,u=typeof(c=s[m]),s.collapsed||("string"===u&&(d=this.percentageRe.exec(c))?o.percentage=parseInt(d[1],10):s.flex&&(x+=o.flex=s.flex))}return i&&((f=(h=i.target).placeholderFor)?a||p!==f.collapsedVertical()||(a=0,i.collapseAxis=n):h.collapsed&&p===h.collapsedVertical()&&(a=0,i.collapseAxis=n)),null==a&&(a=1),x+=a,Ext.apply({before:p?"top":"left",totalFlex:x},g)},beginLayout:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.getLayoutItems(),h=c.padding,f=typeof h,g=!1;for(e.heightModel.shrinkWrap&&Ext.raise("Border layout does not currently support shrinkWrap height. Please specify a height on component: "+c.owner.id+", or use a container layout that sets the component's height."),e.widthModel.shrinkWrap&&Ext.raise("Border layout does not currently support shrinkWrap width. Please specify a width on component: "+c.owner.id+", or use a container layout that sets the component's width."),h?"string"!==f&&"number"!==f||(h=Ext.util.Format.parseBox(h)):(h=e.getEl("getTargetEl").getPaddingInfo(),g=!0),e.outerPad=h,e.padOnContainer=g,r=0,i=u.length;r<i;++r)n=u[r],(a=c.getSplitterTarget(n))&&(s=void 0,l=!!n.hidden,a.split?l!==a.hidden&&(s=!a.hidden):a.isCollapsingOrExpanding&&(s=!!a.collapsed),s?n.show():!1===s&&n.hide());for(c.callParent(arguments),i=(u=e.childItems).length,o={},e.borderAxisHorz=c.beginAxis(e,o,"horz"),e.borderAxisVert=c.beginAxis(e,o,"vert"),r=0;r<i;++r)t=u[r],(a=c.getSplitterTarget(t.target))&&((d=o[a.id])||((d=e.getEl(a.el,c)).region=a.region),t.collapseTarget=a=d,t.weight=a.weight,t.reverseWeighting=a.reverseWeighting,a.splitter=t,t.isHorz=a.isHorz,t.isVert=a.isVert);c.sortWeightedItems(u,"reverseWeighting"),c.setupSplitterNeighbors(u)},calculate:function(e){var t,n,i,r,o,a,s=this,l=s.getContainerSize(e),d=e.childItems,c=d.length,u=e.borderAxisHorz,h=e.borderAxisVert,f=e.outerPad,g=e.padOnContainer;for(u.begin=f[s.padOnContainerProp],h.begin=f.top,o=u.end=u.flexSpace=l.width+(g?f[s.padOnContainerProp]:-f[s.padNotOnContainerProp]),a=h.end=h.flexSpace=l.height+(g?f.top:-f.bottom),t=0;t<c;++t)i=(n=d[t]).getMarginInfo(),(n.isHorz||n.isCenter)&&(u.addUnflexed(i.width),o-=i.width),(n.isVert||n.isCenter)&&(h.addUnflexed(i.height),a-=i.height),n.flex||n.percentage||(n.isHorz||n.isCenter&&"horz"===n.collapseAxis?(r=n.getProp("width"),u.addUnflexed(r),n.collapseTarget&&(o-=r)):(n.isVert||n.isCenter&&"vert"===n.collapseAxis)&&(r=n.getProp("height"),h.addUnflexed(r),n.collapseTarget&&(a-=r)));for(t=0;t<c;++t)i=(n=d[t]).getMarginInfo(),n.percentage&&(n.isHorz?(r=Math.ceil(o*n.percentage/100),r=n.setWidth(r),u.addUnflexed(r)):n.isVert&&(r=Math.ceil(a*n.percentage/100),r=n.setHeight(r),h.addUnflexed(r)));for(t=0;t<c;++t)(n=d[t]).isCenter||(s.calculateChildAxis(n,u),s.calculateChildAxis(n,h));s.finishAxis(e,h)+s.finishAxis(e,u)<2?s.done=!1:s.finishPositions(d)},calculateChildAxis:function(e,t){var n,i,r,o,a,s=e.collapseTarget,l="set"+t.sizePropCap,d=t.sizeProp,c=e.getMarginInfo()[d];s?n=s.region:(n=e.region,r=e.flex),(i=n===t.borderBegin)||n===t.borderEnd?(r?(a=Math.ceil(t.flexSpace*(r/t.totalFlex)),a=e[l](a)):a=e.percentage?e.peek(d):e.getProp(d),a+=c,i?(o=t.begin,t.begin+=a):t.end=o=t.end-a):(e[l](t.end-t.begin-c),o=t.begin),e.layoutPos[t.posProp]=o},eachItem:function(e,t,n){var i,r=this.getLayoutItems(),o=0;for(Ext.isFunction(e)&&(n=t=e);o<r.length&&(i=r[o],e&&i.region!==e||!1!==t.call(n,i));o++);},finishAxis:function(e,t){var n=t.end-t.begin,i=e.centerRegion;return i&&(i["set"+t.sizePropCap](n-i.getMarginInfo()[t.sizeProp]),i.layoutPos[t.posProp]=t.begin),Ext.isNumber(n)?1:0},finishPositions:function(e){var t,n,i=e.length,r=this.horzPositionProp;for(t=0;t<i;++t)(n=e[t]).setProp("x",n.layoutPos.x+n.marginInfo[r]),n.setProp("y",n.layoutPos.y+n.marginInfo.top)},getLayoutItems:function(){for(var e,t,n=this.owner,i=n&&n.items&&n.items.items||[],r=i.length,o=[],a=0;a<r;a++)t=(e=i[a]).placeholderFor,!e.hidden&&(e.floated&&2!==e.isCollapsingOrExpanding||t&&2===t.isCollapsingOrExpanding)||o.push(e);return o},getPlaceholder:function(e){return e.getPlaceholder&&e.getPlaceholder()},getMaxWeight:function(e){return this.getMinMaxWeight(e)},getMinWeight:function(e){return this.getMinMaxWeight(e,!0)},getMinMaxWeight:function(e,t){var n=null;return this.eachItem(e,function(e){if(e.hasOwnProperty("weight")){if(null===n)return void(n=e.weight);(t&&e.weight<n||e.weight>n)&&(n=e.weight)}},this),n},getSplitterTarget:function(e){var t=e.collapseTarget;return t&&t.collapsed&&t.placeholder||t},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},insertSplitter:function(e,t,n,i){var r=e.region,o=Ext.apply({xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:n,canResize:!1!==e.splitterResize,splitterFor:e,synthetic:!0},i),a=t+("south"===r||"east"===r?0:1);"mini"===e.collapseMode&&(o.collapsedCls=e.collapsedCls),e.splitter=this.owner.add(a,o)},getMoveAfterIndex:function(e){var t=this.callParent(arguments);return e.splitter&&t++,t},moveItemBefore:function(e,t){var n;return t&&t.splitter&&("south"!==(n=t.region)&&"east"!==n||(t=t.splitter)),this.callParent([e,t])},onAdd:function(e,t){var n,i,r,o,a=this,s=e.placeholderFor,l=e.region;a.callParent(arguments),l?(Ext.apply(e,a.regionFlags[l]),a.owner.isViewport&&(e.isViewportBorderChild=!0),e.initBorderRegion&&e.initBorderRegion(),(n="center"===l)?(a.centerRegion&&Ext.raise("Cannot have multiple center regions in a BorderLayout."),a.centerRegion=e):(i=e.split,r=!!e.hidden,"object"==typeof i&&(o=i,i=!0),!e.isHorz&&!e.isVert||!i&&"mini"!==e.collapseMode||a.insertSplitter(e,t,r||!i,o)),n||e.hasOwnProperty("collapseMode")||(e.collapseMode=a.panelCollapseMode),e.hasOwnProperty("animCollapse")||("placeholder"!==e.collapseMode?e.animCollapse=!1:e.animCollapse=a.panelCollapseAnimate),r&&e.placeholder&&e.placeholder.isVisible()&&a.owner.insert(t,e.placeholder)):s&&(Ext.apply(e,a.regionFlags[s.region]),e.region=s.region,e.weight=s.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(e,t){var n,i=e.region,r=e.splitter,o=this.owner,a=o.destroying;i&&(e.isCenter&&(this.centerRegion=null),delete e.isCenter,delete e.isHorz,delete e.isVert,r&&!o.destroying&&o.doRemove(r,!0),delete e.splitter),this.callParent(arguments),a||t||!e.rendered||(n=e.getEl())&&(n.setStyle("top",""),n.setStyle(this.horzPositionProp,""))},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(e){var t,n,i,r,o,a,s,l,d,c={},u=e.length,h=this.touchedRegions;for(t=0;t<u;++t)if(s=(a=e[t].target).region,a.isCenter)i=a;else if(s){for(n=0,r=(d=h[s]).length;n<r;++n)(o=c[d[n]])&&o.neighbors.push(a);(l=a.placeholderFor?a.placeholderFor.splitter:a.splitter)&&(l.neighbors=[]),c[s]=l}if(i)for(n=0,r=(d=h.center).length;n<r;++n)(o=c[d[n]])&&o.neighbors.push(i)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var t,n,i,r,o=this.sizePolicies;return e.isCenter?(r=e.placeholderFor)?r.collapsedVertical()?o.vert:o.horz:e.collapsed?e.collapsedVertical()?o.vert:o.horz:o.flexAll:(t=e.collapseTarget)?t.isVert?o.vert:o.horz:e.region?(e.isVert?(n=e.height,i=o.vert):(n=e.width,i=o.horz),e.flex||"string"==typeof n&&this.percentageRe.test(n)?o.flexAll:i):this.autoSizePolicy}},function(){var e={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,e),Ext.apply(t.vert,e)}),Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var e=this,t=e.getActiveItem();if(t){if(t.hasListeners.beforeactivate&&!1===t.fireEvent("beforeactivate",t)?t=e.activeItem=e.owner.activeItem=null:t.hasListeners.activate&&t.on({boxready:function(){t.fireEvent("activate",t)},single:!0}),!e.deferredRender)return e.callParent(arguments);if(t)return e.getItemsRenderTree([t])}},renderChildren:function(){var e=this,t=e.getActiveItem();e.deferredRender?t&&e.renderItems([t],e.getRenderTarget()):e.callParent()},isValidParent:function(e,t,n){var i=e.el?e.el.dom:Ext.getDom(e);return i&&i.parentNode===(t.dom||t)||!1},getActiveItem:function(){var e=this,t=void 0===e.activeItem?e.owner&&e.owner.activeItem:e.activeItem,n=e.parseActiveItem(t);return n&&-1!==e.owner.items.indexOf(n)&&(e.activeItem=n),null==n?null:e.activeItem||e.owner.activeItem},parseActiveItem:function(e){return e&&e.isComponent?e:"number"==typeof e||void 0===e?this.getLayoutItems()[e||0]:null===e?null:this.owner.getComponent(e)},configureItem:function(e){e.setHiddenState(e!==this.getActiveItem()),this.callParent(arguments)},onAdd:function(e,t){this.callParent([e,t]),this.setItemHideMode(e)},onRemove:function(e){this.callParent([e]),this.resetItemHideMode(e),e===this.activeItem&&(this.activeItem=void 0)},getAnimation:function(e,t){var n=(e||{}).cardSwitchAnimation;return!1!==n&&(n||t.cardSwitchAnimation)},getNext:function(){var e=arguments[0],t=this.getLayoutItems();return t[Ext.Array.indexOf(t,this.activeItem)+1]||!!e&&t[0]},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems();return t[Ext.Array.indexOf(t,this.activeItem)-1]||!!e&&t[t.length-1]},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t,n=this,i=n.owner,r=n.activeItem,o=i.rendered;if(e=n.parseActiveItem(e),-1===i.items.indexOf(e)&&(i.items.items.length,Ext.suspendLayouts(),e=i.add(e),Ext.resumeLayouts()),e&&r!==e){if(!1===e.fireEvent("beforeactivate",e,r))return!1;if(r&&!1===r.fireEvent("beforedeactivate",r,e))return!1;if(o){if(Ext.suspendLayouts(),e.rendered||n.renderItem(e,n.getRenderTarget(),i.items.length),r&&n.hideInactive){if(t=r.el.contains(Ext.Element.getActiveElement()),r.hide(),!r.hidden)return!1;r.hiddenByLayout=!0,r.fireEvent("deactivate",r,e)}e.hidden&&e.show(),e.hidden?n.activeItem=e=null:(n.activeItem=e,t&&(e.defaultFocus||(e.defaultFocus=":focusable"),e.focus())),Ext.resumeLayouts(!0)}else n.activeItem=e;return e.fireEvent("activate",e,r),n.activeItem}return!1},resetItemHideMode:function(e){e.hideMode=e.originalHideMode,delete e.originalHideMode},setItemHideMode:function(e){e.originalHideMode=e.hideMode,e.hideMode="offsets"}}),Ext.define("Ext.layout.container.Center",{extend:"Ext.layout.container.Fit",alias:["layout.center","layout.ux.center"],alternateClassName:"Ext.ux.layout.Center",type:"center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:Ext.baseCSSPrefix+"center-layout-item",childEls:["targetEl"],renderTpl:['<div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div>'],targetElCls:Ext.baseCSSPrefix+"center-target",beginLayout:function(e){var t,n,i,r,o,a=this.percentRe;for(this.callParent([e]),i=0,n=(t=e.childItems).length;i<n;++i)o=(r=t[i]).target,r.widthModel,r.heightModel,a.test(o.width)&&o.getEl().setStyle("width",""),a.test(o.height)&&o.getEl().setStyle("height","");e.targetElContext=e.getEl("targetEl",this)},beginLayoutCycle:function(e,t){var n=this.targetEl;this.callParent([e,t]),n.setStyle("width",""),n.setStyle("height","")},getRenderData:function(){var e=this.callParent();return e.targetElCls=this.targetElCls,e},getRenderTarget:function(){return this.targetEl},getItemSizePolicy:function(e,t){var n=t||this.owner.getSizeModel(),i=this.percentRe,r=(n.width.shrinkWrap||!i.test(e.width)?0:1)|(n.height.shrinkWrap||!i.test(e.height)?0:2);return this.sizePolicies[r]},isItemShrinkWrap:function(e){return!0},calculate:function(e){var t,n=e.targetElContext;this.callParent([e]),t=e.state.info,e.widthModel.shrinkWrap&&n.setWidth(t.contentWidth),e.heightModel.shrinkWrap&&n.setHeight(t.contentHeight)},getPos:function(e,t,n){var i=n+"Model",r=e.props[n],o=0;return e[i].calculated||(r+=t.margins[n]),t.ownerContext[i].shrinkWrap||(o=Math.round((t.targetSize[n]-r)/2),isNaN(o)&&(this.done=!1)),Math.max(o,0)},positionItemX:function(e,t){var n=this.getPos(e,t,"width");e.setProp("x",n)},positionItemY:function(e,t){var n=this.getPos(e,t,"height");e.setProp("y",n)},setItemHeight:function(e,t){var n=parseFloat(e.target.height)/100;e.setHeight(Math.round((t.targetSize.height-t.margins.height)*n))},setItemWidth:function(e,t){var n=parseFloat(e.target.width)/100;e.setWidth(Math.round((t.targetSize.width-t.margins.width)*n))}}),Ext.define("Ext.layout.container.Form",{extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.FormLayout",alias:"layout.form",type:"form",formWrapCls:Ext.baseCSSPrefix+"form-layout-wrap",formWrapAutoLabelCls:Ext.baseCSSPrefix+"form-layout-auto-label",formWrapSizedLabelCls:Ext.baseCSSPrefix+"form-layout-sized-label",formColGroupCls:Ext.baseCSSPrefix+"form-layout-colgroup",formColumnCls:Ext.baseCSSPrefix+"form-layout-column",formLabelColumnCls:Ext.baseCSSPrefix+"form-layout-label-column",childEls:["formWrap","labelColumn"],beforeBodyTpl:'<div id="{ownerId}-formWrap" data-ref="formWrap" class="{formWrapCls}"<tpl if="itemSpacing"> style="border-spacing:{itemSpacing}px"</tpl>><div class="{formColGroupCls}"><div id="{ownerId}-labelColumn" data-ref="labelColumn" class="{formColumnCls} {formLabelColumnCls}"<tpl if="labelWidth"> style="width:{labelWidth}"</tpl>></div><div class="{formColumnCls}"></div></div>',afterBodyTpl:"</div>",getRenderData:function(){var e=this,t=e.labelWidth,n=e.formWrapCls,i=e.callParent();return t?("number"==typeof t&&(t+="px"),i.labelWidth=t,n+=" "+e.formWrapSizedLabelCls):n+=" "+e.formWrapAutoLabelCls,i.formWrapCls=n,i.formColGroupCls=e.formColGroupCls,i.formColumnCls=e.formColumnCls,i.formLabelColumnCls=e.formLabelColumnCls,i},getRenderTarget:function(){return this.formWrap}}),Ext.define("Ext.menu.Bar",{extend:"Ext.menu.Menu",xtype:"menubar",isMenuBar:!0,defaultMenuAlign:"tl-bl?",floating:!1,constrain:!1,showSeparator:!1,allowOtherMenus:!0,ariaRole:"menubar",ui:"default-menubar",layout:{type:"hbox",align:"stretchmax",pack:"start",overflowHandler:"menu"},lookupComponent:function(e){return(e=this.callParent([e])).isMenuItem&&(e.menuAlign=this.defaultMenuAlign),e},privates:{onFocusableContainerLeftKey:function(e){e.preventDefault(),this.mixins.focusablecontainer.onFocusableContainerLeftKey.call(this,e)},onFocusableContainerRightKey:function(e){e.preventDefault(),this.mixins.focusablecontainer.onFocusableContainerRightKey.call(this,e)},onFocusableContainerUpKey:function(e){var t=this.lastFocusedChild;e.preventDefault(),t&&t.expandMenu&&t.expandMenu(e,0)},onFocusableContainerDownKey:function(e){var t=this.lastFocusedChild;e.preventDefault(),t&&t.expandMenu&&t.expandMenu(e,0)}}}),Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{plain:!0,showSeparator:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",margin:0,id:e.pickerId,xtype:"colorpicker"},t)}),e.callParent(arguments),e.picker=e.down("colorpicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],ariaRole:"dialog",ariaLabel:"Date picker",hideOnClick:!0,pickerId:null,enableFocusableContainer:!1,initComponent:function(){var e,t,n=this;n.pickerCfg?t=Ext.apply({cls:Ext.baseCSSPrefix+"menu-date-item",margin:0,border:!1,id:n.pickerId,xtype:"datepicker"},n.pickerCfg):(delete(e=Ext.apply({},n.initialConfig)).listeners,t=Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",margin:0,border:!1,id:n.pickerId,xtype:"datepicker"},e)),Ext.apply(n,{showSeparator:!1,plain:!0,bodyPadding:0,items:[t]}),n.callParent(),n.picker=n.down("datepicker"),n.relayEvents(n.picker,["select"]),n.hideOnClick&&n.on("select",n.hidePickerOnSelect,n)},onEscapeKey:function(e){this.floating&&this.ownerCmp&&this.ownerCmp.focus&&this.ownerCmp.focus()},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Pinnable",{extend:"Ext.Mixin",mixinId:"pinnable",pinnable:!0,pinnedTip:"Unpin this item",unpinnedTip:"Pin this item",initPinnable:function(){var e=this,t=e.isPinned();e.addTool(e.pinTool=Ext.widget({xtype:"tool",type:t?"unpin":"pin",callback:"togglePin",scope:e,tooltip:t?e.pinnedTip:e.unpinnedTip}))},isPinned:function(){return!this.floating},setPinned:function(e){var t,n=this;e!==n.isPinned()&&(t=[n,e],!1!==n.fireEventArgs("beforepinchange",t)&&(n.updatePinned(e),n.fireEventArgs("pinchange",t)))},togglePin:function(){this.setPinned(!this.isPinned())},updatePinned:function(e){var t=this.pinTool;t.setTooltip(e?this.pinnedTip:this.unpinnedTip),t.setType(e?"unpin":"pin")}}),Ext.define("Ext.plugin.Manager",{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:!0,typeName:"ptype",create:function(e,t,n){var i,r;return e.init?i=e:(n?(e=Ext.apply({},e)).cmp=n:n=e.cmp,e.xclass?i=Ext.create(e):(r="plugin."+(e.ptype||t),i=Ext.ClassManager.instantiateByAlias(r,e))),i&&n&&i.setCmp&&!i.setCmpCalled&&(i.setCmp(n),i.setCmpCalled=!0),i}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var e,t,n,i,r,o,a,s,l=this.splitter,d=l.collapseTarget,c=l.defaultSplitMin,u=l.vertical?"Width":"Height",h="min"+u,f="max"+u,g="get"+u,p=l.neighbors,m=p.length,x=d.el.getBox(),E=x.x,v=x.y,y=x.right,b=x.bottom,C=l.vertical?y-E:b-v;for(i=(d[h]||Math.min(C,c))-C,(r=d[f])?r-=C:r=1e9,s=C,e=0;e<m;++e)C=(t=p[e])[g](),null===(n=t[f])&&(n=void 0),o=C-n,a=C-(t[h]||Math.min(C,c)),isNaN(o)||i<o&&(i=o),r>a&&(r=a);return r-i<2?null:(x=new Ext.util.Region(v,y,b,E),this.constraintAdjusters[this.getCollapseDirection()](x,i,r,l),this.dragInfo={minRange:i,maxRange:r,targetSize:s},x)},constraintAdjusters:{left:function(e,t,n,i){e[0]=e.x=e.left=e.right+t,e.right+=n+i.getWidth()},top:function(e,t,n,i){e[1]=e.y=e.top=e.bottom+t,e.bottom+=n+i.getHeight()},bottom:function(e,t,n,i){e.bottom=e.top-t,e.top-=n+i.getHeight()},right:function(e,t,n,i){e.right=e.left-t,e[0]=e.x=e.left=e.x-n+i.getWidth()}},onBeforeStart:function(e){var t,n,i=this.splitter,r=i.collapseTarget,o=i.neighbors,a=o.length;if(r.collapsed)return!1;for(t=0;t<a;++t)if((n=o[t]).collapsed&&n.isHorz===r.isHorz)return!1;return!!(this.constrainTo=this.calculateConstrainRegion())},performResize:function(e,t){var n,i=this.splitter,r=i.getCollapseDirection(),o=i.collapseTarget,a=this.splitAdjusters[i.vertical?"horz":"vert"],s=t[a.index],l=this.dragInfo;"right"!==r&&"bottom"!==r||(s=-s),(s=Math.min(Math.max(l.minRange,s),l.maxRange))&&((n=i.ownerCt).suspendLayouts(),a.adjustTarget(o,l.targetSize,s),n.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(e,t,n){e.flex=null,e.setSize(t+n)}},vert:{index:1,adjustTarget:function(e,t,n){e.flex=null,e.setSize(void 0,t+n)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}}),Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",ariaRole:"presentation",beforeRender:function(){var e=this;e.callParent(),e.protoEl.unselectable(),e.addCls(e.baseHandleCls,e.baseHandleCls+"-"+e.region,e.handleCls)}}),Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:!0,preserveRatio:!1,preventDefault:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t,n,i,r=this;e.el||(e.target.isComponent?r.el=e.target.getEl():r.el=e.target),this.callParent(arguments),r.preserveRatio&&r.minWidth&&r.minHeight&&(t=r.minWidth/r.el.getWidth(),(n=r.minHeight/r.el.getHeight())>t?r.minWidth=r.el.getWidth()*n:r.minHeight=r.el.getHeight()*t),r.throttle&&(i=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments)},r.throttle),r.resize=function(e,t,n){n?Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments):i.apply(null,arguments)})},onBeforeStart:function(e){this.startBox=this.target.getBox()},getProxy:function(){var e=this;if(e.dynamic||e.proxy||(e.proxy=e.createProxy(e.target||e.el),e.hideProxy=!0),e.proxy)return e.proxy.show(),e.proxy},createProxy:function(e){var t,n=this.proxyCls;return(t=e.isComponent?e.getProxy().addCls(n):e.createProxy({tag:"div",role:"presentation",cls:n,id:e.id+"-rzproxy"},Ext.getBody())).removeCls(Ext.baseCSSPrefix+"proxy-el"),t},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox)},onMouseDown:function(e,t){this.callParent([e,t]),Ext.dom.Element.maskIframes()},onMouseUp:function(e){this.callParent([e]),Ext.dom.Element.unmaskIframes()},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,t){var n,i,r,o,a,s,l,d,c=this,u=c.activeResizeHandle.region,h=c.getOffset(c.constrainTo?"dragTarget":null),f=c.startBox,g=0,p=0,m=0,x=0;switch(u=c.convertRegionName(u)){case"south":p=h[1],a=2;break;case"north":x=-(p=-h[1]),a=2;break;case"east":g=h[0],a=1;break;case"west":m=-(g=-h[0]),a=1;break;case"northeast":x=-(p=-h[1]),g=h[0],o=[f.x,f.y+f.height],a=3;break;case"southeast":p=h[1],g=h[0],o=[f.x,f.y],a=3;break;case"southwest":m=-(g=-h[0]),p=h[1],o=[f.x+f.width,f.y],a=3;break;case"northwest":x=-(p=-h[1]),m=-(g=-h[0]),o=[f.x+f.width,f.y+f.height],a=3}if(s={width:f.width+g,height:f.height+p,x:f.x+m,y:f.y+x},i=Ext.Number.snap(s.width,c.widthIncrement),r=Ext.Number.snap(s.height,c.heightIncrement),i!==s.width||r!==s.height){switch(u){case"northeast":case"north":s.y-=r-s.height;break;case"southwest":case"west":s.x-=i-s.width;break;case"northwest":s.x-=i-s.width,s.y-=r-s.height}s.width=i,s.height=r}s.width<c.minWidth||s.width>c.maxWidth?(s.width=Ext.Number.constrain(s.width,c.minWidth,c.maxWidth),m&&(s.x=f.x+(f.width-s.width))):c.lastX=s.x,s.height<c.minHeight||s.height>c.maxHeight?(s.height=Ext.Number.constrain(s.height,c.minHeight,c.maxHeight),x&&(s.y=f.y+(f.height-s.height))):c.lastY=s.y,(c.preserveRatio||e.shiftKey)&&(n=c.startBox.width/c.startBox.height,l=Math.min(Math.max(c.minHeight,s.width/n),c.maxHeight),d=Math.min(Math.max(c.minWidth,s.height*n),c.maxWidth),1===a?s.height=l:2===a?s.width=d:(Math.abs(o[0]-this.lastXY[0])/Math.abs(o[1]-this.lastXY[1])>n?s.height=l:s.width=d,"northeast"===u?s.y=f.y-(s.height-f.height):"northwest"===u?(s.y=f.y-(s.height-f.height),s.x=f.x-(s.width-f.width)):"southwest"===u&&(s.x=f.x-(s.width-f.width)))),c.setPosition=s.x!==c.startBox.x||s.y!==c.startBox.y,c.resize(s,t)},resize:function(e,t){var n,i=this,r=i.setPosition;(i.dynamic||!i.dynamic&&t)&&(r?i.target.setBox(e):i.target.setSize(e.width,e.height)),t||(n=i.getProxy())&&n!==i.target&&(r||i.hideProxy?n.setBox(e):n.setSize(e.width,e.height))},onEnd:function(e){this.updateDimensions(e,!0),this.proxy&&this.hideProxy&&this.proxy.hide()},convertRegionName:function(e){return e}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},touchActionMap:{n:{panY:!1},s:{panY:!1},e:{panX:!1},w:{panX:!1},se:{panX:!1,panY:!1},sw:{panX:!1,panY:!1},nw:{panX:!1,panY:!1},ne:{panX:!1,panY:!1}},ariaRole:"presentation",constructor:function(e){var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p=this,m=Ext.dom.Element.unselectableCls,x=[];for((Ext.isString(e)||Ext.isElement(e)||e.dom)&&(t=e,(e=arguments[1]||{}).target=t),p.mixins.observable.constructor.call(p,e),(t=p.target)?t.isComponent?(t.addClsWithUI("resizable"),t.minWidth&&(p.minWidth=t.minWidth),t.minHeight&&(p.minHeight=t.minHeight),t.maxWidth&&(p.maxWidth=t.maxWidth),t.maxHeight&&(p.maxHeight=t.maxHeight),t.floating&&(p.hasOwnProperty("handles")||(p.handles="n ne e se s sw w nw")),p.el=t.getEl()):t=p.el=p.target=Ext.get(t):t=p.target=p.el=Ext.get(p.el),p.el.addCls(Ext.Component.prototype.borderBoxCls),Ext.isNumber(p.width)&&(p.width=Ext.Number.constrain(p.width,p.minWidth,p.maxWidth)),Ext.isNumber(p.height)&&(p.height=Ext.Number.constrain(p.height,p.minHeight,p.maxHeight)),null===p.width&&null===p.height||p.target.setSize(p.width,p.height),"TEXTAREA"!==(r=p.el.dom.tagName.toUpperCase())&&"IMG"!==r&&"TABLE"!==r||(p.originalTarget=p.target,h=t.isComponent?t.getEl():t,p.el.addCls(p.wrappedCls),p.target=p.el=p.el.wrap({role:"presentation",cls:p.wrapCls,id:p.el.id+"-rzwrap",style:h.getStyle(["margin-top","margin-bottom"])}),f=h.getPositioning(),p.el.setPositioning(f),h.clearPositioning(),l=h.getBox(),"absolute"!==f.position&&(l.x=0,l.y=0),p.el.setBox(l),h.setStyle("position","absolute"),p.isTargetWrapped=!0),p.el.position(),p.pinned&&p.el.addCls(p.pinnedCls),p.resizeTracker=new Ext.resizer.ResizeTracker({disabled:p.disabled,target:t,el:p.el,constrainTo:p.constrainTo,handleCls:p.handleCls,overCls:p.overCls,throttle:p.throttle,proxy:p.originalTarget?p.el:null,dynamic:!!p.originalTarget||p.dynamic,originalTarget:p.originalTarget,delegate:"."+p.handleCls,preserveRatio:p.preserveRatio,heightIncrement:p.heightIncrement,widthIncrement:p.widthIncrement,minHeight:p.minHeight,maxHeight:p.maxHeight,minWidth:p.minWidth,maxWidth:p.maxWidth}),p.resizeTracker.on({mousedown:p.onBeforeResize,drag:p.onResize,dragend:p.onResizeEnd,scope:p}),"all"===p.handles&&(p.handles="n s e w ne nw se sw"),c=p.handles=p.handles.split(p.delimiterRe),i=p.possiblePositions,o=c.length,n=p.handleCls+" "+p.handleCls+"-{0}",p.target.isComponent&&(n+=" "+(g=p.target.baseCls)+"-handle "+g+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(n+=" "+g+"-handle-{0}-br")),a=0;a<o;a++)(d=c[a])&&i[d]&&((u=p[s=i[d]]=p.el.createChild({id:p.el.id+"-"+s+"-handle",cls:Ext.String.format(n,s)+" "+m,unselectable:"on",role:"presentation"})).region=s,p.transparent&&u.setOpacity(0),u.setTouchAction(p.touchActionMap[d]),x.push(u));p.resizeTracker.handleEls=x},disable:function(){this.disabled=!0,this.resizeTracker.disable()},enable:function(){this.disabled=!1,this.resizeTracker.enable()},onBeforeResize:function(e,t){return this.fireResizeEvent("beforeresize",e,t)},onResize:function(e,t){return this.fireResizeEvent("resizedrag",e,t)},onResizeEnd:function(e,t){return this.fireResizeEvent("resize",e,t)},fireResizeEvent:function(e,t,n){var i;if(this.hasListeners[e])return i=this.el.getBox(),this.fireEvent(e,this,i.width,i.height,n)},resizeTo:function(e,t){this.target.setSize(e,t),this.fireEvent("resize",this,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e,t,n,i=this,r=i.handles,o=r.length,a=i.possiblePositions;for(i.resizeTracker.destroy(),i.isTargetWrapped&&i.target.destroy(),n=0;n<o;n++)(e=i[t=a[r[n]]])&&(e.destroy(),i[t]=null);i.callParent()}}),Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.DataViewModel",alias:"selection.cellmodel",requires:["Ext.grid.CellContext"],isCellModel:!0,deselectOnContainerClick:!1,enableKeyNav:!0,preventWrap:!1,bindComponent:function(e){var t,n=this;n.view&&n.gridListeners&&n.gridListeners.destroy(),n.callParent([e]),e&&!1!==(t=e.grid||e.ownerCt).optimizedColumnMove&&(n.gridListeners=t.on({columnmove:n.onColumnMove,scope:n,destroyable:!0}))},getViewListeners:function(){var e=this.callParent();return e.refresh=this.onViewRefresh,e},getHeaderCt:function(){var e=this.navigationModel.getPosition();return(e?e.view:this.primaryView).headerCt},onNavigate:function(e){e.record&&!e.keyEvent.stopSelection&&this.setPosition(e.position)},selectWithEvent:function(e,t){this.select(e)},select:function(e,t,n){var i,r=this.getPosition(),o=this.view.store;(e||0===e)&&(e.isModel?e=-1!==(i=o.indexOf(e))?{row:i,column:r?r.column:0}:null:"number"==typeof e&&(e={row:e,column:0})),e?this.selectByPosition(e,n):this.deselect()},getCurrentPosition:function(){var e=this.selecting?this.nextSelection:this.selection;return e?{view:e.view,record:e.record,row:e.rowIdx,columnHeader:e.column,column:e.view.getColumnManager().indexOf(e.column)}:e},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(e,t,n){return e&&!e.isCellContext&&(e=new Ext.grid.CellContext(this.view).setPosition({row:e.row,column:"number"==typeof e.column?this.view.getColumnManager().getColumns()[e.column]:e.column})),this.setPosition(e,t,n)},setPosition:function(e,t,n){var i=this,r=i.selection;return e&&(e=e.isCellContext?e.clone():new Ext.grid.CellContext(i.view).setPosition(e)),!n&&r&&(e&&e.record===r.record&&e.column===r.column&&e.view===r.view?e=null:i.onCellDeselect(i.selection,t)),e?(i.nextSelection=e,i.selecting=!0,i.onCellSelect(i.nextSelection,t),i.selecting=!1,i.selection=e):null},isCellSelected:function(e,t,n){var i,r=this.getPosition();if(r&&r.view===e)return(i=new Ext.grid.CellContext(e).setPosition({row:t,column:"number"==typeof n?e.getColumnManager().getColumns()[n]:n})).record===r.record&&i.column===r.column},onStoreRemove:function(e,t,n){var i=this.getPosition();this.callParent(arguments),i&&e.isMoving(i.record)||(i&&e.getCount()&&-1!==e.indexOf(i.record)?i.setRow(i.record):this.selection=null)},onStoreClear:function(){this.callParent(arguments),this.selection=null},onStoreAdd:function(){var e=this.getPosition();this.callParent(arguments),e?e.setRow(e.record):this.selection=null},updateSelectedInstances:function(e){var t=this.getPosition(),n=e.getAt(0);n&&t&&t.record.id===n.id&&t.setRow(n),this.callParent([e])},onCellClick:function(e,t,n,i,r,o,a){-1!==o&&this.setPosition(a.position)},onCellSelect:function(e,t){e&&void 0!==e.rowIdx&&e.rowIdx>-1&&this.doSelect(e.record,!1,t)},onCellDeselect:function(e,t){e&&void 0!==e.rowIdx&&this.doDeselect(e.record,t)},onSelectChange:function(e,t,n,i){var r,o,a,s=this;t?(r=s.nextSelection,o="select"):(r=s.selection,o="deselect"),a=r.view||s.primaryView,!1!==(n||s.fireEvent("before"+o,s,e,r.rowIdx,r.colIdx))&&!1!==i()&&(t?a.onCellSelect(r):(a.onCellDeselect(r),delete s.selection),n||s.fireEvent(o,s,e,r.rowIdx,r.colIdx))},refresh:function(){var e,t=this.getPosition();t&&-1!==(e=this.store.indexOf(this.selected.last()))&&(t.rowIdx=e)},onColumnMove:function(e,t,n,i){var r=e.up("tablepanel");r&&this.onViewRefresh(r.view)},onUpdate:function(e){var t,n=this;n.isSelected(e)&&(t=n.selecting?n.nextSelection:n.selection,n.view.onCellSelect(t))},onViewRefresh:function(e){var t,n,i,r=this.getPosition(),o=e.headerCt;r&&r.view===e&&(n=r.record,(i=e.getColumnByPosition(r)).isDescendantOf(o)||(i=o.queryById(i.id)||o.down('[text="'+i.text+'"]')||o.down('[dataIndex="'+i.dataIndex+'"]')),r.record?i&&-1!==e.store.indexOfId(n.getId())&&(t=new Ext.grid.CellContext(e).setPosition({row:n,column:i}),this.setPosition(t)):this.selection=null)},selectByPosition:function(e,t){this.setPosition(e,t)}}),Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.DataViewModel",alias:"selection.rowmodel",requires:["Ext.grid.CellContext"],enableKeyNav:!0,isRowModel:!0,deselectOnContainerClick:!1,onUpdate:function(e){var t,n=this.view;n&&this.isSelected(e)&&(t=n.indexOf(e),n.onRowSelect(t),e===this.lastFocused&&n.onRowFocus(t,!0))},onSelectChange:function(e,t,n,i){var r,o,a=this,s=a.views||[a.view],l=s.length,d=a.store.indexOf(e),c=t?"select":"deselect";if(!1!==(n||a.fireEvent("before"+c,a,e,d))&&!1!==i()){for(r=0;r<l;r++)d=(o=s[r]).indexOf(e),-1!==o.indexOf(e)&&(t?o.onRowSelect(d,n):o.onRowDeselect(d,n));n||a.fireEvent(c,a,e,d)}},getCurrentPosition:function(){var e=this.selected.getAt(0);if(e)return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(e),0)},selectByPosition:function(e,t){e.isCellContext||(e=new Ext.grid.CellContext(this.view).setPosition(e.row,e.column)),this.select(e.record,t)},selectNext:function(e,t){var n,i=this.store,r=this.getSelection(),o=r[r.length-1],a=this.view.indexOf(o)+1;return a===i.getCount()||0===a?n=!1:(this.doSelect(a,e,t),n=!0),n},selectPrevious:function(e,t){var n,i=this.getSelection()[0],r=this.view.indexOf(i)-1;return r<0?n=!1:(this.doSelect(r,e,t),n=!0),n},isRowSelected:function(e){return this.isSelected(e)},isCellSelected:function(e,t,n){return this.isSelected(t)},vetoSelection:function(e){var t=this.view.getNavigationModel(),n=e.getKey();return(n===e.RIGHT||n===e.LEFT)&&t.previousRecord===t.record||this.callParent([e])}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",requires:["Ext.grid.column.Check"],mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,headerText:void 0,headerAriaLabel:"Row selector",headerSelectText:"Press Space to select all rows",headerDeselectText:"Press Space to deselect all rows",rowSelectText:"Press Space to select this row",rowDeselectText:"Press Space to deselect this row",allowDeselect:!0,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",tdCls:Ext.baseCSSPrefix+"grid-cell-special "+Ext.baseCSSPrefix+"selmodel-column",constructor:function(){this.callParent(arguments),"SINGLE"===this.mode&&(this.showHeaderCheckbox&&Ext.Error.raise("The header checkbox is not supported for SINGLE mode selection models."),this.showHeaderCheckbox=!1)},beforeViewRender:function(e){var t,n=this,i=e.grid.ownerLockable;n.callParent(arguments),!1!==n.injectCheckbox&&(i&&!n.lockListeners&&(n.lockListeners=i.mon(i,{lockcolumn:n.onColumnLock,unlockcolumn:n.onColumnUnlock,scope:n,destroyable:!0})),(!i||e.isLockedView&&n.hasLockedHeader()||e.isNormalView&&!n.column)&&(n.addCheckbox(e),t=e.ownerCt,e.headerCt.lockedCt&&(t=t.ownerCt),n.mon(e.ownerGrid,{beforereconfigure:n.onBeforeReconfigure,reconfigure:n.onReconfigure,scope:n})))},onColumnUnlock:function(e,t){var n=this.injectCheckbox,i=e.lockedGrid.visibleColumnManager.getColumns();1===i.length&&i[0]===this.column&&("first"===n?n=0:"last"===n&&(n=e.normalGrid.visibleColumnManager.getColumns().length),e.unlock(this.column,n))},onColumnLock:function(e,t){var n=this.injectCheckbox;1===e.lockedGrid.visibleColumnManager.getColumns().length&&("first"===n?n=0:"last"===n&&(n=e.lockedGrid.visibleColumnManager.getColumns().length),e.lock(this.column,n))},bindComponent:function(e){this.sortable=!1,this.callParent(arguments)},hasLockedHeader:function(){var e,t=this.view.ownerGrid.getVisibleColumnManager().getColumns(),n=t.length;for(e=0;e<n;e++)if(t[e].locked)return!0;return!1},addCheckbox:function(e){var t=this,n=t.injectCheckbox,i=e.headerCt;!1!==n&&("first"===n?n=0:"last"===n&&(n=i.getColumnCount()),Ext.suspendLayouts(),e.getStore().isBufferedStore&&(t.showHeaderCheckbox=!1),t.column=i.add(n,t.column||t.getHeaderConfig()),Ext.resumeLayouts())},onBeforeReconfigure:function(e,t,n,i,r){var o=this.column,a=o.ownerCt;n&&a&&a.remove(o,!1)},onReconfigure:function(e,t,n){n&&(e.lockable?e.lockedGrid.isVisible()?e.lock(this.column,0):e.unlock(this.column,0):this.addCheckbox(this.view),e.view.refreshView())},onHeaderClick:function(e,t,n){var i,r,o,a,s,l=this,d=l.store;l.column;if(!1!==l.showHeaderCheckbox&&t===l.column&&"SINGLE"!==l.mode)if(n.stopEvent(),t.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on")){for(i=[],r=0,o=(a=this.getSelection()).length;r<o;++r)s=a[r],d.indexOf(s)>-1&&i.push(s);i.length>0&&l.deselect(i)}else l.selectAll()},getHeaderConfig:function(){var e,t=this,n=!1!==t.showHeaderCheckbox,i=Ext.String.htmlEncode;return e={xtype:"checkcolumn",headerCheckbox:n,isCheckerHd:n,ignoreExport:!0,text:t.headerText,width:t.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,checkOnly:t.checkOnly,checkboxAriaRole:"presentation",tdCls:t.tdCls,cls:Ext.baseCSSPrefix+"selmodel-column",editRenderer:t.editRenderer||t.renderEmpty,locked:t.hasLockedHeader(),processEvent:t.processColumnEvent,toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:t.isRowSelected.bind(t)},t.checkOnly?(e.useAriaElements=!0,e.ariaLabel=i(t.headerAriaLabel),e.headerSelectText=i(t.headerSelectText),e.headerDeselectText=i(t.headerDeselectText),e.rowSelectText=i(t.rowSelectText),e.rowDeselectText=i(t.rowDeselectText)):(e.tabIndex=void 0,e.ariaRole="presentation",e.focusable=!1,e.cellFocusable=!1),e},processColumnEvent:function(e,t,n,i,r,o,a,s){var l=t.getNavigationModel();("keydown"===o.type&&t.actionableMode&&o.getKey()===o.SPACE||!this.checkOnly&&o.type===this.triggerEvent)&&l.fireEvent("navigate",{view:t,navigationModel:l,keyEvent:o,position:o.position,recordIndex:i,record:a,item:o.item,cell:o.position.cellElement,columnIndex:o.position.colIdx,column:o.position.column})},toggleRecord:function(e,t,n,i){this[n?"select":"deselect"]([e],"SINGLE"!==this.mode)},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments),this.updateHeaderState()},selectByPosition:function(e,t){e.isCellContext||(e=new Ext.grid.CellContext(this.view).setPosition(e.row,e.column)),this.checkOnly&&e.column!==this.column||this.callParent([e,t])},onSelectChange:function(e,t){var n=this;n.callParent(arguments),n.column&&n.column.updateCellAriaDescription(e,t),n.suspendChange||n.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments),this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments),this.updateHeaderState()},maybeFireSelectionChange:function(e){e&&!this.suspendChange&&this.updateHeaderState(),this.callParent(arguments)},resumeChanges:function(){this.callParent(),this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var e,t,n,i=this.store,r=i.getCount(),o=this.views,a=!1,s=0;if(!i.isBufferedStore&&r>0){for(a=!0,n=0,t=(e=this.selected).getCount();n<t;++n)i.indexOfId(e.getAt(n).id)>-1&&++s;a=r===s}o&&o.length&&this.column.setHeaderStatus(a)},vetoSelection:function(e){var t,n,i,r=this.column;return this.checkOnly&&(n=e.type===r.triggerEvent&&e.getTarget(this.column.getCellSelector()),i=e.getKey()===e.SPACE&&e.position.column===r,t=!(n||i)),t||this.callParent([e])},privates:{onBeforeNavigate:function(e){var t=e.keyEvent;"SINGLE"!==this.selectionMode&&(e.ctrlKey=e.ctrlKey||t.ctrlKey||t.type===this.column.triggerEvent&&!t.shiftKey||t.getKey()===t.SPACE)},selectWithEventMulti:function(e,t,n){t.shiftKey||t.ctrlKey||!t.getTarget(this.column.getCellSelector())?this.callParent([e,t,n]):n?this.doDeselect(e):this.doSelect(e,!0)}}},function(e){e.prototype.checkSelector="."+Ext.grid.column.Check.prototype.checkboxCls}),Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",selectOnExpanderClick:!1,constructor:function(e){this.callParent([e]),this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},getStoreListeners:function(){var e=this.callParent();return e.noderemove=this.onNodeRemove,e},onNodeRemove:function(e,t,n){if(!n){var i=[];this.gatherSelected(t,i),i.length&&this.deselect(i)}},pruneRemovedOnRefresh:function(){return this.pruneRemovedNodes},vetoSelection:function(e){var t=this.view;return!this.selectOnExpanderClick&&"click"===e.type&&e.getTarget(t.expanderSelector||t.lockingPartner&&t.lockingPartner.expanderSelector)||this.callParent([e])},privates:{gatherSelected:function(e,t){var n,i,r,o=e.childNodes;if(this.selected.containsKey(e.id)&&t.push(e),o)for(n=0,i=o.length;n<i;++n)r=o[n],this.gatherSelected(r,t)}}}),Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],overCls:Ext.baseCSSPrefix+"slider-thumb-over",constructor:function(e){Ext.apply(this,e||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),this.callParent([e])},render:function(){this.el=this.slider.innerEl.insertFirst(this.getElConfig()),this.onRender()},onRender:function(){var e=this,t={};t[e.slider.vertical?"panY":"panX"]=!1,e.el.setTouchAction(t),e.disabled&&e.disable(),e.initEvents()},getElConfig:function(){var e=this.slider,t={};return t[e.vertical?"bottom":e.horizontalProp]=e.calculateThumbPosition(e.normalizeValue(this.value))+"%",{style:t,id:this.id,cls:this.cls,role:"presentation"}},move:function(e,t){var n,i,r,o=this,a=o.el,s=o.slider,l=s.vertical?"bottom":s.horizontalProp;e+="%",t?((n={})[l]=e,Ext.supports.GetPositionPercentage||((i={})[l]=a.dom.style[l]),r={target:a,duration:350,from:i,to:n,scope:o,callback:o.onAnimComplete},!0!==t&&Ext.apply(r,t),o.anim=new Ext.fx.Anim(r)):a.dom.style[l]=e},onAnimComplete:function(){this.anim=null},enable:function(){var e=this.el;this.disabled=!1,e&&e.removeCls(this.slider.disabledCls)},disable:function(){var e=this.el;this.disabled=!0,e&&e.addCls(this.slider.disabledCls)},initEvents:function(){var e=this;e.tracker=new Ext.dd.DragTracker({el:e.el,onBeforeStart:e.onBeforeDragStart.bind(e),onStart:e.onDragStart.bind(e),onDrag:e.onDrag.bind(e),onEnd:e.onDragEnd.bind(e),tolerance:3,autoStart:300}),e.el.hover(e.addOverCls,e.removeOverCls,e)},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},onBeforeDragStart:function(e){var t=this,n=t.el,i=t.tracker.getXY(),r=t.pointerOffset=n.getXY();return!t.disabled&&(r[0]+=Math.floor(n.getWidth()/2)-i[0],r[1]+=Math.floor(n.getHeight()/2)-i[1],t.slider.promoteThumb(t),!0)},onDragStart:function(e){var t=this,n=t.slider;n.onDragStart(t,e),t.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=t.slider.dragging=!0,t.dragStartValue=t.value,n.fireEvent("dragstart",n,e,t)},onDrag:function(e){var t,n,i=this,r=i.slider,o=i.index,a=i.getValueFromTracker();void 0!==a&&(i.constrain&&(t=r.thumbs[o+1],void 0!==(n=r.thumbs[o-1])&&a<=n.value&&(a=n.value),void 0!==t&&a>=t.value&&(a=t.value)),r.setValue(o,a,!1),r.fireEvent("drag",r,e,i))},getValueFromTracker:function(){var e,t=this.slider,n=this.tracker.getXY();if(n[0]+=this.pointerOffset[0],n[1]+=this.pointerOffset[1],void 0!==(e=t.getTrackpoint(n)))return t.reversePixelValue(e)},onDragEnd:function(e){var t=this,n=t.slider,i=t.value;n.onDragEnd(t,e),t.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=n.dragging=!1,n.fireEvent("dragend",n,e),t.dragStartValue!==i&&n.fireEvent("changecomplete",n,i,t)},destroy:function(){var e=this,t=this.anim;t&&t.end(),e.el=e.tracker=e.anim=Ext.destroy(e.el,e.tracker),e.callParent()}}),Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(e){var t,n,i=this;switch(i.position||(i.position=e.vertical?i.defaultVerticalPosition:i.defaultHorizontalPosition),i.position){case"top":n=[0,-10],t="b-t?";break;case"bottom":n=[0,10],t="t-b?";break;case"left":n=[-10,0],t="r-l?";break;case"right":n=[10,0],t="l-r?"}i.align||(i.align=t),i.offsets||(i.offsets=n),e.on({scope:i,dragstart:i.onSlide,drag:i.onSlide,dragend:i.hide,destroy:i.destroy})},onSlide:function(e,t,n){var i=this;i.update(i.getText(n)),i.show(),i.el.alignTo(n.el,i.align,i.offsets)},getText:function(e){return String(e.value)}}),Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template"],vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,pageSize:10,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,useTips:!0,tipText:null,defaultBindProperty:"values",ariaRole:"slider",focusable:!0,needArrowKeys:!0,tabIndex:0,skipLabelForAttribute:!0,focusCls:"slider-focus",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" {inputAttrTpl}',' class="',Ext.baseCSSPrefix,"slider {fieldCls} {vertical}",'{childElCls}"','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',">",'<div id="{cmpId}-endEl" data-ref="endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" data-ref="innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(e,t){for(var n,i=t.$comp,r=0,o=i.thumbs,a=o.length;r<a;r++)(n=o[r].getElConfig()).id=i.id+"-thumb-"+r,Ext.DomHelper.generateMarkup(n,e)},disableFormats:!0}],horizontalProp:"left",initValue:function(){var e=this,t=Ext.valueFrom,n=t(e.values,[t(e.value,t(e.minValue,0))]),i=0,r=n.length;for(e.originalValue=n;i<r;i++)e.addThumb(e.normalizeValue(n[i]))},initComponent:function(){var e,t,n,i,r,o=this,a=o.tipText;if(o.thumbs=[],o.keyIncrement=Math.max(o.increment,o.keyIncrement),o.extraFieldBodyCls=Ext.baseCSSPrefix+"slider-ct-"+(o.vertical?"vert":"horz"),o.callParent(),o.useTips){for(e={},Ext.isObject(o.useTips)?Ext.apply(e,o.useTips):a&&(e.getText=a),"string"==typeof(a=e.getText)&&(e.getText=function(e){return Ext.callback(a,null,[e],0,o,o)}),i=(r=o.plugins=o.plugins||[]).length,n=0;n<i;n++)if(r[n].isSliderTip){t=!0;break}t||o.plugins.push(new Ext.slider.Tip(e))}},addThumb:function(e){var t=this,n=new Ext.slider.Thumb({ownerCt:t,value:e,slider:t,index:t.thumbs.length,constrain:t.constrainThumbs,disabled:!!t.readOnly});return t.thumbs.push(n),t.rendered&&n.render(),n},promoteThumb:function(e){var t,n=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),i=n.length,r=1e4;for(n[0]!==e&&(Ext.Array.remove(n,e),n.unshift(e)),t=0;t<i;t++)n[t].el.setStyle("zIndex",r),r-=1e3},getSubTplData:function(e){var t,n,i=this;return(n=(t=Ext.apply(i.callParent([e]),{$comp:i,vertical:i.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:i.minValue,maxValue:i.maxValue,value:i.value,tabIdx:i.tabIndex,childElCls:""})).inputElAriaAttributes)&&(n["aria-labelledby"]||(n["aria-labelledby"]=i.id+"-labelEl"),n["aria-orientation"]=i.vertical?"vertical":"horizontal",n["aria-valuemin"]=i.minValue,n["aria-valuemax"]=i.maxValue,n["aria-valuenow"]=i.value),t},onRender:function(){var e,t=this.thumbs,n=t.length,i=0;for(this.callParent(arguments),i=0;i<n;i++)(e=t[i]).el=this.el.getById(this.id+"-thumb-"+i),e.onRender()},initEvents:function(){var e=this;e.callParent(),e.mon(e.el,{scope:e,mousedown:e.onMouseDown,keydown:e.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(e){var t,n,i,r=this.vertical,o=this.innerEl;return r?(i="top",t=o.getHeight()):(i=this.horizontalProp,t=o.getWidth()),e=this.transformTrackPoints(o.translatePoints(e)),n=Ext.Number.constrain(e[i],0,t),r?t-n:n},transformTrackPoints:Ext.identityFn,checkChange:Ext.emptyFn,onMouseDown:function(e){var t,n=this,i=!1,r=0,o=n.thumbs,a=o.length;if(!n.disabled){for(;!i&&r<a;r++)i=i||e.target===o[r].el.dom;n.focus(),n.clickToChange&&!i&&void 0!==(t=n.getTrackpoint(e.getXY()))&&n.onClickChange(t)}},onClickChange:function(e){var t,n;(t=this.getNearest(e)).disabled||(n=t.index,this.setValue(n,Ext.util.Format.round(this.reversePixelValue(e),this.decimalPrecision),void 0,!0))},getNearest:function(e){for(var t,n,i,r=this.reversePixelValue(e),o=this.getRange()+5,a=null,s=0,l=this.thumbs.length;s<l;s++)if(n=(t=this.thumbs[s]).value,i=Math.abs(n-r),Math.abs(i)<=o){if(a&&a.value==n&&n>r&&t.index>a.index)continue;a=t,o=i}return a},onKeyDown:function(e){var t,n,i=this,r=i.ariaEl.dom;if(t=e.getKey(),i.disabled||1!==i.thumbs.length)t!==e.TAB&&e.preventDefault();else{switch(t){case e.UP:case e.RIGHT:n=e.ctrlKey?i.maxValue:i.getValue(0)+i.keyIncrement;break;case e.DOWN:case e.LEFT:n=e.ctrlKey?i.minValue:i.getValue(0)-i.keyIncrement;break;case e.HOME:n=i.minValue;break;case e.END:n=i.maxValue;break;case e.PAGE_UP:n=i.getValue(0)+i.pageSize;break;case e.PAGE_DOWN:n=i.getValue(0)-i.pageSize}void 0!==n&&(e.stopEvent(),n=i.normalizeValue(n),i.setValue(0,n,void 0,!0),r&&r.setAttribute("aria-valuenow",n))}},normalizeValue:function(e){var t=this,n=t.zeroBasedSnapping?"snap":"snapInRange";return e=Ext.Number[n](e,t.increment,t.minValue,t.maxValue),e=Ext.util.Format.round(e,t.decimalPrecision),e=Ext.Number.constrain(e,t.minValue,t.maxValue)},setMinValue:function(e){var t,n=this,i=n.thumbs,r=i.length,o=n.ariaEl.dom;for(n.minValue=e,t=0;t<r;++t)i[t].value<e&&n.setValue(t,e,!1);o&&o.setAttribute("aria-valuemin",e),n.syncThumbs()},setMaxValue:function(e){var t,n=this,i=n.thumbs,r=i.length,o=n.ariaEl.dom;for(n.maxValue=e,t=0;t<r;++t)i[t].value>e&&n.setValue(t,e,!1);o&&o.setAttribute("aria-valuemax",e),n.syncThumbs()},setValue:function(e,t,n,i){var r,o,a,s,l=this,d=l.thumbs,c=l.ariaEl.dom;if(Ext.isArray(e)){for(n=t,a=0,o=(s=e).length;a<o;++a)(r=d[a])&&l.setValue(a,s[a],n);return l}return r=l.thumbs[e],(t=l.normalizeValue(t))!==r.value&&!1!==l.fireEvent("beforechange",l,t,r.value,r)&&(r.value=t,l.rendered&&(n=Ext.isDefined(n)?!1!==n&&n:l.animate,r.move(l.calculateThumbPosition(t),n),0===e&&c&&c.setAttribute("aria-valuenow",t),l.fireEvent("change",l,t,r),l.checkDirty(),i&&l.fireEvent("changecomplete",l,t,r))),l},calculateThumbPosition:function(e){var t=(e-this.minValue)/this.getRange()*100;return isNaN(t)&&(t=0),t},getRatio:function(){var e=this.innerEl,t=this.vertical?e.getHeight():e.getWidth(),n=this.getRange();return 0===n?t:t/n},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(e){return this.minValue+e/this.getRatio()},reversePercentageValue:function(e){return this.minValue+this.getRange()*(e/100)},onDisable:function(){var e,t,n,i=this,r=0,o=i.thumbs,a=o.length;for(i.callParent();r<a;r++)t=(e=o[r]).el,e.disable(),Ext.isIE&&(n=t.getXY(),t.hide(),i.innerEl.addCls(i.disabledCls).dom.disabled=!0,i.thumbHolder||(i.thumbHolder=i.endEl.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"slider-thumb "+i.disabledCls})),i.thumbHolder.show().setXY(n))},onEnable:function(){var e,t,n=this,i=0,r=n.thumbs,o=r.length;for(this.callParent();i<o;i++)t=(e=r[i]).el,e.enable(),Ext.isIE&&(n.innerEl.removeCls(n.disabledCls).dom.disabled=!1,n.thumbHolder&&n.thumbHolder.hide(),t.show(),n.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var e=this.thumbs,t=e.length,n=0;n<t;n++)e[n].move(this.calculateThumbPosition(e[n].value))},getValue:function(e){return Ext.isNumber(e)?this.thumbs[e].value:this.getValues()},getValues:function(){for(var e=[],t=0,n=this.thumbs,i=n.length;t<i;t++)e.push(n[t].value);return e},getSubmitValue:function(){return this.disabled||!this.submitValue?null:this.getValue()},reset:function(){for(var e,t=[].concat(this.originalValue),n=0,i=t.length;n<i;n++)e=t[n],this.setValue(n,e);this.clearInvalid(),delete this.wasValid},setReadOnly:function(e){var t=this.thumbs,n=t.length,i=0;for(this.callParent(arguments),e=this.readOnly;i<n;++i)e?t[i].disable():t[i].enable()},doDestroy:function(){this.rendered&&Ext.destroy(this.thumbs),this.callParent()}}),Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],defaultBindProperty:"value",initComponent:function(){this.publishOnComplete&&(this.valuePublishEvent="changecomplete"),this.callParent()},publishOnComplete:!0,getValue:function(){return this.callParent([0])},setValue:function(e,t){var n=arguments,i=n.length;return(1===i||i<=3&&"number"!=typeof n[1])&&(n=Ext.toArray(n)).unshift(0),this.callParent(n)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.slider.Widget",{extend:"Ext.Widget",alias:"widget.sliderwidget",requires:["Ext.slider.Multi"],cachedConfig:{vertical:!1},config:{clickToChange:!0,ui:"widget",value:0,minValue:0,maxValue:100,publishOnComplete:!0,twoWayBindable:{value:1}},decimalPrecision:0,defaultBindProperty:"value",element:{reference:"element",cls:Ext.baseCSSPrefix+"slider",listeners:{mousedown:"onMouseDown",dragstart:"cancelDrag",drag:"cancelDrag",dragend:"cancelDrag"},children:[{reference:"endEl",cls:Ext.baseCSSPrefix+"slider-end",children:[{reference:"innerEl",cls:Ext.baseCSSPrefix+"slider-inner"}]}]},thumbCls:Ext.baseCSSPrefix+"slider-thumb",horizontalProp:"left",animateOnSetValue:void 0,applyValue:function(e){var t,n,i=this,r=i.animateOnSetValue;if(Ext.isArray(e))for(t=0,n=(e=Ext.Array.from(e)).length;t<n;++t)i.setThumbValue(t,e[t]=i.normalizeValue(e[t]),r,!0);else e=i.normalizeValue(e),i.setThumbValue(0,e,r,!0);return e},updateVertical:function(e,t){this.element.removeCls(Ext.baseCSSPrefix+"slider-"+(t?"vert":"horz")),this.element.addCls(Ext.baseCSSPrefix+"slider-"+(e?"vert":"horz"))},updateHeight:function(e,t){this.callParent([e,t]),this.endEl.dom.style.height=this.innerEl.dom.style.height="100%"},cancelDrag:function(e){e.stopPropagation()},getThumb:function(e){var t,n=this,i=(n.thumbs||(n.thumbs=[]))[e],r=n.getVertical()?"panY":"panX",o={};return i||((t={cls:n.thumbCls,style:{}})["data-thumbIndex"]=e,i=n.thumbs[e]=n.innerEl.createChild(t),o[r]=!1,i.setTouchAction(o)),i},getThumbPositionStyle:function(){return this.getVertical()?"bottom":this.horizontalProp},update:function(){var e,t=this.getValue(),n=t.length;for(e=0;e<n;e++)this.thumbs[e].dom.style[this.getThumbPositionStyle()]=this.calculateThumbPosition(t[e])+"%"},updateMaxValue:function(e){this.onRangeAdjustment(e,"min")},updateMinValue:function(e){this.onRangeAdjustment(e,"max")},onRangeAdjustment:function(e,t){var n,i=this._value;isNaN(i)||(n=Math[t](i,e)),void 0!==n&&this.setValue(n)},onMouseDown:function(e){var t,n,i=this,r=e.getXY();i.disabled||0!==e.button||(Ext.getDoc().on({scope:i,capture:!0,selectstart:i.stopSelect}),(t=e.getTarget("."+i.thumbCls,null,!0))?(i.animateOnSetValue=!1,i.promoteThumb(t),i.captureMouse(i.onMouseMove,i.onMouseUp,[t],1),(n=i.pointerOffset=t.getXY())[0]+=Math.floor(t.getWidth()/2)-r[0],n[1]+=Math.floor(t.getHeight()/2)-r[1]):i.getClickToChange()&&null!=(r=i.getTrackpoint(r))&&i.onClickChange(r))},onClickChange:function(e){var t,n,i,r=this;t=r.getNearest(e),n=parseInt(t.getAttribute("data-thumbIndex"),10),i=Ext.util.Format.round(r.reversePixelValue(e),r.decimalPrecision),n?r.setThumbValue(n,i,void 0,!0):r.setValue(i)},getNearest:function(e){for(var t,n,i,r=this,o=r.reversePixelValue(e),a=r.getRange()+5,s=null,l=r.thumbs,d=0,c=l.length;d<c;d++)t=l[d],n=r.reversePercentageValue(parseInt(t.dom.style[r.getThumbPositionStyle()],10)),i=Math.abs(n-o),Math.abs(i)<=a&&(s=t,a=i);return s},promoteThumb:function(e){var t,n=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),i=n.length,r=1e4;for(n[0]!==e&&(Ext.Array.remove(n,e),n.unshift(e)),t=0;t<i;t++)n[t].el.setStyle("zIndex",r),r-=1e3},doMouseMove:function(e,t,n){var i,r,o,a=this,s=e.getXY();s[0]+=a.pointerOffset[0],s[1]+=a.pointerOffset[1],(o=a.getTrackpoint(s))&&(i=a.reversePixelValue(o),(r=parseInt(t.getAttribute("data-thumbIndex"),10))||!n&&a.getPublishOnComplete()?a.setThumbValue(r,i,!1,n):a.setValue(i))},onMouseMove:function(e,t){this.doMouseMove(e,t,!1)},onMouseUp:function(e,t){this.doMouseMove(e,t,!0),Ext.getDoc().un({scope:this,capture:!0,selectstart:this.stopSelect}),delete this.animateOnSetValue},stopSelect:function(e){return e.stopEvent(),!1},setThumbValue:function(e,t,n,i){var r,o,a,s,l,d=this;if(Ext.isArray(e)){for(n=t,s=0,a=(l=e).length;s<a;++s)d.setThumbValue(s,l[s],n,i);return d}return r=d.getThumb(e),o=d.reversePercentageValue(parseInt(r.dom.style[d.getThumbPositionStyle()],10)),(t=d.normalizeValue(t))!==o&&!1!==d.fireEvent("beforechange",d,t,o,r)&&d.element.dom&&(d.element.set({"aria-valuenow":t,"aria-valuetext":t}),d.moveThumb(r,d.calculateThumbPosition(t),Ext.isDefined(n)?!1!==n:d.animate),d.fireEvent("change",d,t,r)),d},getValue:function(e){var t;return Ext.isNumber(e)?(t=this.thumbs[e].dom.style[this.getThumbPositionStyle()],t=this.reversePercentageValue(parseInt(t,10))):1===(t=this.getValues()).length&&(t=t[0]),t},getValues:function(){for(var e=[],t=0,n=this.thumbs.length;t<n;t++)e.push(this.reversePercentageValue(parseInt(this.thumbs[t].dom.style[this.getThumbPositionStyle()],10)));return e},moveThumb:function(e,t,n){var i,r,o=this.getThumbPositionStyle();t+="%",n?((i={})[o]=t,Ext.supports.GetPositionPercentage||((r={})[o]=e.dom.style[o]),new Ext.fx.Anim({target:e,duration:350,from:r,to:i})):e.dom.style[o]=t},normalizeValue:function(e){var t=this,n=t.zeroBasedSnapping?"snap":"snapInRange";return e=Ext.Number[n](e,t.increment,t.minValue,t.maxValue),e=Ext.util.Format.round(e,t.decimalPrecision),e=Ext.Number.constrain(e,t.minValue,t.maxValue)},getTrackpoint:function(e){var t,n,i,r=this.getVertical(),o=this.innerEl;return r?(i="top",t=o.getHeight()):(i=this.horizontalProp,t=o.getWidth()),e=this.transformTrackPoints(o.translatePoints(e)),n=Ext.Number.constrain(e[i],0,t),r?t-n:n},transformTrackPoints:Ext.identityFn,calculateThumbPosition:function(e){var t=(e-this.getMinValue())/this.getRange()*100;return isNaN(t)&&(t=0),t},getRatio:function(){var e=this.innerEl,t=this.getVertical()?e.getHeight():e.getWidth(),n=this.getRange();return 0===n?t:t/n},getRange:function(){return this.getMaxValue()-this.getMinValue()},reversePixelValue:function(e){return this.getMinValue()+e/this.getRatio()},reversePercentageValue:function(e){return this.getMinValue()+this.getRange()*(e/100)},captureMouse:function(e,t,n,i){var r,o=this;e=e&&Ext.Function.bind(e,o,n,i),t=t&&Ext.Function.bind(t,o,n,i),r={mousemove:e,mouseup:function(){Ext.getDoc().un(r),t&&t.apply(o,arguments)}},Ext.getDoc().on(r)}}),Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(e){var t=this;t.path="/",t.expires=new Date(Ext.Date.now()+6048e5),t.domain=null,t.secure=!1,t.callParent(arguments),t.state=t.readCookies()},set:function(e,t){void 0!==t&&null!==t?(this.setCookie(e,t),this.callParent(arguments)):this.clear(e)},clear:function(e){this.clearCookie(e),this.callParent(arguments)},readCookies:function(){for(var e,t,n,i={},r=document.cookie+";",o=/\s?(.*?)=(.*?);/g,a=this.prefix,s=a.length;null!=(e=o.exec(r));)t=e[1],n=e[2],t&&t.substring(0,s)===a&&(i[t.substr(s)]=this.decodeValue(n));return i},setCookie:function(e,t){var n=this;document.cookie=n.prefix+e+"="+n.encodeValue(t)+(null==n.expires?"":"; expires="+n.expires.toUTCString())+(null==n.path?"":"; path="+n.path)+(null==n.domain?"":"; domain="+n.domain)+(n.secure?"; secure":"")},clearCookie:function(e){var t=this;document.cookie=t.prefix+e+"=null; expires=Thu, 01-Jan-1970 00:00:01 GMT"+(null==t.path?"":"; path="+t.path)+(null==t.domain?"":"; domain="+t.domain)+(t.secure?"; secure":"")}}),Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",requires:["Ext.util.LocalStorage"],alias:"state.localstorage",constructor:function(){var e=this;e.callParent(arguments),e.store=e.getStorageObject(),e.store?e.state=e.readLocalStorage():e.state={}},readLocalStorage:function(){for(var e,t=this.store,n={},i=t.getKeys(),r=i.length;r--;)n[e=i[r]]=this.decodeValue(t.getItem(e));return n},set:function(e,t){this.clear(e),null!=t&&(this.store.setItem(e,this.encodeValue(t)),this.callParent(arguments))},clear:function(e){this.store.removeItem(e),this.callParent(arguments)},getStorageObject:function(){var e=this.prefix,t=e,n=t.length-1;return"-"===t.charAt(n)&&(t=t.substring(0,n)),new Ext.util.LocalStorage({id:t,prefix:e})}}),Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",closeElPressedCls:Ext.baseCSSPrefix+"tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:!0,closeText:"removable",active:!1,childEls:["closeEl"],scale:!1,ariaRole:"tab",tabIndex:-1,keyMap:{scope:"this",DELETE:"onDeleteKey"},_btnWrapCls:Ext.baseCSSPrefix+"tab-wrap",_btnCls:Ext.baseCSSPrefix+"tab-button",_baseIconCls:Ext.baseCSSPrefix+"tab-icon-el",_glyphCls:Ext.baseCSSPrefix+"tab-glyph",_innerCls:Ext.baseCSSPrefix+"tab-inner",_textCls:Ext.baseCSSPrefix+"tab-text",_noTextCls:Ext.baseCSSPrefix+"tab-no-text",_hasIconCls:Ext.baseCSSPrefix+"tab-icon",_activeCls:Ext.baseCSSPrefix+"tab-active",_closableCls:Ext.baseCSSPrefix+"tab-closable",overCls:Ext.baseCSSPrefix+"tab-over",_pressedCls:Ext.baseCSSPrefix+"tab-pressed",_disabledCls:Ext.baseCSSPrefix+"tab-disabled",_rotateClasses:{1:Ext.baseCSSPrefix+"tab-rotate-right",2:Ext.baseCSSPrefix+"tab-rotate-left"},_positions:{top:{default:"top",0:"top",1:"left",2:"right"},right:{default:"top",0:"right",1:"top",2:"bottom"},bottom:{default:"bottom",0:"bottom",1:"right",2:"left"},left:{default:"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){var e=this;e.closable&&Ext.ariaWarn(e,"Closable tabs can be confusing to users relying on Assistive Technologies such as Screen Readers, and are not recommended in accessible applications. Please consider setting "+e.title+" tab ("+e.id+") to closable: false."),e.card&&e.setCard(e.card),e.callParent(arguments)},getActualRotation:function(){var e=this.getRotation();return"default"!==e?e:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var e=this,t=e._rotateClasses,n=e.getTabPosition(),i=e.getActualRotation(),r=e._rotateCls,o=e._rotateCls=t[i],a=e._positionCls,s=e._positionCls=e._positions[n][i];r!==o&&(r&&e.removeCls(r),o&&e.addCls(o)),a!==s&&(a&&e.removeClsWithUI(a),s&&e.addClsWithUI(s),e.rendered&&e.updateFrame()),e.rendered&&e.setElOrientation()},onAdded:function(e,t,n){this.callParent([e,t,n]),this.syncRotationAndPosition()},getTemplateArgs:function(){var e=this.callParent();return e.closable=this.closable,e.closeText=this.closeText,e},beforeRender:function(){var e=this,t=e.up("tabbar"),n=e.up("tabpanel");e.callParent(),e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.active?(e.ariaRenderAttributes["aria-selected"]=!0,e.addCls(e._activeCls)):e.ariaRenderAttributes["aria-selected"]=!1,e.syncClosableCls(),e.minWidth||(e.minWidth=t?t.minTabWidth:e.minWidth,!e.minWidth&&n&&(e.minWidth=n.minTabWidth),e.minWidth&&e.iconCls&&(e.minWidth+=25)),e.maxWidth||(e.maxWidth=t?t.maxTabWidth:e.maxWidth,!e.maxWidth&&n&&(e.maxWidth=n.maxTabWidth))},onRender:function(){var e=this;e.setElOrientation(),e.callParent(arguments),e.closable&&(e.closeEl.addClsOnOver(e.closeElOverCls),e.closeEl.addClsOnClick(e.closeElPressedCls))},setElOrientation:function(){var e=this.getActualRotation(),t=this.el;e?t.setVertical(1===e?90:270):t.setHorizontal()},enable:function(e){return this.callParent(arguments),this.removeCls(this._disabledCls),this},disable:function(e){return this.callParent(arguments),this.addCls(this._disabledCls),this},setClosable:function(e){var t=this;e=!arguments.length||!!e,t.closable!==e&&(t.closable=e,t.card&&(t.card.closable=e),t.syncClosableCls(),t.rendered&&(t.syncClosableElements(),t.updateLayout()))},syncClosableElements:function(){var e=this,t=e.closeEl;e.closable?(t||(t=e.closeEl=e.btnWrap.insertSibling({tag:"span",id:e.id+"-closeEl",cls:e.baseCls+"-close-btn",html:e.closeText},"after")),t.addClsOnOver(e.closeElOverCls),t.addClsOnClick(e.closeElPressedCls)):t&&(t.destroy(),delete e.closeEl)},syncClosableCls:function(){var e=this._closableCls;this.closable?this.addCls(e):this.removeCls(e)},setCard:function(e){var t=this;t.card=e,e.iconAlign&&t.setIconAlign(e.iconAlign),e.textAlign&&t.setTextAlign(e.textAlign),t.setText(t.title||e.title),t.setIconCls(t.iconCls||e.iconCls),t.setIcon(t.icon||e.icon),t.setGlyph(t.glyph||e.glyph)},onCloseClick:function(){var e=this;if(!1!==e.fireEvent("beforeclose",e))if(e.tabBar){if(!1===e.tabBar.closeTab(e))return}else e.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){if(this.tabBar)return this.tabBar.onClick(e,this.el),e.stopEvent(),!1},onDeleteKey:function(e){if(this.closable)return this.onCloseClick(),e.stopEvent(),!1},beforeClick:function(e){e||this.focus()},activate:function(e){var t=this,n=t.card,i=t.ariaEl.dom;t.active=!0,t.addCls(t._activeCls),i?i.setAttribute("aria-selected",!0):(t.ariaRenderAttributes=t.ariaRenderAttributes||{},t.ariaRenderAttributes["aria-selected"]=!0),n&&(n.ariaEl.dom?n.ariaEl.dom.setAttribute("aria-expanded",!0):(n.ariaRenderAttributes=n.ariaRenderAttributes||{},n.ariaRenderAttributes["aria-expanded"]=!0)),!0!==e&&t.fireEvent("activate",t)},deactivate:function(e){var t=this,n=t.card,i=t.ariaEl.dom;t.active=!1,t.removeCls(t._activeCls),i?i.setAttribute("aria-selected",!1):(t.ariaRenderAttributes=t.ariaRenderAttributes||{},t.ariaRenderAttributes["aria-selected"]=!1),n&&(n.ariaEl.dom?n.ariaEl.dom.setAttribute("aria-expanded",!1):(n.ariaRenderAttributes=n.ariaRenderAttributes||{},n.ariaRenderAttributes["aria-expanded"]=!1)),!0!==e&&t.fireEvent("deactivate",t)},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(e){Ext.Button.superclass.wrapPrimaryEl.call(this,e)}}}),Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Bar",xtype:"tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab","Ext.util.Point","Ext.layout.component.Body"],mixins:["Ext.util.FocusableContainer"],componentLayout:"body",isTabBar:!0,config:{tabRotation:"default",tabStretchMax:!0,activateOnFocus:!0},defaultType:"tab",plain:!1,ensureActiveVisibleOnChange:!0,ariaRole:"tablist",childEls:["body","strip"],_stripCls:Ext.baseCSSPrefix+"tab-bar-strip",_baseBodyCls:Ext.baseCSSPrefix+"tab-bar-body",renderTpl:'<tpl if="hasTabGuard">{% this.renderTabGuard(out, values, \'before\'); %}</tpl><div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>{%this.renderContainer(out,values)%}</div><tpl if="hasTabGuard">{% this.renderTabGuard(out, values, \'after\'); %}</tpl><div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"></div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var e=this,t=e.initialConfig.layout,n=t&&t.align,i=t&&t.overflowHandler;e.plain&&e.addCls(e.baseCls+"-plain"),e.callParent(),e.setLayout({align:n||(e.getTabStretchMax()?"stretchmax":e._layoutAlign[e.dock]),overflowHandler:i||"scroller"}),e.on({click:e.onClick,element:"el",scope:e})},ensureTabVisible:function(e){var t=this,n=t.tabPanel,i=t.layout.overflowHandler;t.rendered&&i&&t.tooNarrow&&i.scrollToItem&&((e||0===e)&&(e.isTab||(Ext.isNumber(e)?e=this.items.getAt(e):e.isComponent&&n&&n.items.contains(e)&&(e=e.tab))),e||(e=t.activeTab),e&&i.scrollToItem(e))},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{bodyCls:e.bodyCls,baseBodyCls:e._baseBodyCls,bodyTargetCls:e.bodyTargetCls,stripCls:e._stripCls,dock:e.dock})},setDock:function(e){var t,n,i,r=this,o=r.items,a=r.ownerCt;if(o=o&&o.items)for(n=0,i=o.length;n<i;n++)(t=o[n]).isTab&&t.setTabPosition(e);r.rendered&&(r.resetItemMargins(),a&&a.isHeader&&a.resetItemMargins(),r.needsScroll=!0),r.callParent([e])},updateTabRotation:function(e){var t,n,i,r=this,o=r.items;if(o=o&&o.items)for(t=0,n=o.length;t<n;t++)(i=o[t]).isTab&&i.setRotation(e);r.rendered&&(r.resetItemMargins(),r.needsScroll=!0,r.updateLayout())},onRender:function(){var e=this,t=this.layout.overflowHandler;e.callParent(),Ext.isIE8&&e.vertical&&e.el.on({mousemove:e.onMouseMove,scope:e}),t&&"menu"===t.type&&t.menu.on("click","onOverflowMenuItemClick",e)},afterLayout:function(){this.adjustTabPositions(),this.callParent(arguments)},onAdd:function(e,t){var n=this.onTabContentChange;this.ensureActiveVisibleOnChange&&(e.barListeners=e.on({scope:this,destroyable:!0,glyphchange:n,iconchange:n,textchange:n})),this.callParent([e,t])},onAdded:function(e,t,n){e.isHeader&&this.addCls(e.baseCls+"-"+e.ui+"-tab-bar"),this.callParent([e,t,n])},onRemove:function(e,t){this.ensureActiveVisibleOnChange&&(t||e.barListeners.destroy(),e.barListeners=null),e===this.previousTab&&(this.previousTab=null),this.callParent([e,t])},onRemoved:function(e){var t=this.ownerCt;t.isHeader&&this.removeCls(t.baseCls+"-"+t.ui+"-tab-bar"),this.callParent([e])},onTabContentChange:function(e){e===this.activeTab&&this.ensureTabVisible(e)},afterComponentLayout:function(e){var t=this,n=t.needsScroll,i=t.layout.overflowHandler;t.callParent(arguments),i&&n&&t.tooNarrow&&i.scrollToItem&&i.scrollToItem(t.activeTab),delete t.needsScroll},onMouseMove:function(e){var t,n=this,i=n._overTab;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(t=n.getTabInfoFromPoint(e.getXY()).tab)!==i&&(i&&i.rendered&&(i.onMouseLeave(e),n._overTab=null),t?(t.onMouseEnter(e),n._overTab=t,t.disabled||n.el.setStyle("cursor","pointer")):n.el.setStyle("cursor","default"))},onMouseLeave:function(e){var t=this._overTab;t&&t.rendered&&t.onMouseLeave(e)},getTabInfoFromPoint:function(e){for(var t,n,i,r,o,a,s,l,d,c,u,h,f,g,p,m=this,x=m.items.items,E=x.length,v=m.layout.innerCt,y=v.getXY(),b=new Ext.util.Point(e[0],e[1]),C=0;C<E;C++)if((t=(p=x[C]).lastBox)&&p.isTab&&(d=y[0]+t.x,c=y[1]-v.dom.scrollTop+t.y,u=t.width,h=t.height,new Ext.util.Region(c,d+u,c+h,d).contains(b))){(n=p.closeEl)&&(void 0===m._isTabReversed&&(m._isTabReversed=f=-1!==p.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),g=f?this._reverseDockNames[m.dock]:m.dock,s=n.getWidth(),l=n.getHeight(),o=(r=m.getCloseXY(n,d,c,u,h,s,l,g))[0],a=r[1],i=new Ext.util.Region(a,o+s,a+l,o).contains(b));break}return{tab:p,close:i}},getCloseXY:function(e,t,n,i,r,o,a,s){var l,d,c=e.getXY();return"right"===s?(l=t+i-(c[1]-n+a),d=n+(c[0]-t)):(l=t+(c[1]-n),d=n+t+r-c[0]-o),[l,d]},closeTab:function(e){var t,n=this,i=e.card,r=n.tabPanel;if(i&&!1===i.fireEvent("beforeclose",i))return!1;if(t=n.findNextActivatable(e),Ext.suspendLayouts(),t&&(r?r.setActiveTab(t.card):n.setActiveTab(t),t.focus()),r&&i){if(delete e.ownerCt,i.fireEvent("close",i),r.remove(i),i.ownerCt===r)return e.ownerCt=n,Ext.resumeLayouts(!0),!1;e.fireClose(),n.remove(e)}Ext.resumeLayouts(!0)},findNextActivatable:function(e){var t,n=this.previousTab;return e.active&&this.items.getCount()>1&&(t=n&&n!==e&&!n.disabled?n:e.next("tab[disabled=false]")||e.prev("tab[disabled=false]")),t||this.activeTab},setActiveTab:function(e,t){var n=this;e.disabled||e===n.activeTab||(n.activeTab&&(n.activeTab.destroyed?n.previousTab=null:(n.previousTab=n.activeTab,n.activeTab.deactivate(),n.deactivateFocusable(n.activeTab))),e.activate(),n.activateFocusable(e),n.activeTab=e,n.needsScroll=!0,t||(n.fireEvent("change",n,e,e.card),n.updateLayout()))},privates:{adjustTabPositions:function(){var e,t,n,i,r,o=this.items.items,a=o.length;if(!Ext.isIE8)for(r=this._getTabAdjustProp();a--;)n=(e=o[a]).el,t=e.lastBox,1===(i=e.isTab?e.getActualRotation():0)&&e.isVisible()?n.setStyle(r,t.x+t.width+"px"):2===i&&e.isVisible()&&n.setStyle(r,t.x-t.height+"px")},applyTargetCls:function(e){this.bodyTargetCls=e},_getTabAdjustProp:function(){return"left"},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(e,t){var n,i,r,o;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(Ext.isIE8&&this.vertical?(i=(o=this.getTabInfoFromPoint(e.getXY())).tab,r=o.close):r=(i=(n=e.getTarget("."+Ext.tab.Tab.prototype.baseCls))&&Ext.getCmp(n.id))&&i.closeEl&&t===i.closeEl.dom,r&&e.preventDefault(),i&&i.isDisabled&&!i.isDisabled()&&(i.beforeClick(r),i.closable&&r?i.onCloseClick():this.doActivateTab(i)))},onOverflowMenuItemClick:function(e,t,n,i){var r=t&&t.masterComponent,o=this.layout.overflowHandler;r&&!r.isDisabled()&&(this.doActivateTab(r),o.menuTrigger&&o.menuTrigger.focus())},doActivateTab:function(e){var t=this.tabPanel;t?e.disabled||t.setActiveTab(e.card):this.setActiveTab(e)},onFocusableContainerFocus:function(e){var t;(t=this.mixins.focusablecontainer.onFocusableContainerFocus.call(this,e))&&t.isTab&&this.doActivateTab(t)},onFocusableContainerFocusEnter:function(e){var t;(t=this.mixins.focusablecontainer.onFocusableContainerFocusEnter.call(this,e))&&t.isTab&&this.doActivateTab(t)},focusChild:function(e,t){var n;n=this.mixins.focusablecontainer.focusChild.call(this,e,t),this.activateOnFocus&&n&&n.isTab&&this.doActivateTab(n)}}}),Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],config:{tabBar:void 0,tabPosition:"top",tabRotation:"default",tabStretchMax:!0},removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var e,t=this,n=null!==t.activeTab?t.activeTab||0:null,i=t.dockedItems,r=t.header,o=t.tabBarHeaderPosition,a=t.getTabBar();t.layout=new Ext.layout.container.Card(Ext.apply({owner:t,deferredRender:t.deferredRender,itemCls:t.itemCls,activeItem:n},t.layout)),null!=o?(e=(r=t.header=Ext.apply({},r)).items=r.items?r.items.slice():[],r.itemPosition=o,e.push(a),r.hasTabBar=!0):((i=[].concat(t.dockedItems||[])).push(a),t.dockedItems=i),t.callParent(arguments),(n=t.activeTab=t.getComponent(n))&&a.setActiveTab(n.tab,!0)},onRender:function(){var e,t=this.items.items,n=t.length;for(this.callParent(arguments),e=0;e<n;++e)t[e].getBind()},setActiveTab:function(e){var t,n=this;return Ext.isObject(e)&&!e.isComponent||(e=n.getComponent(e)),t=n.getActiveTab(),e?(Ext.suspendLayouts(),e.isComponent||(e=n.add(e)),t===e||!1===n.fireEvent("beforetabchange",n,e,t)?(Ext.resumeLayouts(!0),t):(n.activeTab=e,n.layout.setActiveItem(e),(e=n.activeTab=n.layout.getActiveItem())&&e!==t?(n.tabBar.setActiveTab(e.tab),Ext.resumeLayouts(!0),t!==e&&n.fireEvent("tabchange",n,e,t)):Ext.resumeLayouts(!0),e)):t},setActiveItem:function(e){return this.setActiveTab(e)},getActiveTab:function(){var e=this,t=e.getComponent(e.activeTab);return t&&-1!==e.items.indexOf(t)?e.activeTab=t:e.activeTab=void 0,e.activeTab},applyTabBar:function(e){var t=this,n=null!=t.tabBarHeaderPosition?t.getHeaderPosition():t.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:t.ui,dock:n,tabRotation:t.getTabRotation(),vertical:"left"===n||"right"===n,plain:t.plain,tabStretchMax:t.getTabStretchMax(),tabPanel:t},e))},updateHeaderPosition:function(e,t){var n=this.getTabBar();n&&null!=this.tabBarHeaderPosition&&n.setDock(e),this.callParent([e,t])},updateTabPosition:function(e){var t=this.getTabBar();t&&null==this.tabBarHeaderPosition&&t.setDock(e)},updateTabRotation:function(e){var t=this.getTabBar();t&&t.setTabRotation(e)},onAdd:function(e,t){var n,i=this,r=Ext.apply({},e.tabConfig),o=i.getTabBar(),a={xtype:"tab",title:e.title,icon:e.icon,iconCls:e.iconCls,glyph:e.glyph,ui:o.ui,card:e,disabled:e.disabled,closable:e.closable,hidden:e.hidden&&!e.hiddenByLayout,tooltip:e.tooltip,tabBar:o,tabPosition:o.dock,rotation:o.getTabRotation()};void 0!==e.closeText&&(a.closeText=e.closeText),r=Ext.applyIf(r,a),e.tab=i.tabBar.insert(t,r),e.ariaRole="tabpanel",(n=e.ariaEl.dom)?n.setAttribute("aria-labelledby",e.tab.id):(e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-labelledby"]=e.tab.id),e.on({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow,iconchange:i.onItemIconChange,iconclschange:i.onItemIconClsChange,glyphchange:i.onItemGlyphChange,titlechange:i.onItemTitleChange}),e.isPanel&&(i.removePanelHeader&&(e.rendered?e.header&&e.header.hide():e.header=!1),e.isPanel&&i.border&&e.setBorder(!1)),i.rendered&&e.getBind(),i.rendered&&i.loader&&void 0===i.activeTab&&null!==i.layout.activeItem&&i.setActiveTab(0)},onMove:function(e,t,n){var i=this.getTabBar();this.callParent([e,t,n]),i.items.indexOf(e.tab)!==n&&i.move(e.tab,n)},onItemEnable:function(e){e.tab.enable()},onItemDisable:function(e){e.tab.disable()},onItemBeforeShow:function(e){if(e!==this.activeTab)return this.setActiveTab(e),!1},onItemGlyphChange:function(e,t){e.tab.setGlyph(t)},onItemIconChange:function(e,t){e.tab.setIcon(t)},onItemIconClsChange:function(e,t){e.tab.setIconCls(t)},onItemTitleChange:function(e,t){e.tab.setText(t)},onRemove:function(e,t){var n=this;e.un({scope:n,enable:n.onItemEnable,disable:n.onItemDisable,beforeshow:n.onItemBeforeShow,iconchange:n.onItemIconChange,iconclschange:n.onItemIconClsChange,glyphchange:n.onItemGlyphChange,titlechange:n.onItemTitleChange}),e.tab&&!n.destroying&&e.tab.ownerCt===n.tabBar&&n.tabBar.remove(e.tab)},enable:function(){var e=this,t=null!==e.activeTab?e.activeTab||0:null,n=e.disabled;e.callParent(arguments),n&&(t=t.isComponent?t:e.getComponent(t))&&e.getTabBar().setActiveTab(t.tab)},privates:{doRemove:function(e,t){var n,i=this;i.removingAll||i.destroying||1===i.items.getCount()?i.activeTab=null:e.tab&&-1!==(n=i.tabBar.items.indexOf(i.tabBar.findNextActivatable(e.tab)))&&i.setActiveTab(n),i.callParent([e,t]),e.tab&&(delete e.tab.card,delete e.tab)}}}),Ext.define("Ext.toolbar.Breadcrumb",{extend:"Ext.Container",xtype:"breadcrumb",requires:["Ext.data.TreeStore","Ext.button.Split"],mixins:["Ext.util.FocusableContainer"],isBreadcrumb:!0,baseCls:Ext.baseCSSPrefix+"breadcrumb",layout:{type:"hbox",align:"middle"},config:{buttonUI:"plain-toolbar",displayField:"text",overflowHandler:null,showIcons:null,showMenuIcons:null,store:null,useSplitButtons:!0},renderConfig:{selection:"root"},publishes:["selection"],twoWayBindable:["selection"],_breadcrumbCls:Ext.baseCSSPrefix+"breadcrumb",_btnCls:Ext.baseCSSPrefix+"breadcrumb-btn",_folderIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-folder",_leafIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-leaf",initComponent:function(){var e=this,t=e.layout,n=e.getOverflowHandler();"string"==typeof t&&(t={type:t}),n&&(t.overflowHandler=n),e.layout=t,e.defaultButtonUI=e.getButtonUI(),e._buttons=[],e.addCls([e._breadcrumbCls,e._breadcrumbCls+"-"+e.ui]),e.callParent()},doDestroy:function(){Ext.destroy(this._buttons),this.setStore(null),this.callParent()},onRemove:function(e,t){this.callParent([e,t]),delete e._breadcrumbNodeId},afterComponentLayout:function(){var e=this.layout.overflowHandler;this.callParent(arguments),e&&this.tooNarrow&&e.scrollToItem&&e.scrollToItem(this.getSelection().get("depth"))},applySelection:function(e){return e=this.getStore()?"root"===e?this.getStore().getRoot():e:null},updateSelection:function(e,t){var n,i,r,o,a,s,l,d,c,u,h,f=this,g=f._buttons,p=[],m=Ext.ComponentQuery.query("[isCrumb]",f.getRefItems()).length,x=f._needsSync,E=f.getDisplayField();if(Ext.suspendLayouts(),e){for(s=e,a=(u=e.get("depth"))+1,h=u;s&&(c=s.getId(),d=g[h],x||!d||d._breadcrumbNodeId!==c);)l=s.get(E),d?d.setText(l):d=g[h]=Ext.create({isCrumb:!0,xtype:f.getUseSplitButtons()?"splitbutton":"button",ui:f.getButtonUI(),cls:f._btnCls+" "+f._btnCls+"-"+f.ui,text:l,showEmptyMenu:!0,menu:{listeners:{click:"_onMenuClick",beforeshow:"_onMenuBeforeShow",scope:this}},handler:"_onButtonClick",scope:f}),!1!==(n=this.getShowIcons())&&(i=s.get("glyph"),o=s.get("icon"),r=s.get("iconCls"),i?(d.setGlyph(i),d.setIcon(null),d.setIconCls(r)):o?(d.setGlyph(null),d.setIconCls(null),d.setIcon(o)):r?(d.setGlyph(null),d.setIcon(null),d.setIconCls(r)):n?(d.setGlyph(null),d.setIcon(null),d.setIconCls((s.isLeaf()?f._leafIconCls:f._folderIconCls)+"-"+f.ui)):(d.setGlyph(null),d.setIcon(null),d.setIconCls(null))),d.setArrowVisible(s.hasChildNodes()),d._breadcrumbNodeId=s.getId(),s=s.parentNode,h--;if(a>m)p=g.slice(m,u+1),f.add(p);else for(h=m-1;h>=a;h--)f.remove(g[h],!1)}else for(h=0;h<g.length;h++)f.remove(g[h],!1);Ext.resumeLayouts(!0),f.fireEvent("selectionchange",f,e,t),f._shouldFireChangeEvent&&f.fireEvent("change",f,e,t),f._shouldFireChangeEvent=!0,f._needsSync=!1},applyUseSplitButtons:function(e,t){return this.rendered&&e!==t&&Ext.raise("Cannot reconfigure 'useSplitButtons' config of Ext.toolbar.Breadcrumb after initial render"),e},applyStore:function(e){return e&&(e=Ext.data.StoreManager.lookup(e)),e},updateStore:function(e,t){this._needsSync=!0,e&&!this.isConfiguring&&this.setSelection(e.getRoot())},updateOverflowHandler:function(e){"menu"===e&&Ext.raise("Using Menu overflow with breadcrumb is not currently supported.")},privates:{_onButtonClick:function(e,t){this.getUseSplitButtons()&&this.setSelection(this.getStore().getNodeById(e._breadcrumbNodeId))},_onMenuClick:function(e,t,n){t&&(t=this.getStore().getNodeById(t._breadcrumbNodeId),this.setSelection(t),(t=this._buttons[t.getDepth()])&&t.focus())},_onMenuBeforeShow:function(e){var t,n,i,r,o,a,s,l,d,c=this,u=c.getStore().getNodeById(e.ownerCmp._breadcrumbNodeId),h=c.getDisplayField(),f=c.getShowMenuIcons();if(!u.hasChildNodes())return!1;for(r=[],o=0,l=(t=u.childNodes).length;o<l;o++)d={text:(n=t[o]).get(h),_breadcrumbNodeId:n.getId()},!1!==f&&(i=n.get("glyph"),a=n.get("icon"),s=n.get("iconCls"),i?(d.glyph=i,d.iconCls=s):a?d.icon=a:s?d.iconCls=s:f&&(d.iconCls=(n.isLeaf()?c._leafIconCls:c._folderIconCls)+"-"+c.ui)),r.push(d);e.removeAll(),e.add(r)}}}),Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",requires:["Ext.toolbar.Toolbar"],alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:!0,flex:1}),Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",requires:["Ext.toolbar.Toolbar"],alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",ariaRole:"presentation"}),Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",customIconCls:Ext.baseCSSPrefix+"tree-icon-custom",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<div class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"></div>',"</tpl>",'<div class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"></div>','<tpl if="checked !== null">','<div role="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"></div>',"</tpl>",'<tpl if="glyph">','<span class="{baseIconCls}" ','<tpl if="glyphFontFamily">','style="font-family:{glyphFontFamily}"',"</tpl>",">{glyph}</span>","<tpl else>",'<tpl if="icon">','<img src="{blankUrl}"',"<tpl else>","<div","</tpl>",' role="presentation" class="{childCls} {baseIconCls} {customIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else><tpl if="expanded">parent-expanded<tpl else>parent</tpl></tpl> {iconCls}" ','<tpl if="icon">style="background-image:url({icon})"/><tpl else>></div></tpl>',"</tpl>",'<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},initComponent:function(){var e=this;e.rendererScope=e.scope,e.setupRenderer(),e.innerRenderer=e.renderer,e.renderer=e.treeRenderer,e.callParent(),e.scope=e,e.hasCustomRenderer=e.innerRenderer&&e.innerRenderer.length>1},treeRenderer:function(e,t,n,i,r,o,a){var s,l=n.get("cls");return t&&l&&(t.tdCls+=" "+l),s=this.initTemplateRendererData(e,t,n,i,r,o,a),this.lookupTpl("cellTpl").apply(s)},initTemplateRendererData:function(e,t,n,i,r,o,a){for(var s,l,d,c=this,u=c.innerRenderer,h=n.data,f=n.parentNode,g=a.rootVisible,p=[];f&&(g||f.data.depth>0);)s=f.data,p[g?s.depth:s.depth-1]=f.isLastVisible()?0:1,f=f.parentNode;return t?t.iconCls=t.icon=t.glyph=null:t={},e=u?u.apply(c.rendererScope,arguments):e,(l=t.glyph||h.glyph)&&(d=(l=Ext.Glyph.fly(l)).fontFamily,l=l.character),{record:n,baseIconCls:c.iconCls,customIconCls:h.icon||h.iconCls?c.customIconCls:"",glyph:l,glyphFontFamily:d,iconCls:t.iconCls||h.iconCls,icon:t.icon||h.icon,checkboxCls:c.checkboxCls,checked:h.checked,elbowCls:c.elbowCls,expanderCls:c.expanderCls,textCls:c.textCls,leaf:h.leaf,expandable:n.isExpandable(),expanded:h.expanded,isLast:n.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:h.href,hrefTarget:h.hrefTarget,lines:p,metaData:t,childCls:c.getChildCls?c.getChildCls()+" ":"",value:e}},shouldUpdateCell:function(e,t){var n,i,r=0;if(this.hasCustomRenderer)return 1;if(t)for(n=t.length;r<n;++r){if(i=t[r],this.rowFields[i])return 1;if(this.uiFields[i])return 2}return this.callParent([e,t])}}),Ext.define("Ext.tree.NavigationModel",{extend:"Ext.grid.NavigationModel",alias:"view.navigation.tree",initKeyNav:function(e){var t=this,n=t.view.ownerGrid.columns;t.isTreeGrid=n&&n.length>1,t.callParent([e]),t.view.grid.on({columnschanged:t.onColumnsChanged,scope:t})},onKeyNavCreate:function(e){var t=this.onAsterisk;e.map.addBinding([{key:"8",shift:!0,handler:t,scope:this},{key:Ext.event.Event.NUM_MULTIPLY,handler:t,scope:this}])},onColumnsChanged:function(){this.isTreeGrid=this.view.ownerGrid.getVisibleColumnManager().getColumns().length>1},onCellClick:function(e,t,n,i,r,o,a){return this.callParent([e,t,n,i,r,o,a]),!a.nodeToggled},onKeyLeft:function(e){var t=e.view,n=this.record;if(this.isTreeGrid&&!e.ctrlKey)return this.callParent([e]);e.position.column.isTreeColumn&&n.isExpanded()?t.collapse(n):!(n=n.parentNode)||n.isRoot()&&!t.rootVisible||this.setPosition(n,null,e)},onKeyRight:function(e){var t=this.record;if(this.isTreeGrid&&!e.ctrlKey)return this.callParent([e]);t.isLeaf()||(e.position.column.isTreeColumn&&!t.isExpanded()?e.view.expand(t):t.isExpanded()&&(t=t.childNodes[0])&&this.setPosition(t))},onKeyEnter:function(e){null!=this.record.data.checked?this.toggleCheck(e):this.callParent([e])},onKeySpace:function(e){null!=this.record.data.checked?this.toggleCheck(e):this.callParent([e])},toggleCheck:function(e){this.view.onCheckChange(e)},onAsterisk:function(e){this.view.ownerGrid.expandAll()}}),Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",config:{selectionModel:{type:"treemodel"}},isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",ariaRole:"treegrid",loadMask:!1,rootVisible:!0,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(e){var t=e.record,n=e.view;e.rowAttr["data-qtip"]=t.get("qtip")||"",e.rowAttr["data-qtitle"]=t.get("qtitle")||"",e.rowAttr["aria-level"]=t.getDepth()+1,t.isLeaf()?e.rowClasses.push(n.leafCls):t.isExpanded()?(e.rowClasses.push(n.expandedCls),e.rowAttr["aria-expanded"]=!0):e.rowAttr["aria-expanded"]=!1,t.isLoading()&&e.rowClasses.push(n.loadingCls)}}],initComponent:function(){var e=this;e.bufferedRenderer?e.animate=!1:void 0===e.initialConfig.animate&&(e.animate=Ext.enableFx),e.store=e.panel.getStore(),e.onRootChange(e.store.getRoot()),e.animQueue={},e.animWraps={},e.callParent(),e.store.setRootVisible(e.rootVisible),e.addRowTpl(e.lookupTpl("treeRowTpl"))},onFillComplete:function(e,t,n){var i=this.store.indexOf(n[0]);t.triggerUIUpdate(),n.length&&-1!==i&&(this.onAdd(this.store,n,i),this.refreshPartner())},refreshPartner:function(){var e=this.lockingPartner;e&&e.refresh()},afterRender:function(){var e=this;e.callParent(),e.el.on({scope:e,delegate:e.expanderSelector,mouseover:e.onExpanderMouseOver,mouseout:e.onExpanderMouseOut})},processUIEvent:function(e){return!e.getTarget("."+this.nodeAnimWrapCls,this.el)&&this.callParent([e])},setRootNode:function(e){this.node=e},getChecked:function(){var e=[];return this.node.cascade(function(t){t.get("checked")&&e.push(t)}),e},isItemChecked:function(e){return e.get("checked")},createAnimWrap:function(e,t){var n,i=this.getNode(e);return{record:e,node:i,el:n=Ext.fly(i).insertSibling({role:"presentation",tag:"div",cls:this.nodeAnimWrapCls},"after"),expanding:!1,collapsing:!1,animateEl:n,targetEl:n}},getAnimWrap:function(e,t){if(!this.animate)return null;var n=this.animWraps,i=n[e.internalId];if(!1!==t)for(;!i&&e;)(e=e.parentNode)&&(i=n[e.internalId]);return i},doAdd:function(e,t){var n,i,r,o,a,s,l=this,d=e[0].parentNode,c=l.all,u=l.getAnimWrap(d);return u&&u.expanding?(s=(a=l.bufferRender(e,t,!0)).children,d=u.record,o=(r=(i=u.targetEl).dom.childNodes).length,n=t-l.indexInStore(d)-1,!o||n>=o?i.appendChild(a.fragment,!0):Ext.fly(r[n]).insertSibling(s,"before",!0),c.insert(t,s),s):l.callParent([e,t])},onRemove:function(e,t,n){var i,r,o,a=this,s=a.hasListeners.remove;if(a.viewReady){if(i=0===a.store.getCount(),a.bufferedRenderer)return a.callParent([e,t,n]);if(s&&(o=this.all.slice(n,n+t.length)),i)a.refresh();else{for(n+=r=t.length-1;r>=0;--r,--n)a.doRemove(t[r],n);a.refreshSizePending=!0}s&&a.fireItemMutationEvent("itemremove",t,n,o,a)}},doRemove:function(e,t){var n=this.all,i=this.getAnimWrap(e),r=n.item(t),o=r?r.dom:null;if(!o||!i||!i.collapsing)return this.callParent([e,t]);i.targetEl.dom.insertBefore(o,i.targetEl.dom.firstChild),n.removeElement(t)},onBeforeExpand:function(e,t,n){var i,r=this;r.rendered&&r.all.getCount()&&r.animate&&r.getNode(e)&&((i=r.getAnimWrap(e,!1))?i.collapsing&&i.targetEl.select(r.itemSelector).destroy():(i=r.animWraps[e.internalId]=r.createAnimWrap(e)).animateEl.setHeight(0),i.expanding=!0,i.collapsing=!1)},onExpand:function(e){var t,n,i,r=this,o=r.animQueue,a=e.getId(),s=r.getNode(e),l=s?r.indexOf(s):-1;if(r.singleExpand&&r.ensureSingleExpand(e),-1!==l){if(!(t=r.getAnimWrap(e,!1)))return e.isExpandingOrCollapsing=!1,void r.fireEvent("afteritemexpand",e,l,s);n=t.animateEl,i=t.targetEl,n.stopAnimation(),o[a]=!0,Ext.on("idle",function(){n.dom.style.height="0px"},null,{single:!0}),n.animate({from:{height:0},to:{height:i.dom.scrollHeight},duration:r.expandDuration,listeners:{afteranimate:function(){var e=i.dom.childNodes,n=Ext.Element.getActiveElement();e.length&&(i.contains(n)||(n=null),t.el.insertSibling(e,"before",!0),n&&Ext.fly(n).focus()),t.el.destroy(),r.animWraps[t.record.internalId]=o[a]=null}},callback:function(){e.isExpandingOrCollapsing=!1,r.destroyed||r.refreshSize(!0),r.fireEvent("afteritemexpand",e,l,s)}})}},onBeforeCollapse:function(e,t,n,i,r){var o,a=this;a.rendered&&a.all.getCount()&&(a.animate?e.isVisible()&&((o=a.getAnimWrap(e))?o.expanding&&o.targetEl.select(this.itemSelector).destroy():o=a.animWraps[e.internalId]=a.createAnimWrap(e,n),o.expanding=!1,o.collapsing=!0,o.callback=i,o.scope=r):(a.onCollapseCallback=i,a.onCollapseScope=r))},onCollapse:function(e){var t,n=this,i=n.animQueue,r=e.getId(),o=n.getNode(e),a=o?n.indexOf(o):-1,s=n.getAnimWrap(e);if(n.all.getCount()&&e.isVisible()){if(!s)return e.isExpandingOrCollapsing=!1,n.fireEvent("afteritemcollapse",e,a,o),Ext.callback(n.onCollapseCallback,n.onCollapseScope),void(n.onCollapseCallback=n.onCollapseScope=null);t=s.animateEl,i[r]=!0,t.stopAnimation(),t.animate({to:{height:0},duration:n.collapseDuration,listeners:{afteranimate:function(){s.el.destroy(),n.animWraps[s.record.internalId]=i[r]=null}},callback:function(){e.isExpandingOrCollapsing=!1,n.destroyed||n.refreshSize(!0),n.fireEvent("afteritemcollapse",e,a,o),Ext.callback(s.callback,s.scope),s.callback=s.scope=null}})}},isAnimating:function(e){return!!this.animQueue[e.getId()]},expand:function(e,t,n,i){var r,o=!!this.animate;if(!o||!e.isExpandingOrCollapsing)return e.isLeaf()||(e.isExpandingOrCollapsing=o),Ext.suspendLayouts(),r=e.expand(t,n,i),Ext.resumeLayouts(!0),r},collapse:function(e,t,n,i){var r=!!this.animate;if(!r||!e.isExpandingOrCollapsing)return e.isLeaf()||(e.isExpandingOrCollapsing=r),e.collapse(t,n,i)},toggle:function(e,t,n,i){e.isExpanded()?this.collapse(e,t,n,i):this.expand(e,t,n,i)},onItemDblClick:function(e,t,n,i){var r=this.editingPlugin;this.callParent([e,t,n,i]),!this.toggleOnDblClick||!e.isExpandable()||r&&2===r.clicksToEdit||this.toggle(e)},onCellClick:function(e,t,n,i,r,o){var a=this,s=o.position.column;if(s.isTreeColumn)return o.getTarget(a.checkboxSelector,e)&&null!=n.get("checked")?(a.onCheckChange(o),s.stopSelection&&(o.stopSelection=!0)):o.getTarget(a.expanderSelector,e)&&n.isExpandable()&&(a.getNavigationModel().setPosition(o.position),a.toggle(n,o.ctrlKey),o.nodeToggled=!0),a.callParent([e,t,n,i,r,o])},onCheckChange:function(e){var t,n=e.record,i=n.get("checked");t=1===i||!i,this.setChecked(n,t,e)},setChecked:function(e,t,n,i){var r,o,a,s,l,d,c,u=this,h=u.checkPropagationFlags[u.ownerGrid.checkPropagation.toLowerCase()],f=e.data.checked,g=!!u.ownerGrid.triStateCheckbox&&1,p=(!i||!1!==i.propagateCheck)&&1&h,m=(!i||!1!==i.checkParent)&&2&h,x=0;if(!1!==u.fireEvent("beforecheckchange",e,f,n)){if(1!==t&&p){for(d=(l=e.childNodes).length,c=0;c<d;c++)u.setChecked(l[c],t,n,{checkParent:!1}),l[c].get("checked")===t&&x++;x!==d&&(t=!!x&&g)}if(e.get("data")!==t&&(e.set("checked",t,i),u.fireEvent("checkchange",e,t,n),m&&(r=e.parentNode)&&null!=(o=r.data.checked))){if(d=(l=r.childNodes).length,t===g)o=g;else if(1===d)o=t;else{for(a=s=!1,c=0;!(a&&s)&c<d;c++)1===l[c].data.checked?a=s=!0:l[c].data.checked?a=!0:s=!0;o=a&&s?g:!!a}u.setChecked(r,o,n,{propagateCheck:!1})}}},onExpanderMouseOver:function(e){e.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e){e.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){return Ext.apply(this.callParent(),{rootchange:this.onRootChange,fillcomplete:this.onFillComplete})},onBindStore:function(e,t,n,i){var r=i&&i.getRootNode(),o=e&&e.getRootNode();this.callParent([e,t,n,i]),o!==r&&this.onRootChange(o,r)},onRootChange:function(e,t){var n=this,i=n.grid;t&&(n.rootListeners.destroy(),n.rootListeners=null),e&&(n.rootListeners=e.on({beforeexpand:n.onBeforeExpand,expand:n.onExpand,beforecollapse:n.onBeforeCollapse,collapse:n.onCollapse,destroyable:!0,scope:n}),i.addRelayers(e))},ensureSingleExpand:function(e){var t=e.parentNode;t&&t.eachChild(function(t){t!==e&&t.isExpanded()&&t.collapse()})},privates:{checkPropagationFlags:{none:0,down:1,up:2,both:3},deferRefreshForLoad:function(e){var t,n,i=this.callParent([e]);return i&&(n=(t=e.lastOptions)&&t.node)&&n!==e.getRoot()&&(i=!1),i}}}),Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore","Ext.tree.NavigationModel"],viewType:"treeview",treeCls:Ext.baseCSSPrefix+"tree-panel",rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,checkPropagation:"none",normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(e){void 0===(e=e||{}).animate&&(e.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){var e,t,n,i=this,r=[i.treeCls];i.useArrows&&(r.push(i.arrowCls),i.lines=!1),i.lines?r.push(i.linesCls):i.useArrows||r.push(i.noLinesCls),(e=i.applyStore(i.store)).getRoot()||e.setRoot({}),e.setRootVisible(i.rootVisible),i.columns||(i.isAutoTree=t=!0),i.viewConfig=Ext.apply({rootVisible:i.rootVisible,animate:i.enableAnimations,singleExpand:i.singleExpand,node:e.getRoot(),navigationModel:"tree",isAutoTree:t},i.viewConfig),t&&(i.addCls(i.autoWidthCls),i.columns=[{xtype:"treecolumn",text:!0===i.hideHeaders?"Name":null,flex:1,dataIndex:i.displayField}]),i.cls&&r.push(i.cls),i.cls=r.join(" "),i.callParent(),n=i.getView(),i.relayEvents(n,["beforecheckchange","checkchange","afteritemexpand","afteritemcollapse"])},applyStore:function(e){var t=this;return Ext.isString(e)?e=t.store=Ext.StoreMgr.lookup(e):e&&e.isStore?t.root&&((e=t.store=Ext.data.StoreManager.lookup(e)).setRoot(t.root),void 0!==t.folderSort&&(e.folderSort=t.folderSort,e.sort())):(e=Ext.apply({type:"tree",proxy:"memory"},e),t.root&&(e.root=t.root),t.fields?e.fields=t.fields:t.model&&(e.model=t.model),t.folderSort&&(e.folderSort=t.folderSort),e=t.store=Ext.StoreMgr.lookup(e)),e},setRoot:function(e){this.store.setRoot(e)},setStore:function(e){var t=this;(e=t.applyStore(e)).getRoot()||e.setRoot({}),e.setRootVisible(t.rootVisible),t.enableLocking?t.reconfigure(e):(t.view&&t.view.setRootNode(e.getRootNode()),t.bindStore(e))},bindStore:function(e,t){var n=this,i=e.getRoot();n.callParent(arguments),e.singleExpand=n.singleExpand,n.storeListeners=n.mon(e,{destroyable:!0,rootchange:n.onRootChange,scope:n}),n.storeRelayers=n.relayEvents(e,["beforeload","load"]),n.rootVisible||e.autoLoad||i.isExpanded()||i.isLoading()||(i.isLoaded()?(i.data.expanded=!0,e.onNodeExpand(i,i.childNodes)):!1===e.autoLoad||e.hasPendingLoad()||(i.data.expanded=!1,i.expand())),e.ownerTree=n,t||n.view.setRootNode(i)},addRelayers:function(e){var t=this;t.rootRelayers&&(t.rootRelayers.destroy(),t.rootRelayers=null),t.rootRelayers=t.mon(e,{destroyable:!0,append:t.createRelayer("itemappend"),remove:t.createRelayer("itemremove"),move:t.createRelayer("itemmove",[0,4]),insert:t.createRelayer("iteminsert"),beforeappend:t.createRelayer("beforeitemappend"),beforeremove:t.createRelayer("beforeitemremove"),beforemove:t.createRelayer("beforeitemmove"),beforeinsert:t.createRelayer("beforeiteminsert"),expand:t.createRelayer("itemexpand",[0,1]),collapse:t.createRelayer("itemcollapse",[0,1]),beforeexpand:t.createRelayer("beforeitemexpand",[0,1]),beforecollapse:t.createRelayer("beforeitemcollapse",[0,1]),scope:t})},unbindStore:function(){var e=this,t=e.store;t&&(e.callParent(),Ext.destroy(e.storeListeners,e.storeRelayers,e.rootRelayers),delete t.ownerTree,t.singleExpand=null)},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(e){this.view.setRootNode(e)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(e){return e.get("checked")},expandNode:function(e,t,n,i){return this.getView().expand(e,t,n,i||this)},collapseNode:function(e,t,n,i){return this.getView().collapse(e,t,n,i||this)},expandAll:function(e,t){var n=this.getRootNode();n&&(Ext.suspendLayouts(),n.expand(!0,e,t||this),Ext.resumeLayouts(!0))},collapseAll:function(e,t){var n=this.getRootNode(),i=this.getView();n&&(Ext.suspendLayouts(),t=t||this,i.rootVisible?n.collapse(!0,e,t):n.collapseChildren(!0,e,t),Ext.resumeLayouts(!0))},expandPath:function(e,t){var n,i,r,o,a,s,l,d,c,u=arguments,h=this,f=h.view,g=t&&t.field||h.store.model.idProperty,p=t&&t.separator||"/";return t&&"object"==typeof t?(g=t.field||h.store.model.idProperty,p=t.separator||"/",r=t.callback,o=t.scope,n=t.select,i=t.focus):(g=u[1]||h.store.model.idProperty,p=u[2]||"/",r=u[3],o=u[4]),Ext.isEmpty(e)?Ext.callback(r,o||h,[!1,null]):((d=!(l=e.split(p))[0])?(a=h.getRootNode(),s=1):(a=h.store.findNode(g,l[0]),s=0),!a||d&&a.get(g)+""!==l[1]?Ext.callback(r,o||h,[!1,a]):(c=function(e){var t,a,d,u=this;if(++s===l.length)return n&&f.getSelectionModel().select(u),i&&f.getNavigationModel().setPosition(u,0),Ext.callback(r,o||h,[!0,u,f.getNode(u)]);for(a=0,t=e?e.length:0;a<t;a++)if(((d=(u=e[a]).get(g))||0===d)&&(d=d.toString()),d===l[s])return u.expand(!1,c);u=this,Ext.callback(r,o||h,[!1,u,f.getNode(u)])},void a.expand(!1,c)))},ensureVisible:function(e,t){if(e.isEntity||"number"==typeof e)return this.callParent([e,t]);var n,i,r,o,a,s,l,d=this,c=t&&t.field||d.store.model.idProperty,u=t&&t.separator||"/",h=function(e,r,o,s){!s&&e&&r&&(s=r.findChild(c,a)),s?d.doEnsureVisible(s,t):Ext.callback(n,i||d,[!1,r])};t&&(n=t.callback,i=t.scope),o=!(r=e.split(u))[0],a=r.pop(),!r.length||o&&1===r.length?(s=d.store.findNode(c,a))?((l=s.parentNode)&&!l.isExpanded()&&l.expand(),h(!0,null,0,s)):Ext.callback(n,i||d,[!1,null]):d.expandPath(r.join(u),c,u,h)},selectPath:function(e,t,n,i,r){this.ensureVisible(e,{field:t,separator:n,select:!0,callback:i,scope:r})}}),Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:!1,constructor:function(e){var t,n,i,r=this;Ext.apply(r,e),r.ddGroup||(r.ddGroup="view-dd-zone-"+r.view.id),(t=r.view).setItemsDraggable(!0),i=(n=t.ownerCt)?n.getTargetEl().dom:t.el.dom.parentNode,r.callParent([i]),r.ddel=document.createElement("div"),r.ddel.className=Ext.baseCSSPrefix+"grid-dd-wrap"},init:function(e,t,n){var i=this,r={itemmousedown:i.onItemMouseDown,scope:i};Ext.supports.Touch&&(r.itemlongpress=i.onItemLongPress,r.contextmenu={element:"el",fn:i.onViewContextMenu}),i.initTarget(e,t,n),i.view.mon(i.view,r)},onValidDrop:function(e,t,n){this.callParent([e,t,n]),e.el.contains(Ext.Element.getActiveElement())||e.el.focus()},onViewContextMenu:function(e){"mouse"!==e.pointerType&&e.preventDefault()},onItemMouseDown:function(e,t,n,i,r){"mouse"===r.pointerType&&this.onTriggerGesture(e,t,n,i,r)},onItemLongPress:function(e,t,n,i,r){"mouse"!==r.pointerType&&this.onTriggerGesture(e,t,n,i,r)},onTriggerGesture:function(e,t,n,i,r){var o;"touch"===r.pointerType&&"longpress"!==r.type||r.position&&r.position.isEqual(r.view.actionPosition)||this.isPreventDrag(r,t,n,i)||(o=e.getNavigationModel(),r.position?o.setPosition(r.position):o.setPosition(i),this.handleMouseDown(r))},isPreventDrag:function(e,t,n,i){return!!e.isInputFieldEvent},getDragData:function(e){var t=this.view,n=e.getTarget(t.getItemSelector());if(n)return{copy:t.copy||t.allowCopy&&e.ctrlKey,event:e,view:t,ddel:this.ddel,item:n,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(n).getXY()}},onInitDrag:function(e,t){var n=this,i=n.dragData,r=i.view,o=r.getSelectionModel(),a=r.getRecord(i.item);return o.isSelected(a)||o.selectWithEvent(a,n.DDMInstance.mousedownEvent),i.records=o.getSelection(),Ext.fly(n.ddel).setHtml(n.getDragText()),n.proxy.update(n.ddel),n.onStartDrag(e,t),!0},getDragText:function(){var e=this.dragData.records.length;return Ext.String.format(this.dragText,e,1===e?"":"s")},getRepairXY:function(e,t){return!!t&&t.fromPosition}}),Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(e,t){return!1===t.get("allowDrag")||!!e.getTarget(this.view.expanderSelector)},getDragText:function(){var e=this.dragData.records,t=e.length,n=e[0].get(this.displayField),i="s",r=this.dragText;return/\{\d+\}/.test(r)&&1===t&&n?n:(n||(i=""),Ext.String.format(r,t,i))},afterRepair:function(){var e,t,n=this,i=n.view,r=i.selectedItemCls,o=n.dragData.records,a=o.length,s=Ext.fly;if(Ext.enableFx&&n.repairHighlight)for(e=0;e<a;e++)t=i.getNode(o[e]),s(t.firstChild).highlight(n.repairHighlightColor,{listeners:{beforeanimate:function(){i.isSelected(t)&&s(t).removeCls(r)},afteranimate:function(){i.isSelected(t)&&s(t).addCls(r)}}});n.dragging=!1}}),Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(e){var t=this.view;this.expandProcId=!1,e.isLeaf()||e.isExpanded()||(t.expand(e),this.expandProcId=!1)},queueExpand:function(e){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[e])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(e,t){var n,i=this.view.getRecord(t),r=e.getY(),o=i.isLeaf(),a=!1,s=Ext.fly(t).getRegion();return i.isRoot()?"append":this.appendOnly?!o&&"append":(this.allowParentInserts||(a=i.hasChildNodes()&&i.isExpanded()),n=(s.bottom-s.top)/(o?2:3),r>=s.top&&r<s.top+n?"before":!a&&(o||r>=s.bottom-n&&r<=s.bottom)?"after":"append")},isValidDropPoint:function(e,t,n,i,r){if(!e||!r.item)return!1;var o,a,s=this.view,l=s.getRecord(e),d=r.records,c=d.length,u=d.length;if(!(l&&t&&c))return!1;for(o=0;o<u;o++)if((a=d[o]).isNode&&a.contains(l))return!1;return("append"!==t||!1!==l.get("allowDrop"))&&(("append"===t||!1!==l.parentNode.get("allowDrop"))&&(!Ext.Array.contains(d,l)&&!1!==s.fireEvent("nodedragover",l,t,r,i)))},onNodeOver:function(e,t,n,i){var r=this.getPosition(n,e),o=this.dropNotAllowed,a=this.view,s=a.getRecord(e),l=this.getIndicator(),d=0;return this.cancelExpand(),"append"!==r||this.expandProcId||Ext.Array.contains(i.records,s)||s.isLeaf()||s.isExpanded()||this.queueExpand(s),this.isValidDropPoint(e,r,t,n,i)?(this.valid=!0,this.currentPosition=r,this.overRecord=s,l.setWidth(Ext.fly(e).getWidth()),d=Ext.fly(e).getY()-Ext.fly(a.el).getY()-1,"before"===r?(o=s.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",l.showAt(0,d),t.proxy.show()):"after"===r?(o=s.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",d+=Ext.fly(e).getHeight(),l.showAt(0,d),t.proxy.show()):(o=Ext.baseCSSPrefix+"tree-drop-ok-append",l.hide())):this.valid=!1,this.currentCls=o,o},onNodeOut:function(e,t,n,i){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(e,t,n){return this.allowContainerDrops?this.dropAllowed:t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},onContainerDrop:function(e,t,n){this.allowContainerDrops&&(this.valid=!0,this.currentPosition="append",this.overRecord=this.view.store.getRoot(),this.onNodeDrop(this.overRecord,e,t,n))},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(e,t,n){var i,r,o,a,s,l,d,c,u=this,h=u.view,f=t?t.parentNode:h.panel.getRootNode(),g=h.store.getModel();if(e.copy)for(i=e.records,e.records=[],r=0,o=i.length;r<o;r++)(a=i[r]).isNode?e.records.push(a.copy(void 0,!0)):e.records.push(new g(Ext.apply({},a.data)));u.cancelExpand(),"before"===n?(s=f.insertBefore,l=[null,t],t=f):"after"===n?(t.nextSibling?(s=f.insertBefore,l=[null,t.nextSibling]):(s=f.appendChild,l=[null]),t=f):(t.isExpanded()||t.isLoading()||(d=!0),s=t.appendChild,l=[null]),c=function(){var n,i;for(Ext.suspendLayouts(),r=0,o=e.records.length;r<o;r++)(a=e.records[r]).isNode||(a=a.isModel?new g(a.data,a.getId()):new g(a),e.records[r]=a),l[0]=a,s.apply(t,l);if(u.sortOnDrop&&t.sort(t.getTreeStore().getSorters().sortFn),Ext.resumeLayouts(!0),a=e.records[0],h.ownerGrid.ensureVisible(a),h.getNavigationModel().setPosition(a),Ext.enableFx&&u.dropHighlight)for(n=u.dropHighlightColor,r=0;r<o;r++)(i=h.getNode(e.records[r]))&&Ext.fly(i).highlight(n)},d?t.expand(!1,c):t.isLoading()?t.on({expand:c,delay:1,single:!0}):c()}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,displayField:"text",init:function(e){Ext.applyIf(e,{copy:this.copy,allowCopy:this.allowCopy}),e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){var e=this;e.dragZone=e.dropZone=Ext.destroy(e.dragZone,e.dropZone),e.callParent()},onViewRender:function(e){var t,n=this;(e.ownerCt.ownerGrid||e.ownerCt).relayEvents(e,["beforedrop","drop"]),n.enableDrag&&(n.containerScroll&&(t=e.getEl()),n.dragZone=new Ext.tree.ViewDragZone(Ext.apply({view:e,ddGroup:n.dragGroup||n.ddGroup,dragText:n.dragText,displayField:n.displayField,repairHighlightColor:n.nodeHighlightColor,repairHighlight:n.nodeHighlightOnRepair,scrollEl:t},n.dragZone))),n.enableDrop&&(n.dropZone=new Ext.tree.ViewDropZone(Ext.apply({view:e,ddGroup:n.dropGroup||n.ddGroup,allowContainerDrops:n.allowContainerDrops,appendOnly:n.appendOnly,allowParentInserts:n.allowParentInserts,expandDelay:n.expandDelay,dropHighlightColor:n.nodeHighlightColor,dropHighlight:n.nodeHighlightOnDrop,sortOnDrop:n.sortOnDrop,containerScroll:n.containerScroll},n.dropZone)))}},function(){var e=this.prototype;e.nodeHighlightOnDrop=e.nodeHighlightOnRepair=Ext.enableFx}),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(e,t){var n=arguments,i=arguments.length,r=i>2?n[2]:null,o=i>3?n[3]:"/",a=i>4?n[4]:null,s=i>5&&n[5];document.cookie=e+"="+escape(t)+(null===r?"":"; expires="+r.toUTCString())+(null===o?"":"; path="+o)+(null===a?"":"; domain="+a)+(!0===s?"; secure":"")},get:function(e){var t,n,i,r=document.cookie.split("; "),o=r.length;for(n=0;n<o;++n)if((t=r[n].split("="))[0]===e)return(i=t[1])?unescape(i):"";return null},clear:function(e,t){this.get(e)&&(t=t||"/",document.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+t)}}),Ext.define("Ext.view.MultiSelectorSearch",{extend:"Ext.panel.Panel",xtype:"multiselector-search",layout:"fit",floating:!0,alignOnScroll:!1,minWidth:200,minHeight:200,border:!0,keyMap:{scope:"this",ESC:"hide"},platformConfig:{desktop:{resizable:!0},"tablet && rtl":{resizable:{handles:"sw"}},"tablet && !rtl":{resizable:{handles:"se"}}},defaultListenerScope:!0,referenceHolder:!0,searchText:"Search...",initComponent:function(){var e,t,n,i,r=this,o=r.owner,a=r.makeItems();for(r.dockedItems=r.makeDockedItems(),r.items=a,i=Ext.data.StoreManager.lookup(r.store),e=a.length;e--;)if("grid"===(t=a[e]).xtype){t.store=i,t.isSearchGrid=!0,t.selModel=t.selModel||{type:"checkboxmodel",pruneRemoved:!1,listeners:{selectionchange:"onSelectionChange"}},Ext.merge(t,r.grid),t.columns||(t.hideHeaders=!0,t.columns=[{flex:1,dataIndex:r.field}]);break}if(r.callParent(),n=r.getOwnerStore().getRange(),!o.convertSelectionRecord.$nullFn)for(e=n.length;e--;)n[e]=o.convertSelectionRecord(n[e]);i.isLoading()||0===i.loadCount&&!i.getCount()?i.on("load",function(){r.destroyed||r.selectRecords(n)},null,{single:!0}):r.selectRecords(n)},getOwnerStore:function(){return this.owner.getStore()},afterShow:function(){if(this.callParent(arguments),!this.invocationEvent||"touch"!==this.invocationEvent.pointerType){var e=this.lookupReference("searchField");e&&e.focus()}this.invocationEvent=null},getSearchStore:function(){return this.lookupReference("searchGrid").getStore()},makeDockedItems:function(){return[{xtype:"textfield",reference:"searchField",dock:"top",hideFieldLabel:!0,emptyText:this.searchText,triggers:{clear:{cls:Ext.baseCSSPrefix+"form-clear-trigger",handler:"onClearSearch",hidden:!0}},listeners:{specialKey:"onSpecialKey",change:{fn:"onSearchChange",buffer:300}}}]},onSpecialKey:function(e,t){t.getKey()===t.TAB&&t.shiftKey&&(t.preventDefault(),this.owner.searchTool.focus())},makeItems:function(){return[{xtype:"grid",reference:"searchGrid",trailingBufferZone:2,leadingBufferZone:2,viewConfig:{deferEmptyText:!1,emptyText:"No results."}}]},getMatchingRecords:function(e){var t,n,i,r=this.lookupReference("searchGrid").getStore(),o=[];for(t=0,i=(e=Ext.isArray(e)?e:[e]).length;t<i;t++)(n=r.getById(e[t].getId()))&&o.push(n);return o},selectRecords:function(e){var t=this.lookupReference("searchGrid");return e=this.getMatchingRecords(e),t.getSelectionModel().select(e)},deselectRecords:function(e){var t=this.lookupReference("searchGrid");return e=this.getMatchingRecords(e),t.getSelectionModel().deselect(e)},search:function(e){var t=this.searchFilter,n=this.getSearchStore().getFilters();e?(n.beginUpdate(),t?t.setValue(e):this.searchFilter=t=new Ext.util.Filter({id:"search",property:this.field,value:e}),n.add(t),n.endUpdate()):t&&n.remove(t)},privates:{onClearSearch:function(){var e=this.lookupReference("searchField");e.setValue(null),e.focus()},onSearchChange:function(e){var t=e.getValue();e.getTrigger("clear").setHidden(!t),this.search(t)},onSelectionChange:function(e,t){var n,i,r,o,a=this.owner,s=a.getStore().data,l=0,d={};for(i=t.length;i--;)d[r=(o=t[i]).id]=o,s.containsKey(r)||(n||(n=[])).push(a.convertSearchRecord(o));for(i=s.length;i--;)d[(o=s.getAt(i)).id]||(l||(l=[])).push(o);(n||l)&&s.splice(s.length,l,n)}}}),Ext.define("Ext.view.MultiSelector",{extend:"Ext.grid.Panel",xtype:"multiselector",config:{search:{xtype:"multiselector-search",width:200,height:200,store:{autoLoad:!0}}},fieldName:"name",fieldTitle:null,removeRowText:"✖",removeRowTip:"Remove this item",emptyText:"Nothing selected",addToolText:"Search for items to add",initComponent:function(){var e,t,n=this,i=n.emptyText,r=n.getStore(),o=n.getSearch(),a=n.fieldTitle;o||Ext.raise("The search configuration is required for the multi selector"),t=(e=o.store).isStore?e.getModel():e.model,r||(n.store={model:t}),i&&!n.viewConfig&&(n.viewConfig={deferEmptyText:!1,emptyText:i}),n.columns||(n.hideHeaders=!a,n.columns=[{text:a,dataIndex:n.fieldName,flex:1},n.makeRemoveRowColumn()]),n.callParent()},addTools:function(){var e=this;e.addTool({type:"plus",tooltip:e.addToolText,callback:"onShowSearch",scope:e}),e.searchTool=e.tools[e.tools.length-1]},convertSearchRecord:Ext.identityFn,convertSelectionRecord:Ext.identityFn,makeRemoveRowColumn:function(){return{width:32,align:"center",menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"multiselector-remove",processEvent:this.processRowEvent.bind(this),renderer:this.renderRemoveRow,updater:Ext.emptyFn,scope:this}},processRowEvent:function(e,t,n,i,r,o,a,s){var l=Ext.getBody();"click"!==o.type&&("keydown"!==o.type||o.keyCode!==o.SPACE&&o.keyCode!==o.ENTER)||(l.suspendFocusEvents(),this.store.remove(a),l.resumeFocusEvents(),this.searchPopup&&this.searchPopup.deselectRecords(a))},renderRemoveRow:function(){return'<span data-qtip="'+this.removeRowTip+'" role="button" tabIndex="0">'+this.removeRowText+"</span>"},onFocusLeave:function(e){this.onDismissSearch(),this.callParent([e])},afterComponentLayout:function(e,t,n,i){var r=this.searchPopup;this.callParent([e,t,n,i]),r&&r.isVisible()&&r.showBy(this,this.popupAlign)},privates:{popupAlign:"tl-tr?",onGlobalScroll:function(e){this.owns(e.getElement())||this.onDismissSearch()},onDismissSearch:function(e){var t=this.searchPopup;!t||e&&(t.owns(e.getTarget())||this.owns(e.getTarget()))||(this.scrollListeners.destroy(),this.touchListeners.destroy(),t.hide())},onShowSearch:function(e,t,n){var i=this,r=i.searchPopup,o=i.getStore();r||(r=Ext.merge({owner:i,field:i.fieldName,floating:!0,alignOnScroll:!1},i.getSearch()),i.searchPopup=r=i.add(r),o.getCount()&&r.selectRecords(o.getRange())),r.invocationEvent=n,r.showBy(i,i.popupAlign),n&&"touch"===n.pointerType||r.lookupReference("searchField").focus(),i.scrollListeners=Ext.on({scroll:"onGlobalScroll",scope:i,destroyable:!0}),i.touchListeners=Ext.getDoc().on({translate:!1,touchstart:i.onDismissSearch,scope:i,delegated:!1,destroyable:!0})}}}),Ext.define("Ext.window.Toast",{extend:"Ext.window.Window",xtype:"toast",isToast:!0,cls:Ext.baseCSSPrefix+"toast",bodyPadding:10,autoClose:!0,plain:!1,draggable:!1,resizable:!1,shadow:!1,focus:Ext.emptyFn,anchor:null,useXAxis:!1,align:"t",alwaysOnTop:!0,spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:500,slideBackDuration:500,hideDuration:500,autoCloseDelay:3e3,stickOnClick:!1,stickWhileHover:!0,closeOnMouseDown:!1,closable:!1,focusable:!1,isHiding:!1,isFading:!1,destroyAfterHide:!1,closeOnMouseOut:!1,xPos:0,yPos:0,constructor:function(e){void 0===(e=e||{}).animate&&(e.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){var e=this;e.autoClose&&null==e.closable&&(e.closable=!1),e.updateAlignment(e.align),e.setAnchor(e.anchor),e.callParent()},onRender:function(){var e=this;e.callParent(arguments),e.el.hover(e.onMouseEnter,e.onMouseLeave,e),e.closeOnMouseDown&&Ext.getDoc().on("mousedown",e.onDocumentMousedown,e)},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(e){var t=this.alignmentProps,n=t[e],i=t.x[e];i&&this.useXAxis&&Ext.applyIf(this,i),Ext.applyIf(this,n)},getXposAlignedToAnchor:function(){var e=this,t=e.align,n=e.anchor,i=n&&n.el,r=e.el,o=0;return i&&i.dom&&(e.useXAxis?"br"===t||"tr"===t||"r"===t?(o+=i.getAnchorXY("r")[0],o-=r.getWidth()+e.paddingX):(o+=i.getAnchorXY("l")[0],o+=e.paddingX):o=r.getLeft()),o},getYposAlignedToAnchor:function(){var e=this,t=e.align,n=e.anchor,i=n&&n.el,r=e.el,o=0;return i&&i.dom&&(e.useXAxis?o=r.getTop():"br"===t||"bl"===t||"b"===t?(o+=i.getAnchorXY("b")[1],o-=r.getHeight()+e.paddingY):(o+=i.getAnchorXY("t")[1],o+=e.paddingY)),o},getXposAlignedToSibling:function(e){var t=this.align,n=this.el;return this.useXAxis?"tl"===t||"bl"===t||"l"===t?e.xPos+e.el.getWidth()+e.spacing:e.xPos-n.getWidth()-this.spacing:n.getLeft()},getYposAlignedToSibling:function(e){var t=this.align,n=this.el;return this.useXAxis?n.getTop():"tr"===t||"tl"===t||"t"===t?e.yPos+e.el.getHeight()+e.spacing:e.yPos-n.getHeight()-e.spacing},getToasts:function(){var e=this.anchor,t=this.anchorAlign,n=e.activeToasts||(e.activeToasts={});return n[t]||(n[t]=[])},setAnchor:function(e){var t;this.anchor=e="string"==typeof e?Ext.getCmp(e):e,e||(t=Ext.window.Toast,this.anchor=t.bodyAnchor||(t.bodyAnchor={el:Ext.getBody()}))},beforeShow:function(){var e=this;e.stickOnClick&&e.body.on("click",function(){e.cancelAutoClose()}),e.autoClose&&(e.closeTask||(e.closeTask=new Ext.util.DelayedTask(e.doAutoClose,e))),e.el.setX(-1e4),e.el.setOpacity(1)},afterShow:function(){var e,t,n,i,r=this,o=r.el;r.callParent(arguments),(t=(n=(e=r.getToasts()).length)&&e[n-1])?(o.alignTo(t.el,r.siblingAlignment,[0,0]),r.xPos=r.getXposAlignedToSibling(t),r.yPos=r.getYposAlignedToSibling(t)):(o.alignTo(r.anchor.el,r.anchorAlign,[r.paddingX*r.paddingFactorX,r.paddingY*r.paddingFactorY],!1),r.xPos=r.getXposAlignedToAnchor(),r.yPos=r.getYposAlignedToAnchor()),Ext.Array.include(e,r),r.enableAnimations?(i=o.getXY(),o.animate({from:{x:i[0],y:i[1]},to:{x:r.xPos,y:r.yPos,opacity:1},easing:r.slideInAnimation,duration:r.slideInDuration,dynamic:!0,callback:r.afterPositioned,scope:r})):(r.setLocalXY(r.xPos,r.yPos),r.afterPositioned())},afterPositioned:function(){var e=this;e.destroying||e.destroyed||!e.autoClose||e.closeTask.delay(e.autoCloseDelay)},onDocumentMousedown:function(e){this.isVisible()&&!this.owns(e.getTarget())&&this.hide()},slideBack:function(){var e=this,t=e.anchor,n=t&&t.el,i=e.el,r=e.getToasts(),o=Ext.Array.indexOf(r,e);!e.isHiding&&i&&i.dom&&n&&n.isVisible()&&(o?(e.xPos=e.getXposAlignedToSibling(r[o-1]),e.yPos=e.getYposAlignedToSibling(r[o-1])):(e.xPos=e.getXposAlignedToAnchor(),e.yPos=e.getYposAlignedToAnchor()),e.stopAnimation(),e.enableAnimations&&i.animate({to:{x:e.xPos,y:e.yPos},easing:e.slideBackAnimation,duration:e.slideBackDuration,dynamic:!0}))},update:function(){var e=this;e.isVisible()&&(e.isHiding=!0,e.hide()),e.callParent(arguments),e.show()},cancelAutoClose:function(){var e=this.closeTask;e&&e.cancel()},doAutoClose:function(){this.stickWhileHover&&this.mouseIsOver?this.closeOnMouseOut=!0:this.close()},doDestroy:function(){this.removeFromAnchor(),this.cancelAutoClose(),this.callParent()},onMouseEnter:function(){this.mouseIsOver=!0},onMouseLeave:function(){this.mouseIsOver=!1,this.closeOnMouseOut&&(this.closeOnMouseOut=!1,this.close())},removeFromAnchor:function(){var e,t;if(this.anchor&&(e=this.getToasts(),-1!==(t=Ext.Array.indexOf(e,this))))for(Ext.Array.erase(e,t,1);t<e.length;t++)e[t].slideBack()},getFocusEl:Ext.emptyFn,hide:function(){var e=this,t=e.el;return e.cancelAutoClose(),e.isHiding?e.isFading||(e.callParent(arguments),e.isHiding=!1):(e.isHiding=!0,e.isFading=!0,e.cancelAutoClose(),t&&(!e.enableAnimations||e.destroying||e.destroyed?(e.isFading=!1,e.hide(e.animateTarget,e.doClose,e)):t.fadeOut({opacity:0,easing:"easeIn",duration:e.hideDuration,listeners:{scope:e,afteranimate:function(){var e=this;e.isFading=!1,e.destroying||e.destroyed||e.hide(e.animateTarget,e.doClose,e)}}}))),e}},function(e){Ext.toast=function(t,n,i,r){var o,a=t;return Ext.isString(t)&&(a={title:n,html:t,iconCls:r},i&&(a.align=i)),(o=new e(a)).show(),o}})}).call(this,__webpack_require__(1).setImmediate,__webpack_require__(1).clearImmediate)},function(e,t,n){n(11),n(8),n(7),n(6),n(5),n(4),n(3),e.exports=n(2)}]);